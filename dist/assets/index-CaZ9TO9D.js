function Uy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wy={exports:{}},bd={},Vy={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=Symbol.for("react.element"),xT=Symbol.for("react.portal"),mT=Symbol.for("react.fragment"),wT=Symbol.for("react.strict_mode"),vT=Symbol.for("react.profiler"),yT=Symbol.for("react.provider"),_T=Symbol.for("react.context"),ET=Symbol.for("react.forward_ref"),CT=Symbol.for("react.suspense"),AT=Symbol.for("react.memo"),ST=Symbol.for("react.lazy"),Km=Symbol.iterator;function TT(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var Hy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zy=Object.assign,Gy={};function Xl(e,t,r){this.props=e,this.context=t,this.refs=Gy,this.updater=r||Hy}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xy(){}Xy.prototype=Xl.prototype;function op(e,t,r){this.props=e,this.context=t,this.refs=Gy,this.updater=r||Hy}var lp=op.prototype=new Xy;lp.constructor=op;zy(lp,Xl.prototype);lp.isPureReactComponent=!0;var qm=Array.isArray,$y=Object.prototype.hasOwnProperty,cp={current:null},Yy={key:!0,ref:!0,__self:!0,__source:!0};function Ky(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)$y.call(t,n)&&!Yy.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var g=Array(u),p=0;p<u;p++)g[p]=arguments[p+2];i.children=g}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:$0,type:e,key:a,ref:l,props:i,_owner:cp.current}}function kT(e,t){return{$$typeof:$0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function up(e){return typeof e=="object"&&e!==null&&e.$$typeof===$0}function bT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zm=/\/+/g;function kh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bT(""+e.key):t.toString(36)}function tf(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case $0:case xT:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+kh(l,0):n,qm(i)?(r="",e!=null&&(r=e.replace(Zm,"$&/")+"/"),tf(i,t,r,"",function(p){return p})):i!=null&&(up(i)&&(i=kT(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Zm,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",qm(e))for(var u=0;u<e.length;u++){a=e[u];var g=n+kh(a,u);l+=tf(a,t,r,g,i)}else if(g=TT(e),typeof g=="function")for(e=g.call(e),u=0;!(a=e.next()).done;)a=a.value,g=n+kh(a,u++),l+=tf(a,t,r,g,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Tu(e,t,r){if(e==null)return e;var n=[],i=0;return tf(e,n,"","",function(a){return t.call(r,a,i++)}),n}function IT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},rf={transition:null},RT={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:rf,ReactCurrentOwner:cp};function qy(){throw Error("act(...) is not supported in production builds of React.")}Tt.Children={map:Tu,forEach:function(e,t,r){Tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!up(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tt.Component=Xl;Tt.Fragment=mT;Tt.Profiler=vT;Tt.PureComponent=op;Tt.StrictMode=wT;Tt.Suspense=CT;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RT;Tt.act=qy;Tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zy({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=cp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(g in t)$y.call(t,g)&&!Yy.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&u!==void 0?u[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){u=Array(g);for(var p=0;p<g;p++)u[p]=arguments[p+2];n.children=u}return{$$typeof:$0,type:e.type,key:i,ref:a,props:n,_owner:l}};Tt.createContext=function(e){return e={$$typeof:_T,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yT,_context:e},e.Consumer=e};Tt.createElement=Ky;Tt.createFactory=function(e){var t=Ky.bind(null,e);return t.type=e,t};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(e){return{$$typeof:ET,render:e}};Tt.isValidElement=up;Tt.lazy=function(e){return{$$typeof:ST,_payload:{_status:-1,_result:e},_init:IT}};Tt.memo=function(e,t){return{$$typeof:AT,type:e,compare:t===void 0?null:t}};Tt.startTransition=function(e){var t=rf.transition;rf.transition={};try{e()}finally{rf.transition=t}};Tt.unstable_act=qy;Tt.useCallback=function(e,t){return Xn.current.useCallback(e,t)};Tt.useContext=function(e){return Xn.current.useContext(e)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};Tt.useEffect=function(e,t){return Xn.current.useEffect(e,t)};Tt.useId=function(){return Xn.current.useId()};Tt.useImperativeHandle=function(e,t,r){return Xn.current.useImperativeHandle(e,t,r)};Tt.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};Tt.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};Tt.useMemo=function(e,t){return Xn.current.useMemo(e,t)};Tt.useReducer=function(e,t,r){return Xn.current.useReducer(e,t,r)};Tt.useRef=function(e){return Xn.current.useRef(e)};Tt.useState=function(e){return Xn.current.useState(e)};Tt.useSyncExternalStore=function(e,t,r){return Xn.current.useSyncExternalStore(e,t,r)};Tt.useTransition=function(){return Xn.current.useTransition()};Tt.version="18.3.1";Vy.exports=Tt;var ye=Vy.exports;const Zy=jy(ye),NT=Uy({__proto__:null,default:Zy},[ye]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT=ye,DT=Symbol.for("react.element"),FT=Symbol.for("react.fragment"),PT=Object.prototype.hasOwnProperty,MT=OT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BT={key:!0,ref:!0,__self:!0,__source:!0};function Qy(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)PT.call(t,n)&&!BT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:DT,type:e,key:a,ref:l,props:i,_owner:MT.current}}bd.Fragment=FT;bd.jsx=Qy;bd.jsxs=Qy;Wy.exports=bd;var R=Wy.exports,k1={},Jy={exports:{}},_i={},e_={exports:{}},t_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Ae,ne){var be=Ae.length;Ae.push(ne);e:for(;0<be;){var ce=be-1>>>1,B=Ae[ce];if(0<i(B,ne))Ae[ce]=ne,Ae[be]=B,be=ce;else break e}}function r(Ae){return Ae.length===0?null:Ae[0]}function n(Ae){if(Ae.length===0)return null;var ne=Ae[0],be=Ae.pop();if(be!==ne){Ae[0]=be;e:for(var ce=0,B=Ae.length,se=B>>>1;ce<se;){var K=2*(ce+1)-1,te=Ae[K],ae=K+1,De=Ae[ae];if(0>i(te,be))ae<B&&0>i(De,te)?(Ae[ce]=De,Ae[ae]=be,ce=ae):(Ae[ce]=te,Ae[K]=be,ce=K);else if(ae<B&&0>i(De,be))Ae[ce]=De,Ae[ae]=be,ce=ae;else break e}}return ne}function i(Ae,ne){var be=Ae.sortIndex-ne.sortIndex;return be!==0?be:Ae.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var g=[],p=[],m=1,v=null,_=3,E=!1,A=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Ae){for(var ne=r(p);ne!==null;){if(ne.callback===null)n(p);else if(ne.startTime<=Ae)n(p),ne.sortIndex=ne.expirationTime,t(g,ne);else break;ne=r(p)}}function L(Ae){if(C=!1,S(Ae),!A)if(r(g)!==null)A=!0,Be(q);else{var ne=r(p);ne!==null&&Ce(L,ne.startTime-Ae)}}function q(Ae,ne){A=!1,C&&(C=!1,b(Z),Z=-1),E=!0;var be=_;try{for(S(ne),v=r(g);v!==null&&(!(v.expirationTime>ne)||Ae&&!le());){var ce=v.callback;if(typeof ce=="function"){v.callback=null,_=v.priorityLevel;var B=ce(v.expirationTime<=ne);ne=e.unstable_now(),typeof B=="function"?v.callback=B:v===r(g)&&n(g),S(ne)}else n(g);v=r(g)}if(v!==null)var se=!0;else{var K=r(p);K!==null&&Ce(L,K.startTime-ne),se=!1}return se}finally{v=null,_=be,E=!1}}var G=!1,F=null,Z=-1,W=5,oe=-1;function le(){return!(e.unstable_now()-oe<W)}function Q(){if(F!==null){var Ae=e.unstable_now();oe=Ae;var ne=!0;try{ne=F(!0,Ae)}finally{ne?_e():(G=!1,F=null)}}else G=!1}var _e;if(typeof k=="function")_e=function(){k(Q)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ee=Se.port2;Se.port1.onmessage=Q,_e=function(){ee.postMessage(null)}}else _e=function(){I(Q,0)};function Be(Ae){F=Ae,G||(G=!0,_e())}function Ce(Ae,ne){Z=I(function(){Ae(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ae){Ae.callback=null},e.unstable_continueExecution=function(){A||E||(A=!0,Be(q))},e.unstable_forceFrameRate=function(Ae){0>Ae||125<Ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Ae?Math.floor(1e3/Ae):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(Ae){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var be=_;_=ne;try{return Ae()}finally{_=be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ae,ne){switch(Ae){case 1:case 2:case 3:case 4:case 5:break;default:Ae=3}var be=_;_=Ae;try{return ne()}finally{_=be}},e.unstable_scheduleCallback=function(Ae,ne,be){var ce=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?ce+be:ce):be=ce,Ae){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=be+B,Ae={id:m++,callback:ne,priorityLevel:Ae,startTime:be,expirationTime:B,sortIndex:-1},be>ce?(Ae.sortIndex=be,t(p,Ae),r(g)===null&&Ae===r(p)&&(C?(b(Z),Z=-1):C=!0,Ce(L,be-ce))):(Ae.sortIndex=B,t(g,Ae),A||E||(A=!0,Be(q))),Ae},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(Ae){var ne=_;return function(){var be=_;_=ne;try{return Ae.apply(this,arguments)}finally{_=be}}}})(t_);e_.exports=t_;var LT=e_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT=ye,wi=LT;function Fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r_=new Set,l0={};function bo(e,t){Il(e,t),Il(e+"Capture",t)}function Il(e,t){for(l0[e]=t,e=0;e<t.length;e++)r_.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b1=Object.prototype.hasOwnProperty,jT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qm={},Jm={};function WT(e){return b1.call(Jm,e)?!0:b1.call(Qm,e)?!1:jT.test(e)?Jm[e]=!0:(Qm[e]=!0,!1)}function VT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HT(e,t,r,n){if(t===null||typeof t>"u"||VT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $n(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wn[e]=new $n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wn[t]=new $n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wn[e]=new $n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wn[e]=new $n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wn[e]=new $n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wn[e]=new $n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wn[e]=new $n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wn[e]=new $n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wn[e]=new $n(e,5,!1,e.toLowerCase(),null,!1,!1)});var fp=/[\-:]([a-z])/g;function dp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fp,dp);wn[t]=new $n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fp,dp);wn[t]=new $n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fp,dp);wn[t]=new $n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wn[e]=new $n(e,1,!1,e.toLowerCase(),null,!1,!1)});wn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wn[e]=new $n(e,1,!1,e.toLowerCase(),null,!0,!0)});function hp(e,t,r,n){var i=wn.hasOwnProperty(t)?wn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HT(t,r,i,n)&&(r=null),n||i===null?WT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ys=UT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),el=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),n_=Symbol.for("react.provider"),i_=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),N1=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),s_=Symbol.for("react.offscreen"),e2=Symbol.iterator;function xc(e){return e===null||typeof e!="object"?null:(e=e2&&e[e2]||e["@@iterator"],typeof e=="function"?e:null)}var _r=Object.assign,bh;function bc(e){if(bh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bh=t&&t[1]||""}return`
`+bh+e}var Ih=!1;function Rh(e,t){if(!e||Ih)return"";Ih=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==a[u]){var g=`
`+i[l].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=l&&0<=u);break}}}finally{Ih=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bc(e):""}function zT(e){switch(e.tag){case 5:return bc(e.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return e=Rh(e.type,!1),e;case 11:return e=Rh(e.type.render,!1),e;case 1:return e=Rh(e.type,!0),e;default:return""}}function O1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tl:return"Fragment";case el:return"Portal";case I1:return"Profiler";case gp:return"StrictMode";case R1:return"Suspense";case N1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i_:return(e.displayName||"Context")+".Consumer";case n_:return(e._context.displayName||"Context")+".Provider";case pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xp:return t=e.displayName||null,t!==null?t:O1(e.type)||"Memo";case aa:t=e._payload,e=e._init;try{return O1(e(t))}catch{}}return null}function GT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O1(t);case 8:return t===gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Da(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function a_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XT(e){var t=a_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bu(e){e._valueTracker||(e._valueTracker=XT(e))}function o_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=a_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function D1(e,t){var r=t.checked;return _r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function t2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Da(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l_(e,t){t=t.checked,t!=null&&hp(e,"checked",t,!1)}function F1(e,t){l_(e,t);var r=Da(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P1(e,t.type,r):t.hasOwnProperty("defaultValue")&&P1(e,t.type,Da(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function r2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function P1(e,t,r){(t!=="number"||xf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ic=Array.isArray;function xl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Da(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function M1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return _r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function n2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Fe(92));if(Ic(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Da(r)}}function c_(e,t){var r=Da(t.value),n=Da(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function i2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Iu,f_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function c0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$T=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(e){$T.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bc[t]=Bc[e]})});function d_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bc.hasOwnProperty(e)&&Bc[e]?(""+t).trim():t+"px"}function h_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=d_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var YT=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function L1(e,t){if(t){if(YT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Fe(62))}}function U1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j1=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W1=null,ml=null,wl=null;function s2(e){if(e=q0(e)){if(typeof W1!="function")throw Error(Fe(280));var t=e.stateNode;t&&(t=Dd(t),W1(e.stateNode,e.type,t))}}function g_(e){ml?wl?wl.push(e):wl=[e]:ml=e}function p_(){if(ml){var e=ml,t=wl;if(wl=ml=null,s2(e),t)for(e=0;e<t.length;e++)s2(t[e])}}function x_(e,t){return e(t)}function m_(){}var Nh=!1;function w_(e,t,r){if(Nh)return e(t,r);Nh=!0;try{return x_(e,t,r)}finally{Nh=!1,(ml!==null||wl!==null)&&(m_(),p_())}}function u0(e,t){var r=e.stateNode;if(r===null)return null;var n=Dd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Fe(231,t,typeof r));return r}var V1=!1;if(js)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){V1=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{V1=!1}function KT(e,t,r,n,i,a,l,u,g){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(m){this.onError(m)}}var Lc=!1,mf=null,wf=!1,H1=null,qT={onError:function(e){Lc=!0,mf=e}};function ZT(e,t,r,n,i,a,l,u,g){Lc=!1,mf=null,KT.apply(qT,arguments)}function QT(e,t,r,n,i,a,l,u,g){if(ZT.apply(this,arguments),Lc){if(Lc){var p=mf;Lc=!1,mf=null}else throw Error(Fe(198));wf||(wf=!0,H1=p)}}function Io(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function v_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a2(e){if(Io(e)!==e)throw Error(Fe(188))}function JT(e){var t=e.alternate;if(!t){if(t=Io(e),t===null)throw Error(Fe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return a2(i),e;if(a===n)return a2(i),t;a=a.sibling}throw Error(Fe(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,u=i.child;u;){if(u===r){l=!0,r=i,n=a;break}if(u===n){l=!0,n=i,r=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===r){l=!0,r=a,n=i;break}if(u===n){l=!0,n=a,r=i;break}u=u.sibling}if(!l)throw Error(Fe(189))}}if(r.alternate!==n)throw Error(Fe(190))}if(r.tag!==3)throw Error(Fe(188));return r.stateNode.current===r?e:t}function y_(e){return e=JT(e),e!==null?__(e):null}function __(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=__(e);if(t!==null)return t;e=e.sibling}return null}var E_=wi.unstable_scheduleCallback,o2=wi.unstable_cancelCallback,e8=wi.unstable_shouldYield,t8=wi.unstable_requestPaint,Fr=wi.unstable_now,r8=wi.unstable_getCurrentPriorityLevel,wp=wi.unstable_ImmediatePriority,C_=wi.unstable_UserBlockingPriority,vf=wi.unstable_NormalPriority,n8=wi.unstable_LowPriority,A_=wi.unstable_IdlePriority,Id=null,vs=null;function i8(e){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Id,e,void 0,(e.current.flags&128)===128)}catch{}}var ns=Math.clz32?Math.clz32:o8,s8=Math.log,a8=Math.LN2;function o8(e){return e>>>=0,e===0?32:31-(s8(e)/a8|0)|0}var Ru=64,Nu=4194304;function Rc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var u=l&~i;u!==0?n=Rc(u):(a&=l,a!==0&&(n=Rc(a)))}else l=r&~i,l!==0?n=Rc(l):a!==0&&(n=Rc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ns(t),i=1<<r,n|=e[r],t&=~i;return n}function l8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-ns(a),u=1<<l,g=i[l];g===-1?(!(u&r)||u&n)&&(i[l]=l8(u,t)):g<=t&&(e.expiredLanes|=u),a&=~u}}function z1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function S_(){var e=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),e}function Oh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Y0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ns(t),e[t]=r}function u8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ns(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function vp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ns(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var $t=0;function T_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k_,yp,b_,I_,R_,G1=!1,Ou=[],va=null,ya=null,_a=null,f0=new Map,d0=new Map,la=[],f8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l2(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":f0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":d0.delete(t.pointerId)}}function wc(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=q0(t),t!==null&&yp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function d8(e,t,r,n,i){switch(t){case"focusin":return va=wc(va,e,t,r,n,i),!0;case"dragenter":return ya=wc(ya,e,t,r,n,i),!0;case"mouseover":return _a=wc(_a,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return f0.set(a,wc(f0.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,d0.set(a,wc(d0.get(a)||null,e,t,r,n,i)),!0}return!1}function N_(e){var t=ro(e.target);if(t!==null){var r=Io(t);if(r!==null){if(t=r.tag,t===13){if(t=v_(r),t!==null){e.blockedOn=t,R_(e.priority,function(){b_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=X1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);j1=n,r.target.dispatchEvent(n),j1=null}else return t=q0(r),t!==null&&yp(t),e.blockedOn=r,!1;t.shift()}return!0}function c2(e,t,r){nf(e)&&r.delete(t)}function h8(){G1=!1,va!==null&&nf(va)&&(va=null),ya!==null&&nf(ya)&&(ya=null),_a!==null&&nf(_a)&&(_a=null),f0.forEach(c2),d0.forEach(c2)}function vc(e,t){e.blockedOn===t&&(e.blockedOn=null,G1||(G1=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,h8)))}function h0(e){function t(i){return vc(i,e)}if(0<Ou.length){vc(Ou[0],e);for(var r=1;r<Ou.length;r++){var n=Ou[r];n.blockedOn===e&&(n.blockedOn=null)}}for(va!==null&&vc(va,e),ya!==null&&vc(ya,e),_a!==null&&vc(_a,e),f0.forEach(t),d0.forEach(t),r=0;r<la.length;r++)n=la[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)N_(r),r.blockedOn===null&&la.shift()}var vl=Ys.ReactCurrentBatchConfig,_f=!0;function g8(e,t,r,n){var i=$t,a=vl.transition;vl.transition=null;try{$t=1,_p(e,t,r,n)}finally{$t=i,vl.transition=a}}function p8(e,t,r,n){var i=$t,a=vl.transition;vl.transition=null;try{$t=4,_p(e,t,r,n)}finally{$t=i,vl.transition=a}}function _p(e,t,r,n){if(_f){var i=X1(e,t,r,n);if(i===null)Vh(e,t,n,Ef,r),l2(e,n);else if(d8(i,e,t,r,n))n.stopPropagation();else if(l2(e,n),t&4&&-1<f8.indexOf(e)){for(;i!==null;){var a=q0(i);if(a!==null&&k_(a),a=X1(e,t,r,n),a===null&&Vh(e,t,n,Ef,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Vh(e,t,n,null,r)}}var Ef=null;function X1(e,t,r,n){if(Ef=null,e=mp(n),e=ro(e),e!==null)if(t=Io(e),t===null)e=null;else if(r=t.tag,r===13){if(e=v_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ef=e,null}function O_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r8()){case wp:return 1;case C_:return 4;case vf:case n8:return 16;case A_:return 536870912;default:return 16}default:return 16}}var fa=null,Ep=null,sf=null;function D_(){if(sf)return sf;var e,t=Ep,r=t.length,n,i="value"in fa?fa.value:fa.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return sf=i.slice(e,1<n?1-n:void 0)}function af(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Du(){return!0}function u2(){return!1}function Ei(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Du:u2,this.isPropagationStopped=u2,this}return _r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),t}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cp=Ei($l),K0=_r({},$l,{view:0,detail:0}),x8=Ei(K0),Dh,Fh,yc,Rd=_r({},K0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yc&&(yc&&e.type==="mousemove"?(Dh=e.screenX-yc.screenX,Fh=e.screenY-yc.screenY):Fh=Dh=0,yc=e),Dh)},movementY:function(e){return"movementY"in e?e.movementY:Fh}}),f2=Ei(Rd),m8=_r({},Rd,{dataTransfer:0}),w8=Ei(m8),v8=_r({},K0,{relatedTarget:0}),Ph=Ei(v8),y8=_r({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),_8=Ei(y8),E8=_r({},$l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C8=Ei(E8),A8=_r({},$l,{data:0}),d2=Ei(A8),S8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k8[e])?!!t[e]:!1}function Ap(){return b8}var I8=_r({},K0,{key:function(e){if(e.key){var t=S8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=af(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(e){return e.type==="keypress"?af(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?af(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),R8=Ei(I8),N8=_r({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h2=Ei(N8),O8=_r({},K0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),D8=Ei(O8),F8=_r({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),P8=Ei(F8),M8=_r({},Rd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B8=Ei(M8),L8=[9,13,27,32],Sp=js&&"CompositionEvent"in window,Uc=null;js&&"documentMode"in document&&(Uc=document.documentMode);var U8=js&&"TextEvent"in window&&!Uc,F_=js&&(!Sp||Uc&&8<Uc&&11>=Uc),g2=" ",p2=!1;function P_(e,t){switch(e){case"keyup":return L8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function j8(e,t){switch(e){case"compositionend":return M_(t);case"keypress":return t.which!==32?null:(p2=!0,g2);case"textInput":return e=t.data,e===g2&&p2?null:e;default:return null}}function W8(e,t){if(rl)return e==="compositionend"||!Sp&&P_(e,t)?(e=D_(),sf=Ep=fa=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F_&&t.locale!=="ko"?null:t.data;default:return null}}var V8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V8[e.type]:t==="textarea"}function B_(e,t,r,n){g_(n),t=Cf(t,"onChange"),0<t.length&&(r=new Cp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jc=null,g0=null;function H8(e){Y_(e,0)}function Nd(e){var t=sl(e);if(o_(t))return e}function z8(e,t){if(e==="change")return t}var L_=!1;if(js){var Mh;if(js){var Bh="oninput"in document;if(!Bh){var m2=document.createElement("div");m2.setAttribute("oninput","return;"),Bh=typeof m2.oninput=="function"}Mh=Bh}else Mh=!1;L_=Mh&&(!document.documentMode||9<document.documentMode)}function w2(){jc&&(jc.detachEvent("onpropertychange",U_),g0=jc=null)}function U_(e){if(e.propertyName==="value"&&Nd(g0)){var t=[];B_(t,g0,e,mp(e)),w_(H8,t)}}function G8(e,t,r){e==="focusin"?(w2(),jc=t,g0=r,jc.attachEvent("onpropertychange",U_)):e==="focusout"&&w2()}function X8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nd(g0)}function $8(e,t){if(e==="click")return Nd(t)}function Y8(e,t){if(e==="input"||e==="change")return Nd(t)}function K8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var os=typeof Object.is=="function"?Object.is:K8;function p0(e,t){if(os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!b1.call(t,i)||!os(e[i],t[i]))return!1}return!0}function v2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y2(e,t){var r=v2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=v2(r)}}function j_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?j_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function W_(){for(var e=window,t=xf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xf(e.document)}return t}function Tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function q8(e){var t=W_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&j_(r.ownerDocument.documentElement,r)){if(n!==null&&Tp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=y2(r,a);var l=y2(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z8=js&&"documentMode"in document&&11>=document.documentMode,nl=null,$1=null,Wc=null,Y1=!1;function _2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Y1||nl==null||nl!==xf(n)||(n=nl,"selectionStart"in n&&Tp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wc&&p0(Wc,n)||(Wc=n,n=Cf($1,"onSelect"),0<n.length&&(t=new Cp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nl)))}function Fu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var il={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Lh={},V_={};js&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Od(e){if(Lh[e])return Lh[e];if(!il[e])return e;var t=il[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in V_)return Lh[e]=t[r];return e}var H_=Od("animationend"),z_=Od("animationiteration"),G_=Od("animationstart"),X_=Od("transitionend"),$_=new Map,E2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){$_.set(e,t),bo(t,[e])}for(var Uh=0;Uh<E2.length;Uh++){var jh=E2[Uh],Q8=jh.toLowerCase(),J8=jh[0].toUpperCase()+jh.slice(1);Wa(Q8,"on"+J8)}Wa(H_,"onAnimationEnd");Wa(z_,"onAnimationIteration");Wa(G_,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(X_,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ek=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function C2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,QT(n,t,void 0,e),e.currentTarget=null}function Y_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var u=n[l],g=u.instance,p=u.currentTarget;if(u=u.listener,g!==a&&i.isPropagationStopped())break e;C2(i,u,p),a=g}else for(l=0;l<n.length;l++){if(u=n[l],g=u.instance,p=u.currentTarget,u=u.listener,g!==a&&i.isPropagationStopped())break e;C2(i,u,p),a=g}}}if(wf)throw e=H1,wf=!1,H1=null,e}function hr(e,t){var r=t[J1];r===void 0&&(r=t[J1]=new Set);var n=e+"__bubble";r.has(n)||(K_(t,e,2,!1),r.add(n))}function Wh(e,t,r){var n=0;t&&(n|=4),K_(r,e,n,t)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function x0(e){if(!e[Pu]){e[Pu]=!0,r_.forEach(function(r){r!=="selectionchange"&&(ek.has(r)||Wh(r,!1,e),Wh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pu]||(t[Pu]=!0,Wh("selectionchange",!1,t))}}function K_(e,t,r,n){switch(O_(t)){case 1:var i=g8;break;case 4:i=p8;break;default:i=_p}r=i.bind(null,t,r,e),i=void 0,!V1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Vh(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var g=l.tag;if((g===3||g===4)&&(g=l.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;l=l.return}for(;u!==null;){if(l=ro(u),l===null)return;if(g=l.tag,g===5||g===6){n=a=l;continue e}u=u.parentNode}}n=n.return}w_(function(){var p=a,m=mp(r),v=[];e:{var _=$_.get(e);if(_!==void 0){var E=Cp,A=e;switch(e){case"keypress":if(af(r)===0)break e;case"keydown":case"keyup":E=R8;break;case"focusin":A="focus",E=Ph;break;case"focusout":A="blur",E=Ph;break;case"beforeblur":case"afterblur":E=Ph;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=f2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=w8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=D8;break;case H_:case z_:case G_:E=_8;break;case X_:E=P8;break;case"scroll":E=x8;break;case"wheel":E=B8;break;case"copy":case"cut":case"paste":E=C8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=h2}var C=(t&4)!==0,I=!C&&e==="scroll",b=C?_!==null?_+"Capture":null:_;C=[];for(var k=p,S;k!==null;){S=k;var L=S.stateNode;if(S.tag===5&&L!==null&&(S=L,b!==null&&(L=u0(k,b),L!=null&&C.push(m0(k,L,S)))),I)break;k=k.return}0<C.length&&(_=new E(_,A,null,r,m),v.push({event:_,listeners:C}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",_&&r!==j1&&(A=r.relatedTarget||r.fromElement)&&(ro(A)||A[Ws]))break e;if((E||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,E?(A=r.relatedTarget||r.toElement,E=p,A=A?ro(A):null,A!==null&&(I=Io(A),A!==I||A.tag!==5&&A.tag!==6)&&(A=null)):(E=null,A=p),E!==A)){if(C=f2,L="onMouseLeave",b="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(C=h2,L="onPointerLeave",b="onPointerEnter",k="pointer"),I=E==null?_:sl(E),S=A==null?_:sl(A),_=new C(L,k+"leave",E,r,m),_.target=I,_.relatedTarget=S,L=null,ro(m)===p&&(C=new C(b,k+"enter",A,r,m),C.target=S,C.relatedTarget=I,L=C),I=L,E&&A)t:{for(C=E,b=A,k=0,S=C;S;S=Ko(S))k++;for(S=0,L=b;L;L=Ko(L))S++;for(;0<k-S;)C=Ko(C),k--;for(;0<S-k;)b=Ko(b),S--;for(;k--;){if(C===b||b!==null&&C===b.alternate)break t;C=Ko(C),b=Ko(b)}C=null}else C=null;E!==null&&A2(v,_,E,C,!1),A!==null&&I!==null&&A2(v,I,A,C,!0)}}e:{if(_=p?sl(p):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var q=z8;else if(x2(_))if(L_)q=Y8;else{q=X8;var G=G8}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(q=$8);if(q&&(q=q(e,p))){B_(v,q,r,m);break e}G&&G(e,_,p),e==="focusout"&&(G=_._wrapperState)&&G.controlled&&_.type==="number"&&P1(_,"number",_.value)}switch(G=p?sl(p):window,e){case"focusin":(x2(G)||G.contentEditable==="true")&&(nl=G,$1=p,Wc=null);break;case"focusout":Wc=$1=nl=null;break;case"mousedown":Y1=!0;break;case"contextmenu":case"mouseup":case"dragend":Y1=!1,_2(v,r,m);break;case"selectionchange":if(Z8)break;case"keydown":case"keyup":_2(v,r,m)}var F;if(Sp)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else rl?P_(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(F_&&r.locale!=="ko"&&(rl||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&rl&&(F=D_()):(fa=m,Ep="value"in fa?fa.value:fa.textContent,rl=!0)),G=Cf(p,Z),0<G.length&&(Z=new d2(Z,e,null,r,m),v.push({event:Z,listeners:G}),F?Z.data=F:(F=M_(r),F!==null&&(Z.data=F)))),(F=U8?j8(e,r):W8(e,r))&&(p=Cf(p,"onBeforeInput"),0<p.length&&(m=new d2("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:p}),m.data=F))}Y_(v,t)})}function m0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Cf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=u0(e,r),a!=null&&n.unshift(m0(e,a,i)),a=u0(e,t),a!=null&&n.push(m0(e,a,i))),e=e.return}return n}function Ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function A2(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var u=r,g=u.alternate,p=u.stateNode;if(g!==null&&g===n)break;u.tag===5&&p!==null&&(u=p,i?(g=u0(r,a),g!=null&&l.unshift(m0(r,g,u))):i||(g=u0(r,a),g!=null&&l.push(m0(r,g,u)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var tk=/\r\n?/g,rk=/\u0000|\uFFFD/g;function S2(e){return(typeof e=="string"?e:""+e).replace(tk,`
`).replace(rk,"")}function Mu(e,t,r){if(t=S2(t),S2(e)!==t&&r)throw Error(Fe(425))}function Af(){}var K1=null,q1=null;function Z1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Q1=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,T2=typeof Promise=="function"?Promise:void 0,ik=typeof queueMicrotask=="function"?queueMicrotask:typeof T2<"u"?function(e){return T2.resolve(null).then(e).catch(sk)}:Q1;function sk(e){setTimeout(function(){throw e})}function Hh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),h0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);h0(t)}function Ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function k2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),ws="__reactFiber$"+Yl,w0="__reactProps$"+Yl,Ws="__reactContainer$"+Yl,J1="__reactEvents$"+Yl,ak="__reactListeners$"+Yl,ok="__reactHandles$"+Yl;function ro(e){var t=e[ws];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ws]||r[ws]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=k2(e);e!==null;){if(r=e[ws])return r;e=k2(e)}return t}e=r,r=e.parentNode}return null}function q0(e){return e=e[ws]||e[Ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Fe(33))}function Dd(e){return e[w0]||null}var eg=[],al=-1;function Va(e){return{current:e}}function pr(e){0>al||(e.current=eg[al],eg[al]=null,al--)}function ar(e,t){al++,eg[al]=e.current,e.current=t}var Fa={},Nn=Va(Fa),ri=Va(!1),go=Fa;function Rl(e,t){var r=e.type.contextTypes;if(!r)return Fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ni(e){return e=e.childContextTypes,e!=null}function Sf(){pr(ri),pr(Nn)}function b2(e,t,r){if(Nn.current!==Fa)throw Error(Fe(168));ar(Nn,t),ar(ri,r)}function q_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Fe(108,GT(e)||"Unknown",i));return _r({},r,n)}function Tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fa,go=Nn.current,ar(Nn,e),ar(ri,ri.current),!0}function I2(e,t,r){var n=e.stateNode;if(!n)throw Error(Fe(169));r?(e=q_(e,t,go),n.__reactInternalMemoizedMergedChildContext=e,pr(ri),pr(Nn),ar(Nn,e)):pr(ri),ar(ri,r)}var Rs=null,Fd=!1,zh=!1;function Z_(e){Rs===null?Rs=[e]:Rs.push(e)}function lk(e){Fd=!0,Z_(e)}function Ha(){if(!zh&&Rs!==null){zh=!0;var e=0,t=$t;try{var r=Rs;for($t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rs=null,Fd=!1}catch(i){throw Rs!==null&&(Rs=Rs.slice(e+1)),E_(wp,Ha),i}finally{$t=t,zh=!1}}return null}var ol=[],ll=0,kf=null,bf=0,Oi=[],Di=0,po=null,Ns=1,Os="";function Za(e,t){ol[ll++]=bf,ol[ll++]=kf,kf=e,bf=t}function Q_(e,t,r){Oi[Di++]=Ns,Oi[Di++]=Os,Oi[Di++]=po,po=e;var n=Ns;e=Os;var i=32-ns(n)-1;n&=~(1<<i),r+=1;var a=32-ns(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Ns=1<<32-ns(t)+i|r<<i|n,Os=a+e}else Ns=1<<a|r<<i|n,Os=e}function kp(e){e.return!==null&&(Za(e,1),Q_(e,1,0))}function bp(e){for(;e===kf;)kf=ol[--ll],ol[ll]=null,bf=ol[--ll],ol[ll]=null;for(;e===po;)po=Oi[--Di],Oi[Di]=null,Os=Oi[--Di],Oi[Di]=null,Ns=Oi[--Di],Oi[Di]=null}var xi=null,pi=null,mr=!1,Zi=null;function J_(e,t){var r=Fi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function R2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,pi=Ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=po!==null?{id:Ns,overflow:Os}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xi=e,pi=null,!0):!1;default:return!1}}function tg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rg(e){if(mr){var t=pi;if(t){var r=t;if(!R2(e,t)){if(tg(e))throw Error(Fe(418));t=Ea(r.nextSibling);var n=xi;t&&R2(e,t)?J_(n,r):(e.flags=e.flags&-4097|2,mr=!1,xi=e)}}else{if(tg(e))throw Error(Fe(418));e.flags=e.flags&-4097|2,mr=!1,xi=e}}}function N2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function Bu(e){if(e!==xi)return!1;if(!mr)return N2(e),mr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Z1(e.type,e.memoizedProps)),t&&(t=pi)){if(tg(e))throw eE(),Error(Fe(418));for(;t;)J_(e,t),t=Ea(t.nextSibling)}if(N2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pi=Ea(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pi=null}}else pi=xi?Ea(e.stateNode.nextSibling):null;return!0}function eE(){for(var e=pi;e;)e=Ea(e.nextSibling)}function Nl(){pi=xi=null,mr=!1}function Ip(e){Zi===null?Zi=[e]:Zi.push(e)}var ck=Ys.ReactCurrentBatchConfig;function _c(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Fe(309));var n=r.stateNode}if(!n)throw Error(Fe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var u=i.refs;l===null?delete u[a]:u[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(Fe(284));if(!r._owner)throw Error(Fe(290,e))}return e}function Lu(e,t){throw e=Object.prototype.toString.call(t),Error(Fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function O2(e){var t=e._init;return t(e._payload)}function tE(e){function t(b,k){if(e){var S=b.deletions;S===null?(b.deletions=[k],b.flags|=16):S.push(k)}}function r(b,k){if(!e)return null;for(;k!==null;)t(b,k),k=k.sibling;return null}function n(b,k){for(b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function i(b,k){return b=Ta(b,k),b.index=0,b.sibling=null,b}function a(b,k,S){return b.index=S,e?(S=b.alternate,S!==null?(S=S.index,S<k?(b.flags|=2,k):S):(b.flags|=2,k)):(b.flags|=1048576,k)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,k,S,L){return k===null||k.tag!==6?(k=Zh(S,b.mode,L),k.return=b,k):(k=i(k,S),k.return=b,k)}function g(b,k,S,L){var q=S.type;return q===tl?m(b,k,S.props.children,L,S.key):k!==null&&(k.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===aa&&O2(q)===k.type)?(L=i(k,S.props),L.ref=_c(b,k,S),L.return=b,L):(L=hf(S.type,S.key,S.props,null,b.mode,L),L.ref=_c(b,k,S),L.return=b,L)}function p(b,k,S,L){return k===null||k.tag!==4||k.stateNode.containerInfo!==S.containerInfo||k.stateNode.implementation!==S.implementation?(k=Qh(S,b.mode,L),k.return=b,k):(k=i(k,S.children||[]),k.return=b,k)}function m(b,k,S,L,q){return k===null||k.tag!==7?(k=co(S,b.mode,L,q),k.return=b,k):(k=i(k,S),k.return=b,k)}function v(b,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Zh(""+k,b.mode,S),k.return=b,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ku:return S=hf(k.type,k.key,k.props,null,b.mode,S),S.ref=_c(b,null,k),S.return=b,S;case el:return k=Qh(k,b.mode,S),k.return=b,k;case aa:var L=k._init;return v(b,L(k._payload),S)}if(Ic(k)||xc(k))return k=co(k,b.mode,S,null),k.return=b,k;Lu(b,k)}return null}function _(b,k,S,L){var q=k!==null?k.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return q!==null?null:u(b,k,""+S,L);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:return S.key===q?g(b,k,S,L):null;case el:return S.key===q?p(b,k,S,L):null;case aa:return q=S._init,_(b,k,q(S._payload),L)}if(Ic(S)||xc(S))return q!==null?null:m(b,k,S,L,null);Lu(b,S)}return null}function E(b,k,S,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return b=b.get(S)||null,u(k,b,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ku:return b=b.get(L.key===null?S:L.key)||null,g(k,b,L,q);case el:return b=b.get(L.key===null?S:L.key)||null,p(k,b,L,q);case aa:var G=L._init;return E(b,k,S,G(L._payload),q)}if(Ic(L)||xc(L))return b=b.get(S)||null,m(k,b,L,q,null);Lu(k,L)}return null}function A(b,k,S,L){for(var q=null,G=null,F=k,Z=k=0,W=null;F!==null&&Z<S.length;Z++){F.index>Z?(W=F,F=null):W=F.sibling;var oe=_(b,F,S[Z],L);if(oe===null){F===null&&(F=W);break}e&&F&&oe.alternate===null&&t(b,F),k=a(oe,k,Z),G===null?q=oe:G.sibling=oe,G=oe,F=W}if(Z===S.length)return r(b,F),mr&&Za(b,Z),q;if(F===null){for(;Z<S.length;Z++)F=v(b,S[Z],L),F!==null&&(k=a(F,k,Z),G===null?q=F:G.sibling=F,G=F);return mr&&Za(b,Z),q}for(F=n(b,F);Z<S.length;Z++)W=E(F,b,Z,S[Z],L),W!==null&&(e&&W.alternate!==null&&F.delete(W.key===null?Z:W.key),k=a(W,k,Z),G===null?q=W:G.sibling=W,G=W);return e&&F.forEach(function(le){return t(b,le)}),mr&&Za(b,Z),q}function C(b,k,S,L){var q=xc(S);if(typeof q!="function")throw Error(Fe(150));if(S=q.call(S),S==null)throw Error(Fe(151));for(var G=q=null,F=k,Z=k=0,W=null,oe=S.next();F!==null&&!oe.done;Z++,oe=S.next()){F.index>Z?(W=F,F=null):W=F.sibling;var le=_(b,F,oe.value,L);if(le===null){F===null&&(F=W);break}e&&F&&le.alternate===null&&t(b,F),k=a(le,k,Z),G===null?q=le:G.sibling=le,G=le,F=W}if(oe.done)return r(b,F),mr&&Za(b,Z),q;if(F===null){for(;!oe.done;Z++,oe=S.next())oe=v(b,oe.value,L),oe!==null&&(k=a(oe,k,Z),G===null?q=oe:G.sibling=oe,G=oe);return mr&&Za(b,Z),q}for(F=n(b,F);!oe.done;Z++,oe=S.next())oe=E(F,b,Z,oe.value,L),oe!==null&&(e&&oe.alternate!==null&&F.delete(oe.key===null?Z:oe.key),k=a(oe,k,Z),G===null?q=oe:G.sibling=oe,G=oe);return e&&F.forEach(function(Q){return t(b,Q)}),mr&&Za(b,Z),q}function I(b,k,S,L){if(typeof S=="object"&&S!==null&&S.type===tl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:e:{for(var q=S.key,G=k;G!==null;){if(G.key===q){if(q=S.type,q===tl){if(G.tag===7){r(b,G.sibling),k=i(G,S.props.children),k.return=b,b=k;break e}}else if(G.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===aa&&O2(q)===G.type){r(b,G.sibling),k=i(G,S.props),k.ref=_c(b,G,S),k.return=b,b=k;break e}r(b,G);break}else t(b,G);G=G.sibling}S.type===tl?(k=co(S.props.children,b.mode,L,S.key),k.return=b,b=k):(L=hf(S.type,S.key,S.props,null,b.mode,L),L.ref=_c(b,k,S),L.return=b,b=L)}return l(b);case el:e:{for(G=S.key;k!==null;){if(k.key===G)if(k.tag===4&&k.stateNode.containerInfo===S.containerInfo&&k.stateNode.implementation===S.implementation){r(b,k.sibling),k=i(k,S.children||[]),k.return=b,b=k;break e}else{r(b,k);break}else t(b,k);k=k.sibling}k=Qh(S,b.mode,L),k.return=b,b=k}return l(b);case aa:return G=S._init,I(b,k,G(S._payload),L)}if(Ic(S))return A(b,k,S,L);if(xc(S))return C(b,k,S,L);Lu(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,k!==null&&k.tag===6?(r(b,k.sibling),k=i(k,S),k.return=b,b=k):(r(b,k),k=Zh(S,b.mode,L),k.return=b,b=k),l(b)):r(b,k)}return I}var Ol=tE(!0),rE=tE(!1),If=Va(null),Rf=null,cl=null,Rp=null;function Np(){Rp=cl=Rf=null}function Op(e){var t=If.current;pr(If),e._currentValue=t}function ng(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yl(e,t){Rf=e,Rp=cl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ei=!0),e.firstContext=null)}function Bi(e){var t=e._currentValue;if(Rp!==e)if(e={context:e,memoizedValue:t,next:null},cl===null){if(Rf===null)throw Error(Fe(308));cl=e,Rf.dependencies={lanes:0,firstContext:e}}else cl=cl.next=e;return t}var no=null;function Dp(e){no===null?no=[e]:no.push(e)}function nE(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Dp(t)):(r.next=i.next,i.next=r),t.interleaved=r,Vs(e,n)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oa=!1;function Fp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Bt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Vs(e,r)}return i=n.interleaved,i===null?(t.next=t,Dp(n)):(t.next=i.next,i.next=t),n.interleaved=t,Vs(e,r)}function of(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vp(e,r)}}function D2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nf(e,t,r,n){var i=e.updateQueue;oa=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var g=u,p=g.next;g.next=null,l===null?a=p:l.next=p,l=g;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=p:u.next=p,m.lastBaseUpdate=g))}if(a!==null){var v=i.baseState;l=0,m=p=g=null,u=a;do{var _=u.lane,E=u.eventTime;if((n&_)===_){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,C=u;switch(_=t,E=r,C.tag){case 1:if(A=C.payload,typeof A=="function"){v=A.call(E,v,_);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,_=typeof A=="function"?A.call(E,v,_):A,_==null)break e;v=_r({},v,_);break e;case 2:oa=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else E={eventTime:E,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(p=m=E,g=v):m=m.next=E,l|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(g=v),i.baseState=g,i.firstBaseUpdate=p,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);mo|=l,e.lanes=l,e.memoizedState=v}}function F2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Fe(191,i));i.call(n)}}}var Z0={},ys=Va(Z0),v0=Va(Z0),y0=Va(Z0);function io(e){if(e===Z0)throw Error(Fe(174));return e}function Pp(e,t){switch(ar(y0,t),ar(v0,e),ar(ys,Z0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:B1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=B1(t,e)}pr(ys),ar(ys,t)}function Dl(){pr(ys),pr(v0),pr(y0)}function sE(e){io(y0.current);var t=io(ys.current),r=B1(t,e.type);t!==r&&(ar(v0,e),ar(ys,r))}function Mp(e){v0.current===e&&(pr(ys),pr(v0))}var vr=Va(0);function Of(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gh=[];function Bp(){for(var e=0;e<Gh.length;e++)Gh[e]._workInProgressVersionPrimary=null;Gh.length=0}var lf=Ys.ReactCurrentDispatcher,Xh=Ys.ReactCurrentBatchConfig,xo=0,yr=null,Gr=null,nn=null,Df=!1,Vc=!1,_0=0,uk=0;function Cn(){throw Error(Fe(321))}function Lp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!os(e[r],t[r]))return!1;return!0}function Up(e,t,r,n,i,a){if(xo=a,yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lf.current=e===null||e.memoizedState===null?gk:pk,e=r(n,i),Vc){a=0;do{if(Vc=!1,_0=0,25<=a)throw Error(Fe(301));a+=1,nn=Gr=null,t.updateQueue=null,lf.current=xk,e=r(n,i)}while(Vc)}if(lf.current=Ff,t=Gr!==null&&Gr.next!==null,xo=0,nn=Gr=yr=null,Df=!1,t)throw Error(Fe(300));return e}function jp(){var e=_0!==0;return _0=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?yr.memoizedState=nn=e:nn=nn.next=e,nn}function Li(){if(Gr===null){var e=yr.alternate;e=e!==null?e.memoizedState:null}else e=Gr.next;var t=nn===null?yr.memoizedState:nn.next;if(t!==null)nn=t,Gr=e;else{if(e===null)throw Error(Fe(310));Gr=e,e={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},nn===null?yr.memoizedState=nn=e:nn=nn.next=e}return nn}function E0(e,t){return typeof t=="function"?t(e):t}function $h(e){var t=Li(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var n=Gr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var u=l=null,g=null,p=a;do{var m=p.lane;if((xo&m)===m)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var v={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(u=g=v,l=n):g=g.next=v,yr.lanes|=m,mo|=m}p=p.next}while(p!==null&&p!==a);g===null?l=n:g.next=u,os(n,t.memoizedState)||(ei=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=g,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,yr.lanes|=a,mo|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yh(e){var t=Li(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);os(a,t.memoizedState)||(ei=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function aE(){}function oE(e,t){var r=yr,n=Li(),i=t(),a=!os(n.memoizedState,i);if(a&&(n.memoizedState=i,ei=!0),n=n.queue,Wp(uE.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||nn!==null&&nn.memoizedState.tag&1){if(r.flags|=2048,C0(9,cE.bind(null,r,n,i,t),void 0,null),an===null)throw Error(Fe(349));xo&30||lE(r,t,i)}return i}function lE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cE(e,t,r,n){t.value=r,t.getSnapshot=n,fE(t)&&dE(e)}function uE(e,t,r){return r(function(){fE(t)&&dE(e)})}function fE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!os(e,r)}catch{return!0}}function dE(e){var t=Vs(e,1);t!==null&&is(t,e,1,-1)}function P2(e){var t=xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:e},t.queue=e,e=e.dispatch=hk.bind(null,yr,e),[t.memoizedState,e]}function C0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=yr.updateQueue,t===null?(t={lastEffect:null,stores:null},yr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hE(){return Li().memoizedState}function cf(e,t,r,n){var i=xs();yr.flags|=e,i.memoizedState=C0(1|t,r,void 0,n===void 0?null:n)}function Pd(e,t,r,n){var i=Li();n=n===void 0?null:n;var a=void 0;if(Gr!==null){var l=Gr.memoizedState;if(a=l.destroy,n!==null&&Lp(n,l.deps)){i.memoizedState=C0(t,r,a,n);return}}yr.flags|=e,i.memoizedState=C0(1|t,r,a,n)}function M2(e,t){return cf(8390656,8,e,t)}function Wp(e,t){return Pd(2048,8,e,t)}function gE(e,t){return Pd(4,2,e,t)}function pE(e,t){return Pd(4,4,e,t)}function xE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mE(e,t,r){return r=r!=null?r.concat([e]):null,Pd(4,4,xE.bind(null,t,e),r)}function Vp(){}function wE(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vE(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yE(e,t,r){return xo&21?(os(r,t)||(r=S_(),yr.lanes|=r,mo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ei=!0),e.memoizedState=r)}function fk(e,t){var r=$t;$t=r!==0&&4>r?r:4,e(!0);var n=Xh.transition;Xh.transition={};try{e(!1),t()}finally{$t=r,Xh.transition=n}}function _E(){return Li().memoizedState}function dk(e,t,r){var n=Sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},EE(e))CE(t,r);else if(r=nE(e,t,r,n),r!==null){var i=Wn();is(r,e,n,i),AE(r,t,n)}}function hk(e,t,r){var n=Sa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(EE(e))CE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,u=a(l,r);if(i.hasEagerState=!0,i.eagerState=u,os(u,l)){var g=t.interleaved;g===null?(i.next=i,Dp(t)):(i.next=g.next,g.next=i),t.interleaved=i;return}}catch{}finally{}r=nE(e,t,i,n),r!==null&&(i=Wn(),is(r,e,n,i),AE(r,t,n))}}function EE(e){var t=e.alternate;return e===yr||t!==null&&t===yr}function CE(e,t){Vc=Df=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function AE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vp(e,r)}}var Ff={readContext:Bi,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},gk={readContext:Bi,useCallback:function(e,t){return xs().memoizedState=[e,t===void 0?null:t],e},useContext:Bi,useEffect:M2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cf(4194308,4,xE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cf(4194308,4,e,t)},useInsertionEffect:function(e,t){return cf(4,2,e,t)},useMemo:function(e,t){var r=xs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dk.bind(null,yr,e),[n.memoizedState,e]},useRef:function(e){var t=xs();return e={current:e},t.memoizedState=e},useState:P2,useDebugValue:Vp,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=P2(!1),t=e[0];return e=fk.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=yr,i=xs();if(mr){if(r===void 0)throw Error(Fe(407));r=r()}else{if(r=t(),an===null)throw Error(Fe(349));xo&30||lE(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,M2(uE.bind(null,n,a,e),[e]),n.flags|=2048,C0(9,cE.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=xs(),t=an.identifierPrefix;if(mr){var r=Os,n=Ns;r=(n&~(1<<32-ns(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pk={readContext:Bi,useCallback:wE,useContext:Bi,useEffect:Wp,useImperativeHandle:mE,useInsertionEffect:gE,useLayoutEffect:pE,useMemo:vE,useReducer:$h,useRef:hE,useState:function(){return $h(E0)},useDebugValue:Vp,useDeferredValue:function(e){var t=Li();return yE(t,Gr.memoizedState,e)},useTransition:function(){var e=$h(E0)[0],t=Li().memoizedState;return[e,t]},useMutableSource:aE,useSyncExternalStore:oE,useId:_E,unstable_isNewReconciler:!1},xk={readContext:Bi,useCallback:wE,useContext:Bi,useEffect:Wp,useImperativeHandle:mE,useInsertionEffect:gE,useLayoutEffect:pE,useMemo:vE,useReducer:Yh,useRef:hE,useState:function(){return Yh(E0)},useDebugValue:Vp,useDeferredValue:function(e){var t=Li();return Gr===null?t.memoizedState=e:yE(t,Gr.memoizedState,e)},useTransition:function(){var e=Yh(E0)[0],t=Li().memoizedState;return[e,t]},useMutableSource:aE,useSyncExternalStore:oE,useId:_E,unstable_isNewReconciler:!1};function Ki(e,t){if(e&&e.defaultProps){t=_r({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ig(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_r({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Md={isMounted:function(e){return(e=e._reactInternals)?Io(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wn(),i=Sa(e),a=Ps(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,i),t!==null&&(is(t,e,i,n),of(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wn(),i=Sa(e),a=Ps(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,i),t!==null&&(is(t,e,i,n),of(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wn(),n=Sa(e),i=Ps(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ca(e,i,n),t!==null&&(is(t,e,n,r),of(t,e,n))}};function B2(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!p0(r,n)||!p0(i,a):!0}function SE(e,t,r){var n=!1,i=Fa,a=t.contextType;return typeof a=="object"&&a!==null?a=Bi(a):(i=ni(t)?go:Nn.current,n=t.contextTypes,a=(n=n!=null)?Rl(e,i):Fa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Md,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function L2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Md.enqueueReplaceState(t,t.state,null)}function sg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Fp(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bi(a):(a=ni(t)?go:Nn.current,i.context=Rl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ig(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Md.enqueueReplaceState(i,i.state,null),Nf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fl(e,t){try{var r="",n=t;do r+=zT(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Kh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ag(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mk=typeof WeakMap=="function"?WeakMap:Map;function TE(e,t,r){r=Ps(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mf||(Mf=!0,xg=n),ag(e,t)},r}function kE(e,t,r){r=Ps(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ag(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ag(e,t),typeof n!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function U2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new mk;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Nk.bind(null,e,t,r),t.then(e,e))}function j2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function W2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ps(-1,1),t.tag=2,Ca(r,t,1))),r.lanes|=1),e)}var wk=Ys.ReactCurrentOwner,ei=!1;function Mn(e,t,r,n){t.child=e===null?rE(t,null,r,n):Ol(t,e.child,r,n)}function V2(e,t,r,n,i){r=r.render;var a=t.ref;return yl(t,i),n=Up(e,t,r,n,a,i),r=jp(),e!==null&&!ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(mr&&r&&kp(t),t.flags|=1,Mn(e,t,n,i),t.child)}function H2(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!qp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,bE(e,t,a,n,i)):(e=hf(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:p0,r(l,n)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,e=Ta(a,n),e.ref=t.ref,e.return=t,t.child=e}function bE(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(p0(a,n)&&e.ref===t.ref)if(ei=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ei=!0);else return t.lanes=e.lanes,Hs(e,t,i)}return og(e,t,r,n,i)}function IE(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(fl,fi),fi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ar(fl,fi),fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ar(fl,fi),fi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ar(fl,fi),fi|=n;return Mn(e,t,i,r),t.child}function RE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function og(e,t,r,n,i){var a=ni(r)?go:Nn.current;return a=Rl(t,a),yl(t,i),r=Up(e,t,r,n,a,i),n=jp(),e!==null&&!ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(mr&&n&&kp(t),t.flags|=1,Mn(e,t,r,i),t.child)}function z2(e,t,r,n,i){if(ni(r)){var a=!0;Tf(t)}else a=!1;if(yl(t,i),t.stateNode===null)uf(e,t),SE(t,r,n),sg(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var g=l.context,p=r.contextType;typeof p=="object"&&p!==null?p=Bi(p):(p=ni(r)?go:Nn.current,p=Rl(t,p));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||g!==p)&&L2(t,l,n,p),oa=!1;var _=t.memoizedState;l.state=_,Nf(t,n,l,i),g=t.memoizedState,u!==n||_!==g||ri.current||oa?(typeof m=="function"&&(ig(t,r,m,n),g=t.memoizedState),(u=oa||B2(t,r,u,n,_,g,p))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=p,n=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,iE(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:Ki(t.type,u),l.props=p,v=t.pendingProps,_=l.context,g=r.contextType,typeof g=="object"&&g!==null?g=Bi(g):(g=ni(r)?go:Nn.current,g=Rl(t,g));var E=r.getDerivedStateFromProps;(m=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==v||_!==g)&&L2(t,l,n,g),oa=!1,_=t.memoizedState,l.state=_,Nf(t,n,l,i);var A=t.memoizedState;u!==v||_!==A||ri.current||oa?(typeof E=="function"&&(ig(t,r,E,n),A=t.memoizedState),(p=oa||B2(t,r,p,n,_,A,g)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,A,g),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,A,g)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),l.props=n,l.state=A,l.context=g,n=p):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),n=!1)}return lg(e,t,r,n,a,i)}function lg(e,t,r,n,i,a){RE(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&I2(t,r,!1),Hs(e,t,a);n=t.stateNode,wk.current=t;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Ol(t,e.child,null,a),t.child=Ol(t,null,u,a)):Mn(e,t,u,a),t.memoizedState=n.state,i&&I2(t,r,!0),t.child}function NE(e){var t=e.stateNode;t.pendingContext?b2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b2(e,t.context,!1),Pp(e,t.containerInfo)}function G2(e,t,r,n,i){return Nl(),Ip(i),t.flags|=256,Mn(e,t,r,n),t.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function ug(e){return{baseLanes:e,cachePool:null,transitions:null}}function OE(e,t,r){var n=t.pendingProps,i=vr.current,a=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ar(vr,i&1),e===null)return rg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Ud(l,n,0,null),e=co(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ug(r),t.memoizedState=cg,e):Hp(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return vk(e,t,l,n,u,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,u=i.sibling;var g={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=g,t.deletions=null):(n=Ta(i,g),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=Ta(u,a):(a=co(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?ug(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=cg,n}return a=e.child,e=a.sibling,n=Ta(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Hp(e,t){return t=Ud({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uu(e,t,r,n){return n!==null&&Ip(n),Ol(t,e.child,null,r),e=Hp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vk(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=Kh(Error(Fe(422))),Uu(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ud({mode:"visible",children:n.children},i,0,null),a=co(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ol(t,e.child,null,l),t.child.memoizedState=ug(l),t.memoizedState=cg,a);if(!(t.mode&1))return Uu(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,a=Error(Fe(419)),n=Kh(a,n,void 0),Uu(e,t,l,n)}if(u=(l&e.childLanes)!==0,ei||u){if(n=an,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Vs(e,i),is(n,e,i,-1))}return Kp(),n=Kh(Error(Fe(421))),Uu(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Ok.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pi=Ea(i.nextSibling),xi=t,mr=!0,Zi=null,e!==null&&(Oi[Di++]=Ns,Oi[Di++]=Os,Oi[Di++]=po,Ns=e.id,Os=e.overflow,po=t),t=Hp(t,n.children),t.flags|=4096,t)}function X2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ng(e.return,t,r)}function qh(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function DE(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Mn(e,t,n.children,r),n=vr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&X2(e,r,t);else if(e.tag===19)X2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ar(vr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Of(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),qh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Of(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}qh(t,!0,r,null,a);break;case"together":qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Fe(153));if(t.child!==null){for(e=t.child,r=Ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yk(e,t,r){switch(t.tag){case 3:NE(t),Nl();break;case 5:sE(t);break;case 1:ni(t.type)&&Tf(t);break;case 4:Pp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ar(If,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ar(vr,vr.current&1),t.flags|=128,null):r&t.child.childLanes?OE(e,t,r):(ar(vr,vr.current&1),e=Hs(e,t,r),e!==null?e.sibling:null);ar(vr,vr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return DE(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ar(vr,vr.current),n)break;return null;case 22:case 23:return t.lanes=0,IE(e,t,r)}return Hs(e,t,r)}var FE,fg,PE,ME;FE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fg=function(){};PE=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,io(ys.current);var a=null;switch(r){case"input":i=D1(e,i),n=D1(e,n),a=[];break;case"select":i=_r({},i,{value:void 0}),n=_r({},n,{value:void 0}),a=[];break;case"textarea":i=M1(e,i),n=M1(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Af)}L1(r,n);var l;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l0.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var g=n[p];if(u=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&g!==u&&(g!=null||u!=null))if(p==="style")if(u){for(l in u)!u.hasOwnProperty(l)||g&&g.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in g)g.hasOwnProperty(l)&&u[l]!==g[l]&&(r||(r={}),r[l]=g[l])}else r||(a||(a=[]),a.push(p,r)),r=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,u=u?u.__html:void 0,g!=null&&u!==g&&(a=a||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(l0.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&hr("scroll",e),a||u===g||(a=[])):(a=a||[]).push(p,g))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};ME=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ec(e,t){if(!mr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function An(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _k(e,t,r){var n=t.pendingProps;switch(bp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(t),null;case 1:return ni(t.type)&&Sf(),An(t),null;case 3:return n=t.stateNode,Dl(),pr(ri),pr(Nn),Bp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zi!==null&&(vg(Zi),Zi=null))),fg(e,t),An(t),null;case 5:Mp(t);var i=io(y0.current);if(r=t.type,e!==null&&t.stateNode!=null)PE(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Fe(166));return An(t),null}if(e=io(ys.current),Bu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ws]=t,n[w0]=a,e=(t.mode&1)!==0,r){case"dialog":hr("cancel",n),hr("close",n);break;case"iframe":case"object":case"embed":hr("load",n);break;case"video":case"audio":for(i=0;i<Nc.length;i++)hr(Nc[i],n);break;case"source":hr("error",n);break;case"img":case"image":case"link":hr("error",n),hr("load",n);break;case"details":hr("toggle",n);break;case"input":t2(n,a),hr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},hr("invalid",n);break;case"textarea":n2(n,a),hr("invalid",n)}L1(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="children"?typeof u=="string"?n.textContent!==u&&(a.suppressHydrationWarning!==!0&&Mu(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Mu(n.textContent,u,e),i=["children",""+u]):l0.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&hr("scroll",n)}switch(r){case"input":bu(n),r2(n,a,!0);break;case"textarea":bu(n),i2(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Af)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ws]=t,e[w0]=n,FE(e,t,!1,!1),t.stateNode=e;e:{switch(l=U1(r,n),r){case"dialog":hr("cancel",e),hr("close",e),i=n;break;case"iframe":case"object":case"embed":hr("load",e),i=n;break;case"video":case"audio":for(i=0;i<Nc.length;i++)hr(Nc[i],e);i=n;break;case"source":hr("error",e),i=n;break;case"img":case"image":case"link":hr("error",e),hr("load",e),i=n;break;case"details":hr("toggle",e),i=n;break;case"input":t2(e,n),i=D1(e,n),hr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=_r({},n,{value:void 0}),hr("invalid",e);break;case"textarea":n2(e,n),i=M1(e,n),hr("invalid",e);break;default:i=n}L1(r,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var g=u[a];a==="style"?h_(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&f_(e,g)):a==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&c0(e,g):typeof g=="number"&&c0(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(l0.hasOwnProperty(a)?g!=null&&a==="onScroll"&&hr("scroll",e):g!=null&&hp(e,a,g,l))}switch(r){case"input":bu(e),r2(e,n,!1);break;case"textarea":bu(e),i2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Da(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?xl(e,!!n.multiple,a,!1):n.defaultValue!=null&&xl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Af)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return An(t),null;case 6:if(e&&t.stateNode!=null)ME(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Fe(166));if(r=io(y0.current),io(ys.current),Bu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ws]=t,(a=n.nodeValue!==r)&&(e=xi,e!==null))switch(e.tag){case 3:Mu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ws]=t,t.stateNode=n}return An(t),null;case 13:if(pr(vr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mr&&pi!==null&&t.mode&1&&!(t.flags&128))eE(),Nl(),t.flags|=98560,a=!1;else if(a=Bu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Fe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Fe(317));a[ws]=t}else Nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;An(t),a=!1}else Zi!==null&&(vg(Zi),Zi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Yr===0&&(Yr=3):Kp())),t.updateQueue!==null&&(t.flags|=4),An(t),null);case 4:return Dl(),fg(e,t),e===null&&x0(t.stateNode.containerInfo),An(t),null;case 10:return Op(t.type._context),An(t),null;case 17:return ni(t.type)&&Sf(),An(t),null;case 19:if(pr(vr),a=t.memoizedState,a===null)return An(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)Ec(a,!1);else{if(Yr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Of(e),l!==null){for(t.flags|=128,Ec(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ar(vr,vr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Fr()>Pl&&(t.flags|=128,n=!0,Ec(a,!1),t.lanes=4194304)}else{if(!n)if(e=Of(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ec(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!mr)return An(t),null}else 2*Fr()-a.renderingStartTime>Pl&&r!==1073741824&&(t.flags|=128,n=!0,Ec(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Fr(),t.sibling=null,r=vr.current,ar(vr,n?r&1|2:r&1),t):(An(t),null);case 22:case 23:return Yp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?fi&1073741824&&(An(t),t.subtreeFlags&6&&(t.flags|=8192)):An(t),null;case 24:return null;case 25:return null}throw Error(Fe(156,t.tag))}function Ek(e,t){switch(bp(t),t.tag){case 1:return ni(t.type)&&Sf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dl(),pr(ri),pr(Nn),Bp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mp(t),null;case 13:if(pr(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Fe(340));Nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pr(vr),null;case 4:return Dl(),null;case 10:return Op(t.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var ju=!1,kn=!1,Ck=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function ul(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tr(e,t,n)}else r.current=null}function dg(e,t,r){try{r()}catch(n){Tr(e,t,n)}}var $2=!1;function Ak(e,t){if(K1=_f,e=W_(),Tp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,u=-1,g=-1,p=0,m=0,v=e,_=null;t:for(;;){for(var E;v!==r||i!==0&&v.nodeType!==3||(u=l+i),v!==a||n!==0&&v.nodeType!==3||(g=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(E=v.firstChild)!==null;)_=v,v=E;for(;;){if(v===e)break t;if(_===r&&++p===i&&(u=l),_===a&&++m===n&&(g=l),(E=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=E}r=u===-1||g===-1?null:{start:u,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(q1={focusedElem:e,selectionRange:r},_f=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,I=A.memoizedState,b=t.stateNode,k=b.getSnapshotBeforeUpdate(t.elementType===t.type?C:Ki(t.type,C),I);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(L){Tr(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return A=$2,$2=!1,A}function Hc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&dg(t,r,a)}i=i.next}while(i!==n)}}function Bd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function BE(e){var t=e.alternate;t!==null&&(e.alternate=null,BE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ws],delete t[w0],delete t[J1],delete t[ak],delete t[ok])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function LE(e){return e.tag===5||e.tag===3||e.tag===4}function Y2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||LE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Af));else if(n!==4&&(e=e.child,e!==null))for(gg(e,t,r),e=e.sibling;e!==null;)gg(e,t,r),e=e.sibling}function pg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(pg(e,t,r),e=e.sibling;e!==null;)pg(e,t,r),e=e.sibling}var dn=null,qi=!1;function ia(e,t,r){for(r=r.child;r!==null;)UE(e,t,r),r=r.sibling}function UE(e,t,r){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Id,r)}catch{}switch(r.tag){case 5:kn||ul(r,t);case 6:var n=dn,i=qi;dn=null,ia(e,t,r),dn=n,qi=i,dn!==null&&(qi?(e=dn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dn.removeChild(r.stateNode));break;case 18:dn!==null&&(qi?(e=dn,r=r.stateNode,e.nodeType===8?Hh(e.parentNode,r):e.nodeType===1&&Hh(e,r),h0(e)):Hh(dn,r.stateNode));break;case 4:n=dn,i=qi,dn=r.stateNode.containerInfo,qi=!0,ia(e,t,r),dn=n,qi=i;break;case 0:case 11:case 14:case 15:if(!kn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&dg(r,t,l),i=i.next}while(i!==n)}ia(e,t,r);break;case 1:if(!kn&&(ul(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){Tr(r,t,u)}ia(e,t,r);break;case 21:ia(e,t,r);break;case 22:r.mode&1?(kn=(n=kn)||r.memoizedState!==null,ia(e,t,r),kn=n):ia(e,t,r);break;default:ia(e,t,r)}}function K2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ck),t.forEach(function(n){var i=Dk.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:dn=u.stateNode,qi=!1;break e;case 3:dn=u.stateNode.containerInfo,qi=!0;break e;case 4:dn=u.stateNode.containerInfo,qi=!0;break e}u=u.return}if(dn===null)throw Error(Fe(160));UE(a,l,i),dn=null,qi=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(p){Tr(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jE(t,e),t=t.sibling}function jE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xi(t,e),hs(e),n&4){try{Hc(3,e,e.return),Bd(3,e)}catch(C){Tr(e,e.return,C)}try{Hc(5,e,e.return)}catch(C){Tr(e,e.return,C)}}break;case 1:Xi(t,e),hs(e),n&512&&r!==null&&ul(r,r.return);break;case 5:if(Xi(t,e),hs(e),n&512&&r!==null&&ul(r,r.return),e.flags&32){var i=e.stateNode;try{c0(i,"")}catch(C){Tr(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,u=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&l_(i,a),U1(u,l);var p=U1(u,a);for(l=0;l<g.length;l+=2){var m=g[l],v=g[l+1];m==="style"?h_(i,v):m==="dangerouslySetInnerHTML"?f_(i,v):m==="children"?c0(i,v):hp(i,m,v,p)}switch(u){case"input":F1(i,a);break;case"textarea":c_(i,a);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?xl(i,!!a.multiple,E,!1):_!==!!a.multiple&&(a.defaultValue!=null?xl(i,!!a.multiple,a.defaultValue,!0):xl(i,!!a.multiple,a.multiple?[]:"",!1))}i[w0]=a}catch(C){Tr(e,e.return,C)}}break;case 6:if(Xi(t,e),hs(e),n&4){if(e.stateNode===null)throw Error(Fe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(C){Tr(e,e.return,C)}}break;case 3:if(Xi(t,e),hs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{h0(t.containerInfo)}catch(C){Tr(e,e.return,C)}break;case 4:Xi(t,e),hs(e);break;case 13:Xi(t,e),hs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Xp=Fr())),n&4&&K2(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(kn=(p=kn)||m,Xi(t,e),kn=p):Xi(t,e),hs(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!m&&e.mode&1)for(Ke=e,m=e.child;m!==null;){for(v=Ke=m;Ke!==null;){switch(_=Ke,E=_.child,_.tag){case 0:case 11:case 14:case 15:Hc(4,_,_.return);break;case 1:ul(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){n=_,r=_.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(C){Tr(n,r,C)}}break;case 5:ul(_,_.return);break;case 22:if(_.memoizedState!==null){Z2(v);continue}}E!==null?(E.return=_,Ke=E):Z2(v)}m=m.sibling}e:for(m=null,v=e;;){if(v.tag===5){if(m===null){m=v;try{i=v.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=v.stateNode,g=v.memoizedProps.style,l=g!=null&&g.hasOwnProperty("display")?g.display:null,u.style.display=d_("display",l))}catch(C){Tr(e,e.return,C)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(C){Tr(e,e.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Xi(t,e),hs(e),n&4&&K2(e);break;case 21:break;default:Xi(t,e),hs(e)}}function hs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(LE(r)){var n=r;break e}r=r.return}throw Error(Fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(c0(i,""),n.flags&=-33);var a=Y2(e);pg(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Y2(e);gg(e,u,l);break;default:throw Error(Fe(161))}}catch(g){Tr(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sk(e,t,r){Ke=e,WE(e)}function WE(e,t,r){for(var n=(e.mode&1)!==0;Ke!==null;){var i=Ke,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||ju;if(!l){var u=i.alternate,g=u!==null&&u.memoizedState!==null||kn;u=ju;var p=kn;if(ju=l,(kn=g)&&!p)for(Ke=i;Ke!==null;)l=Ke,g=l.child,l.tag===22&&l.memoizedState!==null?Q2(i):g!==null?(g.return=l,Ke=g):Q2(i);for(;a!==null;)Ke=a,WE(a),a=a.sibling;Ke=i,ju=u,kn=p}q2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ke=a):q2(e)}}function q2(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kn||Bd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ki(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&F2(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}F2(t,l,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&h0(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}kn||t.flags&512&&hg(t)}catch(_){Tr(t,t.return,_)}}if(t===e){Ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function Z2(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function Q2(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bd(4,t)}catch(g){Tr(t,r,g)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(g){Tr(t,i,g)}}var a=t.return;try{hg(t)}catch(g){Tr(t,a,g)}break;case 5:var l=t.return;try{hg(t)}catch(g){Tr(t,l,g)}}}catch(g){Tr(t,t.return,g)}if(t===e){Ke=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ke=u;break}Ke=t.return}}var Tk=Math.ceil,Pf=Ys.ReactCurrentDispatcher,zp=Ys.ReactCurrentOwner,Mi=Ys.ReactCurrentBatchConfig,Bt=0,an=null,jr=null,pn=0,fi=0,fl=Va(0),Yr=0,A0=null,mo=0,Ld=0,Gp=0,zc=null,Jn=null,Xp=0,Pl=1/0,Is=null,Mf=!1,xg=null,Aa=null,Wu=!1,da=null,Bf=0,Gc=0,mg=null,ff=-1,df=0;function Wn(){return Bt&6?Fr():ff!==-1?ff:ff=Fr()}function Sa(e){return e.mode&1?Bt&2&&pn!==0?pn&-pn:ck.transition!==null?(df===0&&(df=S_()),df):(e=$t,e!==0||(e=window.event,e=e===void 0?16:O_(e.type)),e):1}function is(e,t,r,n){if(50<Gc)throw Gc=0,mg=null,Error(Fe(185));Y0(e,r,n),(!(Bt&2)||e!==an)&&(e===an&&(!(Bt&2)&&(Ld|=r),Yr===4&&ca(e,pn)),ii(e,n),r===1&&Bt===0&&!(t.mode&1)&&(Pl=Fr()+500,Fd&&Ha()))}function ii(e,t){var r=e.callbackNode;c8(e,t);var n=yf(e,e===an?pn:0);if(n===0)r!==null&&o2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&o2(r),t===1)e.tag===0?lk(J2.bind(null,e)):Z_(J2.bind(null,e)),ik(function(){!(Bt&6)&&Ha()}),r=null;else{switch(T_(n)){case 1:r=wp;break;case 4:r=C_;break;case 16:r=vf;break;case 536870912:r=A_;break;default:r=vf}r=KE(r,VE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function VE(e,t){if(ff=-1,df=0,Bt&6)throw Error(Fe(327));var r=e.callbackNode;if(_l()&&e.callbackNode!==r)return null;var n=yf(e,e===an?pn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Lf(e,n);else{t=n;var i=Bt;Bt|=2;var a=zE();(an!==e||pn!==t)&&(Is=null,Pl=Fr()+500,lo(e,t));do try{Ik();break}catch(u){HE(e,u)}while(!0);Np(),Pf.current=a,Bt=i,jr!==null?t=0:(an=null,pn=0,t=Yr)}if(t!==0){if(t===2&&(i=z1(e),i!==0&&(n=i,t=wg(e,i))),t===1)throw r=A0,lo(e,0),ca(e,n),ii(e,Fr()),r;if(t===6)ca(e,n);else{if(i=e.current.alternate,!(n&30)&&!kk(i)&&(t=Lf(e,n),t===2&&(a=z1(e),a!==0&&(n=a,t=wg(e,a))),t===1))throw r=A0,lo(e,0),ca(e,n),ii(e,Fr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Fe(345));case 2:Qa(e,Jn,Is);break;case 3:if(ca(e,n),(n&130023424)===n&&(t=Xp+500-Fr(),10<t)){if(yf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Wn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Q1(Qa.bind(null,e,Jn,Is),t);break}Qa(e,Jn,Is);break;case 4:if(ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-ns(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Tk(n/1960))-n,10<n){e.timeoutHandle=Q1(Qa.bind(null,e,Jn,Is),n);break}Qa(e,Jn,Is);break;case 5:Qa(e,Jn,Is);break;default:throw Error(Fe(329))}}}return ii(e,Fr()),e.callbackNode===r?VE.bind(null,e):null}function wg(e,t){var r=zc;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=Lf(e,t),e!==2&&(t=Jn,Jn=r,t!==null&&vg(t)),e}function vg(e){Jn===null?Jn=e:Jn.push.apply(Jn,e)}function kk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!os(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t){for(t&=~Gp,t&=~Ld,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ns(t),n=1<<r;e[r]=-1,t&=~n}}function J2(e){if(Bt&6)throw Error(Fe(327));_l();var t=yf(e,0);if(!(t&1))return ii(e,Fr()),null;var r=Lf(e,t);if(e.tag!==0&&r===2){var n=z1(e);n!==0&&(t=n,r=wg(e,n))}if(r===1)throw r=A0,lo(e,0),ca(e,t),ii(e,Fr()),r;if(r===6)throw Error(Fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qa(e,Jn,Is),ii(e,Fr()),null}function $p(e,t){var r=Bt;Bt|=1;try{return e(t)}finally{Bt=r,Bt===0&&(Pl=Fr()+500,Fd&&Ha())}}function wo(e){da!==null&&da.tag===0&&!(Bt&6)&&_l();var t=Bt;Bt|=1;var r=Mi.transition,n=$t;try{if(Mi.transition=null,$t=1,e)return e()}finally{$t=n,Mi.transition=r,Bt=t,!(Bt&6)&&Ha()}}function Yp(){fi=fl.current,pr(fl)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nk(r)),jr!==null)for(r=jr.return;r!==null;){var n=r;switch(bp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sf();break;case 3:Dl(),pr(ri),pr(Nn),Bp();break;case 5:Mp(n);break;case 4:Dl();break;case 13:pr(vr);break;case 19:pr(vr);break;case 10:Op(n.type._context);break;case 22:case 23:Yp()}r=r.return}if(an=e,jr=e=Ta(e.current,null),pn=fi=t,Yr=0,A0=null,Gp=Ld=mo=0,Jn=zc=null,no!==null){for(t=0;t<no.length;t++)if(r=no[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}no=null}return e}function HE(e,t){do{var r=jr;try{if(Np(),lf.current=Ff,Df){for(var n=yr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Df=!1}if(xo=0,nn=Gr=yr=null,Vc=!1,_0=0,zp.current=null,r===null||r.return===null){Yr=1,A0=t,jr=null;break}e:{var a=e,l=r.return,u=r,g=t;if(t=pn,u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,m=u,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=j2(l);if(E!==null){E.flags&=-257,W2(E,l,u,a,t),E.mode&1&&U2(a,p,t),t=E,g=p;var A=t.updateQueue;if(A===null){var C=new Set;C.add(g),t.updateQueue=C}else A.add(g);break e}else{if(!(t&1)){U2(a,p,t),Kp();break e}g=Error(Fe(426))}}else if(mr&&u.mode&1){var I=j2(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),W2(I,l,u,a,t),Ip(Fl(g,u));break e}}a=g=Fl(g,u),Yr!==4&&(Yr=2),zc===null?zc=[a]:zc.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=TE(a,g,t);D2(a,b);break e;case 1:u=g;var k=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof k.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Aa===null||!Aa.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var L=kE(a,u,t);D2(a,L);break e}}a=a.return}while(a!==null)}XE(r)}catch(q){t=q,jr===r&&r!==null&&(jr=r=r.return);continue}break}while(!0)}function zE(){var e=Pf.current;return Pf.current=Ff,e===null?Ff:e}function Kp(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),an===null||!(mo&268435455)&&!(Ld&268435455)||ca(an,pn)}function Lf(e,t){var r=Bt;Bt|=2;var n=zE();(an!==e||pn!==t)&&(Is=null,lo(e,t));do try{bk();break}catch(i){HE(e,i)}while(!0);if(Np(),Bt=r,Pf.current=n,jr!==null)throw Error(Fe(261));return an=null,pn=0,Yr}function bk(){for(;jr!==null;)GE(jr)}function Ik(){for(;jr!==null&&!e8();)GE(jr)}function GE(e){var t=YE(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?XE(e):jr=t,zp.current=null}function XE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ek(r,t),r!==null){r.flags&=32767,jr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yr=6,jr=null;return}}else if(r=_k(r,t,fi),r!==null){jr=r;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Yr===0&&(Yr=5)}function Qa(e,t,r){var n=$t,i=Mi.transition;try{Mi.transition=null,$t=1,Rk(e,t,r,n)}finally{Mi.transition=i,$t=n}return null}function Rk(e,t,r,n){do _l();while(da!==null);if(Bt&6)throw Error(Fe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Fe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(u8(e,a),e===an&&(jr=an=null,pn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wu||(Wu=!0,KE(vf,function(){return _l(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Mi.transition,Mi.transition=null;var l=$t;$t=1;var u=Bt;Bt|=4,zp.current=null,Ak(e,r),jE(r,e),q8(q1),_f=!!K1,q1=K1=null,e.current=r,Sk(r),t8(),Bt=u,$t=l,Mi.transition=a}else e.current=r;if(Wu&&(Wu=!1,da=e,Bf=i),a=e.pendingLanes,a===0&&(Aa=null),i8(r.stateNode),ii(e,Fr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mf)throw Mf=!1,e=xg,xg=null,e;return Bf&1&&e.tag!==0&&_l(),a=e.pendingLanes,a&1?e===mg?Gc++:(Gc=0,mg=e):Gc=0,Ha(),null}function _l(){if(da!==null){var e=T_(Bf),t=Mi.transition,r=$t;try{if(Mi.transition=null,$t=16>e?16:e,da===null)var n=!1;else{if(e=da,da=null,Bf=0,Bt&6)throw Error(Fe(331));var i=Bt;for(Bt|=4,Ke=e.current;Ke!==null;){var a=Ke,l=a.child;if(Ke.flags&16){var u=a.deletions;if(u!==null){for(var g=0;g<u.length;g++){var p=u[g];for(Ke=p;Ke!==null;){var m=Ke;switch(m.tag){case 0:case 11:case 15:Hc(8,m,a)}var v=m.child;if(v!==null)v.return=m,Ke=v;else for(;Ke!==null;){m=Ke;var _=m.sibling,E=m.return;if(BE(m),m===p){Ke=null;break}if(_!==null){_.return=E,Ke=_;break}Ke=E}}}var A=a.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}Ke=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Ke=l;else e:for(;Ke!==null;){if(a=Ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ke=b;break e}Ke=a.return}}var k=e.current;for(Ke=k;Ke!==null;){l=Ke;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,Ke=S;else e:for(l=k;Ke!==null;){if(u=Ke,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Bd(9,u)}}catch(q){Tr(u,u.return,q)}if(u===l){Ke=null;break e}var L=u.sibling;if(L!==null){L.return=u.return,Ke=L;break e}Ke=u.return}}if(Bt=i,Ha(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Id,e)}catch{}n=!0}return n}finally{$t=r,Mi.transition=t}}return!1}function ew(e,t,r){t=Fl(r,t),t=TE(e,t,1),e=Ca(e,t,1),t=Wn(),e!==null&&(Y0(e,1,t),ii(e,t))}function Tr(e,t,r){if(e.tag===3)ew(e,e,r);else for(;t!==null;){if(t.tag===3){ew(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Aa===null||!Aa.has(n))){e=Fl(r,e),e=kE(t,e,1),t=Ca(t,e,1),e=Wn(),t!==null&&(Y0(t,1,e),ii(t,e));break}}t=t.return}}function Nk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&r,an===e&&(pn&r)===r&&(Yr===4||Yr===3&&(pn&130023424)===pn&&500>Fr()-Xp?lo(e,0):Gp|=r),ii(e,t)}function $E(e,t){t===0&&(e.mode&1?(t=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):t=1);var r=Wn();e=Vs(e,t),e!==null&&(Y0(e,t,r),ii(e,r))}function Ok(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$E(e,r)}function Dk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Fe(314))}n!==null&&n.delete(t),$E(e,r)}var YE;YE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ri.current)ei=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ei=!1,yk(e,t,r);ei=!!(e.flags&131072)}else ei=!1,mr&&t.flags&1048576&&Q_(t,bf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;uf(e,t),e=t.pendingProps;var i=Rl(t,Nn.current);yl(t,r),i=Up(null,t,n,e,i,r);var a=jp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ni(n)?(a=!0,Tf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fp(t),i.updater=Md,t.stateNode=i,i._reactInternals=t,sg(t,n,e,r),t=lg(null,t,n,!0,a,r)):(t.tag=0,mr&&a&&kp(t),Mn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(uf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Pk(n),e=Ki(n,e),i){case 0:t=og(null,t,n,e,r);break e;case 1:t=z2(null,t,n,e,r);break e;case 11:t=V2(null,t,n,e,r);break e;case 14:t=H2(null,t,n,Ki(n.type,e),r);break e}throw Error(Fe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ki(n,i),og(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ki(n,i),z2(e,t,n,i,r);case 3:e:{if(NE(t),e===null)throw Error(Fe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,iE(e,t),Nf(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Fl(Error(Fe(423)),t),t=G2(e,t,n,r,i);break e}else if(n!==i){i=Fl(Error(Fe(424)),t),t=G2(e,t,n,r,i);break e}else for(pi=Ea(t.stateNode.containerInfo.firstChild),xi=t,mr=!0,Zi=null,r=rE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nl(),n===i){t=Hs(e,t,r);break e}Mn(e,t,n,r)}t=t.child}return t;case 5:return sE(t),e===null&&rg(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Z1(n,i)?l=null:a!==null&&Z1(n,a)&&(t.flags|=32),RE(e,t),Mn(e,t,l,r),t.child;case 6:return e===null&&rg(t),null;case 13:return OE(e,t,r);case 4:return Pp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ol(t,null,n,r):Mn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ki(n,i),V2(e,t,n,i,r);case 7:return Mn(e,t,t.pendingProps,r),t.child;case 8:return Mn(e,t,t.pendingProps.children,r),t.child;case 12:return Mn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,ar(If,n._currentValue),n._currentValue=l,a!==null)if(os(a.value,l)){if(a.children===i.children&&!ri.current){t=Hs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){l=a.child;for(var g=u.firstContext;g!==null;){if(g.context===n){if(a.tag===1){g=Ps(-1,r&-r),g.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?g.next=g:(g.next=m.next,m.next=g),p.pending=g}}a.lanes|=r,g=a.alternate,g!==null&&(g.lanes|=r),ng(a.return,r,t),u.lanes|=r;break}g=g.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(Fe(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),ng(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Mn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,yl(t,r),i=Bi(i),n=n(i),t.flags|=1,Mn(e,t,n,r),t.child;case 14:return n=t.type,i=Ki(n,t.pendingProps),i=Ki(n.type,i),H2(e,t,n,i,r);case 15:return bE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ki(n,i),uf(e,t),t.tag=1,ni(n)?(e=!0,Tf(t)):e=!1,yl(t,r),SE(t,n,i),sg(t,n,i,r),lg(null,t,n,!0,e,r);case 19:return DE(e,t,r);case 22:return IE(e,t,r)}throw Error(Fe(156,t.tag))};function KE(e,t){return E_(e,t)}function Fk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,r,n){return new Fk(e,t,r,n)}function qp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pk(e){if(typeof e=="function")return qp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pp)return 11;if(e===xp)return 14}return 2}function Ta(e,t){var r=e.alternate;return r===null?(r=Fi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hf(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")qp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case tl:return co(r.children,i,a,t);case gp:l=8,i|=8;break;case I1:return e=Fi(12,r,t,i|2),e.elementType=I1,e.lanes=a,e;case R1:return e=Fi(13,r,t,i),e.elementType=R1,e.lanes=a,e;case N1:return e=Fi(19,r,t,i),e.elementType=N1,e.lanes=a,e;case s_:return Ud(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n_:l=10;break e;case i_:l=9;break e;case pp:l=11;break e;case xp:l=14;break e;case aa:l=16,n=null;break e}throw Error(Fe(130,e==null?e:typeof e,""))}return t=Fi(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function co(e,t,r,n){return e=Fi(7,e,n,t),e.lanes=r,e}function Ud(e,t,r,n){return e=Fi(22,e,n,t),e.elementType=s_,e.lanes=r,e.stateNode={isHidden:!1},e}function Zh(e,t,r){return e=Fi(6,e,null,t),e.lanes=r,e}function Qh(e,t,r){return t=Fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mk(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zp(e,t,r,n,i,a,l,u,g){return e=new Mk(e,t,r,u,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Fi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(a),e}function Bk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:el,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function qE(e){if(!e)return Fa;e=e._reactInternals;e:{if(Io(e)!==e||e.tag!==1)throw Error(Fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Fe(171))}if(e.tag===1){var r=e.type;if(ni(r))return q_(e,r,t)}return t}function ZE(e,t,r,n,i,a,l,u,g){return e=Zp(r,n,!0,e,i,a,l,u,g),e.context=qE(null),r=e.current,n=Wn(),i=Sa(r),a=Ps(n,i),a.callback=t??null,Ca(r,a,i),e.current.lanes=i,Y0(e,i,n),ii(e,n),e}function jd(e,t,r,n){var i=t.current,a=Wn(),l=Sa(i);return r=qE(r),t.context===null?t.context=r:t.pendingContext=r,t=Ps(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ca(i,t,l),e!==null&&(is(e,i,l,a),of(e,i,l)),l}function Uf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Qp(e,t){tw(e,t),(e=e.alternate)&&tw(e,t)}function Lk(){return null}var QE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jp(e){this._internalRoot=e}Wd.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Fe(409));jd(e,t,null,null)};Wd.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wo(function(){jd(null,e,null,null)}),t[Ws]=null}};function Wd(e){this._internalRoot=e}Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=I_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<la.length&&t!==0&&t<la[r].priority;r++);la.splice(r,0,e),r===0&&N_(e)}};function ex(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rw(){}function Uk(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var p=Uf(l);a.call(p)}}var l=ZE(t,n,e,0,null,!1,!1,"",rw);return e._reactRootContainer=l,e[Ws]=l.current,x0(e.nodeType===8?e.parentNode:e),wo(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var p=Uf(g);u.call(p)}}var g=Zp(e,0,!1,null,null,!1,!1,"",rw);return e._reactRootContainer=g,e[Ws]=g.current,x0(e.nodeType===8?e.parentNode:e),wo(function(){jd(t,g,r,n)}),g}function Hd(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var u=i;i=function(){var g=Uf(l);u.call(g)}}jd(t,l,e,i)}else l=Uk(r,t,e,i,n);return Uf(l)}k_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rc(t.pendingLanes);r!==0&&(vp(t,r|1),ii(t,Fr()),!(Bt&6)&&(Pl=Fr()+500,Ha()))}break;case 13:wo(function(){var n=Vs(e,1);if(n!==null){var i=Wn();is(n,e,1,i)}}),Qp(e,1)}};yp=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var r=Wn();is(t,e,134217728,r)}Qp(e,134217728)}};b_=function(e){if(e.tag===13){var t=Sa(e),r=Vs(e,t);if(r!==null){var n=Wn();is(r,e,t,n)}Qp(e,t)}};I_=function(){return $t};R_=function(e,t){var r=$t;try{return $t=e,t()}finally{$t=r}};W1=function(e,t,r){switch(t){case"input":if(F1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Dd(n);if(!i)throw Error(Fe(90));o_(n),F1(n,i)}}}break;case"textarea":c_(e,r);break;case"select":t=r.value,t!=null&&xl(e,!!r.multiple,t,!1)}};x_=$p;m_=wo;var jk={usingClientEntryPoint:!1,Events:[q0,sl,Dd,g_,p_,$p]},Cc={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wk={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=y_(e),e===null?null:e.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||Lk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Id=Vu.inject(Wk),vs=Vu}catch{}}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk;_i.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ex(t))throw Error(Fe(200));return Bk(e,t,null,r)};_i.createRoot=function(e,t){if(!ex(e))throw Error(Fe(299));var r=!1,n="",i=QE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zp(e,1,!1,null,null,r,!1,n,i),e[Ws]=t.current,x0(e.nodeType===8?e.parentNode:e),new Jp(t)};_i.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Fe(188)):(e=Object.keys(e).join(","),Error(Fe(268,e)));return e=y_(t),e=e===null?null:e.stateNode,e};_i.flushSync=function(e){return wo(e)};_i.hydrate=function(e,t,r){if(!Vd(t))throw Error(Fe(200));return Hd(null,e,t,!0,r)};_i.hydrateRoot=function(e,t,r){if(!ex(e))throw Error(Fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=QE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=ZE(t,null,e,1,r??null,i,!1,a,l),e[Ws]=t.current,x0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Wd(t)};_i.render=function(e,t,r){if(!Vd(t))throw Error(Fe(200));return Hd(null,e,t,!1,r)};_i.unmountComponentAtNode=function(e){if(!Vd(e))throw Error(Fe(40));return e._reactRootContainer?(wo(function(){Hd(null,null,e,!1,function(){e._reactRootContainer=null,e[Ws]=null})}),!0):!1};_i.unstable_batchedUpdates=$p;_i.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vd(r))throw Error(Fe(200));if(e==null||e._reactInternals===void 0)throw Error(Fe(38));return Hd(e,t,r,!1,n)};_i.version="18.3.1-next-f1338f8080-20240426";function JE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JE)}catch(e){console.error(e)}}JE(),Jy.exports=_i;var Vk=Jy.exports,nw=Vk;k1.createRoot=nw.createRoot,k1.hydrateRoot=nw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}var ha;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ha||(ha={}));const iw="popstate";function Hk(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:u}=n.location;return yg("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:jf(i)}return Gk(t,r,null,e)}function Wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zk(){return Math.random().toString(36).substr(2,8)}function sw(e,t){return{usr:e.state,key:e.key,idx:t}}function yg(e,t,r,n){return r===void 0&&(r=null),S0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kl(t):t,{state:r,key:t&&t.key||n||zk()})}function jf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Gk(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,u=ha.Pop,g=null,p=m();p==null&&(p=0,l.replaceState(S0({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){u=ha.Pop;let I=m(),b=I==null?null:I-p;p=I,g&&g({action:u,location:C.location,delta:b})}function _(I,b){u=ha.Push;let k=yg(C.location,I,b);p=m()+1;let S=sw(k,p),L=C.createHref(k);try{l.pushState(S,"",L)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(L)}a&&g&&g({action:u,location:C.location,delta:1})}function E(I,b){u=ha.Replace;let k=yg(C.location,I,b);p=m();let S=sw(k,p),L=C.createHref(k);l.replaceState(S,"",L),a&&g&&g({action:u,location:C.location,delta:0})}function A(I){let b=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof I=="string"?I:jf(I);return k=k.replace(/ $/,"%20"),Wr(b,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,b)}let C={get action(){return u},get location(){return e(i,l)},listen(I){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(iw,v),g=I,()=>{i.removeEventListener(iw,v),g=null}},createHref(I){return t(i,I)},createURL:A,encodeLocation(I){let b=A(I);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:E,go(I){return l.go(I)}};return C}var aw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aw||(aw={}));function Xk(e,t,r){return r===void 0&&(r="/"),$k(e,t,r)}function $k(e,t,r,n){let i=typeof t=="string"?Kl(t):t,a=tx(i.pathname||"/",r);if(a==null)return null;let l=tC(e);Yk(l);let u=null;for(let g=0;u==null&&g<l.length;++g){let p=ab(a);u=nb(l[g],p)}return u}function tC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,u)=>{let g={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};g.relativePath.startsWith("/")&&(Wr(g.relativePath.startsWith(n),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(n.length));let p=ka([n,g.relativePath]),m=r.concat(g);a.children&&a.children.length>0&&(Wr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),tC(a.children,t,m,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:tb(p,a.index),routesMeta:m})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let g of rC(a.path))i(a,l,g)}),t}function rC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=rC(n.join("/")),u=[];return u.push(...l.map(g=>g===""?a:[a,g].join("/"))),i&&u.push(...l),u.map(g=>e.startsWith("/")&&g===""?"/":g)}function Yk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rb(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Kk=/^:[\w-]+$/,qk=3,Zk=2,Qk=1,Jk=10,eb=-2,ow=e=>e==="*";function tb(e,t){let r=e.split("/"),n=r.length;return r.some(ow)&&(n+=eb),t&&(n+=Zk),r.filter(i=>!ow(i)).reduce((i,a)=>i+(Kk.test(a)?qk:a===""?Qk:Jk),n)}function rb(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function nb(e,t,r){let{routesMeta:n}=e,i={},a="/",l=[];for(let u=0;u<n.length;++u){let g=n[u],p=u===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",v=ib({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},m),_=g.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:ka([a,v.pathname]),pathnameBase:ub(ka([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ka([a,v.pathnameBase]))}return l}function ib(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sb(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((p,m,v)=>{let{paramName:_,isOptional:E}=m;if(_==="*"){let C=u[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const A=u[v];return E&&!A?p[_]=void 0:p[_]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:e}}function sb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),eC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,g)=>(n.push({paramName:u,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function ab(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ob(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Kl(e):e;return{pathname:r?r.startsWith("/")?r:lb(r,t):t,search:fb(n),hash:db(i)}}function lb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Jh(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nC(e,t){let r=cb(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function iC(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Kl(e):(i=S0({},e),Wr(!i.pathname||!i.pathname.includes("?"),Jh("?","pathname","search",i)),Wr(!i.pathname||!i.pathname.includes("#"),Jh("#","pathname","hash",i)),Wr(!i.search||!i.search.includes("#"),Jh("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=r;else{let v=t.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}u=v>=0?t[v]:"/"}let g=ob(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||m)&&(g.pathname+="/"),g}const ka=e=>e.join("/").replace(/\/\/+/g,"/"),ub=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,db=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sC=["post","put","patch","delete"];new Set(sC);const gb=["get",...sC];new Set(gb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}const rx=ye.createContext(null),pb=ye.createContext(null),Ro=ye.createContext(null),zd=ye.createContext(null),No=ye.createContext({outlet:null,matches:[],isDataRoute:!1}),aC=ye.createContext(null);function xb(e,t){let{relative:r}=t===void 0?{}:t;Q0()||Wr(!1);let{basename:n,navigator:i}=ye.useContext(Ro),{hash:a,pathname:l,search:u}=lC(e,{relative:r}),g=l;return n!=="/"&&(g=l==="/"?n:ka([n,l])),i.createHref({pathname:g,search:u,hash:a})}function Q0(){return ye.useContext(zd)!=null}function J0(){return Q0()||Wr(!1),ye.useContext(zd).location}function oC(e){ye.useContext(Ro).static||ye.useLayoutEffect(e)}function mb(){let{isDataRoute:e}=ye.useContext(No);return e?Rb():wb()}function wb(){Q0()||Wr(!1);let e=ye.useContext(rx),{basename:t,future:r,navigator:n}=ye.useContext(Ro),{matches:i}=ye.useContext(No),{pathname:a}=J0(),l=JSON.stringify(nC(i,r.v7_relativeSplatPath)),u=ye.useRef(!1);return oC(()=>{u.current=!0}),ye.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=iC(p,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ka([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,l,a,e])}function lC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=ye.useContext(Ro),{matches:i}=ye.useContext(No),{pathname:a}=J0(),l=JSON.stringify(nC(i,n.v7_relativeSplatPath));return ye.useMemo(()=>iC(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function vb(e,t){return yb(e,t)}function yb(e,t,r,n){Q0()||Wr(!1);let{navigator:i}=ye.useContext(Ro),{matches:a}=ye.useContext(No),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let g=l?l.pathnameBase:"/";l&&l.route;let p=J0(),m;if(t){var v;let I=typeof t=="string"?Kl(t):t;g==="/"||(v=I.pathname)!=null&&v.startsWith(g)||Wr(!1),m=I}else m=p;let _=m.pathname||"/",E=_;if(g!=="/"){let I=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=Xk(e,{pathname:E}),C=Sb(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:ka([g,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:ka([g,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,r,n);return t&&C?ye.createElement(zd.Provider,{value:{location:T0({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ha.Pop}},C):C}function _b(){let e=Ib(),t=hb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ye.createElement(ye.Fragment,null,ye.createElement("h2",null,"Unexpected Application Error!"),ye.createElement("h3",{style:{fontStyle:"italic"}},t),r?ye.createElement("pre",{style:i},r):null,null)}const Eb=ye.createElement(_b,null);class Cb extends ye.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?ye.createElement(No.Provider,{value:this.props.routeContext},ye.createElement(aC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ab(e){let{routeContext:t,match:r,children:n}=e,i=ye.useContext(rx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ye.createElement(No.Provider,{value:t},n)}function Sb(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);m>=0||Wr(!1),l=l.slice(0,Math.min(l.length,m+1))}let g=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:_,errors:E}=r,A=v.route.loader&&_[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||A){g=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let E,A=!1,C=null,I=null;r&&(E=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||Eb,g&&(p<0&&_===0?(Nb("route-fallback"),A=!0,I=null):p===_&&(A=!0,I=v.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,_+1)),k=()=>{let S;return E?S=C:A?S=I:v.route.Component?S=ye.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=m,ye.createElement(Ab,{match:v,routeContext:{outlet:m,matches:b,isDataRoute:r!=null},children:S})};return r&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?ye.createElement(Cb,{location:r.location,revalidation:r.revalidation,component:C,error:E,children:k(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):k()},null)}var cC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cC||{}),uC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uC||{});function Tb(e){let t=ye.useContext(rx);return t||Wr(!1),t}function kb(e){let t=ye.useContext(pb);return t||Wr(!1),t}function bb(e){let t=ye.useContext(No);return t||Wr(!1),t}function fC(e){let t=bb(),r=t.matches[t.matches.length-1];return r.route.id||Wr(!1),r.route.id}function Ib(){var e;let t=ye.useContext(aC),r=kb(),n=fC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Rb(){let{router:e}=Tb(cC.UseNavigateStable),t=fC(uC.UseNavigateStable),r=ye.useRef(!1);return oC(()=>{r.current=!0}),ye.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,T0({fromRouteId:t},a)))},[e,t])}const lw={};function Nb(e,t,r){lw[e]||(lw[e]=!0)}function Ob(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gf(e){Wr(!1)}function Db(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ha.Pop,navigator:a,static:l=!1,future:u}=e;Q0()&&Wr(!1);let g=t.replace(/^\/*/,"/"),p=ye.useMemo(()=>({basename:g,navigator:a,static:l,future:T0({v7_relativeSplatPath:!1},u)}),[g,u,a,l]);typeof n=="string"&&(n=Kl(n));let{pathname:m="/",search:v="",hash:_="",state:E=null,key:A="default"}=n,C=ye.useMemo(()=>{let I=tx(m,g);return I==null?null:{location:{pathname:I,search:v,hash:_,state:E,key:A},navigationType:i}},[g,m,v,_,E,A,i]);return C==null?null:ye.createElement(Ro.Provider,{value:p},ye.createElement(zd.Provider,{children:r,value:C}))}function Fb(e){let{children:t,location:r}=e;return vb(_g(t),r)}new Promise(()=>{});function _g(e,t){t===void 0&&(t=[]);let r=[];return ye.Children.forEach(e,(n,i)=>{if(!ye.isValidElement(n))return;let a=[...t,i];if(n.type===ye.Fragment){r.push.apply(r,_g(n.props.children,a));return}n.type!==gf&&Wr(!1),!n.props.index||!n.props.children||Wr(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=_g(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function Pb(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Mb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bb(e,t){return e.button===0&&(!t||t==="_self")&&!Mb(e)}const Lb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ub="6";try{window.__reactRouterVersion=Ub}catch{}const jb="startTransition",cw=NT[jb];function Wb(e){let{basename:t,children:r,future:n,window:i}=e,a=ye.useRef();a.current==null&&(a.current=Hk({window:i,v5Compat:!0}));let l=a.current,[u,g]=ye.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},m=ye.useCallback(v=>{p&&cw?cw(()=>g(v)):g(v)},[g,p]);return ye.useLayoutEffect(()=>l.listen(m),[l,m]),ye.useEffect(()=>Ob(n),[n]),ye.createElement(Db,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uw=ye.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:u,target:g,to:p,preventScrollReset:m,viewTransition:v}=t,_=Pb(t,Lb),{basename:E}=ye.useContext(Ro),A,C=!1;if(typeof p=="string"&&Hb.test(p)&&(A=p,Vb))try{let S=new URL(window.location.href),L=p.startsWith("//")?new URL(S.protocol+p):new URL(p),q=tx(L.pathname,E);L.origin===S.origin&&q!=null?p=q+L.search+L.hash:C=!0}catch{}let I=xb(p,{relative:i}),b=zb(p,{replace:l,state:u,target:g,preventScrollReset:m,relative:i,viewTransition:v});function k(S){n&&n(S),S.defaultPrevented||b(S)}return ye.createElement("a",Eg({},_,{href:A||I,onClick:C||a?n:k,ref:r,target:g}))});var fw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var dw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dw||(dw={}));function zb(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}=t===void 0?{}:t,g=mb(),p=J0(),m=lC(e,{relative:l});return ye.useCallback(v=>{if(Bb(v,r)){v.preventDefault();let _=n!==void 0?n:jf(p)===jf(m);g(e,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,g,m,n,i,r,e,a,l,u])}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oi=(e,t)=>{const r=ye.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:g,...p},m)=>ye.createElement("svg",{ref:m,...Gb,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Xb(e)}`,u].join(" "),...p},[...t.map(([v,_])=>ye.createElement(v,_)),...Array.isArray(g)?g:[g]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=oi("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=oi("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=oi("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=oi("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=oi("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=oi("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=oi("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=oi("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=oi("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=oi("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=oi("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=oi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=oi("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=oi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=function(e,t){if(!e)throw ql(t)},ql=function(e){return new Error("Firebase Database ("+gC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},Qb=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],l=e[r++],u=e[r++],g=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(g>>10)),t[n++]=String.fromCharCode(56320+(g&1023))}else{const a=e[r++],l=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return t.join("")},ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],l=i+1<e.length,u=l?e[i+1]:0,g=i+2<e.length,p=g?e[i+2]:0,m=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|p>>6,E=p&63;g||(E=64,l||(_=64)),n.push(r[m],r[v],r[_],r[E])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Qb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],u=i<e.length?r[e.charAt(i)]:0;++i;const p=i<e.length?r[e.charAt(i)]:64;++i;const v=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||u==null||p==null||v==null)throw new Jb;const _=a<<2|u>>4;if(n.push(_),p!==64){const E=u<<4&240|p>>2;if(n.push(E),v!==64){const A=p<<6&192|v;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xC=function(e){const t=pC(e);return ix.encodeByteArray(t,!0)},Wf=function(e){return xC(e).replace(/\./g,"")},Tg=function(e){try{return ix.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(e){return mC(void 0,e)}function mC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!tI(r)||(e[r]=mC(e[r],t[r]));return e}function tI(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=()=>rI().__FIREBASE_DEFAULTS__,iI=()=>{if(typeof process>"u"||typeof gw>"u")return;const e=gw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Tg(e[1]);return t&&JSON.parse(t)},wC=()=>{try{return nI()||iI()||sI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aI=e=>{var t,r;return(r=(t=wC())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},oI=e=>{const t=aI(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},vC=()=>{var e;return(e=wC())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wf(JSON.stringify(r)),Wf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cI())}function uI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function fI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dI(){return gC.NODE_ADMIN===!0}function _C(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}function hI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="FirebaseError";class Oo extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=gI,Object.setPrototypeOf(this,Oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gd.prototype.create)}}class Gd{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],l=a?pI(a,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Oo(i,u,n)}}function pI(e,t){return e.replace(xI,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const xI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(e){return JSON.parse(e)}function $r(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=function(e){let t={},r={},n={},i="";try{const a=e.split(".");t=k0(Tg(a[0])||""),r=k0(Tg(a[1])||""),i=a[2],n=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:n,signature:i}},mI=function(e){const t=CC(e),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},wI=function(e){const t=CC(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ml(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function pw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vf(e,t,r){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=t.call(r,e[i],i,e));return n}function Hf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],l=t[i];if(xw(a)&&xw(l)){if(!Hf(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function xw(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const n=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)n[v]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)n[v]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let v=16;v<80;v++){const _=n[v-3]^n[v-8]^n[v-14]^n[v-16];n[v]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],g=this.chain_[4],p,m;for(let v=0;v<80;v++){v<40?v<20?(p=u^a&(l^u),m=1518500249):(p=a^l^u,m=1859775393):v<60?(p=a&l|u&(a|l),m=2400959708):(p=a^l^u,m=3395469782);const _=(i<<5|i>>>27)+p+g+m+n[v]&4294967295;g=u,u=l,l=(a<<30|a>>>2)&4294967295,a=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const n=r-this.blockSize;let i=0;const a=this.buf_;let l=this.inbuf_;for(;i<r;){if(l===0)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<r;)if(a[l]=t.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}else for(;i<r;)if(a[l]=t[i],++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)t[n]=this.chain_[i]>>a&255,++n;return t}}function Xd(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>=55296&&i<=56319){const a=i-55296;n++,He(n<e.length,"Surrogate pair missing trail surrogate.");const l=e.charCodeAt(n)-56320;i=65536+(a<<10)+l}i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):i<65536?(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},$d=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=1e3,CI=2,AI=4*60*60*1e3,SI=.5;function mw(e,t=EI,r=CI){const n=t*Math.pow(r,e),i=Math.round(SI*n*(Math.random()-.5)*2);return Math.min(AI,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(e){return e&&e._delegate?e._delegate:e}class zs{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new eu;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bI(t))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ja){return this.instances.has(t)}getOptions(t=Ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:kI(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ja){return this.component?this.component.multipleInstances?t:Ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kI(e){return e===Ja?void 0:e}function bI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new TI(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ir||(ir={}));const RI={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},NI=ir.INFO,OI={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},DI=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=OI[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sx{constructor(t){this.name=t,this._logLevel=NI,this._logHandler=DI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ir))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...t),this._logHandler(this,ir.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...t),this._logHandler(this,ir.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...t),this._logHandler(this,ir.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...t),this._logHandler(this,ir.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...t),this._logHandler(this,ir.ERROR,...t)}}const FI=(e,t)=>t.some(r=>e instanceof r);let ww,vw;function PI(){return ww||(ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MI(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AC=new WeakMap,kg=new WeakMap,SC=new WeakMap,e1=new WeakMap,ax=new WeakMap;function BI(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{r(ba(e.result)),i()},l=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(r=>{r instanceof IDBCursor&&AC.set(r,e)}).catch(()=>{}),ax.set(t,e),t}function LI(e){if(kg.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});kg.set(e,t)}let bg={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return kg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||SC.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ba(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function UI(e){bg=e(bg)}function jI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(t1(this),t,...r);return SC.set(n,t.sort?t.sort():[t]),ba(n)}:MI().includes(e)?function(...t){return e.apply(t1(this),t),ba(AC.get(this))}:function(...t){return ba(e.apply(t1(this),t))}}function WI(e){return typeof e=="function"?jI(e):(e instanceof IDBTransaction&&LI(e),FI(e,PI())?new Proxy(e,bg):e)}function ba(e){if(e instanceof IDBRequest)return BI(e);if(e1.has(e))return e1.get(e);const t=WI(e);return t!==e&&(e1.set(e,t),ax.set(t,e)),t}const t1=e=>ax.get(e);function TC(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(e,t),u=ba(l);return n&&l.addEventListener("upgradeneeded",g=>{n(ba(l.result),g.oldVersion,g.newVersion,ba(l.transaction),g)}),r&&l.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),u.then(g=>{a&&g.addEventListener("close",()=>a()),i&&g.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const VI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],r1=new Map;function yw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(r1.get(t))return r1.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=HI.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||VI.includes(r)))return;const a=async function(l,...u){const g=this.transaction(l,i?"readwrite":"readonly");let p=g.store;return n&&(p=p.index(u.shift())),(await Promise.all([p[r](...u),i&&g.done]))[0]};return r1.set(t,a),a}UI(e=>({...e,get:(t,r,n)=>yw(t,r)||e.get(t,r,n),has:(t,r)=>!!yw(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(GI(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function GI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ig="@firebase/app",_w="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new sx("@firebase/app"),XI="@firebase/app-compat",$I="@firebase/analytics-compat",YI="@firebase/analytics",KI="@firebase/app-check-compat",qI="@firebase/app-check",ZI="@firebase/auth",QI="@firebase/auth-compat",JI="@firebase/database",e6="@firebase/data-connect",t6="@firebase/database-compat",r6="@firebase/functions",n6="@firebase/functions-compat",i6="@firebase/installations",s6="@firebase/installations-compat",a6="@firebase/messaging",o6="@firebase/messaging-compat",l6="@firebase/performance",c6="@firebase/performance-compat",u6="@firebase/remote-config",f6="@firebase/remote-config-compat",d6="@firebase/storage",h6="@firebase/storage-compat",g6="@firebase/firestore",p6="@firebase/vertexai-preview",x6="@firebase/firestore-compat",m6="firebase",w6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="[DEFAULT]",v6={[Ig]:"fire-core",[XI]:"fire-core-compat",[YI]:"fire-analytics",[$I]:"fire-analytics-compat",[qI]:"fire-app-check",[KI]:"fire-app-check-compat",[ZI]:"fire-auth",[QI]:"fire-auth-compat",[JI]:"fire-rtdb",[e6]:"fire-data-connect",[t6]:"fire-rtdb-compat",[r6]:"fire-fn",[n6]:"fire-fn-compat",[i6]:"fire-iid",[s6]:"fire-iid-compat",[a6]:"fire-fcm",[o6]:"fire-fcm-compat",[l6]:"fire-perf",[c6]:"fire-perf-compat",[u6]:"fire-rc",[f6]:"fire-rc-compat",[d6]:"fire-gcs",[h6]:"fire-gcs-compat",[g6]:"fire-fst",[x6]:"fire-fst-compat",[p6]:"fire-vertex","fire-js":"fire-js",[m6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,y6=new Map,Ng=new Map;function Ew(e,t){try{e.container.addComponent(t)}catch(r){Gs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Pa(e){const t=e.name;if(Ng.has(t))return Gs.debug(`There were multiple attempts to register component ${t}.`),!1;Ng.set(t,e);for(const r of zf.values())Ew(r,e);for(const r of y6.values())Ew(r,e);return!0}function tu(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ia=new Gd("app","Firebase",_6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=w6;function kC(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Rg,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw Ia.create("bad-app-name",{appName:String(i)});if(r||(r=vC()),!r)throw Ia.create("no-options");const a=zf.get(i);if(a){if(Hf(r,a.options)&&Hf(n,a.config))return a;throw Ia.create("duplicate-app",{appName:i})}const l=new II(i);for(const g of Ng.values())l.addComponent(g);const u=new E6(r,n,l);return zf.set(i,u),u}function bC(e=Rg){const t=zf.get(e);if(!t&&e===Rg&&vC())return kC();if(!t)throw Ia.create("no-app",{appName:e});return t}function _s(e,t,r){var n;let i=(n=v6[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gs.warn(u.join(" "));return}Pa(new zs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="firebase-heartbeat-database",S6=1,b0="firebase-heartbeat-store";let n1=null;function IC(){return n1||(n1=TC(A6,S6,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(b0)}catch(r){console.warn(r)}}}}).catch(e=>{throw Ia.create("idb-open",{originalErrorMessage:e.message})})),n1}async function T6(e){try{const r=(await IC()).transaction(b0),n=await r.objectStore(b0).get(RC(e));return await r.done,n}catch(t){if(t instanceof Oo)Gs.warn(t.message);else{const r=Ia.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gs.warn(r.message)}}}async function Cw(e,t){try{const n=(await IC()).transaction(b0,"readwrite");await n.objectStore(b0).put(t,RC(e)),await n.done}catch(r){if(r instanceof Oo)Gs.warn(r.message);else{const n=Ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Gs.warn(n.message)}}}function RC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=1024,b6=30*24*60*60*1e3;class I6{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new N6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Aw();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=b6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Gs.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Aw(),{heartbeatsToSend:n,unsentEntries:i}=R6(this._heartbeatsCache.heartbeats),a=Wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Gs.warn(r),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function R6(e,t=k6){const r=[];let n=e.slice();for(const i of e){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Sw(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Sw(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class N6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _C()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await T6(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Sw(e){return Wf(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(e){Pa(new zs("platform-logger",t=>new zI(t),"PRIVATE")),Pa(new zs("heartbeat",t=>new I6(t),"PRIVATE")),_s(Ig,_w,e),_s(Ig,_w,"esm2017"),_s("fire-js","")}O6("");var Tw={};const kw="@firebase/database",bw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NC="";function D6(e){NC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),$r(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:k0(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return As(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new F6(t)}}catch{}return new P6},so=OC("localStorage"),M6=OC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new sx("@firebase/database"),B6=function(){let e=1;return function(){return e++}}(),DC=function(e){const t=_I(e),r=new yI;r.update(t);const n=r.digest();return ix.encodeByteArray(n)},ru=function(...e){let t="";for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?t+=ru.apply(null,n):typeof n=="object"?t+=$r(n):t+=n,t+=" "}return t};let $c=null,Iw=!0;const L6=function(e,t){He(!0,"Can't turn on custom loggers persistently."),El.logLevel=ir.VERBOSE,$c=El.log.bind(El)},gn=function(...e){if(Iw===!0&&(Iw=!1,$c===null&&M6.get("logging_enabled")===!0&&L6()),$c){const t=ru.apply(null,e);$c(t)}},nu=function(e){return function(...t){gn(e,...t)}},Og=function(...e){const t="FIREBASE INTERNAL ERROR: "+ru(...e);El.error(t)},Xs=function(...e){const t=`FIREBASE FATAL ERROR: ${ru(...e)}`;throw El.error(t),new Error(t)},Vn=function(...e){const t="FIREBASE WARNING: "+ru(...e);El.warn(t)},U6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ox=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},j6=function(e){if(document.readyState==="complete")e();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Bl="[MIN_NAME]",vo="[MAX_NAME]",Do=function(e,t){if(e===t)return 0;if(e===Bl||t===vo)return-1;if(t===Bl||e===vo)return 1;{const r=Rw(e),n=Rw(t);return r!==null?n!==null?r-n===0?e.length-t.length:r-n:-1:n!==null?1:e<t?-1:1}},W6=function(e,t){return e===t?0:e<t?-1:1},Ac=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$r(t))},lx=function(e){if(typeof e!="object"||e===null)return $r(e);const t=[];for(const n in e)t.push(n);t.sort();let r="{";for(let n=0;n<t.length;n++)n!==0&&(r+=","),r+=$r(t[n]),r+=":",r+=lx(e[t[n]]);return r+="}",r},FC=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let i=0;i<r;i+=t)i+t>r?n.push(e.substring(i,r)):n.push(e.substring(i,i+t));return n};function vn(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const PC=function(e){He(!ox(e),"Invalid JSON number");const t=11,r=52,n=(1<<t-1)-1;let i,a,l,u,g;e===0?(a=0,l=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(e)/Math.LN2),n),a=u+n,l=Math.round(e*Math.pow(2,r-u)-Math.pow(2,r))):(a=0,l=Math.round(e/Math.pow(2,1-n-r))));const p=[];for(g=r;g;g-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(g=t;g;g-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(i?1:0),p.reverse();const m=p.join("");let v="";for(g=0;g<64;g+=8){let _=parseInt(m.substr(g,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},V6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},H6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function z6(e,t){let r="Unknown Error";e==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?r="Client doesn't have permission to access the desired data.":e==="unavailable"&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}const G6=new RegExp("^-?(0*)\\d{1,10}$"),X6=-2147483648,$6=2147483647,Rw=function(e){if(G6.test(e)){const t=Number(e);if(t>=X6&&t<=$6)return t}return null},Zl=function(e){try{e()}catch(t){setTimeout(()=>{const r=t.stack||"";throw Vn("Exception was thrown by user callback.",r),t},Math.floor(0))}},Y6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yc=function(e,t){const r=setTimeout(e,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Vn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(t,r,n){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(gn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vn(t)}}class pf{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}pf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="5",MC="v",BC="s",LC="r",UC="f",jC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,WC="ls",VC="p",Dg="ac",HC="websocket",zC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,r,n,i,a=!1,l="",u=!1,g=!1){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=so.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&so.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Z6(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function XC(e,t,r){He(typeof t=="string","typeof type must == string"),He(typeof r=="object","typeof params must == object");let n;if(t===HC)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===zC)n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Z6(e)&&(r.ns=e.namespace);const i=[];return vn(r,(a,l)=>{i.push(a+"="+l)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.counters_={}}incrementCounter(t,r=1){As(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return eI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={},s1={};function ux(e){const t=e.toString();return i1[t]||(i1[t]=new Q6),i1[t]}function J6(e,t){const r=e.toString();return s1[r]||(s1[r]=t()),s1[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&Zl(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="start",t5="close",r5="pLPCommand",n5="pRTLPCB",$C="id",YC="pw",KC="ser",i5="cb",s5="seg",a5="ts",o5="d",l5="dframe",qC=1870,ZC=30,c5=qC-ZC,u5=25e3,f5=3e4;class dl{constructor(t,r,n,i,a,l,u){this.connId=t,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nu(t),this.stats_=ux(r),this.urlFn=g=>(this.appCheckToken&&(g[Dg]=this.appCheckToken),XC(r,zC,g))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new e5(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(f5)),j6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fx((...a)=>{const[l,u,g,p,m]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Nw)this.id=u,this.password=g;else if(l===t5)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,u]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const n={};n[Nw]="t",n[KC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[i5]=this.scriptTagHolder.uniqueCallbackIdentifier),n[MC]=cx,this.transportSessionId&&(n[BC]=this.transportSessionId),this.lastSessionId&&(n[WC]=this.lastSessionId),this.applicationId&&(n[VC]=this.applicationId),this.appCheckToken&&(n[Dg]=this.appCheckToken),typeof location<"u"&&location.hostname&&jC.test(location.hostname)&&(n[LC]=UC);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dl.forceAllow_=!0}static forceDisallow(){dl.forceDisallow_=!0}static isAvailable(){return dl.forceAllow_?!0:!dl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!V6()&&!H6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=$r(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=xC(r),i=FC(n,c5);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[l5]="t",n[$C]=t,n[YC]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=$r(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class fx{constructor(t,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=B6(),window[r5+this.uniqueCallbackIdentifier]=t,window[n5+this.uniqueCallbackIdentifier]=r,this.myIFrame=fx.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){gn("frame writing exception"),u.stack&&gn(u.stack),gn(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||gn("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[$C]=this.myID,t[YC]=this.myPW,t[KC]=this.currentSerial;let r=this.urlFn(t),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ZC+n.length<=qC;){const l=this.pendingSegs.shift();n=n+"&"+s5+i+"="+l.seg+"&"+a5+i+"="+l.ts+"&"+o5+i+"="+l.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,n){this.pendingSegs.push({seg:t,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(u5)),a=()=>{clearTimeout(i),n()};this.addTag(t,a)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{gn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=16384,h5=45e3;let Gf=null;typeof MozWebSocket<"u"?Gf=MozWebSocket:typeof WebSocket<"u"&&(Gf=WebSocket);class Qi{constructor(t,r,n,i,a,l,u){this.connId=t,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nu(this.connId),this.stats_=ux(r),this.connURL=Qi.connectionURL_(r,l,u,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,n,i,a){const l={};return l[MC]=cx,typeof location<"u"&&location.hostname&&jC.test(location.hostname)&&(l[LC]=UC),r&&(l[BC]=r),n&&(l[WC]=n),i&&(l[Dg]=i),a&&(l[VC]=a),XC(t,HC,l)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,so.set("previous_websocket_failure",!0);try{let n;dI(),this.mySock=new Gf(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Qi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&Gf!==null&&!Qi.forceDisallow_}static previouslyFailed(){return so.isInMemoryStorage||so.get("previous_websocket_failure")===!0}markConnectionHealthy(){so.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=k0(r);this.onMessage(n)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(He(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(t){this.resetKeepAlive();const r=$r(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=FC(r,d5);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(h5))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qi.responsesRequiredToBeHealthy=2;Qi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[dl,Qi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Qi&&Qi.isAvailable();let n=r&&!Qi.previouslyFailed();if(t.webSocketOnly&&(r||Vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Qi];else{const i=this.transports_=[];for(const a of I0.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);I0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}I0.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=6e4,p5=5e3,x5=10*1024,m5=100*1024,a1="t",Ow="d",w5="s",Dw="r",v5="e",Fw="o",Pw="a",Mw="n",Bw="p",y5="h";class _5{constructor(t,r,n,i,a,l,u,g,p,m){this.id=t,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nu("c:"+this.id+":"),this.transportManager_=new I0(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>m5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>x5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(a1 in t){const r=t[a1];r===Pw?this.upgradeIfSecondaryHealthy_():r===Dw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Fw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ac("t",t),n=Ac("d",t);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Pw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ac("t",t),n=Ac("d",t);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ac(a1,t);if(Ow in t){const n=t[Ow];if(r===y5){const i=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===Mw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===w5?this.onConnectionShutdown_(n):r===Dw?this.onReset_(n):r===v5?Og("Server Error: "+n):r===Fw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Og("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),cx!==n&&Vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),Yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(g5))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(p5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bw,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(so.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{put(t,r,n,i){}merge(t,r,n,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,n){}onDisconnectMerge(t,r,n){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JC=class{constructor(t){this.allowedEvents_=t,this.listeners_={},He(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(t,r,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:n});const i=this.getInitialEvent(t);i&&r.apply(n,i)}off(t,r,n){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===r&&(!n||n===i[a].context)){i.splice(a,1);return}}validateEventType_(t){He(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends JC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xf}getInitialEvent(t){return He(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=32,Uw=768;class Zt{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function Ut(){return new Zt("")}function Rt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ma(e){return e.pieces_.length-e.pieceNum_}function sr(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Zt(e.pieces_,t)}function dx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function E5(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)e.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}function R0(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function e3(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new Zt(t,0)}function br(e,t){const r=[];for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);if(t instanceof Zt)for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);else{const n=t.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new Zt(r,0)}function St(e){return e.pieceNum_>=e.pieces_.length}function Un(e,t){const r=Rt(e),n=Rt(t);if(r===null)return t;if(r===n)return Un(sr(e),sr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function C5(e,t){const r=R0(e,0),n=R0(t,0);for(let i=0;i<r.length&&i<n.length;i++){const a=Do(r[i],n[i]);if(a!==0)return a}return r.length===n.length?0:r.length<n.length?-1:1}function t3(e,t){if(Ma(e)!==Ma(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function Pi(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(Ma(e)>Ma(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class A5{constructor(t,r){this.errorPrefix_=r,this.parts_=R0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=$d(this.parts_[n]);r3(this)}}function S5(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$d(t),r3(e)}function T5(e){const t=e.parts_.pop();e.byteLength_-=$d(t),e.parts_.length>0&&(e.byteLength_-=1)}function r3(e){if(e.byteLength_>Uw)throw new Error(e.errorPrefix_+"has a key path longer than "+Uw+" bytes ("+e.byteLength_+").");if(e.parts_.length>Lw)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Lw+") or object contains a cycle "+eo(e))}function eo(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends JC{constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new hx}getInitialEvent(t){return He(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=1e3,k5=60*5*1e3,jw=30*1e3,b5=1.3,I5=3e4,R5="server_kill",Ww=3;class Ms extends QC{constructor(t,r,n,i,a,l,u,g){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=g,this.id=Ms.nextPersistentConnectionId_++,this.log_=nu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sc,this.maxReconnectDelay_=k5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hx.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Xf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,n){const i=++this.requestNumber_,a={r:i,a:t,b:r};this.log_($r(a)),He(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[i]=n)}get(t){this.initConnection_();const r=new eu,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(t,r,n,i){this.initConnection_();const a=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),He(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),He(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:r,query:t,tag:n};this.listens.get(l).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(t){const r=t.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const a={p:n},l="q";t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(l,a,u=>{const g=u.d,p=u.s;Ms.warnOnListenWarnings_(g,r),(this.listens.get(n)&&this.listens.get(n).get(i))===t&&(this.log_("listen response",u),p!=="ok"&&this.removeListen_(n,i),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&As(t,"w")){const n=Ml(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||wI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jw)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=mI(t)?"auth":"gauth",n={cred:t};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const a=i.s,l=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,n=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(t,r){const n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),He(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,r)}sendUnlisten_(t,r,n,i){this.log_("Unlisten on "+t+" for "+r);const a={p:t},l="n";i&&(a.q=n,a.t=i),this.sendRequest(l,a)}onDisconnectPut(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:n})}onDisconnectMerge(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:n})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,n,i){const a={p:r,d:n};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(t,r,n,i){this.putInternal("p",t,r,n,i)}merge(t,r,n,i){this.putInternal("m",t,r,n,i)}putInternal(t,r,n,i,a){this.initConnection_();const l={p:r,d:n};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:t,request:l,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,n,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const a=n.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+$r(t));const r=t.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Og("Unrecognized action received from server: "+$r(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){He(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>I5&&(this.reconnectDelay_=Sc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*b5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ms.nextConnectionId_++,a=this.lastSessionId;let l=!1,u=null;const g=function(){u?u.close():(l=!0,n())},p=function(v){He(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?gn("getToken() completed but was canceled"):(gn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,u=new _5(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,n,E=>{Vn(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(R5)},a))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&Vn(v),g())}}}interrupt(t){gn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){gn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],pw(this.interruptReasons_)&&(this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let n;r?n=r.map(a=>lx(a)).join("$"):n="default";const i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,r){const n=new Zt(t).toString();let i;if(this.listens.has(n)){const a=this.listens.get(n);i=a.get(r),a.delete(r),a.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(t,r){gn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ww&&(this.reconnectDelay_=jw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){gn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ww&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+NC.replace(/\./g,"-")]=1,yC()?t["framework.cordova"]=1:fI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Xf.getInstance().currentlyOnline();return pw(this.interruptReasons_)&&t}}Ms.nextPersistentConnectionId_=0;Ms.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new At(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const n=new At(Bl,t),i=new At(Bl,r);return this.compare(n,i)!==0}minPost(){return At.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class n3 extends Yd{static get __EMPTY_NODE(){return Hu}static set __EMPTY_NODE(t){Hu=t}compare(t,r){return Do(t.name,r.name)}isDefinedOn(t){throw ql("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return At.MIN}maxPost(){return new At(vo,Hu)}makePost(t,r){return He(typeof t=="string","KeyIndex indexValue must always be a string."),new At(t,Hu)}toString(){return".key"}}const Cl=new n3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,r,n,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(t=t,l=r?n(t.key,r):1,i&&(l*=-1),l<0)this.isReverse_?t=t.left:t=t.right;else if(l===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class sn{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??sn.RED,this.left=i??ti.EMPTY_NODE,this.right=a??ti.EMPTY_NODE}copy(t,r,n,i,a){return new sn(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ti.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let n,i;if(n=this,r(t,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(t,n.key)===0){if(n.right.isEmpty())return ti.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}sn.RED=!0;sn.BLACK=!1;class N5{copy(t,r,n,i,a){return this}insert(t,r,n){return new sn(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ti{constructor(t,r=ti.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ti(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,sn.BLACK,null,null))}remove(t){return new ti(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,sn.BLACK,null,null))}get(t){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(t,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(t){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(t,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new zu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new zu(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new zu(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new zu(this.root_,null,this.comparator_,!0,t)}}ti.EMPTY_NODE=new N5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(e,t){return Do(e.name,t.name)}function gx(e,t){return Do(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg;function D5(e){Fg=e}const i3=function(e){return typeof e=="number"?"number:"+PC(e):"string:"+e},s3=function(e){if(e.isLeafNode()){const t=e.val();He(typeof t=="string"||typeof t=="number"||typeof t=="object"&&As(t,".sv"),"Priority must be a string or number.")}else He(e===Fg||e.isEmpty(),"priority of unexpected type.");He(e===Fg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vw;class tn{constructor(t,r=tn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,He(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),s3(this.priorityNode_)}static set __childrenNodeConstructor(t){Vw=t}static get __childrenNodeConstructor(){return Vw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new tn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:tn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return St(t)?this:Rt(t)===".priority"?this.priorityNode_:tn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:tn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const n=Rt(t);return n===null?r:r.isEmpty()&&n!==".priority"?this:(He(n!==".priority"||Ma(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,tn.__childrenNodeConstructor.EMPTY_NODE.updateChild(sr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+i3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=PC(this.value_):t+=this.value_,this.lazyHash_=DC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===tn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof tn.__childrenNodeConstructor?-1:(He(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,n=typeof this.value_,i=tn.VALUE_TYPE_ORDER.indexOf(r),a=tn.VALUE_TYPE_ORDER.indexOf(n);return He(i>=0,"Unknown leaf type: "+r),He(a>=0,"Unknown leaf type: "+n),i===a?n==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}tn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a3,o3;function F5(e){a3=e}function P5(e){o3=e}class M5 extends Yd{compare(t,r){const n=t.node.getPriority(),i=r.node.getPriority(),a=n.compareTo(i);return a===0?Do(t.name,r.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return At.MIN}maxPost(){return new At(vo,new tn("[PRIORITY-POST]",o3))}makePost(t,r){const n=a3(t);return new At(r,new tn("[PRIORITY-POST]",n))}toString(){return".priority"}}const Ir=new M5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=Math.log(2);class L5{constructor(t){const r=a=>parseInt(Math.log(a)/B5,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const i=n(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $f=function(e,t,r,n){e.sort(t);const i=function(g,p){const m=p-g;let v,_;if(m===0)return null;if(m===1)return v=e[g],_=r?r(v):v,new sn(_,v.node,sn.BLACK,null,null);{const E=parseInt(m/2,10)+g,A=i(g,E),C=i(E+1,p);return v=e[E],_=r?r(v):v,new sn(_,v.node,sn.BLACK,A,C)}},a=function(g){let p=null,m=null,v=e.length;const _=function(A,C){const I=v-A,b=v;v-=A;const k=i(I+1,b),S=e[I],L=r?r(S):S;E(new sn(L,S.node,C,null,k))},E=function(A){p?(p.left=A,p=A):(m=A,p=A)};for(let A=0;A<g.count;++A){const C=g.nextBitIsOne(),I=Math.pow(2,g.count-(A+1));C?_(I,sn.BLACK):(_(I,sn.BLACK),_(I,sn.RED))}return m},l=new L5(e.length),u=a(l);return new ti(n||t,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o1;const qo={};class Ds{constructor(t,r){this.indexes_=t,this.indexSet_=r}static get Default(){return He(qo&&Ir,"ChildrenNode.ts has not been loaded"),o1=o1||new Ds({".priority":qo},{".priority":Ir}),o1}get(t){const r=Ml(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ti?r:null}hasIndex(t){return As(this.indexSet_,t.toString())}addIndex(t,r){He(t!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const a=r.getIterator(At.Wrap);let l=a.getNext();for(;l;)i=i||t.isDefinedOn(l.node),n.push(l),l=a.getNext();let u;i?u=$f(n,t.getCompare()):u=qo;const g=t.toString(),p=Object.assign({},this.indexSet_);p[g]=t;const m=Object.assign({},this.indexes_);return m[g]=u,new Ds(m,p)}addToIndexes(t,r){const n=Vf(this.indexes_,(i,a)=>{const l=Ml(this.indexSet_,a);if(He(l,"Missing index implementation for "+a),i===qo)if(l.isDefinedOn(t.node)){const u=[],g=r.getIterator(At.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&u.push(p),p=g.getNext();return u.push(t),$f(u,l.getCompare())}else return qo;else{const u=r.get(t.name);let g=i;return u&&(g=g.remove(new At(t.name,u))),g.insert(t,t.node)}});return new Ds(n,this.indexSet_)}removeFromIndexes(t,r){const n=Vf(this.indexes_,i=>{if(i===qo)return i;{const a=r.get(t.name);return a?i.remove(new At(t.name,a)):i}});return new Ds(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;class at{constructor(t,r,n){this.children_=t,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&s3(this.priorityNode_),this.children_.isEmpty()&&He(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tc||(Tc=new at(new ti(gx),null,Ds.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tc}updatePriority(t){return this.children_.isEmpty()?this:new at(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Tc:r}}getChild(t){const r=Rt(t);return r===null?this:this.getImmediateChild(r).getChild(sr(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(He(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const n=new At(t,r);let i,a;r.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(t,r),a=this.indexMap_.addToIndexes(n,this.children_));const l=i.isEmpty()?Tc:this.priorityNode_;return new at(i,l,a)}}updateChild(t,r){const n=Rt(t);if(n===null)return r;{He(Rt(t)!==".priority"||Ma(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(sr(t),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let n=0,i=0,a=!0;if(this.forEachChild(Ir,(l,u)=>{r[l]=u.val(t),n++,a&&at.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):a=!1}),!t&&a&&i<2*n){const l=[];for(const u in r)l[u]=r[u];return l}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+i3(this.getPriority().val())+":"),this.forEachChild(Ir,(r,n)=>{const i=n.hash();i!==""&&(t+=":"+r+":"+i)}),this.lazyHash_=t===""?"":DC(t)}return this.lazyHash_}getPredecessorChildName(t,r,n){const i=this.resolveIndex_(n);if(i){const a=i.getPredecessorKey(new At(t,r));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new At(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new At(r,this.children_.get(r)):null}forEachChild(t,r){const n=this.resolveIndex_(t);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,At.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,At.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===iu?-1:0}withIndex(t){if(t===Cl||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new at(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Cl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(Ir),i=r.getIterator(Ir);let a=n.getNext(),l=i.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=n.getNext(),l=i.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(t){return t===Cl?null:this.indexMap_.get(t.toString())}}at.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class U5 extends at{constructor(){super(new ti(gx),at.EMPTY_NODE,Ds.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return at.EMPTY_NODE}isEmpty(){return!1}}const iu=new U5;Object.defineProperties(At,{MIN:{value:new At(Bl,at.EMPTY_NODE)},MAX:{value:new At(vo,iu)}});n3.__EMPTY_NODE=at.EMPTY_NODE;tn.__childrenNodeConstructor=at;D5(iu);P5(iu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=!0;function Xr(e,t=null){if(e===null)return at.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),He(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const r=e;return new tn(r,Xr(t))}if(!(e instanceof Array)&&j5){const r=[];let n=!1;if(vn(e,(l,u)=>{if(l.substring(0,1)!=="."){const g=Xr(u);g.isEmpty()||(n=n||!g.getPriority().isEmpty(),r.push(new At(l,g)))}}),r.length===0)return at.EMPTY_NODE;const a=$f(r,O5,l=>l.name,gx);if(n){const l=$f(r,Ir.getCompare());return new at(a,Xr(t),new Ds({".priority":l},{".priority":Ir}))}else return new at(a,Xr(t),Ds.Default)}else{let r=at.EMPTY_NODE;return vn(e,(n,i)=>{if(As(e,n)&&n.substring(0,1)!=="."){const a=Xr(i);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(n,a))}}),r.updatePriority(Xr(t))}}F5(Xr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5 extends Yd{constructor(t){super(),this.indexPath_=t,He(!St(t)&&Rt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const n=this.extractChild(t.node),i=this.extractChild(r.node),a=n.compareTo(i);return a===0?Do(t.name,r.name):a}makePost(t,r){const n=Xr(t),i=at.EMPTY_NODE.updateChild(this.indexPath_,n);return new At(r,i)}maxPost(){const t=at.EMPTY_NODE.updateChild(this.indexPath_,iu);return new At(vo,t)}toString(){return R0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5 extends Yd{compare(t,r){const n=t.node.compareTo(r.node);return n===0?Do(t.name,r.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(t,r){const n=Xr(t);return new At(r,n)}toString(){return".value"}}const H5=new V5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(e){return{type:"value",snapshotNode:e}}function Ll(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function N0(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function O0(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}function z5(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t){this.index_=t}updateChild(t,r,n,i,a,l){He(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(r);return u.getChild(i).equals(n.getChild(i))&&u.isEmpty()===n.isEmpty()||(l!=null&&(n.isEmpty()?t.hasChild(r)?l.trackChildChange(N0(r,u)):He(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Ll(r,n)):l.trackChildChange(O0(r,n,u))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(t,r,n){return n!=null&&(t.isLeafNode()||t.forEachChild(Ir,(i,a)=>{r.hasChild(i)||n.trackChildChange(N0(i,a))}),r.isLeafNode()||r.forEachChild(Ir,(i,a)=>{if(t.hasChild(i)){const l=t.getImmediateChild(i);l.equals(a)||n.trackChildChange(O0(i,a,l))}else n.trackChildChange(Ll(i,a))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?at.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t){this.indexedFilter_=new px(t.getIndex()),this.index_=t.getIndex(),this.startPost_=D0.getStartPost_(t),this.endPost_=D0.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&n}updateChild(t,r,n,i,a,l){return this.matches(new At(r,n))||(n=at.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,n,i,a,l)}updateFullNode(t,r,n){r.isLeafNode()&&(r=at.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(at.EMPTY_NODE);const a=this;return r.forEachChild(Ir,(l,u)=>{a.matches(new At(l,u))||(i=i.updateImmediateChild(l,at.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new D0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,n,i,a,l){return this.rangedFilter_.matches(new At(r,n))||(n=at.EMPTY_NODE),t.getImmediateChild(r).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,n,i,a,l):this.fullLimitUpdateChild_(t,r,n,a,l)}updateFullNode(t,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=at.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=at.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const u=a.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(at.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let l=0;for(;a.hasNext();){const u=a.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:i=i.updateImmediateChild(u.name,at.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,n,i,a){let l;if(this.reverse_){const v=this.index_.getCompare();l=(_,E)=>v(E,_)}else l=this.index_.getCompare();const u=t;He(u.numChildren()===this.limit_,"");const g=new At(r,n),p=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(g);if(u.hasChild(r)){const v=u.getImmediateChild(r);let _=i.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===r||u.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const E=_==null?1:l(_,g);if(m&&!n.isEmpty()&&E>=0)return a!=null&&a.trackChildChange(O0(r,n,v)),u.updateImmediateChild(r,n);{a!=null&&a.trackChildChange(N0(r,v));const C=u.updateImmediateChild(r,at.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(a!=null&&a.trackChildChange(Ll(_.name,_.node)),C.updateImmediateChild(_.name,_.node)):C}}else return n.isEmpty()?t:m&&l(p,g)>=0?(a!=null&&(a.trackChildChange(N0(p.name,p.node)),a.trackChildChange(Ll(r,n))),u.updateImmediateChild(r,n).updateImmediateChild(p.name,at.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ir}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return He(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return He(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bl}hasEnd(){return this.endSet_}getIndexEndValue(){return He(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return He(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return He(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ir}copy(){const t=new xx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function X5(e){return e.loadsAllData()?new px(e.getIndex()):e.hasLimit()?new G5(e):new D0(e)}function Hw(e){const t={};if(e.isDefault())return t;let r;if(e.index_===Ir?r="$priority":e.index_===H5?r="$value":e.index_===Cl?r="$key":(He(e.index_ instanceof W5,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=$r(r),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=$r(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+$r(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=$r(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+$r(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function zw(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;r===""&&(e.isViewFromLeft()?r="l":r="r"),t.vf=r}return e.index_!==Ir&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends QC{constructor(t,r,n,i){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=nu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(He(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,r,n,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const l=Yf.getListenId_(t,n),u={};this.listens_[l]=u;const g=Hw(t._queryParams);this.restRequest_(a+".json",g,(p,m)=>{let v=m;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(a,v,!1,n),Ml(this.listens_,l)===u){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",i(_,null)}})}unlisten(t,r){const n=Yf.getListenId_(t,r);delete this.listens_[n]}get(t){const r=Hw(t._queryParams),n=t._path.toString(),i=new eu;return this.restRequest_(n+".json",r,(a,l)=>{let u=l;a===404&&(u=null,a=null),a===null?(this.onDataUpdate_(n,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(t){}restRequest_(t,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(r.auth=i.accessToken),a&&a.token&&(r.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+vI(r);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let g=null;if(u.status>=200&&u.status<300){try{g=k0(u.responseText)}catch{Vn("Failed to parse JSON response for "+l+": "+u.responseText)}n(null,g)}else u.status!==401&&u.status!==404&&Vn("Got unsuccessful REST response for "+l+" Status: "+u.status),n(u.status);n=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){return{value:null,children:new Map}}function c3(e,t,r){if(St(t))e.value=r,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,r);else{const n=Rt(t);e.children.has(n)||e.children.set(n,Kf());const i=e.children.get(n);t=sr(t),c3(i,t,r)}}function Pg(e,t,r){e.value!==null?r(t,e.value):Y5(e,(n,i)=>{const a=new Zt(t.toString()+"/"+n);Pg(i,a,r)})}function Y5(e,t){e.children.forEach((r,n)=>{t(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&vn(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=10*1e3,q5=30*1e3,Z5=5*60*1e3;class Q5{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new K5(t);const n=Gw+(q5-Gw)*Math.random();Yc(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),r={};let n=!1;vn(t,(i,a)=>{a>0&&As(this.statsToReport_,i)&&(r[i]=a,n=!0)}),n&&this.server_.reportStats(r),Yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Z5))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(es||(es={}));function mx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,r,n){this.path=t,this.affectedTree=r,this.revert=n,this.type=es.ACK_USER_WRITE,this.source=mx()}operationForChild(t){if(St(this.path)){if(this.affectedTree.value!=null)return He(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Zt(t));return new qf(Ut(),r,this.revert)}}else return He(Rt(this.path)===t,"operationForChild called for unrelated child."),new qf(sr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,r){this.source=t,this.path=r,this.type=es.LISTEN_COMPLETE}operationForChild(t){return St(this.path)?new F0(this.source,Ut()):new F0(this.source,sr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,r,n){this.source=t,this.path=r,this.snap=n,this.type=es.OVERWRITE}operationForChild(t){return St(this.path)?new yo(this.source,Ut(),this.snap.getImmediateChild(t)):new yo(this.source,sr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,r,n){this.source=t,this.path=r,this.children=n,this.type=es.MERGE}operationForChild(t){if(St(this.path)){const r=this.children.subtree(new Zt(t));return r.isEmpty()?null:r.value?new yo(this.source,Ut(),r.value):new Ul(this.source,Ut(),r)}else return He(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ul(this.source,sr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,r,n){this.node_=t,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(St(t))return this.isFullyInitialized()&&!this.filtered_;const r=Rt(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function eR(e,t,r,n){const i=[],a=[];return t.forEach(l=>{l.type==="child_changed"&&e.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(z5(l.childName,l.snapshotNode))}),kc(e,i,"child_removed",t,n,r),kc(e,i,"child_added",t,n,r),kc(e,i,"child_moved",a,n,r),kc(e,i,"child_changed",t,n,r),kc(e,i,"value",t,n,r),i}function kc(e,t,r,n,i,a){const l=n.filter(u=>u.type===r);l.sort((u,g)=>rR(e,u,g)),l.forEach(u=>{const g=tR(e,u,a);i.forEach(p=>{p.respondsTo(u.type)&&t.push(p.createEvent(g,e.query_))})})}function tR(e,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function rR(e,t,r){if(t.childName==null||r.childName==null)throw ql("Should only compare child_ events.");const n=new At(t.childName,t.snapshotNode),i=new At(r.childName,r.snapshotNode);return e.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(e,t){return{eventCache:e,serverCache:t}}function Kc(e,t,r,n){return Kd(new Ba(t,r,n),e.serverCache)}function u3(e,t,r,n){return Kd(e.eventCache,new Ba(t,r,n))}function Zf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function _o(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1;const nR=()=>(l1||(l1=new ti(W6)),l1);class nr{constructor(t,r=nR()){this.value=t,this.children=r}static fromObject(t){let r=new nr(null);return vn(t,(n,i)=>{r=r.set(new Zt(n),i)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:Ut(),value:this.value};if(St(t))return null;{const n=Rt(t),i=this.children.get(n);if(i!==null){const a=i.findRootMostMatchingPathAndValue(sr(t),r);return a!=null?{path:br(new Zt(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(St(t))return this;{const r=Rt(t),n=this.children.get(r);return n!==null?n.subtree(sr(t)):new nr(null)}}set(t,r){if(St(t))return new nr(r,this.children);{const n=Rt(t),a=(this.children.get(n)||new nr(null)).set(sr(t),r),l=this.children.insert(n,a);return new nr(this.value,l)}}remove(t){if(St(t))return this.children.isEmpty()?new nr(null):new nr(null,this.children);{const r=Rt(t),n=this.children.get(r);if(n){const i=n.remove(sr(t));let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),this.value===null&&a.isEmpty()?new nr(null):new nr(this.value,a)}else return this}}get(t){if(St(t))return this.value;{const r=Rt(t),n=this.children.get(r);return n?n.get(sr(t)):null}}setTree(t,r){if(St(t))return r;{const n=Rt(t),a=(this.children.get(n)||new nr(null)).setTree(sr(t),r);let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),new nr(this.value,l)}}fold(t){return this.fold_(Ut(),t)}fold_(t,r){const n={};return this.children.inorderTraversal((i,a)=>{n[i]=a.fold_(br(t,i),r)}),r(t,this.value,n)}findOnPath(t,r){return this.findOnPath_(t,Ut(),r)}findOnPath_(t,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(St(t))return null;{const a=Rt(t),l=this.children.get(a);return l?l.findOnPath_(sr(t),br(r,a),n):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,Ut(),r)}foreachOnPath_(t,r,n){if(St(t))return this;{this.value&&n(r,this.value);const i=Rt(t),a=this.children.get(i);return a?a.foreachOnPath_(sr(t),br(r,i),n):new nr(null)}}foreach(t){this.foreach_(Ut(),t)}foreach_(t,r){this.children.inorderTraversal((n,i)=>{i.foreach_(br(t,n),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,n)=>{n.value&&t(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this.writeTree_=t}static empty(){return new ss(new nr(null))}}function qc(e,t,r){if(St(t))return new ss(new nr(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(n!=null){const i=n.path;let a=n.value;const l=Un(i,t);return a=a.updateChild(l,r),new ss(e.writeTree_.set(i,a))}else{const i=new nr(r),a=e.writeTree_.setTree(t,i);return new ss(a)}}}function Mg(e,t,r){let n=e;return vn(r,(i,a)=>{n=qc(n,br(t,i),a)}),n}function Xw(e,t){if(St(t))return ss.empty();{const r=e.writeTree_.setTree(t,new nr(null));return new ss(r)}}function Bg(e,t){return Fo(e,t)!=null}function Fo(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return r!=null?e.writeTree_.get(r.path).getChild(Un(r.path,t)):null}function $w(e){const t=[],r=e.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ir,(n,i)=>{t.push(new At(n,i))}):e.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&t.push(new At(n,i.value))}),t}function Ra(e,t){if(St(t))return e;{const r=Fo(e,t);return r!=null?new ss(new nr(r)):new ss(e.writeTree_.subtree(t))}}function Lg(e){return e.writeTree_.isEmpty()}function jl(e,t){return f3(Ut(),e.writeTree_,t)}function f3(e,t,r){if(t.value!=null)return r.updateChild(e,t.value);{let n=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(He(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):r=f3(br(e,i),a,r)}),!r.getChild(e).isEmpty()&&n!==null&&(r=r.updateChild(br(e,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(e,t){return p3(t,e)}function iR(e,t,r,n,i){He(n>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:i}),i&&(e.visibleWrites=qc(e.visibleWrites,t,r)),e.lastWriteId=n}function sR(e,t,r,n){He(n>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:r,writeId:n,visible:!0}),e.visibleWrites=Mg(e.visibleWrites,t,r),e.lastWriteId=n}function aR(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}function oR(e,t){const r=e.allWrites.findIndex(u=>u.writeId===t);He(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let i=n.visible,a=!1,l=e.allWrites.length-1;for(;i&&l>=0;){const u=e.allWrites[l];u.visible&&(l>=r&&lR(u,n.path)?i=!1:Pi(n.path,u.path)&&(a=!0)),l--}if(i){if(a)return cR(e),!0;if(n.snap)e.visibleWrites=Xw(e.visibleWrites,n.path);else{const u=n.children;vn(u,g=>{e.visibleWrites=Xw(e.visibleWrites,br(n.path,g))})}return!0}else return!1}function lR(e,t){if(e.snap)return Pi(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&Pi(br(e.path,r),t))return!0;return!1}function cR(e){e.visibleWrites=d3(e.allWrites,uR,Ut()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function uR(e){return e.visible}function d3(e,t,r){let n=ss.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const l=a.path;let u;if(a.snap)Pi(r,l)?(u=Un(r,l),n=qc(n,u,a.snap)):Pi(l,r)&&(u=Un(l,r),n=qc(n,Ut(),a.snap.getChild(u)));else if(a.children){if(Pi(r,l))u=Un(r,l),n=Mg(n,u,a.children);else if(Pi(l,r))if(u=Un(l,r),St(u))n=Mg(n,Ut(),a.children);else{const g=Ml(a.children,Rt(u));if(g){const p=g.getChild(sr(u));n=qc(n,Ut(),p)}}}else throw ql("WriteRecord should have .snap or .children")}}return n}function h3(e,t,r,n,i){if(!n&&!i){const a=Fo(e.visibleWrites,t);if(a!=null)return a;{const l=Ra(e.visibleWrites,t);if(Lg(l))return r;if(r==null&&!Bg(l,Ut()))return null;{const u=r||at.EMPTY_NODE;return jl(l,u)}}}else{const a=Ra(e.visibleWrites,t);if(!i&&Lg(a))return r;if(!i&&r==null&&!Bg(a,Ut()))return null;{const l=function(p){return(p.visible||i)&&(!n||!~n.indexOf(p.writeId))&&(Pi(p.path,t)||Pi(t,p.path))},u=d3(e.allWrites,l,t),g=r||at.EMPTY_NODE;return jl(u,g)}}}function fR(e,t,r){let n=at.EMPTY_NODE;const i=Fo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ir,(a,l)=>{n=n.updateImmediateChild(a,l)}),n;if(r){const a=Ra(e.visibleWrites,t);return r.forEachChild(Ir,(l,u)=>{const g=jl(Ra(a,new Zt(l)),u);n=n.updateImmediateChild(l,g)}),$w(a).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}else{const a=Ra(e.visibleWrites,t);return $w(a).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}}function dR(e,t,r,n,i){He(n||i,"Either existingEventSnap or existingServerSnap must exist");const a=br(t,r);if(Bg(e.visibleWrites,a))return null;{const l=Ra(e.visibleWrites,a);return Lg(l)?i.getChild(r):jl(l,i.getChild(r))}}function hR(e,t,r,n){const i=br(t,r),a=Fo(e.visibleWrites,i);if(a!=null)return a;if(n.isCompleteForChild(r)){const l=Ra(e.visibleWrites,i);return jl(l,n.getNode().getImmediateChild(r))}else return null}function gR(e,t){return Fo(e.visibleWrites,t)}function pR(e,t,r,n,i,a,l){let u;const g=Ra(e.visibleWrites,t),p=Fo(g,Ut());if(p!=null)u=p;else if(r!=null)u=jl(g,r);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const m=[],v=l.getCompare(),_=a?u.getReverseIteratorFrom(n,l):u.getIteratorFrom(n,l);let E=_.getNext();for(;E&&m.length<i;)v(E,n)!==0&&m.push(E),E=_.getNext();return m}else return[]}function xR(){return{visibleWrites:ss.empty(),allWrites:[],lastWriteId:-1}}function Qf(e,t,r,n){return h3(e.writeTree,e.treePath,t,r,n)}function yx(e,t){return fR(e.writeTree,e.treePath,t)}function Yw(e,t,r,n){return dR(e.writeTree,e.treePath,t,r,n)}function Jf(e,t){return gR(e.writeTree,br(e.treePath,t))}function mR(e,t,r,n,i,a){return pR(e.writeTree,e.treePath,t,r,n,i,a)}function _x(e,t,r){return hR(e.writeTree,e.treePath,t,r)}function g3(e,t){return p3(br(e.treePath,t),e.writeTree)}function p3(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,n=t.childName;He(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),He(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const a=i.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(n,O0(n,t.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(n,N0(n,i.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(n,Ll(n,t.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(n,O0(n,t.snapshotNode,i.oldSnap));else throw ql("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{getCompleteChild(t){return null}getChildAfterChild(t,r,n){return null}}const x3=new vR;class Ex{constructor(t,r,n=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const n=this.optCompleteServerCache_!=null?new Ba(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _x(this.writes_,t,n)}}getChildAfterChild(t,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_o(this.viewCache_),a=mR(this.writes_,i,r,1,n,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(e){return{filter:e}}function _R(e,t){He(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),He(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function ER(e,t,r,n,i){const a=new wR;let l,u;if(r.type===es.OVERWRITE){const p=r;p.source.fromUser?l=Ug(e,t,p.path,p.snap,n,i,a):(He(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered()&&!St(p.path),l=ed(e,t,p.path,p.snap,n,i,u,a))}else if(r.type===es.MERGE){const p=r;p.source.fromUser?l=AR(e,t,p.path,p.children,n,i,a):(He(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered(),l=jg(e,t,p.path,p.children,n,i,u,a))}else if(r.type===es.ACK_USER_WRITE){const p=r;p.revert?l=kR(e,t,p.path,n,i,a):l=SR(e,t,p.path,p.affectedTree,n,i,a)}else if(r.type===es.LISTEN_COMPLETE)l=TR(e,t,r.path,n,a);else throw ql("Unknown operation type: "+r.type);const g=a.getChanges();return CR(t,l,g),{viewCache:l,changes:g}}function CR(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=Zf(e);(r.length>0||!e.eventCache.isFullyInitialized()||i&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&r.push(l3(Zf(t)))}}function m3(e,t,r,n,i,a){const l=t.eventCache;if(Jf(n,r)!=null)return t;{let u,g;if(St(r))if(He(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=_o(t),m=p instanceof at?p:at.EMPTY_NODE,v=yx(n,m);u=e.filter.updateFullNode(t.eventCache.getNode(),v,a)}else{const p=Qf(n,_o(t));u=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{const p=Rt(r);if(p===".priority"){He(Ma(r)===1,"Can't have a priority with additional path components");const m=l.getNode();g=t.serverCache.getNode();const v=Yw(n,r,m,g);v!=null?u=e.filter.updatePriority(m,v):u=l.getNode()}else{const m=sr(r);let v;if(l.isCompleteForChild(p)){g=t.serverCache.getNode();const _=Yw(n,r,l.getNode(),g);_!=null?v=l.getNode().getImmediateChild(p).updateChild(m,_):v=l.getNode().getImmediateChild(p)}else v=_x(n,p,t.serverCache);v!=null?u=e.filter.updateChild(l.getNode(),p,v,m,i,a):u=l.getNode()}}return Kc(t,u,l.isFullyInitialized()||St(r),e.filter.filtersNodes())}}function ed(e,t,r,n,i,a,l,u){const g=t.serverCache;let p;const m=l?e.filter:e.filter.getIndexedFilter();if(St(r))p=m.updateFullNode(g.getNode(),n,null);else if(m.filtersNodes()&&!g.isFiltered()){const E=g.getNode().updateChild(r,n);p=m.updateFullNode(g.getNode(),E,null)}else{const E=Rt(r);if(!g.isCompleteForPath(r)&&Ma(r)>1)return t;const A=sr(r),I=g.getNode().getImmediateChild(E).updateChild(A,n);E===".priority"?p=m.updatePriority(g.getNode(),I):p=m.updateChild(g.getNode(),E,I,A,x3,null)}const v=u3(t,p,g.isFullyInitialized()||St(r),m.filtersNodes()),_=new Ex(i,v,a);return m3(e,v,r,i,_,u)}function Ug(e,t,r,n,i,a,l){const u=t.eventCache;let g,p;const m=new Ex(i,t,a);if(St(r))p=e.filter.updateFullNode(t.eventCache.getNode(),n,l),g=Kc(t,p,!0,e.filter.filtersNodes());else{const v=Rt(r);if(v===".priority")p=e.filter.updatePriority(t.eventCache.getNode(),n),g=Kc(t,p,u.isFullyInitialized(),u.isFiltered());else{const _=sr(r),E=u.getNode().getImmediateChild(v);let A;if(St(_))A=n;else{const C=m.getCompleteChild(v);C!=null?dx(_)===".priority"&&C.getChild(e3(_)).isEmpty()?A=C:A=C.updateChild(_,n):A=at.EMPTY_NODE}if(E.equals(A))g=t;else{const C=e.filter.updateChild(u.getNode(),v,A,_,m,l);g=Kc(t,C,u.isFullyInitialized(),e.filter.filtersNodes())}}}return g}function Kw(e,t){return e.eventCache.isCompleteForChild(t)}function AR(e,t,r,n,i,a,l){let u=t;return n.foreach((g,p)=>{const m=br(r,g);Kw(t,Rt(m))&&(u=Ug(e,u,m,p,i,a,l))}),n.foreach((g,p)=>{const m=br(r,g);Kw(t,Rt(m))||(u=Ug(e,u,m,p,i,a,l))}),u}function qw(e,t,r){return r.foreach((n,i)=>{t=t.updateChild(n,i)}),t}function jg(e,t,r,n,i,a,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;St(r)?p=n:p=new nr(null).setTree(r,n);const m=t.serverCache.getNode();return p.children.inorderTraversal((v,_)=>{if(m.hasChild(v)){const E=t.serverCache.getNode().getImmediateChild(v),A=qw(e,E,_);g=ed(e,g,new Zt(v),A,i,a,l,u)}}),p.children.inorderTraversal((v,_)=>{const E=!t.serverCache.isCompleteForChild(v)&&_.value===null;if(!m.hasChild(v)&&!E){const A=t.serverCache.getNode().getImmediateChild(v),C=qw(e,A,_);g=ed(e,g,new Zt(v),C,i,a,l,u)}}),g}function SR(e,t,r,n,i,a,l){if(Jf(i,r)!=null)return t;const u=t.serverCache.isFiltered(),g=t.serverCache;if(n.value!=null){if(St(r)&&g.isFullyInitialized()||g.isCompleteForPath(r))return ed(e,t,r,g.getNode().getChild(r),i,a,u,l);if(St(r)){let p=new nr(null);return g.getNode().forEachChild(Cl,(m,v)=>{p=p.set(new Zt(m),v)}),jg(e,t,r,p,i,a,u,l)}else return t}else{let p=new nr(null);return n.foreach((m,v)=>{const _=br(r,m);g.isCompleteForPath(_)&&(p=p.set(m,g.getNode().getChild(_)))}),jg(e,t,r,p,i,a,u,l)}}function TR(e,t,r,n,i){const a=t.serverCache,l=u3(t,a.getNode(),a.isFullyInitialized()||St(r),a.isFiltered());return m3(e,l,r,n,x3,i)}function kR(e,t,r,n,i,a){let l;if(Jf(n,r)!=null)return t;{const u=new Ex(n,t,i),g=t.eventCache.getNode();let p;if(St(r)||Rt(r)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=Qf(n,_o(t));else{const v=t.serverCache.getNode();He(v instanceof at,"serverChildren would be complete if leaf node"),m=yx(n,v)}m=m,p=e.filter.updateFullNode(g,m,a)}else{const m=Rt(r);let v=_x(n,m,t.serverCache);v==null&&t.serverCache.isCompleteForChild(m)&&(v=g.getImmediateChild(m)),v!=null?p=e.filter.updateChild(g,m,v,sr(r),u,a):t.eventCache.getNode().hasChild(m)?p=e.filter.updateChild(g,m,at.EMPTY_NODE,sr(r),u,a):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=Qf(n,_o(t)),l.isLeafNode()&&(p=e.filter.updateFullNode(p,l,a)))}return l=t.serverCache.isFullyInitialized()||Jf(n,Ut())!=null,Kc(t,p,l,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new px(n.getIndex()),a=X5(n);this.processor_=yR(a);const l=r.serverCache,u=r.eventCache,g=i.updateFullNode(at.EMPTY_NODE,l.getNode(),null),p=a.updateFullNode(at.EMPTY_NODE,u.getNode(),null),m=new Ba(g,l.isFullyInitialized(),i.filtersNodes()),v=new Ba(p,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=Kd(v,m),this.eventGenerator_=new J5(this.query_)}get query(){return this.query_}}function IR(e){return e.viewCache_.serverCache.getNode()}function RR(e){return Zf(e.viewCache_)}function NR(e,t){const r=_o(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!St(t)&&!r.getImmediateChild(Rt(t)).isEmpty())?r.getChild(t):null}function Zw(e){return e.eventRegistrations_.length===0}function OR(e,t){e.eventRegistrations_.push(t)}function Qw(e,t,r){const n=[];if(r){He(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(r,i);l&&n.push(l)})}if(t){let i=[];for(let a=0;a<e.eventRegistrations_.length;++a){const l=e.eventRegistrations_[a];if(!l.matches(t))i.push(l);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return n}function Jw(e,t,r,n){t.type===es.MERGE&&t.source.queryId!==null&&(He(_o(e.viewCache_),"We should always have a full cache before handling merges"),He(Zf(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=ER(e.processor_,i,t,r,n);return _R(e.processor_,a.viewCache),He(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,w3(e,a.changes,a.viewCache.eventCache.getNode(),null)}function DR(e,t){const r=e.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ir,(a,l)=>{n.push(Ll(a,l))}),r.isFullyInitialized()&&n.push(l3(r.getNode())),w3(e,n,r.getNode(),t)}function w3(e,t,r,n){const i=n?[n]:e.eventRegistrations_;return eR(e.eventGenerator_,t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td;class v3{constructor(){this.views=new Map}}function FR(e){He(!td,"__referenceConstructor has already been defined"),td=e}function PR(){return He(td,"Reference.ts has not been loaded"),td}function MR(e){return e.views.size===0}function Cx(e,t,r,n){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return He(a!=null,"SyncTree gave us an op for an invalid query."),Jw(a,t,r,n)}else{let a=[];for(const l of e.views.values())a=a.concat(Jw(l,t,r,n));return a}}function y3(e,t,r,n,i){const a=t._queryIdentifier,l=e.views.get(a);if(!l){let u=Qf(r,i?n:null),g=!1;u?g=!0:n instanceof at?(u=yx(r,n),g=!1):(u=at.EMPTY_NODE,g=!1);const p=Kd(new Ba(u,g,!1),new Ba(n,i,!1));return new bR(t,p)}return l}function BR(e,t,r,n,i,a){const l=y3(e,t,n,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,l),OR(l,r),DR(l,r)}function LR(e,t,r,n){const i=t._queryIdentifier,a=[];let l=[];const u=La(e);if(i==="default")for(const[g,p]of e.views.entries())l=l.concat(Qw(p,r,n)),Zw(p)&&(e.views.delete(g),p.query._queryParams.loadsAllData()||a.push(p.query));else{const g=e.views.get(i);g&&(l=l.concat(Qw(g,r,n)),Zw(g)&&(e.views.delete(i),g.query._queryParams.loadsAllData()||a.push(g.query)))}return u&&!La(e)&&a.push(new(PR())(t._repo,t._path)),{removed:a,events:l}}function _3(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Na(e,t){let r=null;for(const n of e.views.values())r=r||NR(n,t);return r}function E3(e,t){if(t._queryParams.loadsAllData())return Zd(e);{const n=t._queryIdentifier;return e.views.get(n)}}function C3(e,t){return E3(e,t)!=null}function La(e){return Zd(e)!=null}function Zd(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd;function UR(e){He(!rd,"__referenceConstructor has already been defined"),rd=e}function jR(){return He(rd,"Reference.ts has not been loaded"),rd}let WR=1;class ev{constructor(t){this.listenProvider_=t,this.syncPointTree_=new nr(null),this.pendingWriteTree_=xR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function A3(e,t,r,n,i){return iR(e.pendingWriteTree_,t,r,n,i),i?Ql(e,new yo(mx(),t,r)):[]}function VR(e,t,r,n){sR(e.pendingWriteTree_,t,r,n);const i=nr.fromObject(r);return Ql(e,new Ul(mx(),t,i))}function ga(e,t,r=!1){const n=aR(e.pendingWriteTree_,t);if(oR(e.pendingWriteTree_,t)){let a=new nr(null);return n.snap!=null?a=a.set(Ut(),!0):vn(n.children,l=>{a=a.set(new Zt(l),!0)}),Ql(e,new qf(n.path,a,r))}else return[]}function su(e,t,r){return Ql(e,new yo(wx(),t,r))}function HR(e,t,r){const n=nr.fromObject(r);return Ql(e,new Ul(wx(),t,n))}function zR(e,t){return Ql(e,new F0(wx(),t))}function GR(e,t,r){const n=Sx(e,r);if(n){const i=Tx(n),a=i.path,l=i.queryId,u=Un(a,t),g=new F0(vx(l),u);return kx(e,a,g)}else return[]}function S3(e,t,r,n,i=!1){const a=t._path,l=e.syncPointTree_.get(a);let u=[];if(l&&(t._queryIdentifier==="default"||C3(l,t))){const g=LR(l,t,r,n);MR(l)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const p=g.removed;if(u=g.events,!i){const m=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=e.syncPointTree_.findOnPath(a,(_,E)=>La(E));if(m&&!v){const _=e.syncPointTree_.subtree(a);if(!_.isEmpty()){const E=KR(_);for(let A=0;A<E.length;++A){const C=E[A],I=C.query,b=I3(e,C);e.listenProvider_.startListening(Zc(I),P0(e,I),b.hashFn,b.onComplete)}}}!v&&p.length>0&&!n&&(m?e.listenProvider_.stopListening(Zc(t),null):p.forEach(_=>{const E=e.queryToTagMap.get(Qd(_));e.listenProvider_.stopListening(Zc(_),E)}))}qR(e,p)}return u}function T3(e,t,r,n){const i=Sx(e,n);if(i!=null){const a=Tx(i),l=a.path,u=a.queryId,g=Un(l,t),p=new yo(vx(u),g,r);return kx(e,l,p)}else return[]}function XR(e,t,r,n){const i=Sx(e,n);if(i){const a=Tx(i),l=a.path,u=a.queryId,g=Un(l,t),p=nr.fromObject(r),m=new Ul(vx(u),g,p);return kx(e,l,m)}else return[]}function $R(e,t,r,n=!1){const i=t._path;let a=null,l=!1;e.syncPointTree_.foreachOnPath(i,(_,E)=>{const A=Un(_,i);a=a||Na(E,A),l=l||La(E)});let u=e.syncPointTree_.get(i);u?(l=l||La(u),a=a||Na(u,Ut())):(u=new v3,e.syncPointTree_=e.syncPointTree_.set(i,u));let g;a!=null?g=!0:(g=!1,a=at.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((E,A)=>{const C=Na(A,Ut());C&&(a=a.updateImmediateChild(E,C))}));const p=C3(u,t);if(!p&&!t._queryParams.loadsAllData()){const _=Qd(t);He(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const E=ZR();e.queryToTagMap.set(_,E),e.tagToQueryMap.set(E,_)}const m=qd(e.pendingWriteTree_,i);let v=BR(u,t,r,m,a,g);if(!p&&!l&&!n){const _=E3(u,t);v=v.concat(QR(e,t,_))}return v}function Ax(e,t,r){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(l,u)=>{const g=Un(l,t),p=Na(u,g);if(p)return p});return h3(i,t,a,r,!0)}function YR(e,t){const r=t._path;let n=null;e.syncPointTree_.foreachOnPath(r,(p,m)=>{const v=Un(p,r);n=n||Na(m,v)});let i=e.syncPointTree_.get(r);i?n=n||Na(i,Ut()):(i=new v3,e.syncPointTree_=e.syncPointTree_.set(r,i));const a=n!=null,l=a?new Ba(n,!0,!1):null,u=qd(e.pendingWriteTree_,t._path),g=y3(i,t,u,a?l.getNode():at.EMPTY_NODE,a);return RR(g)}function Ql(e,t){return k3(t,e.syncPointTree_,null,qd(e.pendingWriteTree_,Ut()))}function k3(e,t,r,n){if(St(e.path))return b3(e,t,r,n);{const i=t.get(Ut());r==null&&i!=null&&(r=Na(i,Ut()));let a=[];const l=Rt(e.path),u=e.operationForChild(l),g=t.children.get(l);if(g&&u){const p=r?r.getImmediateChild(l):null,m=g3(n,l);a=a.concat(k3(u,g,p,m))}return i&&(a=a.concat(Cx(i,e,n,r))),a}}function b3(e,t,r,n){const i=t.get(Ut());r==null&&i!=null&&(r=Na(i,Ut()));let a=[];return t.children.inorderTraversal((l,u)=>{const g=r?r.getImmediateChild(l):null,p=g3(n,l),m=e.operationForChild(l);m&&(a=a.concat(b3(m,u,g,p)))}),i&&(a=a.concat(Cx(i,e,n,r))),a}function I3(e,t){const r=t.query,n=P0(e,r);return{hashFn:()=>(IR(t)||at.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?GR(e,r._path,n):zR(e,r._path);{const a=z6(i,r);return S3(e,r,null,a)}}}}function P0(e,t){const r=Qd(t);return e.queryToTagMap.get(r)}function Qd(e){return e._path.toString()+"$"+e._queryIdentifier}function Sx(e,t){return e.tagToQueryMap.get(t)}function Tx(e){const t=e.indexOf("$");return He(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Zt(e.substr(0,t))}}function kx(e,t,r){const n=e.syncPointTree_.get(t);He(n,"Missing sync point for query tag that we're tracking");const i=qd(e.pendingWriteTree_,t);return Cx(n,r,i,null)}function KR(e){return e.fold((t,r,n)=>{if(r&&La(r))return[Zd(r)];{let i=[];return r&&(i=_3(r)),vn(n,(a,l)=>{i=i.concat(l)}),i}})}function Zc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(jR())(e._repo,e._path):e}function qR(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const i=Qd(n),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function ZR(){return WR++}function QR(e,t,r){const n=t._path,i=P0(e,t),a=I3(e,r),l=e.listenProvider_.startListening(Zc(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(n);if(i)He(!La(u.value),"If we're adding a query, it shouldn't be shadowed");else{const g=u.fold((p,m,v)=>{if(!St(p)&&m&&La(m))return[Zd(m).query];{let _=[];return m&&(_=_.concat(_3(m).map(E=>E.query))),vn(v,(E,A)=>{_=_.concat(A)}),_}});for(let p=0;p<g.length;++p){const m=g[p];e.listenProvider_.stopListening(Zc(m),P0(e,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new bx(r)}node(){return this.node_}}class Ix{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=br(this.path_,t);return new Ix(this.syncTree_,r)}node(){return Ax(this.syncTree_,this.path_)}}const JR=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},tv=function(e,t,r){if(!e||typeof e!="object")return e;if(He(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return eN(e[".sv"],t,r);if(typeof e[".sv"]=="object")return tN(e[".sv"],t);He(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},eN=function(e,t,r){switch(e){case"timestamp":return r.timestamp;default:He(!1,"Unexpected server value: "+e)}},tN=function(e,t,r){e.hasOwnProperty("increment")||He(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;typeof n!="number"&&He(!1,"Unexpected increment value: "+n);const i=t.node();if(He(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const l=i.getValue();return typeof l!="number"?n:l+n},R3=function(e,t,r,n){return Rx(t,new Ix(r,e),n)},N3=function(e,t,r){return Rx(e,new bx(t),r)};function Rx(e,t,r){const n=e.getPriority().val(),i=tv(n,t.getImmediateChild(".priority"),r);let a;if(e.isLeafNode()){const l=e,u=tv(l.getValue(),t,r);return u!==l.getValue()||i!==l.getPriority().val()?new tn(u,Xr(i)):e}else{const l=e;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new tn(i))),l.forEachChild(Ir,(u,g)=>{const p=Rx(g,t.getImmediateChild(u),r);p!==g&&(a=a.updateImmediateChild(u,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t="",r=null,n={children:{},childCount:0}){this.name=t,this.parent=r,this.node=n}}function Ox(e,t){let r=t instanceof Zt?t:new Zt(t),n=e,i=Rt(r);for(;i!==null;){const a=Ml(n.node.children,i)||{children:{},childCount:0};n=new Nx(i,n,a),r=sr(r),i=Rt(r)}return n}function Jl(e){return e.node.value}function O3(e,t){e.node.value=t,Wg(e)}function D3(e){return e.node.childCount>0}function rN(e){return Jl(e)===void 0&&!D3(e)}function Jd(e,t){vn(e.node.children,(r,n)=>{t(new Nx(r,e,n))})}function F3(e,t,r,n){r&&t(e),Jd(e,i=>{F3(i,t,!0)})}function nN(e,t,r){let n=e.parent;for(;n!==null;){if(t(n))return!0;n=n.parent}return!1}function au(e){return new Zt(e.parent===null?e.name:au(e.parent)+"/"+e.name)}function Wg(e){e.parent!==null&&iN(e.parent,e.name,e)}function iN(e,t,r){const n=rN(r),i=As(e.node.children,t);n&&i?(delete e.node.children[t],e.node.childCount--,Wg(e)):!n&&!i&&(e.node.children[t]=r.node,e.node.childCount++,Wg(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/[\[\].#$\/\u0000-\u001F\u007F]/,aN=/[\[\].#$\u0000-\u001F\u007F]/,c1=10*1024*1024,Dx=function(e){return typeof e=="string"&&e.length!==0&&!sN.test(e)},P3=function(e){return typeof e=="string"&&e.length!==0&&!aN.test(e)},oN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),P3(e)},lN=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ox(e)||e&&typeof e=="object"&&As(e,".sv")},M3=function(e,t,r,n){n&&t===void 0||eh(Xd(e,"value"),t,r)},eh=function(e,t,r){const n=r instanceof Zt?new A5(r,e):r;if(t===void 0)throw new Error(e+"contains undefined "+eo(n));if(typeof t=="function")throw new Error(e+"contains a function "+eo(n)+" with contents = "+t.toString());if(ox(t))throw new Error(e+"contains "+t.toString()+" "+eo(n));if(typeof t=="string"&&t.length>c1/3&&$d(t)>c1)throw new Error(e+"contains a string greater than "+c1+" utf8 bytes "+eo(n)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(vn(t,(l,u)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!Dx(l)))throw new Error(e+" contains an invalid key ("+l+") "+eo(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);S5(n,l),eh(e,u,n),T5(n)}),i&&a)throw new Error(e+' contains ".value" child '+eo(n)+" in addition to actual children.")}},cN=function(e,t){let r,n;for(r=0;r<t.length;r++){n=t[r];const a=R0(n);for(let l=0;l<a.length;l++)if(!(a[l]===".priority"&&l===a.length-1)){if(!Dx(a[l]))throw new Error(e+"contains an invalid key ("+a[l]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(C5);let i=null;for(r=0;r<t.length;r++){if(n=t[r],i!==null&&Pi(i,n))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},uN=function(e,t,r,n){const i=Xd(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const a=[];vn(t,(l,u)=>{const g=new Zt(l);if(eh(i,u,br(r,g)),dx(g)===".priority"&&!lN(u))throw new Error(i+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(g)}),cN(i,a)},B3=function(e,t,r,n){if(!P3(r))throw new Error(Xd(e,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fN=function(e,t,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),B3(e,t,r)},Fx=function(e,t){if(Rt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},dN=function(e,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Dx(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!oN(r))throw new Error(Xd(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Px(e,t){let r=null;for(let n=0;n<t.length;n++){const i=t[n],a=i.getPath();r!==null&&!t3(a,r.path)&&(e.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(i)}r&&e.eventLists_.push(r)}function Ui(e,t,r){Px(e,r),gN(e,n=>Pi(n,t)||Pi(t,n))}function gN(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const i=e.eventLists_[n];if(i){const a=i.path;t(a)?(pN(e.eventLists_[n]),e.eventLists_[n]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function pN(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(r!==null){e.events[t]=null;const n=r.getEventRunner();$c&&gn("event: "+r.toString()),Zl(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="repo_interrupt",mN=25;class wN{constructor(t,r,n,i){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kf(),this.transactionQueueTree_=new Nx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vN(e,t,r){if(e.stats_=ux(e.repoInfo_),e.forceRestClient_||Y6())e.server_=new Yf(e.repoInfo_,(n,i,a,l)=>{rv(e,n,i,a,l)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>nv(e,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$r(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}e.persistentConnection_=new Ms(e.repoInfo_,t,(n,i,a,l)=>{rv(e,n,i,a,l)},n=>{nv(e,n)},n=>{yN(e,n)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(n=>{e.server_.refreshAuthToken(n)}),e.appCheckProvider_.addTokenChangeListener(n=>{e.server_.refreshAppCheckToken(n.token)}),e.statsReporter_=J6(e.repoInfo_,()=>new Q5(e.stats_,e.server_)),e.infoData_=new $5,e.infoSyncTree_=new ev({startListening:(n,i,a,l)=>{let u=[];const g=e.infoData_.getNode(n._path);return g.isEmpty()||(u=su(e.infoSyncTree_,n._path,g),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),Mx(e,"connected",!1),e.serverSyncTree_=new ev({startListening:(n,i,a,l)=>(e.server_.listen(n,a,i,(u,g)=>{const p=l(u,g);Ui(e.eventQueue_,n._path,p)}),[]),stopListening:(n,i)=>{e.server_.unlisten(n,i)}})}function L3(e){const r=e.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function th(e){return JR({timestamp:L3(e)})}function rv(e,t,r,n,i){e.dataUpdateCount++;const a=new Zt(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let l=[];if(i)if(n){const g=Vf(r,p=>Xr(p));l=XR(e.serverSyncTree_,a,g,i)}else{const g=Xr(r);l=T3(e.serverSyncTree_,a,g,i)}else if(n){const g=Vf(r,p=>Xr(p));l=HR(e.serverSyncTree_,a,g)}else{const g=Xr(r);l=su(e.serverSyncTree_,a,g)}let u=a;l.length>0&&(u=Wl(e,a)),Ui(e.eventQueue_,u,l)}function nv(e,t){Mx(e,"connected",t),t===!1&&AN(e)}function yN(e,t){vn(t,(r,n)=>{Mx(e,r,n)})}function Mx(e,t,r){const n=new Zt("/.info/"+t),i=Xr(r);e.infoData_.updateSnapshot(n,i);const a=su(e.infoSyncTree_,n,i);Ui(e.eventQueue_,n,a)}function Bx(e){return e.nextWriteId_++}function _N(e,t,r){const n=YR(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(i=>{const a=Xr(i).withIndex(t._queryParams.getIndex());$R(e.serverSyncTree_,t,r,!0);let l;if(t._queryParams.loadsAllData())l=su(e.serverSyncTree_,t._path,a);else{const u=P0(e.serverSyncTree_,t);l=T3(e.serverSyncTree_,t._path,a,u)}return Ui(e.eventQueue_,t._path,l),S3(e.serverSyncTree_,t,r,null,!0),a},i=>(ou(e,"get for query "+$r(t)+" failed: "+i),Promise.reject(new Error(i))))}function EN(e,t,r,n,i){ou(e,"set",{path:t.toString(),value:r,priority:n});const a=th(e),l=Xr(r,n),u=Ax(e.serverSyncTree_,t),g=N3(l,u,a),p=Bx(e),m=A3(e.serverSyncTree_,t,g,p,!0);Px(e.eventQueue_,m),e.server_.put(t.toString(),l.val(!0),(_,E)=>{const A=_==="ok";A||Vn("set at "+t+" failed: "+_);const C=ga(e.serverSyncTree_,p,!A);Ui(e.eventQueue_,t,C),Vg(e,i,_,E)});const v=Ux(e,t);Wl(e,v),Ui(e.eventQueue_,v,[])}function CN(e,t,r,n){ou(e,"update",{path:t.toString(),value:r});let i=!0;const a=th(e),l={};if(vn(r,(u,g)=>{i=!1,l[u]=R3(br(t,u),Xr(g),e.serverSyncTree_,a)}),i)gn("update() called with empty data.  Don't do anything."),Vg(e,n,"ok",void 0);else{const u=Bx(e),g=VR(e.serverSyncTree_,t,l,u);Px(e.eventQueue_,g),e.server_.merge(t.toString(),r,(p,m)=>{const v=p==="ok";v||Vn("update at "+t+" failed: "+p);const _=ga(e.serverSyncTree_,u,!v),E=_.length>0?Wl(e,t):t;Ui(e.eventQueue_,E,_),Vg(e,n,p,m)}),vn(r,p=>{const m=Ux(e,br(t,p));Wl(e,m)}),Ui(e.eventQueue_,t,[])}}function AN(e){ou(e,"onDisconnectEvents");const t=th(e),r=Kf();Pg(e.onDisconnect_,Ut(),(i,a)=>{const l=R3(i,a,e.serverSyncTree_,t);c3(r,i,l)});let n=[];Pg(r,Ut(),(i,a)=>{n=n.concat(su(e.serverSyncTree_,i,a));const l=Ux(e,i);Wl(e,l)}),e.onDisconnect_=Kf(),Ui(e.eventQueue_,Ut(),n)}function SN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(xN)}function ou(e,...t){let r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),gn(r,...t)}function Vg(e,t,r,n){t&&Zl(()=>{if(r==="ok")t(null);else{const i=(r||"error").toUpperCase();let a=i;n&&(a+=": "+n);const l=new Error(a);l.code=i,t(l)}})}function U3(e,t,r){return Ax(e.serverSyncTree_,t,r)||at.EMPTY_NODE}function Lx(e,t=e.transactionQueueTree_){if(t||rh(e,t),Jl(t)){const r=W3(e,t);He(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&TN(e,au(t),r)}else D3(t)&&Jd(t,r=>{Lx(e,r)})}function TN(e,t,r){const n=r.map(p=>p.currentWriteId),i=U3(e,t,n);let a=i;const l=i.hash();for(let p=0;p<r.length;p++){const m=r[p];He(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=Un(t,m.path);a=a.updateChild(v,m.currentOutputSnapshotRaw)}const u=a.val(!0),g=t;e.server_.put(g.toString(),u,p=>{ou(e,"transaction put response",{path:g.toString(),status:p});let m=[];if(p==="ok"){const v=[];for(let _=0;_<r.length;_++)r[_].status=2,m=m.concat(ga(e.serverSyncTree_,r[_].currentWriteId)),r[_].onComplete&&v.push(()=>r[_].onComplete(null,!0,r[_].currentOutputSnapshotResolved)),r[_].unwatcher();rh(e,Ox(e.transactionQueueTree_,t)),Lx(e,e.transactionQueueTree_),Ui(e.eventQueue_,t,m);for(let _=0;_<v.length;_++)Zl(v[_])}else{if(p==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{Vn("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=p}Wl(e,t)}},l)}function Wl(e,t){const r=j3(e,t),n=au(r),i=W3(e,r);return kN(e,i,n),n}function kN(e,t,r){if(t.length===0)return;const n=[];let i=[];const l=t.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const g=t[u],p=Un(r,g.path);let m=!1,v;if(He(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)m=!0,v=g.abortReason,i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=mN)m=!0,v="maxretry",i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0));else{const _=U3(e,g.path,l);g.currentInputSnapshot=_;const E=t[u].update(_.val());if(E!==void 0){eh("transaction failed: Data returned ",E,g.path);let A=Xr(E);typeof E=="object"&&E!=null&&As(E,".priority")||(A=A.updatePriority(_.getPriority()));const I=g.currentWriteId,b=th(e),k=N3(A,_,b);g.currentOutputSnapshotRaw=A,g.currentOutputSnapshotResolved=k,g.currentWriteId=Bx(e),l.splice(l.indexOf(I),1),i=i.concat(A3(e.serverSyncTree_,g.path,k,g.currentWriteId,g.applyLocally)),i=i.concat(ga(e.serverSyncTree_,I,!0))}else m=!0,v="nodata",i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0))}Ui(e.eventQueue_,r,i),i=[],m&&(t[u].status=2,function(_){setTimeout(_,Math.floor(0))}(t[u].unwatcher),t[u].onComplete&&(v==="nodata"?n.push(()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot)):n.push(()=>t[u].onComplete(new Error(v),!1,null))))}rh(e,e.transactionQueueTree_);for(let u=0;u<n.length;u++)Zl(n[u]);Lx(e,e.transactionQueueTree_)}function j3(e,t){let r,n=e.transactionQueueTree_;for(r=Rt(t);r!==null&&Jl(n)===void 0;)n=Ox(n,r),t=sr(t),r=Rt(t);return n}function W3(e,t){const r=[];return V3(e,t,r),r.sort((n,i)=>n.order-i.order),r}function V3(e,t,r){const n=Jl(t);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);Jd(t,i=>{V3(e,i,r)})}function rh(e,t){const r=Jl(t);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,O3(t,r.length>0?r:void 0)}Jd(t,n=>{rh(e,n)})}function Ux(e,t){const r=au(j3(e,t)),n=Ox(e.transactionQueueTree_,t);return nN(n,i=>{u1(e,i)}),u1(e,n),F3(n,i=>{u1(e,i)}),r}function u1(e,t){const r=Jl(t);if(r){const n=[];let i=[],a=-1;for(let l=0;l<r.length;l++)r[l].status===3||(r[l].status===1?(He(a===l-1,"All SENT items should be at beginning of queue."),a=l,r[l].status=3,r[l].abortReason="set"):(He(r[l].status===0,"Unexpected transaction status in abort"),r[l].unwatcher(),i=i.concat(ga(e.serverSyncTree_,r[l].currentWriteId,!0)),r[l].onComplete&&n.push(r[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?O3(t,void 0):r.length=a+1,Ui(e.eventQueue_,au(t),i);for(let l=0;l<n.length;l++)Zl(n[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e){let t="";const r=e.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function IN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const r of e.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Vn(`Invalid query segment '${r}' in query '${e}'`)}return t}const iv=function(e,t){const r=RN(e),n=r.namespace;r.domain==="firebase.com"&&Xs(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||U6();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new GC(r.host,r.secure,n,i,t,"",n!==r.subdomain),path:new Zt(r.pathString)}},RN=function(e){let t="",r="",n="",i="",a="",l=!0,u="https",g=443;if(typeof e=="string"){let p=e.indexOf("//");p>=0&&(u=e.substring(0,p-1),e=e.substring(p+2));let m=e.indexOf("/");m===-1&&(m=e.length);let v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(m,v)),m<v&&(i=bN(e.substring(m,v)));const _=IN(e.substring(Math.min(e.length,v)));p=t.indexOf(":"),p>=0?(l=u==="https"||u==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const E=t.slice(0,p);if(E.toLowerCase()==="localhost")r="localhost";else if(E.split(".").length<=2)r=E;else{const A=t.indexOf(".");n=t.substring(0,A).toLowerCase(),r=t.substring(A+1),a=n}"ns"in _&&(a=_.ns)}return{host:t,port:g,domain:r,subdomain:n,secure:l,scheme:u,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NN=function(){let e=0;const t=[];return function(r){const n=r===e;e=r;let i;const a=new Array(8);for(i=7;i>=0;i--)a[i]=sv.charAt(r%64),r=Math.floor(r/64);He(r===0,"Cannot push at time == 0");let l=a.join("");if(n){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)l+=sv.charAt(t[i]);return He(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(t,r,n,i){this.eventType=t,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$r(this.snapshot.exportVal())}}class DN{constructor(t,r,n){this.eventRegistration=t,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return He(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,r,n,i){this._repo=t,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return St(this._path)?null:dx(this._path)}get ref(){return new qs(this._repo,this._path)}get _queryIdentifier(){const t=zw(this._queryParams),r=lx(t);return r==="{}"?"default":r}get _queryObject(){return zw(this._queryParams)}isEqual(t){if(t=Ks(t),!(t instanceof jx))return!1;const r=this._repo===t._repo,n=t3(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+E5(this._path)}}class qs extends jx{constructor(t,r){super(t,r,new xx,!1)}get parent(){const t=e3(this._path);return t===null?null:new qs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class M0{constructor(t,r,n){this._node=t,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new Zt(t),n=B0(this.ref,t);return new M0(this._node.getChild(r),n,Ir)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>t(new M0(i,B0(this.ref,n),Ir)))}hasChild(t){const r=new Zt(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ot(e,t){return e=Ks(e),e._checkNotDeleted("ref"),t!==void 0?B0(e._root,t):e._root}function B0(e,t){return e=Ks(e),Rt(e._path)===null?fN("child","path",t):B3("child","path",t),new qs(e._repo,br(e._path,t))}function hl(e,t){e=Ks(e),Fx("push",e._path),M3("push",t,e._path,!0);const r=L3(e._repo),n=NN(r),i=B0(e,n),a=B0(e,n);let l;return l=Promise.resolve(a),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}function PN(e){return Fx("remove",e._path),di(e,null)}function di(e,t){e=Ks(e),Fx("set",e._path),M3("set",t,e._path,!1);const r=new eu;return EN(e._repo,e._path,t,null,r.wrapCallback(()=>{})),r.promise}function Zo(e,t){uN("update",t,e._path);const r=new eu;return CN(e._repo,e._path,t,r.wrapCallback(()=>{})),r.promise}function Jr(e){e=Ks(e);const t=new FN(()=>{}),r=new Wx(t);return _N(e._repo,e,r).then(n=>new M0(n,new qs(e._repo,e._path),e._queryParams.getIndex()))}class Wx{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const n=r._queryParams.getIndex();return new ON("value",this,new M0(t.snapshotNode,new qs(r._repo,r._path),n))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new DN(this,t,r):null}matches(t){return t instanceof Wx?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}FR(qs);UR(qs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="FIREBASE_DATABASE_EMULATOR_HOST",Hg={};let BN=!1;function LN(e,t,r,n){e.repoInfo_=new GC(`${t}:${r}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),n&&(e.authTokenProvider_=n)}function UN(e,t,r,n,i){let a=n||e.options.databaseURL;a===void 0&&(e.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gn("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l=iv(a,i),u=l.repoInfo,g;typeof process<"u"&&Tw&&(g=Tw[MN]),g?(a=`http://${g}?ns=${u.namespace}`,l=iv(a,i),u=l.repoInfo):l.repoInfo.secure;const p=new q6(e.name,e.options,t);dN("Invalid Firebase Database URL",l),St(l.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const m=WN(u,e,p,new K6(e.name,r));return new VN(m,e)}function jN(e,t){const r=Hg[t];(!r||r[e.key]!==e)&&Xs(`Database ${t}(${e.repoInfo_}) has already been deleted.`),SN(e),delete r[e.key]}function WN(e,t,r,n){let i=Hg[t.name];i||(i={},Hg[t.name]=i);let a=i[e.toURLString()];return a&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new wN(e,BN,r,n),i[e.toURLString()]=a,a}class VN{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qs(this._repo,Ut())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xs("Cannot call "+t+" on a deleted database.")}}function HN(e=bC(),t){const r=tu(e,"database").getImmediate({identifier:t});if(!r._instanceStarted){const n=oI("database");n&&zN(r,...n)}return r}function zN(e,t,r,n={}){e=Ks(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Xs("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let a;if(i.repoInfo_.nodeAdmin)n.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new pf(pf.OWNER);else if(n.mockUserToken){const l=typeof n.mockUserToken=="string"?n.mockUserToken:lI(n.mockUserToken,e.app.options.projectId);a=new pf(l)}LN(i,t,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(e){D6(C6),Pa(new zs("database",(t,{instanceIdentifier:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return UN(n,i,a,r)},"PUBLIC").setMultipleInstances(!0)),_s(kw,bw,e),_s(kw,bw,"esm2017")}Ms.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ms.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};GN();var XN="firebase",$N="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(XN,$N,"app");const H3="@firebase/installations",Vx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=1e4,G3=`w:${Vx}`,X3="FIS_v2",YN="https://firebaseinstallations.googleapis.com/v1",KN=60*60*1e3,qN="installations",ZN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Eo=new Gd(qN,ZN,QN);function $3(e){return e instanceof Oo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3({projectId:e}){return`${YN}/projects/${e}/installations`}function K3(e){return{token:e.token,requestStatus:2,expiresIn:e7(e.expiresIn),creationTime:Date.now()}}async function q3(e,t){const n=(await t.json()).error;return Eo.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Z3({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function JN(e,{refreshToken:t}){const r=Z3(e);return r.append("Authorization",t7(t)),r}async function Q3(e){const t=await e();return t.status>=500&&t.status<600?e():t}function e7(e){return Number(e.replace("s","000"))}function t7(e){return`${X3} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=Y3(e),i=Z3(e),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:r,authVersion:X3,appId:e.appId,sdkVersion:G3},u={method:"POST",headers:i,body:JSON.stringify(l)},g=await Q3(()=>fetch(n,u));if(g.ok){const p=await g.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:K3(p.authToken)}}else throw await q3("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=/^[cdef][\w-]{21}$/,zg="";function s7(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=a7(e);return i7.test(r)?r:zg}catch{return zg}}function a7(e){return n7(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Map;function tA(e,t){const r=nh(e);rA(r,t),o7(r,t)}function rA(e,t){const r=eA.get(e);if(r)for(const n of r)n(t)}function o7(e,t){const r=l7();r&&r.postMessage({key:e,fid:t}),c7()}let ao=null;function l7(){return!ao&&"BroadcastChannel"in self&&(ao=new BroadcastChannel("[Firebase] FID Change"),ao.onmessage=e=>{rA(e.data.key,e.data.fid)}),ao}function c7(){eA.size===0&&ao&&(ao.close(),ao=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="firebase-installations-database",f7=1,Co="firebase-installations-store";let f1=null;function Hx(){return f1||(f1=TC(u7,f7,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Co)}}})),f1}async function nd(e,t){const r=nh(e),i=(await Hx()).transaction(Co,"readwrite"),a=i.objectStore(Co),l=await a.get(r);return await a.put(t,r),await i.done,(!l||l.fid!==t.fid)&&tA(e,t.fid),t}async function nA(e){const t=nh(e),n=(await Hx()).transaction(Co,"readwrite");await n.objectStore(Co).delete(t),await n.done}async function ih(e,t){const r=nh(e),i=(await Hx()).transaction(Co,"readwrite"),a=i.objectStore(Co),l=await a.get(r),u=t(l);return u===void 0?await a.delete(r):await a.put(u,r),await i.done,u&&(!l||l.fid!==u.fid)&&tA(e,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(e){let t;const r=await ih(e.appConfig,n=>{const i=d7(n),a=h7(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===zg?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function d7(e){const t=e||{fid:s7(),registrationStatus:0};return iA(t)}function h7(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Eo.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=g7(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:p7(e)}:{installationEntry:t}}async function g7(e,t){try{const r=await r7(e,t);return nd(e.appConfig,r)}catch(r){throw $3(r)&&r.customData.serverCode===409?await nA(e.appConfig):await nd(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function p7(e){let t=await av(e.appConfig);for(;t.registrationStatus===1;)await J3(100),t=await av(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await zx(e);return n||r}return t}function av(e){return ih(e,t=>{if(!t)throw Eo.create("installation-not-found");return iA(t)})}function iA(e){return x7(e)?{fid:e.fid,registrationStatus:0}:e}function x7(e){return e.registrationStatus===1&&e.registrationTime+z3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m7({appConfig:e,heartbeatServiceProvider:t},r){const n=w7(e,r),i=JN(e,r),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:G3,appId:e.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},g=await Q3(()=>fetch(n,u));if(g.ok){const p=await g.json();return K3(p)}else throw await q3("Generate Auth Token",g)}function w7(e,{fid:t}){return`${Y3(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(e,t=!1){let r;const n=await ih(e.appConfig,a=>{if(!sA(a))throw Eo.create("not-registered");const l=a.authToken;if(!t&&_7(l))return a;if(l.requestStatus===1)return r=v7(e,t),a;{if(!navigator.onLine)throw Eo.create("app-offline");const u=C7(a);return r=y7(e,u),u}});return r?await r:n.authToken}async function v7(e,t){let r=await ov(e.appConfig);for(;r.authToken.requestStatus===1;)await J3(100),r=await ov(e.appConfig);const n=r.authToken;return n.requestStatus===0?Gx(e,t):n}function ov(e){return ih(e,t=>{if(!sA(t))throw Eo.create("not-registered");const r=t.authToken;return A7(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function y7(e,t){try{const r=await m7(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await nd(e.appConfig,n),r}catch(r){if($3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await nA(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await nd(e.appConfig,n)}throw r}}function sA(e){return e!==void 0&&e.registrationStatus===2}function _7(e){return e.requestStatus===2&&!E7(e)}function E7(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+KN}function C7(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function A7(e){return e.requestStatus===1&&e.requestTime+z3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(e){const t=e,{installationEntry:r,registrationPromise:n}=await zx(t);return n?n.catch(console.error):Gx(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(e,t=!1){const r=e;return await k7(r),(await Gx(r,t)).token}async function k7(e){const{registrationPromise:t}=await zx(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(e){if(!e||!e.options)throw d1("App Configuration");if(!e.name)throw d1("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw d1(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function d1(e){return Eo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="installations",I7="installations-internal",R7=e=>{const t=e.getProvider("app").getImmediate(),r=b7(t),n=tu(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},N7=e=>{const t=e.getProvider("app").getImmediate(),r=tu(t,aA).getImmediate();return{getId:()=>S7(r),getToken:i=>T7(r,i)}};function O7(){Pa(new zs(aA,R7,"PUBLIC")),Pa(new zs(I7,N7,"PRIVATE"))}O7();_s(H3,Vx);_s(H3,Vx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="analytics",D7="firebase_id",F7="origin",P7=60*1e3,M7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new sx("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mi=new Gd("analytics","Analytics",B7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(e){if(!e.startsWith(Xx)){const t=mi.create("invalid-gtag-resource",{gtagURL:e});return si.warn(t.message),""}return e}function oA(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function U7(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function j7(e,t){const r=U7("firebase-js-sdk-policy",{createScriptURL:L7}),n=document.createElement("script"),i=`${Xx}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function W7(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function V7(e,t,r,n,i,a){const l=n[i];try{if(l)await t[l];else{const g=(await oA(r)).find(p=>p.measurementId===i);g&&await t[g.appId]}}catch(u){si.error(u)}e("config",i,a)}async function H7(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await oA(r);for(const g of l){const p=u.find(v=>v.measurementId===g),m=p&&t[p.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){si.error(a)}}function z7(e,t,r,n){async function i(a,...l){try{if(a==="event"){const[u,g]=l;await H7(e,t,r,u,g)}else if(a==="config"){const[u,g]=l;await V7(e,t,r,n,u,g)}else if(a==="consent"){const[u,g]=l;e("consent",u,g)}else if(a==="get"){const[u,g,p]=l;e("get",u,g,p)}else if(a==="set"){const[u]=l;e("set",u)}else e(a,...l)}catch(u){si.error(u)}}return i}function G7(e,t,r,n,i){let a=function(...l){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=z7(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function X7(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(Xx)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=30,Y7=1e3;class K7{constructor(t={},r=Y7){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const lA=new K7;function q7(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Z7(e){var t;const{appId:r,apiKey:n}=e,i={method:"GET",headers:q7(n)},a=M7.replace("{app-id}",r),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const g=await l.json();!((t=g.error)===null||t===void 0)&&t.message&&(u=g.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function Q7(e,t=lA,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw mi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw mi.create("no-api-key")}const l=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new tO;return setTimeout(async()=>{u.abort()},P7),cA({appId:n,apiKey:i,measurementId:a},l,u,t)}async function cA(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=lA){var a;const{appId:l,measurementId:u}=e;try{await J7(n,t)}catch(g){if(u)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:u};throw g}try{const g=await Z7(e);return i.deleteThrottleMetadata(l),g}catch(g){const p=g;if(!eO(p)){if(i.deleteThrottleMetadata(l),u)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:u};throw g}const m=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?mw(r,i.intervalMillis,$7):mw(r,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return i.setThrottleMetadata(l,v),si.debug(`Calling attemptFetch again in ${m} millis`),cA(e,v,n,i)}}function J7(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(mi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function eO(e){if(!(e instanceof Oo)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class tO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function rO(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,l=Object.assign(Object.assign({},n),{send_to:a});e("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(){if(_C())try{await EC()}catch(e){return si.warn(mi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return si.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iO(e,t,r,n,i,a,l){var u;const g=Q7(e);g.then(E=>{r[E.measurementId]=E.appId,e.options.measurementId&&E.measurementId!==e.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>si.error(E)),t.push(g);const p=nO().then(E=>{if(E)return n.getId()}),[m,v]=await Promise.all([g,p]);X7(a)||j7(a,m.measurementId),i("js",new Date);const _=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return _[F7]="firebase",_.update=!0,v!=null&&(_[D7]=v),i("config",m.measurementId,_),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.app=t}_delete(){return delete Qc[this.app.options.appId],Promise.resolve()}}let Qc={},lv=[];const cv={};let h1="dataLayer",aO="gtag",uv,uA,fv=!1;function oO(){const e=[];if(uI()&&e.push("This is a browser extension environment."),hI()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=mi.create("invalid-analytics-context",{errorInfo:t});si.warn(r.message)}}function lO(e,t,r){oO();const n=e.options.appId;if(!n)throw mi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mi.create("no-api-key");if(Qc[n]!=null)throw mi.create("already-exists",{id:n});if(!fv){W7(h1);const{wrappedGtag:a,gtagCore:l}=G7(Qc,lv,cv,h1,aO);uA=a,uv=l,fv=!0}return Qc[n]=iO(e,lv,cv,t,uv,h1,r),new sO(e)}function cO(e=bC()){e=Ks(e);const t=tu(e,id);return t.isInitialized()?t.getImmediate():uO(e)}function uO(e,t={}){const r=tu(e,id);if(r.isInitialized()){const i=r.getImmediate();if(Hf(t,r.getOptions()))return i;throw mi.create("already-initialized")}return r.initialize({options:t})}function fO(e,t,r,n){e=Ks(e),rO(uA,Qc[e.app.options.appId],t,r,n).catch(i=>si.error(i))}const dv="@firebase/analytics",hv="0.10.8";function dO(){Pa(new zs(id,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return lO(n,i,r)},"PUBLIC")),Pa(new zs("analytics-internal",e,"PRIVATE")),_s(dv,hv),_s(dv,hv,"esm2017");function e(t){try{const r=t.getProvider(id).getImmediate();return{logEvent:(n,i,a)=>fO(r,n,i,a)}}catch(r){throw mi.create("interop-component-reg-failed",{reason:r})}}}dO();const hO={apiKey:"AIzaSyBVLs9aP79sEfYy9EjtUan6J5jOX21AoNU",authDomain:"iqos-d3074.firebaseapp.com",databaseURL:"https://iqos-d3074-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"iqos-d3074",storageBucket:"iqos-d3074.firebasestorage.app",messagingSenderId:"928334092425",appId:"1:928334092425:web:3b6d5898ab46d835854e58",measurementId:"G-JN7DT8HRGN"},fA=kC(hO);cO(fA);const Dt=HN(fA),en={createProduct:async e=>{try{const t=Ot(Dt,"products"),r=hl(t),n=e.useBarcode!==!1,i={id:r.key,...e,stock:n?0:e.stock,createdAt:Date.now(),updatedAt:Date.now()};if(await di(r,i),n){const a=Ot(Dt,`productUnits/${r.key}`);await di(a,{})}return i}catch(t){throw new Error(`Error creating product: ${t.message}`)}},getUnitsWithBarcodeCount:async e=>{try{const t=Ot(Dt,`productUnits/${e}`),r=await Jr(t);return r.exists()?Object.values(r.val()).filter(i=>i.barcode).length:0}catch(t){throw new Error(`Error getting units count: ${t.message}`)}},getReadyStock:async e=>{try{const t=Ot(Dt,`products/${e}`),r=await Jr(t);if(!r.exists())return 0;const n=r.val();if(n.useBarcode===!1)return n.stock||0;const i=Ot(Dt,`productUnits/${e}`),a=await Jr(i);return a.exists()?Object.values(a.val()).filter(u=>u.barcode&&u.status==="in_stock").length:0}catch(t){throw new Error(`Error getting ready stock: ${t.message}`)}},updateProductStockFromUnits:async e=>{try{const t=Ot(Dt,`productUnits/${e}`),r=await Jr(t);let n=0;r.exists()&&(n=Object.values(r.val()).filter(l=>l&&l.status==="in_stock").length);const i=Ot(Dt,`products/${e}`);return await Zo(i,{stock:n,updatedAt:Date.now()}),n}catch(t){throw new Error(`Error updating product stock: ${t.message}`)}},getAllProducts:async()=>{try{const e=Ot(Dt,"products"),t=await Jr(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching products: ${e.message}`)}},getProductById:async e=>{try{const t=Ot(Dt,`products/${e}`),r=await Jr(t);return r.exists()?r.val():null}catch(t){throw new Error(`Error fetching product: ${t.message}`)}},getProductByBarcode:async e=>{try{const t=Ot(Dt,"products"),r=await Jr(t);if(r.exists()){const n=Object.values(r.val());for(const i of n){const a=Ot(Dt,`productUnits/${i.id}`),l=await Jr(a);if(l.exists()){const g=Object.values(l.val()).find(p=>p.barcode===e);if(g)return{...i,matchedUnitId:g.unitId}}}}return null}catch(t){throw new Error(`Error fetching product by barcode: ${t.message}`)}},addBarcodeToProduct:async(e,t)=>{try{if(!t)throw new Error("Barcode is required");const r=Ot(Dt,`products/${e}`),n=await Jr(r);if(!n.exists())throw new Error("Product not found");if(n.val().useBarcode===!1)throw new Error("Product tidak menggunakan barcode");const a=await Jr(Ot(Dt,"productUnits"));if(a.exists()){const p=Object.values(a.val());for(const m of p)if(Object.values(m||{}).some(_=>_&&_.barcode===t))throw new Error("Barcode sudah dipakai unit lain")}const l=Ot(Dt,`productUnits/${e}`),u=await Jr(l);let g;if(u.exists()){const p=u.val(),m=Object.values(p).find(v=>v&&!v.barcode&&v.status==="in_stock");m&&(g=Ot(Dt,`productUnits/${e}/${m.unitId}`))}if(!g){const p=hl(l);await di(p,{unitId:p.key,productId:e,barcode:null,status:"in_stock",createdAt:Date.now()}),g=p}return await Zo(g,{barcode:t,updatedAt:Date.now()}),await en.updateProductStockFromUnits(e),!0}catch(r){throw new Error(`Error adding barcode: ${r.message}`)}},updateProduct:async(e,t)=>{try{const r=Ot(Dt,`products/${e}`),n={...t,updatedAt:Date.now()};return await Zo(r,n),!0}catch(r){throw new Error(`Error updating product: ${r.message}`)}},deleteProduct:async e=>{try{const t=Ot(Dt,`products/${e}`);return await PN(t),!0}catch(t){throw new Error(`Error deleting product: ${t.message}`)}},updateStock:async(e,t,r,n)=>{try{const i=Ot(Dt,`products/${e}`),a=await Jr(i);if(!a.exists())throw new Error("Product not found");const l=a.val(),u=l.stock+t;if(u<0)throw new Error("Insufficient stock");await Zo(i,{stock:u,updatedAt:Date.now()});const g=Ot(Dt,"stockMovements"),p=hl(g),m={id:p.key,productId:e,productName:l.name,type:t>0?"in":"out",quantity:Math.abs(t),reason:r,referenceId:n,createdAt:Date.now()};return await di(p,m),!0}catch(i){throw new Error(`Error updating stock: ${i.message}`)}},updateStockAndMarkUnitsSold:async(e,t,r)=>{try{const n=Ot(Dt,`products/${e}`),i=await Jr(n);if(!i.exists())throw new Error("Product not found");const a=i.val();if(a.useBarcode!==!1){const p=Ot(Dt,`productUnits/${e}`),m=await Jr(p);if(m.exists()){const v=m.val(),_=Object.values(v).filter(A=>A.status==="in_stock");if(_.length<t)throw new Error(`Insufficient units available. Available: ${_.length}, Requested: ${t}`);let E=0;for(const[A,C]of Object.entries(v))C.status==="in_stock"&&E<t&&(await Zo(Ot(Dt,`productUnits/${e}/${A}`),{status:"sold",soldAt:Date.now(),saleId:r,updatedAt:Date.now()}),E++);await en.updateProductStockFromUnits(e)}}else{const p=a.stock-t;if(p<0)throw new Error("Insufficient stock");await Zo(n,{stock:p,updatedAt:Date.now()})}const l=Ot(Dt,"stockMovements"),u=hl(l),g={id:u.key,productId:e,productName:a.name,type:"out",quantity:t,reason:"sale",referenceId:r,createdAt:Date.now()};return await di(u,g),!0}catch(n){throw new Error(`Error updating stock: ${n.message}`)}}},dA={createSale:async e=>{try{const t=Ot(Dt,"sales"),r=hl(t),n={id:r.key,...e,createdAt:Date.now(),status:"completed"};await di(r,n);for(const i of e.items)await en.updateStockAndMarkUnitsSold(i.productId,i.quantity,r.key);return n}catch(t){throw new Error(`Error creating sale: ${t.message}`)}},getAllSales:async()=>{try{const e=Ot(Dt,"sales"),t=await Jr(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching sales: ${e.message}`)}},getSaleById:async e=>{try{const t=Ot(Dt,`sales/${e}`),r=await Jr(t);return r.exists()?r.val():null}catch(t){throw new Error(`Error fetching sale: ${t.message}`)}}};var $e;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($e||($e={}));var gv=new Map([[$e.QR_CODE,"QR_CODE"],[$e.AZTEC,"AZTEC"],[$e.CODABAR,"CODABAR"],[$e.CODE_39,"CODE_39"],[$e.CODE_93,"CODE_93"],[$e.CODE_128,"CODE_128"],[$e.DATA_MATRIX,"DATA_MATRIX"],[$e.MAXICODE,"MAXICODE"],[$e.ITF,"ITF"],[$e.EAN_13,"EAN_13"],[$e.EAN_8,"EAN_8"],[$e.PDF_417,"PDF_417"],[$e.RSS_14,"RSS_14"],[$e.RSS_EXPANDED,"RSS_EXPANDED"],[$e.UPC_A,"UPC_A"],[$e.UPC_E,"UPC_E"],[$e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),pv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(pv||(pv={}));function gO(e){return Object.values($e).includes(e)}var sd;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(sd||(sd={}));var pO=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[sd.SCAN_TYPE_CAMERA,sd.SCAN_TYPE_FILE],e}(),hA=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!gv.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,gv.get(t))},e}(),xv=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Gg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gg||(Gg={}));var xO=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Gg.UNKWOWN_ERROR}},e}(),mO=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function bs(e){return typeof e>"u"||e===null}var gl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),gA=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),l=Object.keys(t),u=0,g=l;u<g.length;u++){var p=g[u];if(a.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),Xg={exports:{}};(function(e,t){(function(r,n){n(t)})(pc,function(r){function n(N){return N==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,s){N.__proto__=s}||function(N,s){for(var o in s)s.hasOwnProperty(o)&&(N[o]=s[o])};function a(N,s){i(N,s);function o(){this.constructor=N}N.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function l(N,s){var o=Object.setPrototypeOf;o?o(N,s):N.__proto__=s}function u(N,s){s===void 0&&(s=N.constructor);var o=Error.captureStackTrace;o&&o(N,s)}var g=function(N){a(s,N);function s(o){var c=this.constructor,f=N.call(this,o)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),l(f,c.prototype),u(f),f}return s}(Error);class p extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class m extends p{}m.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,f){const d=this.binarizer.getLuminanceSource().crop(s,o,c,f);return new _(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends p{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(s,o,c,f,d){for(;d--;)c[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class I extends p{}I.kind="IndexOutOfBoundsException";class b extends I{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}b.kind="ArrayIndexOutOfBoundsException";class k{static fill(s,o){for(let c=0,f=s.length;c<f;c++)s[c]=o}static fillWithin(s,o,c,f){k.rangeCheck(s.length,o,c);for(let d=o;d<c;d++)s[d]=f}static rangeCheck(s,o,c){if(o>c)throw new v("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new b(o);if(c>s)throw new b(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(d=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(d=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const f=c-o,d=new Int32Array(f);return C.arraycopy(s,o,d,0,f),d}static binarySearch(s,o,c){c===void 0&&(c=k.numberComparator);let f=0,d=s.length-1;for(;f<=d;){const h=d+f>>1,x=c(o,s[h]);if(x>0)f=h+1;else if(x<0)d=h-1;else return h}return-f-1}static numberComparator(s,o){return s-o}}class S{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=L.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=L.makeArray(s);C.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),d=c[f];d&=~((1<<(s&31))-1);const h=c.length;for(;d===0;){if(++f===h)return o;d=c[f]}const x=f*32+S.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),d=~c[f];d&=~((1<<(s&31))-1);const h=c.length;for(;d===0;){if(++f===h)return o;d=~c[f]}const x=f*32+S.numberOfTrailingZeros(d);return x>o?o:x}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new v;if(o===s)return;o--;const c=Math.floor(s/32),f=Math.floor(o/32),d=this.bits;for(let h=c;h<=f;h++){const x=h>c?0:s&31,y=(2<<(h<f?31:o&31))-(1<<x);d[h]|=y}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new v;if(o===s)return!0;o--;const f=Math.floor(s/32),d=Math.floor(o/32),h=this.bits;for(let x=f;x<=d;x++){const w=x>f?0:s&31,T=(2<<(x<d?31:o&31))-(1<<w)&4294967295;if((h[x]&T)!==(c?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const o=this.bits;for(let c=0,f=o.length;c<f;c++)o[c]^=s.bits[c]}toBytes(s,o,c,f){for(let d=0;d<f;d++){let h=0;for(let x=0;x<8;x++)this.get(s)&&(h|=1<<7-x),s++;o[c+d]=h}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,f=this.bits;for(let d=0;d<c;d++){let h=f[d];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,s[o-d]=h}if(this.size!==c*32){const d=c*32-this.size;let h=s[0]>>>d;for(let x=1;x<c;x++){const w=s[x];h|=w<<32-d,s[x-1]=h,h=w>>>d}s[c-1]=h}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof L))return!1;const o=s;return this.size===o.size&&k.equals(this.bits,o.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new L(this.size,this.bits.slice())}}var q;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var G=q;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var Z;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class W{constructor(s,o,c,...f){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,W.VALUE_IDENTIFIER_TO_ECI.set(s,this),W.NAME_TO_ECI.set(c,this);const d=this.values;for(let h=0,x=d.length;h!==x;h++){const w=d[h];W.VALUES_TO_ECI.set(w,this)}for(const h of f)W.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new F("incorect value");const o=W.VALUES_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}static getCharacterSetECIByName(s){const o=W.NAME_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}equals(s){if(!(s instanceof W))return!1;const o=s;return this.getName()===o.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(Z.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(Z.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(Z.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(Z.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(Z.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(Z.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(Z.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(Z.Big5,28,"Big5"),W.GB18030=new W(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(Z.EUC_KR,30,"EUC_KR","EUC-KR");class oe extends p{}oe.kind="UnsupportedOperationException";class le{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!le.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof W?s:W.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(le.isDecodeFallbackSupported(c)){let f="";for(let d=0,h=s.length;d<h;d++){let x=s[d].toString(16);x.length<2&&(x="0"+x),f+="%"+x}return decodeURIComponent(f)}if(c.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new oe(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(W.UTF8)||s.equals(W.ISO8859_1)||s.equals(W.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let d=0;d<c.length;d++)f.push(c[d].charCodeAt(0));return new Uint8Array(f)}}class Q{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return le.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(G.CHARACTER_SET)!==void 0)return o.get(G.CHARACTER_SET).toString();const c=s.length;let f=!0,d=!0,h=!0,x=0,w=0,y=0,T=0,O=0,P=0,z=0,J=0,re=0,fe=0,me=0;const Me=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let je=0;je<c&&(f||d||h);je++){const Ie=s[je]&255;h&&(x>0?Ie&128?x--:h=!1:Ie&128&&(Ie&64?(x++,Ie&32?(x++,Ie&16?(x++,Ie&8?h=!1:T++):y++):w++):h=!1)),f&&(Ie>127&&Ie<160?f=!1:Ie>159&&(Ie<192||Ie===215||Ie===247)&&me++),d&&(O>0?Ie<64||Ie===127||Ie>252?d=!1:O--:Ie===128||Ie===160||Ie>239?d=!1:Ie>160&&Ie<224?(P++,J=0,z++,z>re&&(re=z)):Ie>127?(O++,z=0,J++,J>fe&&(fe=J)):(z=0,J=0))}return h&&x>0&&(h=!1),d&&O>0&&(d=!1),h&&(Me||w+y+T>0)?Q.UTF8:d&&(Q.ASSUME_SHIFT_JIS||re>=3||fe>=3)?Q.SHIFT_JIS:f&&d?re===2&&P===2||me*10>=c?Q.SHIFT_JIS:Q.ISO88591:f?Q.ISO88591:d?Q.SHIFT_JIS:h?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function f(h,x,w,y,T,O){if(h==="%%")return"%";if(o[++c]===void 0)return;h=y?parseInt(y.substr(1)):void 0;let P=T?parseInt(T.substr(1)):void 0,z;switch(O){case"s":z=o[c];break;case"c":z=o[c][0];break;case"f":z=parseFloat(o[c]).toFixed(h);break;case"p":z=parseFloat(o[c]).toPrecision(h);break;case"e":z=parseFloat(o[c]).toExponential(h);break;case"x":z=parseInt(o[c]).toString(P||16);break;case"d":z=parseFloat(parseInt(o[c],P||10).toPrecision(h)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(P);let J=parseInt(w),re=w&&w[0]+""=="0"?"0":" ";for(;z.length<J;)z=x!==void 0?z+re:re+z;return z}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,f)}static getBytes(s,o){return le.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}Q.SHIFT_JIS=W.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=W.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=W.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class _e{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let f=o;o<o+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class Se{constructor(s,o,c,f){if(this.width=s,this.height=o,this.rowSize=c,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new v("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,f=new Se(c,o);for(let d=0;d<o;d++){const h=s[d];for(let x=0;x<c;x++)h[x]&&f.set(x,d)}return f}static parseFromString(s,o,c){if(s===null)throw new v("stringRepresentation cannot be null");const f=new Array(s.length);let d=0,h=0,x=-1,w=0,y=0;for(;y<s.length;)if(s.charAt(y)===`
`||s.charAt(y)==="\r"){if(d>h){if(x===-1)x=d-h;else if(d-h!==x)throw new v("row lengths do not match");h=d,w++}y++}else if(s.substring(y,y+o.length)===o)y+=o.length,f[d]=!0,d++;else if(s.substring(y,y+c.length)===c)y+=c.length,f[d]=!1,d++;else throw new v("illegal character encountered: "+s.substring(y));if(d>h){if(x===-1)x=d-h;else if(d-h!==x)throw new v("row lengths do not match");w++}const T=new Se(x,w);for(let O=0;O<d;O++)f[O]&&T.set(Math.floor(O%x),Math.floor(O/x));return T}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const o=new L(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let d=0,h=this.height;d<h;d++){const x=d*c,w=s.getRow(d,o).getBitArray();for(let y=0;y<c;y++)f[x+y]^=w[y]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,f){if(o<0||s<0)throw new v("Left and top must be nonnegative");if(f<1||c<1)throw new v("Height and width must be at least 1");const d=s+c,h=o+f;if(h>this.height||d>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,w=this.bits;for(let y=o;y<h;y++){const T=y*x;for(let O=s;O<d;O++)w[T+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new L(this.width):o.clear();const c=this.rowSize,f=this.bits,d=s*c;for(let h=0;h<c;h++)o.setBulk(h*32,f[d+h]);return o}setRow(s,o){C.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new L(s),f=new L(s);for(let d=0,h=Math.floor((o+1)/2);d<h;d++)c=this.getRow(d,c),f=this.getRow(o-1-d,f),c.reverse(),f.reverse(),this.setRow(d,f),this.setRow(o-1-d,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,f=this.bits;let d=s,h=o,x=-1,w=-1;for(let y=0;y<o;y++)for(let T=0;T<c;T++){const O=f[y*c+T];if(O!==0){if(y<h&&(h=y),y>w&&(w=y),T*32<d){let P=0;for(;!(O<<31-P&4294967295);)P++;T*32+P<d&&(d=T*32+P)}if(T*32+31>x){let P=31;for(;!(O>>>P);)P--;T*32+P>x&&(x=T*32+P)}}}return x<d||w<h?null:Int32Array.from([d,h,x-d+1,w-h+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const f=c/s;let d=c%s*32;const h=o[c];let x=0;for(;!(h<<31-x&4294967295);)x++;return d+=x,Int32Array.from([d,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let d=Math.floor(c%s)*32;const h=o[c];let x=31;for(;!(h>>>x);)x--;return d+=x,Int32Array.from([d,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Se))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&k.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+k.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let f=new _e;for(let d=0,h=this.height;d<h;d++){for(let x=0,w=this.width;x<w;x++)f.append(this.get(x,d)?s:o);f.append(c)}return f.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends p{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Be extends A{constructor(s){super(s),this.luminances=Be.EMPTY,this.buckets=new Int32Array(Be.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),f=c.getWidth();o==null||o.getSize()<f?o=new L(f):o.clear(),this.initArrays(f);const d=c.getRow(s,this.luminances),h=this.buckets;for(let w=0;w<f;w++)h[(d[w]&255)>>Be.LUMINANCE_SHIFT]++;const x=Be.estimateBlackPoint(h);if(f<3)for(let w=0;w<f;w++)(d[w]&255)<x&&o.set(w);else{let w=d[0]&255,y=d[1]&255;for(let T=1;T<f-1;T++){const O=d[T+1]&255;(y*4-w-O)/2<x&&o.set(T),w=y,y=O}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),f=new Se(o,c);this.initArrays(o);const d=this.buckets;for(let w=1;w<5;w++){const y=Math.floor(c*w/5),T=s.getRow(y,this.luminances),O=Math.floor(o*4/5);for(let P=Math.floor(o/5);P<O;P++){const z=T[P]&255;d[z>>Be.LUMINANCE_SHIFT]++}}const h=Be.estimateBlackPoint(d),x=s.getMatrix();for(let w=0;w<c;w++){const y=w*o;for(let T=0;T<o;T++)(x[y+T]&255)<h&&f.set(T,w)}return f}createBinarizer(s){return new Be(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<Be.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,f=0,d=0;for(let T=0;T<o;T++)s[T]>d&&(f=T,d=s[T]),s[T]>c&&(c=s[T]);let h=0,x=0;for(let T=0;T<o;T++){const O=T-f,P=s[T]*O*O;P>x&&(h=T,x=P)}if(f>h){const T=f;f=h,h=T}if(h-f<=o/16)throw new ee;let w=h-1,y=-1;for(let T=h-1;T>f;T--){const O=T-f,P=O*O*(h-T)*(c-s[T]);P>y&&(w=T,y=P)}return w<<Be.LUMINANCE_SHIFT}}Be.LUMINANCE_BITS=5,Be.LUMINANCE_SHIFT=8-Be.LUMINANCE_BITS,Be.LUMINANCE_BUCKETS=1<<Be.LUMINANCE_BITS,Be.EMPTY=Uint8ClampedArray.from([0]);class Ce extends Be{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=Ce.MINIMUM_DIMENSION&&c>=Ce.MINIMUM_DIMENSION){const f=s.getMatrix();let d=o>>Ce.BLOCK_SIZE_POWER;o&Ce.BLOCK_SIZE_MASK&&d++;let h=c>>Ce.BLOCK_SIZE_POWER;c&Ce.BLOCK_SIZE_MASK&&h++;const x=Ce.calculateBlackPoints(f,d,h,o,c),w=new Se(o,c);Ce.calculateThresholdForBlock(f,d,h,o,c,x,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Ce(s)}static calculateThresholdForBlock(s,o,c,f,d,h,x){const w=d-Ce.BLOCK_SIZE,y=f-Ce.BLOCK_SIZE;for(let T=0;T<c;T++){let O=T<<Ce.BLOCK_SIZE_POWER;O>w&&(O=w);const P=Ce.cap(T,2,c-3);for(let z=0;z<o;z++){let J=z<<Ce.BLOCK_SIZE_POWER;J>y&&(J=y);const re=Ce.cap(z,2,o-3);let fe=0;for(let Me=-2;Me<=2;Me++){const je=h[P+Me];fe+=je[re-2]+je[re-1]+je[re]+je[re+1]+je[re+2]}const me=fe/25;Ce.thresholdBlock(s,J,O,me,f,x)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,f,d,h){for(let x=0,w=c*d+o;x<Ce.BLOCK_SIZE;x++,w+=d)for(let y=0;y<Ce.BLOCK_SIZE;y++)(s[w+y]&255)<=f&&h.set(o+y,c+x)}static calculateBlackPoints(s,o,c,f,d){const h=d-Ce.BLOCK_SIZE,x=f-Ce.BLOCK_SIZE,w=new Array(c);for(let y=0;y<c;y++){w[y]=new Int32Array(o);let T=y<<Ce.BLOCK_SIZE_POWER;T>h&&(T=h);for(let O=0;O<o;O++){let P=O<<Ce.BLOCK_SIZE_POWER;P>x&&(P=x);let z=0,J=255,re=0;for(let me=0,Me=T*f+P;me<Ce.BLOCK_SIZE;me++,Me+=f){for(let je=0;je<Ce.BLOCK_SIZE;je++){const Ie=s[Me+je]&255;z+=Ie,Ie<J&&(J=Ie),Ie>re&&(re=Ie)}if(re-J>Ce.MIN_DYNAMIC_RANGE)for(me++,Me+=f;me<Ce.BLOCK_SIZE;me++,Me+=f)for(let je=0;je<Ce.BLOCK_SIZE;je++)z+=s[Me+je]&255}let fe=z>>Ce.BLOCK_SIZE_POWER*2;if(re-J<=Ce.MIN_DYNAMIC_RANGE&&(fe=J/2,y>0&&O>0)){const me=(w[y-1][O]+2*w[y][O-1]+w[y-1][O-1])/4;J<me&&(fe=me)}w[y][O]=fe}}return w}}Ce.BLOCK_SIZE_POWER=3,Ce.BLOCK_SIZE=1<<Ce.BLOCK_SIZE_POWER,Ce.BLOCK_SIZE_MASK=Ce.BLOCK_SIZE-1,Ce.MINIMUM_DIMENSION=Ce.BLOCK_SIZE*5,Ce.MIN_DYNAMIC_RANGE=24;class Ae{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,f){throw new oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new oe("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new _e;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let d=0;d<this.width;d++){const h=f[d]&255;let x;h<64?x="#":h<128?x="+":h<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class ne extends Ae{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),f=this.getWidth();for(let d=0;d<f;d++)c[d]=255-(c[d]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let f=0;f<o;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,f){return new ne(this.delegate.crop(s,o,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ne(this.delegate.rotateCounterClockwise45())}}class be extends Ae{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return be.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const f=new Uint8ClampedArray(o*c);for(let d=0,h=0,x=s.length;d<x;d+=4,h++){let w;if(s[d+3]===0)w=255;else{const T=s[d],O=s[d+1],P=s[d+2];w=306*T+601*O+117*P+512>>10}f[h]=w}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return o===null?o=this.buffer.slice(f,f+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(f,f+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,f){return super.crop(s,o,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),f=s*be.DEGREE_TO_RADIANS,d=this.canvas.width,h=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(f))*d+Math.abs(Math.sin(f))*h),w=Math.ceil(Math.abs(Math.sin(f))*d+Math.abs(Math.cos(f))*h);return o.width=x,o.height=w,c.translate(x/2,w/2),c.rotate(f),c.drawImage(this.canvas,d/-2,h/-2),this.buffer=be.makeBufferFromCanvasImageData(o),this}invert(){return new ne(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class ce{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var B=(globalThis||pc||self||window||void 0)&&(globalThis||pc||self||window||void 0).__awaiter||function(N,s,o,c){function f(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function x(T){try{y(c.next(T))}catch(O){h(O)}}function w(T){try{y(c.throw(T))}catch(O){h(O)}}function y(T){T.done?d(T.value):f(T.value).then(x,w)}y((c=c.apply(N,s||[])).next())})};class se{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return B(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const d=c.deviceId||c.id,h=c.label||`Video device ${o.length+1}`,x=c.groupId,w={deviceId:d,label:h,kind:f,groupId:x};o.push(w)}return o})}getVideoInputDevices(){return B(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ce(o.deviceId,o.label))})}findDeviceById(s){return B(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return B(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return B(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return B(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return B(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return B(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return B(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const d={video:f};return yield this.decodeFromConstraints(d,o,c)})}decodeFromConstraints(s,o,c){return B(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,c)})}decodeFromStream(s,o,c){return B(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return B(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return B(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new m(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new m(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new m("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new m("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new m("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new m("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new m("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new m("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,o);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return B(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return B(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const f=(d,h)=>{if(this._stopAsyncDecode){h(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);d(x)}catch(x){const w=o&&x instanceof ee,T=(x instanceof E||x instanceof F)&&c;if(w||T)return setTimeout(f,this._timeBetweenDecodingAttempts,d,h);h(x)}};return new Promise((d,h)=>f(d,h))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){o(null,f);const d=f instanceof E||f instanceof F,h=f instanceof ee;(d||h)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new be(o),f=new Ce(c);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=f+"px",o.width=c,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class K{constructor(s,o,c=o==null?0:8*o.length,f,d,h=C.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=f,this.format=d,this.timestamp=h,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=f,this.format=d,this.resultMetadata=null,h==null?this.timestamp=C.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);C.arraycopy(o,0,c,0,o.length),C.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var te;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(te||(te={}));var ae=te,De;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(De||(De={}));var Ve=De;class We{constructor(s,o,c,f,d=-1,h=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=h,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Re{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class et{constructor(s,o){if(o.length===0)throw new v;this.field=s;const c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let h=0,x=o.length;h!==x;h++){const w=o[h];c=Re.addOrSubtract(c,w)}return c}c=o[0];const f=o.length,d=this.field;for(let h=1;h<f;h++)c=Re.addOrSubtract(d.multiply(s,c),o[h]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const h=o;o=c,c=h}let f=new Int32Array(c.length);const d=c.length-o.length;C.arraycopy(c,0,f,0,d);for(let h=d;h<c.length;h++)f[h]=Re.addOrSubtract(o[h-d],c[h]);return new et(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,f=s.coefficients,d=f.length,h=new Int32Array(c+d-1),x=this.field;for(let w=0;w<c;w++){const y=o[w];for(let T=0;T<d;T++)h[w+T]=Re.addOrSubtract(h[w+T],x.multiply(y,f[T]))}return new et(x,h)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,f=new Int32Array(o),d=this.coefficients;for(let h=0;h<o;h++)f[h]=c.multiply(d[h],s);return new et(c,f)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return this.field.getZero();const c=this.coefficients,f=c.length,d=new Int32Array(f+s),h=this.field;for(let x=0;x<f;x++)d[x]=h.multiply(c[x],o);return new et(h,d)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const o=this.field;let c=o.getZero(),f=this;const d=s.getCoefficient(s.getDegree()),h=o.inverse(d);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const x=f.getDegree()-s.getDegree(),w=o.multiply(f.getCoefficient(f.getDegree()),h),y=s.multiplyByMonomial(x,w),T=o.buildMonomial(x,w);c=c.addOrSubtract(T),f=f.addOrSubtract(y)}return[c,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Y extends p{}Y.kind="ArithmeticException";class qe extends Re{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const f=new Int32Array(o);let d=1;for(let x=0;x<o;x++)f[x]=d,d*=2,d>=o&&(d^=s,d&=o-1);this.expTable=f;const h=new Int32Array(o);for(let x=0;x<o-1;x++)h[f[x]]=x;this.logTable=h,this.zero=new et(this,Int32Array.from([0])),this.one=new et(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new et(this,c)}inverse(s){if(s===0)throw new Y;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class ct extends p{}ct.kind="ReedSolomonException";class ht extends p{}ht.kind="IllegalStateException";class Ye{constructor(s){this.field=s}decode(s,o){const c=this.field,f=new et(c,s),d=new Int32Array(o);let h=!0;for(let z=0;z<o;z++){const J=f.evaluateAt(c.exp(z+c.getGeneratorBase()));d[d.length-1-z]=J,J!==0&&(h=!1)}if(h)return;const x=new et(c,d),w=this.runEuclideanAlgorithm(c.buildMonomial(o,1),x,o),y=w[0],T=w[1],O=this.findErrorLocations(y),P=this.findErrorMagnitudes(T,O);for(let z=0;z<O.length;z++){const J=s.length-1-c.log(O[z]);if(J<0)throw new ct("Bad error location");s[J]=qe.addOrSubtract(s[J],P[z])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const z=s;s=o,o=z}const f=this.field;let d=s,h=o,x=f.getZero(),w=f.getOne();for(;h.getDegree()>=(c/2|0);){let z=d,J=x;if(d=h,x=w,d.isZero())throw new ct("r_{i-1} was zero");h=z;let re=f.getZero();const fe=d.getCoefficient(d.getDegree()),me=f.inverse(fe);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){const Me=h.getDegree()-d.getDegree(),je=f.multiply(h.getCoefficient(h.getDegree()),me);re=re.addOrSubtract(f.buildMonomial(Me,je)),h=h.addOrSubtract(d.multiplyByMonomial(Me,je))}if(w=re.multiply(x).addOrSubtract(J),h.getDegree()>=d.getDegree())throw new ht("Division algorithm failed to reduce polynomial?")}const y=w.getCoefficient(0);if(y===0)throw new ct("sigmaTilde(0) was zero");const T=f.inverse(y),O=w.multiplyScalar(T),P=h.multiplyScalar(T);return[O,P]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let f=0;const d=this.field;for(let h=1;h<d.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(c[f]=d.inverse(h),f++);if(f!==o)throw new ct("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,f=new Int32Array(c),d=this.field;for(let h=0;h<c;h++){const x=d.inverse(o[h]);let w=1;for(let y=0;y<c;y++)if(h!==y){const T=d.multiply(o[y],x),O=T&1?T&-2:T|1;w=d.multiply(w,O)}f[h]=d.multiply(s.evaluateAt(x),d.inverse(w)),d.getGeneratorBase()!==0&&(f[h]=d.multiply(f[h],x))}return f}}var Ne;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(Ne||(Ne={}));class Ze{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),f=this.correctBits(c),d=Ze.convertBoolArrayToByteArray(f),h=Ze.getEncodedData(f),x=new We(d,h,null,null);return x.setNumBits(f.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=Ne.UPPER,f=Ne.UPPER,d="",h=0;for(;h<o;)if(f===Ne.BINARY){if(o-h<5)break;let x=Ze.readCode(s,h,5);if(h+=5,x===0){if(o-h<11)break;x=Ze.readCode(s,h,11)+31,h+=11}for(let w=0;w<x;w++){if(o-h<8){h=o;break}const y=Ze.readCode(s,h,8);d+=Q.castAsNonUtf8Char(y),h+=8}f=c}else{let x=f===Ne.DIGIT?4:5;if(o-h<x)break;let w=Ze.readCode(s,h,x);h+=x;let y=Ze.getCharacter(f,w);y.startsWith("CTRL_")?(c=f,f=Ze.getTable(y.charAt(5)),y.charAt(6)==="L"&&(c=f)):(d+=y,f=c)}return d}static getTable(s){switch(s){case"L":return Ne.LOWER;case"P":return Ne.PUNCT;case"M":return Ne.MIXED;case"D":return Ne.DIGIT;case"B":return Ne.BINARY;case"U":default:return Ne.UPPER}}static getCharacter(s,o){switch(s){case Ne.UPPER:return Ze.UPPER_TABLE[o];case Ne.LOWER:return Ze.LOWER_TABLE[o];case Ne.MIXED:return Ze.MIXED_TABLE[o];case Ne.PUNCT:return Ze.PUNCT_TABLE[o];case Ne.DIGIT:return Ze.DIGIT_TABLE[o];default:throw new ht("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=qe.AZTEC_DATA_10):(c=12,o=qe.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),d=s.length/c;if(d<f)throw new F;let h=s.length%c,x=new Int32Array(d);for(let P=0;P<d;P++,h+=c)x[P]=Ze.readCode(s,h,c);try{new Ye(o).decode(x,d-f)}catch(P){throw new F(P)}let w=(1<<c)-1,y=0;for(let P=0;P<f;P++){let z=x[P];if(z===0||z===w)throw new F;(z===1||z===w-1)&&y++}let T=new Array(f*c-y),O=0;for(let P=0;P<f;P++){let z=x[P];if(z===1||z===w-1)T.fill(z>1,O,O+c-1),O+=c-1;else for(let J=c-1;J>=0;--J)T[O++]=(z&1<<J)!==0}return T}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(o?11:14)+c*4,d=new Int32Array(f),h=new Array(this.totalBitsInLayer(c,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=f+1+2*S.truncDivision(S.truncDivision(f,2)-1,15),w=f/2,y=S.truncDivision(x,2);for(let T=0;T<w;T++){let O=T+S.truncDivision(T,15);d[w-T-1]=y-O-1,d[w+T]=y+O+1}}for(let x=0,w=0;x<c;x++){let y=(c-x)*4+(o?9:12),T=x*2,O=f-1-T;for(let P=0;P<y;P++){let z=P*2;for(let J=0;J<2;J++)h[w+z+J]=s.get(d[T+J],d[T+P]),h[w+2*y+z+J]=s.get(d[T+P],d[O-J]),h[w+4*y+z+J]=s.get(d[O-J],d[O-P]),h[w+6*y+z+J]=s.get(d[O-P],d[T+J])}w+=y*8}return h}static readCode(s,o,c){let f=0;for(let d=o;d<o+c;d++)f<<=1,s[d]&&(f|=1);return f}static readByte(s,o){let c=s.length-o;return c>=8?Ze.readCode(s,o,8):Ze.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=Ze.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,f){const d=s-c,h=o-f;return Math.sqrt(d*d+h*h)}static sum(s){let o=0;for(let c=0,f=s.length;c!==f;c++){const d=s[c];o+=d}return o}}class Ht{static floatToIntBits(s){return s}}Ht.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Xe{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Xe){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Ht.floatToIntBits(this.x)+Ht.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let d,h,x;if(c>=o&&c>=f?(h=s[0],d=s[1],x=s[2]):f>=c&&f>=o?(h=s[1],d=s[0],x=s[2]):(h=s[2],d=s[0],x=s[1]),this.crossProductZ(d,h,x)<0){const w=d;d=x,x=w}s[0]=d,s[1]=h,s[2]=x}static distance(s,o){return ot.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const f=o.x,d=o.y;return(c.x-f)*(s.y-d)-(c.y-d)*(s.x-f)}}class zt{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class yn extends zt{constructor(s,o,c,f,d){super(s,o),this.compact=c,this.nbDatablocks=f,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Gt{constructor(s,o,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=Gt.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const d=o/2|0;if(this.leftInit=c-d,this.rightInit=c+d,this.upInit=f-d,this.downInit=f+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,f=this.downInit,d=!1,h=!0,x=!1,w=!1,y=!1,T=!1,O=!1;const P=this.width,z=this.height;for(;h;){h=!1;let J=!0;for(;(J||!w)&&o<P;)J=this.containsBlackPoint(c,f,o,!1),J?(o++,h=!0,w=!0):w||o++;if(o>=P){d=!0;break}let re=!0;for(;(re||!y)&&f<z;)re=this.containsBlackPoint(s,o,f,!0),re?(f++,h=!0,y=!0):y||f++;if(f>=z){d=!0;break}let fe=!0;for(;(fe||!T)&&s>=0;)fe=this.containsBlackPoint(c,f,s,!1),fe?(s--,h=!0,T=!0):T||s--;if(s<0){d=!0;break}let me=!0;for(;(me||!O)&&c>=0;)me=this.containsBlackPoint(s,o,c,!0),me?(c--,h=!0,O=!0):O||c--;if(c<0){d=!0;break}h&&(x=!0)}if(!d&&x){const J=o-s;let re=null;for(let je=1;re===null&&je<J;je++)re=this.getBlackPointOnSegment(s,f-je,s+je,f);if(re==null)throw new ee;let fe=null;for(let je=1;fe===null&&je<J;je++)fe=this.getBlackPointOnSegment(s,c+je,s+je,c);if(fe==null)throw new ee;let me=null;for(let je=1;me===null&&je<J;je++)me=this.getBlackPointOnSegment(o,c+je,o-je,c);if(me==null)throw new ee;let Me=null;for(let je=1;Me===null&&je<J;je++)Me=this.getBlackPointOnSegment(o,f-je,o-je,f);if(Me==null)throw new ee;return this.centerEdges(Me,re,me,fe)}else throw new ee}getBlackPointOnSegment(s,o,c,f){const d=ot.round(ot.distance(s,o,c,f)),h=(c-s)/d,x=(f-o)/d,w=this.image;for(let y=0;y<d;y++){const T=ot.round(s+y*h),O=ot.round(o+y*x);if(w.get(T,O))return new Xe(T,O)}return null}centerEdges(s,o,c,f){const d=s.getX(),h=s.getY(),x=o.getX(),w=o.getY(),y=c.getX(),T=c.getY(),O=f.getX(),P=f.getY(),z=Gt.CORR;return d<this.width/2?[new Xe(O-z,P+z),new Xe(x+z,w+z),new Xe(y-z,T-z),new Xe(d+z,h-z)]:[new Xe(O+z,P+z),new Xe(x+z,w-z),new Xe(y-z,T+z),new Xe(d-z,h-z)]}containsBlackPoint(s,o,c,f){const d=this.image;if(f){for(let h=s;h<=o;h++)if(d.get(h,c))return!0}else for(let h=s;h<=o;h++)if(d.get(c,h))return!0;return!1}}Gt.INIT_SIZE=10,Gt.CORR=1;class Mr{static checkAndNudgePoints(s,o){const c=s.getWidth(),f=s.getHeight();let d=!0;for(let h=0;h<o.length&&d;h+=2){const x=Math.floor(o[h]),w=Math.floor(o[h+1]);if(x<-1||x>c||w<-1||w>f)throw new ee;d=!1,x===-1?(o[h]=0,d=!0):x===c&&(o[h]=c-1,d=!0),w===-1?(o[h+1]=0,d=!0):w===f&&(o[h+1]=f-1,d=!0)}d=!0;for(let h=o.length-2;h>=0&&d;h-=2){const x=Math.floor(o[h]),w=Math.floor(o[h+1]);if(x<-1||x>c||w<-1||w>f)throw new ee;d=!1,x===-1?(o[h]=0,d=!0):x===c&&(o[h]=c-1,d=!0),w===-1?(o[h+1]=0,d=!0):w===f&&(o[h+1]=f-1,d=!0)}}}class Er{constructor(s,o,c,f,d,h,x,w,y){this.a11=s,this.a21=o,this.a31=c,this.a12=f,this.a22=d,this.a32=h,this.a13=x,this.a23=w,this.a33=y}static quadrilateralToQuadrilateral(s,o,c,f,d,h,x,w,y,T,O,P,z,J,re,fe){const me=Er.quadrilateralToSquare(s,o,c,f,d,h,x,w);return Er.squareToQuadrilateral(y,T,O,P,z,J,re,fe).times(me)}transformPoints(s){const o=s.length,c=this.a11,f=this.a12,d=this.a13,h=this.a21,x=this.a22,w=this.a23,y=this.a31,T=this.a32,O=this.a33;for(let P=0;P<o;P+=2){const z=s[P],J=s[P+1],re=d*z+w*J+O;s[P]=(c*z+h*J+y)/re,s[P+1]=(f*z+x*J+T)/re}}transformPointsWithValues(s,o){const c=this.a11,f=this.a12,d=this.a13,h=this.a21,x=this.a22,w=this.a23,y=this.a31,T=this.a32,O=this.a33,P=s.length;for(let z=0;z<P;z++){const J=s[z],re=o[z],fe=d*J+w*re+O;s[z]=(c*J+h*re+y)/fe,o[z]=(f*J+x*re+T)/fe}}static squareToQuadrilateral(s,o,c,f,d,h,x,w){const y=s-c+d-x,T=o-f+h-w;if(y===0&&T===0)return new Er(c-s,d-c,s,f-o,h-f,o,0,0,1);{const O=c-d,P=x-d,z=f-h,J=w-h,re=O*J-P*z,fe=(y*J-P*T)/re,me=(O*T-y*z)/re;return new Er(c-s+fe*c,x-s+me*x,s,f-o+fe*f,w-o+me*w,o,fe,me,1)}}static quadrilateralToSquare(s,o,c,f,d,h,x,w){return Er.squareToQuadrilateral(s,o,c,f,d,h,x,w).buildAdjoint()}buildAdjoint(){return new Er(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Er(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Hi extends Mr{sampleGrid(s,o,c,f,d,h,x,w,y,T,O,P,z,J,re,fe,me,Me,je){const Ie=Er.quadrilateralToQuadrilateral(f,d,h,x,w,y,T,O,P,z,J,re,fe,me,Me,je);return this.sampleGridWithTransform(s,o,c,Ie)}sampleGridWithTransform(s,o,c,f){if(o<=0||c<=0)throw new ee;const d=new Se(o,c),h=new Float32Array(2*o);for(let x=0;x<c;x++){const w=h.length,y=x+.5;for(let T=0;T<w;T+=2)h[T]=T/2+.5,h[T+1]=y;f.transformPoints(h),Mr.checkAndNudgePoints(s,h);try{for(let T=0;T<w;T+=2)s.get(Math.floor(h[T]),Math.floor(h[T+1]))&&d.set(T/2,x)}catch{throw new ee}}return d}}class Qt{static setGridSampler(s){Qt.gridSampler=s}static getInstance(){return Qt.gridSampler}}Qt.gridSampler=new Hi;class Yt{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Xe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ft{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let h=c[0];c[0]=c[2],c[2]=h}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),d=this.getMatrixCornerPoints(c);return new yn(f,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ee;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let f=0;for(let h=0;h<4;h++){let x=c[(this.shift+h)%4];this.compact?(f<<=7,f+=x>>1&127):(f<<=10,f+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,o){let c=0;s.forEach((f,d,h)=>{let x=(f>>o-2<<1)+(f&1);c=(c<<3)+x}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(S.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ee}getCorrectedParameterData(s,o){let c,f;o?(c=7,f=2):(c=10,f=4);let d=c-f,h=new Int32Array(c);for(let w=c-1;w>=0;--w)h[w]=s&15,s>>=4;try{new Ye(qe.AZTEC_PARAM).decode(h,d)}catch{throw new ee}let x=0;for(let w=0;w<f;w++)x=(x<<4)+h[w];return x}getBullsEyeCorners(s){let o=s,c=s,f=s,d=s,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(o,h,1,-1),P=this.getFirstDifferent(c,h,1,1),z=this.getFirstDifferent(f,h,-1,1),J=this.getFirstDifferent(d,h,-1,-1);if(this.nbCenterLayers>2){let re=this.distancePoint(J,O)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(re<.75||re>1.25||!this.isWhiteOrBlackRectangle(O,P,z,J))break}o=O,c=P,f=z,d=J,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let x=new Xe(o.getX()+.5,o.getY()-.5),w=new Xe(c.getX()+.5,c.getY()+.5),y=new Xe(f.getX()-.5,f.getY()+.5),T=new Xe(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,w,y,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,f;try{let x=new Gt(this.image).detect();s=x[0],o=x[1],c=x[2],f=x[3]}catch{let w=this.image.getWidth()/2,y=this.image.getHeight()/2;s=this.getFirstDifferent(new Yt(w+7,y-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Yt(w+7,y+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Yt(w-7,y+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Yt(w-7,y-7),!1,-1,-1).toResultPoint()}let d=ot.round((s.getX()+f.getX()+o.getX()+c.getX())/4),h=ot.round((s.getY()+f.getY()+o.getY()+c.getY())/4);try{let x=new Gt(this.image,15,d,h).detect();s=x[0],o=x[1],c=x[2],f=x[3]}catch{s=this.getFirstDifferent(new Yt(d+7,h-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Yt(d+7,h+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Yt(d-7,h+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Yt(d-7,h-7),!1,-1,-1).toResultPoint()}return d=ot.round((s.getX()+f.getX()+o.getX()+c.getX())/4),h=ot.round((s.getY()+f.getY()+o.getY()+c.getY())/4),new Yt(d,h)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,f,d){let h=Qt.getInstance(),x=this.getDimension(),w=x/2-this.nbCenterLayers,y=x/2+this.nbCenterLayers;return h.sampleGrid(s,x,x,w,w,y,w,y,y,w,y,o.getX(),o.getY(),c.getX(),c.getY(),f.getX(),f.getY(),d.getX(),d.getY())}sampleLine(s,o,c){let f=0,d=this.distanceResultPoint(s,o),h=d/c,x=s.getX(),w=s.getY(),y=h*(o.getX()-s.getX())/d,T=h*(o.getY()-s.getY())/d;for(let O=0;O<c;O++)this.image.get(ot.round(x+O*y),ot.round(w+O*T))&&(f|=1<<c-O-1);return f}isWhiteOrBlackRectangle(s,o,c,f){let d=3;s=new Yt(s.getX()-d,s.getY()+d),o=new Yt(o.getX()-d,o.getY()-d),c=new Yt(c.getX()+d,c.getY()-d),f=new Yt(f.getX()+d,f.getY()+d);let h=this.getColor(f,s);if(h===0)return!1;let x=this.getColor(s,o);return x!==h||(x=this.getColor(o,c),x!==h)?!1:(x=this.getColor(c,f),x===h)}getColor(s,o){let c=this.distancePoint(s,o),f=(o.getX()-s.getX())/c,d=(o.getY()-s.getY())/c,h=0,x=s.getX(),w=s.getY(),y=this.image.get(s.getX(),s.getY()),T=Math.ceil(c);for(let P=0;P<T;P++)x+=f,w+=d,this.image.get(ot.round(x),ot.round(w))!==y&&h++;let O=h/c;return O>.1&&O<.9?0:O<=.1===y?1:-1}getFirstDifferent(s,o,c,f){let d=s.getX()+c,h=s.getY()+f;for(;this.isValid(d,h)&&this.image.get(d,h)===o;)d+=c,h+=f;for(d-=c,h-=f;this.isValid(d,h)&&this.image.get(d,h)===o;)d+=c;for(d-=c;this.isValid(d,h)&&this.image.get(d,h)===o;)h+=f;return h-=f,new Yt(d,h)}expandSquare(s,o,c){let f=c/(2*o),d=s[0].getX()-s[2].getX(),h=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,w=(s[0].getY()+s[2].getY())/2,y=new Xe(x+f*d,w+f*h),T=new Xe(x-f*d,w-f*h);d=s[1].getX()-s[3].getX(),h=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,w=(s[1].getY()+s[3].getY())/2;let O=new Xe(x+f*d,w+f*h),P=new Xe(x-f*d,w-f*h);return[y,O,T,P]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=ot.round(s.getX()),c=ot.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return ot.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return ot.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}class Kt{decode(s,o=null){let c=null,f=new ft(s.getBlackMatrix()),d=null,h=null;try{let T=f.detectMirror(!1);d=T.getPoints(),this.reportFoundResultPoints(o,d),h=new Ze().decode(T)}catch(T){c=T}if(h==null)try{let T=f.detectMirror(!0);d=T.getPoints(),this.reportFoundResultPoints(o,d),h=new Ze().decode(T)}catch(T){throw c??T}let x=new K(h.getText(),h.getRawBytes(),h.getNumBits(),d,ae.AZTEC,C.currentTimeMillis()),w=h.getByteSegments();w!=null&&x.putMetadata(Ve.BYTE_SEGMENTS,w);let y=h.getECLevel();return y!=null&&x.putMetadata(Ve.ERROR_CORRECTION_LEVEL,y),x}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(G.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((f,d,h)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class _n extends se{constructor(s=500){super(new Kt,s)}}class gt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(G.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),h=this.doDecode(d,o),x=h.getResultMetadata();let w=270;x!==null&&x.get(Ve.ORIENTATION)===!0&&(w=w+x.get(Ve.ORIENTATION)%360),h.putMetadata(Ve.ORIENTATION,w);const y=h.getResultPoints();if(y!==null){const T=d.getHeight();for(let O=0;O<y.length;O++)y[O]=new Xe(T-y[O].getY()-1,y[O].getX())}return h}else throw new ee}}reset(){}doDecode(s,o){const c=s.getWidth(),f=s.getHeight();let d=new L(c);const h=o&&o.get(G.TRY_HARDER)===!0,x=Math.max(1,f>>(h?8:5));let w;h?w=f:w=15;const y=Math.trunc(f/2);for(let T=0;T<w;T++){const O=Math.trunc((T+1)/2),P=(T&1)===0,z=y+x*(P?O:-O);if(z<0||z>=f)break;try{d=s.getBlackRow(z,d)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(d.reverse(),o&&o.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const re=new Map;o.forEach((fe,me)=>re.set(me,fe)),re.delete(G.NEED_RESULT_POINT_CALLBACK),o=re}try{const re=this.decodeRow(z,d,o);if(J===1){re.putMetadata(Ve.ORIENTATION,180);const fe=re.getResultPoints();fe!==null&&(fe[0]=new Xe(c-fe[0].getX()-1,fe[0].getY()),fe[1]=new Xe(c-fe[1].getX()-1,fe[1].getY()))}return re}catch{}}}throw new ee}static recordPattern(s,o,c){const f=c.length;for(let y=0;y<f;y++)c[y]=0;const d=s.getSize();if(o>=d)throw new ee;let h=!s.get(o),x=0,w=o;for(;w<d;){if(s.get(w)!==h)c[x]++;else{if(++x===f)break;c[x]=1,h=!h}w++}if(!(x===f||x===f-1&&w===d))throw new ee}static recordPatternInReverse(s,o,c){let f=c.length,d=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==d&&(f--,d=!d);if(f>=0)throw new ee;gt.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const f=s.length;let d=0,h=0;for(let y=0;y<f;y++)d+=s[y],h+=o[y];if(d<h)return Number.POSITIVE_INFINITY;const x=d/h;c*=x;let w=0;for(let y=0;y<f;y++){const T=s[y],O=o[y]*x,P=T>O?T-O:O-T;if(P>c)return Number.POSITIVE_INFINITY;w+=P}return w/d}}class Le extends gt{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let f=0,d=Int32Array.from([0,0,0,0,0,0]),h=c,x=!1;const w=6;for(let y=c;y<o;y++)if(s.get(y)!==x)d[f]++;else{if(f===w-1){let T=Le.MAX_AVG_VARIANCE,O=-1;for(let P=Le.CODE_START_A;P<=Le.CODE_START_C;P++){const z=gt.patternMatchVariance(d,Le.CODE_PATTERNS[P],Le.MAX_INDIVIDUAL_VARIANCE);z<T&&(T=z,O=P)}if(O>=0&&s.isRange(Math.max(0,h-(y-h)/2),h,!1))return Int32Array.from([h,y,O]);h+=d[0]+d[1],d=d.slice(2,d.length-1),d[f-1]=0,d[f]=0,f--}else f++;d[f]=1,x=!x}throw new ee}static decodeCode(s,o,c){gt.recordPattern(s,c,o);let f=Le.MAX_AVG_VARIANCE,d=-1;for(let h=0;h<Le.CODE_PATTERNS.length;h++){const x=Le.CODE_PATTERNS[h],w=this.patternMatchVariance(o,x,Le.MAX_INDIVIDUAL_VARIANCE);w<f&&(f=w,d=h)}if(d>=0)return d;throw new ee}decodeRow(s,o,c){const f=c&&c.get(G.ASSUME_GS1)===!0,d=Le.findStartPattern(o),h=d[2];let x=0;const w=new Uint8Array(20);w[x++]=h;let y;switch(h){case Le.CODE_START_A:y=Le.CODE_CODE_A;break;case Le.CODE_START_B:y=Le.CODE_CODE_B;break;case Le.CODE_START_C:y=Le.CODE_CODE_C;break;default:throw new F}let T=!1,O=!1,P="",z=d[0],J=d[1];const re=Int32Array.from([0,0,0,0,0,0]);let fe=0,me=0,Me=h,je=0,Ie=!0,bt=!1,xt=!1;for(;!T;){const Yo=O;switch(O=!1,fe=me,me=Le.decodeCode(o,re,J),w[x++]=me,me!==Le.CODE_STOP&&(Ie=!0),me!==Le.CODE_STOP&&(je++,Me+=je*me),z=J,J+=re.reduce((gT,pT)=>gT+pT,0),me){case Le.CODE_START_A:case Le.CODE_START_B:case Le.CODE_START_C:throw new F}switch(y){case Le.CODE_CODE_A:if(me<64)xt===bt?P+=String.fromCharCode(32+me):P+=String.fromCharCode(32+me+128),xt=!1;else if(me<96)xt===bt?P+=String.fromCharCode(me-64):P+=String.fromCharCode(me+64),xt=!1;else switch(me!==Le.CODE_STOP&&(Ie=!1),me){case Le.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_A:!bt&&xt?(bt=!0,xt=!1):bt&&xt?(bt=!1,xt=!1):xt=!0;break;case Le.CODE_SHIFT:O=!0,y=Le.CODE_CODE_B;break;case Le.CODE_CODE_B:y=Le.CODE_CODE_B;break;case Le.CODE_CODE_C:y=Le.CODE_CODE_C;break;case Le.CODE_STOP:T=!0;break}break;case Le.CODE_CODE_B:if(me<96)xt===bt?P+=String.fromCharCode(32+me):P+=String.fromCharCode(32+me+128),xt=!1;else switch(me!==Le.CODE_STOP&&(Ie=!1),me){case Le.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_B:!bt&&xt?(bt=!0,xt=!1):bt&&xt?(bt=!1,xt=!1):xt=!0;break;case Le.CODE_SHIFT:O=!0,y=Le.CODE_CODE_A;break;case Le.CODE_CODE_A:y=Le.CODE_CODE_A;break;case Le.CODE_CODE_C:y=Le.CODE_CODE_C;break;case Le.CODE_STOP:T=!0;break}break;case Le.CODE_CODE_C:if(me<100)me<10&&(P+="0"),P+=me;else switch(me!==Le.CODE_STOP&&(Ie=!1),me){case Le.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Le.CODE_CODE_A:y=Le.CODE_CODE_A;break;case Le.CODE_CODE_B:y=Le.CODE_CODE_B;break;case Le.CODE_STOP:T=!0;break}break}Yo&&(y=y===Le.CODE_CODE_A?Le.CODE_CODE_B:Le.CODE_CODE_A)}const qn=J-z;if(J=o.getNextUnset(J),!o.isRange(J,Math.min(o.getSize(),J+(J-z)/2),!1))throw new ee;if(Me-=je*fe,Me%103!==fe)throw new E;const Gi=P.length;if(Gi===0)throw new ee;Gi>0&&Ie&&(y===Le.CODE_CODE_C?P=P.substring(0,Gi-2):P=P.substring(0,Gi-1));const Zn=(d[1]+d[0])/2,er=z+qn/2,fn=w.length,ci=new Uint8Array(fn);for(let Yo=0;Yo<fn;Yo++)ci[Yo]=w[Yo];const $o=[new Xe(Zn,s),new Xe(er,s)];return new K(P,ci,0,$o,ae.CODE_128,new Date().getTime())}}Le.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Le.MAX_AVG_VARIANCE=.25,Le.MAX_INDIVIDUAL_VARIANCE=.7,Le.CODE_SHIFT=98,Le.CODE_CODE_C=99,Le.CODE_CODE_B=100,Le.CODE_CODE_A=101,Le.CODE_FNC_1=102,Le.CODE_FNC_2=97,Le.CODE_FNC_3=96,Le.CODE_FNC_4_A=101,Le.CODE_FNC_4_B=100,Le.CODE_START_A=103,Le.CODE_START_B=104,Le.CODE_START_C=105,Le.CODE_STOP=106;class cr extends gt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let d=cr.findAsteriskPattern(o,f),h=o.getNextSet(d[1]),x=o.getSize(),w,y;do{cr.recordPattern(o,h,f);let re=cr.toNarrowWidePattern(f);if(re<0)throw new ee;w=cr.patternToChar(re),this.decodeRowResult+=w,y=h;for(let fe of f)h+=fe;h=o.getNextSet(h)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let re of f)T+=re;let O=h-y-T;if(h!==x&&O*2<T)throw new ee;if(this.usingCheckDigit){let re=this.decodeRowResult.length-1,fe=0;for(let me=0;me<re;me++)fe+=cr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(me));if(this.decodeRowResult.charAt(re)!==cr.ALPHABET_STRING.charAt(fe%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,re)}if(this.decodeRowResult.length===0)throw new ee;let P;this.extendedMode?P=cr.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let z=(d[1]+d[0])/2,J=y+T/2;return new K(P,null,0,[new Xe(z,s),new Xe(J,s)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),f=s.getNextSet(0),d=0,h=f,x=!1,w=o.length;for(let y=f;y<c;y++)if(s.get(y)!==x)o[d]++;else{if(d===w-1){if(this.toNarrowWidePattern(o)===cr.ASTERISK_ENCODING&&s.isRange(Math.max(0,h-Math.floor((y-h)/2)),h,!1))return[h,y];h+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new ee}static toNarrowWidePattern(s){let o=s.length,c=0,f;do{let d=2147483647;for(let w of s)w<d&&w>c&&(d=w);c=d,f=0;let h=0,x=0;for(let w=0;w<o;w++){let y=s[w];y>c&&(x|=1<<o-1-w,f++,h+=y)}if(f===3){for(let w=0;w<o&&f>0;w++){let y=s[w];if(y>c&&(f--,y*2>=h))return-1}return x}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<cr.CHARACTER_ENCODINGS.length;o++)if(cr.CHARACTER_ENCODINGS[o]===s)return cr.ALPHABET_STRING.charAt(o);if(s===cr.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(s){let o=s.length,c="";for(let f=0;f<o;f++){let d=s.charAt(f);if(d==="+"||d==="$"||d==="%"||d==="/"){let h=s.charAt(f+1),x="\0";switch(d){case"+":if(h>="A"&&h<="Z")x=String.fromCharCode(h.charCodeAt(0)+32);else throw new F;break;case"$":if(h>="A"&&h<="Z")x=String.fromCharCode(h.charCodeAt(0)-64);else throw new F;break;case"%":if(h>="A"&&h<="E")x=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")x=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")x=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")x=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")x="\0";else if(h==="V")x="@";else if(h==="W")x="`";else if(h==="X"||h==="Y"||h==="Z")x="";else throw new F;break;case"/":if(h>="A"&&h<="O")x=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")x=":";else throw new F;break}c+=x,f++}else c+=d}return c}}cr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",cr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],cr.ASTERISK_ENCODING=148;class Wt extends gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let f=this.decodeStart(o),d=this.decodeEnd(o),h=new _e;Wt.decodeMiddle(o,f[1],d[0],h);let x=h.toString(),w=null;c!=null&&(w=c.get(G.ALLOWED_LENGTHS)),w==null&&(w=Wt.DEFAULT_ALLOWED_LENGTHS);let y=x.length,T=!1,O=0;for(let J of w){if(y===J){T=!0;break}J>O&&(O=J)}if(!T&&y>O&&(T=!0),!T)throw new F;const P=[new Xe(f[1],s),new Xe(d[0],s)];return new K(x,null,0,P,ae.ITF,new Date().getTime())}static decodeMiddle(s,o,c,f){let d=new Int32Array(10),h=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),h.fill(0),x.fill(0);o<c;){gt.recordPattern(s,o,d);for(let y=0;y<5;y++){let T=2*y;h[y]=d[T],x[y]=d[T+1]}let w=Wt.decodeDigit(h);f.append(w.toString()),w=this.decodeDigit(x),f.append(w.toString()),d.forEach(function(y){o+=y})}}decodeStart(s){let o=Wt.skipWhiteSpace(s),c=Wt.findGuardPattern(s,o,Wt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let f=o-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new ee}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new ee;return c}decodeEnd(s){s.reverse();try{let o=Wt.skipWhiteSpace(s),c;try{c=Wt.findGuardPattern(s,o,Wt.END_PATTERN_REVERSED[0])}catch(d){d instanceof ee&&(c=Wt.findGuardPattern(s,o,Wt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let f=c.length,d=new Int32Array(f),h=s.getSize(),x=!1,w=0,y=o;d.fill(0);for(let T=o;T<h;T++)if(s.get(T)!==x)d[w]++;else{if(w===f-1){if(gt.patternMatchVariance(d,c,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return[y,T];y+=d[0]+d[1],C.arraycopy(d,2,d,0,w-1),d[w-1]=0,d[w]=0,w--}else w++;d[w]=1,x=!x}throw new ee}static decodeDigit(s){let o=Wt.MAX_AVG_VARIANCE,c=-1,f=Wt.PATTERNS.length;for(let d=0;d<f;d++){let h=Wt.PATTERNS[d],x=gt.patternMatchVariance(s,h,Wt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,c=d):x===o&&(c=-1)}if(c>=0)return c%10;throw new ee}}Wt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Wt.MAX_AVG_VARIANCE=.38,Wt.MAX_INDIVIDUAL_VARIANCE=.5,Wt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Wt.START_PATTERN=Int32Array.from([1,1,1,1]),Wt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class tr extends gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,f=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),c=tr.findGuardPattern(s,f,!1,this.START_END_PATTERN,d);let h=c[0];f=c[1];let x=h-(f-h);x>=0&&(o=s.isRange(x,h,!1))}return c}static checkChecksum(s){return tr.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return tr.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let d=s.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new F;c+=d}c*=3;for(let f=o-2;f>=0;f-=2){let d=s.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new F;c+=d}return(1e3-c)%10}static decodeEnd(s,o){return tr.findGuardPattern(s,o,!1,tr.START_END_PATTERN,new Int32Array(tr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,f){return this.findGuardPattern(s,o,c,f,new Int32Array(f.length))}static findGuardPattern(s,o,c,f,d){let h=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let x=0,w=o,y=f.length,T=c;for(let O=o;O<h;O++)if(s.get(O)!==T)d[x]++;else{if(x===y-1){if(gt.patternMatchVariance(d,f,tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=d[0]+d[1];let P=d.slice(2,d.length-1);for(let z=0;z<x-1;z++)d[z]=P[z];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,T=!T}throw new ee}static decodeDigit(s,o,c,f){this.recordPattern(s,c,o);let d=this.MAX_AVG_VARIANCE,h=-1,x=f.length;for(let w=0;w<x;w++){let y=f[w],T=gt.patternMatchVariance(o,y,tr.MAX_INDIVIDUAL_VARIANCE);T<d&&(d=T,h=w)}if(h>=0)return h;throw new ee}}tr.MAX_AVG_VARIANCE=.48,tr.MAX_INDIVIDUAL_VARIANCE=.7,tr.START_END_PATTERN=Int32Array.from([1,1,1]),tr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),tr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ls{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(o,c,f),h=f.toString(),x=ls.parseExtensionString(h),w=[new Xe((c[0]+c[1])/2,s),new Xe(d,s)],y=new K(h,null,0,w,ae.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&y.putAllMetadata(x),y}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h=o[1],x=0;for(let y=0;y<5&&h<d;y++){let T=tr.decodeDigit(s,f,h,tr.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)h+=O;T>=10&&(x|=1<<4-y),y!==4&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(c.length!==5)throw new ee;let w=this.determineCheckDigit(x);if(ls.extensionChecksum(c.toString())!==w)throw new ee;return h}static extensionChecksum(s){let o=s.length,c=0;for(let f=o-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;c*=3;for(let f=o-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(s){if(s.length!==5)return null;let o=ls.parseExtension5String(s);return o==null?null:new Map([[Ve.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),d=c%100,h=d<10?"0"+d:d.toString();return o+f+"."+h}}class cs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(o,c,f),h=f.toString(),x=cs.parseExtensionString(h),w=[new Xe((c[0]+c[1])/2,s),new Xe(d,s)],y=new K(h,null,0,w,ae.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&y.putAllMetadata(x),y}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h=o[1],x=0;for(let w=0;w<2&&h<d;w++){let y=tr.decodeDigit(s,f,h,tr.L_AND_G_PATTERNS);c+=String.fromCharCode(48+y%10);for(let T of f)h+=T;y>=10&&(x|=1<<1-w),w!==1&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(c.length!==2)throw new ee;if(parseInt(c.toString())%4!==x)throw new ee;return h}static parseExtensionString(s){return s.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(s)]])}}class Qs{static decodeRow(s,o,c){let f=tr.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ls().decodeRow(s,o,f)}catch{return new cs().decodeRow(s,o,f)}}}Qs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class vt extends tr{constructor(){super(),this.decodeRowStringBuffer="",vt.L_AND_G_PATTERNS=vt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=vt.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let f=0;f<o.length;f++)c[f]=o[o.length-f-1];vt.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let f=vt.findStartGuardPattern(o),d=c==null?null:c.get(G.NEED_RESULT_POINT_CALLBACK);if(d!=null){const Ie=new Xe((f[0]+f[1])/2,s);d.foundPossibleResultPoint(Ie)}let h=this.decodeMiddle(o,f,this.decodeRowStringBuffer),x=h.rowOffset,w=h.resultString;if(d!=null){const Ie=new Xe(x,s);d.foundPossibleResultPoint(Ie)}let y=this.decodeEnd(o,x);if(d!=null){const Ie=new Xe((y[0]+y[1])/2,s);d.foundPossibleResultPoint(Ie)}let T=y[1],O=T+(T-y[0]);if(O>=o.getSize()||!o.isRange(T,O,!1))throw new ee;let P=w.toString();if(P.length<8)throw new F;if(!vt.checkChecksum(P))throw new E;let z=(f[1]+f[0])/2,J=(y[1]+y[0])/2,re=this.getBarcodeFormat(),fe=[new Xe(z,s),new Xe(J,s)],me=new K(P,null,0,fe,re,new Date().getTime()),Me=0;try{let Ie=Qs.decodeRow(s,o,y[1]);me.putMetadata(Ve.UPC_EAN_EXTENSION,Ie.getText()),me.putAllMetadata(Ie.getResultMetadata()),me.addResultPoints(Ie.getResultPoints()),Me=Ie.getText().length}catch{}let je=c==null?null:c.get(G.ALLOWED_EAN_EXTENSIONS);if(je!=null){let Ie=!1;for(let bt in je)if(Me.toString()===bt){Ie=!0;break}if(!Ie)throw new ee}return me}decodeEnd(s,o){return vt.findGuardPattern(s,o,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return vt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return vt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let d=s.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new F;c+=d}c*=3;for(let f=o-2;f>=0;f-=2){let d=s.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new F;c+=d}return(1e3-c)%10}}class zi extends vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h=o[1],x=0;for(let y=0;y<6&&h<d;y++){let T=vt.decodeDigit(s,f,h,vt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)h+=O;T>=10&&(x|=1<<5-y)}c=zi.determineFirstDigit(c,x),h=vt.findGuardPattern(s,h,!0,vt.MIDDLE_PATTERN,new Int32Array(vt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&h<d;y++){let T=vt.decodeDigit(s,f,h,vt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let O of f)h+=O}return{rowOffset:h,resultString:c}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new ee}}zi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ks extends vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h=o[1];for(let w=0;w<4&&h<d;w++){let y=vt.decodeDigit(s,f,h,vt.L_PATTERNS);c+=String.fromCharCode(48+y);for(let T of f)h+=T}h=vt.findGuardPattern(s,h,!0,vt.MIDDLE_PATTERN,new Int32Array(vt.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&h<d;w++){let y=vt.decodeDigit(s,f,h,vt.L_PATTERNS);c+=String.fromCharCode(48+y);for(let T of f)h+=T}return{rowOffset:h,resultString:c}}getBarcodeFormat(){return ae.EAN_8}}class Ho extends vt{constructor(){super(...arguments),this.ean13Reader=new zi}getBarcodeFormat(){return ae.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new K(o.substring(1),null,null,s.getResultPoints(),ae.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new ee}reset(){this.ean13Reader.reset()}}class Pn extends vt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters.map(y=>y);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const d=s.getSize();let h=o[1],x=0;for(let y=0;y<6&&h<d;y++){const T=Pn.decodeDigit(s,f,h,Pn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)h+=O;T>=10&&(x|=1<<5-y)}let w=Pn.determineNumSysAndCheckDigit(c,x);return{rowOffset:h,resultString:w}}decodeEnd(s,o){return Pn.findGuardPatternWithoutCounters(s,o,!0,Pn.MIDDLE_END_PATTERN)}checkChecksum(s){return vt.checkChecksum(Pn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let d=String.fromCharCode(48+c),h=String.fromCharCode(48+f);return d+s+h}throw ee.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),c=new _e;c.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(f),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}Pn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ga extends gt{constructor(s){super();let o=s==null?null:s.get(G.POSSIBLE_FORMATS),c=[];n(o)?(c.push(new zi),c.push(new Ho),c.push(new ks),c.push(new Pn)):(o.indexOf(ae.EAN_13)>-1&&c.push(new zi),o.indexOf(ae.UPC_A)>-1&&c.push(new Ho),o.indexOf(ae.EAN_8)>-1&&c.push(new ks),o.indexOf(ae.UPC_E)>-1&&c.push(new Pn)),this.readers=c}decodeRow(s,o,c){for(let f of this.readers)try{const d=f.decodeRow(s,o,c),h=d.getBarcodeFormat()===ae.EAN_13&&d.getText().charAt(0)==="0",x=c==null?null:c.get(G.POSSIBLE_FORMATS),w=x==null||x.includes(ae.UPC_A);if(h&&w){const y=d.getRawBytes(),T=new K(d.getText().substring(1),y,y?y.length:null,d.getResultPoints(),ae.UPC_A);return T.putAllMetadata(d.getResultMetadata()),T}return d}catch{}throw new ee}reset(){for(let s of this.readers)s.reset()}}class ie extends gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(gt.patternMatchVariance(s,o[c],ie.MAX_INDIVIDUAL_VARIANCE)<ie.MAX_AVG_VARIANCE)return c;throw new ee}static count(s){return ot.sum(new Int32Array(s))}static increment(s,o){let c=0,f=o[0];for(let d=1;d<s.length;d++)o[d]>f&&(f=o[d],c=d);s[c]++}static decrement(s,o){let c=0,f=o[0];for(let d=1;d<s.length;d++)o[d]<f&&(f=o[d],c=d);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],f=o/c;if(f>=ie.MIN_FINDER_PATTERN_RATIO&&f<=ie.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let x of s)x>h&&(h=x),x<d&&(d=x);return h<10*d}return!1}}ie.MAX_AVG_VARIANCE=.2,ie.MAX_INDIVIDUAL_VARIANCE=.45,ie.MIN_FINDER_PATTERN_RATIO=9.5/12,ie.MAX_FINDER_PATTERN_RATIO=12.5/14;class ke{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof ke))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ge{constructor(s,o,c,f,d){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Xe(c,d)),this.resultPoints.push(new Xe(f,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Ge))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class nt{constructor(){}static getRSSvalue(s,o,c){let f=0;for(let w of s)f+=w;let d=0,h=0,x=s.length;for(let w=0;w<x-1;w++){let y;for(y=1,h|=1<<w;y<s[w];y++,h&=~(1<<w)){let T=nt.combins(f-y-1,x-w-2);if(c&&h===0&&f-y-(x-w-1)>=x-w-1&&(T-=nt.combins(f-y-(x-w),x-w-2)),x-w-1>1){let O=0;for(let P=f-y-(x-w-2);P>o;P--)O+=nt.combins(f-y-P-1,x-w-3);T-=O*(x-1-w)}else f-y>o&&T--;d+=T}f-=y}return d}static combins(s,o){let c,f;s-o>o?(f=o,c=s-o):(f=s-o,c=o);let d=1,h=1;for(let x=s;x>c;x--)d*=x,h<=f&&(d/=h,h++);for(;h<=f;)d/=h,h++;return d}}class it{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,f=new L(c),d=0,x=s[0].getRightChar().getValue();for(let w=11;w>=0;--w)x&1<<w&&f.set(d),d++;for(let w=1;w<s.length;++w){let y=s[w],T=y.getLeftChar().getValue();for(let O=11;O>=0;--O)T&1<<O&&f.set(d),d++;if(y.getRightChar()!=null){let O=y.getRightChar().getValue();for(let P=11;P>=0;--P)O&1<<P&&f.set(d),d++}}return f}}class pt{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ur{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Xt extends ur{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Xt.FNC1}}Xt.FNC1="$";class Cr extends ur{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class D extends ur{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new F;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===D.FNC1}isSecondDigitFNC1(){return this.secondDigit===D.FNC1}isAnyFNC1(){return this.firstDigit===D.FNC1||this.secondDigit===D.FNC1}}D.FNC1=10;class M{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ee;let o=s.substring(0,2);for(let d of M.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===M.VARIABLE_LENGTH?M.processVariableAI(2,d[2],s):M.processFixedAI(2,d[1],s);if(s.length<3)throw new ee;let c=s.substring(0,3);for(let d of M.THREE_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===M.VARIABLE_LENGTH?M.processVariableAI(3,d[2],s):M.processFixedAI(3,d[1],s);for(let d of M.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===M.VARIABLE_LENGTH?M.processVariableAI(4,d[2],s):M.processFixedAI(4,d[1],s);if(s.length<4)throw new ee;let f=s.substring(0,4);for(let d of M.FOUR_DIGIT_DATA_LENGTH)if(d[0]===f)return d[1]===M.VARIABLE_LENGTH?M.processVariableAI(4,d[2],s):M.processFixedAI(4,d[1],s);throw new ee}static processFixedAI(s,o,c){if(c.length<s)throw new ee;let f=c.substring(0,s);if(c.length<s+o)throw new ee;let d=c.substring(s,s+o),h=c.substring(s+o),x="("+f+")"+d,w=M.parseFieldsInGeneralPurpose(h);return w==null?x:x+w}static processVariableAI(s,o,c){let f=c.substring(0,s),d;c.length<s+o?d=c.length:d=s+o;let h=c.substring(s,d),x=c.substring(d),w="("+f+")"+h,y=M.parseFieldsInGeneralPurpose(x);return y==null?w:w+y}}M.VARIABLE_LENGTH=[],M.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",M.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",M.VARIABLE_LENGTH,20],["22",M.VARIABLE_LENGTH,29],["30",M.VARIABLE_LENGTH,8],["37",M.VARIABLE_LENGTH,8],["90",M.VARIABLE_LENGTH,30],["91",M.VARIABLE_LENGTH,30],["92",M.VARIABLE_LENGTH,30],["93",M.VARIABLE_LENGTH,30],["94",M.VARIABLE_LENGTH,30],["95",M.VARIABLE_LENGTH,30],["96",M.VARIABLE_LENGTH,30],["97",M.VARIABLE_LENGTH,3],["98",M.VARIABLE_LENGTH,30],["99",M.VARIABLE_LENGTH,30]],M.THREE_DIGIT_DATA_LENGTH=[["240",M.VARIABLE_LENGTH,30],["241",M.VARIABLE_LENGTH,30],["242",M.VARIABLE_LENGTH,6],["250",M.VARIABLE_LENGTH,30],["251",M.VARIABLE_LENGTH,30],["253",M.VARIABLE_LENGTH,17],["254",M.VARIABLE_LENGTH,20],["400",M.VARIABLE_LENGTH,30],["401",M.VARIABLE_LENGTH,30],["402",17],["403",M.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",M.VARIABLE_LENGTH,20],["421",M.VARIABLE_LENGTH,15],["422",3],["423",M.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],M.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",M.VARIABLE_LENGTH,15],["391",M.VARIABLE_LENGTH,18],["392",M.VARIABLE_LENGTH,15],["393",M.VARIABLE_LENGTH,18],["703",M.VARIABLE_LENGTH,30]],M.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",M.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",M.VARIABLE_LENGTH,20],["8003",M.VARIABLE_LENGTH,30],["8004",M.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",M.VARIABLE_LENGTH,30],["8008",M.VARIABLE_LENGTH,12],["8018",18],["8020",M.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",M.VARIABLE_LENGTH,70],["8200",M.VARIABLE_LENGTH,70]];class U{constructor(s){this.buffer=new _e,this.information=s}decodeAllCodes(s,o){let c=o,f=null;do{let d=this.decodeGeneralPurposeField(c,f),h=M.parseFieldsInGeneralPurpose(d.getNewString());if(h!=null&&s.append(h),d.isRemaining()?f=""+d.getRemainingValue():f=null,c===d.getNewPosition())break;c=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new D(this.information.getSize(),D.FNC1,D.FNC1):new D(this.information.getSize(),d-1,D.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,f=(o-8)%11;return new D(s+7,c,f)}extractNumericValueFromBitArray(s,o){return U.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let f=0;for(let d=0;d<c;++d)s.get(o+d)&&(f|=1<<c-d-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Cr(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Cr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Cr(this.current.getPosition(),this.buffer.toString()):o=new Cr(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new pt(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Cr(this.current.getPosition(),this.buffer.toString());return new pt(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new pt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Cr(this.current.getPosition(),this.buffer.toString());return new pt(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new pt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Cr(this.current.getPosition(),this.buffer.toString());return new pt(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new pt(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Xt(s+5,Xt.FNC1);if(o>=5&&o<15)return new Xt(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new Xt(s+7,""+(c+1));if(c>=90&&c<116)return new Xt(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),d;switch(f){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new F}return new Xt(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Xt(s+5,Xt.FNC1);if(o>=5&&o<15)return new Xt(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new Xt(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new ht("Decoding invalid alphanumeric value: "+c)}return new Xt(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class j{constructor(s){this.information=s,this.generalDecoder=new U(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class H extends j{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let f=0;f<4;++f){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}H.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let f=0;f<13;f++){let d=s.charAt(f+o).charCodeAt(0)-48;c+=f&1?d:3*d}c=10-c%10,c===10&&(c=0),s.append(c)}}H.GTIN_SIZE=40;class X extends H{constructor(s){super(s)}parseInformation(){let s=new _e;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(X.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,X.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,X.HEADER_SIZE+44)}}X.HEADER_SIZE=4;class he extends j{constructor(s){super(s)}parseInformation(){let s=new _e;return this.getGeneralDecoder().decodeAllCodes(s,he.HEADER_SIZE)}}he.HEADER_SIZE=5;class Ee extends H{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,f);let d=this.checkWeight(f),h=1e5;for(let x=0;x<5;++x)d/h===0&&s.append("0"),h/=10;s.append(d)}}class ue extends Ee{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ue.HEADER_SIZE+Ee.GTIN_SIZE+ue.WEIGHT_SIZE)throw new ee;let s=new _e;return this.encodeCompressedGtin(s,ue.HEADER_SIZE),this.encodeCompressedWeight(s,ue.HEADER_SIZE+Ee.GTIN_SIZE,ue.WEIGHT_SIZE),s.toString()}}ue.HEADER_SIZE=5,ue.WEIGHT_SIZE=15;class ge extends ue{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class pe extends ue{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Te extends H{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Te.HEADER_SIZE+H.GTIN_SIZE)throw new ee;let s=new _e;this.encodeCompressedGtin(s,Te.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Te.HEADER_SIZE+H.GTIN_SIZE,Te.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Te.HEADER_SIZE+H.GTIN_SIZE+Te.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Te.HEADER_SIZE=8,Te.LAST_DIGIT_SIZE=2;class Oe extends H{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Oe.HEADER_SIZE+H.GTIN_SIZE)throw new ee;let s=new _e;this.encodeCompressedGtin(s,Oe.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Oe.HEADER_SIZE+H.GTIN_SIZE,Oe.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Oe.HEADER_SIZE+H.GTIN_SIZE+Oe.LAST_DIGIT_SIZE,Oe.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Oe.HEADER_SIZE+H.GTIN_SIZE+Oe.LAST_DIGIT_SIZE+Oe.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}Oe.HEADER_SIZE=8,Oe.LAST_DIGIT_SIZE=2,Oe.FIRST_THREE_DIGITS_SIZE=10;class Pe extends Ee{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Pe.HEADER_SIZE+Pe.GTIN_SIZE+Pe.WEIGHT_SIZE+Pe.DATE_SIZE)throw new ee;let s=new _e;return this.encodeCompressedGtin(s,Pe.HEADER_SIZE),this.encodeCompressedWeight(s,Pe.HEADER_SIZE+Pe.GTIN_SIZE,Pe.WEIGHT_SIZE),this.encodeCompressedDate(s,Pe.HEADER_SIZE+Pe.GTIN_SIZE+Pe.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Pe.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let d=c%12+1;c/=12;let h=c;h/10==0&&s.append("0"),s.append(h),d/10==0&&s.append("0"),s.append(d),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Pe.HEADER_SIZE=8,Pe.WEIGHT_SIZE=20,Pe.DATE_SIZE=16;function Ue(N){try{if(N.get(1))return new X(N);if(!N.get(2))return new he(N);switch(U.extractNumericValueFromBitArray(N,1,4)){case 4:return new ge(N);case 5:return new pe(N)}switch(U.extractNumericValueFromBitArray(N,1,5)){case 12:return new Te(N);case 13:return new Oe(N)}switch(U.extractNumericValueFromBitArray(N,1,7)){case 56:return new Pe(N,"310","11");case 57:return new Pe(N,"320","11");case 58:return new Pe(N,"310","13");case 59:return new Pe(N,"320","13");case 60:return new Pe(N,"310","15");case 61:return new Pe(N,"320","15");case 62:return new Pe(N,"310","17");case 63:return new Pe(N,"320","17")}}catch(s){throw console.log(s),new ht("unknown decoder: "+N)}}class ze{constructor(s,o,c,f){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof ze?ze.equalsOrNull(s.leftchar,o.leftchar)&&ze.equalsOrNull(s.rightchar,o.rightchar)&&ze.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:ze.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ut{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof ut?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((f,d)=>{o.forEach(h=>{f.getLeftChar().getValue()===h.getLeftChar().getValue()&&f.getRightChar().getValue()===h.getRightChar().getValue()&&f.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(c=!0)})}),c}}class ve extends ie{constructor(s){super(...arguments),this.pairs=new Array(ve.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return ve.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,ve.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(d){if(d instanceof ee){if(!this.pairs.length)throw new ee;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new ee}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let h of s)this.pairs.push(h.getPairs());if(this.pairs.push(f.getPairs()),!ve.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(f);try{return this.checkRows(d,c+1)}catch(h){this.verbose&&console.log(h)}}throw new ee}static isValidSequence(s){for(let o of ve.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,f=!1,d=!1;for(;c<this.rows.length;){let h=this.rows[c];if(h.getRowNumber()>s){d=h.isEquivalent(this.pairs);break}f=h.isEquivalent(this.pairs),c++}d||f||ve.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new ut(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let d of s)if(ze.equals(f,d))break}}static isPartialRow(s,o){for(let c of o){let f=!0;for(let d of s){let h=!1;for(let x of c.getPairs())if(d.equals(x)){h=!0;break}if(!h){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=it.buildBitArray(s),f=Ue(o).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),h=s[s.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],h[0],h[1]];return new K(f,null,null,x,ae.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let w=this.pairs.get(x);f+=w.getLeftChar().getChecksumPortion(),d++;let y=w.getRightChar();y!=null&&(f+=y.getChecksumPortion(),d++)}return f%=211,211*(d-4)+f==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let f=o.length%2==0;this.startFromEven&&(f=!f);let d,h=!0,x=-1;do this.findNextPair(s,o,x),d=this.parseFoundFinderPattern(s,c,f),d==null?x=ve.getNextSecondBar(s,this.startEnd[0]):h=!1;while(h);let w=this.decodeDataCharacter(s,d,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let y;try{y=this.decodeDataCharacter(s,d,f,!1)}catch(T){y=null,this.verbose&&console.log(T)}return new ze(w,y,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h;c>=0?h=c:this.isEmptyPair(o)?h=0:h=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let w=!1;for(;h<d&&(w=!s.get(h),!!w);)h++;let y=0,T=h;for(let O=h;O<d;O++)if(s.get(O)!=w)f[y]++;else{if(y==3){if(x&&ve.reverseCounters(f),ve.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=O;return}x&&ve.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,y--}else y++;f[y]=1,w=!w}throw new ee}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let f=s[c];s[c]=s[o-c-1],s[o-c-1]=f}}parseFoundFinderPattern(s,o,c){let f,d,h;if(c){let y=this.startEnd[0]-1;for(;y>=0&&!s.get(y);)y--;y++,f=this.startEnd[0]-y,d=y,h=this.startEnd[1]}else d=this.startEnd[0],h=s.getNextUnset(this.startEnd[1]+1),f=h-this.startEnd[1];let x=this.getDecodeFinderCounters();C.arraycopy(x,0,x,1,x.length-1),x[0]=f;let w;try{w=this.parseFinderValue(x,ve.FINDER_PATTERNS)}catch{return null}return new Ge(w,[d,h],d,h,o)}decodeDataCharacter(s,o,c,f){let d=this.getDataCharacterCounters();for(let er=0;er<d.length;er++)d[er]=0;if(f)ve.recordPatternInReverse(s,o.getStartEnd()[0],d);else{ve.recordPattern(s,o.getStartEnd()[1],d);for(let er=0,fn=d.length-1;er<fn;er++,fn--){let ci=d[er];d[er]=d[fn],d[fn]=ci}}let h=17,x=ot.sum(new Int32Array(d))/h,w=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-w)/w>.3)throw new ee;let y=this.getOddCounts(),T=this.getEvenCounts(),O=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let er=0;er<d.length;er++){let fn=1*d[er]/x,ci=fn+.5;if(ci<1){if(fn<.3)throw new ee;ci=1}else if(ci>8){if(fn>8.7)throw new ee;ci=8}let $o=er/2;er&1?(T[$o]=ci,P[$o]=fn-ci):(y[$o]=ci,O[$o]=fn-ci)}this.adjustOddEvenCounts(h);let z=4*o.getValue()+(c?0:2)+(f?0:1)-1,J=0,re=0;for(let er=y.length-1;er>=0;er--){if(ve.isNotA1left(o,c,f)){let fn=ve.WEIGHTS[z][2*er];re+=y[er]*fn}J+=y[er]}let fe=0;for(let er=T.length-1;er>=0;er--)if(ve.isNotA1left(o,c,f)){let fn=ve.WEIGHTS[z][2*er+1];fe+=T[er]*fn}let me=re+fe;if(J&1||J>13||J<4)throw new ee;let Me=(13-J)/2,je=ve.SYMBOL_WIDEST[Me],Ie=9-je,bt=nt.getRSSvalue(y,je,!0),xt=nt.getRSSvalue(T,Ie,!1),qn=ve.EVEN_TOTAL_SUBSET[Me],Gi=ve.GSUM[Me],Zn=bt*qn+xt+Gi;return new ke(Zn,me)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=ot.sum(new Int32Array(this.getOddCounts())),c=ot.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1;o>13?d=!0:o<4&&(f=!0);let h=!1,x=!1;c>13?x=!0:c<4&&(h=!0);let w=o+c-s,y=(o&1)==1,T=(c&1)==0;if(w==1)if(y){if(T)throw new ee;d=!0}else{if(!T)throw new ee;x=!0}else if(w==-1)if(y){if(T)throw new ee;f=!0}else{if(!T)throw new ee;h=!0}else if(w==0){if(y){if(!T)throw new ee;o<c?(f=!0,x=!0):(d=!0,h=!0)}else if(T)throw new ee}else throw new ee;if(f){if(d)throw new ee;ve.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ve.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new ee;ve.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ve.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ve.SYMBOL_WIDEST=[7,5,4,3,1],ve.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ve.GSUM=[0,348,1388,2948,3988],ve.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ve.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ve.FINDER_PAT_A=0,ve.FINDER_PAT_B=1,ve.FINDER_PAT_C=2,ve.FINDER_PAT_D=3,ve.FINDER_PAT_E=4,ve.FINDER_PAT_F=5,ve.FINDER_PATTERN_SEQUENCES=[[ve.FINDER_PAT_A,ve.FINDER_PAT_A],[ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B],[ve.FINDER_PAT_A,ve.FINDER_PAT_C,ve.FINDER_PAT_B,ve.FINDER_PAT_D],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_C],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_D,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_D],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_E],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F]],ve.MAX_PAIRS=11;class fr extends ke{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class yt extends ie{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const f=this.decodePair(o,!1,s,c);yt.addOrTally(this.possibleLeftPairs,f),o.reverse();let d=this.decodePair(o,!0,s,c);yt.addOrTally(this.possibleRightPairs,d),o.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&yt.checkChecksum(h,x))return yt.constructResult(h,x)}throw new ee}static addOrTally(s,o){if(o==null)return;let c=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),f=new String(c).toString(),d=new _e;for(let y=13-f.length;y>0;y--)d.append("0");d.append(f);let h=0;for(let y=0;y<13;y++){let T=d.charAt(y).charCodeAt(0)-48;h+=y&1?T:3*T}h=10-h%10,h===10&&(h=0),d.append(h.toString());let x=s.getFinderPattern().getResultPoints(),w=o.getFinderPattern().getResultPoints();return new K(d.toString(),null,0,[x[0],x[1],w[0],w[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,o,c,f){try{let d=this.findFinderPattern(s,o),h=this.parseFoundFinderPattern(s,c,o,d),x=f==null?null:f.get(G.NEED_RESULT_POINT_CALLBACK);if(x!=null){let T=(d[0]+d[1])/2;o&&(T=s.getSize()-1-T),x.foundPossibleResultPoint(new Xe(T,c))}let w=this.decodeDataCharacter(s,h,!0),y=this.decodeDataCharacter(s,h,!1);return new fr(1597*w.getValue()+y.getValue(),w.getChecksumPortion()+4*y.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(s,o,c){let f=this.getDataCharacterCounters();for(let fe=0;fe<f.length;fe++)f[fe]=0;if(c)gt.recordPatternInReverse(s,o.getStartEnd()[0],f);else{gt.recordPattern(s,o.getStartEnd()[1]+1,f);for(let fe=0,me=f.length-1;fe<me;fe++,me--){let Me=f[fe];f[fe]=f[me],f[me]=Me}}let d=c?16:15,h=ot.sum(new Int32Array(f))/d,x=this.getOddCounts(),w=this.getEvenCounts(),y=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let fe=0;fe<f.length;fe++){let me=f[fe]/h,Me=Math.floor(me+.5);Me<1?Me=1:Me>8&&(Me=8);let je=Math.floor(fe/2);fe&1?(w[je]=Me,T[je]=me-Me):(x[je]=Me,y[je]=me-Me)}this.adjustOddEvenCounts(c,d);let O=0,P=0;for(let fe=x.length-1;fe>=0;fe--)P*=9,P+=x[fe],O+=x[fe];let z=0,J=0;for(let fe=w.length-1;fe>=0;fe--)z*=9,z+=w[fe],J+=w[fe];let re=P+3*z;if(c){if(O&1||O>12||O<4)throw new ee;let fe=(12-O)/2,me=yt.OUTSIDE_ODD_WIDEST[fe],Me=9-me,je=nt.getRSSvalue(x,me,!1),Ie=nt.getRSSvalue(w,Me,!0),bt=yt.OUTSIDE_EVEN_TOTAL_SUBSET[fe],xt=yt.OUTSIDE_GSUM[fe];return new ke(je*bt+Ie+xt,re)}else{if(J&1||J>10||J<4)throw new ee;let fe=(10-J)/2,me=yt.INSIDE_ODD_WIDEST[fe],Me=9-me,je=nt.getRSSvalue(x,me,!0),Ie=nt.getRSSvalue(w,Me,!1),bt=yt.INSIDE_ODD_TOTAL_SUBSET[fe],xt=yt.INSIDE_GSUM[fe];return new ke(Ie*bt+je+xt,re)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),d=!1,h=0;for(;h<f&&(d=!s.get(h),o!==d);)h++;let x=0,w=h;for(let y=h;y<f;y++)if(s.get(y)!==d)c[x]++;else{if(x===3){if(ie.isFinderPattern(c))return[w,y];w+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,x--}else x++;c[x]=1,d=!d}throw new ee}parseFoundFinderPattern(s,o,c,f){let d=s.get(f[0]),h=f[0]-1;for(;h>=0&&d!==s.get(h);)h--;h++;const x=f[0]-h,w=this.getDecodeFinderCounters(),y=new Int32Array(w.length);C.arraycopy(w,0,y,1,w.length-1),y[0]=x;const T=this.parseFinderValue(y,yt.FINDER_PATTERNS);let O=h,P=f[1];return c&&(O=s.getSize()-1-O,P=s.getSize()-1-P),new Ge(T,[h,f[1]],O,P,o)}adjustOddEvenCounts(s,o){let c=ot.sum(new Int32Array(this.getOddCounts())),f=ot.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1,x=!1,w=!1;s?(c>12?h=!0:c<4&&(d=!0),f>12?w=!0:f<4&&(x=!0)):(c>11?h=!0:c<5&&(d=!0),f>10?w=!0:f<4&&(x=!0));let y=c+f-o,T=(c&1)===(s?1:0),O=(f&1)===1;if(y===1)if(T){if(O)throw new ee;h=!0}else{if(!O)throw new ee;w=!0}else if(y===-1)if(T){if(O)throw new ee;d=!0}else{if(!O)throw new ee;x=!0}else if(y===0){if(T){if(!O)throw new ee;c<f?(d=!0,w=!0):(h=!0,x=!0)}else if(O)throw new ee}else throw new ee;if(d){if(h)throw new ee;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(w)throw new ee;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],yt.OUTSIDE_GSUM=[0,161,961,2015,2715],yt.INSIDE_GSUM=[0,336,1036,1516],yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],yt.INSIDE_ODD_WIDEST=[2,4,6,8],yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Si extends gt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(G.POSSIBLE_FORMATS):null,f=s&&s.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(ae.EAN_13)||c.includes(ae.UPC_A)||c.includes(ae.EAN_8)||c.includes(ae.UPC_E))&&this.readers.push(new Ga(s)),c.includes(ae.CODE_39)&&this.readers.push(new cr(f)),c.includes(ae.CODE_128)&&this.readers.push(new Le),c.includes(ae.ITF)&&this.readers.push(new Wt),c.includes(ae.RSS_14)&&this.readers.push(new yt),c.includes(ae.RSS_EXPANDED)&&this.readers.push(new ve(this.verbose))):(this.readers.push(new Ga(s)),this.readers.push(new cr),this.readers.push(new Ga(s)),this.readers.push(new Le),this.readers.push(new Wt),this.readers.push(new yt),this.readers.push(new ve(this.verbose)))}decodeRow(s,o,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,c)}catch{}throw new ee}reset(){this.readers.forEach(s=>s.reset())}}class Xa extends se{constructor(s=500,o){super(new Si(o),s,o)}}class kt{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class _t{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(s,o,c,f,d,h){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=d,this.ecBlocks=h;let x=0;const w=h.getECCodewords(),y=h.getECBlocks();for(let T of y)x+=T.getCount()*(T.getDataCodewords()+w);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new F;for(let c of Et.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Et(1,10,10,8,8,new kt(5,new _t(1,3))),new Et(2,12,12,10,10,new kt(7,new _t(1,5))),new Et(3,14,14,12,12,new kt(10,new _t(1,8))),new Et(4,16,16,14,14,new kt(12,new _t(1,12))),new Et(5,18,18,16,16,new kt(14,new _t(1,18))),new Et(6,20,20,18,18,new kt(18,new _t(1,22))),new Et(7,22,22,20,20,new kt(20,new _t(1,30))),new Et(8,24,24,22,22,new kt(24,new _t(1,36))),new Et(9,26,26,24,24,new kt(28,new _t(1,44))),new Et(10,32,32,14,14,new kt(36,new _t(1,62))),new Et(11,36,36,16,16,new kt(42,new _t(1,86))),new Et(12,40,40,18,18,new kt(48,new _t(1,114))),new Et(13,44,44,20,20,new kt(56,new _t(1,144))),new Et(14,48,48,22,22,new kt(68,new _t(1,174))),new Et(15,52,52,24,24,new kt(42,new _t(2,102))),new Et(16,64,64,14,14,new kt(56,new _t(2,140))),new Et(17,72,72,16,16,new kt(36,new _t(4,92))),new Et(18,80,80,18,18,new kt(48,new _t(4,114))),new Et(19,88,88,20,20,new kt(56,new _t(4,144))),new Et(20,96,96,22,22,new kt(68,new _t(4,174))),new Et(21,104,104,24,24,new kt(56,new _t(6,136))),new Et(22,120,120,18,18,new kt(68,new _t(6,175))),new Et(23,132,132,20,20,new kt(62,new _t(8,163))),new Et(24,144,144,22,22,new kt(62,new _t(8,156),new _t(2,155))),new Et(25,8,18,6,16,new kt(7,new _t(1,5))),new Et(26,8,32,6,14,new kt(11,new _t(1,10))),new Et(27,12,26,10,24,new kt(14,new _t(1,16))),new Et(28,12,36,10,16,new kt(18,new _t(1,22))),new Et(29,16,36,14,16,new kt(24,new _t(1,32))),new Et(30,16,48,14,22,new kt(28,new _t(1,49)))]}}Et.VERSIONS=Et.buildVersions();class li{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new F;this.version=li.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return Et.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,f=0;const d=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let x=!1,w=!1,y=!1,T=!1;do if(c===d&&f===0&&!x)s[o++]=this.readCorner1(d,h)&255,c-=2,f+=2,x=!0;else if(c===d-2&&f===0&&h&3&&!w)s[o++]=this.readCorner2(d,h)&255,c-=2,f+=2,w=!0;else if(c===d+4&&f===2&&!(h&7)&&!y)s[o++]=this.readCorner3(d,h)&255,c-=2,f+=2,y=!0;else if(c===d-2&&f===0&&(h&7)===4&&!T)s[o++]=this.readCorner4(d,h)&255,c-=2,f+=2,T=!0;else{do c<d&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,d,h)&255),c-=2,f+=2;while(c>=0&&f<h);c+=1,f+=3;do c>=0&&f<h&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,d,h)&255),c+=2,f-=2;while(c<d&&f>=0);c+=3,f+=1}while(c<d||f<h);if(o!==this.version.getTotalCodewords())throw new F;return s}readModule(s,o,c,f){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,f){let d=0;return this.readModule(s-2,o-2,c,f)&&(d|=1),d<<=1,this.readModule(s-2,o-1,c,f)&&(d|=1),d<<=1,this.readModule(s-1,o-2,c,f)&&(d|=1),d<<=1,this.readModule(s-1,o-1,c,f)&&(d|=1),d<<=1,this.readModule(s-1,o,c,f)&&(d|=1),d<<=1,this.readModule(s,o-2,c,f)&&(d|=1),d<<=1,this.readModule(s,o-1,c,f)&&(d|=1),d<<=1,this.readModule(s,o,c,f)&&(d|=1),d}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),h=o/f|0,x=c/d|0,w=h*f,y=x*d,T=new Se(y,w);for(let O=0;O<h;++O){const P=O*f;for(let z=0;z<x;++z){const J=z*d;for(let re=0;re<f;++re){const fe=O*(f+2)+1+re,me=P+re;for(let Me=0;Me<d;++Me){const je=z*(d+2)+1+Me;if(s.get(je,fe)){const Ie=J+Me;T.set(Ie,me)}}}}}return T}}class gh{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let f=0;const d=c.getECBlocks();for(let re of d)f+=re.getCount();const h=new Array(f);let x=0;for(let re of d)for(let fe=0;fe<re.getCount();fe++){const me=re.getDataCodewords(),Me=c.getECCodewords()+me;h[x++]=new gh(me,new Uint8Array(Me))}const y=h[0].codewords.length-c.getECCodewords(),T=y-1;let O=0;for(let re=0;re<T;re++)for(let fe=0;fe<x;fe++)h[fe].codewords[re]=s[O++];const P=o.getVersionNumber()===24,z=P?8:x;for(let re=0;re<z;re++)h[re].codewords[y-1]=s[O++];const J=h[0].codewords.length;for(let re=y;re<J;re++)for(let fe=0;fe<x;fe++){const me=P?(fe+8)%x:fe,Me=P&&me>7?re-1:re;h[me].codewords[Me]=s[O++]}if(O!==s.length)throw new v;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ph{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let o=0,c=this.bitOffset,f=this.byteOffset;const d=this.bytes;if(c>0){const h=8-c,x=s<h?s:h,w=h-x,y=255>>8-x<<w;o=(d[f]&y)>>w,s-=x,c+=x,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)o=o<<8|d[f]&255,f++,s-=8;if(s>0){const h=8-s,x=255>>h<<h;o=o<<s|(d[f]&x)>>h,c+=s}}return this.bitOffset=c,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vr;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vr||(Vr={}));class Js{static decode(s){const o=new ph(s),c=new _e,f=new _e,d=new Array;let h=Vr.ASCII_ENCODE;do if(h===Vr.ASCII_ENCODE)h=this.decodeAsciiSegment(o,c,f);else{switch(h){case Vr.C40_ENCODE:this.decodeC40Segment(o,c);break;case Vr.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case Vr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case Vr.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case Vr.BASE256_ENCODE:this.decodeBase256Segment(o,c,d);break;default:throw new F}h=Vr.ASCII_ENCODE}while(h!==Vr.PAD_ENCODE&&o.available()>0);return f.length()>0&&c.append(f.toString()),new We(s,c.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,o,c){let f=!1;do{let d=s.readBits(8);if(d===0)throw new F;if(d<=128)return f&&(d+=128),o.append(String.fromCharCode(d-1)),Vr.ASCII_ENCODE;if(d===129)return Vr.PAD_ENCODE;if(d<=229){const h=d-130;h<10&&o.append("0"),o.append(""+h)}else switch(d){case 230:return Vr.C40_ENCODE;case 231:return Vr.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return Vr.ANSIX12_ENCODE;case 239:return Vr.TEXT_ENCODE;case 240:return Vr.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new F;break}}while(s.available()>0);return Vr.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const f=[];let d=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(d){case 0:if(w<3)d=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else throw new F;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new F}d=0;break;case 3:c?(o.append(String.fromCharCode(w+224)),c=!1):o.append(String.fromCharCode(w+96)),d=0;break;default:throw new F}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,f=[],d=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(d){case 0:if(w<3)d=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else throw new F;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new F}d=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y),d=0}else throw new F;break;default:throw new F}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let d=0;d<3;d++){const h=c[d];switch(h){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(h<14)o.append(String.fromCharCode(h+44));else if(h<40)o.append(String.fromCharCode(h+51));else throw new F;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let f=(s<<8)+o-1,d=Math.floor(f/1600);c[0]=d,f-=d*1600,d=Math.floor(f/40),c[1]=d,c[2]=f-d*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let f=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),f++);let h;if(d===0?h=s.available()/8|0:d<250?h=d:h=250*(d-249)+this.unrandomize255State(s.readBits(8),f++),h<0)throw new F;const x=new Uint8Array(h);for(let w=0;w<h;w++){if(s.available()<8)throw new F;x[w]=this.unrandomize255State(s.readBits(8),f++)}c.push(x);try{o.append(le.decode(x,Q.ISO88591))}catch(w){throw new ht("Platform does not support required encoding: "+w.message)}}static unrandomize255State(s,o){const c=149*o%255+1,f=s-c;return f>=0?f:f+256}}Js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Js.TEXT_SHIFT2_SET_CHARS=Js.C40_SHIFT2_SET_CHARS,Js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class GS{constructor(){this.rsDecoder=new Ye(qe.DATA_MATRIX_FIELD_256)}decode(s){const o=new li(s),c=o.getVersion(),f=o.readCodewords(),d=gh.getDataBlocks(f,c);let h=0;for(let y of d)h+=y.getNumDataCodewords();const x=new Uint8Array(h),w=d.length;for(let y=0;y<w;y++){const T=d[y],O=T.getCodewords(),P=T.getNumDataCodewords();this.correctErrors(O,P);for(let z=0;z<P;z++)x[z*w+y]=O[z]}return Js.decode(x)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new E}for(let f=0;f<o;f++)s[f]=c[f]}}class Nr{constructor(s){this.image=s,this.rectangleDetector=new Gt(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const c=o[0],f=o[1],d=o[2],h=o[3];let x=this.transitionsBetween(c,h)+1,w=this.transitionsBetween(d,h)+1;(x&1)===1&&(x+=1),(w&1)===1&&(w+=1),4*x<7*w&&4*w<7*x&&(x=w=Math.max(x,w));let y=Nr.sampleGrid(this.image,c,f,d,h,x,w);return new zt(y,[c,f,d,h])}static shiftPoint(s,o,c){let f=(o.getX()-s.getX())/(c+1),d=(o.getY()-s.getY())/(c+1);return new Xe(s.getX()+f,s.getY()+d)}static moveAway(s,o,c){let f=s.getX(),d=s.getY();return f<o?f-=1:f+=1,d<c?d-=1:d+=1,new Xe(f,d)}detectSolid1(s){let o=s[0],c=s[1],f=s[3],d=s[2],h=this.transitionsBetween(o,c),x=this.transitionsBetween(c,f),w=this.transitionsBetween(f,d),y=this.transitionsBetween(d,o),T=h,O=[d,o,c,f];return T>x&&(T=x,O[0]=o,O[1]=c,O[2]=f,O[3]=d),T>w&&(T=w,O[0]=c,O[1]=f,O[2]=d,O[3]=o),T>y&&(O[0]=f,O[1]=d,O[2]=o,O[3]=c),O}detectSolid2(s){let o=s[0],c=s[1],f=s[2],d=s[3],h=this.transitionsBetween(o,d),x=Nr.shiftPoint(c,f,(h+1)*4),w=Nr.shiftPoint(f,c,(h+1)*4),y=this.transitionsBetween(x,o),T=this.transitionsBetween(w,d);return y<T?(s[0]=o,s[1]=c,s[2]=f,s[3]=d):(s[0]=c,s[1]=f,s[2]=d,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],f=s[2],d=s[3],h=this.transitionsBetween(o,d),x=this.transitionsBetween(c,d),w=Nr.shiftPoint(o,c,(x+1)*4),y=Nr.shiftPoint(f,c,(h+1)*4);h=this.transitionsBetween(w,d),x=this.transitionsBetween(y,d);let T=new Xe(d.getX()+(f.getX()-c.getX())/(h+1),d.getY()+(f.getY()-c.getY())/(h+1)),O=new Xe(d.getX()+(o.getX()-c.getX())/(x+1),d.getY()+(o.getY()-c.getY())/(x+1));if(!this.isValid(T))return this.isValid(O)?O:null;if(!this.isValid(O))return T;let P=this.transitionsBetween(w,T)+this.transitionsBetween(y,T),z=this.transitionsBetween(w,O)+this.transitionsBetween(y,O);return P>z?T:O}shiftToModuleCenter(s){let o=s[0],c=s[1],f=s[2],d=s[3],h=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(f,d)+1,w=Nr.shiftPoint(o,c,x*4),y=Nr.shiftPoint(f,c,h*4);h=this.transitionsBetween(w,d)+1,x=this.transitionsBetween(y,d)+1,(h&1)===1&&(h+=1),(x&1)===1&&(x+=1);let T=(o.getX()+c.getX()+f.getX()+d.getX())/4,O=(o.getY()+c.getY()+f.getY()+d.getY())/4;o=Nr.moveAway(o,T,O),c=Nr.moveAway(c,T,O),f=Nr.moveAway(f,T,O),d=Nr.moveAway(d,T,O);let P,z;return w=Nr.shiftPoint(o,c,x*4),w=Nr.shiftPoint(w,d,h*4),P=Nr.shiftPoint(c,o,x*4),P=Nr.shiftPoint(P,f,h*4),y=Nr.shiftPoint(f,d,x*4),y=Nr.shiftPoint(y,c,h*4),z=Nr.shiftPoint(d,f,x*4),z=Nr.shiftPoint(z,o,h*4),[w,P,y,z]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,f,d,h,x){return Qt.getInstance().sampleGrid(s,h,x,.5,.5,h-.5,.5,h-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),d=Math.trunc(o.getX()),h=Math.trunc(o.getY()),x=Math.abs(h-f)>Math.abs(d-c);if(x){let re=c;c=f,f=re,re=d,d=h,h=re}let w=Math.abs(d-c),y=Math.abs(h-f),T=-w/2,O=f<h?1:-1,P=c<d?1:-1,z=0,J=this.image.get(x?f:c,x?c:f);for(let re=c,fe=f;re!==d;re+=P){let me=this.image.get(x?fe:re,x?re:fe);if(me!==J&&(z++,J=me),T+=y,T>0){if(fe===h)break;fe+=O,T-=w}}return z}}class ea{constructor(){this.decoder=new GS}decode(s,o=null){let c,f;if(o!=null&&o.has(G.PURE_BARCODE)){const y=ea.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(y),f=ea.NO_POINTS}else{const y=new Nr(s.getBlackMatrix()).detect();c=this.decoder.decode(y.getBits()),f=y.getPoints()}const d=c.getRawBytes(),h=new K(c.getText(),d,8*d.length,f,ae.DATA_MATRIX,C.currentTimeMillis()),x=c.getByteSegments();x!=null&&h.putMetadata(Ve.BYTE_SEGMENTS,x);const w=c.getECLevel();return w!=null&&h.putMetadata(Ve.ERROR_CORRECTION_LEVEL,w),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new ee;const f=this.moduleSize(o,s);let d=o[1];const h=c[1];let x=o[0];const y=(c[0]-x+1)/f,T=(h-d+1)/f;if(y<=0||T<=0)throw new ee;const O=f/2;d+=O,x+=O;const P=new Se(y,T);for(let z=0;z<T;z++){const J=d+z*f;for(let re=0;re<y;re++)s.get(x+re*f,J)&&P.set(re,z)}return P}static moduleSize(s,o){const c=o.getWidth();let f=s[0];const d=s[1];for(;f<c&&o.get(f,d);)f++;if(f===c)throw new ee;const h=f-s[0];if(h===0)throw new ee;return h}}ea.NO_POINTS=[];class XS extends se{constructor(s=500){super(new ea,s)}}var zo;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(zo||(zo={}));class rr{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,rr.FOR_BITS.set(c,this),rr.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return rr.L;case"M":return rr.M;case"Q":return rr.Q;case"H":return rr.H;default:throw new m(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof rr))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=rr.FOR_BITS.size)throw new v;return rr.FOR_BITS.get(s)}}rr.FOR_BITS=new Map,rr.FOR_VALUE=new Map,rr.L=new rr(zo.L,"L",1),rr.M=new rr(zo.M,"M",0),rr.Q=new rr(zo.Q,"Q",3),rr.H=new rr(zo.H,"H",2);class En{constructor(s){this.errorCorrectionLevel=rr.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return S.bitCount(s^o)}static decodeFormatInformation(s,o){const c=En.doDecodeFormatInformation(s,o);return c!==null?c:En.doDecodeFormatInformation(s^En.FORMAT_INFO_MASK_QR,o^En.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,f=0;for(const d of En.FORMAT_INFO_DECODE_LOOKUP){const h=d[0];if(h===s||h===o)return new En(d[1]);let x=En.numBitsDiffering(s,h);x<c&&(f=d[1],c=x),s!==o&&(x=En.numBitsDiffering(o,h),x<c&&(f=d[1],c=x))}return c<=3?new En(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof En))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}En.FORMAT_INFO_MASK_QR=21522,En.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class de{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class V{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let f=0;const d=c[0].getECCodewordsPerBlock(),h=c[0].getECBlocks();for(const x of h)f+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new F;try{return this.getVersionForNumber((s-17)/4)}catch{throw new F}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return Qe.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<Qe.VERSION_DECODE_INFO.length;f++){const d=Qe.VERSION_DECODE_INFO[f];if(d===s)return Qe.getVersionForNumber(f+7);const h=En.numBitsDiffering(s,d);h<o&&(c=f+7,o=h)}return o<=3?Qe.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new Se(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const d=this.alignmentPatternCenters[f]-2;for(let h=0;h<c;h++)f===0&&(h===0||h===c-1)||f===c-1&&h===0||o.setRegion(this.alignmentPatternCenters[h]-2,d,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Qe.VERSIONS=[new Qe(1,new Int32Array(0),new de(7,new V(1,19)),new de(10,new V(1,16)),new de(13,new V(1,13)),new de(17,new V(1,9))),new Qe(2,Int32Array.from([6,18]),new de(10,new V(1,34)),new de(16,new V(1,28)),new de(22,new V(1,22)),new de(28,new V(1,16))),new Qe(3,Int32Array.from([6,22]),new de(15,new V(1,55)),new de(26,new V(1,44)),new de(18,new V(2,17)),new de(22,new V(2,13))),new Qe(4,Int32Array.from([6,26]),new de(20,new V(1,80)),new de(18,new V(2,32)),new de(26,new V(2,24)),new de(16,new V(4,9))),new Qe(5,Int32Array.from([6,30]),new de(26,new V(1,108)),new de(24,new V(2,43)),new de(18,new V(2,15),new V(2,16)),new de(22,new V(2,11),new V(2,12))),new Qe(6,Int32Array.from([6,34]),new de(18,new V(2,68)),new de(16,new V(4,27)),new de(24,new V(4,19)),new de(28,new V(4,15))),new Qe(7,Int32Array.from([6,22,38]),new de(20,new V(2,78)),new de(18,new V(4,31)),new de(18,new V(2,14),new V(4,15)),new de(26,new V(4,13),new V(1,14))),new Qe(8,Int32Array.from([6,24,42]),new de(24,new V(2,97)),new de(22,new V(2,38),new V(2,39)),new de(22,new V(4,18),new V(2,19)),new de(26,new V(4,14),new V(2,15))),new Qe(9,Int32Array.from([6,26,46]),new de(30,new V(2,116)),new de(22,new V(3,36),new V(2,37)),new de(20,new V(4,16),new V(4,17)),new de(24,new V(4,12),new V(4,13))),new Qe(10,Int32Array.from([6,28,50]),new de(18,new V(2,68),new V(2,69)),new de(26,new V(4,43),new V(1,44)),new de(24,new V(6,19),new V(2,20)),new de(28,new V(6,15),new V(2,16))),new Qe(11,Int32Array.from([6,30,54]),new de(20,new V(4,81)),new de(30,new V(1,50),new V(4,51)),new de(28,new V(4,22),new V(4,23)),new de(24,new V(3,12),new V(8,13))),new Qe(12,Int32Array.from([6,32,58]),new de(24,new V(2,92),new V(2,93)),new de(22,new V(6,36),new V(2,37)),new de(26,new V(4,20),new V(6,21)),new de(28,new V(7,14),new V(4,15))),new Qe(13,Int32Array.from([6,34,62]),new de(26,new V(4,107)),new de(22,new V(8,37),new V(1,38)),new de(24,new V(8,20),new V(4,21)),new de(22,new V(12,11),new V(4,12))),new Qe(14,Int32Array.from([6,26,46,66]),new de(30,new V(3,115),new V(1,116)),new de(24,new V(4,40),new V(5,41)),new de(20,new V(11,16),new V(5,17)),new de(24,new V(11,12),new V(5,13))),new Qe(15,Int32Array.from([6,26,48,70]),new de(22,new V(5,87),new V(1,88)),new de(24,new V(5,41),new V(5,42)),new de(30,new V(5,24),new V(7,25)),new de(24,new V(11,12),new V(7,13))),new Qe(16,Int32Array.from([6,26,50,74]),new de(24,new V(5,98),new V(1,99)),new de(28,new V(7,45),new V(3,46)),new de(24,new V(15,19),new V(2,20)),new de(30,new V(3,15),new V(13,16))),new Qe(17,Int32Array.from([6,30,54,78]),new de(28,new V(1,107),new V(5,108)),new de(28,new V(10,46),new V(1,47)),new de(28,new V(1,22),new V(15,23)),new de(28,new V(2,14),new V(17,15))),new Qe(18,Int32Array.from([6,30,56,82]),new de(30,new V(5,120),new V(1,121)),new de(26,new V(9,43),new V(4,44)),new de(28,new V(17,22),new V(1,23)),new de(28,new V(2,14),new V(19,15))),new Qe(19,Int32Array.from([6,30,58,86]),new de(28,new V(3,113),new V(4,114)),new de(26,new V(3,44),new V(11,45)),new de(26,new V(17,21),new V(4,22)),new de(26,new V(9,13),new V(16,14))),new Qe(20,Int32Array.from([6,34,62,90]),new de(28,new V(3,107),new V(5,108)),new de(26,new V(3,41),new V(13,42)),new de(30,new V(15,24),new V(5,25)),new de(28,new V(15,15),new V(10,16))),new Qe(21,Int32Array.from([6,28,50,72,94]),new de(28,new V(4,116),new V(4,117)),new de(26,new V(17,42)),new de(28,new V(17,22),new V(6,23)),new de(30,new V(19,16),new V(6,17))),new Qe(22,Int32Array.from([6,26,50,74,98]),new de(28,new V(2,111),new V(7,112)),new de(28,new V(17,46)),new de(30,new V(7,24),new V(16,25)),new de(24,new V(34,13))),new Qe(23,Int32Array.from([6,30,54,78,102]),new de(30,new V(4,121),new V(5,122)),new de(28,new V(4,47),new V(14,48)),new de(30,new V(11,24),new V(14,25)),new de(30,new V(16,15),new V(14,16))),new Qe(24,Int32Array.from([6,28,54,80,106]),new de(30,new V(6,117),new V(4,118)),new de(28,new V(6,45),new V(14,46)),new de(30,new V(11,24),new V(16,25)),new de(30,new V(30,16),new V(2,17))),new Qe(25,Int32Array.from([6,32,58,84,110]),new de(26,new V(8,106),new V(4,107)),new de(28,new V(8,47),new V(13,48)),new de(30,new V(7,24),new V(22,25)),new de(30,new V(22,15),new V(13,16))),new Qe(26,Int32Array.from([6,30,58,86,114]),new de(28,new V(10,114),new V(2,115)),new de(28,new V(19,46),new V(4,47)),new de(28,new V(28,22),new V(6,23)),new de(30,new V(33,16),new V(4,17))),new Qe(27,Int32Array.from([6,34,62,90,118]),new de(30,new V(8,122),new V(4,123)),new de(28,new V(22,45),new V(3,46)),new de(30,new V(8,23),new V(26,24)),new de(30,new V(12,15),new V(28,16))),new Qe(28,Int32Array.from([6,26,50,74,98,122]),new de(30,new V(3,117),new V(10,118)),new de(28,new V(3,45),new V(23,46)),new de(30,new V(4,24),new V(31,25)),new de(30,new V(11,15),new V(31,16))),new Qe(29,Int32Array.from([6,30,54,78,102,126]),new de(30,new V(7,116),new V(7,117)),new de(28,new V(21,45),new V(7,46)),new de(30,new V(1,23),new V(37,24)),new de(30,new V(19,15),new V(26,16))),new Qe(30,Int32Array.from([6,26,52,78,104,130]),new de(30,new V(5,115),new V(10,116)),new de(28,new V(19,47),new V(10,48)),new de(30,new V(15,24),new V(25,25)),new de(30,new V(23,15),new V(25,16))),new Qe(31,Int32Array.from([6,30,56,82,108,134]),new de(30,new V(13,115),new V(3,116)),new de(28,new V(2,46),new V(29,47)),new de(30,new V(42,24),new V(1,25)),new de(30,new V(23,15),new V(28,16))),new Qe(32,Int32Array.from([6,34,60,86,112,138]),new de(30,new V(17,115)),new de(28,new V(10,46),new V(23,47)),new de(30,new V(10,24),new V(35,25)),new de(30,new V(19,15),new V(35,16))),new Qe(33,Int32Array.from([6,30,58,86,114,142]),new de(30,new V(17,115),new V(1,116)),new de(28,new V(14,46),new V(21,47)),new de(30,new V(29,24),new V(19,25)),new de(30,new V(11,15),new V(46,16))),new Qe(34,Int32Array.from([6,34,62,90,118,146]),new de(30,new V(13,115),new V(6,116)),new de(28,new V(14,46),new V(23,47)),new de(30,new V(44,24),new V(7,25)),new de(30,new V(59,16),new V(1,17))),new Qe(35,Int32Array.from([6,30,54,78,102,126,150]),new de(30,new V(12,121),new V(7,122)),new de(28,new V(12,47),new V(26,48)),new de(30,new V(39,24),new V(14,25)),new de(30,new V(22,15),new V(41,16))),new Qe(36,Int32Array.from([6,24,50,76,102,128,154]),new de(30,new V(6,121),new V(14,122)),new de(28,new V(6,47),new V(34,48)),new de(30,new V(46,24),new V(10,25)),new de(30,new V(2,15),new V(64,16))),new Qe(37,Int32Array.from([6,28,54,80,106,132,158]),new de(30,new V(17,122),new V(4,123)),new de(28,new V(29,46),new V(14,47)),new de(30,new V(49,24),new V(10,25)),new de(30,new V(24,15),new V(46,16))),new Qe(38,Int32Array.from([6,32,58,84,110,136,162]),new de(30,new V(4,122),new V(18,123)),new de(28,new V(13,46),new V(32,47)),new de(30,new V(48,24),new V(14,25)),new de(30,new V(42,15),new V(32,16))),new Qe(39,Int32Array.from([6,26,54,82,110,138,166]),new de(30,new V(20,117),new V(4,118)),new de(28,new V(40,47),new V(7,48)),new de(30,new V(43,24),new V(22,25)),new de(30,new V(10,15),new V(67,16))),new Qe(40,Int32Array.from([6,30,58,86,114,142,170]),new de(30,new V(19,118),new V(6,119)),new de(28,new V(18,47),new V(31,48)),new de(30,new V(34,24),new V(34,25)),new de(30,new V(20,15),new V(61,16)))];var Zr;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(Zr||(Zr={}));class Ti{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let f=0;f<o;f++)this.isMasked(c,f)&&s.flip(f,c)}}Ti.values=new Map([[Zr.DATA_MASK_000,new Ti(Zr.DATA_MASK_000,(N,s)=>(N+s&1)===0)],[Zr.DATA_MASK_001,new Ti(Zr.DATA_MASK_001,(N,s)=>(N&1)===0)],[Zr.DATA_MASK_010,new Ti(Zr.DATA_MASK_010,(N,s)=>s%3===0)],[Zr.DATA_MASK_011,new Ti(Zr.DATA_MASK_011,(N,s)=>(N+s)%3===0)],[Zr.DATA_MASK_100,new Ti(Zr.DATA_MASK_100,(N,s)=>(Math.floor(N/2)+Math.floor(s/3)&1)===0)],[Zr.DATA_MASK_101,new Ti(Zr.DATA_MASK_101,(N,s)=>N*s%6===0)],[Zr.DATA_MASK_110,new Ti(Zr.DATA_MASK_110,(N,s)=>N*s%6<3)],[Zr.DATA_MASK_111,new Ti(Zr.DATA_MASK_111,(N,s)=>(N+s+N*s%3&1)===0)]]);class $S{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new F;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const o=this.bitMatrix.getHeight();let c=0;const f=o-7;for(let d=o-1;d>=f;d--)c=this.copyBit(8,d,c);for(let d=o-8;d<o;d++)c=this.copyBit(d,8,c);if(this.parsedFormatInfo=En.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Qe.getVersionForNumber(o);let c=0;const f=s-11;for(let h=5;h>=0;h--)for(let x=s-9;x>=f;x--)c=this.copyBit(x,h,c);let d=Qe.decodeVersionInformation(c);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;c=0;for(let h=5;h>=0;h--)for(let x=s-9;x>=f;x--)c=this.copyBit(h,x,c);if(d=Qe.decodeVersionInformation(c),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new F}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=Ti.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const d=o.buildFunctionPattern();let h=!0;const x=new Uint8Array(o.getTotalCodewords());let w=0,y=0,T=0;for(let O=f-1;O>0;O-=2){O===6&&O--;for(let P=0;P<f;P++){const z=h?f-1-P:P;for(let J=0;J<2;J++)d.get(O-J,z)||(T++,y<<=1,this.bitMatrix.get(O-J,z)&&(y|=1),T===8&&(x[w++]=y,T=0,y=0))}h=!h}if(w!==o.getTotalCodewords())throw new F;return x}remask(){if(this.parsedFormatInfo===null)return;const s=Ti.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let f=o+1,d=s.getHeight();f<d;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class xh{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new v;const f=o.getECBlocksForLevel(c);let d=0;const h=f.getECBlocks();for(const J of h)d+=J.getCount();const x=new Array(d);let w=0;for(const J of h)for(let re=0;re<J.getCount();re++){const fe=J.getDataCodewords(),me=f.getECCodewordsPerBlock()+fe;x[w++]=new xh(fe,new Uint8Array(me))}const y=x[0].codewords.length;let T=x.length-1;for(;T>=0&&x[T].codewords.length!==y;)T--;T++;const O=y-f.getECCodewordsPerBlock();let P=0;for(let J=0;J<O;J++)for(let re=0;re<w;re++)x[re].codewords[J]=s[P++];for(let J=T;J<w;J++)x[J].codewords[O]=s[P++];const z=x[0].codewords.length;for(let J=O;J<z;J++)for(let re=0;re<w;re++){const fe=re<T?J:J+1;x[re].codewords[fe]=s[P++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ki;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(ki||(ki={}));class Je{constructor(s,o,c,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=f,Je.FOR_BITS.set(f,this),Je.FOR_VALUE.set(s,this)}static forBits(s){const o=Je.FOR_BITS.get(s);if(o===void 0)throw new v;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Je))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}Je.FOR_BITS=new Map,Je.FOR_VALUE=new Map,Je.TERMINATOR=new Je(ki.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Je.NUMERIC=new Je(ki.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Je.ALPHANUMERIC=new Je(ki.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Je.STRUCTURED_APPEND=new Je(ki.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Je.BYTE=new Je(ki.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Je.ECI=new Je(ki.ECI,"ECI",Int32Array.from([0,0,0]),7),Je.KANJI=new Je(ki.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Je.FNC1_FIRST_POSITION=new Je(ki.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Je.FNC1_SECOND_POSITION=new Je(ki.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Je.HANZI=new Je(ki.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class wr{static decode(s,o,c,f){const d=new ph(s);let h=new _e;const x=new Array;let w=-1,y=-1;try{let T=null,O=!1,P;do{if(d.available()<4)P=Je.TERMINATOR;else{const z=d.readBits(4);P=Je.forBits(z)}switch(P){case Je.TERMINATOR:break;case Je.FNC1_FIRST_POSITION:case Je.FNC1_SECOND_POSITION:O=!0;break;case Je.STRUCTURED_APPEND:if(d.available()<16)throw new F;w=d.readBits(8),y=d.readBits(8);break;case Je.ECI:const z=wr.parseECIValue(d);if(T=W.getCharacterSetECIByValue(z),T===null)throw new F;break;case Je.HANZI:const J=d.readBits(4),re=d.readBits(P.getCharacterCountBits(o));J===wr.GB2312_SUBSET&&wr.decodeHanziSegment(d,h,re);break;default:const fe=d.readBits(P.getCharacterCountBits(o));switch(P){case Je.NUMERIC:wr.decodeNumericSegment(d,h,fe);break;case Je.ALPHANUMERIC:wr.decodeAlphanumericSegment(d,h,fe,O);break;case Je.BYTE:wr.decodeByteSegment(d,h,fe,T,x,f);break;case Je.KANJI:wr.decodeKanjiSegment(d,h,fe);break;default:throw new F}break}}while(P!==Je.TERMINATOR)}catch{throw new F}return new We(s,h.toString(),x.length===0?null:x,c===null?null:c.toString(),w,y)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new F;const f=new Uint8Array(2*c);let d=0;for(;c>0;){const h=s.readBits(13);let x=h/96<<8&4294967295|h%96;x<959?x+=41377:x+=42657,f[d]=x>>8&255,f[d+1]=x&255,d+=2,c--}try{o.append(le.decode(f,Q.GB2312))}catch(h){throw new F(h)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new F;const f=new Uint8Array(2*c);let d=0;for(;c>0;){const h=s.readBits(13);let x=h/192<<8&4294967295|h%192;x<7936?x+=33088:x+=49472,f[d]=x>>8,f[d+1]=x,d+=2,c--}try{o.append(le.decode(f,Q.SHIFT_JIS))}catch(h){throw new F(h)}}static decodeByteSegment(s,o,c,f,d,h){if(8*c>s.available())throw new F;const x=new Uint8Array(c);for(let y=0;y<c;y++)x[y]=s.readBits(8);let w;f===null?w=Q.guessEncoding(x,h):w=f.getName();try{o.append(le.decode(x,w))}catch(y){throw new F(y)}d.push(x)}static toAlphaNumericChar(s){if(s>=wr.ALPHANUMERIC_CHARS.length)throw new F;return wr.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,f){const d=o.length();for(;c>1;){if(s.available()<11)throw new F;const h=s.readBits(11);o.append(wr.toAlphaNumericChar(Math.floor(h/45))),o.append(wr.toAlphaNumericChar(h%45)),c-=2}if(c===1){if(s.available()<6)throw new F;o.append(wr.toAlphaNumericChar(s.readBits(6)))}if(f)for(let h=d;h<o.length();h++)o.charAt(h)==="%"&&(h<o.length()-1&&o.charAt(h+1)==="%"?o.deleteCharAt(h+1):o.setCharAt(h,""))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new F;const f=s.readBits(10);if(f>=1e3)throw new F;o.append(wr.toAlphaNumericChar(Math.floor(f/100))),o.append(wr.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(wr.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new F;const f=s.readBits(7);if(f>=100)throw new F;o.append(wr.toAlphaNumericChar(Math.floor(f/10))),o.append(wr.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new F;const f=s.readBits(4);if(f>=10)throw new F;o.append(wr.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new F}}wr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",wr.GB2312_SUBSET=1;class Mm{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class YS{constructor(){this.rsDecoder=new Ye(qe.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(Se.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new $S(s);let f=null;try{return this.decodeBitMatrixParser(c,o)}catch(d){f=d}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const d=this.decodeBitMatrixParser(c,o);return d.setOther(new Mm(!0)),d}catch(d){throw f!==null?f:d}}decodeBitMatrixParser(s,o){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),h=xh.getDataBlocks(d,c,f);let x=0;for(const T of h)x+=T.getNumDataCodewords();const w=new Uint8Array(x);let y=0;for(const T of h){const O=T.getCodewords(),P=T.getNumDataCodewords();this.correctErrors(O,P);for(let z=0;z<P;z++)w[y++]=O[z]}return wr.decode(w,c,f,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new E}for(let f=0;f<o;f++)s[f]=c[f]}}class mh extends Xe{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=(this.getX()+o)/2,d=(this.getY()+s)/2,h=(this.estimatedModuleSize+c)/2;return new mh(f,d,h)}}class yu{constructor(s,o,c,f,d,h,x){this.image=s,this.startX=o,this.startY=c,this.width=f,this.height=d,this.moduleSize=h,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,f=s+c,d=this.startY+o/2,h=new Int32Array(3),x=this.image;for(let w=0;w<o;w++){const y=d+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));h[0]=0,h[1]=0,h[2]=0;let T=s;for(;T<f&&!x.get(T,y);)T++;let O=0;for(;T<f;){if(x.get(T,y))if(O===1)h[1]++;else if(O===2){if(this.foundPatternCross(h)){const P=this.handlePossibleCenter(h,y,T);if(P!==null)return P}h[0]=h[2],h[1]=1,h[2]=0,O=1}else h[++O]++;else O===1&&O++,h[O]++;T++}if(this.foundPatternCross(h)){const P=this.handlePossibleCenter(h,y,f);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=c)return!1;return!0}crossCheckVertical(s,o,c,f){const d=this.image,h=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let w=s;for(;w>=0&&d.get(o,w)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&!d.get(o,w)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<h&&d.get(o,w)&&x[1]<=c;)x[1]++,w++;if(w===h||x[1]>c)return NaN;for(;w<h&&!d.get(o,w)&&x[2]<=c;)x[2]++,w++;if(x[2]>c)return NaN;const y=x[0]+x[1]+x[2];return 5*Math.abs(y-f)>=2*f?NaN:this.foundPatternCross(x)?yu.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,c){const f=s[0]+s[1]+s[2],d=yu.centerFromEnd(s,c),h=this.crossCheckVertical(o,d,2*s[1],f);if(!isNaN(h)){const x=(s[0]+s[1]+s[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(x,h,d))return y.combineEstimate(h,d,x);const w=new mh(d,h,x);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class wh extends Xe{constructor(s,o,c,f){super(s,o),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=this.count+1,d=(this.count*this.getX()+o)/f,h=(this.count*this.getY()+s)/f,x=(this.count*this.estimatedModuleSize+c)/f;return new wh(d,h,x,f)}}class KS{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Qr{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(G.TRY_HARDER)!==void 0,c=s!=null&&s.get(G.PURE_BARCODE)!==void 0,f=this.image,d=f.getHeight(),h=f.getWidth();let x=Math.floor(3*d/(4*Qr.MAX_MODULES));(x<Qr.MIN_SKIP||o)&&(x=Qr.MIN_SKIP);let w=!1;const y=new Int32Array(5);for(let O=x-1;O<d&&!w;O+=x){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let P=0;for(let z=0;z<h;z++)if(f.get(z,O))(P&1)===1&&P++,y[P]++;else if(P&1)y[P]++;else if(P===4)if(Qr.foundPatternCross(y)){if(this.handlePossibleCenter(y,O,z,c)===!0)if(x=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const re=this.findRowSkip();re>y[2]&&(O+=re-y[2]-x,z=h-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,P=3;continue}P=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,P=3;else y[++P]++;Qr.foundPatternCross(y)&&this.handlePossibleCenter(y,O,h,c)===!0&&(x=y[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return Xe.orderBestPatterns(T),new KS(T)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let d=0;d<5;d++){const h=s[d];if(h===0)return!1;o+=h}if(o<7)return!1;const c=o/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,f){const d=this.getCrossCheckStateCount();let h=0;const x=this.image;for(;s>=h&&o>=h&&x.get(o-h,s-h);)d[2]++,h++;if(s<h||o<h)return!1;for(;s>=h&&o>=h&&!x.get(o-h,s-h)&&d[1]<=c;)d[1]++,h++;if(s<h||o<h||d[1]>c)return!1;for(;s>=h&&o>=h&&x.get(o-h,s-h)&&d[0]<=c;)d[0]++,h++;if(d[0]>c)return!1;const w=x.getHeight(),y=x.getWidth();for(h=1;s+h<w&&o+h<y&&x.get(o+h,s+h);)d[2]++,h++;if(s+h>=w||o+h>=y)return!1;for(;s+h<w&&o+h<y&&!x.get(o+h,s+h)&&d[3]<c;)d[3]++,h++;if(s+h>=w||o+h>=y||d[3]>=c)return!1;for(;s+h<w&&o+h<y&&x.get(o+h,s+h)&&d[4]<c;)d[4]++,h++;if(d[4]>=c)return!1;const T=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(T-f)<2*f&&Qr.foundPatternCross(d)}crossCheckVertical(s,o,c,f){const d=this.image,h=d.getHeight(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&d.get(o,w);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(o,w)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&d.get(o,w)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<h&&d.get(o,w);)x[2]++,w++;if(w===h)return NaN;for(;w<h&&!d.get(o,w)&&x[3]<c;)x[3]++,w++;if(w===h||x[3]>=c)return NaN;for(;w<h&&d.get(o,w)&&x[4]<c;)x[4]++,w++;if(x[4]>=c)return NaN;const y=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(y-f)>=2*f?NaN:Qr.foundPatternCross(x)?Qr.centerFromEnd(x,w):NaN}crossCheckHorizontal(s,o,c,f){const d=this.image,h=d.getWidth(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&d.get(w,o);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(w,o)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&d.get(w,o)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<h&&d.get(w,o);)x[2]++,w++;if(w===h)return NaN;for(;w<h&&!d.get(w,o)&&x[3]<c;)x[3]++,w++;if(w===h||x[3]>=c)return NaN;for(;w<h&&d.get(w,o)&&x[4]<c;)x[4]++,w++;if(x[4]>=c)return NaN;const y=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(y-f)>=f?NaN:Qr.foundPatternCross(x)?Qr.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,c,f){const d=s[0]+s[1]+s[2]+s[3]+s[4];let h=Qr.centerFromEnd(s,c),x=this.crossCheckVertical(o,Math.floor(h),s[2],d);if(!isNaN(x)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(x),s[2],d),!isNaN(h)&&(!f||this.crossCheckDiagonal(Math.floor(x),Math.floor(h),s[2],d)))){const w=d/7;let y=!1;const T=this.possibleCenters;for(let O=0,P=T.length;O<P;O++){const z=T[O];if(z.aboutEquals(w,x,h)){T[O]=z.combineEstimate(x,h,w),y=!0;break}}if(!y){const O=new wh(h,x,w);T.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=Qr.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Qr.CENTER_QUORUM&&(s++,o+=h.getEstimatedModuleSize());if(s<3)return!1;const f=o/c;let d=0;for(const h of this.possibleCenters)d+=Math.abs(h.getEstimatedModuleSize()-f);return d<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ee;const o=this.possibleCenters;let c;if(s>3){let f=0,d=0;for(const w of this.possibleCenters){const y=w.getEstimatedModuleSize();f+=y,d+=y*y}c=f/s;let h=Math.sqrt(d/s-c*c);o.sort((w,y)=>{const T=Math.abs(y.getEstimatedModuleSize()-c),O=Math.abs(w.getEstimatedModuleSize()-c);return T<O?-1:T>O?1:0});const x=Math.max(.2*c,h);for(let w=0;w<o.length&&o.length>3;w++){const y=o[w];Math.abs(y.getEstimatedModuleSize()-c)>x&&(o.splice(w,1),w--)}}if(o.length>3){let f=0;for(const d of o)f+=d.getEstimatedModuleSize();c=f/o.length,o.sort((d,h)=>{if(h.getCount()===d.getCount()){const x=Math.abs(h.getEstimatedModuleSize()-c),w=Math.abs(d.getEstimatedModuleSize()-c);return x<w?1:x>w?-1:0}else return h.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Qr.CENTER_QUORUM=2,Qr.MIN_SKIP=3,Qr.MAX_MODULES=57;class oc{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(G.NEED_RESULT_POINT_CALLBACK);const c=new Qr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),d=this.calculateModuleSize(o,c,f);if(d<1)throw new ee("No pattern found in proccess finder.");const h=oc.computeDimension(o,c,f,d),x=Qe.getProvisionalVersionForDimension(h),w=x.getDimensionForVersion()-7;let y=null;if(x.getAlignmentPatternCenters().length>0){const z=c.getX()-o.getX()+f.getX(),J=c.getY()-o.getY()+f.getY(),re=1-3/w,fe=Math.floor(o.getX()+re*(z-o.getX())),me=Math.floor(o.getY()+re*(J-o.getY()));for(let Me=4;Me<=16;Me<<=1)try{y=this.findAlignmentInRegion(d,fe,me,Me);break}catch(je){if(!(je instanceof ee))throw je}}const T=oc.createTransform(o,c,f,y,h),O=oc.sampleGrid(this.image,T,h);let P;return y===null?P=[f,o,c]:P=[f,o,c,y],new zt(O,P)}static createTransform(s,o,c,f,d){const h=d-3.5;let x,w,y,T;return f!==null?(x=f.getX(),w=f.getY(),y=h-3,T=y):(x=o.getX()-s.getX()+c.getX(),w=o.getY()-s.getY()+c.getY(),y=h,T=h),Er.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,y,T,3.5,h,s.getX(),s.getY(),o.getX(),o.getY(),x,w,c.getX(),c.getY())}static sampleGrid(s,o,c){return Qt.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,f){const d=ot.round(Xe.distance(s,o)/f),h=ot.round(Xe.distance(s,c)/f);let x=Math.floor((d+h)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new ee("Dimensions could be not found.")}return x}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,f){let d=this.sizeOfBlackWhiteBlackRun(s,o,c,f),h=1,x=s-(c-s);x<0?(h=s/(s-x),x=0):x>=this.image.getWidth()&&(h=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let w=Math.floor(o-(f-o)*h);return h=1,w<0?(h=o/(o-w),w=0):w>=this.image.getHeight()&&(h=(this.image.getHeight()-1-o)/(w-o),w=this.image.getHeight()-1),x=Math.floor(s+(x-s)*h),d+=this.sizeOfBlackWhiteBlackRun(s,o,x,w),d-1}sizeOfBlackWhiteBlackRun(s,o,c,f){const d=Math.abs(f-o)>Math.abs(c-s);if(d){let z=s;s=o,o=z,z=c,c=f,f=z}const h=Math.abs(c-s),x=Math.abs(f-o);let w=-h/2;const y=s<c?1:-1,T=o<f?1:-1;let O=0;const P=c+y;for(let z=s,J=o;z!==P;z+=y){const re=d?J:z,fe=d?z:J;if(O===1===this.image.get(re,fe)){if(O===2)return ot.distance(z,J,s,o);O++}if(w+=x,w>0){if(J===f)break;J+=T,w-=h}}return O===2?ot.distance(c+y,f,s,o):NaN}findAlignmentInRegion(s,o,c,f){const d=Math.floor(f*s),h=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-h<s*3)throw new ee("Alignment top exceeds estimated module size.");const w=Math.max(0,c-d),y=Math.min(this.image.getHeight()-1,c+d);if(y-w<s*3)throw new ee("Alignment bottom exceeds estimated module size.");return new yu(this.image,h,w,x-h,y-w,s,this.resultPointCallback).find()}}class ta{constructor(){this.decoder=new YS}getDecoder(){return this.decoder}decode(s,o){let c,f;if(o!=null&&o.get(G.PURE_BARCODE)!==void 0){const w=ta.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(w,o),f=ta.NO_POINTS}else{const w=new oc(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(w.getBits(),o),f=w.getPoints()}c.getOther()instanceof Mm&&c.getOther().applyMirroredCorrection(f);const d=new K(c.getText(),c.getRawBytes(),void 0,f,ae.QR_CODE,void 0),h=c.getByteSegments();h!==null&&d.putMetadata(Ve.BYTE_SEGMENTS,h);const x=c.getECLevel();return x!==null&&d.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x),c.hasStructuredAppend()&&(d.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),d.putMetadata(Ve.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new ee;const f=this.moduleSize(o,s);let d=o[1],h=c[1],x=o[0],w=c[0];if(x>=w||d>=h)throw new ee;if(h-d!==w-x&&(w=x+(h-d),w>=s.getWidth()))throw new ee;const y=Math.round((w-x+1)/f),T=Math.round((h-d+1)/f);if(y<=0||T<=0)throw new ee;if(T!==y)throw new ee;const O=Math.floor(f/2);d+=O,x+=O;const P=x+Math.floor((y-1)*f)-w;if(P>0){if(P>O)throw new ee;x-=P}const z=d+Math.floor((T-1)*f)-h;if(z>0){if(z>O)throw new ee;d-=z}const J=new Se(y,T);for(let re=0;re<T;re++){const fe=d+Math.floor(re*f);for(let me=0;me<y;me++)s.get(x+Math.floor(me*f),fe)&&J.set(me,re)}return J}static moduleSize(s,o){const c=o.getHeight(),f=o.getWidth();let d=s[0],h=s[1],x=!0,w=0;for(;d<f&&h<c;){if(x!==o.get(d,h)){if(++w===5)break;x=!x}d++,h++}if(d===f||h===c)throw new ee;return(d-s[0])/7}}ta.NO_POINTS=new Array;class st{PDF417Common(){}static getBitCountSum(s){return ot.sum(s)}static toIntArray(s){if(s==null||!s.length)return st.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const f of s)o[c++]=f;return o}static getCodeword(s){const o=k.binarySearch(st.SYMBOL_TABLE,s&262143);return o<0?-1:(st.CODEWORD_TABLE[o]-1)%st.NUMBER_OF_CODEWORDS}}st.NUMBER_OF_CODEWORDS=929,st.MAX_CODEWORDS_IN_BARCODE=st.NUMBER_OF_CODEWORDS-1,st.MIN_ROWS_IN_BARCODE=3,st.MAX_ROWS_IN_BARCODE=90,st.MODULES_IN_CODEWORD=17,st.MODULES_IN_STOP_PATTERN=18,st.BARS_IN_MODULE=8,st.EMPTY_INT_ARRAY=new Int32Array([]),st.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),st.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class qS{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class wt{static detectMultiple(s,o,c){let f=s.getBlackMatrix(),d=wt.detect(c,f);return d.length||(f=f.clone(),f.rotate180(),d=wt.detect(c,f)),new qS(f,d)}static detect(s,o){const c=new Array;let f=0,d=0,h=!1;for(;f<o.getHeight();){const x=wt.findVertices(o,f,d);if(x[0]==null&&x[3]==null){if(!h)break;h=!1,d=0;for(const w of c)w[1]!=null&&(f=Math.trunc(Math.max(f,w[1].getY()))),w[3]!=null&&(f=Math.max(f,Math.trunc(w[3].getY())));f+=wt.ROW_STEP;continue}if(h=!0,c.push(x),!s)break;x[2]!=null?(d=Math.trunc(x[2].getX()),f=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY()))}return c}static findVertices(s,o,c){const f=s.getHeight(),d=s.getWidth(),h=new Array(8);return wt.copyToResult(h,wt.findRowsWithPattern(s,f,d,o,c,wt.START_PATTERN),wt.INDEXES_START_PATTERN),h[4]!=null&&(c=Math.trunc(h[4].getX()),o=Math.trunc(h[4].getY())),wt.copyToResult(h,wt.findRowsWithPattern(s,f,d,o,c,wt.STOP_PATTERN),wt.INDEXES_STOP_PATTERN),h}static copyToResult(s,o,c){for(let f=0;f<c.length;f++)s[c[f]]=o[f]}static findRowsWithPattern(s,o,c,f,d,h){const x=new Array(4);let w=!1;const y=new Int32Array(h.length);for(;f<o;f+=wt.ROW_STEP){let O=wt.findGuardPattern(s,d,f,c,!1,h,y);if(O!=null){for(;f>0;){const P=wt.findGuardPattern(s,d,--f,c,!1,h,y);if(P!=null)O=P;else{f++;break}}x[0]=new Xe(O[0],f),x[1]=new Xe(O[1],f),w=!0;break}}let T=f+1;if(w){let O=0,P=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;T<o;T++){const z=wt.findGuardPattern(s,P[0],T,c,!1,h,y);if(z!=null&&Math.abs(P[0]-z[0])<wt.MAX_PATTERN_DRIFT&&Math.abs(P[1]-z[1])<wt.MAX_PATTERN_DRIFT)P=z,O=0;else{if(O>wt.SKIPPED_ROW_COUNT_MAX)break;O++}}T-=O+1,x[2]=new Xe(P[0],T),x[3]=new Xe(P[1],T)}return T-f<wt.BARCODE_MIN_HEIGHT&&k.fill(x,null),x}static findGuardPattern(s,o,c,f,d,h,x){k.fillWithin(x,0,x.length,0);let w=o,y=0;for(;s.get(w,c)&&w>0&&y++<wt.MAX_PIXEL_DRIFT;)w--;let T=w,O=0,P=h.length;for(let z=d;T<f;T++)if(s.get(T,c)!==z)x[O]++;else{if(O===P-1){if(wt.patternMatchVariance(x,h,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return new Int32Array([w,T]);w+=x[0]+x[1],C.arraycopy(x,2,x,0,O-1),x[O-1]=0,x[O]=0,O--}else O++;x[O]=1,z=!z}return O===P-1&&wt.patternMatchVariance(x,h,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE?new Int32Array([w,T-1]):null}static patternMatchVariance(s,o,c){let f=s.length,d=0,h=0;for(let y=0;y<f;y++)d+=s[y],h+=o[y];if(d<h)return 1/0;let x=d/h;c*=x;let w=0;for(let y=0;y<f;y++){let T=s[y],O=o[y]*x,P=T>O?T-O:O-T;if(P>c)return 1/0;w+=P}return w/d}}wt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),wt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),wt.MAX_AVG_VARIANCE=.42,wt.MAX_INDIVIDUAL_VARIANCE=.8,wt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),wt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),wt.MAX_PIXEL_DRIFT=3,wt.MAX_PATTERN_DRIFT=5,wt.SKIPPED_ROW_COUNT_MAX=25,wt.ROW_STEP=5,wt.BARCODE_MIN_HEIGHT=10;class cn{constructor(s,o){if(o.length===0)throw new v;this.field=s;let c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let d of this.coefficients)f=this.field.add(f,d);return f}let o=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let h=o;o=c,c=h}let f=new Int32Array(c.length),d=c.length-o.length;C.arraycopy(c,0,f,0,d);for(let h=d;h<c.length;h++)f[h]=this.field.add(o[h-d],c[h]);return new cn(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof cn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new cn(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,f=s.coefficients,d=f.length,h=new Int32Array(c+d-1);for(let x=0;x<c;x++){let w=o[x];for(let y=0;y<d;y++)h[x+y]=this.field.add(h[x+y],this.field.multiply(w,f[y]))}return new cn(this.field,h)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new cn(this.field,o)}multiplyScalar(s){if(s===0)return new cn(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new cn(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return new cn(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let d=0;d<c;d++)f[d]=this.field.multiply(this.coefficients[d],o);return new cn(this.field,f)}toString(){let s=new _e;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class ZS{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new Y;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class vh extends ZS{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new cn(this,new Int32Array([0])),this.one=new cn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new cn(this,c)}}vh.PDF417_GF=new vh(st.NUMBER_OF_CODEWORDS,3);class Bm{constructor(){this.field=vh.PDF417_GF}decode(s,o,c){let f=new cn(this.field,s),d=new Int32Array(o),h=!1;for(let J=o;J>0;J--){let re=f.evaluateAt(this.field.exp(J));d[o-J]=re,re!==0&&(h=!0)}if(!h)return 0;let x=this.field.getOne();if(c!=null)for(const J of c){let re=this.field.exp(s.length-1-J),fe=new cn(this.field,new Int32Array([this.field.subtract(0,re),1]));x=x.multiply(fe)}let w=new cn(this.field,d),y=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),w,o),T=y[0],O=y[1],P=this.findErrorLocations(T),z=this.findErrorMagnitudes(O,T,P);for(let J=0;J<P.length;J++){let re=s.length-1-this.field.log(P[J]);if(re<0)throw E.getChecksumInstance();s[re]=this.field.subtract(s[re],z[J])}return P.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let P=s;s=o,o=P}let f=s,d=o,h=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(c/2);){let P=f,z=h;if(f=d,h=x,f.isZero())throw E.getChecksumInstance();d=P;let J=this.field.getZero(),re=f.getCoefficient(f.getDegree()),fe=this.field.inverse(re);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){let me=d.getDegree()-f.getDegree(),Me=this.field.multiply(d.getCoefficient(d.getDegree()),fe);J=J.add(this.field.buildMonomial(me,Me)),d=d.subtract(f.multiplyByMonomial(me,Me))}x=J.multiply(h).subtract(z).negative()}let w=x.getCoefficient(0);if(w===0)throw E.getChecksumInstance();let y=this.field.inverse(w),T=x.multiply(y),O=d.multiply(y);return[T,O]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),f=0;for(let d=1;d<this.field.getSize()&&f<o;d++)s.evaluateAt(d)===0&&(c[f]=this.field.inverse(d),f++);if(f!==o)throw E.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let f=o.getDegree(),d=new Int32Array(f);for(let y=1;y<=f;y++)d[f-y]=this.field.multiply(y,o.getCoefficient(y));let h=new cn(this.field,d),x=c.length,w=new Int32Array(x);for(let y=0;y<x;y++){let T=this.field.inverse(c[y]),O=this.field.subtract(0,s.evaluateAt(T)),P=this.field.inverse(h.evaluateAt(T));w[y]=this.field.multiply(O,P)}return w}}class $a{constructor(s,o,c,f,d){s instanceof $a?this.constructor_2(s):this.constructor_1(s,o,c,f,d)}constructor_1(s,o,c,f,d){const h=o==null||c==null,x=f==null||d==null;if(h&&x)throw new ee;h?(o=new Xe(0,f.getY()),c=new Xe(0,d.getY())):x&&(f=new Xe(s.getWidth()-1,o.getY()),d=new Xe(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=f,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new $a(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let f=this.topLeft,d=this.bottomLeft,h=this.topRight,x=this.bottomRight;if(s>0){let w=c?this.topLeft:this.topRight,y=Math.trunc(w.getY()-s);y<0&&(y=0);let T=new Xe(w.getX(),y);c?f=T:h=T}if(o>0){let w=c?this.bottomLeft:this.bottomRight,y=Math.trunc(w.getY()+o);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let T=new Xe(w.getX(),y);c?d=T:x=T}return new $a(this.image,f,d,h,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class QS{constructor(s,o,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class lc{constructor(){this.buffer=""}static form(s,o){let c=-1;function f(h,x,w,y,T,O){if(h==="%%")return"%";if(o[++c]===void 0)return;h=y?parseInt(y.substr(1)):void 0;let P=T?parseInt(T.substr(1)):void 0,z;switch(O){case"s":z=o[c];break;case"c":z=o[c][0];break;case"f":z=parseFloat(o[c]).toFixed(h);break;case"p":z=parseFloat(o[c]).toPrecision(h);break;case"e":z=parseFloat(o[c]).toExponential(h);break;case"x":z=parseInt(o[c]).toString(P||16);break;case"d":z=parseFloat(parseInt(o[c],P||10).toPrecision(h)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(P);let J=parseInt(w),re=w&&w[0]+""=="0"?"0":" ";for(;z.length<J;)z=x!==void 0?z+re:re+z;return z}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,f)}format(s,...o){this.buffer+=lc.form(s,o)}toString(){return this.buffer}}class cc{constructor(s){this.boundingBox=new $a(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<cc.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new lc;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}cc.MAX_NEARBY_DISTANCE=5;class uc{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,f]of this.values.entries()){const d={getKey:()=>c,getValue:()=>f};d.getValue()>s?(s=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===s&&o.push(d.getKey())}return st.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Lm extends cc{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),d=this._isLeft?c.getBottomLeft():c.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=-1,y=1,T=0;for(let O=h;O<x;O++){if(o[O]==null)continue;let P=o[O],z=P.getRowNumber()-w;if(z===0)T++;else if(z===1)y=Math.max(y,T),T=1,w=P.getRowNumber();else if(z<0||P.getRowNumber()>=s.getRowCount()||z>O)o[O]=null;else{let J;y>2?J=(y-2)*z:J=z;let re=J>=O;for(let fe=1;fe<=J&&!re;fe++)re=o[O-fe]!=null;re?o[O]=null:(w=P.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.getCodewords(),w=-1;for(let y=d;y<h;y++){if(x[y]==null)continue;let T=x[y];T.setRowNumberAsRowIndicatorColumn();let O=T.getRowNumber()-w;O===0||(O===1?w=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?x[y]=null:w=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new uc,c=new uc,f=new uc,d=new uc;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let w=x.getValue()%30,y=x.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:c.setValue(w*3+1);break;case 1:d.setValue(w/3),f.setValue(w%3);break;case 2:o.setValue(w+1);break}}if(o.getValue().length===0||c.getValue().length===0||f.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<st.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>st.MAX_ROWS_IN_BARCODE)return null;let h=new QS(o.getValue()[0],c.getValue()[0],f.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,h),h}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let d=f.getValue()%30,h=f.getRowNumber();if(h>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:d+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class fc{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=st.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let d=this.detectionResultColumns[f].getCodewords()[c];d!=null&&(d.setRowNumber(s[c].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),d=0;for(let h=this.barcodeColumnCount+1;h>0&&d<this.ADJUST_ROW_NUMBER_SKIP;h--){let x=this.detectionResultColumns[h].getCodewords()[c];x!=null&&(d=fc.adjustRowNumberIfValid(f,d,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),d=0;for(let h=1;h<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;h++){let x=this.detectionResultColumns[h].getCodewords()[c];x!=null&&(d=fc.adjustRowNumberIfValid(f,d,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let f=c[o],d=this.detectionResultColumns[s-1].getCodewords(),h=d;this.detectionResultColumns[s+1]!=null&&(h=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=h[o],o>0&&(x[0]=c[o-1],x[4]=d[o-1],x[5]=h[o-1]),o>1&&(x[8]=c[o-2],x[10]=d[o-2],x[11]=h[o-2]),o<c.length-1&&(x[1]=c[o+1],x[6]=d[o+1],x[7]=h[o+1]),o<c.length-2&&(x[9]=c[o+2],x[12]=d[o+2],x[13]=h[o+2]);for(let w of x)if(fc.adjustRowNumber(f,w))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new lc;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[f].getCodewords()[c];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class dc{constructor(s,o,c,f){this.rowNumber=dc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==dc.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}dc.BARCODE_ROW_UNKNOWN=-1;class Kn{static initialize(){for(let s=0;s<st.SYMBOL_TABLE.length;s++){let o=st.SYMBOL_TABLE[s],c=o&1;for(let f=0;f<st.BARS_IN_MODULE;f++){let d=0;for(;(o&1)===c;)d+=1,o>>=1;c=o&1,Kn.RATIOS_TABLE[s]||(Kn.RATIOS_TABLE[s]=new Array(st.BARS_IN_MODULE)),Kn.RATIOS_TABLE[s][st.BARS_IN_MODULE-f-1]=Math.fround(d/st.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Kn.getDecodedCodewordValue(Kn.sampleBitCounts(s));return o!==-1?o:Kn.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=ot.sum(s),c=new Int32Array(st.BARS_IN_MODULE),f=0,d=0;for(let h=0;h<st.MODULES_IN_CODEWORD;h++){let x=o/(2*st.MODULES_IN_CODEWORD)+h*o/st.MODULES_IN_CODEWORD;d+s[f]<=x&&(d+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let o=Kn.getBitValue(s);return st.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=ot.sum(s),c=new Array(st.BARS_IN_MODULE);if(o>1)for(let h=0;h<c.length;h++)c[h]=Math.fround(s[h]/o);let f=Ht.MAX_VALUE,d=-1;this.bSymbolTableReady||Kn.initialize();for(let h=0;h<Kn.RATIOS_TABLE.length;h++){let x=0,w=Kn.RATIOS_TABLE[h];for(let y=0;y<st.BARS_IN_MODULE;y++){let T=Math.fround(w[y]-c[y]);if(x+=Math.fround(T*T),x>=f)break}x<f&&(f=x,d=st.SYMBOL_TABLE[h])}return d}}Kn.bSymbolTableReady=!1,Kn.RATIOS_TABLE=new Array(st.SYMBOL_TABLE.length).map(N=>new Array(st.BARS_IN_MODULE));class Um{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class jm{static parseLong(s,o=void 0){return parseInt(s,o)}}class Wm extends p{}Wm.kind="NullPointerException";class JS{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new Wm;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new I;if(c===0)return;for(let f=0;f<c;f++)this.write(s[o+f])}flush(){}close(){}}class eT extends p{}class tT extends JS{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new eT;c=S.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new I;this.ensureCapacity(this.count+c),C.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var qt;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(qt||(qt={}));function Vm(){if(typeof window<"u")return window.BigInt||null;if(typeof pc<"u")return pc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _u;function ra(N){if(typeof _u>"u"&&(_u=Vm()),_u===null)throw new Error("BigInt is not supported!");return _u(N)}function rT(){let N=[];N[0]=ra(1);let s=ra(900);N[1]=s;for(let o=2;o<16;o++)N[o]=N[o-1]*s;return N}class xe{static decode(s,o){let c=new _e(""),f=W.ISO8859_1;c.enableDecoding(f);let d=1,h=s[d++],x=new Um;for(;d<s[0];){switch(h){case xe.TEXT_COMPACTION_MODE_LATCH:d=xe.textCompaction(s,d,c);break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:d=xe.byteCompaction(h,s,f,d,c);break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[d++]);break;case xe.NUMERIC_COMPACTION_MODE_LATCH:d=xe.numericCompaction(s,d,c);break;case xe.ECI_CHARSET:W.getCharacterSetECIByValue(s[d++]);break;case xe.ECI_GENERAL_PURPOSE:d+=2;break;case xe.ECI_USER_DEFINED:d++;break;case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=xe.decodeMacroBlock(s,d,x);break;case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:throw new F;default:d--,d=xe.textCompaction(s,d,c);break}if(d<s.length)h=s[d++];else throw F.getFormatInstance()}if(c.length()===0)throw F.getFormatInstance();let w=new We(null,c.toString(),null,o);return w.setOther(x),w}static decodeMacroBlock(s,o,c){if(o+xe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw F.getFormatInstance();let f=new Int32Array(xe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<xe.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)f[x]=s[o];c.setSegmentIndex(S.parseInt(xe.decodeBase900toBase10(f,xe.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new _e;o=xe.textCompaction(s,o,d),c.setFileId(d.toString());let h=-1;for(s[o]===xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=o+1);o<s[0];)switch(s[o]){case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new _e;o=xe.textCompaction(s,o+1,x),c.setFileName(x.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new _e;o=xe.textCompaction(s,o+1,w),c.setSender(w.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new _e;o=xe.textCompaction(s,o+1,y),c.setAddressee(y.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new _e;o=xe.numericCompaction(s,o+1,T),c.setSegmentCount(S.parseInt(T.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new _e;o=xe.numericCompaction(s,o+1,O),c.setTimestamp(jm.parseLong(O.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new _e;o=xe.numericCompaction(s,o+1,P),c.setChecksum(S.parseInt(P.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new _e;o=xe.numericCompaction(s,o+1,z),c.setFileSize(jm.parseLong(z.toString()));break;default:throw F.getFormatInstance()}break;case xe.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(h!==-1){let x=o-h;c.isLastSegment()&&x--,c.setOptionalData(k.copyOfRange(s,h,h+x))}return o}static textCompaction(s,o,c){let f=new Int32Array((s[0]-o)*2),d=new Int32Array((s[0]-o)*2),h=0,x=!1;for(;o<s[0]&&!x;){let w=s[o++];if(w<xe.TEXT_COMPACTION_MODE_LATCH)f[h]=w/30,f[h+1]=w%30,h+=2;else switch(w){case xe.TEXT_COMPACTION_MODE_LATCH:f[h++]=xe.TEXT_COMPACTION_MODE_LATCH;break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[h]=xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=s[o++],d[h]=w,h++;break}}return xe.decodeTextCompaction(f,d,h,c),o}static decodeTextCompaction(s,o,c,f){let d=qt.ALPHA,h=qt.ALPHA,x=0;for(;x<c;){let w=s[x],y="";switch(d){case qt.ALPHA:if(w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case xe.LL:d=qt.LOWER;break;case xe.ML:d=qt.MIXED;break;case xe.PS:h=d,d=qt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:d=qt.ALPHA;break}break;case qt.LOWER:if(w<26)y=String.fromCharCode(97+w);else switch(w){case 26:y=" ";break;case xe.AS:h=d,d=qt.ALPHA_SHIFT;break;case xe.ML:d=qt.MIXED;break;case xe.PS:h=d,d=qt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:d=qt.ALPHA;break}break;case qt.MIXED:if(w<xe.PL)y=xe.MIXED_CHARS[w];else switch(w){case xe.PL:d=qt.PUNCT;break;case 26:y=" ";break;case xe.LL:d=qt.LOWER;break;case xe.AL:d=qt.ALPHA;break;case xe.PS:h=d,d=qt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:d=qt.ALPHA;break}break;case qt.PUNCT:if(w<xe.PAL)y=xe.PUNCT_CHARS[w];else switch(w){case xe.PAL:d=qt.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:d=qt.ALPHA;break}break;case qt.ALPHA_SHIFT:if(d=h,w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case xe.TEXT_COMPACTION_MODE_LATCH:d=qt.ALPHA;break}break;case qt.PUNCT_SHIFT:if(d=h,w<xe.PAL)y=xe.PUNCT_CHARS[w];else switch(w){case xe.PAL:d=qt.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:d=qt.ALPHA;break}break}y!==""&&f.append(y),x++}}static byteCompaction(s,o,c,f,d){let h=new tT,x=0,w=0,y=!1;switch(s){case xe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),O=o[f++];for(;f<o[0]&&!y;)switch(T[x++]=O,w=900*w+O,O=o[f++],O){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:f--,y=!0;break;default:if(x%5===0&&x>0){for(let P=0;P<6;++P)h.write(Number(ra(w)>>ra(8*(5-P))));w=0,x=0}break}f===o[0]&&O<xe.TEXT_COMPACTION_MODE_LATCH&&(T[x++]=O);for(let P=0;P<x;P++)h.write(T[P]);break;case xe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!y;){let P=o[f++];if(P<xe.TEXT_COMPACTION_MODE_LATCH)x++,w=900*w+P;else switch(P){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:f--,y=!0;break}if(x%5===0&&x>0){for(let z=0;z<6;++z)h.write(Number(ra(w)>>ra(8*(5-z))));w=0,x=0}}break}return d.append(le.decode(h.toByteArray(),c)),f}static numericCompaction(s,o,c){let f=0,d=!1,h=new Int32Array(xe.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!d;){let x=s[o++];if(o===s[0]&&(d=!0),x<xe.TEXT_COMPACTION_MODE_LATCH)h[f]=x,f++;else switch(x){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(f%xe.MAX_NUMERIC_CODEWORDS===0||x===xe.NUMERIC_COMPACTION_MODE_LATCH||d)&&f>0&&(c.append(xe.decodeBase900toBase10(h,f)),f=0)}return o}static decodeBase900toBase10(s,o){let c=ra(0);for(let d=0;d<o;d++)c+=xe.EXP900[o-d-1]*ra(s[d]);let f=c.toString();if(f.charAt(0)!=="1")throw new F;return f.substring(1)}}xe.TEXT_COMPACTION_MODE_LATCH=900,xe.BYTE_COMPACTION_MODE_LATCH=901,xe.NUMERIC_COMPACTION_MODE_LATCH=902,xe.BYTE_COMPACTION_MODE_LATCH_6=924,xe.ECI_USER_DEFINED=925,xe.ECI_GENERAL_PURPOSE=926,xe.ECI_CHARSET=927,xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,xe.MACRO_PDF417_TERMINATOR=922,xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,xe.MAX_NUMERIC_CODEWORDS=15,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,xe.PL=25,xe.LL=27,xe.AS=27,xe.ML=28,xe.AL=28,xe.PS=29,xe.PAL=29,xe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,xe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",xe.EXP900=Vm()?rT():[],xe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ct{constructor(){}static decode(s,o,c,f,d,h,x){let w=new $a(s,o,c,f,d),y=null,T=null,O;for(let J=!0;;J=!1){if(o!=null&&(y=Ct.getRowIndicatorColumn(s,w,o,!0,h,x)),f!=null&&(T=Ct.getRowIndicatorColumn(s,w,f,!1,h,x)),O=Ct.merge(y,T),O==null)throw ee.getNotFoundInstance();let re=O.getBoundingBox();if(J&&re!=null&&(re.getMinY()<w.getMinY()||re.getMaxY()>w.getMaxY()))w=re;else break}O.setBoundingBox(w);let P=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,y),O.setDetectionResultColumn(P,T);let z=y!=null;for(let J=1;J<=P;J++){let re=z?J:P-J;if(O.getDetectionResultColumn(re)!==void 0)continue;let fe;re===0||re===P?fe=new Lm(w,re===0):fe=new cc(w),O.setDetectionResultColumn(re,fe);let me=-1,Me=me;for(let je=w.getMinY();je<=w.getMaxY();je++){if(me=Ct.getStartColumn(O,re,je,z),me<0||me>w.getMaxX()){if(Me===-1)continue;me=Me}let Ie=Ct.detectCodeword(s,w.getMinX(),w.getMaxX(),z,me,je,h,x);Ie!=null&&(fe.setCodeword(je,Ie),Me=me,h=Math.min(h,Ie.getWidth()),x=Math.max(x,Ie.getWidth()))}}return Ct.createDecoderResult(O)}static merge(s,o){if(s==null&&o==null)return null;let c=Ct.getBarcodeMetadata(s,o);if(c==null)return null;let f=$a.merge(Ct.adjustBoundingBox(s),Ct.adjustBoundingBox(o));return new fc(c,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=Ct.getMax(o),f=0;for(let x of o)if(f+=c-x,x>0)break;let d=s.getCodewords();for(let x=0;f>0&&d[x]==null;x++)f--;let h=0;for(let x=o.length-1;x>=0&&(h+=c-o[x],!(o[x]>0));x--);for(let x=d.length-1;h>0&&d[x]==null;x--)h--;return s.getBoundingBox().addMissingRows(f,h,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,f,d,h){let x=new Lm(o,f);for(let w=0;w<2;w++){let y=w===0?1:-1,T=Math.trunc(Math.trunc(c.getX()));for(let O=Math.trunc(Math.trunc(c.getY()));O<=o.getMaxY()&&O>=o.getMinY();O+=y){let P=Ct.detectCodeword(s,0,s.getWidth(),f,T,O,d,h);P!=null&&(x.setCodeword(O,P),f?T=P.getStartX():T=P.getEndX())}}return x}static adjustCodewordCount(s,o){let c=o[0][1],f=c.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Ct.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(d<1||d>st.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();c.setValue(d)}else f[0]!==d&&c.setValue(d)}static createDecoderResult(s){let o=Ct.createBarcodeMatrix(s);Ct.adjustCodewordCount(s,o);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],h=new Array;for(let w=0;w<s.getBarcodeRowCount();w++)for(let y=0;y<s.getBarcodeColumnCount();y++){let T=o[w][y+1].getValue(),O=w*s.getBarcodeColumnCount()+y;T.length===0?c.push(O):T.length===1?f[O]=T[0]:(h.push(O),d.push(T))}let x=new Array(d.length);for(let w=0;w<x.length;w++)x[w]=d[w];return Ct.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,st.toIntArray(c),st.toIntArray(h),x)}static createDecoderResultFromAmbiguousValues(s,o,c,f,d){let h=new Int32Array(f.length),x=100;for(;x-- >0;){for(let w=0;w<h.length;w++)o[f[w]]=d[w][h[w]];try{return Ct.decodeCodewords(o,s,c)}catch(w){if(!(w instanceof E))throw w}if(h.length===0)throw E.getChecksumInstance();for(let w=0;w<h.length;w++)if(h[w]<d[w].length-1){h[w]++;break}else if(h[w]=0,w===h.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let d=0;d<o[f].length;d++)o[f][d]=new uc;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let d of f.getCodewords())if(d!=null){let h=d.getRowNumber();if(h>=0){if(h>=o.length)continue;o[h][c].setValue(d.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,f){let d=f?1:-1,h=null;if(Ct.isValidBarcodeColumn(s,o-d)&&(h=s.getDetectionResultColumn(o-d).getCodeword(c)),h!=null)return f?h.getEndX():h.getStartX();if(h=s.getDetectionResultColumn(o).getCodewordNearby(c),h!=null)return f?h.getStartX():h.getEndX();if(Ct.isValidBarcodeColumn(s,o-d)&&(h=s.getDetectionResultColumn(o-d).getCodewordNearby(c)),h!=null)return f?h.getEndX():h.getStartX();let x=0;for(;Ct.isValidBarcodeColumn(s,o-d);){o-=d;for(let w of s.getDetectionResultColumn(o).getCodewords())if(w!=null)return(f?w.getEndX():w.getStartX())+d*x*(w.getEndX()-w.getStartX());x++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,f,d,h,x,w){d=Ct.adjustCodewordStartColumn(s,o,c,f,d,h);let y=Ct.getModuleBitCount(s,o,c,f,d,h);if(y==null)return null;let T,O=ot.sum(y);if(f)T=d+O;else{for(let J=0;J<y.length/2;J++){let re=y[J];y[J]=y[y.length-1-J],y[y.length-1-J]=re}T=d,d=T-O}if(!Ct.checkCodewordSkew(O,x,w))return null;let P=Kn.getDecodedValue(y),z=st.getCodeword(P);return z===-1?null:new dc(d,T,Ct.getCodewordBucketNumber(P),z)}static getModuleBitCount(s,o,c,f,d,h){let x=d,w=new Int32Array(8),y=0,T=f?1:-1,O=f;for(;(f?x<c:x>=o)&&y<w.length;)s.get(x,h)===O?(w[y]++,x+=T):(y++,O=!O);return y===w.length||x===(f?c:o)&&y===w.length-1?w:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,f,d,h){let x=d,w=f?-1:1;for(let y=0;y<2;y++){for(;(f?x>=o:x<c)&&f===s.get(x,h);){if(Math.abs(d-x)>Ct.CODEWORD_SKEW_SIZE)return d;x+=w}w=-w,f=!f}return x}static checkCodewordSkew(s,o,c){return o-Ct.CODEWORD_SKEW_SIZE<=s&&s<=c+Ct.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw F.getFormatInstance();let f=1<<o+1,d=Ct.correctErrors(s,c,f);Ct.verifyCodewordCount(s,f);let h=xe.decode(s,""+o);return h.setErrorsCorrected(d),h.setErasures(c.length),h}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+Ct.MAX_ERRORS||c<0||c>Ct.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Ct.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw F.getFormatInstance();let c=s[0];if(c>s.length)throw F.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw F.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,f=o.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Ct.getCodewordBucketNumber(Ct.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new lc;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let d=s[c][f];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}Ct.CODEWORD_SKEW_SIZE=2,Ct.MAX_ERRORS=3,Ct.MAX_EC_CODEWORDS=512,Ct.errorCorrection=new Bm;class un{decode(s,o=null){let c=un.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw ee.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return un.decode(s,o,!0)}catch(c){throw c instanceof F||c instanceof E?ee.getNotFoundInstance():c}}static decode(s,o,c){const f=new Array,d=wt.detectMultiple(s,o,c);for(const h of d.getPoints()){const x=Ct.decode(d.getBits(),h[4],h[5],h[6],h[7],un.getMinCodewordWidth(h),un.getMaxCodewordWidth(h)),w=new K(x.getText(),x.getRawBytes(),void 0,h,ae.PDF_417);w.putMetadata(Ve.ERROR_CORRECTION_LEVEL,x.getECLevel());const y=x.getOther();y!=null&&w.putMetadata(Ve.PDF417_EXTRA_METADATA,y),f.push(w)}return f.map(h=>h)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?S.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(un.getMaxWidth(s[0],s[4]),un.getMaxWidth(s[6],s[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.max(un.getMaxWidth(s[1],s[5]),un.getMaxWidth(s[7],s[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(un.getMinWidth(s[0],s[4]),un.getMinWidth(s[6],s[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.min(un.getMinWidth(s[1],s[5]),un.getMinWidth(s[7],s[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}reset(){}}class Eu extends p{}Eu.kind="ReaderException";class Hm{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!n(s)&&s.get(G.TRY_HARDER)===!0,c=n(s)?null:s.get(G.POSSIBLE_FORMATS),f=new Array;if(!n(c)){const d=c.some(h=>h===ae.UPC_A||h===ae.UPC_E||h===ae.EAN_13||h===ae.EAN_8||h===ae.CODABAR||h===ae.CODE_39||h===ae.CODE_93||h===ae.CODE_128||h===ae.ITF||h===ae.RSS_14||h===ae.RSS_EXPANDED);d&&!o&&f.push(new Si(s,this.verbose)),c.includes(ae.QR_CODE)&&f.push(new ta),c.includes(ae.DATA_MATRIX)&&f.push(new ea),c.includes(ae.AZTEC)&&f.push(new Kt),c.includes(ae.PDF_417)&&f.push(new un),d&&o&&f.push(new Si(s,this.verbose))}f.length===0&&(o||f.push(new Si(s,this.verbose)),f.push(new ta),f.push(new ea),f.push(new Kt),f.push(new un),o&&f.push(new Si(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Eu("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof Eu)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class nT extends se{constructor(s=null,o=500){const c=new Hm;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class iT extends se{constructor(s=500){super(new un,s)}}class sT extends se{constructor(s=500){super(new ta,s)}}var yh;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(yh||(yh={}));var Hr=yh;class _h{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new et(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const f=this.field;for(let d=o.length;d<=s;d++){const h=c.multiply(new et(f,Int32Array.from([1,f.exp(d-1+f.getGeneratorBase())])));o.push(h),c=h}}return o[s]}encode(s,o){if(o===0)throw new v("No error correction bytes");const c=s.length-o;if(c<=0)throw new v("No data bytes provided");const f=this.buildGenerator(o),d=new Int32Array(c);C.arraycopy(s,0,d,0,c);let h=new et(this.field,d);h=h.multiplyByMonomial(o,1);const w=h.divide(f)[1].getCoefficients(),y=o-w.length;for(let T=0;T<y;T++)s[c+T]=0;C.arraycopy(w,0,s,c+y,w.length)}}class Ar{constructor(){}static applyMaskPenaltyRule1(s){return Ar.applyMaskPenaltyRule1Internal(s,!0)+Ar.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),f=s.getWidth(),d=s.getHeight();for(let h=0;h<d-1;h++){const x=c[h];for(let w=0;w<f-1;w++){const y=x[w];y===x[w+1]&&y===c[h+1][w]&&y===c[h+1][w+1]&&o++}}return Ar.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),f=s.getWidth(),d=s.getHeight();for(let h=0;h<d;h++)for(let x=0;x<f;x++){const w=c[h];x+6<f&&w[x]===1&&w[x+1]===0&&w[x+2]===1&&w[x+3]===1&&w[x+4]===1&&w[x+5]===0&&w[x+6]===1&&(Ar.isWhiteHorizontal(w,x-4,x)||Ar.isWhiteHorizontal(w,x+7,x+11))&&o++,h+6<d&&c[h][x]===1&&c[h+1][x]===0&&c[h+2][x]===1&&c[h+3][x]===1&&c[h+4][x]===1&&c[h+5][x]===0&&c[h+6][x]===1&&(Ar.isWhiteVertical(c,x,h-4,h)||Ar.isWhiteVertical(c,x,h+7,h+11))&&o++}return o*Ar.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let f=o;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let d=c;d<f;d++)if(s[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),f=s.getWidth(),d=s.getHeight();for(let w=0;w<d;w++){const y=c[w];for(let T=0;T<f;T++)y[T]===1&&o++}const h=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-h)*10/h)*Ar.N4}static getDataMaskBit(s,o,c){let f,d;switch(s){case 0:f=c+o&1;break;case 1:f=c&1;break;case 2:f=o%3;break;case 3:f=(c+o)%3;break;case 4:f=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:d=c*o,f=(d&1)+d%3;break;case 6:d=c*o,f=(d&1)+d%3&1;break;case 7:d=c*o,f=d%3+(c+o&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const f=o?s.getHeight():s.getWidth(),d=o?s.getWidth():s.getHeight(),h=s.getArray();for(let x=0;x<f;x++){let w=0,y=-1;for(let T=0;T<d;T++){const O=o?h[x][T]:h[T][x];O===y?w++:(w>=5&&(c+=Ar.N1+(w-5)),w=1,y=O)}w>=5&&(c+=Ar.N1+(w-5))}return c}}Ar.N1=3,Ar.N2=3,Ar.N3=40,Ar.N4=10;class Cu{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let f=0;f!==o;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)k.fill(o,s)}equals(s){if(!(s instanceof Cu))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,f=this.height;c<f;++c){const d=this.bytes[c],h=o.bytes[c];for(let x=0,w=this.width;x<w;++x)if(d[x]!==h[x])return!1}return!0}toString(){const s=new _e;for(let o=0,c=this.height;o<c;++o){const f=this.bytes[o];for(let d=0,h=this.width;d<h;++d)switch(f[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Ya{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new _e;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Ya.NUM_MASK_PATTERNS}}Ya.NUM_MASK_PATTERNS=8;class Jt extends p{}Jt.kind="WriterException";class rt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,f,d){rt.clearMatrix(d),rt.embedBasicPatterns(c,d),rt.embedTypeInfo(o,f,d),rt.maybeEmbedVersionInfo(c,d),rt.embedDataBits(s,f,d)}static embedBasicPatterns(s,o){rt.embedPositionDetectionPatternsAndSeparators(o),rt.embedDarkDotAtLeftBottomCorner(o),rt.maybeEmbedPositionAdjustmentPatterns(s,o),rt.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const f=new L;rt.makeTypeInfoBits(s,o,f);for(let d=0,h=f.getSize();d<h;++d){const x=f.get(f.getSize()-1-d),w=rt.TYPE_INFO_COORDINATES[d],y=w[0],T=w[1];if(c.setBoolean(y,T,x),d<8){const O=c.getWidth()-d-1;c.setBoolean(O,8,x)}else{const P=c.getHeight()-7+(d-8);c.setBoolean(8,P,x)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new L;rt.makeVersionInfoBits(s,c);let f=6*3-1;for(let d=0;d<6;++d)for(let h=0;h<3;++h){const x=c.get(f);f--,o.setBoolean(d,o.getHeight()-11+h,x),o.setBoolean(o.getHeight()-11+h,d,x)}}static embedDataBits(s,o,c){let f=0,d=-1,h=c.getWidth()-1,x=c.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);x>=0&&x<c.getHeight();){for(let w=0;w<2;++w){const y=h-w;if(!rt.isEmpty(c.get(y,x)))continue;let T;f<s.getSize()?(T=s.get(f),++f):T=!1,o!==255&&Ar.getDataMaskBit(o,y,x)&&(T=!T),c.setBoolean(y,x,T)}x+=d}d=-d,x+=d,h-=2}if(f!==s.getSize())throw new Jt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-S.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new v("0 polynomial");const c=rt.findMSBSet(o);for(s<<=c-1;rt.findMSBSet(s)>=c;)s^=o<<rt.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!Ya.isValidMaskPattern(o))throw new Jt("Invalid mask pattern");const f=s.getBits()<<3|o;c.appendBits(f,5);const d=rt.calculateBCHCode(f,rt.TYPE_INFO_POLY);c.appendBits(d,10);const h=new L;if(h.appendBits(rt.TYPE_INFO_MASK_PATTERN,15),c.xor(h),c.getSize()!==15)throw new Jt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=rt.calculateBCHCode(s.getVersionNumber(),rt.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new Jt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;rt.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),rt.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Jt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let f=0;f<8;++f){if(!rt.isEmpty(c.get(s+f,o)))throw new Jt;c.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let f=0;f<7;++f){if(!rt.isEmpty(c.get(s,o+f)))throw new Jt;c.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let f=0;f<5;++f){const d=rt.POSITION_ADJUSTMENT_PATTERN[f];for(let h=0;h<5;++h)c.setNumber(s+h,o+f,d[h])}}static embedPositionDetectionPattern(s,o,c){for(let f=0;f<7;++f){const d=rt.POSITION_DETECTION_PATTERN[f];for(let h=0;h<7;++h)c.setNumber(s+h,o+f,d[h])}}static embedPositionDetectionPatternsAndSeparators(s){const o=rt.POSITION_DETECTION_PATTERN[0].length;rt.embedPositionDetectionPattern(0,0,s),rt.embedPositionDetectionPattern(s.getWidth()-o,0,s),rt.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;rt.embedHorizontalSeparationPattern(0,c-1,s),rt.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),rt.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;rt.embedVerticalSeparationPattern(f,0,s),rt.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),rt.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let d=0,h=f.length;d!==h;d++){const x=f[d];if(x>=0)for(let w=0;w!==h;w++){const y=f[w];y>=0&&rt.isEmpty(o.get(y,x))&&rt.embedPositionAdjustmentPattern(y-2,x-2,o)}}}}rt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),rt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),rt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),rt.VERSION_INFO_POLY=7973,rt.TYPE_INFO_POLY=1335,rt.TYPE_INFO_MASK_PATTERN=21522;class aT{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class dr{constructor(){}static calculateMaskPenalty(s){return Ar.applyMaskPenaltyRule1(s)+Ar.applyMaskPenaltyRule2(s)+Ar.applyMaskPenaltyRule3(s)+Ar.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let f=dr.DEFAULT_BYTE_MODE_ENCODING;const d=c!==null&&c.get(Hr.CHARACTER_SET)!==void 0;d&&(f=c.get(Hr.CHARACTER_SET).toString());const h=this.chooseMode(s,f),x=new L;if(h===Je.BYTE&&(d||dr.DEFAULT_BYTE_MODE_ENCODING!==f)){const je=W.getCharacterSetECIByName(f);je!==void 0&&this.appendECI(je,x)}this.appendModeInfo(h,x);const w=new L;this.appendBytes(s,h,w,f);let y;if(c!==null&&c.get(Hr.QR_VERSION)!==void 0){const je=Number.parseInt(c.get(Hr.QR_VERSION).toString(),10);y=Qe.getVersionForNumber(je);const Ie=this.calculateBitsNeeded(h,x,w,y);if(!this.willFit(Ie,y,o))throw new Jt("Data too big for requested version")}else y=this.recommendVersion(o,h,x,w);const T=new L;T.appendBitArray(x);const O=h===Je.BYTE?w.getSizeInBytes():s.length;this.appendLengthInfo(O,y,h,T),T.appendBitArray(w);const P=y.getECBlocksForLevel(o),z=y.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(z,T);const J=this.interleaveWithECBytes(T,y.getTotalCodewords(),z,P.getNumBlocks()),re=new Ya;re.setECLevel(o),re.setMode(h),re.setVersion(y);const fe=y.getDimensionForVersion(),me=new Cu(fe,fe),Me=this.chooseMaskPattern(J,o,y,me);return re.setMaskPattern(Me),rt.buildMatrix(J,o,y,Me,me),re.setMatrix(me),re}static recommendVersion(s,o,c,f){const d=this.calculateBitsNeeded(o,c,f,Qe.getVersionForNumber(1)),h=this.chooseVersion(d,s),x=this.calculateBitsNeeded(o,c,f,h);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,o,c,f){return o.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<dr.ALPHANUMERIC_TABLE.length?dr.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(W.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return Je.KANJI;let c=!1,f=!1;for(let d=0,h=s.length;d<h;++d){const x=s.charAt(d);if(dr.isDigit(x))c=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)f=!0;else return Je.BYTE}return f?Je.ALPHANUMERIC:c?Je.NUMERIC:Je.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=le.encode(s,W.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const d=o[f]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,o,c,f){let d=Number.MAX_SAFE_INTEGER,h=-1;for(let x=0;x<Ya.NUM_MASK_PATTERNS;x++){rt.buildMatrix(s,o,c,x,f);let w=this.calculateMaskPenalty(f);w<d&&(d=w,h=x)}return h}static chooseVersion(s,o){for(let c=1;c<=40;c++){const f=Qe.getVersionForNumber(c);if(dr.willFit(s,f,o))return f}throw new Jt("Data too big")}static willFit(s,o,c){const f=o.getTotalCodewords(),h=o.getECBlocksForLevel(c).getTotalECCodewords(),x=f-h,w=(s+7)/8;return x>=w}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new Jt("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let h=0;h<4&&o.getSize()<c;++h)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let h=f;h<8;h++)o.appendBit(!1);const d=s-o.getSizeInBytes();for(let h=0;h<d;++h)o.appendBits(h&1?17:236,8);if(o.getSize()!==c)throw new Jt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,f,d,h){if(f>=c)throw new Jt("Block ID too large");const x=s%c,w=c-x,y=Math.floor(s/c),T=y+1,O=Math.floor(o/c),P=O+1,z=y-O,J=T-P;if(z!==J)throw new Jt("EC bytes mismatch");if(c!==w+x)throw new Jt("RS blocks mismatch");if(s!==(O+z)*w+(P+J)*x)throw new Jt("Total bytes mismatch");f<w?(d[0]=O,h[0]=z):(d[0]=P,h[0]=J)}static interleaveWithECBytes(s,o,c,f){if(s.getSizeInBytes()!==c)throw new Jt("Number of bits and data bytes does not match");let d=0,h=0,x=0;const w=new Array;for(let T=0;T<f;++T){const O=new Int32Array(1),P=new Int32Array(1);dr.getNumDataBytesAndNumECBytesForBlockID(o,c,f,T,O,P);const z=O[0],J=new Uint8Array(z);s.toBytes(8*d,J,0,z);const re=dr.generateECBytes(J,P[0]);w.push(new aT(J,re)),h=Math.max(h,z),x=Math.max(x,re.length),d+=O[0]}if(c!==d)throw new Jt("Data bytes does not match offset");const y=new L;for(let T=0;T<h;++T)for(const O of w){const P=O.getDataBytes();T<P.length&&y.appendBits(P[T],8)}for(let T=0;T<x;++T)for(const O of w){const P=O.getErrorCorrectionBytes();T<P.length&&y.appendBits(P[T],8)}if(o!==y.getSizeInBytes())throw new Jt("Interleaving error: "+o+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(s,o){const c=s.length,f=new Int32Array(c+o);for(let h=0;h<c;h++)f[h]=s[h]&255;new _h(qe.QR_CODE_FIELD_256).encode(f,o);const d=new Uint8Array(o);for(let h=0;h<o;h++)d[h]=f[c+h];return d}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,f){const d=c.getCharacterCountBits(o);if(s>=1<<d)throw new Jt(s+" is bigger than "+((1<<d)-1));f.appendBits(s,d)}static appendBytes(s,o,c,f){switch(o){case Je.NUMERIC:dr.appendNumericBytes(s,c);break;case Je.ALPHANUMERIC:dr.appendAlphanumericBytes(s,c);break;case Je.BYTE:dr.append8BitBytes(s,c,f);break;case Je.KANJI:dr.appendKanjiBytes(s,c);break;default:throw new Jt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=dr.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const d=dr.getDigit(s.charAt(f));if(f+2<c){const h=dr.getDigit(s.charAt(f+1)),x=dr.getDigit(s.charAt(f+2));o.appendBits(d*100+h*10+x,10),f+=3}else if(f+1<c){const h=dr.getDigit(s.charAt(f+1));o.appendBits(d*10+h,7),f+=2}else o.appendBits(d,4),f++}}static appendAlphanumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const d=dr.getAlphanumericCode(s.charCodeAt(f));if(d===-1)throw new Jt;if(f+1<c){const h=dr.getAlphanumericCode(s.charCodeAt(f+1));if(h===-1)throw new Jt;o.appendBits(d*45+h,11),f+=2}else o.appendBits(d,6),f++}}static append8BitBytes(s,o,c){let f;try{f=le.encode(s,c)}catch(d){throw new Jt(d)}for(let d=0,h=f.length;d!==h;d++){const x=f[d];o.appendBits(x,8)}}static appendKanjiBytes(s,o){let c;try{c=le.encode(s,W.SJIS)}catch(d){throw new Jt(d)}const f=c.length;for(let d=0;d<f;d+=2){const h=c[d]&255,x=c[d+1]&255,w=h<<8&4294967295|x;let y=-1;if(w>=33088&&w<=40956?y=w-33088:w>=57408&&w<=60351&&(y=w-49472),y===-1)throw new Jt("Invalid byte sequence");const T=(y>>8)*192+(y&255);o.appendBits(T,13)}}static appendECI(s,o){o.appendBits(Je.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}dr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),dr.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Ka{write(s,o,c,f=null){if(s.length===0)throw new v("Found empty contents");if(o<0||c<0)throw new v("Requested dimensions are too small: "+o+"x"+c);let d=rr.L,h=Ka.QUIET_ZONE_SIZE;f!==null&&(f.get(Hr.ERROR_CORRECTION)!==void 0&&(d=rr.fromString(f.get(Hr.ERROR_CORRECTION).toString())),f.get(Hr.MARGIN)!==void 0&&(h=Number.parseInt(f.get(Hr.MARGIN).toString(),10)));const x=dr.encode(s,d,f);return this.renderResult(x,o,c,h)}writeToDom(s,o,c,f,d=null){typeof s=="string"&&(s=document.querySelector(s));const h=this.write(o,c,f,d);s&&s.appendChild(h)}renderResult(s,o,c,f){const d=s.getMatrix();if(d===null)throw new ht;const h=d.getWidth(),x=d.getHeight(),w=h+f*2,y=x+f*2,T=Math.max(o,w),O=Math.max(c,y),P=Math.min(Math.floor(T/w),Math.floor(O/y)),z=Math.floor((T-h*P)/2),J=Math.floor((O-x*P)/2),re=this.createSVGElement(T,O);for(let fe=0,me=J;fe<x;fe++,me+=P)for(let Me=0,je=z;Me<h;Me++,je+=P)if(d.get(Me,fe)===1){const Ie=this.createSvgRectElement(je,me,P,P);re.appendChild(Ie)}return re}createSVGElement(s,o){const c=document.createElementNS(Ka.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,f){const d=document.createElementNS(Ka.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",c.toString()),d.setAttributeNS(null,"width",f.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Ka.QUIET_ZONE_SIZE=4,Ka.SVG_NS="http://www.w3.org/2000/svg";class Go{encode(s,o,c,f,d){if(s.length===0)throw new v("Found empty contents");if(o!==ae.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(c<0||f<0)throw new v(`Requested dimensions are too small: ${c}x${f}`);let h=rr.L,x=Go.QUIET_ZONE_SIZE;d!==null&&(d.get(Hr.ERROR_CORRECTION)!==void 0&&(h=rr.fromString(d.get(Hr.ERROR_CORRECTION).toString())),d.get(Hr.MARGIN)!==void 0&&(x=Number.parseInt(d.get(Hr.MARGIN).toString(),10)));const w=dr.encode(s,h,d);return Go.renderResult(w,c,f,x)}static renderResult(s,o,c,f){const d=s.getMatrix();if(d===null)throw new ht;const h=d.getWidth(),x=d.getHeight(),w=h+f*2,y=x+f*2,T=Math.max(o,w),O=Math.max(c,y),P=Math.min(Math.floor(T/w),Math.floor(O/y)),z=Math.floor((T-h*P)/2),J=Math.floor((O-x*P)/2),re=new Se(T,O);for(let fe=0,me=J;fe<x;fe++,me+=P)for(let Me=0,je=z;Me<h;Me++,je+=P)d.get(Me,fe)===1&&re.setRegion(je,me,P,P);return re}}Go.QUIET_ZONE_SIZE=4;class oT{encode(s,o,c,f,d){let h;switch(o){case ae.QR_CODE:h=new Go;break;default:throw new v("No encoder available for format "+o)}return h.encode(s,o,c,f,d)}}class us extends Ae{constructor(s,o,c,f,d,h,x,w){if(super(h,x),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=f,this.top=d,f+h>o||d+x>c)throw new v("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(h,x)}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,f=new Uint8ClampedArray(c);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return C.arraycopy(this.yuvData,d,f,0,c),f;for(let h=0;h<o;h++){const x=h*s;C.arraycopy(this.yuvData,d,f,x,s),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new us(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,f,!1)}renderThumbnail(){const s=this.getWidth()/us.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/us.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),f=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let h=0;h<o;h++){const x=h*s;for(let w=0;w<s;w++){const y=f[d+w*us.THUMBNAIL_SCALE_FACTOR]&255;c[x+w]=4278190080|y*65793}d+=this.dataWidth*us.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/us.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/us.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let f=0,d=this.top*this.dataWidth+this.left;f<o;f++,d+=this.dataWidth){const h=d+s/2;for(let x=d,w=d+s-1;x<h;x++,w--){const y=c[x];c[x]=c[w],c[w]=y}}}invert(){return new ne(this)}}us.THUMBNAIL_SCALE_FACTOR=2;class Eh extends Ae{constructor(s,o,c,f,d,h,x){if(super(o,c),this.dataWidth=f,this.dataHeight=d,this.left=h,this.top=x,s.BYTES_PER_ELEMENT===4){const w=o*c,y=new Uint8ClampedArray(w);for(let T=0;T<w;T++){const O=s[T],P=O>>16&255,z=O>>7&510,J=O&255;y[T]=(P+z+J)/4&255}this.luminances=y}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=c),h===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,f=new Uint8ClampedArray(c);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return C.arraycopy(this.luminances,d,f,0,c),f;for(let h=0;h<o;h++){const x=h*s;C.arraycopy(this.luminances,d,f,x,s),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new Eh(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new ne(this)}}class zm extends W{static forName(s){return this.getCharacterSetECIByName(s)}}class Ch{}Ch.ISO_8859_1=W.ISO8859_1;class Gm{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Xm{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class lT{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Xo extends lT{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Xo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Xo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+S.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Ah extends Xo{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new Ah(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function cT(N,s,o){return new Ah(N,s,o)}function hc(N,s,o){return new Xo(N,s,o)}const uT=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],na=0,Au=1,bi=2,$m=3,fs=4,fT=new Xo(null,0,0),Sh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function dT(N){for(let s of N)k.fill(s,-1);return N[na][fs]=0,N[Au][fs]=0,N[Au][na]=28,N[$m][fs]=0,N[bi][fs]=0,N[bi][na]=15,N}const Ym=dT(k.createInt32Array(6,6));class ds{constructor(s,o,c,f){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,f=this.token;if(s!==this.mode){let h=Sh[this.mode][s];f=hc(f,h&65535,h>>16),c+=h>>16}let d=s===bi?4:5;return f=hc(f,o,d),new ds(f,s,0,c+d)}shiftAndAppend(s,o){let c=this.token,f=this.mode===bi?4:5;return c=hc(c,Ym[this.mode][s],f),c=hc(c,o,5),new ds(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,f=this.bitCount;if(this.mode===fs||this.mode===bi){let x=Sh[c][na];o=hc(o,x&65535,x>>16),f+=x>>16,c=na}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new ds(o,c,this.binaryShiftByteCount+1,f+d);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(s+1)),h}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=cT(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new ds(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Sh[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=ds.calculateBinaryShiftCost(s)-ds.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let c=new L;for(const f of o)f.appendTo(c,s);return c}toString(){return Q.format("%s bits=%d bytes=%d",uT[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}ds.INITIAL_STATE=new ds(fT,na,0,0);function hT(N){const s=Q.getCharCode(" "),o=Q.getCharCode("."),c=Q.getCharCode(",");N[na][s]=1;const f=Q.getCharCode("Z"),d=Q.getCharCode("A");for(let P=d;P<=f;P++)N[na][P]=P-d+2;N[Au][s]=1;const h=Q.getCharCode("z"),x=Q.getCharCode("a");for(let P=x;P<=h;P++)N[Au][P]=P-x+2;N[bi][s]=1;const w=Q.getCharCode("9"),y=Q.getCharCode("0");for(let P=y;P<=w;P++)N[bi][P]=P-y+2;N[bi][c]=12,N[bi][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<T.length;P++)N[$m][Q.getCharCode(T[P])]=P;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<O.length;P++)Q.getCharCode(O[P])>0&&(N[fs][Q.getCharCode(O[P])]=P);return N}const Th=hT(k.createInt32Array(5,256));class gc{constructor(s){this.text=s}encode(){const s=Q.getCharCode(" "),o=Q.getCharCode(`
`);let c=Xm.singletonList(ds.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let h,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Q.getCharCode("\r"):h=x===o?2:0;break;case Q.getCharCode("."):h=x===s?3:0;break;case Q.getCharCode(","):h=x===s?4:0;break;case Q.getCharCode(":"):h=x===s?5:0;break;default:h=0}h>0?(c=gc.updateStateListForPair(c,d,h),d++):c=this.updateStateListForChar(c,d)}return Xm.min(c,(d,h)=>d.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let f of s)this.updateStateForChar(f,o,c);return gc.simplifyStates(c)}updateStateForChar(s,o,c){let f=this.text[o]&255,d=Th[s.getMode()][f]>0,h=null;for(let x=0;x<=fs;x++){let w=Th[x][f];if(w>0){if(h==null&&(h=s.endBinaryShift(o)),!d||x===s.getMode()||x===bi){const y=h.latchAndAppend(x,w);c.push(y)}if(!d&&Ym[s.getMode()][x]>=0){const y=h.shiftAndAppend(x,w);c.push(y)}}}if(s.getBinaryShiftByteCount()>0||Th[s.getMode()][f]===0){let x=s.addBinaryShiftChar(o);c.push(x)}}static updateStateListForPair(s,o,c){const f=[];for(let d of s)this.updateStateForPair(d,o,c,f);return this.simplifyStates(f)}static updateStateForPair(s,o,c,f){let d=s.endBinaryShift(o);if(f.push(d.latchAndAppend(fs,c)),s.getMode()!==fs&&f.push(d.shiftAndAppend(fs,c)),c===3||c===4){let h=d.latchAndAppend(bi,16-c).latchAndAppend(bi,1);f.push(h)}if(s.getBinaryShiftByteCount()>0){let h=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(h)}}static simplifyStates(s){let o=[];for(const c of s){let f=!0;for(const d of o){if(d.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(d)&&(o=o.filter(h=>h!==d))}f&&o.push(c)}return o}}class Mt{constructor(){}static encodeBytes(s){return Mt.encode(s,Mt.DEFAULT_EC_PERCENT,Mt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let f=new gc(s).encode(),d=S.truncDivision(f.getSize()*o,100)+11,h=f.getSize()+d,x,w,y,T,O;if(c!==Mt.DEFAULT_AZTEC_LAYERS){if(x=c<0,w=Math.abs(c),w>(x?Mt.MAX_NB_BITS_COMPACT:Mt.MAX_NB_BITS))throw new v(Q.format("Illegal value %s for layers",c));y=Mt.totalBitsInLayer(w,x),T=Mt.WORD_SIZE[w];let Ie=y-y%T;if(O=Mt.stuffBits(f,T),O.getSize()+d>Ie)throw new v("Data to large for user specified layer");if(x&&O.getSize()>T*64)throw new v("Data to large for user specified layer")}else{T=0,O=null;for(let Ie=0;;Ie++){if(Ie>Mt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=Ie<=3,w=x?Ie+1:Ie,y=Mt.totalBitsInLayer(w,x),h>y)continue;(O==null||T!==Mt.WORD_SIZE[w])&&(T=Mt.WORD_SIZE[w],O=Mt.stuffBits(f,T));let bt=y-y%T;if(!(x&&O.getSize()>T*64)&&O.getSize()+d<=bt)break}}let P=Mt.generateCheckWords(O,y,T),z=O.getSize()/T,J=Mt.generateModeMessage(x,w,z),re=(x?11:14)+w*4,fe=new Int32Array(re),me;if(x){me=re;for(let Ie=0;Ie<fe.length;Ie++)fe[Ie]=Ie}else{me=re+1+2*S.truncDivision(S.truncDivision(re,2)-1,15);let Ie=S.truncDivision(re,2),bt=S.truncDivision(me,2);for(let xt=0;xt<Ie;xt++){let qn=xt+S.truncDivision(xt,15);fe[Ie-xt-1]=bt-qn-1,fe[Ie+xt]=bt+qn+1}}let Me=new Se(me);for(let Ie=0,bt=0;Ie<w;Ie++){let xt=(w-Ie)*4+(x?9:12);for(let qn=0;qn<xt;qn++){let Gi=qn*2;for(let Zn=0;Zn<2;Zn++)P.get(bt+Gi+Zn)&&Me.set(fe[Ie*2+Zn],fe[Ie*2+qn]),P.get(bt+xt*2+Gi+Zn)&&Me.set(fe[Ie*2+qn],fe[re-1-Ie*2-Zn]),P.get(bt+xt*4+Gi+Zn)&&Me.set(fe[re-1-Ie*2-Zn],fe[re-1-Ie*2-qn]),P.get(bt+xt*6+Gi+Zn)&&Me.set(fe[re-1-Ie*2-qn],fe[Ie*2+Zn])}bt+=xt*8}if(Mt.drawModeMessage(Me,x,me,J),x)Mt.drawBullsEye(Me,S.truncDivision(me,2),5);else{Mt.drawBullsEye(Me,S.truncDivision(me,2),7);for(let Ie=0,bt=0;Ie<S.truncDivision(re,2)-1;Ie+=15,bt+=16)for(let xt=S.truncDivision(me,2)&1;xt<me;xt+=2)Me.set(S.truncDivision(me,2)-bt,xt),Me.set(S.truncDivision(me,2)+bt,xt),Me.set(xt,S.truncDivision(me,2)-bt),Me.set(xt,S.truncDivision(me,2)+bt)}let je=new Gm;return je.setCompact(x),je.setSize(me),je.setLayers(w),je.setCodeWords(z),je.setMatrix(Me),je}static drawBullsEye(s,o,c){for(let f=0;f<c;f+=2)for(let d=o-f;d<=o+f;d++)s.set(d,o-f),s.set(d,o+f),s.set(o-f,d),s.set(o+f,d);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let f=new L;return s?(f.appendBits(o-1,2),f.appendBits(c-1,6),f=Mt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(c-1,11),f=Mt.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,c,f){let d=S.truncDivision(c,2);if(o)for(let h=0;h<7;h++){let x=d-3+h;f.get(h)&&s.set(x,d-5),f.get(h+7)&&s.set(d+5,x),f.get(20-h)&&s.set(x,d+5),f.get(27-h)&&s.set(d-5,x)}else for(let h=0;h<10;h++){let x=d-5+h+S.truncDivision(h,5);f.get(h)&&s.set(x,d-7),f.get(h+10)&&s.set(d+7,x),f.get(29-h)&&s.set(x,d+7),f.get(39-h)&&s.set(d-7,x)}}static generateCheckWords(s,o,c){let f=s.getSize()/c,d=new _h(Mt.getGF(c)),h=S.truncDivision(o,c),x=Mt.bitsToWords(s,c,h);d.encode(x,h-f);let w=o%c,y=new L;y.appendBits(0,w);for(const T of Array.from(x))y.appendBits(T,c);return y}static bitsToWords(s,o,c){let f=new Int32Array(c),d,h;for(d=0,h=s.getSize()/o;d<h;d++){let x=0;for(let w=0;w<o;w++)x|=s.get(d*o+w)?1<<o-w-1:0;f[d]=x}return f}static getGF(s){switch(s){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,o){let c=new L,f=s.getSize(),d=(1<<o)-2;for(let h=0;h<f;h+=o){let x=0;for(let w=0;w<o;w++)(h+w>=f||s.get(h+w))&&(x|=1<<o-1-w);(x&d)===d?(c.appendBits(x&d,o),h--):x&d?c.appendBits(x,o):(c.appendBits(x|1,o),h--)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Mt.DEFAULT_EC_PERCENT=33,Mt.DEFAULT_AZTEC_LAYERS=0,Mt.MAX_NB_BITS=32,Mt.MAX_NB_BITS_COMPACT=4,Mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Su{encode(s,o,c,f){return this.encodeWithHints(s,o,c,f,null)}encodeWithHints(s,o,c,f,d){let h=Ch.ISO_8859_1,x=Mt.DEFAULT_EC_PERCENT,w=Mt.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Hr.CHARACTER_SET)&&(h=zm.forName(d.get(Hr.CHARACTER_SET).toString())),d.has(Hr.ERROR_CORRECTION)&&(x=S.parseInt(d.get(Hr.ERROR_CORRECTION).toString())),d.has(Hr.AZTEC_LAYERS)&&(w=S.parseInt(d.get(Hr.AZTEC_LAYERS).toString()))),Su.encodeLayers(s,o,c,f,h,x,w)}static encodeLayers(s,o,c,f,d,h,x){if(o!==ae.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let w=Mt.encode(Q.getBytes(s,d),h,x);return Su.renderResult(w,c,f)}static renderResult(s,o,c){let f=s.getMatrix();if(f==null)throw new ht;let d=f.getWidth(),h=f.getHeight(),x=Math.max(o,d),w=Math.max(c,h),y=Math.min(x/d,w/h),T=(x-d*y)/2,O=(w-h*y)/2,P=new Se(x,w);for(let z=0,J=O;z<h;z++,J+=y)for(let re=0,fe=T;re<d;re++,fe+=y)f.get(re,z)&&P.setRegion(fe,J,y,y);return P}}r.AbstractExpandedDecoder=j,r.ArgumentException=m,r.ArithmeticException=Y,r.AztecCode=Gm,r.AztecCodeReader=Kt,r.AztecCodeWriter=Su,r.AztecDecoder=Ze,r.AztecDetector=ft,r.AztecDetectorResult=yn,r.AztecEncoder=Mt,r.AztecHighLevelEncoder=gc,r.AztecPoint=Yt,r.BarcodeFormat=ae,r.Binarizer=A,r.BinaryBitmap=_,r.BitArray=L,r.BitMatrix=Se,r.BitSource=ph,r.BrowserAztecCodeReader=_n,r.BrowserBarcodeReader=Xa,r.BrowserCodeReader=se,r.BrowserDatamatrixCodeReader=XS,r.BrowserMultiFormatReader=nT,r.BrowserPDF417Reader=iT,r.BrowserQRCodeReader=sT,r.BrowserQRCodeSvgWriter=Ka,r.CharacterSetECI=W,r.ChecksumException=E,r.Code128Reader=Le,r.Code39Reader=cr,r.DataMatrixDecodedBitStreamParser=Js,r.DataMatrixReader=ea,r.DecodeHintType=G,r.DecoderResult=We,r.DefaultGridSampler=Hi,r.DetectorResult=zt,r.EAN13Reader=zi,r.EncodeHintType=Hr,r.Exception=p,r.FormatException=F,r.GenericGF=qe,r.GenericGFPoly=et,r.GlobalHistogramBinarizer=Be,r.GridSampler=Mr,r.GridSamplerInstance=Qt,r.HTMLCanvasElementLuminanceSource=be,r.HybridBinarizer=Ce,r.ITFReader=Wt,r.IllegalArgumentException=v,r.IllegalStateException=ht,r.InvertedLuminanceSource=ne,r.LuminanceSource=Ae,r.MathUtils=ot,r.MultiFormatOneDReader=Si,r.MultiFormatReader=Hm,r.MultiFormatWriter=oT,r.NotFoundException=ee,r.OneDReader=gt,r.PDF417DecodedBitStreamParser=xe,r.PDF417DecoderErrorCorrection=Bm,r.PDF417Reader=un,r.PDF417ResultMetadata=Um,r.PerspectiveTransform=Er,r.PlanarYUVLuminanceSource=us,r.QRCodeByteMatrix=Cu,r.QRCodeDataMask=Ti,r.QRCodeDecodedBitStreamParser=wr,r.QRCodeDecoderErrorCorrectionLevel=rr,r.QRCodeDecoderFormatInformation=En,r.QRCodeEncoder=dr,r.QRCodeEncoderQRCode=Ya,r.QRCodeMaskUtil=Ar,r.QRCodeMatrixUtil=rt,r.QRCodeMode=Je,r.QRCodeReader=ta,r.QRCodeVersion=Qe,r.QRCodeWriter=Go,r.RGBLuminanceSource=Eh,r.RSS14Reader=yt,r.RSSExpandedReader=ve,r.ReaderException=Eu,r.ReedSolomonDecoder=Ye,r.ReedSolomonEncoder=_h,r.ReedSolomonException=ct,r.Result=K,r.ResultMetadataType=Ve,r.ResultPoint=Xe,r.StringUtils=Q,r.UnsupportedOperationException=oe,r.VideoInputDevice=ce,r.WhiteRectangleDetector=Gt,r.WriterException=Jt,r.ZXingArrays=k,r.ZXingCharset=zm,r.ZXingInteger=S,r.ZXingStandardCharsets=Ch,r.ZXingStringBuilder=_e,r.ZXingStringEncoding=le,r.ZXingSystem=C,r.createAbstractExpandedDecoder=Ue,Object.defineProperty(r,"__esModule",{value:!0})})})(Xg,Xg.exports);var gr=Xg.exports;const wO=jy(gr),vO=Uy({__proto__:null,default:wO},[gr]);var mv=function(){function e(t,r,n){if(this.formatMap=new Map([[$e.QR_CODE,gr.BarcodeFormat.QR_CODE],[$e.AZTEC,gr.BarcodeFormat.AZTEC],[$e.CODABAR,gr.BarcodeFormat.CODABAR],[$e.CODE_39,gr.BarcodeFormat.CODE_39],[$e.CODE_93,gr.BarcodeFormat.CODE_93],[$e.CODE_128,gr.BarcodeFormat.CODE_128],[$e.DATA_MATRIX,gr.BarcodeFormat.DATA_MATRIX],[$e.MAXICODE,gr.BarcodeFormat.MAXICODE],[$e.ITF,gr.BarcodeFormat.ITF],[$e.EAN_13,gr.BarcodeFormat.EAN_13],[$e.EAN_8,gr.BarcodeFormat.EAN_8],[$e.PDF_417,gr.BarcodeFormat.PDF_417],[$e.RSS_14,gr.BarcodeFormat.RSS_14],[$e.RSS_EXPANDED,gr.BarcodeFormat.RSS_EXPANDED],[$e.UPC_A,gr.BarcodeFormat.UPC_A],[$e.UPC_E,gr.BarcodeFormat.UPC_E],[$e.UPC_EAN_EXTENSION,gr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!vO)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(gr.DecodeHintType.POSSIBLE_FORMATS,i),a.set(gr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new gr.MultiFormatReader(this.verbose,this.hints),n=new gr.HTMLCanvasElementLuminanceSource(t),i=new gr.BinaryBitmap(new gr.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:hA.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),yO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},_O=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},wv=function(){function e(t,r,n){if(this.formatMap=new Map([[$e.QR_CODE,"qr_code"],[$e.AZTEC,"aztec"],[$e.CODABAR,"codabar"],[$e.CODE_39,"code_39"],[$e.CODE_93,"code_93"],[$e.CODE_128,"code_128"],[$e.DATA_MATRIX,"data_matrix"],[$e.ITF,"itf"],[$e.EAN_13,"ean_13"],[$e.EAN_8,"ean_8"],[$e.PDF_417,"pdf417"],[$e.UPC_A,"upc_a"],[$e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return yO(this,void 0,void 0,function(){var r,n;return _O(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:hA.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var l=a[i],u=l.boundingBox.width*l.boundingBox.height;u>n&&(n=u,r=l)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),vv=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},yv=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},EO=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&wv.isSupported()?(this.primaryDecoder=new wv(t,n,i),this.secondaryDecoder=new mv(t,n,i)):this.primaryDecoder=new mv(t,n,i)}return e.prototype.decodeAsync=function(t){return vv(this,void 0,void 0,function(){var r;return yv(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return vv(this,void 0,void 0,function(){var r,n;return yv(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),$x=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ad=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},od=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},pA=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),CO=function(e){$x(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(pA),AO=function(e){$x(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(CO),SO=function(e){$x(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(pA),TO=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new AO(this.track)},e.prototype.torchFeature=function(){return new SO(this.track)},e}(),kO=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return ad(this,void 0,void 0,function(){var a,l;return od(this,function(u){switch(u.label){case 0:return a=new e(t,r,i),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ad(this,void 0,void 0,function(){return od(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,l=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++l,l>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new TO(this.getFirstTrackOrFail())},e}(),bO=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return ad(this,void 0,void 0,function(){return od(this,function(i){return[2,kO.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return ad(this,void 0,void 0,function(){var r,n;return od(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),_v=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},Ev=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},IO=function(){function e(){}return e.failIfNotSupported=function(){return _v(this,void 0,void 0,function(){return Ev(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return _v(this,void 0,void 0,function(){return Ev(this,function(r){return[2,bO.create(t)]})})},e}(),RO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},NO=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},OO=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=gl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=gl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return RO(this,void 0,void 0,function(){var t,r,n,i,a,l,u;return NO(this,function(g){switch(g.label){case 0:return t=function(p){for(var m=p.getVideoTracks(),v=0,_=m;v<_.length;v++){var E=_[v];E.enabled=!1,E.stop(),p.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),i=[],a=0,l=n;a<l.length;a++)u=l[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var l=[],u=0,g=a;u<g.length;u++){var p=g[u];p.kind==="video"&&l.push({id:p.id,label:p.label})}t(l)},i=MediaStreamTrack;i.getSources(n)})},e}(),Sr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Sr||(Sr={}));var DO=function(){function e(){this.state=Sr.NOT_STARTED,this.onGoingTransactionNewState=Sr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Sr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Sr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Sr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Sr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Sr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Sr.UNKNOWN:throw"Transition from unknown is not allowed";case Sr.NOT_STARTED:this.failIfNewStateIs(t,[Sr.PAUSED]);break;case Sr.SCANNING:break;case Sr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),FO=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Sr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Sr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Sr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Sr.PAUSED},e}(),PO=function(){function e(){}return e.create=function(){return new FO(new DO)},e}(),MO=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ui=function(e){MO(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(pO),BO=function(){function e(t,r){this.logger=r,this.fps=ui.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ui.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?gA.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!bs(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Cv=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new mO(this.verbose),this.qrcode=new EO(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=PO.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var u=BO.create(r,this.logger);this.clearElement();var g=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:ui.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var v=this,_=this.stateManagerProxy.startTransition(Sr.SCANNING);return new Promise(function(E,A){var C=p?u.videoConstraints:v.createVideoConstraints(t);if(!C){_.cancel(),A("videoConstraints should be defined");return}var I={};(!p||u.aspectRatio)&&(I.aspectRatio=u.aspectRatio);var b={onRenderSurfaceReady:function(k,S){v.setupUi(k,S,u),v.isScanning=!0,v.foreverScan(u,n,l)}};IO.failIfNotSupported().then(function(k){k.create(C).then(function(S){return S.render(a.element,I,b).then(function(L){v.renderedCamera=L,_.execute(),E(null)}).catch(function(L){_.cancel(),A(L)})}).catch(function(S){_.cancel(),A(gl.errorGettingUserMedia(S))})}).catch(function(k){_.cancel(),A(gl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Sr.PAUSED),this.showPausedState(),(bs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Sr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Sr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(ui.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bs(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var l=new Image;l.onload=function(){var u=l.width,g=l.height,p=document.getElementById(n.elementId),m=p.clientWidth?p.clientWidth:ui.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:g,ui.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(u,g,m,v);if(r){var E=n.createCanvasElement(m,v,"qr-canvas-visible");E.style.display="inline-block",p.appendChild(E);var A=E.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=m,A.canvas.height=v,A.drawImage(l,0,0,u,g,_.x,_.y,_.width,_.height)}var C=ui.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(l.width,_.width),b=Math.max(l.height,_.height),k=I+2*C,S=b+2*C,L=n.createCanvasElement(k,S);p.appendChild(L);var q=L.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=k,q.canvas.height=S,q.drawImage(l,0,0,u,g,C,C,I,b);try{n.qrcode.decodeRobustlyAsync(L).then(function(G){i(xv.createFromQrcodeResult(G))}).catch(a)}catch(G){a("QR code parse error, error = ".concat(G))}},l.onerror=a,l.onabort=a,l.onstalled=a,l.onsuspend=a,l.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return OO.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!gA.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[$e.QR_CODE,$e.AZTEC,$e.CODABAR,$e.CODE_39,$e.CODE_93,$e.CODE_128,$e.DATA_MATRIX,$e.MAXICODE,$e.ITF,$e.EAN_13,$e.EAN_8,$e.PDF_417,$e.RSS_14,$e.RSS_EXPANDED,$e.UPC_A,$e.UPC_E,$e.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var l=a[i];gO(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(bs(t))return!0;if(!bs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(bs(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return bs(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,r,a),u=function(p){if(p<ui.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ui.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};u(l.width),u(l.height),l.width=g(l.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=bs(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&a.height<=r,u={x:0,y:0,width:t,height:r},g=l?this.getShadedRegionBounds(t,r,a):u,p=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},v=p.getContext("2d",m);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=gl.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,xv.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=gl.codeParseError(i);return r(a,xO.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),l=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*l,p=this.qrRegion.height*u,m=this.qrRegion.x*l,v=this.qrRegion.y*u;this.context.drawImage(a,m,v,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){_()})):_()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",l=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var g=Object.keys(t)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var p=t.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(l(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof p;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof v;throw"Invalid type of 'deviceId' = ".concat(_)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,l=(i-r)/2;return{x:a,y:l,width:t,height:r}}else{var u=t,g=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(g)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?ui.BORDER_SHADER_MATCH_COLOR:ui.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(a,"px"),l.style.display="none",l.id=bs(n)?"qr-canvas":n,l},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var l=(r-i.width)/2,u=(n-i.height)/2;if(a.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(ui.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(a,p,g,-g,null,0,!0),this.insertShaderBorders(a,p,g,-g,null,0,!1),this.insertShaderBorders(a,p,g,null,-g,0,!0),this.insertShaderBorders(a,p,g,null,-g,0,!1),this.insertShaderBorders(a,g,p+g,-g,null,-g,!0),this.insertShaderBorders(a,g,p+g,null,-g,-g,!0),this.insertShaderBorders(a,g,p+g,-g,null,-g,!1),this.insertShaderBorders(a,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,l,u){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=ui.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),u?g.style.left="".concat(l,"px"):g.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Av;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Av||(Av={}));const xA=({onScan:e,onClose:t,isOpen:r})=>{const[n,i]=ye.useState(!1),[a,l]=ye.useState(""),[u,g]=ye.useState(""),[p,m]=ye.useState(!1),[v,_]=ye.useState(""),E=ye.useRef(null),A=ye.useRef(`html5qr-${Math.random().toString(36).slice(2)}`);ye.useEffect(()=>(r&&C(),()=>{I()}),[r]);const C=async()=>{try{g(""),m(!1),E.current||(E.current=new Cv(A.current,!1));const S=await Cv.getCameras();if(!S||S.length===0){g("Kamera tidak ditemukan.");return}const L=S.find(G=>/back|rear|environment/i.test(G.label))||S[0],q={fps:10,qrbox:{width:280,height:200},aspectRatio:1.777,rememberLastUsedCamera:!0,focusMode:"continuous",focusDistance:0,formatsToSupport:[$e.CODE_128,$e.EAN_13,$e.EAN_8,$e.UPC_A,$e.UPC_E,$e.QR_CODE]};await E.current.start(L.id,q,G=>{G&&(l(G),e(G),I())},G=>{}),m(!0),i(!0)}catch(S){console.error("Scanner init error:",S),g("Tidak dapat memulai pemindai: "+((S==null?void 0:S.message)||String(S)))}},I=async()=>{i(!1);try{E.current&&(await E.current.stop(),await E.current.clear())}catch{}},b=()=>{I(),t()},k=()=>{g(""),l(""),C()};return r?R.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:[R.jsxs("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",width:"100%",maxWidth:"28rem",maxHeight:"90vh",overflow:"auto"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[R.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Scan Barcode"}),R.jsx("button",{onClick:b,style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:R.jsx(Zb,{size:24})})]}),R.jsx("div",{style:{position:"relative",width:"100%",height:"320px",backgroundColor:"#000",borderRadius:"0.5rem",overflow:"hidden",marginBottom:"1rem"},children:R.jsx("div",{id:A.current,style:{width:"100%",height:"100%"}})}),u&&R.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center"},children:[R.jsx($b,{size:20,style:{color:"#dc2626",marginRight:"0.5rem"}}),R.jsxs("div",{children:[R.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#991b1b",margin:0},children:u}),R.jsx("button",{onClick:k,style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#dc2626",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Coba Lagi"})]})]}),a&&R.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center"},children:[R.jsx(dC,{size:20,style:{color:"#059669",marginRight:"0.5rem"}}),R.jsxs("div",{children:[R.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#065f46",margin:0},children:"Barcode berhasil dipindai!"}),R.jsx("p",{style:{fontSize:"0.75rem",color:"#059669",marginTop:"0.25rem",margin:0},children:a})]})]}),R.jsxs("div",{style:{marginBottom:"1rem"},children:[R.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem",display:"block"},children:"Atau masukkan barcode secara manual:"}),R.jsx("input",{type:"text",value:v,onChange:S=>_(S.target.value),placeholder:"Masukkan kode barcode",style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem"}}),v&&R.jsx("button",{onClick:()=>{e(v),b()},style:{marginTop:"0.5rem",width:"100%",backgroundColor:"#10b981",color:"white",padding:"0.5rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Gunakan Kode Manual"})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsx("button",{onClick:b,style:{flex:1,backgroundColor:"#6b7280",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Tutup"}),a&&R.jsx("button",{onClick:()=>{e(a),b()},style:{flex:1,backgroundColor:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Gunakan"})]})]}),R.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `})]}):null};/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function mA(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function LO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sv(e,t){return e.get(mA(e,t))}function UO(e,t,r){LO(e,t),t.set(e,r)}function jO(e,t,r){return e.set(mA(e,t),r),r}const WO=100,tt={},VO=()=>{tt.previousActiveElement instanceof HTMLElement?(tt.previousActiveElement.focus(),tt.previousActiveElement=null):document.body&&document.body.focus()},HO=e=>new Promise(t=>{if(!e)return t();const r=window.scrollX,n=window.scrollY;tt.restoreFocusTimeout=setTimeout(()=>{VO(),t()},WO),window.scrollTo(r,n)}),wA="swal2-",zO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],we=zO.reduce((e,t)=>(e[t]=wA+t,e),{}),GO=["success","warning","info","question","error"],ld=GO.reduce((e,t)=>(e[t]=wA+t,e),{}),vA="SweetAlert2:",Yx=e=>e.charAt(0).toUpperCase()+e.slice(1),zn=e=>{console.warn(`${vA} ${typeof e=="object"?e.join(" "):e}`)},Po=e=>{console.error(`${vA} ${e}`)},Tv=[],XO=e=>{Tv.includes(e)||(Tv.push(e),zn(e))},yA=(e,t=null)=>{XO(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},sh=e=>typeof e=="function"?e():e,Kx=e=>e&&typeof e.toPromise=="function",lu=e=>Kx(e)?e.toPromise():Promise.resolve(e),qx=e=>e&&Promise.resolve(e)===e,Yn=()=>document.body.querySelector(`.${we.container}`),cu=e=>{const t=Yn();return t?t.querySelector(e):null},Ci=e=>cu(`.${e}`),jt=()=>Ci(we.popup),ec=()=>Ci(we.icon),$O=()=>Ci(we["icon-content"]),_A=()=>Ci(we.title),Zx=()=>Ci(we["html-container"]),EA=()=>Ci(we.image),Qx=()=>Ci(we["progress-steps"]),ah=()=>Ci(we["validation-message"]),Es=()=>cu(`.${we.actions} .${we.confirm}`),tc=()=>cu(`.${we.actions} .${we.cancel}`),Mo=()=>cu(`.${we.actions} .${we.deny}`),YO=()=>Ci(we["input-label"]),rc=()=>cu(`.${we.loader}`),uu=()=>Ci(we.actions),CA=()=>Ci(we.footer),oh=()=>Ci(we["timer-progress-bar"]),Jx=()=>Ci(we.close),KO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,em=()=>{const e=jt();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(t).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),g=parseInt(l.getAttribute("tabindex")||"0");return u>g?1:u<g?-1:0}),n=e.querySelectorAll(KO),i=Array.from(n).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(a=>ai(a))},tm=()=>Bs(document.body,we.shown)&&!Bs(document.body,we["toast-shown"])&&!Bs(document.body,we["no-backdrop"]),lh=()=>{const e=jt();return e?Bs(e,we.toast):!1},qO=()=>{const e=jt();return e?e.hasAttribute("data-loading"):!1},Ai=(e,t)=>{if(e.textContent="",t){const n=new DOMParser().parseFromString(t,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{e.appendChild(l)});const a=n.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?e.appendChild(l.cloneNode(!0)):e.appendChild(l)})}},Bs=(e,t)=>{if(!t)return!1;const r=t.split(/\s+/);for(let n=0;n<r.length;n++)if(!e.classList.contains(r[n]))return!1;return!0},ZO=(e,t)=>{Array.from(e.classList).forEach(r=>{!Object.values(we).includes(r)&&!Object.values(ld).includes(r)&&!Object.values(t.showClass||{}).includes(r)&&e.classList.remove(r)})},vi=(e,t,r)=>{if(ZO(e,t),!t.customClass)return;const n=t.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){zn(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}Vt(e,n)}},ch=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${we.popup} > .${we[t]}`);case"checkbox":return e.querySelector(`.${we.popup} > .${we.checkbox} input`);case"radio":return e.querySelector(`.${we.popup} > .${we.radio} input:checked`)||e.querySelector(`.${we.popup} > .${we.radio} input:first-child`);case"range":return e.querySelector(`.${we.popup} > .${we.range} input`);default:return e.querySelector(`.${we.popup} > .${we.input}`)}},AA=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},SA=(e,t,r)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(e)?e.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?e.classList.add(n):e.classList.remove(n)}))},Vt=(e,t)=>{SA(e,t,!0)},ji=(e,t)=>{SA(e,t,!1)},pa=(e,t)=>{const r=Array.from(e.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&Bs(i,t))return i}},uo=(e,t,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?e.style.setProperty(t,typeof r=="number"?`${r}px`:r):e.style.removeProperty(t)},ln=(e,t="flex")=>{e&&(e.style.display=t)},On=e=>{e&&(e.style.display="none")},rm=(e,t="block")=>{e&&new MutationObserver(()=>{fu(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},kv=(e,t,r,n)=>{const i=e.querySelector(t);i&&i.style.setProperty(r,n)},fu=(e,t,r="flex")=>{t?ln(e,r):On(e)},ai=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),QO=()=>!ai(Es())&&!ai(Mo())&&!ai(tc()),$g=e=>e.scrollHeight>e.clientHeight,JO=(e,t)=>{let r=e;for(;r&&r!==t;){if($g(r))return!0;r=r.parentElement}return!1},TA=e=>{const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||n>0},nm=(e,t=!1)=>{const r=oh();r&&ai(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},eD=()=>{const e=oh();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const r=parseInt(window.getComputedStyle(e).width),n=t/r*100;e.style.width=`${n}%`},tD=()=>typeof window>"u"||typeof document>"u",rD=`
 <div aria-labelledby="${we.title}" aria-describedby="${we["html-container"]}" class="${we.popup}" tabindex="-1">
   <button type="button" class="${we.close}"></button>
   <ul class="${we["progress-steps"]}"></ul>
   <div class="${we.icon}"></div>
   <img class="${we.image}" />
   <h2 class="${we.title}" id="${we.title}"></h2>
   <div class="${we["html-container"]}" id="${we["html-container"]}"></div>
   <input class="${we.input}" id="${we.input}" />
   <input type="file" class="${we.file}" />
   <div class="${we.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${we.select}" id="${we.select}"></select>
   <div class="${we.radio}"></div>
   <label class="${we.checkbox}">
     <input type="checkbox" id="${we.checkbox}" />
     <span class="${we.label}"></span>
   </label>
   <textarea class="${we.textarea}" id="${we.textarea}"></textarea>
   <div class="${we["validation-message"]}" id="${we["validation-message"]}"></div>
   <div class="${we.actions}">
     <div class="${we.loader}"></div>
     <button type="button" class="${we.confirm}"></button>
     <button type="button" class="${we.deny}"></button>
     <button type="button" class="${we.cancel}"></button>
   </div>
   <div class="${we.footer}"></div>
   <div class="${we["timer-progress-bar-container"]}">
     <div class="${we["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),nD=()=>{const e=Yn();return e?(e.remove(),ji([document.documentElement,document.body],[we["no-backdrop"],we["toast-shown"],we["has-column"]]),!0):!1},qa=()=>{tt.currentInstance.resetValidationMessage()},iD=()=>{const e=jt(),t=pa(e,we.input),r=pa(e,we.file),n=e.querySelector(`.${we.range} input`),i=e.querySelector(`.${we.range} output`),a=pa(e,we.select),l=e.querySelector(`.${we.checkbox} input`),u=pa(e,we.textarea);t.oninput=qa,r.onchange=qa,a.onchange=qa,l.onchange=qa,u.oninput=qa,n.oninput=()=>{qa(),i.value=n.value},n.onchange=()=>{qa(),i.value=n.value}},sD=e=>typeof e=="string"?document.querySelector(e):e,aD=e=>{const t=jt();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},oD=e=>{window.getComputedStyle(e).direction==="rtl"&&Vt(Yn(),we.rtl)},lD=e=>{const t=nD();if(tD()){Po("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=we.container,t&&Vt(r,we["no-transition"]),Ai(r,rD),r.dataset.swal2Theme=e.theme;const n=sD(e.target);n.appendChild(r),e.topLayer&&(r.setAttribute("popover",""),r.showPopover()),aD(e),oD(n),iD()},im=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?cD(e,t):e&&Ai(t,e)},cD=(e,t)=>{e.jquery?uD(t,e):Ai(t,e.toString())},uD=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},fD=(e,t)=>{const r=uu(),n=rc();!r||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?On(r):ln(r),vi(r,t,"actions"),dD(r,n,t),Ai(n,t.loaderHtml||""),vi(n,t,"loader"))};function dD(e,t,r){const n=Es(),i=Mo(),a=tc();!n||!i||!a||(p1(n,"confirm",r),p1(i,"deny",r),p1(a,"cancel",r),hD(n,i,a,r),r.reverseButtons&&(r.toast?(e.insertBefore(a,n),e.insertBefore(i,n)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(n,t))))}function hD(e,t,r,n){if(!n.buttonsStyling){ji([e,t,r],we.styled);return}Vt([e,t,r],we.styled),n.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),g1(e),g1(t),g1(r)}function g1(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function p1(e,t,r){const n=Yx(t);fu(e,r[`show${n}Button`],"inline-block"),Ai(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=we[t],vi(e,r,`${t}Button`)}const gD=(e,t)=>{const r=Jx();r&&(Ai(r,t.closeButtonHtml||""),vi(r,t,"closeButton"),fu(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},pD=(e,t)=>{const r=Yn();r&&(xD(r,t.backdrop),mD(r,t.position),wD(r,t.grow),vi(r,t,"container"))};function xD(e,t){typeof t=="string"?e.style.background=t:t||Vt([document.documentElement,document.body],we["no-backdrop"])}function mD(e,t){t&&(t in we?Vt(e,we[t]):(zn('The "position" parameter is not valid, defaulting to "center"'),Vt(e,we.center)))}function wD(e,t){t&&Vt(e,we[`grow-${t}`])}var lr={innerParams:new WeakMap,domCache:new WeakMap};const vD=["input","file","range","select","radio","checkbox","textarea"],yD=(e,t)=>{const r=jt();if(!r)return;const n=lr.innerParams.get(e),i=!n||t.input!==n.input;vD.forEach(a=>{const l=pa(r,we[a]);l&&(CD(a,t.inputAttributes),l.className=we[a],i&&On(l))}),t.input&&(i&&_D(t),AD(t))},_D=e=>{if(!e.input)return;if(!Dr[e.input]){Po(`Unexpected type of input! Expected ${Object.keys(Dr).join(" | ")}, got "${e.input}"`);return}const t=kA(e.input);if(!t)return;const r=Dr[e.input](t,e);ln(t),e.inputAutoFocus&&setTimeout(()=>{AA(r)})},ED=e=>{for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},CD=(e,t)=>{const r=jt();if(!r)return;const n=ch(r,e);if(n){ED(n);for(const i in t)n.setAttribute(i,t[i])}},AD=e=>{if(!e.input)return;const t=kA(e.input);t&&vi(t,e,"input")},sm=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},du=(e,t,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=we["input-label"];n.setAttribute("for",e.id),n.className=i,typeof r.customClass=="object"&&Vt(n,r.customClass.inputLabel),n.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",n)}},kA=e=>{const t=jt();if(t)return pa(t,we[e]||we.input)},cd=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:qx(t)||zn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Dr={};Dr.text=Dr.email=Dr.password=Dr.number=Dr.tel=Dr.url=Dr.search=Dr.date=Dr["datetime-local"]=Dr.time=Dr.week=Dr.month=(e,t)=>(cd(e,t.inputValue),du(e,e,t),sm(e,t),e.type=t.input,e);Dr.file=(e,t)=>(du(e,e,t),sm(e,t),e);Dr.range=(e,t)=>{const r=e.querySelector("input"),n=e.querySelector("output");return cd(r,t.inputValue),r.type=t.input,cd(n,t.inputValue),du(r,e,t),e};Dr.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const r=document.createElement("option");Ai(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return du(e,e,t),e};Dr.radio=e=>(e.textContent="",e);Dr.checkbox=(e,t)=>{const r=ch(jt(),"checkbox");r.value="1",r.checked=!!t.inputValue;const n=e.querySelector("span");return Ai(n,t.inputPlaceholder||t.inputLabel),r};Dr.textarea=(e,t)=>{cd(e,t.inputValue),sm(e,t),du(e,e,t);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(jt()).width),i=()=>{if(!document.body.contains(e))return;const a=e.offsetWidth+r(e);a>n?jt().style.width=`${a}px`:uo(jt(),"width",t.width)};new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const SD=(e,t)=>{const r=Zx();r&&(rm(r),vi(r,t,"htmlContainer"),t.html?(im(t.html,r),ln(r,"block")):t.text?(r.textContent=t.text,ln(r,"block")):On(r),yD(e,t))},TD=(e,t)=>{const r=CA();r&&(rm(r),fu(r,!!t.footer,"block"),t.footer&&im(t.footer,r),vi(r,t,"footer"))},kD=(e,t)=>{const r=lr.innerParams.get(e),n=ec();if(!n)return;if(r&&t.icon===r.icon){Iv(n,t),bv(n,t);return}if(!t.icon&&!t.iconHtml){On(n);return}if(t.icon&&Object.keys(ld).indexOf(t.icon)===-1){Po(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),On(n);return}ln(n),Iv(n,t),bv(n,t),Vt(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",bA)},bv=(e,t)=>{for(const[r,n]of Object.entries(ld))t.icon!==r&&ji(e,n);Vt(e,t.icon&&ld[t.icon]),RD(e,t),bA(),vi(e,t,"icon")},bA=()=>{const e=jt();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=t},bD=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,ID=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Iv=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,n="";t.iconHtml?n=Rv(t.iconHtml):t.icon==="success"?(n=bD(t),r=r.replace(/ style=".*?"/g,"")):t.icon==="error"?n=ID:t.icon&&(n=Rv({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==n.trim()&&Ai(e,n)},RD=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])kv(e,r,"background-color",t.iconColor);kv(e,".swal2-success-ring","border-color",t.iconColor)}},Rv=e=>`<div class="${we["icon-content"]}">${e}</div>`,ND=(e,t)=>{const r=EA();if(r){if(!t.imageUrl){On(r);return}ln(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),uo(r,"width",t.imageWidth),uo(r,"height",t.imageHeight),r.className=we.image,vi(r,t,"image")}};let am=!1,IA=0,RA=0,NA=0,OA=0;const OD=e=>{e.addEventListener("mousedown",ud),document.body.addEventListener("mousemove",fd),e.addEventListener("mouseup",dd),e.addEventListener("touchstart",ud),document.body.addEventListener("touchmove",fd),e.addEventListener("touchend",dd)},DD=e=>{e.removeEventListener("mousedown",ud),document.body.removeEventListener("mousemove",fd),e.removeEventListener("mouseup",dd),e.removeEventListener("touchstart",ud),document.body.removeEventListener("touchmove",fd),e.removeEventListener("touchend",dd)},ud=e=>{const t=jt();if(e.target===t||ec().contains(e.target)){am=!0;const r=DA(e);IA=r.clientX,RA=r.clientY,NA=parseInt(t.style.insetInlineStart)||0,OA=parseInt(t.style.insetBlockStart)||0,Vt(t,"swal2-dragging")}},fd=e=>{const t=jt();if(am){let{clientX:r,clientY:n}=DA(e);t.style.insetInlineStart=`${NA+(r-IA)}px`,t.style.insetBlockStart=`${OA+(n-RA)}px`}},dd=()=>{const e=jt();am=!1,ji(e,"swal2-dragging")},DA=e=>{let t=0,r=0;return e.type.startsWith("mouse")?(t=e.clientX,r=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,r=e.touches[0].clientY),{clientX:t,clientY:r}},FD=(e,t)=>{const r=Yn(),n=jt();if(!(!r||!n)){if(t.toast){uo(r,"width",t.width),n.style.width="100%";const i=rc();i&&n.insertBefore(i,ec())}else uo(n,"width",t.width);uo(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),On(ah()),PD(n,t),t.draggable&&!t.toast?(Vt(n,we.draggable),OD(n)):(ji(n,we.draggable),DD(n))}},PD=(e,t)=>{const r=t.showClass||{};e.className=`${we.popup} ${ai(e)?r.popup:""}`,t.toast?(Vt([document.documentElement,document.body],we["toast-shown"]),Vt(e,we.toast)):Vt(e,we.modal),vi(e,t,"popup"),typeof t.customClass=="string"&&Vt(e,t.customClass),t.icon&&Vt(e,we[`icon-${t.icon}`])},MD=(e,t)=>{const r=Qx();if(!r)return;const{progressSteps:n,currentProgressStep:i}=t;if(!n||n.length===0||i===void 0){On(r);return}ln(r),r.textContent="",i>=n.length&&zn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((a,l)=>{const u=BD(a);if(r.appendChild(u),l===i&&Vt(u,we["active-progress-step"]),l!==n.length-1){const g=LD(t);r.appendChild(g)}})},BD=e=>{const t=document.createElement("li");return Vt(t,we["progress-step"]),Ai(t,e),t},LD=e=>{const t=document.createElement("li");return Vt(t,we["progress-step-line"]),e.progressStepsDistance&&uo(t,"width",e.progressStepsDistance),t},UD=(e,t)=>{const r=_A();r&&(rm(r),fu(r,!!(t.title||t.titleText),"block"),t.title&&im(t.title,r),t.titleText&&(r.innerText=t.titleText),vi(r,t,"title"))},FA=(e,t)=>{FD(e,t),pD(e,t),MD(e,t),kD(e,t),ND(e,t),UD(e,t),gD(e,t),SD(e,t),fD(e,t),TD(e,t);const r=jt();typeof t.didRender=="function"&&r&&t.didRender(r),tt.eventEmitter.emit("didRender",r)},jD=()=>ai(jt()),PA=()=>{var e;return(e=Es())===null||e===void 0?void 0:e.click()},WD=()=>{var e;return(e=Mo())===null||e===void 0?void 0:e.click()},VD=()=>{var e;return(e=tc())===null||e===void 0?void 0:e.click()},nc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),MA=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},HD=(e,t,r)=>{MA(e),t.toast||(e.keydownHandler=n=>GD(t,n,r),e.keydownTarget=t.keydownListenerCapture?window:jt(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Yg=(e,t)=>{var r;const n=em();if(n.length){e=e+t,e===-2&&(e=n.length-1),e===n.length?e=0:e===-1&&(e=n.length-1),n[e].focus();return}(r=jt())===null||r===void 0||r.focus()},BA=["ArrowRight","ArrowDown"],zD=["ArrowLeft","ArrowUp"],GD=(e,t,r)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?XD(t,e):t.key==="Tab"?$D(t):[...BA,...zD].includes(t.key)?YD(t.key):t.key==="Escape"&&KD(t,e,r)))},XD=(e,t)=>{if(!sh(t.allowEnterKey))return;const r=ch(jt(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;PA(),e.preventDefault()}},$D=e=>{const t=e.target,r=em();let n=-1;for(let i=0;i<r.length;i++)if(t===r[i]){n=i;break}e.shiftKey?Yg(n,-1):Yg(n,1),e.stopPropagation(),e.preventDefault()},YD=e=>{const t=uu(),r=Es(),n=Mo(),i=tc();if(!t||!r||!n||!i)return;const a=[r,n,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=BA.includes(e)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let g=0;g<t.children.length;g++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&ai(u))break}u instanceof HTMLButtonElement&&u.focus()}},KD=(e,t,r)=>{e.preventDefault(),sh(t.allowEscapeKey)&&r(nc.esc)};var Vl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const qD=()=>{const e=Yn();Array.from(document.body.children).forEach(r=>{r.contains(e)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},LA=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},UA=typeof window<"u"&&!!window.GestureEvent,ZD=()=>{if(UA&&!Bs(document.body,we.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,Vt(document.body,we.iosfix),QD()}},QD=()=>{const e=Yn();if(!e)return;let t;e.ontouchstart=r=>{t=JD(r)},e.ontouchmove=r=>{t&&(r.preventDefault(),r.stopPropagation())}},JD=e=>{const t=e.target,r=Yn(),n=Zx();return!r||!n||eF(e)||tF(e)?!1:t===r||!$g(r)&&t instanceof HTMLElement&&!JO(t,n)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!($g(n)&&n.contains(t))},eF=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",tF=e=>e.touches&&e.touches.length>1,rF=()=>{if(Bs(document.body,we.iosfix)){const e=parseInt(document.body.style.top,10);ji(document.body,we.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},nF=()=>{const e=document.createElement("div");e.className=we["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Al=null;const iF=e=>{Al===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Al=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Al+nF()}px`)},sF=()=>{Al!==null&&(document.body.style.paddingRight=`${Al}px`,Al=null)};function jA(e,t,r,n){lh()?Nv(e,n):(HO(r).then(()=>Nv(e,n)),MA(tt)),UA?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),tm()&&(sF(),rF(),LA()),aF()}function aF(){ji([document.documentElement,document.body],[we.shown,we["height-auto"],we["no-backdrop"],we["toast-shown"]])}function xa(e){e=lF(e);const t=Vl.swalPromiseResolve.get(this),r=oF(this);this.isAwaitingPromise?e.isDismissed||(hu(this),t(e)):r&&t(e)}const oF=e=>{const t=jt();if(!t)return!1;const r=lr.innerParams.get(e);if(!r||Bs(t,r.hideClass.popup))return!1;ji(t,r.showClass.popup),Vt(t,r.hideClass.popup);const n=Yn();return ji(n,r.showClass.backdrop),Vt(n,r.hideClass.backdrop),cF(e,t,r),!0};function WA(e){const t=Vl.swalPromiseReject.get(this);hu(this),t&&t(e)}const hu=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,lr.innerParams.get(e)||e._destroy())},lF=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),cF=(e,t,r)=>{var n;const i=Yn(),a=TA(t);typeof r.willClose=="function"&&r.willClose(t),(n=tt.eventEmitter)===null||n===void 0||n.emit("willClose",t),a?uF(e,t,i,r.returnFocus,r.didClose):jA(e,i,r.returnFocus,r.didClose)},uF=(e,t,r,n,i)=>{tt.swalCloseEventFinishedCallback=jA.bind(null,e,r,n,i);const a=function(l){if(l.target===t){var u;(u=tt.swalCloseEventFinishedCallback)===null||u===void 0||u.call(tt),delete tt.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a)}};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},Nv=(e,t)=>{setTimeout(()=>{var r;typeof t=="function"&&t.bind(e.params)(),(r=tt.eventEmitter)===null||r===void 0||r.emit("didClose"),e._destroy&&e._destroy()})},Hl=e=>{let t=jt();if(t||new It,t=jt(),!t)return;const r=rc();lh()?On(ec()):fF(t,e),ln(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},fF=(e,t)=>{const r=uu(),n=rc();!r||!n||(!t&&ai(Es())&&(t=Es()),ln(r),t&&(On(t),n.setAttribute("data-button-to-replace",t.className),r.insertBefore(n,t)),Vt([e,r],we.loading))},dF=(e,t)=>{t.input==="select"||t.input==="radio"?mF(e,t):["text","email","number","tel","textarea"].some(r=>r===t.input)&&(Kx(t.inputValue)||qx(t.inputValue))&&(Hl(Es()),wF(e,t))},hF=(e,t)=>{const r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return gF(r);case"radio":return pF(r);case"file":return xF(r);default:return t.inputAutoTrim?r.value.trim():r.value}},gF=e=>e.checked?1:0,pF=e=>e.checked?e.value:null,xF=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,mF=(e,t)=>{const r=jt();if(!r)return;const n=i=>{t.input==="select"?vF(r,hd(i),t):t.input==="radio"&&yF(r,hd(i),t)};Kx(t.inputOptions)||qx(t.inputOptions)?(Hl(Es()),lu(t.inputOptions).then(i=>{e.hideLoading(),n(i)})):typeof t.inputOptions=="object"?n(t.inputOptions):Po(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},wF=(e,t)=>{const r=e.getInput();r&&(On(r),lu(t.inputValue).then(n=>{r.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,ln(r),r.focus(),e.hideLoading()}).catch(n=>{Po(`Error in inputValue promise: ${n}`),r.value="",ln(r),r.focus(),e.hideLoading()}))};function vF(e,t,r){const n=pa(e,we.select);if(!n)return;const i=(a,l,u)=>{const g=document.createElement("option");g.value=u,Ai(g,l),g.selected=VA(u,r.inputValue),a.appendChild(g)};t.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const g=document.createElement("optgroup");g.label=l,g.disabled=!1,n.appendChild(g),u.forEach(p=>i(g,p[1],p[0]))}else i(n,u,l)}),n.focus()}function yF(e,t,r){const n=pa(e,we.radio);if(!n)return;t.forEach(a=>{const l=a[0],u=a[1],g=document.createElement("input"),p=document.createElement("label");g.type="radio",g.name=we.radio,g.value=l,VA(l,r.inputValue)&&(g.checked=!0);const m=document.createElement("span");Ai(m,u),m.className=we.label,p.appendChild(g),p.appendChild(m),n.appendChild(p)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const hd=e=>{const t=[];return e instanceof Map?e.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=hd(i)),t.push([n,i])}):Object.keys(e).forEach(r=>{let n=e[r];typeof n=="object"&&(n=hd(n)),t.push([r,n])}),t},VA=(e,t)=>!!t&&t.toString()===e.toString(),_F=e=>{const t=lr.innerParams.get(e);e.disableButtons(),t.input?HA(e,"confirm"):lm(e,!0)},EF=e=>{const t=lr.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?HA(e,"deny"):om(e,!1)},CF=(e,t)=>{e.disableButtons(),t(nc.cancel)},HA=(e,t)=>{const r=lr.innerParams.get(e);if(!r.input){Po(`The "input" parameter is needed to be set when using returnInputValueOn${Yx(t)}`);return}const n=e.getInput(),i=hF(e,r);r.inputValidator?AF(e,i,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||n.validationMessage)):t==="deny"?om(e,i):lm(e,i)},AF=(e,t,r)=>{const n=lr.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>lu(n.inputValidator(t,n.validationMessage))).then(a=>{e.enableButtons(),e.enableInput(),a?e.showValidationMessage(a):r==="deny"?om(e,t):lm(e,t)})},om=(e,t)=>{const r=lr.innerParams.get(e||void 0);r.showLoaderOnDeny&&Hl(Mo()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>lu(r.preDeny(t,r.validationMessage))).then(i=>{i===!1?(e.hideLoading(),hu(e)):e.close({isDenied:!0,value:typeof i>"u"?t:i})}).catch(i=>zA(e||void 0,i))):e.close({isDenied:!0,value:t})},Ov=(e,t)=>{e.close({isConfirmed:!0,value:t})},zA=(e,t)=>{e.rejectPromise(t)},lm=(e,t)=>{const r=lr.innerParams.get(e||void 0);r.showLoaderOnConfirm&&Hl(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>lu(r.preConfirm(t,r.validationMessage))).then(i=>{ai(ah())||i===!1?(e.hideLoading(),hu(e)):Ov(e,typeof i>"u"?t:i)}).catch(i=>zA(e||void 0,i))):Ov(e,t)};function gd(){const e=lr.innerParams.get(this);if(!e)return;const t=lr.domCache.get(this);On(t.loader),lh()?e.icon&&ln(ec()):SF(t),ji([t.popup,t.actions],we.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const SF=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ln(t[0],"inline-block"):QO()&&On(e.actions)};function GA(){const e=lr.innerParams.get(this),t=lr.domCache.get(this);return t?ch(t.popup,e.input):null}function XA(e,t,r){const n=lr.domCache.get(e);t.forEach(i=>{n[i].disabled=r})}function $A(e,t){const r=jt();if(!(!r||!e))if(e.type==="radio"){const n=r.querySelectorAll(`[name="${we.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=t}else e.disabled=t}function YA(){XA(this,["confirmButton","denyButton","cancelButton"],!1)}function KA(){XA(this,["confirmButton","denyButton","cancelButton"],!0)}function qA(){$A(this.getInput(),!1)}function ZA(){$A(this.getInput(),!0)}function QA(e){const t=lr.domCache.get(this),r=lr.innerParams.get(this);Ai(t.validationMessage,e),t.validationMessage.className=we["validation-message"],r.customClass&&r.customClass.validationMessage&&Vt(t.validationMessage,r.customClass.validationMessage),ln(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",we["validation-message"]),AA(n),Vt(n,we.inputerror))}function JA(){const e=lr.domCache.get(this);e.validationMessage&&On(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ji(t,we.inputerror))}const Sl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},TF=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],kF={allowEnterKey:void 0},bF=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],e4=e=>Object.prototype.hasOwnProperty.call(Sl,e),t4=e=>TF.indexOf(e)!==-1,r4=e=>kF[e],IF=e=>{e4(e)||zn(`Unknown parameter "${e}"`)},RF=e=>{bF.includes(e)&&zn(`The parameter "${e}" is incompatible with toasts`)},NF=e=>{const t=r4(e);t&&yA(e,t)},n4=e=>{e.backdrop===!1&&e.allowOutsideClick&&zn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&zn(`Invalid theme "${e.theme}"`);for(const t in e)IF(t),e.toast&&RF(t),NF(t)};function i4(e){const t=Yn(),r=jt(),n=lr.innerParams.get(this);if(!r||Bs(r,n.hideClass.popup)){zn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=OF(e),a=Object.assign({},n,i);n4(a),t.dataset.swal2Theme=a.theme,FA(this,a),lr.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const OF=e=>{const t={};return Object.keys(e).forEach(r=>{t4(r)?t[r]=e[r]:zn(`Invalid parameter to update: ${r}`)}),t};function s4(){const e=lr.domCache.get(this),t=lr.innerParams.get(this);if(!t){a4(this);return}e.popup&&tt.swalCloseEventFinishedCallback&&(tt.swalCloseEventFinishedCallback(),delete tt.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),tt.eventEmitter.emit("didDestroy"),DF(this)}const DF=e=>{a4(e),delete e.params,delete tt.keydownHandler,delete tt.keydownTarget,delete tt.currentInstance},a4=e=>{e.isAwaitingPromise?(x1(lr,e),e.isAwaitingPromise=!0):(x1(Vl,e),x1(lr,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},x1=(e,t)=>{for(const r in e)e[r].delete(t)};var FF=Object.freeze({__proto__:null,_destroy:s4,close:xa,closeModal:xa,closePopup:xa,closeToast:xa,disableButtons:KA,disableInput:ZA,disableLoading:gd,enableButtons:YA,enableInput:qA,getInput:GA,handleAwaitingPromise:hu,hideLoading:gd,rejectPromise:WA,resetValidationMessage:JA,showValidationMessage:QA,update:i4});const PF=(e,t,r)=>{e.toast?MF(e,t,r):(LF(t),UF(t),jF(e,t,r))},MF=(e,t,r)=>{t.popup.onclick=()=>{e&&(BF(e)||e.timer||e.input)||r(nc.close)}},BF=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let pd=!1;const LF=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(pd=!0)}}},UF=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(r){e.popup.onmouseup=()=>{},(r.target===e.popup||r.target instanceof HTMLElement&&e.popup.contains(r.target))&&(pd=!0)}}},jF=(e,t,r)=>{t.container.onclick=n=>{if(pd){pd=!1;return}n.target===t.container&&sh(e.allowOutsideClick)&&r(nc.backdrop)}},WF=e=>typeof e=="object"&&e.jquery,Dv=e=>e instanceof Element||WF(e),VF=e=>{const t={};return typeof e[0]=="object"&&!Dv(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((r,n)=>{const i=e[n];typeof i=="string"||Dv(i)?t[r]=i:i!==void 0&&Po(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),t};function HF(...e){return new this(...e)}function zF(e){class t extends this{_main(n,i){return super._main(n,Object.assign({},e,i))}}return t}const GF=()=>tt.timeout&&tt.timeout.getTimerLeft(),o4=()=>{if(tt.timeout)return eD(),tt.timeout.stop()},l4=()=>{if(tt.timeout){const e=tt.timeout.start();return nm(e),e}},XF=()=>{const e=tt.timeout;return e&&(e.running?o4():l4())},$F=e=>{if(tt.timeout){const t=tt.timeout.increase(e);return nm(t,!0),t}},YF=()=>!!(tt.timeout&&tt.timeout.isRunning());let Fv=!1;const Kg={};function KF(e="data-swal-template"){Kg[e]=this,Fv||(document.body.addEventListener("click",qF),Fv=!0)}const qF=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const r in Kg){const n=t.getAttribute(r);if(n){Kg[r].fire({template:n});return}}};class ZF{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,r){const n=this._getHandlersByEventName(t);n.includes(r)||n.push(r)}once(t,r){const n=(...i)=>{this.removeListener(t,n),r.apply(this,i)};this.on(t,n)}emit(t,...r){this._getHandlersByEventName(t).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(t,r){const n=this._getHandlersByEventName(t),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}tt.eventEmitter=new ZF;const QF=(e,t)=>{tt.eventEmitter.on(e,t)},JF=(e,t)=>{tt.eventEmitter.once(e,t)},e9=(e,t)=>{if(!e){tt.eventEmitter.reset();return}t?tt.eventEmitter.removeListener(e,t):tt.eventEmitter.removeAllListeners(e)};var t9=Object.freeze({__proto__:null,argsToParams:VF,bindClickHandler:KF,clickCancel:VD,clickConfirm:PA,clickDeny:WD,enableLoading:Hl,fire:HF,getActions:uu,getCancelButton:tc,getCloseButton:Jx,getConfirmButton:Es,getContainer:Yn,getDenyButton:Mo,getFocusableElements:em,getFooter:CA,getHtmlContainer:Zx,getIcon:ec,getIconContent:$O,getImage:EA,getInputLabel:YO,getLoader:rc,getPopup:jt,getProgressSteps:Qx,getTimerLeft:GF,getTimerProgressBar:oh,getTitle:_A,getValidationMessage:ah,increaseTimer:$F,isDeprecatedParameter:r4,isLoading:qO,isTimerRunning:YF,isUpdatableParameter:t4,isValidParameter:e4,isVisible:jD,mixin:zF,off:e9,on:QF,once:JF,resumeTimer:l4,showLoading:Hl,stopTimer:o4,toggleTimer:XF});class r9{constructor(t,r){this.callback=t,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const r=this.running;return r&&this.stop(),this.remaining+=t,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const c4=["swal-title","swal-html","swal-footer"],n9=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const r=t.content;return f9(r),Object.assign(i9(r),s9(r),a9(r),o9(r),l9(r),c9(r),u9(r,c4))},i9=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(n=>{Ao(n,["name","value"]);const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(typeof Sl[i]=="boolean"?t[i]=a!=="false":typeof Sl[i]=="object"?t[i]=JSON.parse(a):t[i]=a)}),t},s9=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(t[i]=new Function(`return ${a}`)())}),t},a9=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(n=>{Ao(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(t[`${i}ButtonText`]=n.innerHTML,t[`show${Yx(i)}Button`]=!0,n.hasAttribute("color")&&(t[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},o9=e=>{const t={},r=e.querySelector("swal-image");return r&&(Ao(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},l9=e=>{const t={},r=e.querySelector("swal-icon");return r&&(Ao(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},c9=e=>{const t={},r=e.querySelector("swal-input");r&&(Ao(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(i=>{Ao(i,["value"]);const a=i.getAttribute("value");if(!a)return;const l=i.innerHTML;t.inputOptions[a]=l})),t},u9=(e,t)=>{const r={};for(const n in t){const i=t[n],a=e.querySelector(i);a&&(Ao(a,[]),r[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return r},f9=e=>{const t=c4.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(r=>{const n=r.tagName.toLowerCase();t.includes(n)||zn(`Unrecognized element <${n}>`)})},Ao=(e,t)=>{Array.from(e.attributes).forEach(r=>{t.indexOf(r.name)===-1&&zn([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},u4=10,d9=e=>{const t=Yn(),r=jt();typeof e.willOpen=="function"&&e.willOpen(r),tt.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;p9(t,r,e),setTimeout(()=>{h9(t,r)},u4),tm()&&(g9(t,e.scrollbarPadding,i),qD()),!lh()&&!tt.previousActiveElement&&(tt.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(r)),tt.eventEmitter.emit("didOpen",r)},xd=e=>{const t=jt();if(e.target!==t)return;const r=Yn();t.removeEventListener("animationend",xd),t.removeEventListener("transitionend",xd),r.style.overflowY="auto",ji(r,we["no-transition"])},h9=(e,t)=>{TA(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",xd),t.addEventListener("transitionend",xd)):e.style.overflowY="auto"},g9=(e,t,r)=>{ZD(),t&&r!=="hidden"&&iF(r),setTimeout(()=>{e.scrollTop=0})},p9=(e,t,r)=>{Vt(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),ln(t,"grid"),setTimeout(()=>{Vt(t,r.showClass.popup),t.style.removeProperty("opacity")},u4)):ln(t,"grid"),Vt([document.documentElement,document.body],we.shown),r.heightAuto&&r.backdrop&&!r.toast&&Vt([document.documentElement,document.body],we["height-auto"])};var Pv={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function x9(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Pv.email),e.input==="url"&&(e.inputValidator=Pv.url))}function m9(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(zn('Target parameter is not valid, defaulting to "body"'),e.target="body")}function w9(e){x9(e),e.showLoaderOnConfirm&&!e.preConfirm&&zn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),m9(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),lD(e)}let ms;var Gu=new WeakMap;class Pr{constructor(...t){if(UO(this,Gu,void 0),typeof window>"u")return;ms=this;const r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,jO(Gu,this,this._main(ms.params))}_main(t,r={}){if(n4(Object.assign({},r,t)),tt.currentInstance){const a=Vl.swalPromiseResolve.get(tt.currentInstance),{isAwaitingPromise:l}=tt.currentInstance;tt.currentInstance._destroy(),l||a({isDismissed:!0}),tm()&&LA()}tt.currentInstance=ms;const n=y9(t,r);w9(n),Object.freeze(n),tt.timeout&&(tt.timeout.stop(),delete tt.timeout),clearTimeout(tt.restoreFocusTimeout);const i=_9(ms);return FA(ms,n),lr.innerParams.set(ms,n),v9(ms,i,n)}then(t){return Sv(Gu,this).then(t)}finally(t){return Sv(Gu,this).finally(t)}}const v9=(e,t,r)=>new Promise((n,i)=>{const a=l=>{e.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};Vl.swalPromiseResolve.set(e,n),Vl.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{_F(e)},t.denyButton.onclick=()=>{EF(e)},t.cancelButton.onclick=()=>{CF(e,a)},t.closeButton.onclick=()=>{a(nc.close)},PF(r,t,a),HD(tt,r,a),dF(e,r),d9(r),E9(tt,r,a),C9(t,r),setTimeout(()=>{t.container.scrollTop=0})}),y9=(e,t)=>{const r=n9(e),n=Object.assign({},Sl,t,r,e);return n.showClass=Object.assign({},Sl.showClass,n.showClass),n.hideClass=Object.assign({},Sl.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},_9=e=>{const t={popup:jt(),container:Yn(),actions:uu(),confirmButton:Es(),denyButton:Mo(),cancelButton:tc(),loader:rc(),closeButton:Jx(),validationMessage:ah(),progressSteps:Qx()};return lr.domCache.set(e,t),t},E9=(e,t,r)=>{const n=oh();On(n),t.timer&&(e.timeout=new r9(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ln(n),vi(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&nm(t.timer)})))},C9=(e,t)=>{if(!t.toast){if(!sh(t.allowEnterKey)){yA("allowEnterKey"),T9();return}A9(e)||S9(e,t)||Yg(-1,1)}},A9=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const r of t)if(r instanceof HTMLElement&&ai(r))return r.focus(),!0;return!1},S9=(e,t)=>t.focusDeny&&ai(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ai(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&ai(e.confirmButton)?(e.confirmButton.focus(),!0):!1,T9=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Pr.prototype.disableButtons=KA;Pr.prototype.enableButtons=YA;Pr.prototype.getInput=GA;Pr.prototype.disableInput=ZA;Pr.prototype.enableInput=qA;Pr.prototype.hideLoading=gd;Pr.prototype.disableLoading=gd;Pr.prototype.showValidationMessage=QA;Pr.prototype.resetValidationMessage=JA;Pr.prototype.close=xa;Pr.prototype.closePopup=xa;Pr.prototype.closeModal=xa;Pr.prototype.closeToast=xa;Pr.prototype.rejectPromise=WA;Pr.prototype.update=i4;Pr.prototype._destroy=s4;Object.assign(Pr,t9);Object.keys(FF).forEach(e=>{Pr[e]=function(...t){return ms&&ms[e]?ms[e](...t):null}});Pr.DismissReason=nc;Pr.version="11.26.3";const It=Pr;It.default=It;typeof document<"u"&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch{r.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var f4=1252,k9=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],cm={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},um=function(e){k9.indexOf(e)!=-1&&(f4=cm[0]=e)};function b9(){um(1252)}var ts=function(e){um(e)};function d4(){ts(1200),b9()}function Mv(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function I9(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function h4(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Dc=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?I9(e.slice(2)):t==254&&r==255?h4(e.slice(2)):t==65279?e.slice(1):e},Xu=function(t){return String.fromCharCode(t)},Bv=function(t){return String.fromCharCode(t)},L0,ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Lv(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0,g=0,p=0;p<e.length;)r=e.charCodeAt(p++),a=r>>2,n=e.charCodeAt(p++),l=(r&3)<<4|n>>4,i=e.charCodeAt(p++),u=(n&15)<<2|i>>6,g=i&63,isNaN(n)?u=g=64:isNaN(i)&&(g=64),t+=ma.charAt(a)+ma.charAt(l)+ma.charAt(u)+ma.charAt(g);return t}function yi(e){var t="",r=0,n=0,i=0,a=0,l=0,u=0,g=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<e.length;)a=ma.indexOf(e.charAt(p++)),l=ma.indexOf(e.charAt(p++)),r=a<<2|l>>4,t+=String.fromCharCode(r),u=ma.indexOf(e.charAt(p++)),n=(l&15)<<4|u>>2,u!==64&&(t+=String.fromCharCode(n)),g=ma.indexOf(e.charAt(p++)),i=(u&3)<<6|g,g!==64&&(t+=String.fromCharCode(i));return t}var Nt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Bo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ua(e){return Nt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Uv(e){return Nt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ji=function(t){return Nt?Bo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Lo(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function fm(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return fm(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ua=Nt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Bo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function R9(e){for(var t=[],r=0,n=e.length+250,i=Ua(e.length+255),a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=e.charCodeAt(++a)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|u>>6&15|(l&3)<<4,i[r++]=128|u&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Ua(65535),n=65530)}return t.push(i.slice(0,r)),ua(t)}var Hn=/\u0000/g,Fc=/[\u0001-\u0006]/g;function Tl(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function rs(e,t){var r=""+e;return r.length>=t?r:kr("0",t-r.length)+r}function dm(e,t){var r=""+e;return r.length>=t?r:kr(" ",t-r.length)+r}function md(e,t){var r=""+e;return r.length>=t?r:r+kr(" ",t-r.length)}function N9(e,t){var r=""+Math.round(e);return r.length>=t?r:kr("0",t-r.length)+r}function O9(e,t){var r=""+e;return r.length>=t?r:kr("0",t-r.length)+r}var jv=Math.pow(2,32);function Qo(e,t){if(e>jv||e<-jv)return N9(e,t);var r=Math.round(e);return O9(r,t)}function wd(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Wv=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],m1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function D9(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var mt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Vv={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},F9={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function vd(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,l=1,u=0,g=1,p=0,m=0,v=Math.floor(i);p<t&&(v=Math.floor(i),u=v*l+a,m=v*p+g,!(i-v<5e-8));)i=1/(i-v),a=l,l=u,g=p,p=m;if(m>t&&(p>t?(m=g,u=a):(m=p,u=l)),!r)return[0,n*u,m];var _=Math.floor(n*u/m);return[_,n*u-_*m,m]}function oo(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,l=[],u={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++n,++u.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var g=new Date(1900,0,1);g.setDate(g.getDate()+n-1),l=[g.getFullYear(),g.getMonth()+1,g.getDate()],a=g.getDay(),n<60&&(a=(a+6)%7),r&&(a=j9(g,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=a,u}var g4=new Date(1899,11,31,0,0,0),P9=g4.getTime(),M9=new Date(1900,2,1,0,0,0);function p4(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=M9&&(r+=24*60*60*1e3),(r-(P9+(e.getTimezoneOffset()-g4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function hm(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function B9(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function L9(e){var t=e<0?12:11,r=hm(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function U9(e){var t=hm(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function U0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=L9(e):t===10?r=e.toFixed(10).substr(0,12):r=U9(e),hm(B9(r.toUpperCase()))}function So(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):U0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Wi(14,p4(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function j9(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function W9(e,t,r,n){var i="",a=0,l=0,u=r.y,g,p=0;switch(e){case 98:u=r.y+543;case 121:switch(t.length){case 1:case 2:g=u%100,p=2;break;default:g=u%1e4,p=4;break}break;case 109:switch(t.length){case 1:case 2:g=r.m,p=t.length;break;case 3:return m1[r.m-1][1];case 5:return m1[r.m-1][0];default:return m1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:g=r.d,p=t.length;break;case 3:return Wv[r.q][0];default:return Wv[r.q][1]}break;case 104:switch(t.length){case 1:case 2:g=1+(r.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:g=r.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:g=r.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?rs(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),t==="s"?a===0?"0":""+a/l:(i=rs(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":g=r.D*24+r.H;break;case"[m]":case"[mm]":g=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":g=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}p=t.length===3?1:2;break;case 101:g=u,p=1;break}var m=p>0?rs(g,p):"";return m}function wa(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var x4=/%/g;function V9(e,t,r){var n=t.replace(x4,""),i=t.length-n.length;return Ls(e,n,r*Math.pow(10,2*i))+kr("%",i)}function H9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ls(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function m4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+m4(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,g,p,m){return g+p+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var w4=/# (\?+)( ?)\/( ?)(\d+)/;function z9(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),l=i-a*n,u=n;return r+(a===0?"":""+a)+" "+(l===0?kr(" ",e[1].length+1+e[4].length):dm(l,e[1].length)+e[2]+"/"+e[3]+rs(u,e[4].length))}function G9(e,t,r){return r+(t===0?"":""+t)+kr(" ",e[1].length+2+e[4].length)}var v4=/^#*0*\.([0#]+)/,y4=/\).*[0#]/,_4=/\(###\) ###\\?-####/;function Bn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Hv(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function zv(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function X9(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function $9(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ri(e,t,r){if(e.charCodeAt(0)===40&&!t.match(y4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ri("n",n,r):"("+Ri("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return H9(e,t,r);if(t.indexOf("%")!==-1)return V9(e,t,r);if(t.indexOf("E")!==-1)return m4(t,r);if(t.charCodeAt(0)===36)return"$"+Ri(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,g=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+Qo(g,t.length);if(t.match(/^[#?]+$/))return i=Qo(r,0),i==="0"&&(i=""),i.length>t.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(w4))return z9(a,g,p);if(t.match(/^#+0+$/))return p+Qo(g,t.length-t.indexOf("0"));if(a=t.match(v4))return i=Hv(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])).replace(/\.(\d*)$/,function(A,C){return"."+C+kr("0",Bn(a[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+Hv(g,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+wa(Qo(g,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ri(e,t,-r):wa(""+(Math.floor(r)+X9(r,a[1].length)))+"."+rs(zv(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ri(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tl(Ri(e,t.replace(/[\\-]/g,""),r)),l=0,Tl(Tl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(_4))return i=Ri(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=vd(g,Math.pow(10,l)-1,!1),i=""+p,m=Ls("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=md(u[2],l),m.length<a[4].length&&(m=Bn(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=vd(g,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?dm(u[1],l)+a[2]+"/"+a[3]+md(u[2],l):kr(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Qo(r,0),t.length<=i.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,_=t.length-i.length-v;return Bn(t.substr(0,v)+i+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return l=zv(r,a[1].length),r<0?"-"+Ri(e,t,-r):wa($9(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?rs(0,3-A.length):"")+A})+"."+rs(l,a[1].length);switch(t){case"###,##0.00":return Ri(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var E=wa(Qo(g,0));return E!=="0"?p+E:"";case"###,###.00":return Ri(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ri(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Y9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ls(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function K9(e,t,r){var n=t.replace(x4,""),i=t.length-n.length;return Ls(e,n,r*Math.pow(10,2*i))+kr("%",i)}function E4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+E4(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,g,p,m){return g+p+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ps(e,t,r){if(e.charCodeAt(0)===40&&!t.match(y4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ps("n",n,r):"("+ps("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Y9(e,t,r);if(t.indexOf("%")!==-1)return K9(e,t,r);if(t.indexOf("E")!==-1)return E4(t,r);if(t.charCodeAt(0)===36)return"$"+ps(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,g=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+rs(g,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(w4))return G9(a,g,p);if(t.match(/^#+0+$/))return p+rs(g,t.length-t.indexOf("0"));if(a=t.match(v4))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])),i=i.replace(/\.(\d*)$/,function(A,C){return"."+C+kr("0",Bn(a[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+(""+g).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+wa(""+g);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):wa(""+r)+"."+kr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return ps(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tl(ps(e,t.replace(/[\\-]/g,""),r)),l=0,Tl(Tl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(_4))return i=ps(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=vd(g,Math.pow(10,l)-1,!1),i=""+p,m=Ls("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=md(u[2],l),m.length<a[4].length&&(m=Bn(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=vd(g,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?dm(u[1],l)+a[2]+"/"+a[3]+md(u[2],l):kr(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,_=t.length-i.length-v;return Bn(t.substr(0,v)+i+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):wa(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?rs(0,3-A.length):"")+A})+"."+rs(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var E=wa(""+g);return E!=="0"?p+E:"";default:if(t.match(/\.[0#?]*$/))return ps(e,t.slice(0,t.lastIndexOf(".")),r)+Bn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ls(e,t,r){return(r|0)===r?ps(e,t,r):Ri(e,t,r)}function q9(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var C4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ic(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":wd(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(C4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Z9(e,t,r,n){for(var i=[],a="",l=0,u="",g="t",p,m,v,_="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!wd(e,l))throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(v=e.charCodeAt(++l))!==34&&l<e.length;)a+=String.fromCharCode(v);i[i.length]={t:"t",v:a},++l;break;case"\\":var E=e.charAt(++l),A=E==="("||E===")"?E:"t";i[i.length]={t:A,v:E},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(p==null&&(p=oo(t,r,e.charAt(l+1)==="2"),p==null))return"";i[i.length]={t:"X",v:e.substr(l,2)},g=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||p==null&&(p=oo(t,r),p==null))return"";for(a=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&g.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=_),i[i.length]={t:u,v:a},g=u;break;case"A":case"a":case"":var C={t:u,v:u};if(p==null&&(p=oo(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(p!=null&&(C.v=p.H>=12?"P":"A"),C.t="T",_="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(p!=null&&(C.v=p.H>=12?"PM":"AM"),C.t="T",l+=5,_="h"):e.substr(l,5).toUpperCase()==="/"?(p!=null&&(C.v=p.H>=12?"":""),C.t="T",l+=5,_="h"):(C.t="t",++l),p==null&&C.t==="T")return"";i[i.length]=C,g=u;break;case"[":for(a=u;e.charAt(l++)!=="]"&&l<e.length;)a+=e.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(C4)){if(p==null&&(p=oo(t,r),p==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},g=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",ic(e)||(i[i.length]={t:"t",v:a}));break;case".":if(p!=null){for(a=u;++l<e.length&&(u=e.charAt(l))==="0";)a+=u;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)a+=u;i[i.length]={t:"n",v:a};break;case"?":for(a=u;e.charAt(++l)===u;)a+=u;i[i.length]={t:u,v:a},g=u;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)a+=e.charAt(l);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:u,v:u},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"t",v:u},++l;break}var I=0,b=0,k;for(l=i.length-1,g="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=_,g="h",I<1&&(I=1);break;case"s":(k=i[l].v.match(/\.0+$/))&&(b=Math.max(b,k[0].length-1)),I<3&&(I=3);case"d":case"y":case"M":case"e":g=i[l].t;break;case"m":g==="s"&&(i[l].t="M",I<2&&(I=2));break;case"X":break;case"Z":I<1&&i[l].v.match(/[Hh]/)&&(I=1),I<2&&i[l].v.match(/[Mm]/)&&(I=2),I<3&&i[l].v.match(/[Ss]/)&&(I=3)}switch(I){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var S="",L;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=W9(i[l].t.charCodeAt(0),i[l].v,p,b),i[l].t="t";break;case"n":case"?":for(L=l+1;i[L]!=null&&((u=i[L].t)==="?"||u==="D"||(u===" "||u==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[l].v+=i[L].v,i[L]={v:"",t:";"},++L;S+=i[l].v,l=L-1;break;case"G":i[l].t="t",i[l].v=So(t,r);break}var q="",G,F;if(S.length>0){S.charCodeAt(0)==40?(G=t<0&&S.charCodeAt(0)===45?-t:t,F=Ls("n",S,G)):(G=t<0&&n>1?-t:t,F=Ls("n",S,G),G<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),L=F.length-1;var Z=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){Z=l;break}var W=i.length;if(Z===i.length&&F.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(L>=i[l].v.length-1?(L-=i[l].v.length,i[l].v=F.substr(L+1,i[l].v.length)):L<0?i[l].v="":(i[l].v=F.substr(0,L+1),L=-1),i[l].t="t",W=l);L>=0&&W<i.length&&(i[W].v=F.substr(0,L+1)+i[W].v)}else if(Z!==i.length&&F.indexOf("E")===-1){for(L=F.indexOf(".")-1,l=Z;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(m=i[l].v.indexOf(".")>-1&&l===Z?i[l].v.indexOf(".")-1:i[l].v.length-1,q=i[l].v.substr(m+1);m>=0;--m)L>=0&&(i[l].v.charAt(m)==="0"||i[l].v.charAt(m)==="#")&&(q=F.charAt(L--)+q);i[l].v=q,i[l].t="t",W=l}for(L>=0&&W<i.length&&(i[W].v=F.substr(0,L+1)+i[W].v),L=F.indexOf(".")+1,l=Z;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==Z)){for(m=i[l].v.indexOf(".")>-1&&l===Z?i[l].v.indexOf(".")+1:0,q=i[l].v.substr(0,m);m<i[l].v.length;++m)L<F.length&&(q+=F.charAt(L++));i[l].v=q,i[l].t="t",W=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(G=n>1&&t<0&&l>0&&i[l-1].v==="-"?-t:t,i[l].v=Ls(i[l].t,i[l].v,G),i[l].t="t");var oe="";for(l=0;l!==i.length;++l)i[l]!=null&&(oe+=i[l].v);return oe}var Gv=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Xv(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Q9(e,t){var r=q9(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(Gv),u=r[1].match(Gv);return Xv(t,l)?[n,r[0]]:Xv(t,u)?[n,r[1]]:[n,r[l!=null&&u!=null?2:1]]}return[n,a]}function Wi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:mt)[e],n==null&&(n=r.table&&r.table[Vv[e]]||mt[Vv[e]]),n==null&&(n=F9[e]||"General");break}if(wd(n,0))return So(t,r);t instanceof Date&&(t=p4(t,r.date1904));var i=Q9(n,t);if(wd(i[1]))return So(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Z9(i[1],t,r,i[0])}function fo(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(mt[r]==null){t<0&&(t=r);continue}if(mt[r]==e){t=r;break}}t<0&&(t=391)}return mt[t]=e,t}function A4(){mt=D9()}var J9={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},S4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function eP(e){var t=typeof e=="number"?mt[e]:e;return t=t.replace(S4,"(\\d+)"),new RegExp("^"+t+"$")}function tP(e,t,r){var n=-1,i=-1,a=-1,l=-1,u=-1,g=-1;(t.match(S4)||[]).forEach(function(v,_){var E=parseInt(r[_+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=E;break;case"d":a=E;break;case"h":l=E;break;case"s":g=E;break;case"m":l>=0?u=E:i=E;break}}),g>=0&&u==-1&&i>=0&&(u=i,i=-1);var p=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2);return l==-1&&u==-1&&g==-1?p:n==-1&&i==-1&&a==-1?m:p+"T"+m}var rP=function(){var e={};e.version="1.2.0";function t(){for(var F=0,Z=new Array(256),W=0;W!=256;++W)F=W,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,Z[W]=F;return typeof Int32Array<"u"?new Int32Array(Z):Z}var r=t();function n(F){var Z=0,W=0,oe=0,le=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(oe=0;oe!=256;++oe)le[oe]=F[oe];for(oe=0;oe!=256;++oe)for(W=F[oe],Z=256+oe;Z<4096;Z+=256)W=le[Z]=W>>>8^F[W&255];var Q=[];for(oe=1;oe!=16;++oe)Q[oe-1]=typeof Int32Array<"u"?le.subarray(oe*256,oe*256+256):le.slice(oe*256,oe*256+256);return Q}var i=n(r),a=i[0],l=i[1],u=i[2],g=i[3],p=i[4],m=i[5],v=i[6],_=i[7],E=i[8],A=i[9],C=i[10],I=i[11],b=i[12],k=i[13],S=i[14];function L(F,Z){for(var W=Z^-1,oe=0,le=F.length;oe<le;)W=W>>>8^r[(W^F.charCodeAt(oe++))&255];return~W}function q(F,Z){for(var W=Z^-1,oe=F.length-15,le=0;le<oe;)W=S[F[le++]^W&255]^k[F[le++]^W>>8&255]^b[F[le++]^W>>16&255]^I[F[le++]^W>>>24]^C[F[le++]]^A[F[le++]]^E[F[le++]]^_[F[le++]]^v[F[le++]]^m[F[le++]]^p[F[le++]]^g[F[le++]]^u[F[le++]]^l[F[le++]]^a[F[le++]]^r[F[le++]];for(oe+=15;le<oe;)W=W>>>8^r[(W^F[le++])&255];return~W}function G(F,Z){for(var W=Z^-1,oe=0,le=F.length,Q=0,_e=0;oe<le;)Q=F.charCodeAt(oe++),Q<128?W=W>>>8^r[(W^Q)&255]:Q<2048?(W=W>>>8^r[(W^(192|Q>>6&31))&255],W=W>>>8^r[(W^(128|Q&63))&255]):Q>=55296&&Q<57344?(Q=(Q&1023)+64,_e=F.charCodeAt(oe++)&1023,W=W>>>8^r[(W^(240|Q>>8&7))&255],W=W>>>8^r[(W^(128|Q>>2&63))&255],W=W>>>8^r[(W^(128|_e>>6&15|(Q&3)<<4))&255],W=W>>>8^r[(W^(128|_e&63))&255]):(W=W>>>8^r[(W^(224|Q>>12&15))&255],W=W>>>8^r[(W^(128|Q>>6&63))&255],W=W>>>8^r[(W^(128|Q&63))&255]);return~W}return e.table=r,e.bstr=L,e.buf=q,e.str=G,e}(),Ft=function(){var t={};t.version="1.2.1";function r(D,M){for(var U=D.split("/"),j=M.split("/"),H=0,X=0,he=Math.min(U.length,j.length);H<he;++H){if(X=U[H].length-j[H].length)return X;if(U[H]!=j[H])return U[H]<j[H]?-1:1}return U.length-j.length}function n(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:n(D.slice(0,-1));var M=D.lastIndexOf("/");return M===-1?D:D.slice(0,M+1)}function i(D){if(D.charAt(D.length-1)=="/")return i(D.slice(0,-1));var M=D.lastIndexOf("/");return M===-1?D:D.slice(M+1)}function a(D,M){typeof M=="string"&&(M=new Date(M));var U=M.getHours();U=U<<6|M.getMinutes(),U=U<<5|M.getSeconds()>>>1,D.write_shift(2,U);var j=M.getFullYear()-1980;j=j<<4|M.getMonth()+1,j=j<<5|M.getDate(),D.write_shift(2,j)}function l(D){var M=D.read_shift(2)&65535,U=D.read_shift(2)&65535,j=new Date,H=U&31;U>>>=5;var X=U&15;U>>>=4,j.setMilliseconds(0),j.setFullYear(U+1980),j.setMonth(X-1),j.setDate(H);var he=M&31;M>>>=5;var Ee=M&63;return M>>>=6,j.setHours(M),j.setMinutes(Ee),j.setSeconds(he<<1),j}function u(D){hn(D,0);for(var M={},U=0;D.l<=D.length-4;){var j=D.read_shift(2),H=D.read_shift(2),X=D.l+H,he={};switch(j){case 21589:U=D.read_shift(1),U&1&&(he.mtime=D.read_shift(4)),H>5&&(U&2&&(he.atime=D.read_shift(4)),U&4&&(he.ctime=D.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}D.l=X,M[j]=he}return M}var g;function p(){return g||(g={})}function m(D,M){if(D[0]==80&&D[1]==75)return Qs(D,M);if((D[0]|32)==109&&(D[1]|32)==105)return Ge(D,M);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var U=3,j=512,H=0,X=0,he=0,Ee=0,ue=0,ge=[],pe=D.slice(0,512);hn(pe,0);var Te=v(pe);switch(U=Te[0],U){case 3:j=512;break;case 4:j=4096;break;case 0:if(Te[1]==0)return Qs(D,M);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}j!==512&&(pe=D.slice(0,j),hn(pe,28));var Oe=D.slice(0,j);_(pe,U);var Pe=pe.read_shift(4,"i");if(U===3&&Pe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Pe);pe.l+=4,he=pe.read_shift(4,"i"),pe.l+=4,pe.chk("00100000","Mini Stream Cutoff Size: "),Ee=pe.read_shift(4,"i"),H=pe.read_shift(4,"i"),ue=pe.read_shift(4,"i"),X=pe.read_shift(4,"i");for(var Ue=-1,ze=0;ze<109&&(Ue=pe.read_shift(4,"i"),!(Ue<0));++ze)ge[ze]=Ue;var ut=E(D,j);I(ue,X,ut,j,ge);var ve=k(ut,he,ge,j);ve[he].name="!Directory",H>0&&Ee!==_e&&(ve[Ee].name="!MiniFAT"),ve[ge[0]].name="!FAT",ve.fat_addrs=ge,ve.ssz=j;var fr={},yt=[],Si=[],Xa=[];S(he,ve,ut,yt,H,fr,Si,Ee),A(Si,Xa,yt),yt.shift();var kt={FileIndex:Si,FullPaths:Xa};return M&&M.raw&&(kt.raw={header:Oe,sectors:ut}),kt}function v(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(Se,"Header Signature: "),D.l+=16;var M=D.read_shift(2,"u");return[D.read_shift(2,"u"),M]}function _(D,M){var U=9;switch(D.l+=2,U=D.read_shift(2)){case 9:if(M!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(M!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function E(D,M){for(var U=Math.ceil(D.length/M)-1,j=[],H=1;H<U;++H)j[H-1]=D.slice(H*M,(H+1)*M);return j[U-1]=D.slice(U*M),j}function A(D,M,U){for(var j=0,H=0,X=0,he=0,Ee=0,ue=U.length,ge=[],pe=[];j<ue;++j)ge[j]=pe[j]=j,M[j]=U[j];for(;Ee<pe.length;++Ee)j=pe[Ee],H=D[j].L,X=D[j].R,he=D[j].C,ge[j]===j&&(H!==-1&&ge[H]!==H&&(ge[j]=ge[H]),X!==-1&&ge[X]!==X&&(ge[j]=ge[X])),he!==-1&&(ge[he]=j),H!==-1&&j!=ge[j]&&(ge[H]=ge[j],pe.lastIndexOf(H)<Ee&&pe.push(H)),X!==-1&&j!=ge[j]&&(ge[X]=ge[j],pe.lastIndexOf(X)<Ee&&pe.push(X));for(j=1;j<ue;++j)ge[j]===j&&(X!==-1&&ge[X]!==X?ge[j]=ge[X]:H!==-1&&ge[H]!==H&&(ge[j]=ge[H]));for(j=1;j<ue;++j)if(D[j].type!==0){if(Ee=j,Ee!=ge[Ee])do Ee=ge[Ee],M[j]=M[Ee]+"/"+M[j];while(Ee!==0&&ge[Ee]!==-1&&Ee!=ge[Ee]);ge[j]=-1}for(M[0]+="/",j=1;j<ue;++j)D[j].type!==2&&(M[j]+="/")}function C(D,M,U){for(var j=D.start,H=D.size,X=[],he=j;U&&H>0&&he>=0;)X.push(M.slice(he*Q,he*Q+Q)),H-=Q,he=to(U,he*4);return X.length===0?zr(0):ua(X).slice(0,D.size)}function I(D,M,U,j,H){var X=_e;if(D===_e){if(M!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var he=U[D],Ee=(j>>>2)-1;if(!he)return;for(var ue=0;ue<Ee&&(X=to(he,ue*4))!==_e;++ue)H.push(X);I(to(he,j-4),M-1,U,j,H)}}function b(D,M,U,j,H){var X=[],he=[];H||(H=[]);var Ee=j-1,ue=0,ge=0;for(ue=M;ue>=0;){H[ue]=!0,X[X.length]=ue,he.push(D[ue]);var pe=U[Math.floor(ue*4/j)];if(ge=ue*4&Ee,j<4+ge)throw new Error("FAT boundary crossed: "+ue+" 4 "+j);if(!D[pe])break;ue=to(D[pe],ge)}return{nodes:X,data:ry([he])}}function k(D,M,U,j){var H=D.length,X=[],he=[],Ee=[],ue=[],ge=j-1,pe=0,Te=0,Oe=0,Pe=0;for(pe=0;pe<H;++pe)if(Ee=[],Oe=pe+M,Oe>=H&&(Oe-=H),!he[Oe]){ue=[];var Ue=[];for(Te=Oe;Te>=0;){Ue[Te]=!0,he[Te]=!0,Ee[Ee.length]=Te,ue.push(D[Te]);var ze=U[Math.floor(Te*4/j)];if(Pe=Te*4&ge,j<4+Pe)throw new Error("FAT boundary crossed: "+Te+" 4 "+j);if(!D[ze]||(Te=to(D[ze],Pe),Ue[Te]))break}X[Oe]={nodes:Ee,data:ry([ue])}}return X}function S(D,M,U,j,H,X,he,Ee){for(var ue=0,ge=j.length?2:0,pe=M[D].data,Te=0,Oe=0,Pe;Te<pe.length;Te+=128){var Ue=pe.slice(Te,Te+128);hn(Ue,64),Oe=Ue.read_shift(2),Pe=wm(Ue,0,Oe-ge),j.push(Pe);var ze={name:Pe,type:Ue.read_shift(1),color:Ue.read_shift(1),L:Ue.read_shift(4,"i"),R:Ue.read_shift(4,"i"),C:Ue.read_shift(4,"i"),clsid:Ue.read_shift(16),state:Ue.read_shift(4,"i"),start:0,size:0},ut=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);ut!==0&&(ze.ct=L(Ue,Ue.l-8));var ve=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);ve!==0&&(ze.mt=L(Ue,Ue.l-8)),ze.start=Ue.read_shift(4,"i"),ze.size=Ue.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=_e,ze.name=""),ze.type===5?(ue=ze.start,H>0&&ue!==_e&&(M[ue].name="!StreamData")):ze.size>=4096?(ze.storage="fat",M[ze.start]===void 0&&(M[ze.start]=b(U,ze.start,M.fat_addrs,M.ssz)),M[ze.start].name=ze.name,ze.content=M[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:ue!==_e&&ze.start!==_e&&M[ue]&&(ze.content=C(ze,M[ue].data,(M[Ee]||{}).data))),ze.content&&hn(ze.content,0),X[Pe]=ze,he.push(ze)}}function L(D,M){return new Date((hi(D,M+4)/1e7*Math.pow(2,32)+hi(D,M)/1e7-11644473600)*1e3)}function q(D,M){return p(),m(g.readFileSync(D),M)}function G(D,M){var U=M&&M.type;switch(U||Nt&&Buffer.isBuffer(D)&&(U="buffer"),U||"base64"){case"file":return q(D,M);case"base64":return m(Ji(yi(D)),M);case"binary":return m(Ji(D),M)}return m(D,M)}function F(D,M){var U=M||{},j=U.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=j+"/",D.FileIndex[0]={name:j,type:5}),U.CLSID&&(D.FileIndex[0].clsid=U.CLSID),Z(D)}function Z(D){var M="Sh33tJ5";if(!Ft.find(D,"/"+M)){var U=zr(4);U[0]=55,U[1]=U[3]=50,U[2]=54,D.FileIndex.push({name:M,type:2,content:U,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+M),W(D)}}function W(D,M){F(D);for(var U=!1,j=!1,H=D.FullPaths.length-1;H>=0;--H){var X=D.FileIndex[H];switch(X.type){case 0:j?U=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(X.R*X.L*X.C)&&(U=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!M)){var he=new Date(1987,1,19),Ee=0,ue=Object.create?Object.create(null):{},ge=[];for(H=0;H<D.FullPaths.length;++H)ue[D.FullPaths[H]]=!0,D.FileIndex[H].type!==0&&ge.push([D.FullPaths[H],D.FileIndex[H]]);for(H=0;H<ge.length;++H){var pe=n(ge[H][0]);j=ue[pe],j||(ge.push([pe,{name:i(pe).replace("/",""),type:1,clsid:Be,ct:he,mt:he,content:null}]),ue[pe]=!0)}for(ge.sort(function(Pe,Ue){return r(Pe[0],Ue[0])}),D.FullPaths=[],D.FileIndex=[],H=0;H<ge.length;++H)D.FullPaths[H]=ge[H][0],D.FileIndex[H]=ge[H][1];for(H=0;H<ge.length;++H){var Te=D.FileIndex[H],Oe=D.FullPaths[H];if(Te.name=i(Oe).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||Be,H===0)Te.C=ge.length>1?1:-1,Te.size=0,Te.type=5;else if(Oe.slice(-1)=="/"){for(Ee=H+1;Ee<ge.length&&n(D.FullPaths[Ee])!=Oe;++Ee);for(Te.C=Ee>=ge.length?-1:Ee,Ee=H+1;Ee<ge.length&&n(D.FullPaths[Ee])!=n(Oe);++Ee);Te.R=Ee>=ge.length?-1:Ee,Te.type=1}else n(D.FullPaths[H+1]||"")==n(Oe)&&(Te.R=H+1),Te.type=2}}}function oe(D,M){var U=M||{};if(U.fileType=="mad")return nt(D,U);switch(W(D),U.fileType){case"zip":return zi(D,U)}var j=function(Pe){for(var Ue=0,ze=0,ut=0;ut<Pe.FileIndex.length;++ut){var ve=Pe.FileIndex[ut];if(ve.content){var fr=ve.content.length;fr>0&&(fr<4096?Ue+=fr+63>>6:ze+=fr+511>>9)}}for(var yt=Pe.FullPaths.length+3>>2,Si=Ue+7>>3,Xa=Ue+127>>7,kt=Si+ze+yt+Xa,_t=kt+127>>7,Et=_t<=109?0:Math.ceil((_t-109)/127);kt+_t+Et+127>>7>_t;)Et=++_t<=109?0:Math.ceil((_t-109)/127);var li=[1,Et,_t,Xa,yt,ze,Ue,0];return Pe.FileIndex[0].size=Ue<<6,li[7]=(Pe.FileIndex[0].start=li[0]+li[1]+li[2]+li[3]+li[4]+li[5])+(li[6]+7>>3),li}(D),H=zr(j[7]<<9),X=0,he=0;{for(X=0;X<8;++X)H.write_shift(1,ee[X]);for(X=0;X<8;++X)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),X=0;X<3;++X)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,j[2]),H.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:_e),H.write_shift(4,j[3]),H.write_shift(-4,j[1]?j[0]-1:_e),H.write_shift(4,j[1]),X=0;X<109;++X)H.write_shift(-4,X<j[2]?j[1]+X:-1)}if(j[1])for(he=0;he<j[1];++he){for(;X<236+he*127;++X)H.write_shift(-4,X<j[2]?j[1]+X:-1);H.write_shift(-4,he===j[1]-1?_e:he+1)}var Ee=function(Pe){for(he+=Pe;X<he-1;++X)H.write_shift(-4,X+1);Pe&&(++X,H.write_shift(-4,_e))};for(he=X=0,he+=j[1];X<he;++X)H.write_shift(-4,Ce.DIFSECT);for(he+=j[2];X<he;++X)H.write_shift(-4,Ce.FATSECT);Ee(j[3]),Ee(j[4]);for(var ue=0,ge=0,pe=D.FileIndex[0];ue<D.FileIndex.length;++ue)pe=D.FileIndex[ue],pe.content&&(ge=pe.content.length,!(ge<4096)&&(pe.start=he,Ee(ge+511>>9)));for(Ee(j[6]+7>>3);H.l&511;)H.write_shift(-4,Ce.ENDOFCHAIN);for(he=X=0,ue=0;ue<D.FileIndex.length;++ue)pe=D.FileIndex[ue],pe.content&&(ge=pe.content.length,!(!ge||ge>=4096)&&(pe.start=he,Ee(ge+63>>6)));for(;H.l&511;)H.write_shift(-4,Ce.ENDOFCHAIN);for(X=0;X<j[4]<<2;++X){var Te=D.FullPaths[X];if(!Te||Te.length===0){for(ue=0;ue<17;++ue)H.write_shift(4,0);for(ue=0;ue<3;++ue)H.write_shift(4,-1);for(ue=0;ue<12;++ue)H.write_shift(4,0);continue}pe=D.FileIndex[X],X===0&&(pe.start=pe.size?pe.start-1:_e);var Oe=X===0&&U.root||pe.name;if(ge=2*(Oe.length+1),H.write_shift(64,Oe,"utf16le"),H.write_shift(2,ge),H.write_shift(1,pe.type),H.write_shift(1,pe.color),H.write_shift(-4,pe.L),H.write_shift(-4,pe.R),H.write_shift(-4,pe.C),pe.clsid)H.write_shift(16,pe.clsid,"hex");else for(ue=0;ue<4;++ue)H.write_shift(4,0);H.write_shift(4,pe.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,pe.start),H.write_shift(4,pe.size),H.write_shift(4,0)}for(X=1;X<D.FileIndex.length;++X)if(pe=D.FileIndex[X],pe.size>=4096)if(H.l=pe.start+1<<9,Nt&&Buffer.isBuffer(pe.content))pe.content.copy(H,H.l,0,pe.size),H.l+=pe.size+511&-512;else{for(ue=0;ue<pe.size;++ue)H.write_shift(1,pe.content[ue]);for(;ue&511;++ue)H.write_shift(1,0)}for(X=1;X<D.FileIndex.length;++X)if(pe=D.FileIndex[X],pe.size>0&&pe.size<4096)if(Nt&&Buffer.isBuffer(pe.content))pe.content.copy(H,H.l,0,pe.size),H.l+=pe.size+63&-64;else{for(ue=0;ue<pe.size;++ue)H.write_shift(1,pe.content[ue]);for(;ue&63;++ue)H.write_shift(1,0)}if(Nt)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function le(D,M){var U=D.FullPaths.map(function(ue){return ue.toUpperCase()}),j=U.map(function(ue){var ge=ue.split("/");return ge[ge.length-(ue.slice(-1)=="/"?2:1)]}),H=!1;M.charCodeAt(0)===47?(H=!0,M=U[0].slice(0,-1)+M):H=M.indexOf("/")!==-1;var X=M.toUpperCase(),he=H===!0?U.indexOf(X):j.indexOf(X);if(he!==-1)return D.FileIndex[he];var Ee=!X.match(Fc);for(X=X.replace(Hn,""),Ee&&(X=X.replace(Fc,"!")),he=0;he<U.length;++he)if((Ee?U[he].replace(Fc,"!"):U[he]).replace(Hn,"")==X||(Ee?j[he].replace(Fc,"!"):j[he]).replace(Hn,"")==X)return D.FileIndex[he];return null}var Q=64,_e=-2,Se="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],Be="00000000000000000000000000000000",Ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:_e,FREESECT:-1,HEADER_SIGNATURE:Se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Be,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ae(D,M,U){p();var j=oe(D,U);g.writeFileSync(M,j)}function ne(D){for(var M=new Array(D.length),U=0;U<D.length;++U)M[U]=String.fromCharCode(D[U]);return M.join("")}function be(D,M){var U=oe(D,M);switch(M&&M.type||"buffer"){case"file":return p(),g.writeFileSync(M.filename,U),U;case"binary":return typeof U=="string"?U:ne(U);case"base64":return Lv(typeof U=="string"?U:ne(U));case"buffer":if(Nt)return Buffer.isBuffer(U)?U:Bo(U);case"array":return typeof U=="string"?Ji(U):U}return U}var ce;function B(D){try{var M=D.InflateRaw,U=new M;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)ce=D;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function se(D,M){if(!ce)return ls(D,M);var U=ce.InflateRaw,j=new U,H=j._processChunk(D.slice(D.l),j._finishFlushFlag);return D.l+=j.bytesRead,H}function K(D){return ce?ce.deflateRawSync(D):ft(D)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],De=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ve(D){var M=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(M>>16|M>>8|M)&255}for(var We=typeof Uint8Array<"u",Re=We?new Uint8Array(256):[],et=0;et<256;++et)Re[et]=Ve(et);function Y(D,M){var U=Re[D&255];return M<=8?U>>>8-M:(U=U<<8|Re[D>>8&255],M<=16?U>>>16-M:(U=U<<8|Re[D>>16&255],U>>>24-M))}function qe(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=6?0:D[j+1]<<8))>>>U&3}function ct(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=5?0:D[j+1]<<8))>>>U&7}function ht(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=4?0:D[j+1]<<8))>>>U&15}function Ye(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=3?0:D[j+1]<<8))>>>U&31}function Ne(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=1?0:D[j+1]<<8))>>>U&127}function Ze(D,M,U){var j=M&7,H=M>>>3,X=(1<<U)-1,he=D[H]>>>j;return U<8-j||(he|=D[H+1]<<8-j,U<16-j)||(he|=D[H+2]<<16-j,U<24-j)||(he|=D[H+3]<<24-j),he&X}function ot(D,M,U){var j=M&7,H=M>>>3;return j<=5?D[H]|=(U&7)<<j:(D[H]|=U<<j&255,D[H+1]=(U&7)>>8-j),M+3}function Ht(D,M,U){var j=M&7,H=M>>>3;return U=(U&1)<<j,D[H]|=U,M+1}function Xe(D,M,U){var j=M&7,H=M>>>3;return U<<=j,D[H]|=U&255,U>>>=8,D[H+1]=U,M+8}function zt(D,M,U){var j=M&7,H=M>>>3;return U<<=j,D[H]|=U&255,U>>>=8,D[H+1]=U&255,D[H+2]=U>>>8,M+16}function yn(D,M){var U=D.length,j=2*U>M?2*U:M+5,H=0;if(U>=M)return D;if(Nt){var X=Uv(j);if(D.copy)D.copy(X);else for(;H<D.length;++H)X[H]=D[H];return X}else if(We){var he=new Uint8Array(j);if(he.set)he.set(D);else for(;H<U;++H)he[H]=D[H];return he}return D.length=j,D}function Gt(D){for(var M=new Array(D),U=0;U<D;++U)M[U]=0;return M}function Mr(D,M,U){var j=1,H=0,X=0,he=0,Ee=0,ue=D.length,ge=We?new Uint16Array(32):Gt(32);for(X=0;X<32;++X)ge[X]=0;for(X=ue;X<U;++X)D[X]=0;ue=D.length;var pe=We?new Uint16Array(ue):Gt(ue);for(X=0;X<ue;++X)ge[H=D[X]]++,j<H&&(j=H),pe[X]=0;for(ge[0]=0,X=1;X<=j;++X)ge[X+16]=Ee=Ee+ge[X-1]<<1;for(X=0;X<ue;++X)Ee=D[X],Ee!=0&&(pe[X]=ge[Ee+16]++);var Te=0;for(X=0;X<ue;++X)if(Te=D[X],Te!=0)for(Ee=Y(pe[X],j)>>j-Te,he=(1<<j+4-Te)-1;he>=0;--he)M[Ee|he<<Te]=Te&15|X<<4;return j}var Er=We?new Uint16Array(512):Gt(512),Hi=We?new Uint16Array(32):Gt(32);if(!We){for(var Qt=0;Qt<512;++Qt)Er[Qt]=0;for(Qt=0;Qt<32;++Qt)Hi[Qt]=0}(function(){for(var D=[],M=0;M<32;M++)D.push(5);Mr(D,Hi,32);var U=[];for(M=0;M<=143;M++)U.push(8);for(;M<=255;M++)U.push(9);for(;M<=279;M++)U.push(7);for(;M<=287;M++)U.push(8);Mr(U,Er,288)})();var Yt=function(){for(var M=We?new Uint8Array(32768):[],U=0,j=0;U<De.length-1;++U)for(;j<De[U+1];++j)M[j]=U;for(;j<32768;++j)M[j]=29;var H=We?new Uint8Array(259):[];for(U=0,j=0;U<ae.length-1;++U)for(;j<ae[U+1];++j)H[j]=U;function X(Ee,ue){for(var ge=0;ge<Ee.length;){var pe=Math.min(65535,Ee.length-ge),Te=ge+pe==Ee.length;for(ue.write_shift(1,+Te),ue.write_shift(2,pe),ue.write_shift(2,~pe&65535);pe-- >0;)ue[ue.l++]=Ee[ge++]}return ue.l}function he(Ee,ue){for(var ge=0,pe=0,Te=We?new Uint16Array(32768):[];pe<Ee.length;){var Oe=Math.min(65535,Ee.length-pe);if(Oe<10){for(ge=ot(ue,ge,+(pe+Oe==Ee.length)),ge&7&&(ge+=8-(ge&7)),ue.l=ge/8|0,ue.write_shift(2,Oe),ue.write_shift(2,~Oe&65535);Oe-- >0;)ue[ue.l++]=Ee[pe++];ge=ue.l*8;continue}ge=ot(ue,ge,+(pe+Oe==Ee.length)+2);for(var Pe=0;Oe-- >0;){var Ue=Ee[pe];Pe=(Pe<<5^Ue)&32767;var ze=-1,ut=0;if((ze=Te[Pe])&&(ze|=pe&-32768,ze>pe&&(ze-=32768),ze<pe))for(;Ee[ze+ut]==Ee[pe+ut]&&ut<250;)++ut;if(ut>2){Ue=H[ut],Ue<=22?ge=Xe(ue,ge,Re[Ue+1]>>1)-1:(Xe(ue,ge,3),ge+=5,Xe(ue,ge,Re[Ue-23]>>5),ge+=3);var ve=Ue<8?0:Ue-4>>2;ve>0&&(zt(ue,ge,ut-ae[Ue]),ge+=ve),Ue=M[pe-ze],ge=Xe(ue,ge,Re[Ue]>>3),ge-=3;var fr=Ue<4?0:Ue-2>>1;fr>0&&(zt(ue,ge,pe-ze-De[Ue]),ge+=fr);for(var yt=0;yt<ut;++yt)Te[Pe]=pe&32767,Pe=(Pe<<5^Ee[pe])&32767,++pe;Oe-=ut-1}else Ue<=143?Ue=Ue+48:ge=Ht(ue,ge,1),ge=Xe(ue,ge,Re[Ue]),Te[Pe]=pe&32767,++pe}ge=Xe(ue,ge,0)-1}return ue.l=(ge+7)/8|0,ue.l}return function(ue,ge){return ue.length<8?X(ue,ge):he(ue,ge)}}();function ft(D){var M=zr(50+Math.floor(D.length*1.1)),U=Yt(D,M);return M.slice(0,U)}var Kt=We?new Uint16Array(32768):Gt(32768),_n=We?new Uint16Array(32768):Gt(32768),gt=We?new Uint16Array(128):Gt(128),Le=1,cr=1;function Wt(D,M){var U=Ye(D,M)+257;M+=5;var j=Ye(D,M)+1;M+=5;var H=ht(D,M)+4;M+=4;for(var X=0,he=We?new Uint8Array(19):Gt(19),Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,ge=We?new Uint8Array(8):Gt(8),pe=We?new Uint8Array(8):Gt(8),Te=he.length,Oe=0;Oe<H;++Oe)he[te[Oe]]=X=ct(D,M),ue<X&&(ue=X),ge[X]++,M+=3;var Pe=0;for(ge[0]=0,Oe=1;Oe<=ue;++Oe)pe[Oe]=Pe=Pe+ge[Oe-1]<<1;for(Oe=0;Oe<Te;++Oe)(Pe=he[Oe])!=0&&(Ee[Oe]=pe[Pe]++);var Ue=0;for(Oe=0;Oe<Te;++Oe)if(Ue=he[Oe],Ue!=0){Pe=Re[Ee[Oe]]>>8-Ue;for(var ze=(1<<7-Ue)-1;ze>=0;--ze)gt[Pe|ze<<Ue]=Ue&7|Oe<<3}var ut=[];for(ue=1;ut.length<U+j;)switch(Pe=gt[Ne(D,M)],M+=Pe&7,Pe>>>=3){case 16:for(X=3+qe(D,M),M+=2,Pe=ut[ut.length-1];X-- >0;)ut.push(Pe);break;case 17:for(X=3+ct(D,M),M+=3;X-- >0;)ut.push(0);break;case 18:for(X=11+Ne(D,M),M+=7;X-- >0;)ut.push(0);break;default:ut.push(Pe),ue<Pe&&(ue=Pe);break}var ve=ut.slice(0,U),fr=ut.slice(U);for(Oe=U;Oe<286;++Oe)ve[Oe]=0;for(Oe=j;Oe<30;++Oe)fr[Oe]=0;return Le=Mr(ve,Kt,286),cr=Mr(fr,_n,30),M}function tr(D,M){if(D[0]==3&&!(D[1]&3))return[Ua(M),2];for(var U=0,j=0,H=Uv(M||1<<18),X=0,he=H.length>>>0,Ee=0,ue=0;!(j&1);){if(j=ct(D,U),U+=3,j>>>1)j>>1==1?(Ee=9,ue=5):(U=Wt(D,U),Ee=Le,ue=cr);else{U&7&&(U+=8-(U&7));var ge=D[U>>>3]|D[(U>>>3)+1]<<8;if(U+=32,ge>0)for(!M&&he<X+ge&&(H=yn(H,X+ge),he=H.length);ge-- >0;)H[X++]=D[U>>>3],U+=8;continue}for(;;){!M&&he<X+32767&&(H=yn(H,X+32767),he=H.length);var pe=Ze(D,U,Ee),Te=j>>>1==1?Er[pe]:Kt[pe];if(U+=Te&15,Te>>>=4,!(Te>>>8&255))H[X++]=Te;else{if(Te==256)break;Te-=257;var Oe=Te<8?0:Te-4>>2;Oe>5&&(Oe=0);var Pe=X+ae[Te];Oe>0&&(Pe+=Ze(D,U,Oe),U+=Oe),pe=Ze(D,U,ue),Te=j>>>1==1?Hi[pe]:_n[pe],U+=Te&15,Te>>>=4;var Ue=Te<4?0:Te-2>>1,ze=De[Te];for(Ue>0&&(ze+=Ze(D,U,Ue),U+=Ue),!M&&he<Pe&&(H=yn(H,Pe+100),he=H.length);X<Pe;)H[X]=H[X-ze],++X}}}return M?[H,U+7>>>3]:[H.slice(0,X),U+7>>>3]}function ls(D,M){var U=D.slice(D.l||0),j=tr(U,M);return D.l+=j[1],j[0]}function cs(D,M){if(D)typeof console<"u"&&console.error(M);else throw new Error(M)}function Qs(D,M){var U=D;hn(U,0);var j=[],H=[],X={FileIndex:j,FullPaths:H};F(X,{root:M.root});for(var he=U.length-4;(U[he]!=80||U[he+1]!=75||U[he+2]!=5||U[he+3]!=6)&&he>=0;)--he;U.l=he+4,U.l+=4;var Ee=U.read_shift(2);U.l+=6;var ue=U.read_shift(4);for(U.l=ue,he=0;he<Ee;++he){U.l+=20;var ge=U.read_shift(4),pe=U.read_shift(4),Te=U.read_shift(2),Oe=U.read_shift(2),Pe=U.read_shift(2);U.l+=8;var Ue=U.read_shift(4),ze=u(U.slice(U.l+Te,U.l+Te+Oe));U.l+=Te+Oe+Pe;var ut=U.l;U.l=Ue+4,vt(U,ge,pe,X,ze),U.l=ut}return X}function vt(D,M,U,j,H){D.l+=2;var X=D.read_shift(2),he=D.read_shift(2),Ee=l(D);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var ue=D.read_shift(4),ge=D.read_shift(4),pe=D.read_shift(4),Te=D.read_shift(2),Oe=D.read_shift(2),Pe="",Ue=0;Ue<Te;++Ue)Pe+=String.fromCharCode(D[D.l++]);if(Oe){var ze=u(D.slice(D.l,D.l+Oe));(ze[21589]||{}).mt&&(Ee=ze[21589].mt),((H||{})[21589]||{}).mt&&(Ee=H[21589].mt)}D.l+=Oe;var ut=D.slice(D.l,D.l+ge);switch(he){case 8:ut=se(D,pe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var ve=!1;X&8&&(ue=D.read_shift(4),ue==134695760&&(ue=D.read_shift(4),ve=!0),ge=D.read_shift(4),pe=D.read_shift(4)),ge!=M&&cs(ve,"Bad compressed size: "+M+" != "+ge),pe!=U&&cs(ve,"Bad uncompressed size: "+U+" != "+pe),pt(j,Pe,ut,{unsafe:!0,mt:Ee})}function zi(D,M){var U=M||{},j=[],H=[],X=zr(1),he=U.compression?8:0,Ee=0,ue=0,ge=0,pe=0,Te=0,Oe=D.FullPaths[0],Pe=Oe,Ue=D.FileIndex[0],ze=[],ut=0;for(ue=1;ue<D.FullPaths.length;++ue)if(Pe=D.FullPaths[ue].slice(Oe.length),Ue=D.FileIndex[ue],!(!Ue.size||!Ue.content||Pe=="Sh33tJ5")){var ve=pe,fr=zr(Pe.length);for(ge=0;ge<Pe.length;++ge)fr.write_shift(1,Pe.charCodeAt(ge)&127);fr=fr.slice(0,fr.l),ze[Te]=rP.buf(Ue.content,0);var yt=Ue.content;he==8&&(yt=K(yt)),X=zr(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,Ee),X.write_shift(2,he),Ue.mt?a(X,Ue.mt):X.write_shift(4,0),X.write_shift(-4,ze[Te]),X.write_shift(4,yt.length),X.write_shift(4,Ue.content.length),X.write_shift(2,fr.length),X.write_shift(2,0),pe+=X.length,j.push(X),pe+=fr.length,j.push(fr),pe+=yt.length,j.push(yt),X=zr(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,Ee),X.write_shift(2,he),X.write_shift(4,0),X.write_shift(-4,ze[Te]),X.write_shift(4,yt.length),X.write_shift(4,Ue.content.length),X.write_shift(2,fr.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,ve),ut+=X.l,H.push(X),ut+=fr.length,H.push(fr),++Te}return X=zr(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Te),X.write_shift(2,Te),X.write_shift(4,ut),X.write_shift(4,pe),X.write_shift(2,0),ua([ua(j),ua(H),X])}var ks={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ho(D,M){if(D.ctype)return D.ctype;var U=D.name||"",j=U.match(/\.([^\.]+)$/);return j&&ks[j[1]]||M&&(j=(U=M).match(/[\.\\]([^\.\\])+$/),j&&ks[j[1]])?ks[j[1]]:"application/octet-stream"}function Pn(D){for(var M=Lv(D),U=[],j=0;j<M.length;j+=76)U.push(M.slice(j,j+76));return U.join(`\r
`)+`\r
`}function Ga(D){var M=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var pe=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(pe.length==1?"0"+pe:pe)});M=M.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),M.charAt(0)==`
`&&(M="=0D"+M.slice(1)),M=M.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],j=M.split(`\r
`),H=0;H<j.length;++H){var X=j[H];if(X.length==0){U.push("");continue}for(var he=0;he<X.length;){var Ee=76,ue=X.slice(he,he+Ee);ue.charAt(Ee-1)=="="?Ee--:ue.charAt(Ee-2)=="="?Ee-=2:ue.charAt(Ee-3)=="="&&(Ee-=3),ue=X.slice(he,he+Ee),he+=Ee,he<X.length&&(ue+="="),U.push(ue)}}return U.join(`\r
`)}function ie(D){for(var M=[],U=0;U<D.length;++U){for(var j=D[U];U<=D.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+D[++U];M.push(j)}for(var H=0;H<M.length;++H)M[H]=M[H].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return Ji(M.join(`\r
`))}function ke(D,M,U){for(var j="",H="",X="",he,Ee=0;Ee<10;++Ee){var ue=M[Ee];if(!ue||ue.match(/^\s*$/))break;var ge=ue.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":j=ge[2].trim();break;case"content-type":X=ge[2].trim();break;case"content-transfer-encoding":H=ge[2].trim();break}}switch(++Ee,H.toLowerCase()){case"base64":he=Ji(yi(M.slice(Ee).join("")));break;case"quoted-printable":he=ie(M.slice(Ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var pe=pt(D,j.slice(U.length),he,{unsafe:!0});X&&(pe.ctype=X)}function Ge(D,M){if(ne(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=M&&M.root||"",j=(Nt&&Buffer.isBuffer(D)?D.toString("binary"):ne(D)).split(`\r
`),H=0,X="";for(H=0;H<j.length;++H)if(X=j[H],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),U||(U=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),X.slice(0,U.length)!=U););var he=(j[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var Ee="--"+(he[1]||""),ue=[],ge=[],pe={FileIndex:ue,FullPaths:ge};F(pe);var Te,Oe=0;for(H=0;H<j.length;++H){var Pe=j[H];Pe!==Ee&&Pe!==Ee+"--"||(Oe++&&ke(pe,j.slice(Te,H),U),Te=H)}return pe}function nt(D,M){var U=M||{},j=U.boundary||"SheetJS";j="------="+j;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],X=D.FullPaths[0],he=X,Ee=D.FileIndex[0],ue=1;ue<D.FullPaths.length;++ue)if(he=D.FullPaths[ue].slice(X.length),Ee=D.FileIndex[ue],!(!Ee.size||!Ee.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ut){return"_x"+ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ut){return"_u"+ut.charCodeAt(0).toString(16)+"_"});for(var ge=Ee.content,pe=Nt&&Buffer.isBuffer(ge)?ge.toString("binary"):ne(ge),Te=0,Oe=Math.min(1024,pe.length),Pe=0,Ue=0;Ue<=Oe;++Ue)(Pe=pe.charCodeAt(Ue))>=32&&Pe<128&&++Te;var ze=Te>=Oe*4/5;H.push(j),H.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+he),H.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),H.push("Content-Type: "+Ho(Ee,he)),H.push(""),H.push(ze?Ga(pe):Pn(pe))}return H.push(j+`--\r
`),H.join(`\r
`)}function it(D){var M={};return F(M,D),M}function pt(D,M,U,j){var H=j&&j.unsafe;H||F(D);var X=!H&&Ft.find(D,M);if(!X){var he=D.FullPaths[0];M.slice(0,he.length)==he?he=M:(he.slice(-1)!="/"&&(he+="/"),he=(he+M).replace("//","/")),X={name:i(M),type:2},D.FileIndex.push(X),D.FullPaths.push(he),H||Ft.utils.cfb_gc(D)}return X.content=U,X.size=U?U.length:0,j&&(j.CLSID&&(X.clsid=j.CLSID),j.mt&&(X.mt=j.mt),j.ct&&(X.ct=j.ct)),X}function ur(D,M){F(D);var U=Ft.find(D,M);if(U){for(var j=0;j<D.FileIndex.length;++j)if(D.FileIndex[j]==U)return D.FileIndex.splice(j,1),D.FullPaths.splice(j,1),!0}return!1}function Xt(D,M,U){F(D);var j=Ft.find(D,M);if(j){for(var H=0;H<D.FileIndex.length;++H)if(D.FileIndex[H]==j)return D.FileIndex[H].name=i(U),D.FullPaths[H]=U,!0}return!1}function Cr(D){W(D,!0)}return t.find=le,t.read=G,t.parse=m,t.write=be,t.writeFile=Ae,t.utils={cfb_new:it,cfb_add:pt,cfb_del:ur,cfb_mov:Xt,cfb_gc:Cr,ReadShift:Jc,CheckField:$4,prep_blob:hn,bconcat:ua,use_zlib:B,_deflateRaw:ft,_inflateRaw:ls,consts:Ce},t}();function nP(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Cs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function gm(e){for(var t=[],r=Cs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var yd=new Date(1899,11,30,0,0,0);function Gn(e,t){var r=e.getTime(),n=yd.getTime()+(e.getTimezoneOffset()-yd.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var T4=new Date,iP=yd.getTime()+(T4.getTimezoneOffset()-yd.getTimezoneOffset())*6e4,$v=T4.getTimezoneOffset();function uh(e){var t=new Date;return t.setTime(e*24*60*60*1e3+iP),t.getTimezoneOffset()!==$v&&t.setTime(t.getTime()+(t.getTimezoneOffset()-$v)*6e4),t}function sP(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var Yv=new Date("2017-02-19T19:06:09.000Z"),k4=isNaN(Yv.getFullYear())?new Date("2/19/17"):Yv,aP=k4.getFullYear()==2017;function on(e,t){var r=new Date(e);if(aP)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(k4.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function To(e,t){if(Nt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Mc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Mc(h4(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Mc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Mc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function xn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=xn(e[r]));return t}function kr(e,t){for(var r="";r.length<t;)r+=e;return r}function as(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var oP=["january","february","march","april","may","june","july","august","september","october","november","december"];function zl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&oP.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var lP=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),l=[a[0]],u=1;u<a.length;++u)l.push(i),l.push(a[u]);return l}}();function b4(e){return e?e.content&&e.type?To(e.content,!0):e.data?Dc(e.data):e.asNodeBuffer&&Nt?Dc(e.asNodeBuffer().toString("binary")):e.asBinary?Dc(e.asBinary()):e._data&&e._data.getContent?Dc(To(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function I4(e){if(!e)return null;if(e.data)return Mv(e.data);if(e.asNodeBuffer&&Nt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Mv(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function cP(e){return e&&e.name.slice(-4)===".bin"?I4(e):b4(e)}function Ni(e,t){for(var r=e.FullPaths||Cs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var l=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||i==l)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function pm(e,t){var r=Ni(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Lr(e,t,r){if(!r)return cP(pm(e,t));if(!t)return null;try{return Lr(e,t)}catch{return null}}function gi(e,t,r){if(!r)return b4(pm(e,t));if(!t)return null;try{return gi(e,t)}catch{return null}}function uP(e,t,r){return I4(pm(e,t))}function Kv(e){for(var t=e.FullPaths||Cs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function fP(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Nt?n=Bo(r):n=R9(r),Ft.utils.cfb_add(e,t,n)}Ft.utils.cfb_add(e,t,r)}else e.file(t,r)}function R4(e,t){switch(t.type){case"base64":return Ft.read(e,{type:"base64"});case"binary":return Ft.read(e,{type:"binary"});case"buffer":case"array":return Ft.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Pc(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var N4=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,dP=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,qv=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,hP=/<[^>]*>/g,Fn=N4.match(qv)?qv:hP,gP=/<\w*:/,pP=/<(\/?)\w+:/;function lt(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var l=e.match(dP),u=0,g="",p=0,m="",v="",_=1;if(l)for(p=0;p!=l.length;++p){for(v=l[p],a=0;a!=v.length&&v.charCodeAt(a)!==61;++a);for(m=v.slice(0,a).trim();v.charCodeAt(a+1)==32;)++a;for(_=(i=v.charCodeAt(a+1))==34||i==39?1:0,g=v.slice(a+1+_,v.length-_),u=0;u!=m.length&&m.charCodeAt(u)!==58;++u);if(u===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=g,n[m.toLowerCase()]=g;else{var E=(u===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(u+1);if(n[E]&&m.slice(u-3,u)=="ext")continue;n[E]=g,n[E.toLowerCase()]=g}}return n}function Ss(e){return e.replace(pP,"<$1")}var O4={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xP=gm(O4),Lt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(u,g){return O4[u]||String.fromCharCode(parseInt(g,u.indexOf("x")>-1?16:10))||u}).replace(t,function(u,g){return String.fromCharCode(parseInt(g,16))});var l=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,l)+r(i.slice(l+3))}}(),mP=/[&<>'"]/g,wP=/[\u0000-\u001f]/g;function xm(e){var t=e+"";return t.replace(mP,function(r){return xP[r]}).replace(/\n/g,"<br/>").replace(wP,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var Zv=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function xr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function w1(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=i&63,t+=String.fromCharCode(l);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}l=e.charCodeAt(r++),u=((n&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(u&1023))}return t}function Qv(e){var t=Ua(2*e.length),r,n,i=1,a=0,l=0,u;for(n=0;n<e.length;n+=i)i=1,(u=e.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(e.charCodeAt(n+1)&63),i=2):u<240?(r=(u&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(u&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[a++]=l&255,t[a++]=l>>>8,l=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function Jv(e){return Bo(e,"binary").toString("utf8")}var $u="foo bar baz",or=Nt&&(Jv($u)==w1($u)&&Jv||Qv($u)==w1($u)&&Qv)||w1,Mc=Nt?function(e){return Bo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},j0=function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),D4=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),vP=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),yP=/<\/?(?:vt:)?variant>/g,_P=/<(?:vt:)([^>]*)>([\s\S]*)</;function ey(e,t){var r=lt(e),n=e.match(vP(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var l=a.replace(yP,"").match(_P);l&&i.push({v:or(l[2]),t:l[1]})}),i}var EP=/(^\s|\s$|\n)/;function CP(e){return Cs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function AP(e,t,r){return"<"+e+(r!=null?CP(r):"")+(t!=null?(t.match(EP)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function mm(e){if(Nt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return or(Lo(fm(e)));throw new Error("Bad input format: expected Buffer or string")}var W0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,SP={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},TP=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function kP(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function bP(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,l=n?-t:t;isFinite(l)?l==0?i=a=0:(i=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var u=0;u<=5;++u,a/=256)e[r+u]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var ty=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},ry=Nt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Bo(t)})):ty(e)}:ty,ny=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Fs(e,i)));return n.join("").replace(Hn,"")},wm=Nt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Hn,""):ny(e,t,r)}:ny,iy=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},F4=Nt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):iy(e,t,r)}:iy,sy=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Jo(e,i)));return n.join("")},gu=Nt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):sy(t,r,n)}:sy,P4=function(e,t){var r=hi(e,t);return r>0?gu(e,t+4,t+4+r-1):""},M4=P4,B4=function(e,t){var r=hi(e,t);return r>0?gu(e,t+4,t+4+r-1):""},L4=B4,U4=function(e,t){var r=2*hi(e,t);return r>0?gu(e,t+4,t+4+r-1):""},j4=U4,W4=function(t,r){var n=hi(t,r);return n>0?wm(t,r+4,r+4+n):""},V4=W4,H4=function(e,t){var r=hi(e,t);return r>0?gu(e,t+4,t+4+r):""},z4=H4,G4=function(e,t){return kP(e,t)},_d=G4,X4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Nt&&(M4=function(t,r){if(!Buffer.isBuffer(t))return P4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},L4=function(t,r){if(!Buffer.isBuffer(t))return B4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},j4=function(t,r){if(!Buffer.isBuffer(t))return U4(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},V4=function(t,r){if(!Buffer.isBuffer(t))return W4(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},z4=function(t,r){if(!Buffer.isBuffer(t))return H4(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},_d=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):G4(t,r)},X4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Jo=function(e,t){return e[t]},Fs=function(e,t){return e[t+1]*256+e[t]},IP=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},hi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},to=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},RP=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Jc(e,t){var r="",n,i,a=[],l,u,g,p;switch(t){case"dbcs":if(p=this.l,Nt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(g=0;g<e;++g)r+=String.fromCharCode(Fs(this,p)),p+=2;e*=2;break;case"utf8":r=gu(this,this.l,this.l+e);break;case"utf16le":e*=2,r=wm(this,this.l,this.l+e);break;case"wstr":return Jc.call(this,e,"dbcs");case"lpstr-ansi":r=M4(this,this.l),e=4+hi(this,this.l);break;case"lpstr-cp":r=L4(this,this.l),e=4+hi(this,this.l);break;case"lpwstr":r=j4(this,this.l),e=4+2*hi(this,this.l);break;case"lpp4":e=4+hi(this,this.l),r=V4(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+hi(this,this.l),r=z4(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=Jo(this,this.l+e++))!==0;)a.push(Xu(l));r=a.join("");break;case"_wstr":for(e=0,r="";(l=Fs(this,this.l+e))!==0;)a.push(Xu(l)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",p=this.l,g=0;g<e;++g){if(this.lens&&this.lens.indexOf(p)!==-1)return l=Jo(this,p),this.l=p+1,u=Jc.call(this,e-g,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Xu(Fs(this,p))),p+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",p=this.l,g=0;g!=e;++g){if(this.lens&&this.lens.indexOf(p)!==-1)return l=Jo(this,p),this.l=p+1,u=Jc.call(this,e-g,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Xu(Jo(this,p))),p+=1}r=a.join("");break;default:switch(e){case 1:return n=Jo(this,this.l),this.l++,n;case 2:return n=(t==="i"?IP:Fs)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?to:RP)(this,this.l),this.l+=4,n):(i=hi(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=_d(this,this.l):i=_d([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=F4(this,this.l,e);break}}return this.l+=e,r}var NP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},OP=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},DP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function FP(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)DP(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,NP(this,t,this.l);break;case 8:if(n=8,r==="f"){bP(this,t,this.l);break}case 16:break;case-4:n=4,OP(this,t,this.l);break}return this.l+=n,this}function $4(e,t){var r=F4(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function hn(e,t){e.l=t,e.read_shift=Jc,e.chk=$4,e.write_shift=FP}function Dn(e,t){e.l+=t}function zr(e){var t=Ua(e);return hn(t,0),t}function Zs(e,t,r){if(e){var n,i,a;hn(e,e.l||0);for(var l=e.length,u=0,g=0;e.l<l;){u=e.read_shift(1),u&128&&(u=(u&127)+((e.read_shift(1)&127)<<7));var p=kd[u]||kd[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;g=e.l+a;var m=p.f&&p.f(e,a,r);if(e.l=g,t(m,p,u))return}}}function qg(){var e=[],t=Nt?256:2048,r=function(p){var m=zr(p);return hn(m,0),m},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(p){return n&&p<n.length-n.l?n:(i(),n=r(Math.max(p+1,t)))},l=function(){return i(),ua(e)},u=function(p){i(),n=p,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:u,end:l,_bufs:e}}function e0(e,t,r){var n=xn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function ay(e,t,r){var n=xn(e);return n.s=e0(n.s,t.s,r),n.e=e0(n.e,t.s,r),n}function t0(e,t){if(e.cRel&&e.c<0)for(e=xn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=xn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=dt(e);return!e.cRel&&e.cRel!=null&&(r=BP(r)),!e.rRel&&e.rRel!=null&&(r=PP(r)),r}function v1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Kr(e.s.c)+":"+(e.e.cRel?"":"$")+Kr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+mn(e.s.r)+":"+(e.e.rRel?"":"$")+mn(e.e.r):t0(e.s,t.biff)+":"+t0(e.e,t.biff)}function vm(e){return parseInt(MP(e),10)-1}function mn(e){return""+(e+1)}function PP(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function MP(e){return e.replace(/\$(\d+)$/,"$1")}function ym(e){for(var t=LP(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Kr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function BP(e){return e.replace(/^([A-Z])/,"$$$1")}function LP(e){return e.replace(/^\$([A-Z])/,"$1")}function UP(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jn(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function dt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function sc(e){var t=e.indexOf(":");return t==-1?{s:jn(e),e:jn(e)}:{s:jn(e.slice(0,t)),e:jn(e.slice(t+1))}}function Pt(e,t){return typeof t>"u"||typeof t=="number"?Pt(e.s,e.e):(typeof e!="string"&&(e=dt(e)),typeof t!="string"&&(t=dt(t)),e==t?e:e+":"+t)}function Rr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function oy(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Wi(e.z,r?Gn(t):t)}catch{}try{return e.w=Wi((e.XF||{}).numFmtId||(r?14:0),r?Gn(t):t)}catch{return""+t}}function $s(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Wo[e.v]||e.v:t==null?oy(e,e.v):oy(e,t))}function za(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Y4(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),l=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?jn(n.origin):n.origin;l=g.r,u=g.c}a["!ref"]||(a["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var m=Rr(a["!ref"]);p.s.c=m.s.c,p.s.r=m.s.r,p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(p.e.r=l=m.e.r+1)}for(var v=0;v!=t.length;++v)if(t[v]){if(!Array.isArray(t[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=t[v].length;++_)if(!(typeof t[v][_]>"u")){var E={v:t[v][_]},A=l+v,C=u+_;if(p.s.r>A&&(p.s.r=A),p.s.c>C&&(p.s.c=C),p.e.r<A&&(p.e.r=A),p.e.c<C&&(p.e.c=C),t[v][_]&&typeof t[v][_]=="object"&&!Array.isArray(t[v][_])&&!(t[v][_]instanceof Date))E=t[v][_];else if(Array.isArray(E.v)&&(E.f=t[v][_][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(n.nullError)E.t="e",E.v=0;else if(n.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=n.dateNF||mt[14],n.cellDates?(E.t="d",E.w=Wi(E.z,Gn(E.v))):(E.t="n",E.v=Gn(E.v),E.w=Wi(E.z,E.v))):E.t="s";if(i)a[A]||(a[A]=[]),a[A][C]&&a[A][C].z&&(E.z=a[A][C].z),a[A][C]=E;else{var I=dt({c:C,r:A});a[I]&&a[I].z&&(E.z=a[I].z),a[I]=E}}}return p.s.c<1e7&&(a["!ref"]=Pt(p)),a}function ac(e,t){return Y4(null,e,t)}function jP(e){return e.read_shift(4,"i")}function Rn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function WP(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function _m(e,t){var r=e.l,n=e.read_shift(1),i=Rn(e),a=[],l={t:i,h:i};if(n&1){for(var u=e.read_shift(4),g=0;g!=u;++g)a.push(WP(e));l.r=a}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}var VP=_m;function Vi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Uo(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var HP=Rn;function Em(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var zP=Rn,Zg=Em;function Cm(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?_d([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):to(t,0)>>2;return r?i/100:i}function K4(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var jo=K4;function bn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function GP(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),l=e.read_shift(1),u=e.read_shift(1),g=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var p=ho[i];p&&(t.rgb=H0(p));break;case 2:t.rgb=H0([l,u,g]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function XP(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function q4(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function $P(e){return q4(e,1)}function YP(e){return q4(e,2)}var Am=2,Qn=3,Yu=11,ly=12,Ed=19,Ku=64,KP=65,qP=71,ZP=4108,QP=4126,rn=80,Z4=81,JP=[rn,Z4],eM={1:{n:"CodePage",t:Am},2:{n:"Category",t:rn},3:{n:"PresentationFormat",t:rn},4:{n:"ByteCount",t:Qn},5:{n:"LineCount",t:Qn},6:{n:"ParagraphCount",t:Qn},7:{n:"SlideCount",t:Qn},8:{n:"NoteCount",t:Qn},9:{n:"HiddenCount",t:Qn},10:{n:"MultimediaClipCount",t:Qn},11:{n:"ScaleCrop",t:Yu},12:{n:"HeadingPairs",t:ZP},13:{n:"TitlesOfParts",t:QP},14:{n:"Manager",t:rn},15:{n:"Company",t:rn},16:{n:"LinksUpToDate",t:Yu},17:{n:"CharacterCount",t:Qn},19:{n:"SharedDoc",t:Yu},22:{n:"HyperlinksChanged",t:Yu},23:{n:"AppVersion",t:Qn,p:"version"},24:{n:"DigSig",t:KP},26:{n:"ContentType",t:rn},27:{n:"ContentStatus",t:rn},28:{n:"Language",t:rn},29:{n:"Version",t:rn},255:{},2147483648:{n:"Locale",t:Ed},2147483651:{n:"Behavior",t:Ed},1919054434:{}},tM={1:{n:"CodePage",t:Am},2:{n:"Title",t:rn},3:{n:"Subject",t:rn},4:{n:"Author",t:rn},5:{n:"Keywords",t:rn},6:{n:"Comments",t:rn},7:{n:"Template",t:rn},8:{n:"LastAuthor",t:rn},9:{n:"RevNumber",t:rn},10:{n:"EditTime",t:Ku},11:{n:"LastPrinted",t:Ku},12:{n:"CreatedDate",t:Ku},13:{n:"ModifiedDate",t:Ku},14:{n:"PageCount",t:Qn},15:{n:"WordCount",t:Qn},16:{n:"CharCount",t:Qn},17:{n:"Thumbnail",t:qP},18:{n:"Application",t:rn},19:{n:"DocSecurity",t:Qn},255:{},2147483648:{n:"Locale",t:Ed},2147483651:{n:"Behavior",t:Ed},1919054434:{}},cy={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},rM=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function nM(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var iM=nM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ho=xn(iM),Wo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Q4={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},uy={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function sM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function aM(e){var t=sM();if(!e||!e.match)return t;var r={};if((e.match(Fn)||[]).forEach(function(n){var i=lt(n);switch(i[0].replace(gP,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[uy[i.ContentType]]!==void 0&&t[uy[i.ContentType]].push(i.PartName);break}}),t.xmlns!==SP.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var pl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Qg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function r0(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Fn)||[]).forEach(function(i){var a=lt(i);if(a[0]==="<Relationship"){var l={};l.Type=a.Type,l.Target=a.Target,l.Id=a.Id,a.TargetMode&&(l.TargetMode=a.TargetMode);var u=a.TargetMode==="External"?a.Target:Pc(a.Target,t);r[u]=l,n[a.Id]=l}}),r["!id"]=n,r}var oM="application/vnd.oasis.opendocument.spreadsheet";function lM(e,t){for(var r=mm(e),n,i;n=W0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=lt(n[0],!1),i.path=="/"&&i.type!==oM)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var n0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],cM=function(){for(var e=new Array(n0.length),t=0;t<n0.length;++t){var r=n0[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function J4(e){var t={};e=or(e);for(var r=0;r<n0.length;++r){var n=n0[r],i=e.match(cM[r]);i!=null&&i.length>0&&(t[n[1]]=Lt(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=on(t[n[1]]))}return t}var uM=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function eS(e,t,r,n){var i=[];if(typeof e=="string")i=ey(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(m){return{v:m}}));var l=typeof t=="string"?ey(t,n).map(function(m){return m.v}):t,u=0,g=0;if(l.length>0)for(var p=0;p!==i.length;p+=2){switch(g=+i[p+1].v,i[p].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=g,r.SheetNames=l.slice(u,u+g);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=g,r.DefinedNames=l.slice(u,u+g);break;case"Charts":case"Diagramme":r.Chartsheets=g,r.ChartNames=l.slice(u,u+g);break}u+=g}}function fM(e,t,r){var n={};return t||(t={}),e=or(e),uM.forEach(function(i){var a=(e.match(j0(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=Lt(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var l=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(n[i[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&eS(n.HeadingPairs,n.TitlesOfParts,t,r),t}var dM=/<[^>]+>[^<]*/g;function hM(e,t){var r={},n="",i=e.match(dM);if(i)for(var a=0;a!=i.length;++a){var l=i[a],u=lt(l);switch(u[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Lt(u.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var g=l.split(">"),p=g[0].slice(4),m=g[1];switch(p){case"lpstr":case"bstr":case"lpwstr":r[n]=Lt(m);break;case"bool":r[n]=xr(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=on(m);break;case"cy":case"error":r[n]=Lt(m);break;default:if(p.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,p,g)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}var gM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},y1;function pM(e,t,r){y1||(y1=gm(gM)),t=y1[t]||t,e[t]=r}function Sm(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function tS(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function rS(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function nS(e,t,r){return t===31?rS(e):tS(e,t,r)}function Jg(e,t,r){return nS(e,t,r===!1?0:4)}function xM(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return nS(e,t,0)}function mM(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Hn,""),e.l-i&2&&(e.l+=2)}return r}function wM(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Hn,"");return r}function vM(e){var t=e.l,r=Cd(e,Z4);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Cd(e,Qn);return[r,n]}function yM(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(vM(e));return r}function fy(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),l=e.read_shift(4);n[a]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(Hn,"").replace(Fc,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function iS(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function _M(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Cd(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==ly&&n!==t&&JP.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===ly?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return tS(e,n,4).replace(Hn,"");case 31:return rS(e);case 64:return Sm(e);case 65:return iS(e);case 71:return _M(e);case 80:return Jg(e,n,!a.raw).replace(Hn,"");case 81:return xM(e,n).replace(Hn,"");case 4108:return yM(e);case 4126:case 4127:return n==4127?mM(e):wM(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function dy(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0,u=0,g=-1,p={};for(l=0;l!=i;++l){var m=e.read_shift(4),v=e.read_shift(4);a[l]=[m,v+r]}a.sort(function(k,S){return k[1]-S[1]});var _={};for(l=0;l!=i;++l){if(e.l!==a[l][1]){var E=!0;if(l>0&&t)switch(t[a[l-1][0]].t){case 2:e.l+2===a[l][1]&&(e.l+=2,E=!1);break;case 80:e.l<=a[l][1]&&(e.l=a[l][1],E=!1);break;case 4108:e.l<=a[l][1]&&(e.l=a[l][1],E=!1);break}if((!t||l==0)&&e.l<=a[l][1]&&(E=!1,e.l=a[l][1]),E)throw new Error("Read Error: Expected address "+a[l][1]+" at "+e.l+" :"+l)}if(t){var A=t[a[l][0]];if(_[A.n]=Cd(e,A.t,{raw:!0}),A.p==="version"&&(_[A.n]=String(_[A.n]>>16)+"."+("0000"+String(_[A.n]&65535)).slice(-4)),A.n=="CodePage")switch(_[A.n]){case 0:_[A.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ts(u=_[A.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+_[A.n])}}else if(a[l][0]===1){if(u=_.CodePage=Cd(e,Am),ts(u),g!==-1){var C=e.l;e.l=a[g][1],p=fy(e,u),e.l=C}}else if(a[l][0]===0){if(u===0){g=l,e.l=a[l+1][1];continue}p=fy(e,u)}else{var I=p[a[l][0]],b;switch(e[e.l]){case 65:e.l+=4,b=iS(e);break;case 30:e.l+=4,b=Jg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=Jg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=Or(e,4);break;case 64:e.l+=4,b=on(Sm(e));break;default:throw new Error("unparsed value: "+e[e.l])}_[I]=b}}return e.l=r+n,_}function hy(e,t,r){var n=e.content;if(!n)return{};hn(n,0);var i,a,l,u,g=0;n.chk("feff","Byte Order: "),n.read_shift(2);var p=n.read_shift(4),m=n.read_shift(16);if(m!==Ft.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),u=n.read_shift(4),i===1&&u!==n.l)throw new Error("Length mismatch: "+u+" !== "+n.l);i===2&&(l=n.read_shift(16),g=n.read_shift(4));var v=dy(n,t),_={SystemIdentifier:p};for(var E in v)_[E]=v[E];if(_.FMTID=a,i===1)return _;if(g-n.l==2&&(n.l+=2),n.l!==g)throw new Error("Length mismatch 2: "+n.l+" !== "+g);var A;try{A=dy(n,null)}catch{}for(E in A)_[E]=A[E];return _.FMTID=[a,l],_}function sa(e,t){return e.read_shift(t),null}function EM(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Or(e,t){return e.read_shift(t)===1}function Ur(e){return e.read_shift(2,"u")}function sS(e,t){return EM(e,t,Ur)}function CM(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function pu(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=n?e.read_shift(n,i):"";return l}function AM(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),l=0,u,g={};i&&(l=e.read_shift(2)),n&&(u=e.read_shift(4));var p=a==2?"dbcs-cont":"sbcs-cont",m=t===0?"":e.read_shift(t,p);return i&&(e.l+=4*l),n&&(e.l+=u),g.t=m,i||(g.raw="<t>"+g.t+"</t>",g.r=g.t),g}function ko(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function xu(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):ko(e,n,r)}function Vo(e,t,r){if(r.biff>5)return xu(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function SM(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function TM(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Hn,"");return n&&(e.l+=24),i}function kM(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(a>>1,"utf16le").replace(Hn,"");return r+l}function bM(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return TM(e);case"0303000000000000c000000000000046":return kM(e);default:throw new Error("Unsupported Moniker "+r)}}function qu(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Hn,""):"";return r}function IM(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,l,u,g,p="",m,v;i&16&&(a=qu(e,r-e.l)),i&128&&(l=qu(e,r-e.l)),(i&257)===257&&(u=qu(e,r-e.l)),(i&257)===1&&(g=bM(e,r-e.l)),i&8&&(p=qu(e,r-e.l)),i&32&&(m=e.read_shift(16)),i&64&&(v=Sm(e)),e.l=r;var _=l||u||g||"";_&&p&&(_+="#"+p),_||(_="#"+p),i&2&&_.charAt(0)=="/"&&_.charAt(1)!="/"&&(_="file://"+_);var E={Target:_};return m&&(E.guid=m),v&&(E.time=v),a&&(E.Tooltip=a),E}function aS(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function oS(e,t){var r=aS(e);return r[3]=0,r}function Ts(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function RM(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function NM(e,t,r){return t===0?"":Vo(e,t,r)}function OM(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[i,a,l]}function lS(e){var t=e.read_shift(2),r=Cm(e);return[t,r]}function DM(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=pu(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function fh(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function cS(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var FM=cS;function uS(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function PM(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function MM(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Sn(e){e.l+=2,e.l+=e.read_shift(2)}var BM={0:Sn,4:Sn,5:Sn,6:Sn,7:MM,8:Sn,9:Sn,10:Sn,11:Sn,12:Sn,13:PM,14:Sn,15:Sn,16:Sn,17:Sn,18:Sn,19:Sn,20:Sn,21:uS};function LM(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(BM[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Zu(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function UM(e,t){return t===0||e.read_shift(2),1200}function jM(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=Vo(e,0,r);return e.read_shift(t+n-e.l),i}function WM(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function VM(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var l=pu(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:i,dt:a,name:l}}function HM(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0;l!=i&&e.l<r;++l)a.push(AM(e));return a.Count=n,a.Unique=i,a}function zM(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function GM(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function XM(e){var t=RM(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function $M(e){return e.read_shift(2),e.read_shift(4)}function gy(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function YM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),g=e.read_shift(2),p=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:l,FirstTab:u,Selected:g,TabRatio:p}}function KM(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function qM(){}function ZM(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=pu(e,0,r),n}function QM(e){var t=Ts(e);return t.isst=e.read_shift(4),t}function JM(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=Ts(e);r.biff==2&&e.l++;var a=xu(e,n-e.l,r);return i.val=a,i}function eB(e,t,r){var n=e.read_shift(2),i=Vo(e,0,r);return[n,i]}var tB=Vo;function py(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),l=e.read_shift(i),u=e.read_shift(2),g=e.read_shift(2);return e.l=n,{s:{r:a,c:u},e:{r:l,c:g}}}function rB(e){var t=e.read_shift(2),r=e.read_shift(2),n=lS(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function nB(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(lS(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:l,rkrec:a}}function iB(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:l,ixfe:a}}function sB(e,t,r,n){var i={},a=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(4),g=e.read_shift(2);return i.patternType=rM[u>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=u&127,i.icvBottom=u>>7&127,i.icvDiag=u>>14&127,i.dgDiag=u>>21&15,i.icvFore=g&127,i.icvBack=g>>7&127,i.fsxButton=g>>14&1),i}function aB(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=sB(e,t,n.fStyle,r),n}function oB(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function xy(e,t,r){var n=Ts(e);(r.biff==2||t==9)&&++e.l;var i=CM(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function lB(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ts(e),i=bn(e);return n.val=i,n}var my=NM;function cB(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var l=ko(e,a),u=[];n>e.l;)u.push(xu(e));return[a,i,l,u]}function wy(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=DM(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var uB=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vy(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(r&&r.biff==2?1:2),g=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),g=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var p=ko(e,l,r);i&32&&(p=uB[p.charCodeAt(0)]);var m=n-e.l;r&&r.biff==2&&--m;var v=n==e.l||u===0||!(m>0)?[]:Gj(e,m,r,u);return{chKey:a,Name:p,itab:g,rgce:v}}function fS(e,t,r){if(r.biff<8)return fB(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(OM(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function fB(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=pu(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function dB(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=ko(e,n,r),l=ko(e,i,r);return[a,l]}function hB(e,t,r){var n=cS(e);e.l++;var i=e.read_shift(1);return t-=8,[Xj(e,t,r),i,n]}function yy(e,t,r){var n=FM(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Hj(e,t,r)]}function gB(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function pB(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=Vo(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},u,l,a]}}function xB(e,t,r){return pB(e,t,r)}function mB(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(fh(e));return r}function wB(e,t,r){if(r&&r.biff<8)return yB(e,t,r);var n=uS(e),i=LM(e,t-22,n[1]);return{cmo:n,ft:i}}var vB={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function yB(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((vB[n]||Dn)(e,t,r)),{cmo:[i,n,a],ft:l}}function _B(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:l=SM(e,6,r);var u=e.read_shift(2);e.read_shift(2),Ur(e,2);var g=e.read_shift(2);e.l+=g;for(var p=1;p<e.lens.length-1;++p){if(e.l-n!=e.lens[p])throw new Error("TxO: bad continue record");var m=e[e.l],v=ko(e,e.lens[p+1]-e.lens[p]-1);if(i+=v,i.length>=(m?u:2*u))break}if(i.length!==u&&i.length!==u*2)throw new Error("cchText: "+u+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function EB(e,t){var r=fh(e);e.l+=16;var n=IM(e,t-24);return[r,n]}function CB(e,t){e.read_shift(2);var r=fh(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Hn,""),[r,n]}function AB(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=cy[r]||r,r=e.read_shift(2),t[1]=cy[r]||r,t}function SB(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oS(e));return r}function TB(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(oS(e));return r}function kB(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function dS(e,t,r){if(!r.cellStyles)return Dn(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(n),g=e.read_shift(2);n==2&&(e.l+=2);var p={s:i,e:a,w:l,ixfe:u,flags:g};return(r.biff>=5||!r.biff)&&(p.level=g>>8&7),p}function bB(e,t){var r={};return t<32||(e.l+=16,r.header=bn(e),r.footer=bn(e),e.l+=2),r}function IB(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var RB=Ts,NB=sS,OB=xu;function DB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function FB(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ts(e);++e.l;var i=Vo(e,t-7,r);return n.t="str",n.val=i,n}function PB(e){var t=Ts(e);++e.l;var r=bn(e);return t.t="n",t.val=r,t}function MB(e){var t=Ts(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function BB(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function LB(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function UB(e,t,r){var n=e.l+t,i=Ts(e),a=e.read_shift(2),l=ko(e,a,r);return e.l=n,i.t="str",i.val=l,i}var jB=[2,3,48,49,131,139,140,245],_y=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=gm({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,g){var p=[],m=Ua(1);switch(g.type){case"base64":m=Ji(yi(u));break;case"binary":m=Ji(u);break;case"buffer":case"array":m=u;break}hn(m,0);var v=m.read_shift(1),_=!!(v&136),E=!1,A=!1;switch(v){case 2:break;case 3:break;case 48:E=!0,_=!0;break;case 49:E=!0,_=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var C=0,I=521;v==2&&(C=m.read_shift(2)),m.l+=3,v!=2&&(C=m.read_shift(4)),C>1048576&&(C=1e6),v!=2&&(I=m.read_shift(2));var b=m.read_shift(2),k=g.codepage||1252;v!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(k=e[m[m.l]]),m.l+=1,m.l+=2),A&&(m.l+=36);for(var S=[],L={},q=Math.min(m.length,v==2?521:I-10-(E?264:0)),G=A?32:11;m.l<q&&m[m.l]!=13;)switch(L={},L.name=L0.utils.decode(k,m.slice(m.l,m.l+G)).replace(/[\u0000\r\n].*$/g,""),m.l+=G,L.type=String.fromCharCode(m.read_shift(1)),v!=2&&!A&&(L.offset=m.read_shift(4)),L.len=m.read_shift(1),v==2&&(L.offset=m.read_shift(2)),L.dec=m.read_shift(1),L.name.length&&S.push(L),v!=2&&(m.l+=A?13:14),L.type){case"B":(!E||L.len!=8)&&g.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":g.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(m[m.l]!==13&&(m.l=I-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=I;var F=0,Z=0;for(p[0]=[],Z=0;Z!=S.length;++Z)p[0][Z]=S[Z].name;for(;C-- >0;){if(m[m.l]===42){m.l+=b;continue}for(++m.l,p[++F]=[],Z=0,Z=0;Z!=S.length;++Z){var W=m.slice(m.l,m.l+S[Z].len);m.l+=S[Z].len,hn(W,0);var oe=L0.utils.decode(k,W);switch(S[Z].type){case"C":oe.trim().length&&(p[F][Z]=oe.replace(/\s+$/,""));break;case"D":oe.length===8?p[F][Z]=new Date(+oe.slice(0,4),+oe.slice(4,6)-1,+oe.slice(6,8)):p[F][Z]=oe;break;case"F":p[F][Z]=parseFloat(oe.trim());break;case"+":case"I":p[F][Z]=A?W.read_shift(-4,"i")^2147483648:W.read_shift(4,"i");break;case"L":switch(oe.trim().toUpperCase()){case"Y":case"T":p[F][Z]=!0;break;case"N":case"F":p[F][Z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+oe+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));p[F][Z]="##MEMO##"+(A?parseInt(oe.trim(),10):W.read_shift(4));break;case"N":oe=oe.replace(/\u0000/g,"").trim(),oe&&oe!="."&&(p[F][Z]=+oe||0);break;case"@":p[F][Z]=new Date(W.read_shift(-8,"f")-621356832e5);break;case"T":p[F][Z]=new Date((W.read_shift(4)-2440588)*864e5+W.read_shift(4));break;case"Y":p[F][Z]=W.read_shift(4,"i")/1e4+W.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[F][Z]=-W.read_shift(-8,"f");break;case"B":if(E&&S[Z].len==8){p[F][Z]=W.read_shift(8,"f");break}case"G":case"P":W.l+=S[Z].len;break;case"0":if(S[Z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[Z].type)}}}if(v!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return g&&g.sheetRows&&(p=p.slice(0,g.sheetRows)),g.DBF=S,p}function n(u,g){var p=g||{};p.dateNF||(p.dateNF="yyyymmdd");var m=ac(r(u,p),p);return m["!cols"]=p.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete p.DBF,m}function i(u,g){try{return za(n(u,g),g)}catch(p){if(g&&g.WTF)throw p}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,g){var p=g||{};if(+p.codepage>=0&&ts(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var m=qg(),v=ap(u,{header:1,raw:!0,cellDates:!0}),_=v[0],E=v.slice(1),A=u["!cols"]||[],C=0,I=0,b=0,k=1;for(C=0;C<_.length;++C){if(((A[C]||{}).DBF||{}).name){_[C]=A[C].DBF.name,++b;continue}if(_[C]!=null){if(++b,typeof _[C]=="number"&&(_[C]=_[C].toString(10)),typeof _[C]!="string")throw new Error("DBF Invalid column name "+_[C]+" |"+typeof _[C]+"|");if(_.indexOf(_[C])!==C){for(I=0;I<1024;++I)if(_.indexOf(_[C]+"_"+I)==-1){_[C]+="_"+I;break}}}}var S=Rr(u["!ref"]),L=[],q=[],G=[];for(C=0;C<=S.e.c-S.s.c;++C){var F="",Z="",W=0,oe=[];for(I=0;I<E.length;++I)E[I][C]!=null&&oe.push(E[I][C]);if(oe.length==0||_[C]==null){L[C]="?";continue}for(I=0;I<oe.length;++I){switch(typeof oe[I]){case"number":Z="B";break;case"string":Z="C";break;case"boolean":Z="L";break;case"object":Z=oe[I]instanceof Date?"D":"C";break;default:Z="C"}W=Math.max(W,String(oe[I]).length),F=F&&F!=Z?"C":Z}W>250&&(W=250),Z=((A[C]||{}).DBF||{}).type,Z=="C"&&A[C].DBF.len>W&&(W=A[C].DBF.len),F=="B"&&Z=="N"&&(F="N",G[C]=A[C].DBF.dec,W=A[C].DBF.len),q[C]=F=="C"||Z=="N"?W:a[F]||0,k+=q[C],L[C]=F}var le=m.next(32);for(le.write_shift(4,318902576),le.write_shift(4,E.length),le.write_shift(2,296+32*b),le.write_shift(2,k),C=0;C<4;++C)le.write_shift(4,0);for(le.write_shift(4,0|(+t[f4]||3)<<8),C=0,I=0;C<_.length;++C)if(_[C]!=null){var Q=m.next(32),_e=(_[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Q.write_shift(1,_e,"sbcs"),Q.write_shift(1,L[C]=="?"?"C":L[C],"sbcs"),Q.write_shift(4,I),Q.write_shift(1,q[C]||a[L[C]]||0),Q.write_shift(1,G[C]||0),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(1,0),Q.write_shift(4,0),Q.write_shift(4,0),I+=q[C]||a[L[C]]||0}var Se=m.next(264);for(Se.write_shift(4,13),C=0;C<65;++C)Se.write_shift(4,0);for(C=0;C<E.length;++C){var ee=m.next(k);for(ee.write_shift(1,0),I=0;I<_.length;++I)if(_[I]!=null)switch(L[I]){case"L":ee.write_shift(1,E[C][I]==null?63:E[C][I]?84:70);break;case"B":ee.write_shift(8,E[C][I]||0,"f");break;case"N":var Be="0";for(typeof E[C][I]=="number"&&(Be=E[C][I].toFixed(G[I]||0)),b=0;b<q[I]-Be.length;++b)ee.write_shift(1,32);ee.write_shift(1,Be,"sbcs");break;case"D":E[C][I]?(ee.write_shift(4,("0000"+E[C][I].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(E[C][I].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+E[C][I].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var Ce=String(E[C][I]!=null?E[C][I]:"").slice(0,q[I]);for(ee.write_shift(1,Ce,"sbcs"),b=0;b<q[I]-Ce.length;++b)ee.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}}(),WB=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Cs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(_,E){var A=e[E];return typeof A=="number"?Bv(A):A},n=function(_,E,A){var C=E.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return C==59?_:Bv(C)};e["|"]=254;function i(_,E){switch(E.type){case"base64":return a(yi(_),E);case"binary":return a(_,E);case"buffer":return a(Nt&&Buffer.isBuffer(_)?_.toString("binary"):Lo(_),E);case"array":return a(To(_),E)}throw new Error("Unrecognized type "+E.type)}function a(_,E){var A=_.split(/[\n\r]+/),C=-1,I=-1,b=0,k=0,S=[],L=[],q=null,G={},F=[],Z=[],W=[],oe=0,le;for(+E.codepage>=0&&ts(+E.codepage);b!==A.length;++b){oe=0;var Q=A[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),_e=Q.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),Se=_e[0],ee;if(Q.length>0)switch(Se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":_e[1].charAt(0)=="P"&&L.push(Q.slice(3).replace(/;;/g,";"));break;case"C":var Be=!1,Ce=!1,Ae=!1,ne=!1,be=-1,ce=-1;for(k=1;k<_e.length;++k)switch(_e[k].charAt(0)){case"A":break;case"X":I=parseInt(_e[k].slice(1))-1,Ce=!0;break;case"Y":for(C=parseInt(_e[k].slice(1))-1,Ce||(I=0),le=S.length;le<=C;++le)S[le]=[];break;case"K":ee=_e[k].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(as(ee))?isNaN(zl(ee).getDate())||(ee=on(ee)):(ee=as(ee),q!==null&&ic(q)&&(ee=uh(ee))),Be=!0;break;case"E":ne=!0;var B=kl(_e[k].slice(1),{r:C,c:I});S[C][I]=[S[C][I],B];break;case"S":Ae=!0,S[C][I]=[S[C][I],"S5S"];break;case"G":break;case"R":be=parseInt(_e[k].slice(1))-1;break;case"C":ce=parseInt(_e[k].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Q)}if(Be&&(S[C][I]&&S[C][I].length==2?S[C][I][0]=ee:S[C][I]=ee,q=null),Ae){if(ne)throw new Error("SYLK shared formula cannot have own formula");var se=be>-1&&S[be][ce];if(!se||!se[1])throw new Error("SYLK shared formula cannot find base");S[C][I][1]=ES(se[1],{r:C-be,c:I-ce})}break;case"F":var K=0;for(k=1;k<_e.length;++k)switch(_e[k].charAt(0)){case"X":I=parseInt(_e[k].slice(1))-1,++K;break;case"Y":for(C=parseInt(_e[k].slice(1))-1,le=S.length;le<=C;++le)S[le]=[];break;case"M":oe=parseInt(_e[k].slice(1))/20;break;case"F":break;case"G":break;case"P":q=L[parseInt(_e[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(W=_e[k].slice(1).split(" "),le=parseInt(W[0],10);le<=parseInt(W[1],10);++le)oe=parseInt(W[2],10),Z[le-1]=oe===0?{hidden:!0}:{wch:oe},Gl(Z[le-1]);break;case"C":I=parseInt(_e[k].slice(1))-1,Z[I]||(Z[I]={});break;case"R":C=parseInt(_e[k].slice(1))-1,F[C]||(F[C]={}),oe>0?(F[C].hpt=oe,F[C].hpx=z0(oe)):oe===0&&(F[C].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Q)}K<1&&(q=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Q)}}return F.length>0&&(G["!rows"]=F),Z.length>0&&(G["!cols"]=Z),E&&E.sheetRows&&(S=S.slice(0,E.sheetRows)),[S,G]}function l(_,E){var A=i(_,E),C=A[0],I=A[1],b=ac(C,E);return Cs(I).forEach(function(k){b[k]=I[k]}),b}function u(_,E){return za(l(_,E),E)}function g(_,E,A,C){var I="C;Y"+(A+1)+";X"+(C+1)+";K";switch(_.t){case"n":I+=_.v||0,_.f&&!_.F&&(I+=";E"+kU(_.f,{r:A,c:C}));break;case"b":I+=_.v?"TRUE":"FALSE";break;case"e":I+=_.w||_.v;break;case"d":I+='"'+(_.w||_.v)+'"';break;case"s":I+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return I}function p(_,E){E.forEach(function(A,C){var I="F;W"+(C+1)+" "+(C+1)+" ";A.hidden?I+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=Sd(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=Td(A.wpx)),typeof A.wch=="number"&&(I+=Math.round(A.wch))),I.charAt(I.length-1)!=" "&&_.push(I)})}function m(_,E){E.forEach(function(A,C){var I="F;";A.hidden?I+="M0;":A.hpt?I+="M"+20*A.hpt+";":A.hpx&&(I+="M"+20*vS(A.hpx)+";"),I.length>2&&_.push(I+"R"+(C+1))})}function v(_,E){var A=["ID;PWXL;N;E"],C=[],I=Rr(_["!ref"]),b,k=Array.isArray(_),S=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),_["!cols"]&&p(A,_["!cols"]),_["!rows"]&&m(A,_["!rows"]),A.push("B;Y"+(I.e.r-I.s.r+1)+";X"+(I.e.c-I.s.c+1)+";D"+[I.s.c,I.s.r,I.e.c,I.e.r].join(" "));for(var L=I.s.r;L<=I.e.r;++L)for(var q=I.s.c;q<=I.e.c;++q){var G=dt({r:L,c:q});b=k?(_[L]||[])[q]:_[G],!(!b||b.v==null&&(!b.f||b.F))&&C.push(g(b,_,L,q))}return A.join(S)+S+C.join(S)+S+"E"+S}return{to_workbook:u,to_sheet:l,from_sheet:v}}(),VB=function(){function e(a,l){switch(l.type){case"base64":return t(yi(a),l);case"binary":return t(a,l);case"buffer":return t(Nt&&Buffer.isBuffer(a)?a.toString("binary"):Lo(a),l);case"array":return t(To(a),l)}throw new Error("Unrecognized type "+l.type)}function t(a,l){for(var u=a.split(`
`),g=-1,p=-1,m=0,v=[];m!==u.length;++m){if(u[m].trim()==="BOT"){v[++g]=[],p=0;continue}if(!(g<0)){var _=u[m].trim().split(","),E=_[0],A=_[1];++m;for(var C=u[m]||"";(C.match(/["]/g)||[]).length&1&&m<u.length-1;)C+=`
`+u[++m];switch(C=C.trim(),+E){case-1:if(C==="BOT"){v[++g]=[],p=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?v[g][p]=!0:C==="FALSE"?v[g][p]=!1:isNaN(as(A))?isNaN(zl(A).getDate())?v[g][p]=A:v[g][p]=on(A):v[g][p]=as(A),++p;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),v[g][p++]=C!==""?C:null;break}if(C==="EOD")break}}return l&&l.sheetRows&&(v=v.slice(0,l.sheetRows)),v}function r(a,l){return ac(e(a,l),l)}function n(a,l){return za(r(a,l),l)}var i=function(){var a=function(g,p,m,v,_){g.push(p),g.push(m+","+v),g.push('"'+_.replace(/"/g,'""')+'"')},l=function(g,p,m,v){g.push(p+","+m),g.push(p==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(g){var p=[],m=Rr(g["!ref"]),v,_=Array.isArray(g);a(p,"TABLE",0,1,"sheetjs"),a(p,"VECTORS",0,m.e.r-m.s.r+1,""),a(p,"TUPLES",0,m.e.c-m.s.c+1,""),a(p,"DATA",0,0,"");for(var E=m.s.r;E<=m.e.r;++E){l(p,-1,0,"BOT");for(var A=m.s.c;A<=m.e.c;++A){var C=dt({r:E,c:A});if(v=_?(g[E]||[])[A]:g[C],!v){l(p,1,0,"");continue}switch(v.t){case"n":var I=v.w;!I&&v.v!=null&&(I=v.v),I==null?v.f&&!v.F?l(p,1,0,"="+v.f):l(p,1,0,""):l(p,0,I,"V");break;case"b":l(p,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":l(p,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Wi(v.z||mt[14],Gn(on(v.v)))),l(p,0,v.w,"V");break;default:l(p,1,0,"")}}}l(p,-1,0,"EOD");var b=`\r
`,k=p.join(b);return k}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),HB=function(){function e(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,_){for(var E=v.split(`
`),A=-1,C=-1,I=0,b=[];I!==E.length;++I){var k=E[I].trim().split(":");if(k[0]==="cell"){var S=jn(k[1]);if(b.length<=S.r)for(A=b.length;A<=S.r;++A)b[A]||(b[A]=[]);switch(A=S.r,C=S.c,k[2]){case"t":b[A][C]=e(k[3]);break;case"v":b[A][C]=+k[3];break;case"vtf":var L=k[k.length-1];case"vtc":switch(k[3]){case"nl":b[A][C]=!!+k[4];break;default:b[A][C]=+k[4];break}k[2]=="vtf"&&(b[A][C]=[b[A][C],L])}}}return _&&_.sheetRows&&(b=b.slice(0,_.sheetRows)),b}function n(v,_){return ac(r(v,_),_)}function i(v,_){return za(n(v,_),_)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),g="--SocialCalcSpreadsheetControlSave--";function p(v){if(!v||!v["!ref"])return"";for(var _=[],E=[],A,C="",I=sc(v["!ref"]),b=Array.isArray(v),k=I.s.r;k<=I.e.r;++k)for(var S=I.s.c;S<=I.e.c;++S)if(C=dt({r:k,c:S}),A=b?(v[k]||[])[S]:v[C],!(!A||A.v==null||A.t==="z")){switch(E=["cell",C,"t"],A.t){case"s":case"str":E.push(t(A.v));break;case"n":A.f?(E[2]="vtf",E[3]="n",E[4]=A.v,E[5]=t(A.f)):(E[2]="v",E[3]=A.v);break;case"b":E[2]="vt"+(A.f?"f":"c"),E[3]="nl",E[4]=A.v?"1":"0",E[5]=t(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var L=Gn(on(A.v));E[2]="vtc",E[3]="nd",E[4]=""+L,E[5]=A.w||Wi(A.z||mt[14],L);break;case"e":continue}_.push(E.join(":"))}return _.push("sheet:c:"+(I.e.c-I.s.c+1)+":r:"+(I.e.r-I.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function m(v){return[a,l,u,l,p(v),g].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:m}}(),V0=function(){function e(m,v,_,E,A){A.raw?v[_][E]=m:m===""||(m==="TRUE"?v[_][E]=!0:m==="FALSE"?v[_][E]=!1:isNaN(as(m))?isNaN(zl(m).getDate())?v[_][E]=m:v[_][E]=on(m):v[_][E]=as(m))}function t(m,v){var _=v||{},E=[];if(!m||m.length===0)return E;for(var A=m.split(/[\r\n]/),C=A.length-1;C>=0&&A[C].length===0;)--C;for(var I=10,b=0,k=0;k<=C;++k)b=A[k].indexOf(" "),b==-1?b=A[k].length:b++,I=Math.max(I,b);for(k=0;k<=C;++k){E[k]=[];var S=0;for(e(A[k].slice(0,I).trim(),E,k,S,_),S=1;S<=(A[k].length-I)/10+1;++S)e(A[k].slice(I+(S-1)*10,I+S*10).trim(),E,k,S,_)}return _.sheetRows&&(E=E.slice(0,_.sheetRows)),E}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(m){for(var v={},_=!1,E=0,A=0;E<m.length;++E)(A=m.charCodeAt(E))==34?_=!_:!_&&A in r&&(v[A]=(v[A]||0)+1);A=[];for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&A.push([v[E],E]);if(!A.length){v=n;for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&A.push([v[E],E])}return A.sort(function(C,I){return C[0]-I[0]||n[C[1]]-n[I[1]]}),r[A.pop()[1]]||44}function a(m,v){var _=v||{},E="",A=_.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(E=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(E=m.charAt(4),m=m.slice(6)):E=i(m.slice(0,1024)):_&&_.FS?E=_.FS:E=i(m.slice(0,1024));var I=0,b=0,k=0,S=0,L=0,q=E.charCodeAt(0),G=!1,F=0,Z=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var W=_.dateNF!=null?eP(_.dateNF):null;function oe(){var le=m.slice(S,L),Q={};if(le.charAt(0)=='"'&&le.charAt(le.length-1)=='"'&&(le=le.slice(1,-1).replace(/""/g,'"')),le.length===0)Q.t="z";else if(_.raw)Q.t="s",Q.v=le;else if(le.trim().length===0)Q.t="s",Q.v=le;else if(le.charCodeAt(0)==61)le.charCodeAt(1)==34&&le.charCodeAt(le.length-1)==34?(Q.t="s",Q.v=le.slice(2,-1).replace(/""/g,'"')):IU(le)?(Q.t="n",Q.f=le.slice(1)):(Q.t="s",Q.v=le);else if(le=="TRUE")Q.t="b",Q.v=!0;else if(le=="FALSE")Q.t="b",Q.v=!1;else if(!isNaN(k=as(le)))Q.t="n",_.cellText!==!1&&(Q.w=le),Q.v=k;else if(!isNaN(zl(le).getDate())||W&&le.match(W)){Q.z=_.dateNF||mt[14];var _e=0;W&&le.match(W)&&(le=tP(le,_.dateNF,le.match(W)||[]),_e=1),_.cellDates?(Q.t="d",Q.v=on(le,_e)):(Q.t="n",Q.v=Gn(on(le,_e))),_.cellText!==!1&&(Q.w=Wi(Q.z,Q.v instanceof Date?Gn(Q.v):Q.v)),_.cellNF||delete Q.z}else Q.t="s",Q.v=le;if(Q.t=="z"||(_.dense?(A[I]||(A[I]=[]),A[I][b]=Q):A[dt({c:b,r:I})]=Q),S=L+1,Z=m.charCodeAt(S),C.e.c<b&&(C.e.c=b),C.e.r<I&&(C.e.r=I),F==q)++b;else if(b=0,++I,_.sheetRows&&_.sheetRows<=I)return!0}e:for(;L<m.length;++L)switch(F=m.charCodeAt(L)){case 34:Z===34&&(G=!G);break;case q:case 10:case 13:if(!G&&oe())break e;break}return L-S>0&&oe(),A["!ref"]=Pt(C),A}function l(m,v){return!(v&&v.PRN)||v.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?a(m,v):ac(t(m,v),v)}function u(m,v){var _="",E=v.type=="string"?[0,0,0,0]:Dm(m,v);switch(v.type){case"base64":_=yi(m);break;case"binary":_=m;break;case"buffer":v.codepage==65001?_=m.toString("utf8"):v.codepage&&typeof L0<"u"||(_=Nt&&Buffer.isBuffer(m)?m.toString("binary"):Lo(m));break;case"array":_=To(m);break;case"string":_=m;break;default:throw new Error("Unrecognized type "+v.type)}return E[0]==239&&E[1]==187&&E[2]==191?_=or(_.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?_=or(_):v.type=="binary"&&typeof L0<"u",_.slice(0,19)=="socialcalc:version:"?HB.to_sheet(v.type=="string"?_:or(_),v):l(_,v)}function g(m,v){return za(u(m,v),v)}function p(m){for(var v=[],_=Rr(m["!ref"]),E,A=Array.isArray(m),C=_.s.r;C<=_.e.r;++C){for(var I=[],b=_.s.c;b<=_.e.c;++b){var k=dt({r:C,c:b});if(E=A?(m[C]||[])[b]:m[k],!E||E.v==null){I.push("          ");continue}for(var S=(E.w||($s(E),E.w)||"").slice(0,10);S.length<10;)S+=" ";I.push(S+(b===0?" ":""))}v.push(I.join(""))}return v.join(`
`)}return{to_workbook:g,to_sheet:u,from_sheet:p}}();function zB(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=WB.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return V0.to_workbook(e,t)}}var i0=function(){function e(B,se,K){if(B){hn(B,B.l||0);for(var te=K.Enum||be;B.l<B.length;){var ae=B.read_shift(2),De=te[ae]||te[65535],Ve=B.read_shift(2),We=B.l+Ve,Re=De.f&&De.f(B,Ve,K);if(B.l=We,se(Re,De,ae))return}}}function t(B,se){switch(se.type){case"base64":return r(Ji(yi(B)),se);case"binary":return r(Ji(B),se);case"buffer":case"array":return r(B,se)}throw"Unsupported type "+se.type}function r(B,se){if(!B)return B;var K=se||{},te=K.dense?[]:{},ae="Sheet1",De="",Ve=0,We={},Re=[],et=[],Y={s:{r:0,c:0},e:{r:0,c:0}},qe=K.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)K.Enum=be,e(B,function(Ne,Ze,ot){switch(ot){case 0:K.vers=Ne,Ne>=4096&&(K.qpro=!0);break;case 6:Y=Ne;break;case 204:Ne&&(De=Ne);break;case 222:De=Ne;break;case 15:case 51:K.qpro||(Ne[1].v=Ne[1].v.slice(1));case 13:case 14:case 16:ot==14&&(Ne[2]&112)==112&&(Ne[2]&15)>1&&(Ne[2]&15)<15&&(Ne[1].z=K.dateNF||mt[14],K.cellDates&&(Ne[1].t="d",Ne[1].v=uh(Ne[1].v))),K.qpro&&Ne[3]>Ve&&(te["!ref"]=Pt(Y),We[ae]=te,Re.push(ae),te=K.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Ve=Ne[3],ae=De||"Sheet"+(Ve+1),De="");var Ht=K.dense?(te[Ne[0].r]||[])[Ne[0].c]:te[dt(Ne[0])];if(Ht){Ht.t=Ne[1].t,Ht.v=Ne[1].v,Ne[1].z!=null&&(Ht.z=Ne[1].z),Ne[1].f!=null&&(Ht.f=Ne[1].f);break}K.dense?(te[Ne[0].r]||(te[Ne[0].r]=[]),te[Ne[0].r][Ne[0].c]=Ne[1]):te[dt(Ne[0])]=Ne[1];break}},K);else if(B[2]==26||B[2]==14)K.Enum=ce,B[2]==14&&(K.qpro=!0,B.l=0),e(B,function(Ne,Ze,ot){switch(ot){case 204:ae=Ne;break;case 22:Ne[1].v=Ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ne[3]>Ve&&(te["!ref"]=Pt(Y),We[ae]=te,Re.push(ae),te=K.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Ve=Ne[3],ae="Sheet"+(Ve+1)),qe>0&&Ne[0].r>=qe)break;K.dense?(te[Ne[0].r]||(te[Ne[0].r]=[]),te[Ne[0].r][Ne[0].c]=Ne[1]):te[dt(Ne[0])]=Ne[1],Y.e.c<Ne[0].c&&(Y.e.c=Ne[0].c),Y.e.r<Ne[0].r&&(Y.e.r=Ne[0].r);break;case 27:Ne[14e3]&&(et[Ne[14e3][0]]=Ne[14e3][1]);break;case 1537:et[Ne[0]]=Ne[1],Ne[0]==Ve&&(ae=Ne[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(te["!ref"]=Pt(Y),We[De||ae]=te,Re.push(De||ae),!et.length)return{SheetNames:Re,Sheets:We};for(var ct={},ht=[],Ye=0;Ye<et.length;++Ye)We[Re[Ye]]?(ht.push(et[Ye]||Re[Ye]),ct[et[Ye]]=We[et[Ye]]||We[Re[Ye]]):(ht.push(et[Ye]),ct[et[Ye]]={"!ref":"A1"});return{SheetNames:ht,Sheets:ct}}function n(B,se){var K=se||{};if(+K.codepage>=0&&ts(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var te=qg(),ae=Rr(B["!ref"]),De=Array.isArray(B),Ve=[];Yi(te,0,a(1030)),Yi(te,6,g(ae));for(var We=Math.min(ae.e.r,8191),Re=ae.s.r;Re<=We;++Re)for(var et=mn(Re),Y=ae.s.c;Y<=ae.e.c;++Y){Re===ae.s.r&&(Ve[Y]=Kr(Y));var qe=Ve[Y]+et,ct=De?(B[Re]||[])[Y]:B[qe];if(!(!ct||ct.t=="z"))if(ct.t=="n")(ct.v|0)==ct.v&&ct.v>=-32768&&ct.v<=32767?Yi(te,13,E(Re,Y,ct.v)):Yi(te,14,C(Re,Y,ct.v));else{var ht=$s(ct);Yi(te,15,v(Re,Y,ht.slice(0,239)))}}return Yi(te,1),te.end()}function i(B,se){var K=se||{};if(+K.codepage>=0&&ts(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var te=qg();Yi(te,0,l(B));for(var ae=0,De=0;ae<B.SheetNames.length;++ae)(B.Sheets[B.SheetNames[ae]]||{})["!ref"]&&Yi(te,27,ne(B.SheetNames[ae],De++));var Ve=0;for(ae=0;ae<B.SheetNames.length;++ae){var We=B.Sheets[B.SheetNames[ae]];if(!(!We||!We["!ref"])){for(var Re=Rr(We["!ref"]),et=Array.isArray(We),Y=[],qe=Math.min(Re.e.r,8191),ct=Re.s.r;ct<=qe;++ct)for(var ht=mn(ct),Ye=Re.s.c;Ye<=Re.e.c;++Ye){ct===Re.s.r&&(Y[Ye]=Kr(Ye));var Ne=Y[Ye]+ht,Ze=et?(We[ct]||[])[Ye]:We[Ne];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")Yi(te,23,oe(ct,Ye,Ve,Ze.v));else{var ot=$s(Ze);Yi(te,22,F(ct,Ye,Ve,ot.slice(0,239)))}}++Ve}}return Yi(te,1),te.end()}function a(B){var se=zr(2);return se.write_shift(2,B),se}function l(B){var se=zr(26);se.write_shift(2,4096),se.write_shift(2,4),se.write_shift(4,0);for(var K=0,te=0,ae=0,De=0;De<B.SheetNames.length;++De){var Ve=B.SheetNames[De],We=B.Sheets[Ve];if(!(!We||!We["!ref"])){++ae;var Re=sc(We["!ref"]);K<Re.e.r&&(K=Re.e.r),te<Re.e.c&&(te=Re.e.c)}}return K>8191&&(K=8191),se.write_shift(2,K),se.write_shift(1,ae),se.write_shift(1,te),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(1,1),se.write_shift(1,2),se.write_shift(4,0),se.write_shift(4,0),se}function u(B,se,K){var te={s:{c:0,r:0},e:{c:0,r:0}};return se==8&&K.qpro?(te.s.c=B.read_shift(1),B.l++,te.s.r=B.read_shift(2),te.e.c=B.read_shift(1),B.l++,te.e.r=B.read_shift(2),te):(te.s.c=B.read_shift(2),te.s.r=B.read_shift(2),se==12&&K.qpro&&(B.l+=2),te.e.c=B.read_shift(2),te.e.r=B.read_shift(2),se==12&&K.qpro&&(B.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function g(B){var se=zr(8);return se.write_shift(2,B.s.c),se.write_shift(2,B.s.r),se.write_shift(2,B.e.c),se.write_shift(2,B.e.r),se}function p(B,se,K){var te=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(te[0].c=B.read_shift(1),te[3]=B.read_shift(1),te[0].r=B.read_shift(2),B.l+=2):(te[2]=B.read_shift(1),te[0].c=B.read_shift(2),te[0].r=B.read_shift(2)),te}function m(B,se,K){var te=B.l+se,ae=p(B,se,K);if(ae[1].t="s",K.vers==20768){B.l++;var De=B.read_shift(1);return ae[1].v=B.read_shift(De,"utf8"),ae}return K.qpro&&B.l++,ae[1].v=B.read_shift(te-B.l,"cstr"),ae}function v(B,se,K){var te=zr(7+K.length);te.write_shift(1,255),te.write_shift(2,se),te.write_shift(2,B),te.write_shift(1,39);for(var ae=0;ae<te.length;++ae){var De=K.charCodeAt(ae);te.write_shift(1,De>=128?95:De)}return te.write_shift(1,0),te}function _(B,se,K){var te=p(B,se,K);return te[1].v=B.read_shift(2,"i"),te}function E(B,se,K){var te=zr(7);return te.write_shift(1,255),te.write_shift(2,se),te.write_shift(2,B),te.write_shift(2,K,"i"),te}function A(B,se,K){var te=p(B,se,K);return te[1].v=B.read_shift(8,"f"),te}function C(B,se,K){var te=zr(13);return te.write_shift(1,255),te.write_shift(2,se),te.write_shift(2,B),te.write_shift(8,K,"f"),te}function I(B,se,K){var te=B.l+se,ae=p(B,se,K);if(ae[1].v=B.read_shift(8,"f"),K.qpro)B.l=te;else{var De=B.read_shift(2);L(B.slice(B.l,B.l+De),ae),B.l+=De}return ae}function b(B,se,K){var te=se&32768;return se&=-32769,se=(te?B:0)+(se>=8192?se-16384:se),(te?"":"$")+(K?Kr(se):mn(se))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(B,se){hn(B,0);for(var K=[],te=0,ae="",De="",Ve="",We="";B.l<B.length;){var Re=B[B.l++];switch(Re){case 0:K.push(B.read_shift(8,"f"));break;case 1:De=b(se[0].c,B.read_shift(2),!0),ae=b(se[0].r,B.read_shift(2),!1),K.push(De+ae);break;case 2:{var et=b(se[0].c,B.read_shift(2),!0),Y=b(se[0].r,B.read_shift(2),!1);De=b(se[0].c,B.read_shift(2),!0),ae=b(se[0].r,B.read_shift(2),!1),K.push(et+Y+":"+De+ae)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(B.read_shift(2));break;case 6:{for(var qe="";Re=B[B.l++];)qe+=String.fromCharCode(Re);K.push('"'+qe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:We=K.pop(),Ve=K.pop(),K.push(["AND","OR"][Re-20]+"("+Ve+","+We+")");break;default:if(Re<32&&S[Re])We=K.pop(),Ve=K.pop(),K.push(Ve+S[Re]+We);else if(k[Re]){if(te=k[Re][1],te==69&&(te=B[B.l++]),te>K.length){console.error("WK1 bad formula parse 0x"+Re.toString(16)+":|"+K.join("|")+"|");return}var ct=K.slice(-te);K.length-=te,K.push(k[Re][0]+"("+ct.join(",")+")")}else return Re<=7?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=24?console.error("WK1 unsupported op "+Re.toString(16)):Re<=30?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=115?console.error("WK1 unsupported function opcode "+Re.toString(16)):console.error("WK1 unrecognized opcode "+Re.toString(16))}}K.length==1?se[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function q(B){var se=[{c:0,r:0},{t:"n",v:0},0];return se[0].r=B.read_shift(2),se[3]=B[B.l++],se[0].c=B[B.l++],se}function G(B,se){var K=q(B);return K[1].t="s",K[1].v=B.read_shift(se-4,"cstr"),K}function F(B,se,K,te){var ae=zr(6+te.length);ae.write_shift(2,B),ae.write_shift(1,K),ae.write_shift(1,se),ae.write_shift(1,39);for(var De=0;De<te.length;++De){var Ve=te.charCodeAt(De);ae.write_shift(1,Ve>=128?95:Ve)}return ae.write_shift(1,0),ae}function Z(B,se){var K=q(B);K[1].v=B.read_shift(2);var te=K[1].v>>1;if(K[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return K[1].v=te,K}function W(B,se){var K=q(B),te=B.read_shift(4),ae=B.read_shift(4),De=B.read_shift(2);if(De==65535)return te===0&&ae===3221225472?(K[1].t="e",K[1].v=15):te===0&&ae===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var Ve=De&32768;return De=(De&32767)-16446,K[1].v=(1-Ve*2)*(ae*Math.pow(2,De+32)+te*Math.pow(2,De)),K}function oe(B,se,K,te){var ae=zr(14);if(ae.write_shift(2,B),ae.write_shift(1,K),ae.write_shift(1,se),te==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var De=0,Ve=0,We=0,Re=0;return te<0&&(De=1,te=-te),Ve=Math.log2(te)|0,te/=Math.pow(2,Ve-31),Re=te>>>0,Re&2147483648||(te/=2,++Ve,Re=te>>>0),te-=Re,Re|=2147483648,Re>>>=0,te*=Math.pow(2,32),We=te>>>0,ae.write_shift(4,We),ae.write_shift(4,Re),Ve+=16383+(De?32768:0),ae.write_shift(2,Ve),ae}function le(B,se){var K=W(B);return B.l+=se-14,K}function Q(B,se){var K=q(B),te=B.read_shift(4);return K[1].v=te>>6,K}function _e(B,se){var K=q(B),te=B.read_shift(8,"f");return K[1].v=te,K}function Se(B,se){var K=_e(B);return B.l+=se-10,K}function ee(B,se){return B[B.l+se-1]==0?B.read_shift(se,"cstr"):""}function Be(B,se){var K=B[B.l++];K>se-1&&(K=se-1);for(var te="";te.length<K;)te+=String.fromCharCode(B[B.l++]);return te}function Ce(B,se,K){if(!(!K.qpro||se<21)){var te=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ae=B.read_shift(se-21,"cstr");return[te,ae]}}function Ae(B,se){for(var K={},te=B.l+se;B.l<te;){var ae=B.read_shift(2);if(ae==14e3){for(K[ae]=[0,""],K[ae][0]=B.read_shift(2);B[B.l];)K[ae][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return K}function ne(B,se){var K=zr(5+B.length);K.write_shift(2,14e3),K.write_shift(2,se);for(var te=0;te<B.length;++te){var ae=B.charCodeAt(te);K[K.l++]=ae>127?95:ae}return K[K.l++]=0,K}var be={0:{n:"BOF",f:Ur},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:I},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:Be},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:W},24:{n:"NUMBER18",f:Z},25:{n:"FORMULA19",f:le},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Q},38:{n:"??"},39:{n:"NUMBER27",f:_e},40:{n:"FORMULA28",f:Se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function GB(e){var t={},r=e.match(Fn),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=lt(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=cm[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var XB=function(){var e=j0("t"),t=j0("rPr");function r(a){var l=a.match(e);if(!l)return{t:"s",v:""};var u={t:"s",v:Lt(l[1])},g=a.match(t);return g&&(u.s=GB(g[1])),u}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(i).map(r).filter(function(u){return u.v})}}(),$B=function(){var t=/(\r\n|\n)/g;function r(i,a,l){var u=[];i.u&&u.push("text-decoration: underline;"),i.uval&&u.push("text-underline-style:"+i.uval+";"),i.sz&&u.push("font-size:"+i.sz+"pt;"),i.outline&&u.push("text-effect: outline;"),i.shadow&&u.push("text-shadow: auto;"),a.push('<span style="'+u.join("")+'">'),i.b&&(a.push("<b>"),l.push("</b>")),i.i&&(a.push("<i>"),l.push("</i>")),i.strike&&(a.push("<s>"),l.push("</s>"));var g=i.valign||"";return g=="superscript"||g=="super"?g="sup":g=="subscript"&&(g="sub"),g!=""&&(a.push("<"+g+">"),l.push("</"+g+">")),l.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),YB=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,KB=/<(?:\w+:)?r>/,qB=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Tm(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Lt(or(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=or(e),r&&(n.h=xm(n.t))):e.match(KB)&&(n.r=or(e),n.t=Lt(or((e.replace(qB,"").match(YB)||[]).join("").replace(Fn,""))),r&&(n.h=$B(XB(n.r)))),n):{t:""}}var ZB=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,QB=/<(?:\w+:)?(?:si|sstItem)>/g,JB=/<\/(?:\w+:)?(?:si|sstItem)>/;function eL(e,t){var r=[],n="";if(!e)return r;var i=e.match(ZB);if(i){n=i[2].replace(QB,"").split(JB);for(var a=0;a!=n.length;++a){var l=Tm(n[a].trim(),t);l!=null&&(r[r.length]=l)}i=lt(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function tL(e){return[e.read_shift(4),e.read_shift(4)]}function rL(e,t){var r=[],n=!1;return Zs(e,function(a,l,u){switch(u){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function hS(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Us(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function nL(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function iL(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function sL(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(iL(e));return t}function aL(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function oL(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function lL(e){var t=oL(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function gS(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function pS(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function cL(e){var t=Us(e);switch(t.Minor){case 2:return[t.Minor,uL(e)];case 3:return[t.Minor,fL()];case 4:return[t.Minor,dL(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function uL(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=gS(e,r),i=pS(e,e.length-e.l);return{t:"Std",h:n,v:i}}function fL(){throw new Error("File is password-protected: ECMA-376 Extensible")}function dL(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Fn,function(a){var l=lt(a);switch(Ss(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(u){n[u]=l[u]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function hL(e,t){var r={},n=r.EncryptionVersionInfo=Us(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=gS(e,i),t-=i,r.EncryptionVerifier=pS(e,t),r}function gL(e){var t={},r=t.EncryptionVersionInfo=Us(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function pL(e){var t=0,r,n=hS(e),i=n.length+1,a,l,u,g,p;for(r=Ua(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)l=r[a],u=t&16384?1:0,g=t<<1&32767,p=u|g,t=p^l;return t^52811}var xS=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},i=function(l,u){return n(l^u)},a=function(l){for(var u=t[l.length-1],g=104,p=l.length-1;p>=0;--p)for(var m=l[p],v=0;v!=7;++v)m&64&&(u^=r[g]),m*=2,--g;return u};return function(l){for(var u=hS(l),g=a(u),p=u.length,m=Ua(16),v=0;v!=16;++v)m[v]=0;var _,E,A;for((p&1)===1&&(_=g>>8,m[p]=i(e[0],_),--p,_=g&255,E=u[u.length-1],m[p]=i(E,_));p>0;)--p,_=g>>8,m[p]=i(u[p],_),--p,_=g&255,m[p]=i(u[p],_);for(p=15,A=15-u.length;A>0;)_=g>>8,m[p]=i(e[A],_),--p,--A,_=g&255,m[p]=i(u[p],_),--p,--A;return m}}(),xL=function(e,t,r,n,i){i||(i=t),n||(n=xS(e));var a,l;for(a=0;a!=t.length;++a)l=t[a],l^=n[r],l=(l>>5|l<<3)&255,i[a]=l,++r;return[i,r,n]},mL=function(e){var t=0,r=xS(e);return function(n){var i=xL("",n,t,r);return t=i[1],i[0]}};function wL(e,t,r,n){var i={key:Ur(e),verificationBytes:Ur(e)};return r.password&&(i.verifier=pL(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=mL(r.password)),i}function vL(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=gL(e):n.Data=hL(e,t),n}function yL(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?vL(e,t-2,n):wL(e,r.biff>=8?t:t-2,r,n),n}var _L=function(){function e(i,a){switch(a.type){case"base64":return t(yi(i),a);case"binary":return t(i,a);case"buffer":return t(Nt&&Buffer.isBuffer(i)?i.toString("binary"):Lo(i),a);case"array":return t(To(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var l=a||{},u=l.dense?[]:{},g=i.match(/\\trowd.*?\\row\b/g);if(!g.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:g.length-1}};return g.forEach(function(m,v){Array.isArray(u)&&(u[v]=[]);for(var _=/\\\w+\b/g,E=0,A,C=-1;A=_.exec(m);){switch(A[0]){case"\\cell":var I=m.slice(E,_.lastIndex-A[0].length);if(I[0]==" "&&(I=I.slice(1)),++C,I.length){var b={v:I,t:"s"};Array.isArray(u)?u[v][C]=b:u[dt({r:v,c:C})]=b}break}E=_.lastIndex}C>p.e.c&&(p.e.c=C)}),u["!ref"]=Pt(p),u}function r(i,a){return za(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],l=Rr(i["!ref"]),u,g=Array.isArray(i),p=l.s.r;p<=l.e.r;++p){a.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)a.push("\\cellx"+(m+1));for(a.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var v=dt({r:p,c:m});u=g?(i[p]||[])[m]:i[v],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||($s(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function EL(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function H0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function CL(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),l=i-a;if(l===0)return[0,0,t];var u=0,g=0,p=i+a;switch(g=l/(p>1?2-p:p),i){case t:u=((r-n)/l+6)%6;break;case r:u=(n-t)/l+2;break;case n:u=(t-r)/l+4;break}return[u/6,g,p/2]}function AL(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,l=[a,a,a],u=6*t,g;if(r!==0)switch(u|0){case 0:case 6:g=i*u,l[0]+=i,l[1]+=g;break;case 1:g=i*(2-u),l[0]+=g,l[1]+=i;break;case 2:g=i*(u-2),l[1]+=i,l[2]+=g;break;case 3:g=i*(4-u),l[1]+=g,l[2]+=i;break;case 4:g=i*(u-4),l[2]+=i,l[0]+=g;break;case 5:g=i*(6-u),l[2]+=g,l[0]+=i;break}for(var p=0;p!=3;++p)l[p]=Math.round(l[p]*255);return l}function Ad(e,t){if(t===0)return e;var r=CL(EL(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),H0(AL(r))}var mS=6,SL=15,TL=1,Ln=mS;function Sd(e){return Math.floor((e+Math.round(128/Ln)/256)*Ln)}function Td(e){return Math.floor((e-5)/Ln*100+.5)/100}function ep(e){return Math.round((e*Ln+5)/Ln*256)/256}function _1(e){return ep(Td(Sd(e)))}function km(e){var t=Math.abs(e-_1(e)),r=Ln;if(t>.005)for(Ln=TL;Ln<SL;++Ln)Math.abs(e-_1(e))<=t&&(t=Math.abs(e-_1(e)),r=Ln);Ln=r}function Gl(e){e.width?(e.wpx=Sd(e.width),e.wch=Td(e.wpx),e.MDW=Ln):e.wpx?(e.wch=Td(e.wpx),e.width=ep(e.wch),e.MDW=Ln):typeof e.wch=="number"&&(e.width=ep(e.wch),e.wpx=Sd(e.width),e.MDW=Ln),e.customWidth&&delete e.customWidth}var kL=96,wS=kL;function vS(e){return e*96/wS}function z0(e){return e*wS/96}var bL={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function IL(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Fn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},u.diagonalUp&&(i.diagonalUp=xr(u.diagonalUp)),u.diagonalDown&&(i.diagonalDown=xr(u.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in borders")}})}function RL(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Fn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":u.patternType&&(i.patternType=u.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),u.indexed&&(i.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(i.bgColor.theme=parseInt(u.theme,10)),u.tint&&(i.bgColor.tint=parseFloat(u.tint)),u.rgb&&(i.bgColor.rgb=u.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),u.theme&&(i.fgColor.theme=parseInt(u.theme,10)),u.tint&&(i.fgColor.tint=parseFloat(u.tint)),u.rgb!=null&&(i.fgColor.rgb=u.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fills")}})}function NL(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Fn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":u.val&&(i.name=or(u.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=u.val?xr(u.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=u.val?xr(u.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(u.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=u.val?xr(u.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=u.val?xr(u.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=u.val?xr(u.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=u.val?xr(u.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=u.val?xr(u.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":u.val&&(i.sz=+u.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":u.val&&(i.vertAlign=u.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":u.val&&(i.family=parseInt(u.val,10));break;case"<family/>":case"</family>":break;case"<scheme":u.val&&(i.scheme=u.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(u.val=="1")break;u.codepage=cm[parseInt(u.val,10)];break;case"<color":if(i.color||(i.color={}),u.auto&&(i.color.auto=xr(u.auto)),u.rgb)i.color.rgb=u.rgb.slice(-6);else if(u.indexed){i.color.index=parseInt(u.indexed,10);var g=ho[i.color.index];i.color.index==81&&(g=ho[1]),g||(g=ho[1]),i.color.rgb=g[0].toString(16)+g[1].toString(16)+g[2].toString(16)}else u.theme&&(i.color.theme=parseInt(u.theme,10),u.tint&&(i.color.tint=parseFloat(u.tint)),u.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=Ad(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fonts")}})}function OL(e,t,r){t.NumberFmt=[];for(var n=Cs(mt),i=0;i<n.length;++i)t.NumberFmt[n[i]]=mt[n[i]];var a=e[0].match(Fn);if(a)for(i=0;i<a.length;++i){var l=lt(a[i]);switch(Ss(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var u=Lt(or(l.formatCode)),g=parseInt(l.numFmtId,10);if(t.NumberFmt[g]=u,g>0){if(g>392){for(g=392;g>60&&t.NumberFmt[g]!=null;--g);t.NumberFmt[g]=u}fo(u,g)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var Qu=["numFmtId","fillId","fontId","borderId","xfId"],Ju=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function DL(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Fn)||[]).forEach(function(a){var l=lt(a),u=0;switch(Ss(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],u=0;u<Qu.length;++u)n[Qu[u]]&&(n[Qu[u]]=parseInt(n[Qu[u]],10));for(u=0;u<Ju.length;++u)n[Ju[u]]&&(n[Ju[u]]=xr(n[Ju[u]]));if(t.NumberFmt&&n.numFmtId>392){for(u=392;u>60;--u)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[u]){n.numFmtId=u;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var g={};l.vertical&&(g.vertical=l.vertical),l.horizontal&&(g.horizontal=l.horizontal),l.textRotation!=null&&(g.textRotation=l.textRotation),l.indent&&(g.indent=l.indent),l.wrapText&&(g.wrapText=xr(l.wrapText)),n.alignment=g;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var FL=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,g,p){var m={};if(!u)return m;u=u.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var v;return(v=u.match(t))&&OL(v,m,p),(v=u.match(i))&&NL(v,m,g,p),(v=u.match(n))&&RL(v,m,g,p),(v=u.match(a))&&IL(v,m,g,p),(v=u.match(r))&&DL(v,m,p),m}}();function PL(e,t){var r=e.read_shift(2),n=Rn(e);return[r,n]}function ML(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=XP(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var u=e.read_shift(1);u>0&&(n.family=u);var g=e.read_shift(1);switch(g>0&&(n.charset=g),e.l++,n.color=GP(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Rn(e),n}var BL=Dn;function LL(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var UL=Dn;function jL(e,t,r){var n={};n.NumberFmt=[];for(var i in mt)n.NumberFmt[i]=mt[i];n.CellXf=[],n.Fonts=[];var a=[],l=!1;return Zs(e,function(g,p,m){switch(m){case 44:n.NumberFmt[g[0]]=g[1],fo(g[1],g[0]);break;case 43:n.Fonts.push(g),g.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(g.color.rgb=Ad(t.themeElements.clrScheme[g.color.theme].rgb,g.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(g);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:a.push(m),l=!0;break;case 38:a.pop(),l=!1;break;default:if(p.T>0)a.push(m);else if(p.T<0)a.pop();else if(!l||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}var WL=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function VL(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Fn)||[]).forEach(function(i){var a=lt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[WL.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function HL(){}function zL(){}var GL=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,XL=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,$L=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function YL(e,t,r){t.themeElements={};var n;[["clrScheme",GL,VL],["fontScheme",XL,HL],["fmtScheme",$L,zL]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var KL=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function yS(e,t){(!e||e.length===0)&&(e=qL());var r,n={};if(!(r=e.match(KL)))throw new Error("themeElements not found in theme");return YL(r[0],n,t),n.raw=e,n}function qL(e,t){var r=[N4];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ZL(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var l;try{l=R4(a,{type:"array"})}catch{return}var u=gi(l,"theme/theme/theme1.xml",!0);if(u)return yS(u,r)}}function QL(e){return e.read_shift(4)}function JL(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=eU(e,4);break;case 2:t.xclrValue=aS(e);break;case 3:t.xclrValue=QL(e);break;case 4:e.l+=4;break}return e.l+=8,t}function eU(e,t){return Dn(e,t)}function tU(e,t){return Dn(e,t)}function rU(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=JL(e);break;case 6:n[1]=tU(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function nU(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(rU(e,r-e.l));return{ixfe:n,ext:a}}function iU(e,t){t.forEach(function(r){switch(r[0]){}})}function sU(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Rn(e)}}function aU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function oU(e){return e.l+=4,e.read_shift(4)!=0}function lU(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],l=!1,u=2;return Zs(e,function(g,p,m){switch(m){case 335:n.Types.push({name:g.name});break;case 51:g.forEach(function(v){u==1?n.Cell.push({type:n.Types[v[0]-1].name,index:v[1]}):u==0&&n.Value.push({type:n.Types[v[0]-1].name,index:v[1]})});break;case 337:u=g?1:0;break;case 338:u=2;break;case 35:a.push(m),l=!0;break;case 36:a.pop(),l=!1;break;default:if(!p.T){if(!l||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function cU(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,l;return e.replace(Fn,function(u){var g=lt(u);switch(Ss(g[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:g.name});break;case"</metadataType>":break;case"<futureMetadata":for(var p=0;p<n.Types.length;++p)n.Types[p].name==g.name&&(l=n.Types[p]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[g.t-1].name,index:+g.v}):a==0&&n.Value.push({type:n.Types[g.t-1].name,index:+g.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+g.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+g[0]+" in metadata")}return u}),n}function uU(e){var t=[];if(!e)return t;var r=1;return(e.match(Fn)||[]).forEach(function(n){var i=lt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function fU(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=dt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function dU(e,t,r){var n=[];return Zs(e,function(a,l,u){switch(u){case 63:n.push(a);break;default:if(!l.T)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function hU(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Zs(e,function(u,g,p){switch(p){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!g.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}},i)}function gU(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function Ey(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(l){var u=jn(l.ref);if(i?(e[u.r]||(e[u.r]=[]),a=e[u.r][u.c]):a=e[l.ref],!a){a={t:"z"},i?e[u.r][u.c]=a:e[l.ref]=a;var g=Rr(e["!ref"]||"BDWGO1000001:A1");g.s.r>u.r&&(g.s.r=u.r),g.e.r<u.r&&(g.e.r=u.r),g.s.c>u.c&&(g.s.c=u.c),g.e.c<u.c&&(g.e.c=u.c);var p=Pt(g);p!==e["!ref"]&&(e["!ref"]=p)}a.c||(a.c=[]);var m={a:l.author,t:l.t,r:l.r,T:r};l.h&&(m.h=l.h);for(var v=a.c.length-1;v>=0;--v){if(!r&&a.c[v].T)return;r&&!a.c[v].T&&a.c.splice(v,1)}if(r&&n){for(v=0;v<n.length;++v)if(m.a==n[v].id){m.a=n[v].name||m.a;break}}a.c.push(m)})}function pU(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&r.push(u[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?comment[^>]*>/);if(u){var g=lt(u[0]),p={author:g.authorId&&r[g.authorId]||"sheetjsghost",ref:g.ref,guid:g.guid},m=jn(g.ref);if(!(t.sheetRows&&t.sheetRows<=m.r)){var v=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),_=!!v&&!!v[1]&&Tm(v[1])||{r:"",t:"",h:""};p.r=_.r,_.r=="<t></t>"&&(_.t=_.h=""),p.t=(_.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(p.h=_.h),n.push(p)}}}}),n}function xU(e,t){var r=[],n=!1,i={},a=0;return e.replace(Fn,function(u,g){var p=lt(u);switch(Ss(p[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:p.personId,guid:p.id,ref:p.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=g+u.length;break;case"</text>":i.t=e.slice(a,g).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+p[0]+" in threaded comments")}return u}),r}function mU(e,t){var r=[],n=!1;return e.replace(Fn,function(a){var l=lt(a);switch(Ss(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),r}function wU(e){var t={};t.iauthor=e.read_shift(4);var r=jo(e);return t.rfx=r.s,t.ref=dt(r.s),e.l+=16,t}var vU=Rn;function yU(e,t){var r=[],n=[],i={},a=!1;return Zs(e,function(u,g,p){switch(p){case 632:n.push(u);break;case 635:i=u;break;case 637:i.t=u.t,i.h=u.h,i.r=u.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!g.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}),r}var _U="application/vnd.ms-office.vbaProject";function EU(e){var t=Ft.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ft.utils.cfb_add(t,i,e.FileIndex[n].content)}}),Ft.write(t)}function CU(){return{"!type":"dialog"}}function AU(){return{"!type":"dialog"}}function SU(){return{"!type":"macro"}}function TU(){return{"!type":"macro"}}var kl=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,l){var u=!1,g=!1;a.length==0?g=!0:a.charAt(0)=="["&&(g=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var p=a.length>0?parseInt(a,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return u?m+=t.c:--m,g?p+=t.r:--p,i+(u?"":"$")+Kr(m)+(g?"":"$")+mn(p)}return function(i,a){return t=a,i.replace(e,r)}}(),_S=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,kU=function(){return function(t,r){return t.replace(_S,function(n,i,a,l,u,g){var p=ym(l)-(a?0:r.c),m=vm(g)-(u?0:r.r),v=m==0?"":u?m+1:"["+m+"]",_=p==0?"":a?p+1:"["+p+"]";return i+"R"+v+"C"+_})}}();function ES(e,t){return e.replace(_S,function(r,n,i,a,l,u){return n+(i=="$"?i+a:Kr(ym(a)+t.c))+(l=="$"?l+u:mn(vm(u)+t.r))})}function bU(e,t,r){var n=sc(t),i=n.s,a=jn(r),l={r:a.r-i.r,c:a.c-i.c};return ES(e,l)}function IU(e){return e.length!=1}function Cy(e){return e.replace(/_xlfn\./g,"")}function Br(e){e.l+=1}function ja(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function CS(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return AS(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),l=ja(e),u=ja(e);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function AS(e){var t=ja(e),r=ja(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function RU(e,t,r){if(r.biff<8)return AS(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=ja(e),l=ja(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function SS(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return NU(e);var n=e.read_shift(r&&r.biff==12?4:2),i=ja(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function NU(e){var t=ja(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function OU(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function DU(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return FU(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;i>524287;)i-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:l,rRel:u}}function FU(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function PU(e,t,r){var n=(e[e.l++]&96)>>5,i=CS(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function MU(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var l=CS(e,a,r);return[n,i,l]}function BU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function LU(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function UU(e,t,r){var n=(e[e.l++]&96)>>5,i=RU(e,t-1,r);return[n,i]}function jU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Ay(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function WU(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function VU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function HU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function zU(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function GU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function TS(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function XU(e){return e.read_shift(2),TS(e)}function $U(e){return e.read_shift(2),TS(e)}function YU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=SS(e,0,r);return[n,i]}function KU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=DU(e,0,r);return[n,i]}function qU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=SS(e,0,r);return[n,i,a]}function ZU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[Qj[i],IS[i],n]}function QU(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:JU(e);return[i,(a[0]===0?IS:Zj)[a[1]]]}function JU(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ej(e,t,r){e.l+=r&&r.biff==2?3:4}function tj(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function rj(e){return e.l++,Wo[e.read_shift(1)]}function nj(e){return e.l++,e.read_shift(2)}function ij(e){return e.l++,e.read_shift(1)!==0}function sj(e){return e.l++,bn(e)}function aj(e,t,r){return e.l++,pu(e,t-1,r)}function oj(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Or(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Wo[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=bn(e);break;case 2:r[1]=Vo(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function lj(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?jo:fh)(e));return i}function cj(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var u=0;u!=i;++u)l[a][u]=oj(e,r.biff);return l}function uj(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function fj(e,t,r){if(r.biff==5)return dj(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function dj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function hj(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function gj(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function pj(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function xj(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var mj=Dn,wj=Dn,vj=Dn;function mu(e,t,r){return e.l+=2,[OU(e)]}function bm(e){return e.l+=6,[]}var yj=mu,_j=bm,Ej=bm,Cj=mu;function kS(e){return e.l+=2,[Ur(e),e.read_shift(2)&1]}var Aj=mu,Sj=kS,Tj=bm,kj=mu,bj=mu,Ij=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Rj(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),l=Ij[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:i,C:a}}function Nj(e){return e.l+=2,[e.read_shift(4)]}function Oj(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Dj(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Fj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Pj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Mj(e){return e.l+=4,[0,0]}var Sy={1:{n:"PtgExp",f:tj},2:{n:"PtgTbl",f:vj},3:{n:"PtgAdd",f:Br},4:{n:"PtgSub",f:Br},5:{n:"PtgMul",f:Br},6:{n:"PtgDiv",f:Br},7:{n:"PtgPower",f:Br},8:{n:"PtgConcat",f:Br},9:{n:"PtgLt",f:Br},10:{n:"PtgLe",f:Br},11:{n:"PtgEq",f:Br},12:{n:"PtgGe",f:Br},13:{n:"PtgGt",f:Br},14:{n:"PtgNe",f:Br},15:{n:"PtgIsect",f:Br},16:{n:"PtgUnion",f:Br},17:{n:"PtgRange",f:Br},18:{n:"PtgUplus",f:Br},19:{n:"PtgUminus",f:Br},20:{n:"PtgPercent",f:Br},21:{n:"PtgParen",f:Br},22:{n:"PtgMissArg",f:Br},23:{n:"PtgStr",f:aj},26:{n:"PtgSheet",f:Oj},27:{n:"PtgEndSheet",f:Dj},28:{n:"PtgErr",f:rj},29:{n:"PtgBool",f:ij},30:{n:"PtgInt",f:nj},31:{n:"PtgNum",f:sj},32:{n:"PtgArray",f:jU},33:{n:"PtgFunc",f:ZU},34:{n:"PtgFuncVar",f:QU},35:{n:"PtgName",f:uj},36:{n:"PtgRef",f:YU},37:{n:"PtgArea",f:PU},38:{n:"PtgMemArea",f:hj},39:{n:"PtgMemErr",f:mj},40:{n:"PtgMemNoMem",f:wj},41:{n:"PtgMemFunc",f:gj},42:{n:"PtgRefErr",f:pj},43:{n:"PtgAreaErr",f:BU},44:{n:"PtgRefN",f:KU},45:{n:"PtgAreaN",f:UU},46:{n:"PtgMemAreaN",f:Fj},47:{n:"PtgMemNoMemN",f:Pj},57:{n:"PtgNameX",f:fj},58:{n:"PtgRef3d",f:qU},59:{n:"PtgArea3d",f:MU},60:{n:"PtgRefErr3d",f:xj},61:{n:"PtgAreaErr3d",f:LU},255:{}},Bj={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Lj={1:{n:"PtgElfLel",f:kS},2:{n:"PtgElfRw",f:kj},3:{n:"PtgElfCol",f:yj},6:{n:"PtgElfRwV",f:bj},7:{n:"PtgElfColV",f:Cj},10:{n:"PtgElfRadical",f:Aj},11:{n:"PtgElfRadicalS",f:Tj},13:{n:"PtgElfColS",f:_j},15:{n:"PtgElfColSV",f:Ej},16:{n:"PtgElfRadicalLel",f:Sj},25:{n:"PtgList",f:Rj},29:{n:"PtgSxName",f:Nj},255:{}},Uj={0:{n:"PtgAttrNoop",f:Mj},1:{n:"PtgAttrSemi",f:GU},2:{n:"PtgAttrIf",f:HU},4:{n:"PtgAttrChoose",f:WU},8:{n:"PtgAttrGoto",f:VU},16:{n:"PtgAttrSum",f:ej},32:{n:"PtgAttrBaxcel",f:Ay},33:{n:"PtgAttrBaxcel",f:Ay},64:{n:"PtgAttrSpace",f:XU},65:{n:"PtgAttrSpaceSemi",f:$U},128:{n:"PtgAttrIfError",f:zU},255:{}};function wu(e,t,r,n){if(n.biff<8)return Dn(e,t);for(var i=e.l+t,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=cj(e,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=lj(e,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=i-e.l,t!==0&&a.push(Dn(e,t)),a}function vu(e,t,r){for(var n=e.l+t,i,a,l=[];n!=e.l;)t=n-e.l,a=e[e.l],i=Sy[a]||Sy[Bj[a]],(a===24||a===25)&&(i=(a===24?Lj:Uj)[e[e.l+1]]),!i||!i.f?Dn(e,t):l.push([i.n,i.f(e,t,r)]);return l}function jj(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var Wj={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Vj(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function bS(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Ty(e,t,r){var n=bS(e,t,r);return n=="#REF"?n:Vj(n,r)}function Tn(e,t,r,n,i){var a=i&&i.biff||8,l={s:{c:0,r:0}},u=[],g,p,m,v=0,_=0,E,A="";if(!e[0]||!e[0][0])return"";for(var C=-1,I="",b=0,k=e[0].length;b<k;++b){var S=e[0][b];switch(S[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(g=u.pop(),p=u.pop(),C>=0){switch(e[0][C][1][0]){case 0:I=kr(" ",e[0][C][1][1]);break;case 1:I=kr("\r",e[0][C][1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}p=p+I,C=-1}u.push(p+Wj[S[0]]+g);break;case"PtgIsect":g=u.pop(),p=u.pop(),u.push(p+" "+g);break;case"PtgUnion":g=u.pop(),p=u.pop(),u.push(p+","+g);break;case"PtgRange":g=u.pop(),p=u.pop(),u.push(p+":"+g);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=e0(S[1][1],l,i),u.push(t0(m,a));break;case"PtgRefN":m=r?e0(S[1][1],r,i):S[1][1],u.push(t0(m,a));break;case"PtgRef3d":v=S[1][1],m=e0(S[1][2],l,i),A=Ty(n,v,i),u.push(A+"!"+t0(m,a));break;case"PtgFunc":case"PtgFuncVar":var L=S[1][0],q=S[1][1];L||(L=0),L&=127;var G=L==0?[]:u.slice(-L);u.length-=L,q==="User"&&(q=G.shift()),u.push(q+"("+G.join(",")+")");break;case"PtgBool":u.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(S[1]);break;case"PtgNum":u.push(String(S[1]));break;case"PtgStr":u.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(S[1]);break;case"PtgAreaN":E=ay(S[1][1],r?{s:r}:l,i),u.push(v1(E,i));break;case"PtgArea":E=ay(S[1][1],l,i),u.push(v1(E,i));break;case"PtgArea3d":v=S[1][1],E=S[1][2],A=Ty(n,v,i),u.push(A+"!"+v1(E,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=S[1][2];var F=(n.names||[])[_-1]||(n[0]||[])[_],Z=F?F.Name:"SH33TJSNAME"+String(_);Z&&Z.slice(0,6)=="_xlfn."&&!i.xlfn&&(Z=Z.slice(6)),u.push(Z);break;case"PtgNameX":var W=S[1][1];_=S[1][2];var oe;if(i.biff<=5)W<0&&(W=-W),n[W]&&(oe=n[W][_]);else{var le="";if(((n[W]||[])[0]||[])[0]==14849||(((n[W]||[])[0]||[])[0]==1025?n[W][_]&&n[W][_].itab>0&&(le=n.SheetNames[n[W][_].itab-1]+"!"):le=n.SheetNames[_-1]+"!"),n[W]&&n[W][_])le+=n[W][_].Name;else if(n[0]&&n[0][_])le+=n[0][_].Name;else{var Q=(bS(n,W,i)||"").split(";;");Q[_-1]?le=Q[_-1]:le+="SH33TJSERRX"}u.push(le);break}oe||(oe={Name:"SH33TJSERRY"}),u.push(oe.Name);break;case"PtgParen":var _e="(",Se=")";if(C>=0){switch(I="",e[0][C][1][0]){case 2:_e=kr(" ",e[0][C][1][1])+_e;break;case 3:_e=kr("\r",e[0][C][1][1])+_e;break;case 4:Se=kr(" ",e[0][C][1][1])+Se;break;case 5:Se=kr("\r",e[0][C][1][1])+Se;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}C=-1}u.push(_e+u.pop()+Se);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:S[1][1],r:S[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[dt(m)]){var Be=n.sharedf[dt(m)];u.push(Tn(Be,l,ee,n,i))}else{var Ce=!1;for(g=0;g!=n.arrayf.length;++g)if(p=n.arrayf[g],!(m.c<p[0].s.c||m.c>p[0].e.c)&&!(m.r<p[0].s.r||m.r>p[0].e.r)){u.push(Tn(p[1],l,ee,n,i)),Ce=!0;break}Ce||u.push(S[1])}break;case"PtgArray":u.push("{"+jj(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&C>=0&&Ae.indexOf(e[0][b][0])==-1){S=e[0][C];var ne=!0;switch(S[1][0]){case 4:ne=!1;case 0:I=kr(" ",S[1][1]);break;case 5:ne=!1;case 1:I=kr("\r",S[1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}u.push((ne?I:"")+u.pop()+(ne?"":I)),C=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function Hj(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],Dn(e,t-2)];var u=vu(e,l,r);return t!==l+i&&(a=wu(e,t-l-i,u,r)),e.l=n,[u,a]}function zj(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],Dn(e,t-2)];var u=vu(e,l,r);return t!==l+i&&(a=wu(e,t-l-i,u,r)),e.l=n,[u,a]}function Gj(e,t,r,n){var i=e.l+t,a=vu(e,n,r),l;return i!==e.l&&(l=wu(e,i-e.l,a,r)),[a,l]}function Xj(e,t,r){var n=e.l+t,i,a=e.read_shift(2),l=vu(e,a,r);return a==65535?[[],Dn(e,t-2)]:(t!==a+2&&(i=wu(e,n-a-2,l,r)),[l,i])}function $j(e){var t;if(Fs(e,e.l+6)!==65535)return[bn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function E1(e,t,r){var n=e.l+t,i=Ts(e);r.biff==2&&++e.l;var a=$j(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var u=zj(e,n-e.l,r);return{cell:i,val:a[0],formula:u,shared:l>>3&1,tt:a[1]}}function dh(e,t,r){var n=e.read_shift(4),i=vu(e,n,r),a=e.read_shift(4),l=a>0?wu(e,a,i,r):null;return[i,l]}var Yj=dh,hh=dh,Kj=dh,qj=dh,Zj={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},IS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Qj={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ky(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function C1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var s0={},bl={};function a0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function RS(e,t,r,n,i,a){try{n.cellNF&&(e.z=mt[t])}catch(u){if(n.WTF)throw u}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=on(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(mt[t]==null&&fo(J9[t]||"General",t),e.t==="e")e.w=e.w||Wo[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v);else if(e.t==="d"){var l=Gn(e.v);(l|0)===l?e.w=l.toString(10):e.w=U0(l)}else{if(e.v===void 0)return"";e.w=So(e.v,bl)}else e.t==="d"?e.w=Wi(t,Gn(e.v),bl):e.w=Wi(t,e.v,bl)}catch(u){if(n.WTF)throw u}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ad(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ad(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(n.WTF&&a.Fills)throw u}}}function Jj(e,t){var r=Rr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Pt(r))}var eW=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,tW=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,rW=/<(?:\w:)?hyperlink [^>]*>/mg,nW=/"(\w*:\w*)"/,iW=/<(?:\w:)?col\b[^>]*[\/]?>/g,sW=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,aW=/<(?:\w:)?pageMargins[^>]*\/>/g,NS=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,oW=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,lW=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function cW(e,t,r,n,i,a,l){if(!e)return e;n||(n={"!id":{}});var u=t.dense?[]:{},g={s:{r:2e6,c:2e6},e:{r:0,c:0}},p="",m="",v=e.match(tW);v?(p=e.slice(0,v.index),m=e.slice(v.index+v[0].length)):p=m=e;var _=p.match(NS);_?Im(_[0],u,i,r):(_=p.match(oW))&&uW(_[0],_[1]||"",u,i,r);var E=(p.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(E>0){var A=p.slice(E,E+50).match(nW);A&&Jj(u,A[1])}var C=p.match(lW);C&&C[1]&&xW(C[1],i);var I=[];if(t.cellStyles){var b=p.match(iW);b&&hW(I,b)}v&&mW(v[1],u,t,g,a,l);var k=m.match(sW);k&&(u["!autofilter"]=gW(k[0]));var S=[],L=m.match(eW);if(L)for(E=0;E!=L.length;++E)S[E]=Rr(L[E].slice(L[E].indexOf('"')+1));var q=m.match(rW);q&&fW(u,q,n);var G=m.match(aW);if(G&&(u["!margins"]=dW(lt(G[0]))),!u["!ref"]&&g.e.c>=g.s.c&&g.e.r>=g.s.r&&(u["!ref"]=Pt(g)),t.sheetRows>0&&u["!ref"]){var F=Rr(u["!ref"]);t.sheetRows<=+F.e.r&&(F.e.r=t.sheetRows-1,F.e.r>g.e.r&&(F.e.r=g.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>g.e.c&&(F.e.c=g.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Pt(F))}return I.length>0&&(u["!cols"]=I),S.length>0&&(u["!merges"]=S),u}function Im(e,t,r,n){var i=lt(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Lt(or(i.codeName)))}function uW(e,t,r,n,i){Im(e.slice(0,e.indexOf(">")),r,n,i)}function fW(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=lt(or(t[i]),!0);if(!a.ref)return;var l=((r||{})["!id"]||[])[a.id];l?(a.Target=l.Target,a.location&&(a.Target+="#"+Lt(a.location))):(a.Target="#"+Lt(a.location),l={Target:a.Target,TargetMode:"Internal"}),a.Rel=l,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var u=Rr(a.ref),g=u.s.r;g<=u.e.r;++g)for(var p=u.s.c;p<=u.e.c;++p){var m=dt({c:p,r:g});n?(e[g]||(e[g]=[]),e[g][p]||(e[g][p]={t:"z",v:void 0}),e[g][p].l=a):(e[m]||(e[m]={t:"z",v:void 0}),e[m].l=a)}}}function dW(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function hW(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=lt(t[n],!0);i.hidden&&(i.hidden=xr(i.hidden));var a=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,km(i.width)),Gl(i);a<=l;)e[a++]=xn(i)}}function gW(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var pW=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function xW(e,t){t.Views||(t.Views=[{}]),(e.match(pW)||[]).forEach(function(r,n){var i=lt(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),xr(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var mW=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=j0("v"),l=j0("f");return function(g,p,m,v,_,E){for(var A=0,C="",I=[],b=[],k=0,S=0,L=0,q="",G,F,Z=0,W=0,oe,le,Q=0,_e=0,Se=Array.isArray(E.CellXf),ee,Be=[],Ce=[],Ae=Array.isArray(p),ne=[],be={},ce=!1,B=!!m.sheetStubs,se=g.split(t),K=0,te=se.length;K!=te;++K){C=se[K].trim();var ae=C.length;if(ae!==0){var De=0;e:for(A=0;A<ae;++A)switch(C[A]){case">":if(C[A-1]!="/"){++A;break e}if(m&&m.cellStyles){if(F=lt(C.slice(De,A),!0),Z=F.r!=null?parseInt(F.r,10):Z+1,W=-1,m.sheetRows&&m.sheetRows<Z)continue;be={},ce=!1,F.ht&&(ce=!0,be.hpt=parseFloat(F.ht),be.hpx=z0(be.hpt)),F.hidden=="1"&&(ce=!0,be.hidden=!0),F.outlineLevel!=null&&(ce=!0,be.level=+F.outlineLevel),ce&&(ne[Z-1]=be)}break;case"<":De=A;break}if(De>=A)break;if(F=lt(C.slice(De,A),!0),Z=F.r!=null?parseInt(F.r,10):Z+1,W=-1,!(m.sheetRows&&m.sheetRows<Z)){v.s.r>Z-1&&(v.s.r=Z-1),v.e.r<Z-1&&(v.e.r=Z-1),m&&m.cellStyles&&(be={},ce=!1,F.ht&&(ce=!0,be.hpt=parseFloat(F.ht),be.hpx=z0(be.hpt)),F.hidden=="1"&&(ce=!0,be.hidden=!0),F.outlineLevel!=null&&(ce=!0,be.level=+F.outlineLevel),ce&&(ne[Z-1]=be)),I=C.slice(A).split(e);for(var Ve=0;Ve!=I.length&&I[Ve].trim().charAt(0)=="<";++Ve);for(I=I.slice(Ve),A=0;A!=I.length;++A)if(C=I[A].trim(),C.length!==0){if(b=C.match(r),k=A,S=0,L=0,C="<c "+(C.slice(0,1)=="<"?">":"")+C,b!=null&&b.length===2){for(k=0,q=b[1],S=0;S!=q.length&&!((L=q.charCodeAt(S)-64)<1||L>26);++S)k=26*k+L;--k,W=k}else++W;for(S=0;S!=C.length&&C.charCodeAt(S)!==62;++S);if(++S,F=lt(C.slice(0,S),!0),F.r||(F.r=dt({r:Z-1,c:W})),q=C.slice(S),G={t:""},(b=q.match(a))!=null&&b[1]!==""&&(G.v=Lt(b[1])),m.cellFormula){if((b=q.match(l))!=null&&b[1]!==""){if(G.f=Lt(or(b[1])).replace(/\r\n/g,`
`),m.xlfn||(G.f=Cy(G.f)),b[0].indexOf('t="array"')>-1)G.F=(q.match(i)||[])[1],G.F.indexOf(":")>-1&&Be.push([Rr(G.F),G.F]);else if(b[0].indexOf('t="shared"')>-1){le=lt(b[0]);var We=Lt(or(b[1]));m.xlfn||(We=Cy(We)),Ce[parseInt(le.si,10)]=[le,We,F.r]}}else(b=q.match(/<f[^>]*\/>/))&&(le=lt(b[0]),Ce[le.si]&&(G.f=bU(Ce[le.si][1],Ce[le.si][2],F.r)));var Re=jn(F.r);for(S=0;S<Be.length;++S)Re.r>=Be[S][0].s.r&&Re.r<=Be[S][0].e.r&&Re.c>=Be[S][0].s.c&&Re.c<=Be[S][0].e.c&&(G.F=Be[S][1])}if(F.t==null&&G.v===void 0)if(G.f||G.F)G.v=0,G.t="n";else if(B)G.t="z";else continue;else G.t=F.t||"n";switch(v.s.c>W&&(v.s.c=W),v.e.c<W&&(v.e.c=W),G.t){case"n":if(G.v==""||G.v==null){if(!B)continue;G.t="z"}else G.v=parseFloat(G.v);break;case"s":if(typeof G.v>"u"){if(!B)continue;G.t="z"}else oe=s0[parseInt(G.v,10)],G.v=oe.t,G.r=oe.r,m.cellHTML&&(G.h=oe.h);break;case"str":G.t="s",G.v=G.v!=null?or(G.v):"",m.cellHTML&&(G.h=xm(G.v));break;case"inlineStr":b=q.match(n),G.t="s",b!=null&&(oe=Tm(b[1]))?(G.v=oe.t,m.cellHTML&&(G.h=oe.h)):G.v="";break;case"b":G.v=xr(G.v);break;case"d":m.cellDates?G.v=on(G.v,1):(G.v=Gn(on(G.v,1)),G.t="n");break;case"e":(!m||m.cellText!==!1)&&(G.w=G.v),G.v=Q4[G.v];break}if(Q=_e=0,ee=null,Se&&F.s!==void 0&&(ee=E.CellXf[F.s],ee!=null&&(ee.numFmtId!=null&&(Q=ee.numFmtId),m.cellStyles&&ee.fillId!=null&&(_e=ee.fillId))),RS(G,Q,_e,m,_,E),m.cellDates&&Se&&G.t=="n"&&ic(mt[Q])&&(G.t="d",G.v=uh(G.v)),F.cm&&m.xlmeta){var et=(m.xlmeta.Cell||[])[+F.cm-1];et&&et.type=="XLDAPR"&&(G.D=!0)}if(Ae){var Y=jn(F.r);p[Y.r]||(p[Y.r]=[]),p[Y.r][Y.c]=G}else p[F.r]=G}}}}ne.length>0&&(p["!rows"]=ne)}}();function wW(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var vW=jo;function yW(){}function _W(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=HP(e),r}function EW(e){var t=Vi(e);return[t]}function CW(e){var t=Uo(e);return[t]}function AW(e){var t=Vi(e),r=e.read_shift(1);return[t,r,"b"]}function SW(e){var t=Uo(e),r=e.read_shift(1);return[t,r,"b"]}function TW(e){var t=Vi(e),r=e.read_shift(1);return[t,r,"e"]}function kW(e){var t=Uo(e),r=e.read_shift(1);return[t,r,"e"]}function bW(e){var t=Vi(e),r=e.read_shift(4);return[t,r,"s"]}function IW(e){var t=Uo(e),r=e.read_shift(4);return[t,r,"s"]}function RW(e){var t=Vi(e),r=bn(e);return[t,r,"n"]}function OS(e){var t=Uo(e),r=bn(e);return[t,r,"n"]}function NW(e){var t=Vi(e),r=Cm(e);return[t,r,"n"]}function OW(e){var t=Uo(e),r=Cm(e);return[t,r,"n"]}function DW(e){var t=Vi(e),r=_m(e);return[t,r,"is"]}function FW(e){var t=Vi(e),r=Rn(e);return[t,r,"str"]}function PW(e){var t=Uo(e),r=Rn(e);return[t,r,"str"]}function MW(e,t,r){var n=e.l+t,i=Vi(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"b"];if(r.cellFormula){e.l+=2;var u=hh(e,n-e.l,r);l[3]=Tn(u,null,i,r.supbooks,r)}else e.l=n;return l}function BW(e,t,r){var n=e.l+t,i=Vi(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"e"];if(r.cellFormula){e.l+=2;var u=hh(e,n-e.l,r);l[3]=Tn(u,null,i,r.supbooks,r)}else e.l=n;return l}function LW(e,t,r){var n=e.l+t,i=Vi(e);i.r=r["!row"];var a=bn(e),l=[i,a,"n"];if(r.cellFormula){e.l+=2;var u=hh(e,n-e.l,r);l[3]=Tn(u,null,i,r.supbooks,r)}else e.l=n;return l}function UW(e,t,r){var n=e.l+t,i=Vi(e);i.r=r["!row"];var a=Rn(e),l=[i,a,"str"];if(r.cellFormula){e.l+=2;var u=hh(e,n-e.l,r);l[3]=Tn(u,null,i,r.supbooks,r)}else e.l=n;return l}var jW=jo;function WW(e,t){var r=e.l+t,n=jo(e),i=Em(e),a=Rn(e),l=Rn(e),u=Rn(e);e.l=r;var g={rfx:n,relId:i,loc:a,display:u};return l&&(g.Tooltip=l),g}function VW(){}function HW(e,t,r){var n=e.l+t,i=K4(e),a=e.read_shift(1),l=[i];if(l[2]=a,r.cellFormula){var u=Yj(e,n-e.l,r);l[1]=u}else e.l=n;return l}function zW(e,t,r){var n=e.l+t,i=jo(e),a=[i];if(r.cellFormula){var l=qj(e,n-e.l,r);a[1]=l,e.l=n}else e.l=n;return a}var GW=["left","right","top","bottom","header","footer"];function XW(e){var t={};return GW.forEach(function(r){t[r]=bn(e)}),t}function $W(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function YW(){}function KW(){}function qW(e,t,r,n,i,a,l){if(!e)return e;var u=t||{};n||(n={"!id":{}});var g=u.dense?[]:{},p,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=!1,_=!1,E,A,C,I,b,k,S,L,q,G=[];u.biff=12,u["!row"]=0;var F=0,Z=!1,W=[],oe={},le=u.supbooks||i.supbooks||[[]];if(le.sharedf=oe,le.arrayf=W,le.SheetNames=i.SheetNames||i.Sheets.map(function(Ae){return Ae.name}),!u.supbooks&&(u.supbooks=le,i.Names))for(var Q=0;Q<i.Names.length;++Q)le[0][Q+1]=i.Names[Q];var _e=[],Se=[],ee=!1;kd[16]={n:"BrtShortReal",f:OS};var Be;if(Zs(e,function(ne,be,ce){if(!_)switch(ce){case 148:p=ne;break;case 0:E=ne,u.sheetRows&&u.sheetRows<=E.r&&(_=!0),L=mn(I=E.r),u["!row"]=E.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=z0(ne.hpt)),Se[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(A={t:ne[2]},ne[2]){case"n":A.v=ne[1];break;case"s":S=s0[ne[1]],A.v=S.t,A.r=S.r;break;case"b":A.v=!!ne[1];break;case"e":A.v=ne[1],u.cellText!==!1&&(A.w=Wo[A.v]);break;case"str":A.t="s",A.v=ne[1];break;case"is":A.t="s",A.v=ne[1].t;break}if((C=l.CellXf[ne[0].iStyleRef])&&RS(A,C.numFmtId,null,u,a,l),b=ne[0].c==-1?b+1:ne[0].c,u.dense?(g[I]||(g[I]=[]),g[I][b]=A):g[Kr(b)+L]=A,u.cellFormula){for(Z=!1,F=0;F<W.length;++F){var B=W[F];E.r>=B[0].s.r&&E.r<=B[0].e.r&&b>=B[0].s.c&&b<=B[0].e.c&&(A.F=Pt(B[0]),Z=!0)}!Z&&ne.length>3&&(A.f=ne[3])}if(m.s.r>E.r&&(m.s.r=E.r),m.s.c>b&&(m.s.c=b),m.e.r<E.r&&(m.e.r=E.r),m.e.c<b&&(m.e.c=b),u.cellDates&&C&&A.t=="n"&&ic(mt[C.numFmtId])){var se=oo(A.v);se&&(A.t="d",A.v=new Date(se.y,se.m-1,se.d,se.H,se.M,se.S,se.u))}Be&&(Be.type=="XLDAPR"&&(A.D=!0),Be=void 0);break;case 1:case 12:if(!u.sheetStubs||v)break;A={t:"z",v:void 0},b=ne[0].c==-1?b+1:ne[0].c,u.dense?(g[I]||(g[I]=[]),g[I][b]=A):g[Kr(b)+L]=A,m.s.r>E.r&&(m.s.r=E.r),m.s.c>b&&(m.s.c=b),m.e.r<E.r&&(m.e.r=E.r),m.e.c<b&&(m.e.c=b),Be&&(Be.type=="XLDAPR"&&(A.D=!0),Be=void 0);break;case 176:G.push(ne);break;case 49:Be=((u.xlmeta||{}).Cell||[])[ne-1];break;case 494:var K=n["!id"][ne.relId];for(K?(ne.Target=K.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=K):ne.relId==""&&(ne.Target="#"+ne.loc),I=ne.rfx.s.r;I<=ne.rfx.e.r;++I)for(b=ne.rfx.s.c;b<=ne.rfx.e.c;++b)u.dense?(g[I]||(g[I]=[]),g[I][b]||(g[I][b]={t:"z",v:void 0}),g[I][b].l=ne):(k=dt({c:b,r:I}),g[k]||(g[k]={t:"z",v:void 0}),g[k].l=ne);break;case 426:if(!u.cellFormula)break;W.push(ne),q=u.dense?g[I][b]:g[Kr(b)+L],q.f=Tn(ne[1],m,{r:E.r,c:b},le,u),q.F=Pt(ne[0]);break;case 427:if(!u.cellFormula)break;oe[dt(ne[0].s)]=ne[1],q=u.dense?g[I][b]:g[Kr(b)+L],q.f=Tn(ne[1],m,{r:E.r,c:b},le,u);break;case 60:if(!u.cellStyles)break;for(;ne.e>=ne.s;)_e[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},ee||(ee=!0,km(ne.w/256)),Gl(_e[ne.e+1]);break;case 161:g["!autofilter"]={ref:Pt(ne)};break;case 476:g["!margins"]=ne;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ne.name&&(i.Sheets[r].CodeName=ne.name),(ne.above||ne.left)&&(g["!outline"]={above:ne.above,left:ne.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ne.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:v=!0;break;case 36:v=!1;break;case 37:v=!0;break;case 38:v=!1;break;default:if(!be.T){if(!v||u.WTF)throw new Error("Unexpected record 0x"+ce.toString(16))}}},u),delete u.supbooks,delete u["!row"],!g["!ref"]&&(m.s.r<2e6||p&&(p.e.r>0||p.e.c>0||p.s.r>0||p.s.c>0))&&(g["!ref"]=Pt(p||m)),u.sheetRows&&g["!ref"]){var Ce=Rr(g["!ref"]);u.sheetRows<=+Ce.e.r&&(Ce.e.r=u.sheetRows-1,Ce.e.r>m.e.r&&(Ce.e.r=m.e.r),Ce.e.r<Ce.s.r&&(Ce.s.r=Ce.e.r),Ce.e.c>m.e.c&&(Ce.e.c=m.e.c),Ce.e.c<Ce.s.c&&(Ce.s.c=Ce.e.c),g["!fullref"]=g["!ref"],g["!ref"]=Pt(Ce))}return G.length>0&&(g["!merges"]=G),_e.length>0&&(g["!cols"]=_e),Se.length>0&&(g["!rows"]=Se),g}function ZW(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var l=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var i=Lt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function QW(e,t,r,n,i,a){var l=a||{"!type":"chart"};if(!e)return a;var u=0,g=0,p="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(v){var _=ZW(v);m.s.r=m.s.c=0,m.e.c=u,p=Kr(u),_[0].forEach(function(E,A){l[p+mn(A)]={t:"n",v:E,z:_[1]},g=A}),m.e.r<g&&(m.e.r=g),++u}),u>0&&(l["!ref"]=Pt(m)),l}function JW(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l,u=e.match(NS);return u&&Im(u[0],a,i,r),(l=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=l[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function eV(e,t){e.l+=10;var r=Rn(e);return{name:r}}function tV(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Zs(e,function(g,p,m){switch(m){case 550:a["!rel"]=g;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),g.name&&(i.Sheets[r].CodeName=g.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(p.T>0)){if(!(p.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var DS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],rV=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],nV=[],iV=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function by(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=xr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function Iy(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=xr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function FS(e){Iy(e.WBProps,DS),Iy(e.CalcPr,iV),by(e.WBView,rV),by(e.Sheets,nV),bl.date1904=xr(e.WBProps.date1904)}var sV="][*?/\\".split("");function aV(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return sV.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var oV=/<\w+:workbook/;function lV(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},l=0;if(e.replace(Fn,function(g,p){var m=lt(g);switch(Ss(m[0])){case"<?xml":break;case"<workbook":g.match(oV)&&(i="xmlns"+g.match(/<(\w+):/)[1]),r.xmlns=m[i];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":DS.forEach(function(v){if(m[v[0]]!=null)switch(v[2]){case"bool":r.WBProps[v[0]]=xr(m[v[0]]);break;case"int":r.WBProps[v[0]]=parseInt(m[v[0]],10);break;default:r.WBProps[v[0]]=m[v[0]]}}),m.codeName&&(r.WBProps.CodeName=or(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=Lt(or(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=or(m.name),m.comment&&(a.Comment=m.comment),m.localSheetId&&(a.Sheet=+m.localSheetId),xr(m.hidden||"0")&&(a.Hidden=!0),l=p+g.length;break;case"</definedName>":a.Ref=Lt(or(e.slice(l,p))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return g}),TP.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return FS(r),r}function cV(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Zg(e),r.name=Rn(e),r}function uV(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Rn(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function fV(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function dV(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=zP(e),l=Kj(e,0,r),u=Em(e);e.l=n;var g={Name:a,Ptg:l};return i<268435455&&(g.Sheet=i),u&&(g.Comment=u),g}function hV(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],l=[[]];return l.SheetNames=[],l.XTI=[],kd[16]={n:"BrtFRTArchID$",f:fV},Zs(e,function(g,p,m){switch(m){case 156:l.SheetNames.push(g.name),r.Sheets.push(g);break;case 153:r.WBProps=g;break;case 39:g.Sheet!=null&&(t.SID=g.Sheet),g.Ref=Tn(g.Ptg,null,null,l,t),delete t.SID,delete g.Ptg,a.push(g);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([m,g]):l[0]=[m,g],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(g),l.XTI=l.XTI.concat(g);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(m),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!p.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},t),FS(r),r.Names=a,r.supbooks=l,r}function gV(e,t,r){return t.slice(-4)===".bin"?hV(e,r):lV(e,r)}function pV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?qW(e,n,r,i,a,l,u):cW(e,n,r,i,a,l,u)}function xV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?tV(e,n,r,i,a):JW(e,n,r,i,a)}function mV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?SU():TU()}function wV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?CU():AU()}function vV(e,t,r,n){return t.slice(-4)===".bin"?jL(e,r,n):FL(e,r,n)}function yV(e,t,r){return yS(e,r)}function _V(e,t,r){return t.slice(-4)===".bin"?rL(e,r):eL(e,r)}function EV(e,t,r){return t.slice(-4)===".bin"?yU(e,r):pU(e,r)}function CV(e,t,r){return t.slice(-4)===".bin"?dU(e):uU(e)}function AV(e,t,r,n){return r.slice(-4)===".bin"?hU(e,t,r,n):void 0}function SV(e,t,r){return t.slice(-4)===".bin"?lU(e,t,r):cU(e,t,r)}var PS=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,MS=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function $i(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(PS),a,l,u,g;if(i)for(g=0;g!=i.length;++g)a=i[g].match(MS),(l=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?u="xmlns"+a[1].slice(6):u=a[1].slice(l+1),n[u]=a[2].slice(1,a[2].length-1));return n}function TV(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(PS),i,a,l,u;if(n)for(u=0;u!=n.length;++u)i=n[u].match(MS),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),r[l]=i[2].slice(1,i[2].length-1));return r}var o0;function kV(e,t){var r=o0[e]||Lt(e);return r==="General"?So(t):Wi(r,t)}function bV(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=xr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=on(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Lt(t)]=i}function IV(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Wo[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v):e.w=So(e.v):e.w=kV(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=o0[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&ic(n)){var i=oo(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function RV(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=bL[n.Pattern]||n.Pattern)}e[t.ID]=t}function NV(e,t,r,n,i,a,l,u,g,p){var m="General",v=n.StyleID,_={};p=p||{};var E=[],A=0;for(v===void 0&&u&&(v=u.StyleID),v===void 0&&l&&(v=l.StyleID);a[v]!==void 0&&(a[v].nf&&(m=a[v].nf),a[v].Interior&&E.push(a[v].Interior),!!a[v].Parent);)v=a[v].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=xr(e);break;case"String":n.t="s",n.r=Zv(Lt(e)),n.v=e.indexOf("<")>-1?Lt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(on(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Lt(e):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Q4[e],p.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=Zv(t||e));break}if(IV(n,m,p),p.cellFormula!==!1)if(n.Formula){var C=Lt(n.Formula);C.charCodeAt(0)==61&&(C=C.slice(1)),n.f=kl(C,i),delete n.Formula,n.ArrayRange=="RC"?n.F=kl("RC:RC",i):n.ArrayRange&&(n.F=kl(n.ArrayRange,i),g.push([Rr(n.F),n.F]))}else for(A=0;A<g.length;++A)i.r>=g[A][0].s.r&&i.r<=g[A][0].e.r&&i.c>=g[A][0].s.c&&i.c<=g[A][0].e.c&&(n.F=g[A][1]);p.cellStyles&&(E.forEach(function(I){!_.patternType&&I.patternType&&(_.patternType=I.patternType)}),n.s=_),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function OV(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function A1(e,t){var r=t||{};A4();var n=Dc(mm(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=or(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=xn(r);return l.type="string",V0.to_workbook(n,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ze){i.indexOf("<"+Ze)>=0&&(a=!0)}),a)return WV(n,r);o0={"General Number":"General","General Date":mt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":mt[15],"Short Date":mt[14],"Long Time":mt[19],"Medium Time":mt[18],"Short Time":mt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:mt[2],Standard:mt[4],Percent:mt[10],Scientific:mt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,g=[],p,m={},v=[],_=r.dense?[]:{},E="",A={},C={},I=$i('<Data ss:Type="String">'),b=0,k=0,S=0,L={s:{r:2e6,c:2e6},e:{r:0,c:0}},q={},G={},F="",Z=0,W=[],oe={},le={},Q=0,_e=[],Se=[],ee={},Be=[],Ce,Ae=!1,ne=[],be=[],ce={},B=0,se=0,K={Sheets:[],WBProps:{date1904:!1}},te={};W0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";u=W0.exec(n);)switch(u[3]=(ae=u[3]).toLowerCase()){case"data":if(ae=="data"){if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break}if(g[g.length-1][1])break;u[1]==="/"?NV(n.slice(b,u.index),F,I,g[g.length-1][0]=="comment"?ee:A,{c:k,r:S},q,Be[k],C,ne,r):(F="",I=$i(u[0]),b=u.index+u[0].length);break;case"cell":if(u[1]==="/")if(Se.length>0&&(A.c=Se),(!r.sheetRows||r.sheetRows>S)&&A.v!==void 0&&(r.dense?(_[S]||(_[S]=[]),_[S][k]=A):_[Kr(k)+mn(S)]=A),A.HRef&&(A.l={Target:Lt(A.HRef)},A.HRefScreenTip&&(A.l.Tooltip=A.HRefScreenTip),delete A.HRef,delete A.HRefScreenTip),(A.MergeAcross||A.MergeDown)&&(B=k+(parseInt(A.MergeAcross,10)|0),se=S+(parseInt(A.MergeDown,10)|0),W.push({s:{c:k,r:S},e:{c:B,r:se}})),!r.sheetStubs)A.MergeAcross?k=B+1:++k;else if(A.MergeAcross||A.MergeDown){for(var De=k;De<=B;++De)for(var Ve=S;Ve<=se;++Ve)(De>k||Ve>S)&&(r.dense?(_[Ve]||(_[Ve]=[]),_[Ve][De]={t:"z"}):_[Kr(De)+mn(Ve)]={t:"z"});k=B+1}else++k;else A=TV(u[0]),A.Index&&(k=+A.Index-1),k<L.s.c&&(L.s.c=k),k>L.e.c&&(L.e.c=k),u[0].slice(-2)==="/>"&&++k,Se=[];break;case"row":u[1]==="/"||u[0].slice(-2)==="/>"?(S<L.s.r&&(L.s.r=S),S>L.e.r&&(L.e.r=S),u[0].slice(-2)==="/>"&&(C=$i(u[0]),C.Index&&(S=+C.Index-1)),k=0,++S):(C=$i(u[0]),C.Index&&(S=+C.Index-1),ce={},(C.AutoFitHeight=="0"||C.Height)&&(ce.hpx=parseInt(C.Height,10),ce.hpt=vS(ce.hpx),be[S]=ce),C.Hidden=="1"&&(ce.hidden=!0,be[S]=ce));break;case"worksheet":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));v.push(E),L.s.r<=L.e.r&&L.s.c<=L.e.c&&(_["!ref"]=Pt(L),r.sheetRows&&r.sheetRows<=L.e.r&&(_["!fullref"]=_["!ref"],L.e.r=r.sheetRows-1,_["!ref"]=Pt(L))),W.length&&(_["!merges"]=W),Be.length>0&&(_["!cols"]=Be),be.length>0&&(_["!rows"]=be),m[E]=_}else L={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=k=0,g.push([u[3],!1]),p=$i(u[0]),E=Lt(p.Name),_=r.dense?[]:{},W=[],ne=[],be=[],te={name:E,Hidden:0},K.Sheets.push(te);break;case"table":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else{if(u[0].slice(-2)=="/>")break;g.push([u[3],!1]),Be=[],Ae=!1}break;case"style":u[1]==="/"?RV(q,G,r):G=$i(u[0]);break;case"numberformat":G.nf=Lt($i(u[0]).Format||"General"),o0[G.nf]&&(G.nf=o0[G.nf]);for(var We=0;We!=392&&mt[We]!=G.nf;++We);if(We==392){for(We=57;We!=392;++We)if(mt[We]==null){fo(G.nf,We);break}}break;case"column":if(g[g.length-1][0]!=="table")break;if(Ce=$i(u[0]),Ce.Hidden&&(Ce.hidden=!0,delete Ce.Hidden),Ce.Width&&(Ce.wpx=parseInt(Ce.Width,10)),!Ae&&Ce.wpx>10){Ae=!0,Ln=mS;for(var Re=0;Re<Be.length;++Re)Be[Re]&&Gl(Be[Re])}Ae&&Gl(Ce),Be[Ce.Index-1||Be.length]=Ce;for(var et=0;et<+Ce.Span;++et)Be[Be.length]=xn(Ce);break;case"namedrange":if(u[1]==="/")break;K.Names||(K.Names=[]);var Y=lt(u[0]),qe={Name:Y.Name,Ref:kl(Y.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(qe.Sheet=K.Sheets.length-1),K.Names.push(qe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(u[0].slice(-2)==="/>")break;u[1]==="/"?F+=n.slice(Z,u.index):Z=u.index+u[0].length;break;case"interior":if(!r.cellStyles)break;G.Interior=$i(u[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(u[0].slice(-2)==="/>")break;u[1]==="/"?pM(oe,ae,n.slice(Q,u.index)):Q=u.index+u[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else g.push([u[3],!1]);break;case"comment":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));OV(ee),Se.push(ee)}else g.push([u[3],!1]),p=$i(u[0]),ee={a:p.Author};break;case"autofilter":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else if(u[0].charAt(u[0].length-2)!=="/"){var ct=$i(u[0]);_["!autofilter"]={ref:kl(ct.Range).replace(/\$/g,"")},g.push([u[3],!0])}break;case"name":break;case"datavalidation":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break;case"null":break;default:if(g.length==0&&u[3]=="document"||g.length==0&&u[3]=="uof")return Py(n,r);var ht=!0;switch(g[g.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ht=!1}break;case"componentoptions":switch(u[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ht=!1}break;case"excelworkbook":switch(u[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ht=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":break;case"height":break;case"width":break;default:ht=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if(u[0].slice(-2)!=="/>")if(u[1]==="/")switch(n.slice(Q,u.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else Q=u.index+u[0].length;break;case"header":_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(_["!margins"].header=+lt(u[0]).Margin);break;case"footer":_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(_["!margins"].footer=+lt(u[0]).Margin);break;case"pagemargins":var Ye=lt(u[0]);_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+Ye.Top)||(_["!margins"].top=+Ye.Top),isNaN(+Ye.Left)||(_["!margins"].left=+Ye.Left),isNaN(+Ye.Right)||(_["!margins"].right=+Ye.Right),isNaN(+Ye.Bottom)||(_["!margins"].bottom=+Ye.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ht=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ht=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ht=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ht=!1}break;case"querytable":switch(u[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ht=!1}break;case"datavalidation":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ht=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ht=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ht=!1}break;case"smarttags":break;default:ht=!1;break}if(ht||u[3].match(/!\[CDATA/))break;if(!g[g.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+g.join("|");if(g[g.length-1][0]==="customdocumentproperties"){if(u[0].slice(-2)==="/>")break;u[1]==="/"?bV(le,ae,_e,n.slice(Q,u.index)):(_e=u,Q=u.index+u[0].length);break}if(r.WTF)throw"Unrecognized tag: "+u[3]+"|"+g.join("|")}var Ne={};return!r.bookSheets&&!r.bookProps&&(Ne.Sheets=m),Ne.SheetNames=v,Ne.Workbook=K,Ne.SSF=xn(mt),Ne.Props=oe,Ne.Custprops=le,Ne}function tp(e,t){switch(Om(t=t||{}),t.type||"base64"){case"base64":return A1(yi(e),t);case"binary":case"buffer":case"file":return A1(e,t);case"array":return A1(Lo(e),t)}}function DV(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=$P(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=YP(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var FV=[60,1084,2066,2165,2175];function PV(e,t,r,n,i){var a=n,l=[],u=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&u.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(u)}l.push(u),r.l+=a;for(var g=Fs(r,r.l),p=rp[g],m=0;p!=null&&FV.indexOf(g)>-1;)a=Fs(r,r.l+2),m=r.l+4,g==2066?m+=4:(g==2165||g==2175)&&(m+=12),u=r.slice(m,r.l+4+a),l.push(u),r.l+=4+a,p=rp[g=Fs(r,r.l)];var v=ua(l);hn(v,0);var _=0;v.lens=[];for(var E=0;E<l.length;++E)v.lens.push(_),_+=l[E].length;if(v.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+v.length+" < "+n;return t.f(v,v.length,i)}function gs(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=mt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Wo[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v):e.w=So(e.v):e.w=Wi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&ic(mt[n]||String(n))){var i=oo(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function ef(e,t,r){return{v:e,ixfe:t,t:r}}function MV(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},l={},u=null,g=[],p="",m={},v,_="",E,A,C,I,b={},k=[],S,L,q=[],G=[],F={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Z={},W=function(ft){return ft<8?ho[ft]:ft<64&&G[ft-8]||ho[ft]},oe=function(ft,Kt,_n){var gt=Kt.XF.data;if(!(!gt||!gt.patternType||!_n||!_n.cellStyles)){Kt.s={},Kt.s.patternType=gt.patternType;var Le;(Le=H0(W(gt.icvFore)))&&(Kt.s.fgColor={rgb:Le}),(Le=H0(W(gt.icvBack)))&&(Kt.s.bgColor={rgb:Le})}},le=function(ft,Kt,_n){if(!(ce>1)&&!(_n.sheetRows&&ft.r>=_n.sheetRows)){if(_n.cellStyles&&Kt.XF&&Kt.XF.data&&oe(ft,Kt,_n),delete Kt.ixfe,delete Kt.XF,v=ft,_=dt(ft),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),ft.r<l.s.r&&(l.s.r=ft.r),ft.c<l.s.c&&(l.s.c=ft.c),ft.r+1>l.e.r&&(l.e.r=ft.r+1),ft.c+1>l.e.c&&(l.e.c=ft.c+1),_n.cellFormula&&Kt.f){for(var gt=0;gt<k.length;++gt)if(!(k[gt][0].s.c>ft.c||k[gt][0].s.r>ft.r)&&!(k[gt][0].e.c<ft.c||k[gt][0].e.r<ft.r)){Kt.F=Pt(k[gt][0]),(k[gt][0].s.c!=ft.c||k[gt][0].s.r!=ft.r)&&delete Kt.f,Kt.f&&(Kt.f=""+Tn(k[gt][1],l,ft,ne,Q));break}}_n.dense?(i[ft.r]||(i[ft.r]=[]),i[ft.r][ft.c]=Kt):i[_]=Kt}},Q={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(Q.password=t.password);var _e,Se=[],ee=[],Be=[],Ce=[],Ae=!1,ne=[];ne.SheetNames=Q.snames,ne.sharedf=Q.sharedf,ne.arrayf=Q.arrayf,ne.names=[],ne.XTI=[];var be=0,ce=0,B=0,se=[],K=[],te;Q.codepage=1200,ts(1200);for(var ae=!1;e.l<e.length-1;){var De=e.l,Ve=e.read_shift(2);if(Ve===0&&be===10)break;var We=e.l===e.length?0:e.read_shift(2),Re=rp[Ve];if(Re&&Re.f){if(t.bookSheets&&be===133&&Ve!==133)break;if(be=Ve,Re.r===2||Re.r==12){var et=e.read_shift(2);if(We-=2,!Q.enc&&et!==Ve&&((et&255)<<8|et>>8)!==Ve)throw new Error("rt mismatch: "+et+"!="+Ve);Re.r==12&&(e.l+=10,We-=10)}var Y={};if(Ve===10?Y=Re.f(e,We,Q):Y=PV(Ve,Re,e,We,Q),ce==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(Ve){case 34:r.opts.Date1904=F.WBProps.date1904=Y;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(Q.enc||(e.l=0),Q.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:Q.lastuser=Y;break;case 66:var qe=Number(Y);switch(qe){case 21010:qe=1200;break;case 32768:qe=1e4;break;case 32769:qe=1252;break}ts(Q.codepage=qe),ae=!0;break;case 317:Q.rrtabid=Y;break;case 25:Q.winlocked=Y;break;case 439:r.opts.RefreshAll=Y;break;case 12:r.opts.CalcCount=Y;break;case 16:r.opts.CalcDelta=Y;break;case 17:r.opts.CalcIter=Y;break;case 13:r.opts.CalcMode=Y;break;case 14:r.opts.CalcPrecision=Y;break;case 95:r.opts.CalcSaveRecalc=Y;break;case 15:Q.CalcRefMode=Y;break;case 2211:r.opts.FullCalc=Y;break;case 129:Y.fDialog&&(i["!type"]="dialog"),Y.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Y.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:q.push(Y);break;case 430:ne.push([Y]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(Y);break;case 24:case 536:te={Name:Y.Name,Ref:Tn(Y.rgce,l,null,ne,Q)},Y.itab>0&&(te.Sheet=Y.itab-1),ne.names.push(te),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(K[Y.itab-1]={ref:Pt(Y.rgce[0][0][1][2])});break;case 22:Q.ExternCount=Y;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(Y),ne.XTI=ne.XTI.concat(Y);break;case 2196:if(Q.biff<8)break;te!=null&&(te.Comment=Y[1]);break;case 18:i["!protect"]=Y;break;case 19:Y!==0&&Q.WTF&&console.error("Password verifier: "+Y);break;case 133:a[Y.pos]=Y,Q.snames.push(Y.name);break;case 10:{if(--ce)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=Pt(l),t.sheetRows&&t.sheetRows<=l.e.r){var ct=l.e.r;l.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Pt(l),l.e.r=ct}l.e.r++,l.e.c++}Se.length>0&&(i["!merges"]=Se),ee.length>0&&(i["!objects"]=ee),Be.length>0&&(i["!cols"]=Be),Ce.length>0&&(i["!rows"]=Ce),F.Sheets.push(Z)}p===""?m=i:n[p]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Q.biff===8&&(Q.biff={9:2,521:3,1033:4}[Ve]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),Q.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(Q.biff=5,ae=!0,ts(Q.codepage=28591)),Q.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(Q.biff=2),ce++)break;if(i=t.dense?[]:{},Q.biff<8&&!ae&&(ae=!0,ts(Q.codepage=t.codepage||1252)),Q.biff<5||Y.BIFFVer==0&&Y.dt==4096){p===""&&(p="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var ht={pos:e.l-We,name:p};a[ht.pos]=ht,Q.snames.push(p)}else p=(a[De]||{name:""}).name;Y.dt==32&&(i["!type"]="chart"),Y.dt==64&&(i["!type"]="macro"),Se=[],ee=[],Q.arrayf=k=[],Be=[],Ce=[],Ae=!1,Z={Hidden:(a[De]||{hs:0}).hs,name:p}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[Y.r]||[])[Y.c]:i[dt({c:Y.c,r:Y.r})])&&++Y.c,S={ixfe:Y.ixfe,XF:q[Y.ixfe]||{},v:Y.val,t:"n"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 5:case 517:S={ixfe:Y.ixfe,XF:q[Y.ixfe],v:Y.val,t:Y.t},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 638:S={ixfe:Y.ixfe,XF:q[Y.ixfe],v:Y.rknum,t:"n"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 189:for(var Ye=Y.c;Ye<=Y.C;++Ye){var Ne=Y.rkrec[Ye-Y.c][0];S={ixfe:Ne,XF:q[Ne],v:Y.rkrec[Ye-Y.c][1],t:"n"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Ye,r:Y.r},S,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){u=Y;break}if(S=ef(Y.val,Y.cell.ixfe,Y.tt),S.XF=q[S.ixfe],t.cellFormula){var Ze=Y.formula;if(Ze&&Ze[0]&&Ze[0][0]&&Ze[0][0][0]=="PtgExp"){var ot=Ze[0][0][1][0],Ht=Ze[0][0][1][1],Xe=dt({r:ot,c:Ht});b[Xe]?S.f=""+Tn(Y.formula,l,Y.cell,ne,Q):S.F=((t.dense?(i[ot]||[])[Ht]:i[Xe])||{}).F}else S.f=""+Tn(Y.formula,l,Y.cell,ne,Q)}B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le(Y.cell,S,t),u=Y}break;case 7:case 519:if(u)u.val=Y,S=ef(Y,u.cell.ixfe,"s"),S.XF=q[S.ixfe],t.cellFormula&&(S.f=""+Tn(u.formula,l,u.cell,ne,Q)),B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le(u.cell,S,t),u=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(Y);var zt=dt(Y[0].s);if(E=t.dense?(i[Y[0].s.r]||[])[Y[0].s.c]:i[zt],t.cellFormula&&E){if(!u||!zt||!E)break;E.f=""+Tn(Y[1],l,Y[0],ne,Q),E.F=Pt(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(_){if(!u)break;b[dt(u.cell)]=Y[0],E=t.dense?(i[u.cell.r]||[])[u.cell.c]:i[dt(u.cell)],(E||{}).f=""+Tn(Y[0],l,v,ne,Q)}}break;case 253:S=ef(g[Y.isst].t,Y.ixfe,"s"),g[Y.isst].h&&(S.h=g[Y.isst].h),S.XF=q[S.ixfe],B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:Y.ixfe,XF:q[Y.ixfe],t:"z"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t));break;case 190:if(t.sheetStubs)for(var yn=Y.c;yn<=Y.C;++yn){var Gt=Y.ixfe[yn-Y.c];S={ixfe:Gt,XF:q[Gt],t:"z"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:yn,r:Y.r},S,t)}break;case 214:case 516:case 4:S=ef(Y.val,Y.ixfe,"s"),S.XF=q[S.ixfe],B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 0:case 512:ce===1&&(l=Y);break;case 252:g=Y;break;case 1054:if(Q.biff==4){se[B++]=Y[1];for(var Mr=0;Mr<B+163&&mt[Mr]!=Y[1];++Mr);Mr>=163&&fo(Y[1],B+163)}else fo(Y[1],Y[0]);break;case 30:{se[B++]=Y;for(var Er=0;Er<B+163&&mt[Er]!=Y;++Er);Er>=163&&fo(Y,B+163)}break;case 229:Se=Se.concat(Y);break;case 93:ee[Y.cmo[0]]=Q.lastobj=Y;break;case 438:Q.lastobj.TxO=Y;break;case 127:Q.lastobj.ImData=Y;break;case 440:for(I=Y[0].s.r;I<=Y[0].e.r;++I)for(C=Y[0].s.c;C<=Y[0].e.c;++C)E=t.dense?(i[I]||[])[C]:i[dt({c:C,r:I})],E&&(E.l=Y[1]);break;case 2048:for(I=Y[0].s.r;I<=Y[0].e.r;++I)for(C=Y[0].s.c;C<=Y[0].e.c;++C)E=t.dense?(i[I]||[])[C]:i[dt({c:C,r:I})],E&&E.l&&(E.l.Tooltip=Y[1]);break;case 28:{if(Q.biff<=5&&Q.biff>=2)break;E=t.dense?(i[Y[0].r]||[])[Y[0].c]:i[dt(Y[0])];var Hi=ee[Y[2]];E||(t.dense?(i[Y[0].r]||(i[Y[0].r]=[]),E=i[Y[0].r][Y[0].c]={t:"z"}):E=i[dt(Y[0])]={t:"z"},l.e.r=Math.max(l.e.r,Y[0].r),l.s.r=Math.min(l.s.r,Y[0].r),l.e.c=Math.max(l.e.c,Y[0].c),l.s.c=Math.min(l.s.c,Y[0].c)),E.c||(E.c=[]),A={a:Y[1],t:Hi.TxO.t},E.c.push(A)}break;case 2173:iU(q[Y.ixfe],Y.ext);break;case 125:{if(!Q.cellStyles)break;for(;Y.e>=Y.s;)Be[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},Ae||(Ae=!0,km(Y.w/256)),Gl(Be[Y.e+1])}break;case 520:{var Qt={};Y.level!=null&&(Ce[Y.r]=Qt,Qt.level=Y.level),Y.hidden&&(Ce[Y.r]=Qt,Qt.hidden=!0),Y.hpt&&(Ce[Y.r]=Qt,Qt.hpt=Y.hpt,Qt.hpx=z0(Y.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||a0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ve]]=Y;break;case 161:i["!margins"]||a0(i["!margins"]={}),i["!margins"].header=Y.header,i["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(F.Views[0].RTL=!0);break;case 146:G=Y;break;case 2198:_e=Y;break;case 140:L=Y;break;case 442:p?Z.CodeName=Y||Z.name:F.WBProps.CodeName=Y||"ThisWorkbook";break}}else Re||console.error("Missing Info for XLS Record 0x"+Ve.toString(16)),e.l+=We}return r.SheetNames=Cs(a).sort(function(Yt,ft){return Number(Yt)-Number(ft)}).map(function(Yt){return a[Yt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&K.forEach(function(Yt,ft){r.Sheets[r.SheetNames[ft]]["!autofilter"]=Yt}),r.Strings=g,r.SSF=xn(mt),Q.enc&&(r.Encryption=Q.enc),_e&&(r.Themes=_e),r.Metadata={},L!==void 0&&(r.Metadata.Country=L),ne.names.length>0&&(F.Names=ne.names),r.Workbook=F,r}var Ry={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function BV(e,t,r){var n=Ft.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=hy(n,eM,Ry.DSI);for(var a in i)t[a]=i[a]}catch(p){if(r.WTF)throw p}var l=Ft.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var u=hy(l,tM,Ry.SI);for(var g in u)t[g]==null&&(t[g]=u[g])}catch(p){if(r.WTF)throw p}t.HeadingPairs&&t.TitlesOfParts&&(eS(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function BS(e,t){t||(t={}),Om(t),d4(),t.codepage&&um(t.codepage);var r,n;if(e.FullPaths){if(Ft.find(e,"/encryption"))throw new Error("File is password-protected");r=Ft.find(e,"!CompObj"),n=Ft.find(e,"/Workbook")||Ft.find(e,"/Book")}else{switch(t.type){case"base64":e=Ji(yi(e));break;case"binary":e=Ji(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}hn(e,0),n={content:e}}var i,a;if(r&&DV(r),t.bookProps&&!t.bookSheets)i={};else{var l=Nt?"buffer":"array";if(n&&n.content)i=MV(n.content,t);else if((a=Ft.find(e,"PerfectOffice_MAIN"))&&a.content)i=i0.to_workbook(a.content,(t.type=l,t));else if((a=Ft.find(e,"NativeContent_MAIN"))&&a.content)i=i0.to_workbook(a.content,(t.type=l,t));else throw(a=Ft.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ft.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=EU(e))}var u={};return e.FullPaths&&BV(e,u,t),i.Props=i.Custprops=u,t.bookFiles&&(i.cfb=e),i}var kd={0:{f:wW},1:{f:EW},2:{f:NW},3:{f:TW},4:{f:AW},5:{f:RW},6:{f:FW},7:{f:bW},8:{f:UW},9:{f:LW},10:{f:MW},11:{f:BW},12:{f:CW},13:{f:OW},14:{f:kW},15:{f:SW},16:{f:OS},17:{f:PW},18:{f:IW},19:{f:_m},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:dV},40:{},42:{},43:{f:ML},44:{f:PL},45:{f:BL},46:{f:UL},47:{f:LL},48:{},49:{f:jP},50:{},51:{f:aU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:dS},62:{f:DW},63:{f:fU},64:{f:YW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Dn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$W},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:_W},148:{f:vW,p:16},151:{f:VW},152:{},153:{f:uV},154:{},155:{},156:{f:cV},157:{},158:{},159:{T:1,f:tL},160:{T:-1},161:{T:1,f:jo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:sU},336:{T:-1},337:{f:oU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Zg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:fS},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:HW},427:{f:zW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:XW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:yW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:WW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Zg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vU},633:{T:1},634:{T:-1},635:{T:1,f:wU},636:{T:-1},637:{f:VP},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:eV},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:KW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},rp={6:{f:E1},10:{f:sa},12:{f:Ur},13:{f:Ur},14:{f:Or},15:{f:Or},16:{f:bn},17:{f:Or},18:{f:Or},19:{f:Ur},20:{f:my},21:{f:my},23:{f:fS},24:{f:vy},25:{f:Or},26:{},27:{},28:{f:xB},29:{},34:{f:Or},35:{f:wy},38:{f:bn},39:{f:bn},40:{f:bn},41:{f:bn},42:{f:Or},43:{f:Or},47:{f:yL},49:{f:ZM},51:{f:Ur},60:{},61:{f:YM},64:{f:Or},65:{f:qM},66:{f:Ur},77:{},80:{},81:{},82:{},85:{f:Ur},89:{},90:{},91:{},92:{f:jM},93:{f:wB},94:{},95:{f:Or},96:{},97:{},99:{f:Or},125:{f:dS},128:{f:oB},129:{f:WM},130:{f:Ur},131:{f:Or},132:{f:Or},133:{f:VM},134:{},140:{f:AB},141:{f:Ur},144:{},146:{f:TB},151:{},152:{},153:{},154:{},155:{},156:{f:Ur},157:{},158:{},160:{f:NB},161:{f:bB},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:nB},190:{f:iB},193:{f:sa},197:{},198:{},199:{},200:{},201:{},202:{f:Or},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ur},220:{},221:{f:Or},222:{},224:{f:aB},225:{f:UM},226:{f:sa},227:{},229:{f:mB},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:HM},253:{f:QM},255:{f:zM},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:sS},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Or},353:{f:sa},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:cB},431:{f:Or},432:{},433:{},434:{},437:{},438:{f:_B},439:{f:Or},440:{f:EB},441:{},442:{f:xu},443:{},444:{f:Ur},445:{},446:{},448:{f:sa},449:{f:$M,r:2},450:{f:sa},512:{f:py},513:{f:RB},515:{f:lB},516:{f:JM},517:{f:xy},519:{f:OB},520:{f:GM},523:{},545:{f:yy},549:{f:gy},566:{},574:{f:KM},638:{f:rB},659:{},1048:{},1054:{f:eB},1084:{},1212:{f:hB},2048:{f:CB},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Zu},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:sa},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:kB,r:12},2173:{f:nU,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Or,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:dB,r:12},2197:{},2198:{f:ZL,r:12},2199:{},2200:{},2201:{},2202:{f:gB,r:12},2203:{f:sa},2204:{},2205:{},2206:{},2207:{},2211:{f:XM},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ur},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:IB},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:SB},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:py},1:{},2:{f:MB},3:{f:PB},4:{f:FB},5:{f:xy},7:{f:BB},8:{},9:{f:Zu},11:{},22:{f:Ur},30:{f:tB},31:{},32:{},33:{f:yy},36:{},37:{f:gy},50:{f:LB},62:{},52:{},67:{},68:{f:Ur},69:{},86:{},126:{},127:{f:DB},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:UB},223:{},234:{},354:{},421:{},518:{f:E1},521:{f:Zu},536:{f:vy},547:{f:wy},561:{},579:{},1030:{f:E1},1033:{f:Zu},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Yi(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,l=e.next(4);l.write_shift(2,i),l.write_shift(2,a),a>0&&X4(r)&&e.push(r)}}function Ny(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),l=i.index,u=a&&a.index||e.length,g=lP(e.slice(l,u),/(:?<tr[^>]*>)/i,"<tr>"),p=-1,m=0,v=0,_=0,E={s:{r:1e7,c:1e7},e:{r:0,c:0}},A=[];for(l=0;l<g.length;++l){var C=g[l].trim(),I=C.slice(0,3).toLowerCase();if(I=="<tr"){if(++p,r.sheetRows&&r.sheetRows<=p){--p;break}m=0;continue}if(!(I!="<td"&&I!="<th")){var b=C.split(/<\/t[dh]>/i);for(u=0;u<b.length;++u){var k=b[u].trim();if(k.match(/<t[dh]/i)){for(var S=k,L=0;S.charAt(0)=="<"&&(L=S.indexOf(">"))>-1;)S=S.slice(L+1);for(var q=0;q<A.length;++q){var G=A[q];G.s.c==m&&G.s.r<p&&p<=G.e.r&&(m=G.e.c+1,q=-1)}var F=lt(k.slice(0,k.indexOf(">")));_=F.colspan?+F.colspan:1,((v=+F.rowspan)>1||_>1)&&A.push({s:{r:p,c:m},e:{r:p+(v||1)-1,c:m+_-1}});var Z=F.t||F["data-t"]||"";if(!S.length){m+=_;continue}if(S=D4(S),E.s.r>p&&(E.s.r=p),E.e.r<p&&(E.e.r=p),E.s.c>m&&(E.s.c=m),E.e.c<m&&(E.e.c=m),!S.length){m+=_;continue}var W={t:"s",v:S};r.raw||!S.trim().length||Z=="s"||(S==="TRUE"?W={t:"b",v:!0}:S==="FALSE"?W={t:"b",v:!1}:isNaN(as(S))?isNaN(zl(S).getDate())||(W={t:"d",v:on(S)},r.cellDates||(W={t:"n",v:Gn(W.v)}),W.z=r.dateNF||mt[14]):W={t:"n",v:as(S)}),r.dense?(n[p]||(n[p]=[]),n[p][m]=W):n[dt({r:p,c:m})]=W,m+=_}}}}return n["!ref"]=Pt(E),A.length&&(n["!merges"]=A),n}function LV(e,t,r,n){for(var i=e["!merges"]||[],a=[],l=t.s.c;l<=t.e.c;++l){for(var u=0,g=0,p=0;p<i.length;++p)if(!(i[p].s.r>r||i[p].s.c>l)&&!(i[p].e.r<r||i[p].e.c<l)){if(i[p].s.r<r||i[p].s.c<l){u=-1;break}u=i[p].e.r-i[p].s.r+1,g=i[p].e.c-i[p].s.c+1;break}if(!(u<0)){var m=dt({r,c:l}),v=n.dense?(e[r]||[])[l]:e[m],_=v&&v.v!=null&&(v.h||xm(v.w||($s(v),v.w)||""))||"",E={};u>1&&(E.rowspan=u),g>1&&(E.colspan=g),n.editable?_='<span contenteditable="true">'+_+"</span>":v&&(E["data-t"]=v&&v.t||"z",v.v!=null&&(E["data-v"]=v.v),v.z!=null&&(E["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+v.l.Target+'">'+_+"</a>")),E.id=(n.id||"sjs")+"-"+m,a.push(AP("td",_,E))}}var A="<tr>";return A+a.join("")+"</tr>"}var UV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jV="</body></html>";function WV(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return za(Ny(r[0],t),t);var n=Fm();return r.forEach(function(i,a){Pm(n,Ny(i,t),"Sheet"+(a+1))}),n}function VV(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function HV(e,t){var r=t||{},n=r.header!=null?r.header:UV,i=r.footer!=null?r.footer:jV,a=[n],l=sc(e["!ref"]);r.dense=Array.isArray(e),a.push(VV(e,l,r));for(var u=l.s.r;u<=l.e.r;++u)a.push(LV(e,l,u,r));return a.push("</table>"+i),a.join("")}function LS(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?jn(n.origin):n.origin;i=l.r,a=l.c}var u=t.getElementsByTagName("tr"),g=Math.min(n.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var m=sc(e["!ref"]);p.s.r=Math.min(p.s.r,m.s.r),p.s.c=Math.min(p.s.c,m.s.c),p.e.r=Math.max(p.e.r,m.e.r),p.e.c=Math.max(p.e.c,m.e.c),i==-1&&(p.e.r=i=m.e.r+1)}var v=[],_=0,E=e["!rows"]||(e["!rows"]=[]),A=0,C=0,I=0,b=0,k=0,S=0;for(e["!cols"]||(e["!cols"]=[]);A<u.length&&C<g;++A){var L=u[A];if(Oy(L)){if(n.display)continue;E[C]={hidden:!0}}var q=L.children;for(I=b=0;I<q.length;++I){var G=q[I];if(!(n.display&&Oy(G))){var F=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):D4(G.innerHTML),Z=G.getAttribute("data-z")||G.getAttribute("z");for(_=0;_<v.length;++_){var W=v[_];W.s.c==b+a&&W.s.r<C+i&&C+i<=W.e.r&&(b=W.e.c+1-a,_=-1)}S=+G.getAttribute("colspan")||1,((k=+G.getAttribute("rowspan")||1)>1||S>1)&&v.push({s:{r:C+i,c:b+a},e:{r:C+i+(k||1)-1,c:b+a+(S||1)-1}});var oe={t:"s",v:F},le=G.getAttribute("data-t")||G.getAttribute("t")||"";F!=null&&(F.length==0?oe.t=le||"z":n.raw||F.trim().length==0||le=="s"||(F==="TRUE"?oe={t:"b",v:!0}:F==="FALSE"?oe={t:"b",v:!1}:isNaN(as(F))?isNaN(zl(F).getDate())||(oe={t:"d",v:on(F)},n.cellDates||(oe={t:"n",v:Gn(oe.v)}),oe.z=n.dateNF||mt[14]):oe={t:"n",v:as(F)})),oe.z===void 0&&Z!=null&&(oe.z=Z);var Q="",_e=G.getElementsByTagName("A");if(_e&&_e.length)for(var Se=0;Se<_e.length&&!(_e[Se].hasAttribute("href")&&(Q=_e[Se].getAttribute("href"),Q.charAt(0)!="#"));++Se);Q&&Q.charAt(0)!="#"&&(oe.l={Target:Q}),n.dense?(e[C+i]||(e[C+i]=[]),e[C+i][b+a]=oe):e[dt({c:b+a,r:C+i})]=oe,p.e.c<b+a&&(p.e.c=b+a),b+=S}}++C}return v.length&&(e["!merges"]=(e["!merges"]||[]).concat(v)),p.e.r=Math.max(p.e.r,C-1+i),e["!ref"]=Pt(p),C>=g&&(e["!fullref"]=Pt((p.e.r=u.length-A+C-1+i,p))),e}function US(e,t){var r=t||{},n=r.dense?[]:{};return LS(n,e,t)}function zV(e,t){return za(US(e,t),t)}function Oy(e){var t="",r=GV(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function GV(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function XV(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Lt(t.replace(/<[^>]*>/g,""));return[r]}var Dy={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function jS(e,t){var r=t||{},n=mm(e),i=[],a,l,u={name:""},g="",p=0,m,v,_={},E=[],A=r.dense?[]:{},C,I,b={value:""},k="",S=0,L=[],q=-1,G=-1,F={s:{r:1e6,c:1e7},e:{r:0,c:0}},Z=0,W={},oe=[],le={},Q=0,_e=0,Se=[],ee=1,Be=1,Ce=[],Ae={Names:[]},ne={},be=["",""],ce=[],B={},se="",K=0,te=!1,ae=!1,De=0;for(W0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");C=W0.exec(n);)switch(C[3]=C[3].replace(/_.*$/,"")){case"table":case"":C[1]==="/"?(F.e.c>=F.s.c&&F.e.r>=F.s.r?A["!ref"]=Pt(F):A["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=F.e.r&&(A["!fullref"]=A["!ref"],F.e.r=r.sheetRows-1,A["!ref"]=Pt(F)),oe.length&&(A["!merges"]=oe),Se.length&&(A["!rows"]=Se),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),E.push(m.name),_[m.name]=A,ae=!1):C[0].charAt(C[0].length-2)!=="/"&&(m=lt(C[0],!1),q=G=-1,F.s.r=F.s.c=1e7,F.e.r=F.e.c=0,A=r.dense?[]:{},oe=[],Se=[],ae=!0);break;case"table-row-group":C[1]==="/"?--Z:++Z;break;case"table-row":case"":if(C[1]==="/"){q+=ee,ee=1;break}if(v=lt(C[0],!1),v.?q=v.-1:q==-1&&(q=0),ee=+v["number-rows-repeated"]||1,ee<10)for(De=0;De<ee;++De)Z>0&&(Se[q+De]={level:Z});G=-1;break;case"covered-table-cell":C[1]!=="/"&&++G,r.sheetStubs&&(r.dense?(A[q]||(A[q]=[]),A[q][G]={t:"z"}):A[dt({r:q,c:G})]={t:"z"}),k="",L=[];break;case"table-cell":case"":if(C[0].charAt(C[0].length-2)==="/")++G,b=lt(C[0],!1),Be=parseInt(b["number-columns-repeated"]||"1",10),I={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(I.f=ky(Lt(b.formula))),(b.||b["value-type"])=="string"&&(I.t="s",I.v=Lt(b["string-value"]||""),r.dense?(A[q]||(A[q]=[]),A[q][G]=I):A[dt({r:q,c:G})]=I),G+=Be-1;else if(C[1]!=="/"){++G,k="",S=0,L=[],Be=1;var Ve=ee?q+ee-1:q;if(G>F.e.c&&(F.e.c=G),G<F.s.c&&(F.s.c=G),q<F.s.r&&(F.s.r=q),Ve>F.e.r&&(F.e.r=Ve),b=lt(C[0],!1),ce=[],B={},I={t:b.||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=Lt(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(Q=parseInt(b["number-matrix-rows-spanned"],10)||0,_e=parseInt(b["number-matrix-columns-spanned"],10)||0,le={s:{r:q,c:G},e:{r:q+Q-1,c:G+_e-1}},I.F=Pt(le),Ce.push([le,I.F])),b.formula)I.f=ky(b.formula);else for(De=0;De<Ce.length;++De)q>=Ce[De][0].s.r&&q<=Ce[De][0].e.r&&G>=Ce[De][0].s.c&&G<=Ce[De][0].e.c&&(I.F=Ce[De][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(Q=parseInt(b["number-rows-spanned"],10)||0,_e=parseInt(b["number-columns-spanned"],10)||0,le={s:{r:q,c:G},e:{r:q+Q-1,c:G+_e-1}},oe.push(le)),b["number-columns-repeated"]&&(Be=parseInt(b["number-columns-repeated"],10)),I.t){case"boolean":I.t="b",I.v=xr(b["boolean-value"]);break;case"float":I.t="n",I.v=parseFloat(b.value);break;case"percentage":I.t="n",I.v=parseFloat(b.value);break;case"currency":I.t="n",I.v=parseFloat(b.value);break;case"date":I.t="d",I.v=on(b["date-value"]),r.cellDates||(I.t="n",I.v=Gn(I.v)),I.z="m/d/yy";break;case"time":I.t="n",I.v=sP(b["time-value"])/86400,r.cellDates&&(I.t="d",I.v=uh(I.v)),I.z="HH:MM:SS";break;case"number":I.t="n",I.v=parseFloat(b.);break;default:if(I.t==="string"||I.t==="text"||!I.t)I.t="s",b["string-value"]!=null&&(k=Lt(b["string-value"]),L=[]);else throw new Error("Unsupported value type "+I.t)}}else{if(te=!1,I.t==="s"&&(I.v=k||"",L.length&&(I.R=L),te=S==0),ne.Target&&(I.l=ne),ce.length>0&&(I.c=ce,ce=[]),k&&r.cellText!==!1&&(I.w=k),te&&(I.t="z",delete I.v),(!te||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=q))for(var We=0;We<ee;++We){if(Be=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(A[q+We]||(A[q+We]=[]),A[q+We][G]=We==0?I:xn(I);--Be>0;)A[q+We][G+Be]=xn(I);else for(A[dt({r:q+We,c:G})]=I;--Be>0;)A[dt({r:q+We,c:G+Be})]=xn(I);F.e.c<=G&&(F.e.c=G)}Be=parseInt(b["number-columns-repeated"]||"1",10),G+=Be-1,Be=0,I={},k="",L=[]}ne={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!0]);break;case"annotation":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a;B.t=k,L.length&&(B.R=L),B.a=se,ce.push(B)}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);se="",K=0,k="",S=0,L=[];break;case"creator":C[1]==="/"?se=n.slice(K,C.index):K=C.index+C[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);k="",S=0,L=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(C[1]==="/"){if(W[u.name]=g,(a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&(g="",u=lt(C[0],!1),i.push([C[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=lt(C[0],!1),g+=Dy[C[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=lt(C[0],!1),g+=Dy[C[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(C[0].slice(-2)==="/>")break;if(C[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":g+=n.slice(p,C.index);break}else p=C.index+C[0].length;break;case"named-range":l=lt(C[0],!1),be=C1(l["cell-range-address"]);var Re={Name:l.name,Ref:be[0]+"!"+be[1]};ae&&(Re.Sheet=E.length),Ae.Names.push(Re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(C[1]==="/"&&(!b||!b["string-value"])){var et=XV(n.slice(S,C.index));k=(k.length>0?k+`
`:"")+et[0]}else lt(C[0],!1),S=C.index+C[0].length;break;case"s":break;case"database-range":if(C[1]==="/")break;try{be=C1(lt(C[0])["target-range-address"]),_[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(C[1]!=="/"){if(ne=lt(C[0],!1),!ne.href)break;ne.Target=Lt(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(be=C1(ne.Target.slice(1)),ne.Target="#"+be[0]+"!"+be[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(C[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(C)}}var Y={Sheets:_,SheetNames:E,Workbook:Ae};return r.bookSheets&&delete Y.Sheets,Y}function Fy(e,t){t=t||{},Ni(e,"META-INF/manifest.xml")&&lM(Lr(e,"META-INF/manifest.xml"),t);var r=gi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=jS(or(r),t);return Ni(e,"meta.xml")&&(n.Props=J4(Lr(e,"meta.xml"))),n}function Py(e,t){return jS(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Rm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function np(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):or(Lo(e))}function ip(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function My(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function $V(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function G0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function qr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function In(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=G0(e,r),a=i&7;i=Math.floor(i/8);var l=0,u;if(i==0)break;switch(a){case 0:{for(var g=r[0];e[r[0]++]>=128;);u=e.slice(g,r[0])}break;case 5:l=4,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=G0(e,r),u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var p={data:u,type:a};t[i]==null?t[i]=[p]:t[i].push(p)}return t}function Nm(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function YV(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=G0(e,n),a=In(e.slice(n[0],n[0]+i));n[0]+=i;var l={id:qr(a[1][0].data),messages:[]};a[2].forEach(function(u){var g=In(u.data),p=qr(g[3][0].data);l.messages.push({meta:g,data:e.slice(n[0],n[0]+p)}),n[0]+=p}),(t=a[3])!=null&&t[0]&&(l.merge=qr(a[3][0].data)>>>0>0),r.push(l)}return r}function KV(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=G0(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var u=l-59;l=t[r[0]],u>1&&(l|=t[r[0]+1]<<8),u>2&&(l|=t[r[0]+2]<<16),u>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=u}i.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var g=0,p=0;if(a==1?(p=(t[r[0]]>>2&7)+4,g=(t[r[0]++]&224)<<3,g|=t[r[0]++]):(p=(t[r[0]++]>>2)+1,a==2?(g=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(g=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ip(i)],g==0)throw new Error("Invalid offset 0");if(g>i[0].length)throw new Error("Invalid offset beyond length");if(p>=g)for(i.push(i[0].slice(-g)),p-=g;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-g,-g+p))}}var m=ip(i);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function qV(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(KV(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return ip(t)}function ZV(e,t,r,n){var i=Rm(e),a=i.getUint32(4,!0),l=(n>1?12:8)+My(a&(n>1?3470:398))*4,u=-1,g=-1,p=NaN,m=new Date(2001,0,1);a&512&&(u=i.getUint32(l,!0),l+=4),l+=My(a&(n>1?12288:4096))*4,a&16&&(g=i.getUint32(l,!0),l+=4),a&32&&(p=i.getFloat64(l,!0),l+=8),a&64&&(m.setTime(m.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var v;switch(e[2]){case 0:break;case 2:v={t:"n",v:p};break;case 3:v={t:"s",v:t[g]};break;case 5:v={t:"d",v:m};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(u>-1)v={t:"s",v:r[u]};else if(g>-1)v={t:"s",v:t[g]};else if(!isNaN(p))v={t:"n",v:p};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return v}function QV(e,t,r){var n=Rm(e),i=n.getUint32(8,!0),a=12,l=-1,u=-1,g=NaN,p=NaN,m=new Date(2001,0,1);i&1&&(g=$V(e,a),a+=16),i&2&&(p=n.getFloat64(a,!0),a+=8),i&4&&(m.setTime(m.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(u=n.getUint32(a,!0),a+=4),i&16&&(l=n.getUint32(a,!0),a+=4);var v;switch(e[1]){case 0:break;case 2:v={t:"n",v:g};break;case 3:v={t:"s",v:t[u]};break;case 5:v={t:"d",v:m};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(l>-1)v={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:v={t:"n",v:g};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return v}function JV(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return ZV(e,t,r,e[0]);case 5:return QV(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Oa(e){var t=In(e);return G0(t[1][0].data)}function By(e,t){var r=In(t.data),n=qr(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(l){var u=In(l.data),g=qr(u[1][0].data)>>>0;switch(n){case 1:a[g]=np(u[3][0].data);break;case 8:{var p=e[Oa(u[9][0].data)][0],m=In(p.data),v=e[Oa(m[1][0].data)][0],_=qr(v.meta[1][0].data);if(_!=2001)throw new Error("2000 unexpected reference to ".concat(_));var E=In(v.data);a[g]=E[3].map(function(A){return np(A.data)}).join("")}break}}),a}function eH(e,t){var r,n,i,a,l,u,g,p,m,v,_,E,A,C,I=In(e),b=qr(I[1][0].data)>>>0,k=qr(I[2][0].data)>>>0,S=((n=(r=I[8])==null?void 0:r[0])==null?void 0:n.data)&&qr(I[8][0].data)>0||!1,L,q;if((a=(i=I[7])==null?void 0:i[0])!=null&&a.data&&t!=0)L=(u=(l=I[7])==null?void 0:l[0])==null?void 0:u.data,q=(p=(g=I[6])==null?void 0:g[0])==null?void 0:p.data;else if((v=(m=I[4])==null?void 0:m[0])!=null&&v.data&&t!=1)L=(E=(_=I[4])==null?void 0:_[0])==null?void 0:E.data,q=(C=(A=I[3])==null?void 0:A[0])==null?void 0:C.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var G=S?4:1,F=Rm(L),Z=[],W=0;W<L.length/2;++W){var oe=F.getUint16(W*2,!0);oe<65535&&Z.push([W,oe])}if(Z.length!=k)throw"Expected ".concat(k," cells, found ").concat(Z.length);var le=[];for(W=0;W<Z.length-1;++W)le[Z[W][0]]=q.subarray(Z[W][1]*G,Z[W+1][1]*G);return Z.length>=1&&(le[Z[Z.length-1][0]]=q.subarray(Z[Z.length-1][1]*G)),{R:b,cells:le}}function tH(e,t){var r,n=In(t.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?qr(n[7][0].data)>>>0>0?1:0:-1,a=Nm(n[5],function(l){return eH(l,i)});return{nrows:qr(n[4][0].data)>>>0,data:a.reduce(function(l,u){return l[u.R]||(l[u.R]=[]),u.cells.forEach(function(g,p){if(l[u.R][p])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(p));l[u.R][p]=g}),l},[])}}function rH(e,t,r){var n,i=In(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(qr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(qr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Pt(a);var l=In(i[4][0].data),u=By(e,e[Oa(l[4][0].data)][0]),g=(n=l[17])!=null&&n[0]?By(e,e[Oa(l[17][0].data)][0]):[],p=In(l[3][0].data),m=0;p[1].forEach(function(v){var _=In(v.data),E=e[Oa(_[2][0].data)][0],A=qr(E.meta[1][0].data);if(A!=6002)throw new Error("6001 unexpected reference to ".concat(A));var C=tH(e,E);C.data.forEach(function(I,b){I.forEach(function(k,S){var L=dt({r:m+b,c:S}),q=JV(k,u,g);q&&(r[L]=q)})}),m+=C.nrows})}function nH(e,t){var r=In(t.data),n={"!ref":"A1"},i=e[Oa(r[2][0].data)],a=qr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return rH(e,i[0],n),n}function iH(e,t){var r,n=In(t.data),i={name:(r=n[1])!=null&&r[0]?np(n[1][0].data):"",sheets:[]},a=Nm(n[2],Oa);return a.forEach(function(l){e[l].forEach(function(u){var g=qr(u.meta[1][0].data);g==6e3&&i.sheets.push(nH(e,u))})}),i}function sH(e,t){var r=Fm(),n=In(t.data),i=Nm(n[1],Oa);if(i.forEach(function(a){e[a].forEach(function(l){var u=qr(l.meta[1][0].data);if(u==2){var g=iH(e,l);g.sheets.forEach(function(p,m){Pm(r,p,m==0?g.name:g.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function S1(e){var t,r,n,i,a={},l=[];if(e.FullPaths.forEach(function(g){if(g.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(g){if(g.name.match(/\.iwa$/)){var p;try{p=qV(g.content)}catch(v){return console.log("?? "+g.content.length+" "+(v.message||v))}var m;try{m=YV(p)}catch(v){return console.log("## "+(v.message||v))}m.forEach(function(v){a[v.id]=v.messages,l.push(v.id)})}}),!l.length)throw new Error("File has no messages");var u=((i=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&qr(a[1][0].meta[1][0].data)==1&&a[1][0];if(u||l.forEach(function(g){a[g].forEach(function(p){var m=qr(p.meta[1][0].data)>>>0;if(m==1)if(!u)u=p;else throw new Error("Document has multiple roots")})}),!u)throw new Error("Cannot find Document root");return sH(a,u)}function aH(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Om(e){aH([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function oH(e){return pl.WS.indexOf(e)>-1?"sheet":e==pl.CS?"chart":e==pl.DS?"dialog":e==pl.MS?"macro":e&&e.length?e:"sheet"}function lH(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,oH(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function cH(e,t,r,n,i,a,l,u,g,p,m,v){try{a[n]=r0(gi(e,r,!0),t);var _=Lr(e,t),E;switch(u){case"sheet":E=pV(_,t,i,g,a[n],p,m,v);break;case"chart":if(E=xV(_,t,i,g,a[n],p,m,v),!E||!E["!drawel"])break;var A=Pc(E["!drawel"].Target,t),C=Qg(A),I=gU(gi(e,A,!0),r0(gi(e,C,!0),A)),b=Pc(I,A),k=Qg(b);E=QW(gi(e,b,!0),b,g,r0(gi(e,k,!0),b),p,E);break;case"macro":E=mV(_,t,i,g,a[n],p,m,v);break;case"dialog":E=wV(_,t,i,g,a[n],p,m,v);break;default:throw new Error("Unrecognized sheet type "+u)}l[n]=E;var S=[];a&&a[n]&&Cs(a[n]).forEach(function(L){var q="";if(a[n][L].Type==pl.CMNT){q=Pc(a[n][L].Target,t);var G=EV(Lr(e,q,!0),q,g);if(!G||!G.length)return;Ey(E,G,!1)}a[n][L].Type==pl.TCMNT&&(q=Pc(a[n][L].Target,t),S=S.concat(xU(Lr(e,q,!0),g)))}),S&&S.length&&Ey(E,S,!0,g.people||[])}catch(L){if(g.WTF)throw L}}function Ii(e){return e.charAt(0)=="/"?e.slice(1):e}function uH(e,t){if(A4(),t=t||{},Om(t),Ni(e,"META-INF/manifest.xml")||Ni(e,"objectdata.xml"))return Fy(e,t);if(Ni(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof S1<"u"){if(e.FileIndex)return S1(e);var r=Ft.utils.cfb_new();return Kv(e).forEach(function(Se){fP(r,Se,uP(e,Se))}),S1(r)}throw new Error("Unsupported NUMBERS file")}if(!Ni(e,"[Content_Types].xml"))throw Ni(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ni(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Kv(e),i=aM(gi(e,"[Content_Types].xml")),a=!1,l,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",Lr(e,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!Lr(e,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var g={},p={};if(!t.bookSheets&&!t.bookProps){if(s0=[],i.sst)try{s0=_V(Lr(e,Ii(i.sst)),i.sst,t)}catch(Se){if(t.WTF)throw Se}t.cellStyles&&i.themes.length&&(g=yV(gi(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(p=vV(Lr(e,Ii(i.style)),i.style,g,t))}i.links.map(function(Se){try{var ee=r0(gi(e,Qg(Ii(Se))),Se);return AV(Lr(e,Ii(Se)),ee,Se,t)}catch{}});var m=gV(Lr(e,Ii(i.workbooks[0])),i.workbooks[0],t),v={},_="";i.coreprops.length&&(_=Lr(e,Ii(i.coreprops[0]),!0),_&&(v=J4(_)),i.extprops.length!==0&&(_=Lr(e,Ii(i.extprops[0]),!0),_&&fM(_,v,t)));var E={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(_=gi(e,Ii(i.custprops[0]),!0),_&&(E=hM(_,t)));var A={};if((t.bookSheets||t.bookProps)&&(m.Sheets?l=m.Sheets.map(function(ee){return ee.name}):v.Worksheets&&v.SheetNames.length>0&&(l=v.SheetNames),t.bookProps&&(A.Props=v,A.Custprops=E),t.bookSheets&&typeof l<"u"&&(A.SheetNames=l),t.bookSheets?A.SheetNames:t.bookProps))return A;l={};var C={};t.bookDeps&&i.calcchain&&(C=CV(Lr(e,Ii(i.calcchain)),i.calcchain));var I=0,b={},k,S;{var L=m.Sheets;v.Worksheets=L.length,v.SheetNames=[];for(var q=0;q!=L.length;++q)v.SheetNames[q]=L[q].name}var G=a?"bin":"xml",F=i.workbooks[0].lastIndexOf("/"),Z=(i.workbooks[0].slice(0,F+1)+"_rels/"+i.workbooks[0].slice(F+1)+".rels").replace(/^\//,"");Ni(e,Z)||(Z="xl/_rels/workbook."+G+".rels");var W=r0(gi(e,Z,!0),Z.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=SV(Lr(e,Ii(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=mU(Lr(e,Ii(i.people[0])),t)),W&&(W=lH(W,m.Sheets));var oe=Lr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(I=0;I!=v.Worksheets;++I){var le="sheet";if(W&&W[I]?(k="xl/"+W[I][1].replace(/[\/]?xl\//,""),Ni(e,k)||(k=W[I][1]),Ni(e,k)||(k=Z.replace(/_rels\/.*$/,"")+W[I][1]),le=W[I][2]):(k="xl/worksheets/sheet"+(I+1-oe)+"."+G,k=k.replace(/sheet0\./,"sheet.")),S=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(I!=t.sheets)continue e;break;case"string":if(v.SheetNames[I].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var Q=!1,_e=0;_e!=t.sheets.length;++_e)typeof t.sheets[_e]=="number"&&t.sheets[_e]==I&&(Q=1),typeof t.sheets[_e]=="string"&&t.sheets[_e].toLowerCase()==v.SheetNames[I].toLowerCase()&&(Q=1);if(!Q)continue e}}cH(e,k,S,v.SheetNames[I],I,b,l,le,t,m,g,p)}return A={Directory:i,Workbook:m,Props:v,Custprops:E,Deps:C,Sheets:l,SheetNames:v.SheetNames,Strings:s0,Styles:p,Themes:g,SSF:xn(mt)},t&&t.bookFiles&&(e.files?(A.keys=n,A.files=e.files):(A.keys=[],A.files={},e.FullPaths.forEach(function(Se,ee){Se=Se.replace(/^Root Entry[\/]/,""),A.keys.push(Se),A.files[Se]=e.FileIndex[ee]}))),t&&t.bookVBA&&(i.vba.length>0?A.vbaraw=Lr(e,Ii(i.vba[0]),!0):i.defaults&&i.defaults.bin===_U&&(A.vbaraw=Lr(e,"xl/vbaProject.bin",!0))),A}function fH(e,t){var r=t||{},n="Workbook",i=Ft.find(e,n);try{if(n="/!DataSpaces/Version",i=Ft.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(nL(i.content),n="/!DataSpaces/DataSpaceMap",i=Ft.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=sL(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ft.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=aL(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ft.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);lL(i.content)}catch{}if(n="/EncryptionInfo",i=Ft.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var u=cL(i.content);if(n="/EncryptedPackage",i=Ft.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(u[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(u[1],i.content,r.password||"",r);if(u[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(u[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Dm(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=yi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function dH(e,t){return Ft.find(e,"EncryptedPackage")?fH(e,t):BS(e,t)}function hH(e,t){var r,n=e,i=t||{};return i.type||(i.type=Nt&&Buffer.isBuffer(e)?"buffer":"base64"),r=R4(n,i),uH(r,i)}function WS(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return tp(e.slice(r),t);default:break e}return V0.to_workbook(e,t)}function gH(e,t){var r="",n=Dm(e,t);switch(t.type){case"base64":r=yi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=To(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=or(r)),t.type="binary",WS(r,t)}function pH(e,t){var r=e;return t.type=="base64"&&(r=yi(r)),r=L0.utils.decode(1200,r.slice(2),"str"),t.type="binary",WS(r,t)}function xH(e){return e.match(/[^\x00-\x7F]/)?Mc(e):e}function T1(e,t,r,n){return n?(r.type="string",V0.to_workbook(e,r)):V0.to_workbook(t,r)}function sp(e,t){d4();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return sp(new Uint8Array(e),(r=xn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),bl={},r.dateNF&&(bl.dateNF=r.dateNF),r.type||(r.type=Nt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Nt?"buffer":"binary",n=nP(e),typeof Uint8Array<"u"&&!Nt&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=xH(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),u=new Uint8Array(l);if(u.foo="bar",!u.foo)return r=xn(r),r.type="array",sp(fm(n),r)}switch((i=Dm(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return dH(Ft.read(n,r),r);break;case 9:if(i[1]<=8)return BS(n,r);break;case 60:return tp(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return zB(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return VB.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?hH(n,r):T1(e,n,r,a);case 239:return i[3]===60?tp(n,r):T1(e,n,r,a);case 255:if(i[1]===254)return pH(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return i0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return i0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return _y.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return _L.to_workbook(n,r);break;case 10:case 13:case 32:return gH(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return jB.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?_y.to_workbook(n,r):T1(e,n,r,a)}function mH(e,t,r,n,i,a,l,u){var g=mn(r),p=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),v=!0,_=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:r,enumerable:!1})}catch{_.__rowNum__=r}else _.__rowNum__=r;if(!l||e[r])for(var E=t.s.c;E<=t.e.c;++E){var A=l?e[r][E]:e[n[E]+g];if(A===void 0||A.t===void 0){if(p===void 0)continue;a[E]!=null&&(_[a[E]]=p);continue}var C=A.v;switch(A.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(a[E]!=null){if(C==null)if(A.t=="e"&&C===null)_[a[E]]=null;else if(p!==void 0)_[a[E]]=p;else if(m&&C===null)_[a[E]]=null;else continue;else _[a[E]]=m&&(A.t!=="n"||A.t==="n"&&u.rawNumbers!==!1)?C:$s(A,C,u);C!=null&&(v=!1)}}return{row:_,isempty:v}}function ap(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],l=0,u="",g={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},m=p.range!=null?p.range:e["!ref"];switch(p.header===1?n=1:p.header==="A"?n=2:Array.isArray(p.header)?n=3:p.header==null&&(n=0),typeof m){case"string":g=Rr(m);break;case"number":g=Rr(e["!ref"]),g.s.r=m;break;default:g=m}n>0&&(i=0);var v=mn(g.s.r),_=[],E=[],A=0,C=0,I=Array.isArray(e),b=g.s.r,k=0,S={};I&&!e[b]&&(e[b]=[]);var L=p.skipHidden&&e["!cols"]||[],q=p.skipHidden&&e["!rows"]||[];for(k=g.s.c;k<=g.e.c;++k)if(!(L[k]||{}).hidden)switch(_[k]=Kr(k),r=I?e[b][k]:e[_[k]+v],n){case 1:a[k]=k-g.s.c;break;case 2:a[k]=_[k];break;case 3:a[k]=p.header[k-g.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=l=$s(r,null,p),C=S[l]||0,!C)S[l]=1;else{do u=l+"_"+C++;while(S[u]);S[l]=C,S[u]=1}a[k]=u}for(b=g.s.r+i;b<=g.e.r;++b)if(!(q[b]||{}).hidden){var G=mH(e,g,b,_,n,a,I,p);(G.isempty===!1||(n===1?p.blankrows!==!1:p.blankrows))&&(E[A++]=G.row)}return E.length=A,E}var Ly=/"/g;function wH(e,t,r,n,i,a,l,u){for(var g=!0,p=[],m="",v=mn(r),_=t.s.c;_<=t.e.c;++_)if(n[_]){var E=u.dense?(e[r]||[])[_]:e[n[_]+v];if(E==null)m="";else if(E.v!=null){g=!1,m=""+(u.rawNumbers&&E.t=="n"?E.v:$s(E,null,u));for(var A=0,C=0;A!==m.length;++A)if((C=m.charCodeAt(A))===i||C===a||C===34||u.forceQuotes){m='"'+m.replace(Ly,'""')+'"';break}m=="ID"&&(m='"ID"')}else E.f!=null&&!E.F?(g=!1,m="="+E.f,m.indexOf(",")>=0&&(m='"'+m.replace(Ly,'""')+'"')):m="";p.push(m)}return u.blankrows===!1&&g?null:p.join(l)}function VS(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Rr(e["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,g=u.charCodeAt(0),p=new RegExp((a=="|"?"\\|":a)+"+$"),m="",v=[];n.dense=Array.isArray(e);for(var _=n.skipHidden&&e["!cols"]||[],E=n.skipHidden&&e["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(_[A]||{}).hidden||(v[A]=Kr(A));for(var C=0,I=i.s.r;I<=i.e.r;++I)(E[I]||{}).hidden||(m=wH(e,i,I,v,l,g,a,n),m!=null&&(n.strip&&(m=m.replace(p,"")),(m||n.blankrows!==!1)&&r.push((C++?u:"")+m)));return delete n.dense,r.join("")}function vH(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=VS(e,t);return r}function yH(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Rr(e["!ref"]),a="",l=[],u,g=[],p=Array.isArray(e);for(u=i.s.c;u<=i.e.c;++u)l[u]=Kr(u);for(var m=i.s.r;m<=i.e.r;++m)for(a=mn(m),u=i.s.c;u<=i.e.c;++u)if(t=l[u]+a,r=p?(e[m]||[])[u]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}g[g.length]=t+"="+n}return g}function HS(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},l=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?jn(n.origin):n.origin;l=g.r,u=g.c}var p,m={s:{c:0,r:0},e:{c:u,r:l+t.length-1+i}};if(a["!ref"]){var v=Rr(a["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),l==-1&&(l=v.e.r+1,m.e.r=l+t.length-1+i)}else l==-1&&(l=0,m.e.r=t.length-1+i);var _=n.header||[],E=0;t.forEach(function(C,I){Cs(C).forEach(function(b){(E=_.indexOf(b))==-1&&(_[E=_.length]=b);var k=C[b],S="z",L="",q=dt({c:u+E,r:l+I+i});p=X0(a,q),k&&typeof k=="object"&&!(k instanceof Date)?a[q]=k:(typeof k=="number"?S="n":typeof k=="boolean"?S="b":typeof k=="string"?S="s":k instanceof Date?(S="d",n.cellDates||(S="n",k=Gn(k)),L=n.dateNF||mt[14]):k===null&&n.nullError&&(S="e",k=0),p?(p.t=S,p.v=k,delete p.w,delete p.R,L&&(p.z=L)):a[q]=p={t:S,v:k},L&&(p.z=L))})}),m.e.c=Math.max(m.e.c,u+_.length-1);var A=mn(l);if(i)for(E=0;E<_.length;++E)a[Kr(E+u)+A]={t:"s",v:_[E]};return a["!ref"]=Pt(m),a}function _H(e,t){return HS(null,e,t)}function X0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=jn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?X0(e,dt(t)):X0(e,dt({r:t,c:r||0}))}function EH(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Fm(){return{SheetNames:[],Sheets:{}}}function Pm(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var l=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=l+i)!=-1;++i);}if(aV(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function CH(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=EH(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function AH(e,t){return e.z=t,e}function zS(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function SH(e,t,r){return zS(e,"#"+t,r)}function TH(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function kH(e,t,r,n){for(var i=typeof t!="string"?t:Rr(t),a=typeof t=="string"?t:Pt(t),l=i.s.r;l<=i.e.r;++l)for(var u=i.s.c;u<=i.e.c;++u){var g=X0(e,l,u);g.t="n",g.F=a,delete g.v,l==i.s.r&&u==i.s.c&&(g.f=r,n&&(g.D=!0))}return e}var bH={encode_col:Kr,encode_row:mn,encode_cell:dt,encode_range:Pt,decode_col:ym,decode_row:vm,split_cell:UP,decode_cell:jn,decode_range:sc,format_cell:$s,sheet_add_aoa:Y4,sheet_add_json:HS,sheet_add_dom:LS,aoa_to_sheet:ac,json_to_sheet:_H,table_to_sheet:US,table_to_book:zV,sheet_to_csv:VS,sheet_to_txt:vH,sheet_to_json:ap,sheet_to_html:HV,sheet_to_formulae:yH,sheet_to_row_object_array:ap,sheet_get_cell:X0,book_new:Fm,book_append_sheet:Pm,book_set_sheet_visibility:CH,cell_set_number_format:AH,cell_set_hyperlink:zS,cell_set_internal_link:SH,cell_add_comment:TH,sheet_set_array_formula:kH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const IH=()=>{const[e,t]=ye.useState([]),[r,n]=ye.useState({}),[i,a]=ye.useState({}),[l,u]=ye.useState(!0),[g,p]=ye.useState(!1),[m,v]=ye.useState(!1),[_,E]=ye.useState(!1),[A,C]=ye.useState(!1),[I,b]=ye.useState(!1),[k,S]=ye.useState(null),[L,q]=ye.useState(null),[G,F]=ye.useState(""),[Z,W]=ye.useState(null),[oe,le]=ye.useState(""),[Q,_e]=ye.useState([]),[Se,ee]=ye.useState(null),[Be,Ce]=ye.useState(!1),[Ae,ne]=ye.useState(new Date().toISOString().split("T")[0]),[be,ce]=ye.useState(new Date().toTimeString().slice(0,5)),[B,se]=ye.useState([]),[K,te]=ye.useState(null),[ae,De]=ye.useState(null),[Ve,We]=ye.useState(!1),[Re,et]=ye.useState(null),[Y,qe]=ye.useState([]),[ct,ht]=ye.useState({current:0,total:0}),[Ye,Ne]=ye.useState(1),[Ze,ot]=ye.useState(10),[Ht,Xe]=ye.useState(0),[zt,yn]=ye.useState({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0});ye.useEffect(()=>{Gt()},[]),ye.useEffect(()=>{const ie=e.filter(ke=>!ke||!ke.name||!ke.category?!1:ke.name.toLowerCase().includes(oe.toLowerCase())||ke.category.toLowerCase().includes(oe.toLowerCase())||ke.barcode&&ke.barcode.toLowerCase().includes(oe.toLowerCase()));Xe(Math.ceil(ie.length/Ze)),Ne(1)},[e,oe,Ze]);const Gt=async()=>{try{u(!0);const ie=await en.getAllProducts();t(ie);const ke={},Ge={};for(const it of ie)ke[it.id]=await en.getUnitsWithBarcodeCount(it.id),Ge[it.id]=await en.getReadyStock(it.id);n(ke),a(Ge);const nt=ie.filter(it=>it.stock<=it.minStock);_e(nt)}catch(ie){console.error("Error loading products:",ie)}finally{u(!1)}},Mr=ie=>{const{name:ke,value:Ge,type:nt,checked:it}=ie.target;yn(pt=>({...pt,[ke]:nt==="checkbox"?it:Ge}))},Er=async ie=>{ie.preventDefault();try{const ke={...zt,price:parseFloat(zt.price),stock:zt.useBarcode?0:parseInt(zt.stock),minStock:parseInt(zt.minStock)};m&&Z?await en.updateProduct(Z.id,ke):await en.createProduct(ke),p(!1),v(!1),yn({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0}),Gt()}catch(ke){console.error("Error saving product:",ke)}},Hi=ie=>{W(ie),yn({name:ie.name,category:ie.category,price:ie.price.toString(),stock:ie.stock.toString(),minStock:ie.minStock.toString(),useBarcode:ie.useBarcode!==!1}),v(!0)},Qt=async ie=>{if((await It.fire({title:"Hapus Produk?",text:"Apakah Anda yakin ingin menghapus produk ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed)try{await en.deleteProduct(ie),await It.fire({title:"Berhasil!",text:"Produk berhasil dihapus.",icon:"success",timer:2e3,showConfirmButton:!1}),Gt()}catch(Ge){console.error("Error deleting product:",Ge),await It.fire({title:"Error!",text:"Gagal menghapus produk.",icon:"error"})}},Yt=async ie=>{try{const ke=await en.getProductByBarcode(ie);ke?(ee(ke),C(!0)):await It.fire({title:"Produk Tidak Ditemukan",text:"Barcode tidak terdaftar dalam sistem.",icon:"warning"})}catch(ke){console.error("Error checking stock:",ke),await It.fire({title:"Error!",text:"Gagal memeriksa stok.",icon:"error"})}E(!1),S(null)},ft=ie=>{q(ie),F(""),b(!0)},Kt=async ie=>{try{if(!L)return;await en.addBarcodeToProduct(L,ie),await It.fire({title:"Berhasil!",text:"Barcode berhasil di-assign.",icon:"success",timer:2e3,showConfirmButton:!1}),q(null),S(null),E(!1),Gt()}catch(ke){await It.fire({title:"Error!",text:ke.message||"Gagal assign barcode",icon:"error"}),q(null),S(null),E(!1)}},_n=async()=>{if(!G.trim()){await It.fire({title:"Perhatian!",text:"Masukkan barcode terlebih dahulu.",icon:"warning"});return}try{await en.addBarcodeToProduct(L,G.trim()),await It.fire({title:"Berhasil!",text:"Barcode berhasil di-assign.",icon:"success",timer:2e3,showConfirmButton:!1}),b(!1),q(null),F(""),Gt()}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal assign barcode"})}},gt=async()=>{try{const ie=Ot(Dt,`stockAuditsByDate/${Ae}`),ke=await Jr(ie);let Ge=[];if(ke.exists()){const pt=(ke.val()||{}).results||{};Ge=e.map(ur=>{const Xt=pt[ur.id],Cr=!!Xt;return{...ur,physicalStock:(Xt==null?void 0:Xt.physicalStock)??null,databaseStock:ur.stock,readyStock:i[ur.id]||0,status:Cr?"completed":"pending"}})}else await di(Ot(Dt,`stockAuditsByDate/${Ae}/meta`),{date:Ae,createdAt:Date.now()}),Ge=e.map(it=>({...it,physicalStock:null,databaseStock:it.stock,readyStock:i[it.id]||0,status:"pending"}));se(Ge);const nt=Ge.find(it=>it.status==="pending")||null;te(nt),De(nt?nt.useBarcode!==!1?"barcode":"manual":null)}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal memulai audit.",icon:"error"})}},Le=async ie=>{try{const ke=await en.getProductByBarcode(ie);if(!(ke&&K&&ke.id===K.id)){await It.fire({title:"Barcode Salah",text:"Barcode tidak sesuai produk yang diaudit.",icon:"warning"}),E(!1);return}const Ge=Ot(Dt,`productUnits/${ke.id}`),nt=await Jr(Ge);if(!nt.exists()){await It.fire({title:"Tidak Ada Unit",text:"Tidak ada unit untuk produk ini.",icon:"warning"}),E(!1);return}const it=nt.val(),pt=Object.entries(it).find(([j,H])=>H.barcode===ie&&H.status==="in_stock");if(!pt){await It.fire({title:"Unit Tidak Ditemukan",text:"Unit barcode tidak tersedia/in-stock.",icon:"warning"}),E(!1);return}const[ur]=pt,Xt=B.find(j=>j.id===K.id),Cr=Array.isArray(Xt==null?void 0:Xt.scannedUnits)?Xt.scannedUnits.slice():[];if(Cr.includes(ur)){await It.fire({title:"Duplikat Scan",text:"Unit ini sudah discan untuk produk ini.",icon:"info"}),E(!1);return}Cr.push(ur);const D=Cr.length,M={productId:ke.id,name:ke.name,useBarcode:ke.useBarcode!==!1,databaseStock:K.databaseStock,readyStock:K.readyStock,physicalStock:D,scannedUnits:Cr,status:"pending",updatedAt:Date.now()};await di(Ot(Dt,`stockAuditsByDate/${Ae}/results/${ke.id}`),M);const U=B.map(j=>j.id===K.id?{...j,physicalStock:D,scannedUnits:Cr,status:"pending"}:j);se(U),te(j=>j&&j.id===ke.id?{...j,physicalStock:D,scannedUnits:Cr}:j),await It.fire({title:"Tersimpan",text:`Ter-scan: ${D} unit`,icon:"success",timer:1200,showConfirmButton:!1})}catch(ke){console.error("Error scanning barcode:",ke),await It.fire({title:"Error!",text:"Gagal memindai barcode.",icon:"error"})}E(!1)},cr=async(ie,ke)=>{try{const Ge=B.find(ur=>ur.id===ie);if(!Ge)return;const nt={productId:ie,name:Ge.name,useBarcode:Ge.useBarcode!==!1,databaseStock:Ge.databaseStock,readyStock:Ge.readyStock,physicalStock:parseInt(ke),status:"completed",updatedAt:Date.now()};await di(Ot(Dt,`stockAuditsByDate/${Ae}/results/${ie}`),nt);const it=B.map(ur=>ur.id===ie?{...ur,physicalStock:parseInt(ke),status:"completed"}:ur);se(it);const pt=it.find(ur=>ur.status==="pending");pt?(te(pt),De(pt.useBarcode!==!1?"barcode":"manual")):(te(null),De(null))}catch(Ge){await It.fire({title:"Error!",text:Ge.message||"Gagal menyimpan hasil item.",icon:"error"})}},Wt=async()=>{try{if(!K)return;const ie=B.find(pt=>pt.id===K.id),ke=Array.isArray(ie==null?void 0:ie.scannedUnits)?ie.scannedUnits.length:(ie==null?void 0:ie.physicalStock)??0,Ge={productId:K.id,name:K.name,useBarcode:K.useBarcode!==!1,databaseStock:K.databaseStock,readyStock:K.readyStock,physicalStock:ke,scannedUnits:Array.isArray(ie==null?void 0:ie.scannedUnits)?ie.scannedUnits:[],status:"completed",updatedAt:Date.now()};await di(Ot(Dt,`stockAuditsByDate/${Ae}/results/${K.id}`),Ge);const nt=B.map(pt=>pt.id===K.id?{...pt,physicalStock:ke,status:"completed"}:pt);se(nt);const it=nt.find(pt=>pt.status==="pending");it?(te(it),De(it.useBarcode!==!1?"barcode":"manual")):(te(null),De(null))}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal menyelesaikan item.",icon:"error"})}};if(l)return R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:R.jsx("div",{className:"spinner"})});const tr=async()=>{try{const ie=Ot(Dt,"stockAudits"),ke=hl(ie),Ge={id:ke.key,date:Ae,time:be,createdAt:Date.now(),results:B.map(nt=>({productId:nt.id,name:nt.name,useBarcode:nt.useBarcode!==!1,databaseStock:nt.databaseStock,readyStock:nt.readyStock,physicalStock:nt.physicalStock,status:nt.status}))};await di(ke,Ge),await It.fire({title:"Tersimpan!",text:"Laporan audit berhasil disimpan.",icon:"success",timer:2e3,showConfirmButton:!1})}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal menyimpan laporan audit.",icon:"error"})}},ls=()=>{try{const ie=`Laporan Stock Audit - ${Ae} ${be}`,ke=B.map(it=>{const pt=it.physicalStock!==null?it.physicalStock-it.databaseStock:null,ur=it.status==="completed"?pt===0?"Balance":`${pt>0?"+":""}${pt}`:"Pending",Xt=it.status==="completed"?pt===0||pt>0?"#10b981":"#ef4444":"#f59e0b",Cr=it.status==="completed"?pt===0||pt>0?"#10b98120":"#ef444420":"#f59e0b20";return`
          <tr>
            <td>${it.name||"-"}</td>
            <td style="text-align:center;">${it.useBarcode!==!1?"Barcode":"Manual"}</td>
            <td style="text-align:right;">${it.databaseStock??"-"}</td>
            <td style="text-align:right;">${it.physicalStock??"-"}</td>
            <td style="text-align:center;">
              <span style="background-color: ${Cr}; color: ${Xt}; padding: 4px 8px; border-radius: 4px; font-weight: 500;">
                ${ur}
              </span>
            </td>
          </tr>
        `}).join(""),Ge=`
        <html>
          <head>
            <meta charset="utf-8" />
            <title>${ie}</title>
            <style>
              body { font-family: Arial, Helvetica, sans-serif; color: #111827; padding: 24px; }
              h1 { font-size: 18px; margin: 0 0 4px 0; }
              p { margin: 0 0 16px 0; color: #6b7280; }
              table { width: 100%; border-collapse: collapse; }
              th, td { border: 1px solid #e5e7eb; padding: 8px; font-size: 12px; }
              th { background: #f3f4f6; text-align: left; }
              tfoot td { font-weight: 600; }
              .meta { margin-bottom: 16px; }
              @media print {
                @page { size: A4; margin: 16mm; }
              }
            </style>
          </head>
          <body>
            <h1>${ie}</h1>
            <p class="meta">Total item selesai: ${B.filter(it=>it.status==="completed").length}/${B.length}</p>
            <table>
              <thead>
                <tr>
                  <th>Produk</th>
                  <th style="text-align:center;">Mode</th>
                  <th style="text-align:right;">Database Stock</th>
                  <th style="text-align:right;">Fisik Stock</th>
                  <th style="text-align:center;">Status</th>
                </tr>
              </thead>
              <tbody>
                ${ke}
              </tbody>
            </table>
          </body>
        </html>
      `,nt=window.open("","_blank","width=1024,height=768");if(!nt)return;nt.document.open(),nt.document.write(Ge),nt.document.close(),nt.focus(),setTimeout(()=>{nt.print()},300)}catch(ie){It.fire({title:"Error!",text:ie.message||"Gagal mengekspor PDF.",icon:"error"})}},cs=()=>e.filter(ie=>!ie||!ie.name||!ie.category?!1:ie.name.toLowerCase().includes(oe.toLowerCase())||ie.category.toLowerCase().includes(oe.toLowerCase())||ie.barcode&&ie.barcode.toLowerCase().includes(oe.toLowerCase())),Qs=()=>{const ie=cs(),ke=(Ye-1)*Ze,Ge=ke+Ze;return ie.slice(ke,Ge)},vt=ie=>{Ne(ie)},zi=ie=>{ot(ie),Ne(1)},ks=ie=>{const ke=ie.target.files[0];ke&&(et(ke),Ho(ke))},Ho=ie=>{const ke=new FileReader;ke.onload=Ge=>{try{const nt=new Uint8Array(Ge.target.result),it=sp(nt,{type:"array"}),pt=it.SheetNames[0],ur=it.Sheets[pt],Cr=bH.sheet_to_json(ur,{header:1}).slice(1).map((D,M)=>{var U,j,H;return!D[0]||!D[1]||!D[2]?null:{name:((U=D[0])==null?void 0:U.toString().trim())||"",category:((j=D[1])==null?void 0:j.toString().trim())||"",price:parseFloat(D[2])||0,stock:parseInt(D[3])||0,minStock:parseInt(D[4])||0,useBarcode:((H=D[5])==null?void 0:H.toString().toLowerCase())==="true"||!1,rowIndex:M+2}}).filter(Boolean);qe(Cr)}catch{It.fire({title:"Error!",text:"Gagal membaca file Excel.",icon:"error"})}},ke.readAsArrayBuffer(ie)},Pn=ie=>{const ke=[];return ie.forEach((Ge,nt)=>{Ge.name||ke.push(`Baris ${Ge.rowIndex}: Nama produk kosong`),Ge.category||ke.push(`Baris ${Ge.rowIndex}: Kategori kosong`),Ge.price<=0&&ke.push(`Baris ${Ge.rowIndex}: Harga harus lebih dari 0`),Ge.stock<0&&ke.push(`Baris ${Ge.rowIndex}: Stock tidak boleh negatif`),Ge.minStock<0&&ke.push(`Baris ${Ge.rowIndex}: Min stock tidak boleh negatif`)}),ke},Ga=async()=>{try{const ie=Pn(Y);if(ie.length>0){await It.fire({title:"Data Tidak Valid!",html:ie.slice(0,5).join("<br>")+(ie.length>5?"<br>...dan lainnya":""),icon:"error"});return}ht({current:0,total:Y.length});for(let ke=0;ke<Y.length;ke++){const Ge=Y[ke];await en.createProduct({name:Ge.name,category:Ge.category,price:Ge.price,stock:Ge.useBarcode?0:Ge.stock,minStock:Ge.minStock,useBarcode:Ge.useBarcode}),ht({current:ke+1,total:Y.length})}await It.fire({title:"Berhasil!",text:`${Y.length} produk berhasil diimpor.`,icon:"success"}),We(!1),et(null),qe([]),ht({current:0,total:0}),Gt()}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal mengimpor produk.",icon:"error"})}};return R.jsxs("div",{style:{padding:"1.5rem"},children:[R.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"}}),Q.length>0&&R.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center"},children:[R.jsx(Cg,{size:20,style:{color:"#dc2626",marginRight:"0.5rem"}}),R.jsxs("div",{children:[R.jsx("h3",{style:{fontWeight:"500",color:"#991b1b",margin:0,fontSize:"0.875rem"},children:"Stok Rendah!"}),R.jsxs("p",{style:{fontSize:"0.75rem",color:"#dc2626",marginTop:"0.25rem",margin:0},children:[Q.length," produk memiliki stok di bawah minimum"]})]})]}),R.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[R.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"1rem 1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",flexDirection:window.innerWidth<=768?"column":"row",alignItems:window.innerWidth<=768?"stretch":"center",justifyContent:"space-between",gap:"1rem"},children:[R.jsxs("div",{style:{position:"relative",flex:window.innerWidth<=768?"none":"1",maxWidth:window.innerWidth<=768?"none":"300px"},children:[R.jsx(hC,{size:20,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),R.jsx("input",{type:"text",placeholder:"Cari produk...",value:oe,onChange:ie=>le(ie.target.value),style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",width:window.innerWidth<=768?"100%":"auto"},children:[R.jsxs("button",{onClick:()=>Ce(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[R.jsx(dC,{size:20}),"Stock Audit"]}),R.jsxs("button",{onClick:()=>We(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[R.jsx(Xc,{size:20}),"Import Excel"]}),R.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[R.jsx(Ag,{size:20}),"Produk"]})]})]}),R.jsx("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch",display:window.innerWidth<=768?"none":"block"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[R.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:R.jsxs("tr",{children:[R.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Produk"}),R.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Ready Stock"}),R.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Kategori"}),R.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Stok"}),R.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Harga"}),R.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Aksi"})]})}),R.jsx("tbody",{children:Qs().map(ie=>R.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[R.jsx("td",{style:{padding:"1rem 1.5rem"},children:R.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[R.jsx(Xc,{size:20,style:{color:"#9ca3af",marginRight:"0.75rem"}}),R.jsx("div",{children:R.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:ie.name})})]})}),R.jsxs("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[R.jsx("span",{style:{fontWeight:"600",color:(ie.useBarcode===!1?ie.stock:i[ie.id]||0)>0?"#059669":"#dc2626"},children:ie.useBarcode===!1?ie.stock:i[ie.id]||0}),R.jsxs("span",{style:{color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",ie.stock," unit"]})]}),R.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:ie.useBarcode!==!1?"Dengan barcode":"Tanpa barcode"})]}),R.jsx("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:ie.category}),R.jsxs("td",{style:{padding:"1rem 1.5rem"},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[R.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:ie.stock<=ie.minStock?"#dc2626":"#111827"},children:ie.stock}),R.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",ie.minStock," min"]})]}),R.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:ie.useBarcode!==!1?"Dihitung dari unit":"Manual"})]}),R.jsxs("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:["Rp ",ie.price.toLocaleString("id-ID")]}),R.jsx("td",{style:{padding:"1rem 1.5rem"},children:R.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[R.jsx("button",{onClick:()=>Hi(ie),style:{color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:R.jsx(hw,{size:16})}),ie.useBarcode!==!1&&R.jsx("button",{onClick:()=>ft(ie.id),style:{color:"#10b981",background:"none",border:"1px dashed #10b981",borderRadius:"0.375rem",cursor:"pointer",padding:"0.25rem 0.5rem",fontSize:"0.75rem"},title:"Assign barcode via scan",children:R.jsx(Oc,{size:14})}),R.jsx("button",{onClick:()=>Qt(ie.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:R.jsx(Sg,{size:16})})]})})]},ie.id))})]})}),R.jsx("div",{style:{display:window.innerWidth<=768?"block":"none"},children:Qs().map(ie=>R.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsxs("div",{style:{flex:1},children:[R.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:R.jsxs("div",{children:[R.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:ie.name}),R.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:ie.category})]})}),R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[R.jsxs("div",{children:[R.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:(ie.useBarcode===!1?ie.stock:i[ie.id]||0)>0?"#059669":"#dc2626"},children:["Ready ",ie.useBarcode===!1?ie.stock:i[ie.id]||0]}),R.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",ie.stock]})]}),R.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Rp ",ie.price.toLocaleString("id-ID")]})]}),R.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:ie.useBarcode!==!1?"Dengan barcode":"Tanpa barcode"})]}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginLeft:"1rem"},children:[R.jsx("button",{onClick:()=>Hi(ie),style:{color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Edit",children:R.jsx(hw,{size:14})}),ie.useBarcode!==!1&&R.jsx("button",{onClick:()=>ft(ie.id),style:{color:"#10b981",background:"none",border:"1px dashed #10b981",borderRadius:"0.25rem",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Assign Barcode",children:R.jsx(Oc,{size:14})}),R.jsx("button",{onClick:()=>Qt(ie.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Delete",children:R.jsx(Sg,{size:14})})]})]},ie.id))}),Ht>1&&R.jsx("div",{style:{padding:"1rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:window.innerWidth<=768?"column":"row",gap:"1rem"},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Show:"}),R.jsxs("select",{value:Ze,onChange:ie=>zi(parseInt(ie.target.value)),style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",border:"1px solid #d1d5db",fontSize:"0.875rem",backgroundColor:"white"},children:[R.jsx("option",{value:5,children:"5"}),R.jsx("option",{value:10,children:"10"}),R.jsx("option",{value:20,children:"20"}),R.jsx("option",{value:50,children:"50"})]}),R.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"per page"})]}),R.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["Showing ",(Ye-1)*Ze+1," to ",Math.min(Ye*Ze,cs().length)," of ",cs().length," products"]}),R.jsxs("div",{style:{display:"flex",gap:"0.25rem"},children:[R.jsx("button",{onClick:()=>vt(1),disabled:Ye===1,style:{padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #d1d5db",backgroundColor:Ye===1?"#f3f4f6":"white",color:Ye===1?"#9ca3af":"#374151",cursor:Ye===1?"not-allowed":"pointer",fontSize:"0.875rem"},children:"First"}),R.jsx("button",{onClick:()=>vt(Ye-1),disabled:Ye===1,style:{padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #d1d5db",backgroundColor:Ye===1?"#f3f4f6":"white",color:Ye===1?"#9ca3af":"#374151",cursor:Ye===1?"not-allowed":"pointer",fontSize:"0.875rem"},children:"Prev"}),window.innerWidth>768&&Array.from({length:Math.min(5,Ht)},(ie,ke)=>{let Ge;return Ht<=5||Ye<=3?Ge=ke+1:Ye>=Ht-2?Ge=Ht-4+ke:Ge=Ye-2+ke,R.jsx("button",{onClick:()=>vt(Ge),style:{padding:"0.5rem 0.75rem",borderRadius:"0.25rem",border:"1px solid #d1d5db",backgroundColor:Ye===Ge?"#3b82f6":"white",color:Ye===Ge?"white":"#374151",cursor:"pointer",fontSize:"0.875rem",fontWeight:Ye===Ge?"600":"400"},children:Ge},Ge)}),R.jsx("button",{onClick:()=>vt(Ye+1),disabled:Ye===Ht,style:{padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #d1d5db",backgroundColor:Ye===Ht?"#f3f4f6":"white",color:Ye===Ht?"#9ca3af":"#374151",cursor:Ye===Ht?"not-allowed":"pointer",fontSize:"0.875rem"},children:"Next"}),R.jsx("button",{onClick:()=>vt(Ht),disabled:Ye===Ht,style:{padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #d1d5db",backgroundColor:Ye===Ht?"#f3f4f6":"white",color:Ye===Ht?"#9ca3af":"#374151",cursor:Ye===Ht?"not-allowed":"pointer",fontSize:"0.875rem"},children:"Last"})]})]})})]}),(g||m)&&R.jsx("div",{className:"modal-overlay",children:R.jsxs("div",{className:"modal",children:[R.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:g?"Tambah Produk":"Edit Produk"}),R.jsxs("form",{onSubmit:Er,children:[R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"Nama Produk"}),R.jsx("input",{type:"text",name:"name",value:zt.name,onChange:Mr,required:!0,className:"form-input"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"Kategori"}),R.jsxs("select",{name:"category",value:zt.category,onChange:Mr,required:!0,className:"form-select",children:[R.jsx("option",{value:"",children:"Pilih Kategori"}),R.jsx("option",{value:"IQOS Device",children:"IQOS Device"}),R.jsx("option",{value:"HEETS",children:"HEETS"}),R.jsx("option",{value:"Aksesoris",children:"Aksesoris"}),R.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"Harga"}),R.jsx("input",{type:"number",name:"price",value:zt.price,onChange:Mr,required:!0,min:"0",step:"0.01",className:"form-input",placeholder:"Harga jual produk"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"Gunakan Barcode"}),R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsx("input",{type:"checkbox",name:"useBarcode",checked:zt.useBarcode,onChange:Mr,style:{width:"1rem",height:"1rem"}}),R.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Centang jika produk menggunakan barcode untuk tracking unit"})]}),zt.useBarcode&&R.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#0369a1"},children:[R.jsx("strong",{children:"Info:"}),' Stok akan dihitung otomatis dari jumlah unit yang memiliki barcode. Field "Stok Awal" akan di-disable.']}),!zt.useBarcode&&R.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#92400e"},children:[R.jsx("strong",{children:"Info:"}),' Produk tanpa barcode menggunakan input stok manual. Field "Stok Awal" akan di-enable untuk input manual.']})]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"Stok Awal"}),R.jsx("input",{type:"number",name:"stock",value:zt.stock,onChange:Mr,required:!zt.useBarcode,disabled:zt.useBarcode,min:"0",className:"form-input",placeholder:zt.useBarcode?"Dihitung otomatis":"Jumlah stok awal",style:{opacity:zt.useBarcode?.6:1,backgroundColor:zt.useBarcode?"#f9fafb":"white",cursor:zt.useBarcode?"not-allowed":"text"}})]}),R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"Stok Minimum"}),R.jsx("input",{type:"number",name:"minStock",value:zt.minStock,onChange:Mr,required:!0,min:"0",className:"form-input",placeholder:"Minimum stock untuk alert"})]})]})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1.5rem"},children:[R.jsx("button",{type:"button",onClick:()=>{p(!1),v(!1),yn({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0})},className:"btn btn-secondary",style:{flex:1},children:"Batal"}),R.jsx("button",{type:"submit",className:"btn btn-primary",style:{flex:1},children:g?"Tambah":"Update"})]})]})]})}),I&&L&&R.jsx("div",{className:"modal-overlay",children:R.jsxs("div",{className:"modal",children:[R.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Assign Barcode ke Unit"}),R.jsxs("div",{style:{marginBottom:"1rem"},children:[R.jsx("label",{className:"form-label",children:"Input Barcode Manual"}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsx("input",{type:"text",value:G,onChange:ie=>F(ie.target.value),placeholder:"Masukkan barcode...",className:"form-input",style:{flex:1}}),R.jsx("button",{onClick:_n,className:"btn btn-primary",style:{padding:"0.5rem 1rem"},children:"Assign"})]})]}),R.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem",padding:"1rem",backgroundColor:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e5e7eb"},children:[R.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0 0 0.5rem 0"},children:"Atau scan barcode dengan kamera"}),R.jsxs("button",{onClick:()=>{b(!1),S("assign"),E(!0)},style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",margin:"0 auto"},children:[R.jsx(Oc,{size:16}),"Scan Barcode"]})]}),R.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:R.jsx("button",{onClick:()=>{b(!1),q(null),F("")},className:"btn btn-secondary",style:{flex:1},children:"Tutup"})})]})}),A&&Se&&R.jsx("div",{className:"modal-overlay",children:R.jsxs("div",{className:"modal",children:[R.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Informasi Stok Produk"}),R.jsxs("div",{style:{backgroundColor:Se.stock<=Se.minStock?"#fef2f2":"#f0fdf4",border:`1px solid ${Se.stock<=Se.minStock?"#fecaca":"#bbf7d0"}`,borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem"},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[R.jsx(Xc,{size:20,style:{color:Se.stock<=Se.minStock?"#dc2626":"#059669",marginRight:"0.5rem"}}),R.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",color:Se.stock<=Se.minStock?"#991b1b":"#065f46",margin:0},children:Se.name})]}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Unit ID:"}),R.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:Se.matchedUnitId||"-"})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Kategori:"}),R.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:Se.category})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Stok Saat Ini:"}),R.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:Se.stock<=Se.minStock?"#dc2626":"#059669"},children:[Se.stock," unit"]})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Stok Minimum:"}),R.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:[Se.minStock," unit"]})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Harga:"}),R.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:["Rp ",Se.price.toLocaleString("id-ID")]})]})]}),Se.stock<=Se.minStock&&R.jsx("div",{style:{marginTop:"0.75rem",padding:"0.5rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.25rem"},children:R.jsxs("p",{style:{fontSize:"0.75rem",color:"#991b1b",margin:0,display:"flex",alignItems:"center"},children:[R.jsx(Cg,{size:14,style:{marginRight:"0.25rem"}}),"Stok rendah! Segera lakukan restocking."]})})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsx("button",{onClick:()=>{C(!1),ee(null)},className:"btn btn-secondary",style:{flex:1},children:"Tutup"}),R.jsx("button",{onClick:()=>{C(!1),ee(null),E(!0)},className:"btn btn-primary",style:{flex:1},children:"Scan Lagi"})]})]})}),Be&&R.jsx("div",{className:"modal-overlay",children:R.jsxs("div",{className:"modal",style:{maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[R.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Stock Audit Report"}),R.jsxs("div",{className:"audit-inputs",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[R.jsxs("div",{style:{flex:1},children:[R.jsx("label",{className:"form-label",children:"Tanggal"}),R.jsx("input",{type:"date",value:Ae,onChange:ie=>ne(ie.target.value),className:"form-input",style:{fontSize:"0.875rem",padding:"0.5rem"}})]}),R.jsxs("div",{style:{flex:1},children:[R.jsx("label",{className:"form-label",children:"Waktu"}),R.jsx("input",{type:"time",value:be,onChange:ie=>ce(ie.target.value),className:"form-input",style:{fontSize:"0.875rem",padding:"0.5rem"}})]})]}),B.length===0&&R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsx("button",{onClick:()=>Ce(!1),className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Tutup"}),R.jsx("button",{onClick:gt,className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Mulai Stock Audit"})]}),K&&R.jsxs("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1.5rem"},children:[R.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem",margin:0},children:K.name}),R.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.5rem",margin:0},children:["Stock : ",K.databaseStock]}),ae==="manual"?R.jsx("div",{children:R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsx("input",{type:"number",min:"0",placeholder:"Jumlah stock fisik",className:"form-input",style:{flex:1},onKeyPress:ie=>{if(ie.key==="Enter"){const ke=ie.target.value;ke&&(cr(K.id,ke),ie.target.value="")}}}),R.jsx("button",{onClick:ie=>{const ke=ie.target.previousElementSibling;ke.value&&(cr(K.id,ke.value),ke.value="")},className:"btn btn-primary",children:"Submit"})]})}):R.jsxs("div",{children:[R.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.5rem",margin:0},children:"Scan barcode untuk menghitung stock fisik"}),R.jsxs("button",{onClick:()=>E(!0),className:"btn btn-primary",style:{width:"100%"},children:[R.jsx(Oc,{size:20,style:{marginRight:"0.5rem"}}),"Scan Barcode"]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.5rem",fontSize:"0.75rem",color:"#6b7280"},children:[R.jsxs("span",{children:["Ter-scan: ",Array.isArray(K.scannedUnits)?K.scannedUnits.length:K.physicalStock??0," unit"]}),R.jsxs("span",{children:["Var: ",(()=>{const ke=(Array.isArray(K.scannedUnits)?K.scannedUnits.length:K.physicalStock??0)-(K.databaseStock??0);return`${ke>0?"+":""}${ke}`})()]})]}),R.jsx("button",{onClick:Wt,className:"btn btn-secondary",style:{width:"100%",marginTop:"0.5rem"},children:"Selesaikan Item"})]})]}),B.length>0&&R.jsxs("div",{children:[R.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:["Hasil Audit (",B.filter(ie=>ie.status==="completed").length,"/",B.length,")"]}),R.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:B.map(ie=>{const ke=ie.physicalStock!==null?ie.physicalStock-ie.databaseStock:null,Ge=ie.physicalStock!==null?ie.physicalStock-ie.readyStock:null,nt=ke!==null&&ke!==0,it=Ge!==null&&Ge!==0,pt=ke!==null&&ke<0||Ge!==null&&Ge<0;return R.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"0.5rem",backgroundColor:ie.status==="completed"?pt?"#fef2f2":"#f0fdf4":"#fefce8",borderLeft:nt||it?"4px solid #ef4444":"4px solid #10b981"},children:R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsxs("div",{children:[R.jsx("h5",{style:{fontSize:"0.875rem",fontWeight:"500",margin:0},children:ie.name}),R.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:ie.useBarcode!==!1?"Barcode":"Manual"})]}),R.jsxs("div",{style:{textAlign:"right"},children:[R.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Stock : ",ie.databaseStock]}),ie.status==="completed"?R.jsxs("div",{children:[R.jsxs("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#059669"},children:["Fisik: ",ie.physicalStock]}),(nt||it)&&R.jsx("div",{style:{fontSize:"0.7rem",marginTop:"0.25rem"},children:it&&R.jsxs("span",{style:{color:Ge>0?"#059669":"#ef4444",fontWeight:"500"},children:[Ge>0?"+":"",Ge]})})]}):R.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#f59e0b"},children:"Pending"})]})]})},ie.id)})})]}),B.length>0&&R.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[R.jsx("button",{onClick:()=>{Ce(!1),se([]),te(null),De(null)},className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Tutup"}),R.jsx("button",{onClick:ls,className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Export PDF"}),R.jsx("button",{onClick:async()=>{await di(Ot(Dt,`stockAuditsByDate/${Ae}/meta/`),{date:Ae,updatedAt:Date.now()}),await tr()},className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Simpan Laporan"})]})]})}),Ve&&R.jsx("div",{className:"modal-overlay",onClick:()=>We(!1),children:R.jsxs("div",{className:"modal",style:{maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},onClick:ie=>ie.stopPropagation(),children:[R.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Import Produk dari Excel"}),R.jsxs("div",{style:{marginBottom:"1.5rem"},children:[R.jsx("label",{className:"form-label",children:"Format Excel:"}),R.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem"},children:"Kolom: Nama | Kategori | Harga | Stock | Min Stock | Use Barcode (true/false)"}),R.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:ks,className:"form-input",style:{padding:"0.5rem"}})]}),Y.length>0&&R.jsxs("div",{style:{marginBottom:"1.5rem"},children:[R.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem"},children:["Preview Data (",Y.length," produk)"]}),R.jsxs("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"0.5rem"},children:[R.jsxs("table",{style:{width:"100%",fontSize:"0.75rem"},children:[R.jsx("thead",{style:{backgroundColor:"#f3f4f6"},children:R.jsxs("tr",{children:[R.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Nama"}),R.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Kategori"}),R.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Harga"}),R.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Stock"}),R.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Barcode"})]})}),R.jsx("tbody",{children:Y.slice(0,10).map((ie,ke)=>R.jsxs("tr",{children:[R.jsx("td",{style:{padding:"0.5rem"},children:ie.name}),R.jsx("td",{style:{padding:"0.5rem"},children:ie.category}),R.jsx("td",{style:{padding:"0.5rem",textAlign:"right"},children:ie.price.toLocaleString()}),R.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:ie.stock}),R.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:ie.useBarcode?"Ya":"Tidak"})]},ke))})]}),Y.length>10&&R.jsxs("div",{style:{padding:"0.5rem",textAlign:"center",color:"#6b7280"},children:["...dan ",Y.length-10," produk lainnya"]})]})]}),ct.total>0&&R.jsxs("div",{style:{marginBottom:"1.5rem"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[R.jsx("span",{style:{fontSize:"0.875rem"},children:"Progress Import"}),R.jsxs("span",{style:{fontSize:"0.875rem"},children:[ct.current,"/",ct.total]})]}),R.jsx("div",{style:{width:"100%",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",height:"8px"},children:R.jsx("div",{style:{width:`${ct.current/ct.total*100}%`,backgroundColor:"#10b981",height:"100%",borderRadius:"0.25rem",transition:"width 0.3s ease"}})})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsx("button",{onClick:()=>{We(!1),et(null),qe([]),ht({current:0,total:0})},className:"btn btn-secondary",style:{flex:1},children:"Batal"}),R.jsx("button",{onClick:Ga,disabled:Y.length===0||ct.total>0,className:"btn btn-primary",style:{flex:1},children:ct.total>0?"Mengimpor...":"Import Produk"})]})]})}),R.jsx(xA,{isOpen:_,onScan:k==="assign"?Kt:k==="check"?Yt:Le,onClose:()=>{E(!1),S(null),q(null)}})]})},RH=()=>{const[e,t]=ye.useState([]),[r,n]=ye.useState({}),[i,a]=ye.useState([]),[l,u]=ye.useState(!0),[g,p]=ye.useState(!1),[m,v]=ye.useState(null),[_,E]=ye.useState(null),[A,C]=ye.useState(""),[I,b]=ye.useState("all"),[k,S]=ye.useState({name:"",phone:""}),[L,q]=ye.useState("cash"),[G,F]=ye.useState(!1),[Z,W]=ye.useState(null);ye.useEffect(()=>{oe()},[]);const oe=async()=>{try{u(!0);const ce=await en.getAllProducts(),B={};for(const K of ce)B[K.id]=await en.getReadyStock(K.id);n(B);const se=ce.filter(K=>B[K.id]>0);t(se)}catch(ce){console.error("Error loading products:",ce)}finally{u(!1)}},le=async ce=>{try{const B=await en.getProductByBarcode(ce);B?m==="add"?Q(B):m==="increase"&&_?Se(_):Q(B):await It.fire({title:"Produk Tidak Ditemukan",text:"Barcode tidak terdaftar dalam sistem.",icon:"warning"})}catch(B){console.error("Error scanning barcode:",B),await It.fire({title:"Error!",text:"Gagal memindai barcode.",icon:"error"})}p(!1),v(null),E(null)},Q=ce=>{if(i.find(se=>se.productId===ce.id))Se(ce.id);else{if((r[ce.id]||0)<=0){It.fire({title:"Stok Habis",text:"Stok siap jual untuk produk ini habis.",icon:"warning"});return}a([...i,{productId:ce.id,productName:ce.name,quantity:1,price:ce.price,total:ce.price}])}},_e=ce=>{a(i.filter(B=>B.productId!==ce))},Se=ce=>{if(!e.find(te=>te.id===ce))return;const se=r[ce]||0,K=i.find(te=>te.productId===ce);if(K){if(K.quantity>=se){It.fire({title:"Stok Tidak Cukup",text:`Maksimal quantity: ${se}`,icon:"warning"});return}const te=K.quantity+1;a(i.map(ae=>ae.productId===ce?{...ae,quantity:te,total:te*ae.price}:ae))}},ee=(ce,B)=>{if(B<=0){_e(ce);return}const se=r[ce]||0;if(B>se){It.fire({title:"Stok Tidak Cukup",text:`Maksimal quantity: ${se}`,icon:"warning"});return}a(i.map(K=>K.productId===ce?{...K,quantity:B,total:B*K.price}:K))},Be=()=>i.reduce((ce,B)=>ce+B.total,0),Ce=ce=>{ce.useBarcode!==!1?(v("add"),E(ce.id),p(!0)):Q(ce)},Ae=ce=>{const B=e.find(se=>se.id===ce);B&&B.useBarcode!==!1?(v("increase"),E(ce),p(!0)):Se(ce)},ne=async()=>{if(i.length===0){await It.fire({title:"Keranjang Kosong",text:"Tambahkan produk ke keranjang terlebih dahulu.",icon:"warning"});return}try{const ce={items:i,totalAmount:Be(),customerName:k.name,customerPhone:k.phone,paymentMethod:L},B=await dA.createSale(ce);W(B),F(!0),a([]),S({name:"",phone:""}),q("cash"),oe()}catch(ce){console.error("Error creating sale:",ce),await It.fire({title:"Error!",text:"Gagal melakukan penjualan.",icon:"error"})}},be=e.filter(ce=>{if(!ce||!ce.name||!ce.category)return!1;const B=A.toLowerCase(),se=ce.name.toLowerCase().includes(B),K=ce.category.toLowerCase().includes(B),te=se||K;let ae=!0;return I==="barcode"?ae=ce.useBarcode!==!1:I==="manual"&&(ae=ce.useBarcode===!1),te&&ae});return l?R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:R.jsx("div",{className:"spinner"})}):R.jsxs("div",{style:{padding:"1.5rem"},children:[R.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"2fr 1fr",gap:"1rem"},children:[R.jsx("div",{children:R.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[R.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Daftar Produk"}),R.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[R.jsx(Oc,{size:20}),"Scan Barcode"]})]}),R.jsxs("div",{style:{marginBottom:"1rem"},children:[R.jsxs("div",{style:{position:"relative",marginBottom:"0.75rem"},children:[R.jsx(hC,{size:20,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),R.jsx("input",{type:"text",placeholder:"Cari produk...",value:A,onChange:ce=>C(ce.target.value),style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsx("button",{onClick:()=>b("all"),style:{backgroundColor:I==="all"?"#3b82f6":"#f3f4f6",color:I==="all"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Semua"}),R.jsx("button",{onClick:()=>b("barcode"),style:{backgroundColor:I==="barcode"?"#3b82f6":"#f3f4f6",color:I==="barcode"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Dengan Barcode"}),R.jsx("button",{onClick:()=>b("manual"),style:{backgroundColor:I==="manual"?"#3b82f6":"#f3f4f6",color:I==="manual"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Manual"})]})]}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",maxHeight:window.innerWidth<=768?"20rem":"24rem",overflowY:"auto"},children:be.map(ce=>R.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem",transition:"box-shadow 0.2s"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[R.jsx("h3",{style:{fontWeight:"500",color:"#111827",margin:0,fontSize:"0.875rem"},children:ce.name}),R.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:ce.category})]}),R.jsxs("div",{style:{marginBottom:"0.5rem"},children:[R.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:["Barcode: ",ce.useBarcode!==!1?"Per unit":ce.barcode||"-"]}),R.jsx("span",{style:{fontSize:"0.625rem",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",backgroundColor:ce.useBarcode!==!1?"#dbeafe":"#f3f4f6",color:ce.useBarcode!==!1?"#1e40af":"#6b7280",fontWeight:"500"},children:ce.useBarcode!==!1?"Dengan Barcode":"Manual"})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsxs("span",{style:{fontWeight:"600",color:"#2563eb",fontSize:"0.875rem"},children:["Rp ",ce.price.toLocaleString("id-ID")]}),R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsxs("span",{style:{fontSize:"0.75rem",color:(r[ce.id]||0)>0?"#059669":"#dc2626"},children:["Ready: ",r[ce.id]||0]}),R.jsx("button",{onClick:()=>Ce(ce),disabled:(r[ce.id]||0)<=0,style:{backgroundColor:(r[ce.id]||0)<=0?"#d1d5db":"#3b82f6",color:"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:(r[ce.id]||0)<=0?"not-allowed":"pointer",fontSize:"0.75rem"},title:(r[ce.id]||0)<=0?"Stok habis":ce.useBarcode!==!1?"Scan barcode untuk menambah":"Tambah ke keranjang",children:R.jsx(Ag,{size:16})})]})]})]},ce.id))})]})}),R.jsx("div",{children:R.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[R.jsxs("h2",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0,display:"flex",alignItems:"center"},children:[R.jsx(nx,{size:20,style:{marginRight:"0.5rem"}}),"Keranjang"]}),R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem",maxHeight:"16rem",overflowY:"auto"},children:i.map(ce=>R.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[R.jsx("h4",{style:{fontWeight:"500",fontSize:"0.75rem",color:"#111827",margin:0},children:ce.productName}),R.jsx("button",{onClick:()=>_e(ce.productId),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:R.jsx(Sg,{size:14})})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsx("button",{onClick:()=>ee(ce.productId,ce.quantity-1),style:{backgroundColor:"#e5e7eb",color:"#374151",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:"pointer",fontSize:"0.75rem"},"aria-label":"Kurangi qty (akan menghapus item)",children:R.jsx(Kb,{size:12})}),R.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"500"},children:ce.quantity}),R.jsx("button",{onClick:()=>Ae(ce.productId),disabled:ce.quantity>=(r[ce.productId]||0),style:{backgroundColor:ce.quantity>=(r[ce.productId]||0)?"#e5e7eb":"#3b82f6",color:ce.quantity>=(r[ce.productId]||0)?"#9ca3af":"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:ce.quantity>=(r[ce.productId]||0)?"not-allowed":"pointer",fontSize:"0.75rem"},title:ce.quantity>=(r[ce.productId]||0)?"Stok tidak cukup":"Tambah quantity",children:R.jsx(Ag,{size:12})})]}),R.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600"},children:["Rp ",ce.total.toLocaleString("id-ID")]})]})]},ce.productId))}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"Nama"}),R.jsx("input",{type:"text",value:k.name,onChange:ce=>S(B=>({...B,name:ce.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"No. HP"}),R.jsx("input",{type:"text",value:k.phone,onChange:ce=>S(B=>({...B,phone:ce.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),R.jsxs("div",{children:[R.jsx("label",{className:"form-label",children:"Metode Pembayaran"}),R.jsxs("select",{value:L,onChange:ce=>q(ce.target.value),className:"form-select",style:{fontSize:"0.75rem"},children:[R.jsx("option",{value:"cash",children:"Tunai"}),R.jsx("option",{value:"qris",children:"QRIS"}),R.jsx("option",{value:"card",children:"Kartu"}),R.jsx("option",{value:"transfer",children:"Transfer"})]})]})]}),R.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1rem"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[R.jsx("span",{style:{fontSize:"1.125rem",fontWeight:"600"},children:"Total"}),R.jsxs("span",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#2563eb"},children:["Rp ",Be().toLocaleString("id-ID")]})]}),R.jsx("button",{onClick:ne,disabled:i.length===0,style:{width:"100%",backgroundColor:i.length===0?"#d1d5db":"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:i.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:"Checkout"})]})]})})]}),R.jsx(xA,{isOpen:g,onScan:le,onClose:()=>{p(!1),v(null),E(null)}}),G&&Z&&R.jsx("div",{className:"modal-overlay",children:R.jsxs("div",{className:"modal",children:[R.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Struk Penjualan"}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1rem"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{children:"No. Transaksi:"}),R.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.75rem"},children:Z.id})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{children:"Tanggal:"}),R.jsx("span",{children:new Date(Z.createdAt).toLocaleString("id-ID")})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{children:"Pelanggan:"}),R.jsx("span",{children:Z.customerName||"-"})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[R.jsx("span",{children:"Pembayaran:"}),R.jsx("span",{style:{textTransform:"capitalize"},children:Z.paymentMethod})]})]}),R.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem",marginBottom:"1rem"},children:[R.jsx("h4",{style:{fontWeight:"500",marginBottom:"0.5rem",margin:0},children:"Item:"}),Z.items.map((ce,B)=>R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem"},children:[R.jsxs("span",{children:[ce.productName," x",ce.quantity]}),R.jsxs("span",{children:["Rp ",ce.total.toLocaleString("id-ID")]})]},B))]}),R.jsx("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem",marginBottom:"1rem"},children:R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600"},children:[R.jsx("span",{children:"Total:"}),R.jsxs("span",{children:["Rp ",Z.totalAmount.toLocaleString("id-ID")]})]})}),R.jsx("button",{onClick:()=>F(!1),className:"btn btn-primary",style:{width:"100%"},children:"Tutup"})]})})]})},NH=()=>{const[e,t]=ye.useState(!1),[r,n]=ye.useState(!1),[i,a]=ye.useState(!1);return ye.useEffect(()=>{const l=()=>{const u=window.innerWidth;t(u<=768),n(u>768&&u<=1024),a(u>1024)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:e,isTablet:r,isDesktop:i}},OH=()=>{const{isMobile:e}=NH(),[t,r]=ye.useState({totalProducts:0,lowStockProducts:0,totalSales:0,totalRevenue:0}),[n,i]=ye.useState(!0),[a,l]=ye.useState([]);ye.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const[p,m]=await Promise.all([en.getAllProducts(),dA.getAllSales()]),v=p.filter(A=>A.stock<=A.minStock),_=m.reduce((A,C)=>A+C.totalAmount,0);r({totalProducts:p.length,lowStockProducts:v.length,totalSales:m.length,totalRevenue:_});const E=m.sort((A,C)=>C.createdAt-A.createdAt).slice(0,5);l(E)}catch(p){console.error("Error loading dashboard data:",p)}finally{i(!1)}},g=({title:p,value:m,icon:v,color:_})=>R.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem",display:"flex",alignItems:"center"},children:[R.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:_+"20",marginRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:R.jsx(v,{size:24,style:{color:_}})}),R.jsxs("div",{children:[R.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",margin:0},children:p}),R.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#111827",margin:0},children:m})]})]});return n?R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:R.jsx("div",{className:"spinner"})}):R.jsxs("div",{style:{padding:"1.5rem"},children:[R.jsxs("div",{style:{display:"grid",gridTemplateColumns:e?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:e?"1rem":"1.5rem",marginBottom:"1.5rem"},children:[R.jsx(g,{title:"Total Produk",value:t.totalProducts,icon:Xc,color:"#3b82f6"}),R.jsx(g,{title:"Stok Rendah",value:t.lowStockProducts,icon:Cg,color:"#ef4444"}),R.jsx(g,{title:"Total Penjualan",value:t.totalSales,icon:nx,color:"#10b981"}),R.jsx(g,{title:"Total Revenue",value:`Rp ${t.totalRevenue.toLocaleString("id-ID")}`,icon:qb,color:"#8b5cf6"})]}),R.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[R.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:R.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#111827",margin:0},children:"Penjualan Terbaru"})}),R.jsx("div",{style:{padding:"1.5rem"},children:a.length>0?R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:a.map(p=>R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"0.5rem",borderBottom:"1px solid #f3f4f6"},children:[R.jsxs("div",{children:[R.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827",margin:0},children:p.customerName||"Pelanggan Umum"}),R.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:new Date(p.createdAt).toLocaleDateString("id-ID")})]}),R.jsxs("div",{style:{textAlign:"right"},children:[R.jsxs("p",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#059669",margin:0},children:["Rp ",p.totalAmount.toLocaleString("id-ID")]}),R.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:[p.items.length," item"]})]})]},p.id))}):R.jsx("p",{style:{color:"#6b7280",textAlign:"center",padding:"1rem",margin:0},children:"Belum ada penjualan"})})]})]})},DH=()=>{const e=J0(),t=[{path:"/",icon:Yb,label:"Dashboard"},{path:"/inventory",icon:Xc,label:"Inventory"},{path:"/sales",icon:nx,label:"Penjualan"}];return R.jsx("nav",{className:"nav",children:R.jsxs("div",{className:"nav-container",children:[R.jsx(uw,{to:"/",className:"nav-brand",children:R.jsx("span",{className:"mobile-hidden",children:"IQOS"})}),R.jsx("ul",{className:"nav-menu",children:t.map(r=>{const n=r.icon,i=e.pathname===r.path;return R.jsx("li",{children:R.jsxs(uw,{to:r.path,className:`nav-link ${i?"active":""}`,children:[R.jsx(n,{size:18}),r.label]})},r.path)})})]})})},FH=()=>R.jsx(Wb,{children:R.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb"},children:[R.jsx(DH,{}),R.jsx("main",{className:"container",children:R.jsxs(Fb,{children:[R.jsx(gf,{path:"/",element:R.jsx(OH,{})}),R.jsx(gf,{path:"/inventory",element:R.jsx(IH,{})}),R.jsx(gf,{path:"/sales",element:R.jsx(RH,{})})]})})]})});k1.createRoot(document.getElementById("root")).render(R.jsx(Zy.StrictMode,{children:R.jsx(FH,{})}));
