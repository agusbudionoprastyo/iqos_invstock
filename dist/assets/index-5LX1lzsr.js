function zy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xy={exports:{}},Od={},$y={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=Symbol.for("react.element"),_T=Symbol.for("react.portal"),ET=Symbol.for("react.fragment"),CT=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),ST=Symbol.for("react.provider"),TT=Symbol.for("react.context"),kT=Symbol.for("react.forward_ref"),bT=Symbol.for("react.suspense"),IT=Symbol.for("react.memo"),RT=Symbol.for("react.lazy"),Zm=Symbol.iterator;function NT(e){return e===null||typeof e!="object"?null:(e=Zm&&e[Zm]||e["@@iterator"],typeof e=="function"?e:null)}var Yy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ky=Object.assign,qy={};function $l(e,t,r){this.props=e,this.context=t,this.refs=qy,this.updater=r||Yy}$l.prototype.isReactComponent={};$l.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zy(){}Zy.prototype=$l.prototype;function up(e,t,r){this.props=e,this.context=t,this.refs=qy,this.updater=r||Yy}var fp=up.prototype=new Zy;fp.constructor=up;Ky(fp,$l.prototype);fp.isPureReactComponent=!0;var Qm=Array.isArray,Qy=Object.prototype.hasOwnProperty,dp={current:null},Jy={key:!0,ref:!0,__self:!0,__source:!0};function e_(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Qy.call(t,n)&&!Jy.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var g=Array(u),p=0;p<u;p++)g[p]=arguments[p+2];i.children=g}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:K0,type:e,key:a,ref:l,props:i,_owner:dp.current}}function OT(e,t){return{$$typeof:K0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hp(e){return typeof e=="object"&&e!==null&&e.$$typeof===K0}function DT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jm=/\/+/g;function Nh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DT(""+e.key):t.toString(36)}function sf(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case K0:case _T:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+Nh(l,0):n,Qm(i)?(r="",e!=null&&(r=e.replace(Jm,"$&/")+"/"),sf(i,t,r,"",function(p){return p})):i!=null&&(hp(i)&&(i=OT(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Jm,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",Qm(e))for(var u=0;u<e.length;u++){a=e[u];var g=n+Nh(a,u);l+=sf(a,t,r,g,i)}else if(g=NT(e),typeof g=="function")for(e=g.call(e),u=0;!(a=e.next()).done;)a=a.value,g=n+Nh(a,u++),l+=sf(a,t,r,g,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function bu(e,t,r){if(e==null)return e;var n=[],i=0;return sf(e,n,"","",function(a){return t.call(r,a,i++)}),n}function FT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},af={transition:null},PT={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:af,ReactCurrentOwner:dp};function t_(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:bu,forEach:function(e,t,r){bu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bu(e,function(){t++}),t},toArray:function(e){return bu(e,function(t){return t})||[]},only:function(e){if(!hp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=$l;kt.Fragment=ET;kt.Profiler=AT;kt.PureComponent=up;kt.StrictMode=CT;kt.Suspense=bT;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PT;kt.act=t_;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ky({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=dp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(g in t)Qy.call(t,g)&&!Jy.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&u!==void 0?u[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){u=Array(g);for(var p=0;p<g;p++)u[p]=arguments[p+2];n.children=u}return{$$typeof:K0,type:e.type,key:i,ref:a,props:n,_owner:l}};kt.createContext=function(e){return e={$$typeof:TT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ST,_context:e},e.Consumer=e};kt.createElement=e_;kt.createFactory=function(e){var t=e_.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:kT,render:e}};kt.isValidElement=hp;kt.lazy=function(e){return{$$typeof:RT,_payload:{_status:-1,_result:e},_init:FT}};kt.memo=function(e,t){return{$$typeof:IT,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=af.transition;af.transition={};try{e()}finally{af.transition=t}};kt.unstable_act=t_;kt.useCallback=function(e,t){return Xn.current.useCallback(e,t)};kt.useContext=function(e){return Xn.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};kt.useEffect=function(e,t){return Xn.current.useEffect(e,t)};kt.useId=function(){return Xn.current.useId()};kt.useImperativeHandle=function(e,t,r){return Xn.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return Xn.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return Xn.current.useReducer(e,t,r)};kt.useRef=function(e){return Xn.current.useRef(e)};kt.useState=function(e){return Xn.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return Xn.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return Xn.current.useTransition()};kt.version="18.3.1";$y.exports=kt;var ye=$y.exports;const r_=Gy(ye),MT=zy({__proto__:null,default:r_},[ye]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT=ye,LT=Symbol.for("react.element"),UT=Symbol.for("react.fragment"),jT=Object.prototype.hasOwnProperty,WT=BT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HT={key:!0,ref:!0,__self:!0,__source:!0};function n_(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)jT.call(t,n)&&!HT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:LT,type:e,key:a,ref:l,props:i,_owner:WT.current}}Od.Fragment=UT;Od.jsx=n_;Od.jsxs=n_;Xy.exports=Od;var k=Xy.exports,N1={},i_={exports:{}},_i={},s_={exports:{}},a_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Te,ie){var be=Te.length;Te.push(ie);e:for(;0<be;){var ze=be-1>>>1,V=Te[ze];if(0<i(V,ie))Te[ze]=ie,Te[be]=V,be=ze;else break e}}function r(Te){return Te.length===0?null:Te[0]}function n(Te){if(Te.length===0)return null;var ie=Te[0],be=Te.pop();if(be!==ie){Te[0]=be;e:for(var ze=0,V=Te.length,fe=V>>>1;ze<fe;){var B=2*(ze+1)-1,Q=Te[B],ne=B+1,Ae=Te[ne];if(0>i(Q,be))ne<V&&0>i(Ae,Q)?(Te[ze]=Ae,Te[ne]=be,ze=ne):(Te[ze]=Q,Te[B]=be,ze=B);else if(ne<V&&0>i(Ae,be))Te[ze]=Ae,Te[ne]=be,ze=ne;else break e}}return ie}function i(Te,ie){var be=Te.sortIndex-ie.sortIndex;return be!==0?be:Te.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var g=[],p=[],m=1,v=null,_=3,E=!1,A=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Te){for(var ie=r(p);ie!==null;){if(ie.callback===null)n(p);else if(ie.startTime<=Te)n(p),ie.sortIndex=ie.expirationTime,t(g,ie);else break;ie=r(p)}}function L(Te){if(C=!1,S(Te),!A)if(r(g)!==null)A=!0,Fe(q);else{var ie=r(p);ie!==null&&Ce(L,ie.startTime-Te)}}function q(Te,ie){A=!1,C&&(C=!1,I(Z),Z=-1),E=!0;var be=_;try{for(S(ie),v=r(g);v!==null&&(!(v.expirationTime>ie)||Te&&!oe());){var ze=v.callback;if(typeof ze=="function"){v.callback=null,_=v.priorityLevel;var V=ze(v.expirationTime<=ie);ie=e.unstable_now(),typeof V=="function"?v.callback=V:v===r(g)&&n(g),S(ie)}else n(g);v=r(g)}if(v!==null)var fe=!0;else{var B=r(p);B!==null&&Ce(L,B.startTime-ie),fe=!1}return fe}finally{v=null,_=be,E=!1}}var X=!1,F=null,Z=-1,W=5,le=-1;function oe(){return!(e.unstable_now()-le<W)}function J(){if(F!==null){var Te=e.unstable_now();le=Te;var ie=!0;try{ie=F(!0,Te)}finally{ie?_e():(X=!1,F=null)}}else X=!1}var _e;if(typeof b=="function")_e=function(){b(J)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,te=Se.port2;Se.port1.onmessage=J,_e=function(){te.postMessage(null)}}else _e=function(){R(J,0)};function Fe(Te){F=Te,X||(X=!0,_e())}function Ce(Te,ie){Z=R(function(){Te(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Te){Te.callback=null},e.unstable_continueExecution=function(){A||E||(A=!0,Fe(q))},e.unstable_forceFrameRate=function(Te){0>Te||125<Te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Te?Math.floor(1e3/Te):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(Te){switch(_){case 1:case 2:case 3:var ie=3;break;default:ie=_}var be=_;_=ie;try{return Te()}finally{_=be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Te,ie){switch(Te){case 1:case 2:case 3:case 4:case 5:break;default:Te=3}var be=_;_=Te;try{return ie()}finally{_=be}},e.unstable_scheduleCallback=function(Te,ie,be){var ze=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?ze+be:ze):be=ze,Te){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=be+V,Te={id:m++,callback:ie,priorityLevel:Te,startTime:be,expirationTime:V,sortIndex:-1},be>ze?(Te.sortIndex=be,t(p,Te),r(g)===null&&Te===r(p)&&(C?(I(Z),Z=-1):C=!0,Ce(L,be-ze))):(Te.sortIndex=V,t(g,Te),A||E||(A=!0,Fe(q))),Te},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(Te){var ie=_;return function(){var be=_;_=ie;try{return Te.apply(this,arguments)}finally{_=be}}}})(a_);s_.exports=a_;var VT=s_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT=ye,wi=VT;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o_=new Set,u0={};function Ro(e,t){Rl(e,t),Rl(e+"Capture",t)}function Rl(e,t){for(u0[e]=t,e=0;e<t.length;e++)o_.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O1=Object.prototype.hasOwnProperty,GT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e2={},t2={};function XT(e){return O1.call(t2,e)?!0:O1.call(e2,e)?!1:GT.test(e)?t2[e]=!0:(e2[e]=!0,!1)}function $T(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YT(e,t,r,n){if(t===null||typeof t>"u"||$T(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $n(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wn[e]=new $n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wn[t]=new $n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wn[e]=new $n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wn[e]=new $n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wn[e]=new $n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wn[e]=new $n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wn[e]=new $n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wn[e]=new $n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wn[e]=new $n(e,5,!1,e.toLowerCase(),null,!1,!1)});var gp=/[\-:]([a-z])/g;function pp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gp,pp);wn[t]=new $n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gp,pp);wn[t]=new $n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gp,pp);wn[t]=new $n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wn[e]=new $n(e,1,!1,e.toLowerCase(),null,!1,!1)});wn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wn[e]=new $n(e,1,!1,e.toLowerCase(),null,!0,!0)});function xp(e,t,r,n){var i=wn.hasOwnProperty(t)?wn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YT(t,r,i,n)&&(r=null),n||i===null?XT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ys=zT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iu=Symbol.for("react.element"),tl=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),D1=Symbol.for("react.profiler"),l_=Symbol.for("react.provider"),c_=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),F1=Symbol.for("react.suspense"),P1=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),u_=Symbol.for("react.offscreen"),r2=Symbol.iterator;function mc(e){return e===null||typeof e!="object"?null:(e=r2&&e[r2]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,Oh;function Ic(e){if(Oh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Oh=t&&t[1]||""}return`
`+Oh+e}var Dh=!1;function Fh(e,t){if(!e||Dh)return"";Dh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==a[u]){var g=`
`+i[l].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=l&&0<=u);break}}}finally{Dh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ic(e):""}function KT(e){switch(e.tag){case 5:return Ic(e.type);case 16:return Ic("Lazy");case 13:return Ic("Suspense");case 19:return Ic("SuspenseList");case 0:case 2:case 15:return e=Fh(e.type,!1),e;case 11:return e=Fh(e.type.render,!1),e;case 1:return e=Fh(e.type,!0),e;default:return""}}function M1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rl:return"Fragment";case tl:return"Portal";case D1:return"Profiler";case mp:return"StrictMode";case F1:return"Suspense";case P1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case c_:return(e.displayName||"Context")+".Consumer";case l_:return(e._context.displayName||"Context")+".Provider";case wp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vp:return t=e.displayName||null,t!==null?t:M1(e.type)||"Memo";case aa:t=e._payload,e=e._init;try{return M1(e(t))}catch{}}return null}function qT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M1(t);case 8:return t===mp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Da(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZT(e){var t=f_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ru(e){e._valueTracker||(e._valueTracker=ZT(e))}function d_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=f_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function B1(e,t){var r=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function n2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Da(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function h_(e,t){t=t.checked,t!=null&&xp(e,"checked",t,!1)}function L1(e,t){h_(e,t);var r=Da(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?U1(e,t.type,r):t.hasOwnProperty("defaultValue")&&U1(e,t.type,Da(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function i2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function U1(e,t,r){(t!=="number"||vf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Rc=Array.isArray;function ml(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Da(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function j1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function s2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Pe(92));if(Rc(r)){if(1<r.length)throw Error(Pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Da(r)}}function g_(e,t){var r=Da(t.value),n=Da(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function a2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function p_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?p_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nu,x_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nu=Nu||document.createElement("div"),Nu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function f0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QT=["Webkit","ms","Moz","O"];Object.keys(Lc).forEach(function(e){QT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lc[t]=Lc[e]})});function m_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Lc.hasOwnProperty(e)&&Lc[e]?(""+t).trim():t+"px"}function w_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=m_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var JT=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H1(e,t){if(t){if(JT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function V1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z1=null;function yp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var G1=null,wl=null,vl=null;function o2(e){if(e=Q0(e)){if(typeof G1!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=Bd(t),G1(e.stateNode,e.type,t))}}function v_(e){wl?vl?vl.push(e):vl=[e]:wl=e}function y_(){if(wl){var e=wl,t=vl;if(vl=wl=null,o2(e),t)for(e=0;e<t.length;e++)o2(t[e])}}function __(e,t){return e(t)}function E_(){}var Ph=!1;function C_(e,t,r){if(Ph)return e(t,r);Ph=!0;try{return __(e,t,r)}finally{Ph=!1,(wl!==null||vl!==null)&&(E_(),y_())}}function d0(e,t){var r=e.stateNode;if(r===null)return null;var n=Bd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Pe(231,t,typeof r));return r}var X1=!1;if(js)try{var wc={};Object.defineProperty(wc,"passive",{get:function(){X1=!0}}),window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{X1=!1}function e8(e,t,r,n,i,a,l,u,g){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(m){this.onError(m)}}var Uc=!1,yf=null,_f=!1,$1=null,t8={onError:function(e){Uc=!0,yf=e}};function r8(e,t,r,n,i,a,l,u,g){Uc=!1,yf=null,e8.apply(t8,arguments)}function n8(e,t,r,n,i,a,l,u,g){if(r8.apply(this,arguments),Uc){if(Uc){var p=yf;Uc=!1,yf=null}else throw Error(Pe(198));_f||(_f=!0,$1=p)}}function No(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function A_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l2(e){if(No(e)!==e)throw Error(Pe(188))}function i8(e){var t=e.alternate;if(!t){if(t=No(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return l2(i),e;if(a===n)return l2(i),t;a=a.sibling}throw Error(Pe(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,u=i.child;u;){if(u===r){l=!0,r=i,n=a;break}if(u===n){l=!0,n=i,r=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===r){l=!0,r=a,n=i;break}if(u===n){l=!0,n=a,r=i;break}u=u.sibling}if(!l)throw Error(Pe(189))}}if(r.alternate!==n)throw Error(Pe(190))}if(r.tag!==3)throw Error(Pe(188));return r.stateNode.current===r?e:t}function S_(e){return e=i8(e),e!==null?T_(e):null}function T_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=T_(e);if(t!==null)return t;e=e.sibling}return null}var k_=wi.unstable_scheduleCallback,c2=wi.unstable_cancelCallback,s8=wi.unstable_shouldYield,a8=wi.unstable_requestPaint,Nr=wi.unstable_now,o8=wi.unstable_getCurrentPriorityLevel,_p=wi.unstable_ImmediatePriority,b_=wi.unstable_UserBlockingPriority,Ef=wi.unstable_NormalPriority,l8=wi.unstable_LowPriority,I_=wi.unstable_IdlePriority,Dd=null,vs=null;function c8(e){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Dd,e,void 0,(e.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:d8,u8=Math.log,f8=Math.LN2;function d8(e){return e>>>=0,e===0?32:31-(u8(e)/f8|0)|0}var Ou=64,Du=4194304;function Nc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var u=l&~i;u!==0?n=Nc(u):(a&=l,a!==0&&(n=Nc(a)))}else l=r&~i,l!==0?n=Nc(l):a!==0&&(n=Nc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rs(t),i=1<<r,n|=e[r],t&=~i;return n}function h8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-rs(a),u=1<<l,g=i[l];g===-1?(!(u&r)||u&n)&&(i[l]=h8(u,t)):g<=t&&(e.expiredLanes|=u),a&=~u}}function Y1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function R_(){var e=Ou;return Ou<<=1,!(Ou&4194240)&&(Ou=64),e}function Mh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function q0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rs(t),e[t]=r}function p8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-rs(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Ep(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Xt=0;function N_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O_,Cp,D_,F_,P_,K1=!1,Fu=[],va=null,ya=null,_a=null,h0=new Map,g0=new Map,la=[],x8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u2(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":h0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":g0.delete(t.pointerId)}}function vc(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Q0(t),t!==null&&Cp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function m8(e,t,r,n,i){switch(t){case"focusin":return va=vc(va,e,t,r,n,i),!0;case"dragenter":return ya=vc(ya,e,t,r,n,i),!0;case"mouseover":return _a=vc(_a,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return h0.set(a,vc(h0.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,g0.set(a,vc(g0.get(a)||null,e,t,r,n,i)),!0}return!1}function M_(e){var t=no(e.target);if(t!==null){var r=No(t);if(r!==null){if(t=r.tag,t===13){if(t=A_(r),t!==null){e.blockedOn=t,P_(e.priority,function(){D_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function of(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=q1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);z1=n,r.target.dispatchEvent(n),z1=null}else return t=Q0(r),t!==null&&Cp(t),e.blockedOn=r,!1;t.shift()}return!0}function f2(e,t,r){of(e)&&r.delete(t)}function w8(){K1=!1,va!==null&&of(va)&&(va=null),ya!==null&&of(ya)&&(ya=null),_a!==null&&of(_a)&&(_a=null),h0.forEach(f2),g0.forEach(f2)}function yc(e,t){e.blockedOn===t&&(e.blockedOn=null,K1||(K1=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,w8)))}function p0(e){function t(i){return yc(i,e)}if(0<Fu.length){yc(Fu[0],e);for(var r=1;r<Fu.length;r++){var n=Fu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(va!==null&&yc(va,e),ya!==null&&yc(ya,e),_a!==null&&yc(_a,e),h0.forEach(t),g0.forEach(t),r=0;r<la.length;r++)n=la[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)M_(r),r.blockedOn===null&&la.shift()}var yl=Ys.ReactCurrentBatchConfig,Af=!0;function v8(e,t,r,n){var i=Xt,a=yl.transition;yl.transition=null;try{Xt=1,Ap(e,t,r,n)}finally{Xt=i,yl.transition=a}}function y8(e,t,r,n){var i=Xt,a=yl.transition;yl.transition=null;try{Xt=4,Ap(e,t,r,n)}finally{Xt=i,yl.transition=a}}function Ap(e,t,r,n){if(Af){var i=q1(e,t,r,n);if(i===null)Xh(e,t,n,Sf,r),u2(e,n);else if(m8(i,e,t,r,n))n.stopPropagation();else if(u2(e,n),t&4&&-1<x8.indexOf(e)){for(;i!==null;){var a=Q0(i);if(a!==null&&O_(a),a=q1(e,t,r,n),a===null&&Xh(e,t,n,Sf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Xh(e,t,n,null,r)}}var Sf=null;function q1(e,t,r,n){if(Sf=null,e=yp(n),e=no(e),e!==null)if(t=No(e),t===null)e=null;else if(r=t.tag,r===13){if(e=A_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sf=e,null}function B_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o8()){case _p:return 1;case b_:return 4;case Ef:case l8:return 16;case I_:return 536870912;default:return 16}default:return 16}}var fa=null,Sp=null,lf=null;function L_(){if(lf)return lf;var e,t=Sp,r=t.length,n,i="value"in fa?fa.value:fa.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return lf=i.slice(e,1<n?1-n:void 0)}function cf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pu(){return!0}function d2(){return!1}function Ei(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Pu:d2,this.isPropagationStopped=d2,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),t}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=Ei(Yl),Z0=yr({},Yl,{view:0,detail:0}),_8=Ei(Z0),Bh,Lh,_c,Fd=yr({},Z0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_c&&(_c&&e.type==="mousemove"?(Bh=e.screenX-_c.screenX,Lh=e.screenY-_c.screenY):Lh=Bh=0,_c=e),Bh)},movementY:function(e){return"movementY"in e?e.movementY:Lh}}),h2=Ei(Fd),E8=yr({},Fd,{dataTransfer:0}),C8=Ei(E8),A8=yr({},Z0,{relatedTarget:0}),Uh=Ei(A8),S8=yr({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),T8=Ei(S8),k8=yr({},Yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b8=Ei(k8),I8=yr({},Yl,{data:0}),g2=Ei(I8),R8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=O8[e])?!!t[e]:!1}function kp(){return D8}var F8=yr({},Z0,{key:function(e){if(e.key){var t=R8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kp,charCode:function(e){return e.type==="keypress"?cf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P8=Ei(F8),M8=yr({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p2=Ei(M8),B8=yr({},Z0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kp}),L8=Ei(B8),U8=yr({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),j8=Ei(U8),W8=yr({},Fd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H8=Ei(W8),V8=[9,13,27,32],bp=js&&"CompositionEvent"in window,jc=null;js&&"documentMode"in document&&(jc=document.documentMode);var z8=js&&"TextEvent"in window&&!jc,U_=js&&(!bp||jc&&8<jc&&11>=jc),x2=" ",m2=!1;function j_(e,t){switch(e){case"keyup":return V8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nl=!1;function G8(e,t){switch(e){case"compositionend":return W_(t);case"keypress":return t.which!==32?null:(m2=!0,x2);case"textInput":return e=t.data,e===x2&&m2?null:e;default:return null}}function X8(e,t){if(nl)return e==="compositionend"||!bp&&j_(e,t)?(e=L_(),lf=Sp=fa=null,nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U_&&t.locale!=="ko"?null:t.data;default:return null}}var $8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$8[e.type]:t==="textarea"}function H_(e,t,r,n){v_(n),t=Tf(t,"onChange"),0<t.length&&(r=new Tp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wc=null,x0=null;function Y8(e){J_(e,0)}function Pd(e){var t=al(e);if(d_(t))return e}function K8(e,t){if(e==="change")return t}var V_=!1;if(js){var jh;if(js){var Wh="oninput"in document;if(!Wh){var v2=document.createElement("div");v2.setAttribute("oninput","return;"),Wh=typeof v2.oninput=="function"}jh=Wh}else jh=!1;V_=jh&&(!document.documentMode||9<document.documentMode)}function y2(){Wc&&(Wc.detachEvent("onpropertychange",z_),x0=Wc=null)}function z_(e){if(e.propertyName==="value"&&Pd(x0)){var t=[];H_(t,x0,e,yp(e)),C_(Y8,t)}}function q8(e,t,r){e==="focusin"?(y2(),Wc=t,x0=r,Wc.attachEvent("onpropertychange",z_)):e==="focusout"&&y2()}function Z8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pd(x0)}function Q8(e,t){if(e==="click")return Pd(t)}function J8(e,t){if(e==="input"||e==="change")return Pd(t)}function ek(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var as=typeof Object.is=="function"?Object.is:ek;function m0(e,t){if(as(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!O1.call(t,i)||!as(e[i],t[i]))return!1}return!0}function _2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E2(e,t){var r=_2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_2(r)}}function G_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?G_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function X_(){for(var e=window,t=vf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vf(e.document)}return t}function Ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tk(e){var t=X_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&G_(r.ownerDocument.documentElement,r)){if(n!==null&&Ip(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=E2(r,a);var l=E2(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rk=js&&"documentMode"in document&&11>=document.documentMode,il=null,Z1=null,Hc=null,Q1=!1;function C2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Q1||il==null||il!==vf(n)||(n=il,"selectionStart"in n&&Ip(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hc&&m0(Hc,n)||(Hc=n,n=Tf(Z1,"onSelect"),0<n.length&&(t=new Tp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=il)))}function Mu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sl={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},Hh={},$_={};js&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Md(e){if(Hh[e])return Hh[e];if(!sl[e])return e;var t=sl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $_)return Hh[e]=t[r];return e}var Y_=Md("animationend"),K_=Md("animationiteration"),q_=Md("animationstart"),Z_=Md("transitionend"),Q_=new Map,A2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){Q_.set(e,t),Ro(t,[e])}for(var Vh=0;Vh<A2.length;Vh++){var zh=A2[Vh],nk=zh.toLowerCase(),ik=zh[0].toUpperCase()+zh.slice(1);Wa(nk,"on"+ik)}Wa(Y_,"onAnimationEnd");Wa(K_,"onAnimationIteration");Wa(q_,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(Z_,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function S2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,n8(n,t,void 0,e),e.currentTarget=null}function J_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var u=n[l],g=u.instance,p=u.currentTarget;if(u=u.listener,g!==a&&i.isPropagationStopped())break e;S2(i,u,p),a=g}else for(l=0;l<n.length;l++){if(u=n[l],g=u.instance,p=u.currentTarget,u=u.listener,g!==a&&i.isPropagationStopped())break e;S2(i,u,p),a=g}}}if(_f)throw e=$1,_f=!1,$1=null,e}function ur(e,t){var r=t[ng];r===void 0&&(r=t[ng]=new Set);var n=e+"__bubble";r.has(n)||(eE(t,e,2,!1),r.add(n))}function Gh(e,t,r){var n=0;t&&(n|=4),eE(r,e,n,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function w0(e){if(!e[Bu]){e[Bu]=!0,o_.forEach(function(r){r!=="selectionchange"&&(sk.has(r)||Gh(r,!1,e),Gh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bu]||(t[Bu]=!0,Gh("selectionchange",!1,t))}}function eE(e,t,r,n){switch(B_(t)){case 1:var i=v8;break;case 4:i=y8;break;default:i=Ap}r=i.bind(null,t,r,e),i=void 0,!X1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Xh(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var g=l.tag;if((g===3||g===4)&&(g=l.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;l=l.return}for(;u!==null;){if(l=no(u),l===null)return;if(g=l.tag,g===5||g===6){n=a=l;continue e}u=u.parentNode}}n=n.return}C_(function(){var p=a,m=yp(r),v=[];e:{var _=Q_.get(e);if(_!==void 0){var E=Tp,A=e;switch(e){case"keypress":if(cf(r)===0)break e;case"keydown":case"keyup":E=P8;break;case"focusin":A="focus",E=Uh;break;case"focusout":A="blur",E=Uh;break;case"beforeblur":case"afterblur":E=Uh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=h2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=C8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=L8;break;case Y_:case K_:case q_:E=T8;break;case Z_:E=j8;break;case"scroll":E=_8;break;case"wheel":E=H8;break;case"copy":case"cut":case"paste":E=b8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=p2}var C=(t&4)!==0,R=!C&&e==="scroll",I=C?_!==null?_+"Capture":null:_;C=[];for(var b=p,S;b!==null;){S=b;var L=S.stateNode;if(S.tag===5&&L!==null&&(S=L,I!==null&&(L=d0(b,I),L!=null&&C.push(v0(b,L,S)))),R)break;b=b.return}0<C.length&&(_=new E(_,A,null,r,m),v.push({event:_,listeners:C}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",_&&r!==z1&&(A=r.relatedTarget||r.fromElement)&&(no(A)||A[Ws]))break e;if((E||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,E?(A=r.relatedTarget||r.toElement,E=p,A=A?no(A):null,A!==null&&(R=No(A),A!==R||A.tag!==5&&A.tag!==6)&&(A=null)):(E=null,A=p),E!==A)){if(C=h2,L="onMouseLeave",I="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(C=p2,L="onPointerLeave",I="onPointerEnter",b="pointer"),R=E==null?_:al(E),S=A==null?_:al(A),_=new C(L,b+"leave",E,r,m),_.target=R,_.relatedTarget=S,L=null,no(m)===p&&(C=new C(I,b+"enter",A,r,m),C.target=S,C.relatedTarget=R,L=C),R=L,E&&A)t:{for(C=E,I=A,b=0,S=C;S;S=Zo(S))b++;for(S=0,L=I;L;L=Zo(L))S++;for(;0<b-S;)C=Zo(C),b--;for(;0<S-b;)I=Zo(I),S--;for(;b--;){if(C===I||I!==null&&C===I.alternate)break t;C=Zo(C),I=Zo(I)}C=null}else C=null;E!==null&&T2(v,_,E,C,!1),A!==null&&R!==null&&T2(v,R,A,C,!0)}}e:{if(_=p?al(p):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var q=K8;else if(w2(_))if(V_)q=J8;else{q=Z8;var X=q8}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(q=Q8);if(q&&(q=q(e,p))){H_(v,q,r,m);break e}X&&X(e,_,p),e==="focusout"&&(X=_._wrapperState)&&X.controlled&&_.type==="number"&&U1(_,"number",_.value)}switch(X=p?al(p):window,e){case"focusin":(w2(X)||X.contentEditable==="true")&&(il=X,Z1=p,Hc=null);break;case"focusout":Hc=Z1=il=null;break;case"mousedown":Q1=!0;break;case"contextmenu":case"mouseup":case"dragend":Q1=!1,C2(v,r,m);break;case"selectionchange":if(rk)break;case"keydown":case"keyup":C2(v,r,m)}var F;if(bp)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else nl?j_(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(U_&&r.locale!=="ko"&&(nl||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&nl&&(F=L_()):(fa=m,Sp="value"in fa?fa.value:fa.textContent,nl=!0)),X=Tf(p,Z),0<X.length&&(Z=new g2(Z,e,null,r,m),v.push({event:Z,listeners:X}),F?Z.data=F:(F=W_(r),F!==null&&(Z.data=F)))),(F=z8?G8(e,r):X8(e,r))&&(p=Tf(p,"onBeforeInput"),0<p.length&&(m=new g2("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:p}),m.data=F))}J_(v,t)})}function v0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=d0(e,r),a!=null&&n.unshift(v0(e,a,i)),a=d0(e,t),a!=null&&n.push(v0(e,a,i))),e=e.return}return n}function Zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function T2(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var u=r,g=u.alternate,p=u.stateNode;if(g!==null&&g===n)break;u.tag===5&&p!==null&&(u=p,i?(g=d0(r,a),g!=null&&l.unshift(v0(r,g,u))):i||(g=d0(r,a),g!=null&&l.push(v0(r,g,u)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var ak=/\r\n?/g,ok=/\u0000|\uFFFD/g;function k2(e){return(typeof e=="string"?e:""+e).replace(ak,`
`).replace(ok,"")}function Lu(e,t,r){if(t=k2(t),k2(e)!==t&&r)throw Error(Pe(425))}function kf(){}var J1=null,eg=null;function tg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rg=typeof setTimeout=="function"?setTimeout:void 0,lk=typeof clearTimeout=="function"?clearTimeout:void 0,b2=typeof Promise=="function"?Promise:void 0,ck=typeof queueMicrotask=="function"?queueMicrotask:typeof b2<"u"?function(e){return b2.resolve(null).then(e).catch(uk)}:rg;function uk(e){setTimeout(function(){throw e})}function $h(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),p0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);p0(t)}function Ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function I2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kl=Math.random().toString(36).slice(2),ws="__reactFiber$"+Kl,y0="__reactProps$"+Kl,Ws="__reactContainer$"+Kl,ng="__reactEvents$"+Kl,fk="__reactListeners$"+Kl,dk="__reactHandles$"+Kl;function no(e){var t=e[ws];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ws]||r[ws]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=I2(e);e!==null;){if(r=e[ws])return r;e=I2(e)}return t}e=r,r=e.parentNode}return null}function Q0(e){return e=e[ws]||e[Ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function al(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function Bd(e){return e[y0]||null}var ig=[],ol=-1;function Ha(e){return{current:e}}function dr(e){0>ol||(e.current=ig[ol],ig[ol]=null,ol--)}function sr(e,t){ol++,ig[ol]=e.current,e.current=t}var Fa={},In=Ha(Fa),ii=Ha(!1),xo=Fa;function Nl(e,t){var r=e.type.contextTypes;if(!r)return Fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function si(e){return e=e.childContextTypes,e!=null}function bf(){dr(ii),dr(In)}function R2(e,t,r){if(In.current!==Fa)throw Error(Pe(168));sr(In,t),sr(ii,r)}function tE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Pe(108,qT(e)||"Unknown",i));return yr({},r,n)}function If(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fa,xo=In.current,sr(In,e),sr(ii,ii.current),!0}function N2(e,t,r){var n=e.stateNode;if(!n)throw Error(Pe(169));r?(e=tE(e,t,xo),n.__reactInternalMemoizedMergedChildContext=e,dr(ii),dr(In),sr(In,e)):dr(ii),sr(ii,r)}var Rs=null,Ld=!1,Yh=!1;function rE(e){Rs===null?Rs=[e]:Rs.push(e)}function hk(e){Ld=!0,rE(e)}function Va(){if(!Yh&&Rs!==null){Yh=!0;var e=0,t=Xt;try{var r=Rs;for(Xt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rs=null,Ld=!1}catch(i){throw Rs!==null&&(Rs=Rs.slice(e+1)),k_(_p,Va),i}finally{Xt=t,Yh=!1}}return null}var ll=[],cl=0,Rf=null,Nf=0,Oi=[],Di=0,mo=null,Ns=1,Os="";function Za(e,t){ll[cl++]=Nf,ll[cl++]=Rf,Rf=e,Nf=t}function nE(e,t,r){Oi[Di++]=Ns,Oi[Di++]=Os,Oi[Di++]=mo,mo=e;var n=Ns;e=Os;var i=32-rs(n)-1;n&=~(1<<i),r+=1;var a=32-rs(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Ns=1<<32-rs(t)+i|r<<i|n,Os=a+e}else Ns=1<<a|r<<i|n,Os=e}function Rp(e){e.return!==null&&(Za(e,1),nE(e,1,0))}function Np(e){for(;e===Rf;)Rf=ll[--cl],ll[cl]=null,Nf=ll[--cl],ll[cl]=null;for(;e===mo;)mo=Oi[--Di],Oi[Di]=null,Os=Oi[--Di],Oi[Di]=null,Ns=Oi[--Di],Oi[Di]=null}var xi=null,pi=null,xr=!1,qi=null;function iE(e,t){var r=Fi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function O2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,pi=Ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mo!==null?{id:Ns,overflow:Os}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xi=e,pi=null,!0):!1;default:return!1}}function sg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ag(e){if(xr){var t=pi;if(t){var r=t;if(!O2(e,t)){if(sg(e))throw Error(Pe(418));t=Ea(r.nextSibling);var n=xi;t&&O2(e,t)?iE(n,r):(e.flags=e.flags&-4097|2,xr=!1,xi=e)}}else{if(sg(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,xr=!1,xi=e}}}function D2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function Uu(e){if(e!==xi)return!1;if(!xr)return D2(e),xr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tg(e.type,e.memoizedProps)),t&&(t=pi)){if(sg(e))throw sE(),Error(Pe(418));for(;t;)iE(e,t),t=Ea(t.nextSibling)}if(D2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pi=Ea(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pi=null}}else pi=xi?Ea(e.stateNode.nextSibling):null;return!0}function sE(){for(var e=pi;e;)e=Ea(e.nextSibling)}function Ol(){pi=xi=null,xr=!1}function Op(e){qi===null?qi=[e]:qi.push(e)}var gk=Ys.ReactCurrentBatchConfig;function Ec(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Pe(309));var n=r.stateNode}if(!n)throw Error(Pe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var u=i.refs;l===null?delete u[a]:u[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(Pe(284));if(!r._owner)throw Error(Pe(290,e))}return e}function ju(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function F2(e){var t=e._init;return t(e._payload)}function aE(e){function t(I,b){if(e){var S=I.deletions;S===null?(I.deletions=[b],I.flags|=16):S.push(b)}}function r(I,b){if(!e)return null;for(;b!==null;)t(I,b),b=b.sibling;return null}function n(I,b){for(I=new Map;b!==null;)b.key!==null?I.set(b.key,b):I.set(b.index,b),b=b.sibling;return I}function i(I,b){return I=Ta(I,b),I.index=0,I.sibling=null,I}function a(I,b,S){return I.index=S,e?(S=I.alternate,S!==null?(S=S.index,S<b?(I.flags|=2,b):S):(I.flags|=2,b)):(I.flags|=1048576,b)}function l(I){return e&&I.alternate===null&&(I.flags|=2),I}function u(I,b,S,L){return b===null||b.tag!==6?(b=t1(S,I.mode,L),b.return=I,b):(b=i(b,S),b.return=I,b)}function g(I,b,S,L){var q=S.type;return q===rl?m(I,b,S.props.children,L,S.key):b!==null&&(b.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===aa&&F2(q)===b.type)?(L=i(b,S.props),L.ref=Ec(I,b,S),L.return=I,L):(L=xf(S.type,S.key,S.props,null,I.mode,L),L.ref=Ec(I,b,S),L.return=I,L)}function p(I,b,S,L){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=r1(S,I.mode,L),b.return=I,b):(b=i(b,S.children||[]),b.return=I,b)}function m(I,b,S,L,q){return b===null||b.tag!==7?(b=fo(S,I.mode,L,q),b.return=I,b):(b=i(b,S),b.return=I,b)}function v(I,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=t1(""+b,I.mode,S),b.return=I,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Iu:return S=xf(b.type,b.key,b.props,null,I.mode,S),S.ref=Ec(I,null,b),S.return=I,S;case tl:return b=r1(b,I.mode,S),b.return=I,b;case aa:var L=b._init;return v(I,L(b._payload),S)}if(Rc(b)||mc(b))return b=fo(b,I.mode,S,null),b.return=I,b;ju(I,b)}return null}function _(I,b,S,L){var q=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return q!==null?null:u(I,b,""+S,L);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Iu:return S.key===q?g(I,b,S,L):null;case tl:return S.key===q?p(I,b,S,L):null;case aa:return q=S._init,_(I,b,q(S._payload),L)}if(Rc(S)||mc(S))return q!==null?null:m(I,b,S,L,null);ju(I,S)}return null}function E(I,b,S,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return I=I.get(S)||null,u(b,I,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Iu:return I=I.get(L.key===null?S:L.key)||null,g(b,I,L,q);case tl:return I=I.get(L.key===null?S:L.key)||null,p(b,I,L,q);case aa:var X=L._init;return E(I,b,S,X(L._payload),q)}if(Rc(L)||mc(L))return I=I.get(S)||null,m(b,I,L,q,null);ju(b,L)}return null}function A(I,b,S,L){for(var q=null,X=null,F=b,Z=b=0,W=null;F!==null&&Z<S.length;Z++){F.index>Z?(W=F,F=null):W=F.sibling;var le=_(I,F,S[Z],L);if(le===null){F===null&&(F=W);break}e&&F&&le.alternate===null&&t(I,F),b=a(le,b,Z),X===null?q=le:X.sibling=le,X=le,F=W}if(Z===S.length)return r(I,F),xr&&Za(I,Z),q;if(F===null){for(;Z<S.length;Z++)F=v(I,S[Z],L),F!==null&&(b=a(F,b,Z),X===null?q=F:X.sibling=F,X=F);return xr&&Za(I,Z),q}for(F=n(I,F);Z<S.length;Z++)W=E(F,I,Z,S[Z],L),W!==null&&(e&&W.alternate!==null&&F.delete(W.key===null?Z:W.key),b=a(W,b,Z),X===null?q=W:X.sibling=W,X=W);return e&&F.forEach(function(oe){return t(I,oe)}),xr&&Za(I,Z),q}function C(I,b,S,L){var q=mc(S);if(typeof q!="function")throw Error(Pe(150));if(S=q.call(S),S==null)throw Error(Pe(151));for(var X=q=null,F=b,Z=b=0,W=null,le=S.next();F!==null&&!le.done;Z++,le=S.next()){F.index>Z?(W=F,F=null):W=F.sibling;var oe=_(I,F,le.value,L);if(oe===null){F===null&&(F=W);break}e&&F&&oe.alternate===null&&t(I,F),b=a(oe,b,Z),X===null?q=oe:X.sibling=oe,X=oe,F=W}if(le.done)return r(I,F),xr&&Za(I,Z),q;if(F===null){for(;!le.done;Z++,le=S.next())le=v(I,le.value,L),le!==null&&(b=a(le,b,Z),X===null?q=le:X.sibling=le,X=le);return xr&&Za(I,Z),q}for(F=n(I,F);!le.done;Z++,le=S.next())le=E(F,I,Z,le.value,L),le!==null&&(e&&le.alternate!==null&&F.delete(le.key===null?Z:le.key),b=a(le,b,Z),X===null?q=le:X.sibling=le,X=le);return e&&F.forEach(function(J){return t(I,J)}),xr&&Za(I,Z),q}function R(I,b,S,L){if(typeof S=="object"&&S!==null&&S.type===rl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Iu:e:{for(var q=S.key,X=b;X!==null;){if(X.key===q){if(q=S.type,q===rl){if(X.tag===7){r(I,X.sibling),b=i(X,S.props.children),b.return=I,I=b;break e}}else if(X.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===aa&&F2(q)===X.type){r(I,X.sibling),b=i(X,S.props),b.ref=Ec(I,X,S),b.return=I,I=b;break e}r(I,X);break}else t(I,X);X=X.sibling}S.type===rl?(b=fo(S.props.children,I.mode,L,S.key),b.return=I,I=b):(L=xf(S.type,S.key,S.props,null,I.mode,L),L.ref=Ec(I,b,S),L.return=I,I=L)}return l(I);case tl:e:{for(X=S.key;b!==null;){if(b.key===X)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){r(I,b.sibling),b=i(b,S.children||[]),b.return=I,I=b;break e}else{r(I,b);break}else t(I,b);b=b.sibling}b=r1(S,I.mode,L),b.return=I,I=b}return l(I);case aa:return X=S._init,R(I,b,X(S._payload),L)}if(Rc(S))return A(I,b,S,L);if(mc(S))return C(I,b,S,L);ju(I,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(r(I,b.sibling),b=i(b,S),b.return=I,I=b):(r(I,b),b=t1(S,I.mode,L),b.return=I,I=b),l(I)):r(I,b)}return R}var Dl=aE(!0),oE=aE(!1),Of=Ha(null),Df=null,ul=null,Dp=null;function Fp(){Dp=ul=Df=null}function Pp(e){var t=Of.current;dr(Of),e._currentValue=t}function og(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _l(e,t){Df=e,Dp=ul=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ri=!0),e.firstContext=null)}function Bi(e){var t=e._currentValue;if(Dp!==e)if(e={context:e,memoizedValue:t,next:null},ul===null){if(Df===null)throw Error(Pe(308));ul=e,Df.dependencies={lanes:0,firstContext:e}}else ul=ul.next=e;return t}var io=null;function Mp(e){io===null?io=[e]:io.push(e)}function lE(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Mp(t)):(r.next=i.next,i.next=r),t.interleaved=r,Hs(e,n)}function Hs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oa=!1;function Bp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ut&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Hs(e,r)}return i=n.interleaved,i===null?(t.next=t,Mp(n)):(t.next=i.next,i.next=t),n.interleaved=t,Hs(e,r)}function uf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ep(e,r)}}function P2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ff(e,t,r,n){var i=e.updateQueue;oa=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var g=u,p=g.next;g.next=null,l===null?a=p:l.next=p,l=g;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=p:u.next=p,m.lastBaseUpdate=g))}if(a!==null){var v=i.baseState;l=0,m=p=g=null,u=a;do{var _=u.lane,E=u.eventTime;if((n&_)===_){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,C=u;switch(_=t,E=r,C.tag){case 1:if(A=C.payload,typeof A=="function"){v=A.call(E,v,_);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,_=typeof A=="function"?A.call(E,v,_):A,_==null)break e;v=yr({},v,_);break e;case 2:oa=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else E={eventTime:E,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(p=m=E,g=v):m=m.next=E,l|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(g=v),i.baseState=g,i.firstBaseUpdate=p,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);vo|=l,e.lanes=l,e.memoizedState=v}}function M2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Pe(191,i));i.call(n)}}}var J0={},ys=Ha(J0),_0=Ha(J0),E0=Ha(J0);function so(e){if(e===J0)throw Error(Pe(174));return e}function Lp(e,t){switch(sr(E0,t),sr(_0,e),sr(ys,J0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:W1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=W1(t,e)}dr(ys),sr(ys,t)}function Fl(){dr(ys),dr(_0),dr(E0)}function uE(e){so(E0.current);var t=so(ys.current),r=W1(t,e.type);t!==r&&(sr(_0,e),sr(ys,r))}function Up(e){_0.current===e&&(dr(ys),dr(_0))}var wr=Ha(0);function Pf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kh=[];function jp(){for(var e=0;e<Kh.length;e++)Kh[e]._workInProgressVersionPrimary=null;Kh.length=0}var ff=Ys.ReactCurrentDispatcher,qh=Ys.ReactCurrentBatchConfig,wo=0,vr=null,Gr=null,rn=null,Mf=!1,Vc=!1,C0=0,pk=0;function _n(){throw Error(Pe(321))}function Wp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!as(e[r],t[r]))return!1;return!0}function Hp(e,t,r,n,i,a){if(wo=a,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ff.current=e===null||e.memoizedState===null?vk:yk,e=r(n,i),Vc){a=0;do{if(Vc=!1,C0=0,25<=a)throw Error(Pe(301));a+=1,rn=Gr=null,t.updateQueue=null,ff.current=_k,e=r(n,i)}while(Vc)}if(ff.current=Bf,t=Gr!==null&&Gr.next!==null,wo=0,rn=Gr=vr=null,Mf=!1,t)throw Error(Pe(300));return e}function Vp(){var e=C0!==0;return C0=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?vr.memoizedState=rn=e:rn=rn.next=e,rn}function Li(){if(Gr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Gr.next;var t=rn===null?vr.memoizedState:rn.next;if(t!==null)rn=t,Gr=e;else{if(e===null)throw Error(Pe(310));Gr=e,e={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},rn===null?vr.memoizedState=rn=e:rn=rn.next=e}return rn}function A0(e,t){return typeof t=="function"?t(e):t}function Zh(e){var t=Li(),r=t.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=e;var n=Gr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var u=l=null,g=null,p=a;do{var m=p.lane;if((wo&m)===m)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var v={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(u=g=v,l=n):g=g.next=v,vr.lanes|=m,vo|=m}p=p.next}while(p!==null&&p!==a);g===null?l=n:g.next=u,as(n,t.memoizedState)||(ri=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=g,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,vr.lanes|=a,vo|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qh(e){var t=Li(),r=t.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);as(a,t.memoizedState)||(ri=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function fE(){}function dE(e,t){var r=vr,n=Li(),i=t(),a=!as(n.memoizedState,i);if(a&&(n.memoizedState=i,ri=!0),n=n.queue,zp(pE.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||rn!==null&&rn.memoizedState.tag&1){if(r.flags|=2048,S0(9,gE.bind(null,r,n,i,t),void 0,null),sn===null)throw Error(Pe(349));wo&30||hE(r,t,i)}return i}function hE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gE(e,t,r,n){t.value=r,t.getSnapshot=n,xE(t)&&mE(e)}function pE(e,t,r){return r(function(){xE(t)&&mE(e)})}function xE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!as(e,r)}catch{return!0}}function mE(e){var t=Hs(e,1);t!==null&&ns(t,e,1,-1)}function B2(e){var t=xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:e},t.queue=e,e=e.dispatch=wk.bind(null,vr,e),[t.memoizedState,e]}function S0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function wE(){return Li().memoizedState}function df(e,t,r,n){var i=xs();vr.flags|=e,i.memoizedState=S0(1|t,r,void 0,n===void 0?null:n)}function Ud(e,t,r,n){var i=Li();n=n===void 0?null:n;var a=void 0;if(Gr!==null){var l=Gr.memoizedState;if(a=l.destroy,n!==null&&Wp(n,l.deps)){i.memoizedState=S0(t,r,a,n);return}}vr.flags|=e,i.memoizedState=S0(1|t,r,a,n)}function L2(e,t){return df(8390656,8,e,t)}function zp(e,t){return Ud(2048,8,e,t)}function vE(e,t){return Ud(4,2,e,t)}function yE(e,t){return Ud(4,4,e,t)}function _E(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function EE(e,t,r){return r=r!=null?r.concat([e]):null,Ud(4,4,_E.bind(null,t,e),r)}function Gp(){}function CE(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function AE(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function SE(e,t,r){return wo&21?(as(r,t)||(r=R_(),vr.lanes|=r,vo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ri=!0),e.memoizedState=r)}function xk(e,t){var r=Xt;Xt=r!==0&&4>r?r:4,e(!0);var n=qh.transition;qh.transition={};try{e(!1),t()}finally{Xt=r,qh.transition=n}}function TE(){return Li().memoizedState}function mk(e,t,r){var n=Sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kE(e))bE(t,r);else if(r=lE(e,t,r,n),r!==null){var i=Wn();ns(r,e,n,i),IE(r,t,n)}}function wk(e,t,r){var n=Sa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kE(e))bE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,u=a(l,r);if(i.hasEagerState=!0,i.eagerState=u,as(u,l)){var g=t.interleaved;g===null?(i.next=i,Mp(t)):(i.next=g.next,g.next=i),t.interleaved=i;return}}catch{}finally{}r=lE(e,t,i,n),r!==null&&(i=Wn(),ns(r,e,n,i),IE(r,t,n))}}function kE(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function bE(e,t){Vc=Mf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function IE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ep(e,r)}}var Bf={readContext:Bi,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},vk={readContext:Bi,useCallback:function(e,t){return xs().memoizedState=[e,t===void 0?null:t],e},useContext:Bi,useEffect:L2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,df(4194308,4,_E.bind(null,t,e),r)},useLayoutEffect:function(e,t){return df(4194308,4,e,t)},useInsertionEffect:function(e,t){return df(4,2,e,t)},useMemo:function(e,t){var r=xs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=mk.bind(null,vr,e),[n.memoizedState,e]},useRef:function(e){var t=xs();return e={current:e},t.memoizedState=e},useState:B2,useDebugValue:Gp,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=B2(!1),t=e[0];return e=xk.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vr,i=xs();if(xr){if(r===void 0)throw Error(Pe(407));r=r()}else{if(r=t(),sn===null)throw Error(Pe(349));wo&30||hE(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,L2(pE.bind(null,n,a,e),[e]),n.flags|=2048,S0(9,gE.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=xs(),t=sn.identifierPrefix;if(xr){var r=Os,n=Ns;r=(n&~(1<<32-rs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=C0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yk={readContext:Bi,useCallback:CE,useContext:Bi,useEffect:zp,useImperativeHandle:EE,useInsertionEffect:vE,useLayoutEffect:yE,useMemo:AE,useReducer:Zh,useRef:wE,useState:function(){return Zh(A0)},useDebugValue:Gp,useDeferredValue:function(e){var t=Li();return SE(t,Gr.memoizedState,e)},useTransition:function(){var e=Zh(A0)[0],t=Li().memoizedState;return[e,t]},useMutableSource:fE,useSyncExternalStore:dE,useId:TE,unstable_isNewReconciler:!1},_k={readContext:Bi,useCallback:CE,useContext:Bi,useEffect:zp,useImperativeHandle:EE,useInsertionEffect:vE,useLayoutEffect:yE,useMemo:AE,useReducer:Qh,useRef:wE,useState:function(){return Qh(A0)},useDebugValue:Gp,useDeferredValue:function(e){var t=Li();return Gr===null?t.memoizedState=e:SE(t,Gr.memoizedState,e)},useTransition:function(){var e=Qh(A0)[0],t=Li().memoizedState;return[e,t]},useMutableSource:fE,useSyncExternalStore:dE,useId:TE,unstable_isNewReconciler:!1};function Yi(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jd={isMounted:function(e){return(e=e._reactInternals)?No(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wn(),i=Sa(e),a=Ps(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,i),t!==null&&(ns(t,e,i,n),uf(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wn(),i=Sa(e),a=Ps(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,i),t!==null&&(ns(t,e,i,n),uf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wn(),n=Sa(e),i=Ps(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ca(e,i,n),t!==null&&(ns(t,e,n,r),uf(t,e,n))}};function U2(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!m0(r,n)||!m0(i,a):!0}function RE(e,t,r){var n=!1,i=Fa,a=t.contextType;return typeof a=="object"&&a!==null?a=Bi(a):(i=si(t)?xo:In.current,n=t.contextTypes,a=(n=n!=null)?Nl(e,i):Fa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function j2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jd.enqueueReplaceState(t,t.state,null)}function cg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Bp(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bi(a):(a=si(t)?xo:In.current,i.context=Nl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(lg(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jd.enqueueReplaceState(i,i.state,null),Ff(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Pl(e,t){try{var r="",n=t;do r+=KT(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Jh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ug(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ek=typeof WeakMap=="function"?WeakMap:Map;function NE(e,t,r){r=Ps(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Uf||(Uf=!0,yg=n),ug(e,t)},r}function OE(e,t,r){r=Ps(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ug(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ug(e,t),typeof n!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function W2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ek;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Mk.bind(null,e,t,r),t.then(e,e))}function H2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function V2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ps(-1,1),t.tag=2,Ca(r,t,1))),r.lanes|=1),e)}var Ck=Ys.ReactCurrentOwner,ri=!1;function Mn(e,t,r,n){t.child=e===null?oE(t,null,r,n):Dl(t,e.child,r,n)}function z2(e,t,r,n,i){r=r.render;var a=t.ref;return _l(t,i),n=Hp(e,t,r,n,a,i),r=Vp(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i)):(xr&&r&&Rp(t),t.flags|=1,Mn(e,t,n,i),t.child)}function G2(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Jp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,DE(e,t,a,n,i)):(e=xf(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:m0,r(l,n)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,e=Ta(a,n),e.ref=t.ref,e.return=t,t.child=e}function DE(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(m0(a,n)&&e.ref===t.ref)if(ri=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ri=!0);else return t.lanes=e.lanes,Vs(e,t,i)}return fg(e,t,r,n,i)}function FE(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(dl,di),di|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(dl,di),di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,sr(dl,di),di|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,sr(dl,di),di|=n;return Mn(e,t,i,r),t.child}function PE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fg(e,t,r,n,i){var a=si(r)?xo:In.current;return a=Nl(t,a),_l(t,i),r=Hp(e,t,r,n,a,i),n=Vp(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i)):(xr&&n&&Rp(t),t.flags|=1,Mn(e,t,r,i),t.child)}function X2(e,t,r,n,i){if(si(r)){var a=!0;If(t)}else a=!1;if(_l(t,i),t.stateNode===null)hf(e,t),RE(t,r,n),cg(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var g=l.context,p=r.contextType;typeof p=="object"&&p!==null?p=Bi(p):(p=si(r)?xo:In.current,p=Nl(t,p));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||g!==p)&&j2(t,l,n,p),oa=!1;var _=t.memoizedState;l.state=_,Ff(t,n,l,i),g=t.memoizedState,u!==n||_!==g||ii.current||oa?(typeof m=="function"&&(lg(t,r,m,n),g=t.memoizedState),(u=oa||U2(t,r,u,n,_,g,p))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=p,n=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,cE(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:Yi(t.type,u),l.props=p,v=t.pendingProps,_=l.context,g=r.contextType,typeof g=="object"&&g!==null?g=Bi(g):(g=si(r)?xo:In.current,g=Nl(t,g));var E=r.getDerivedStateFromProps;(m=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==v||_!==g)&&j2(t,l,n,g),oa=!1,_=t.memoizedState,l.state=_,Ff(t,n,l,i);var A=t.memoizedState;u!==v||_!==A||ii.current||oa?(typeof E=="function"&&(lg(t,r,E,n),A=t.memoizedState),(p=oa||U2(t,r,p,n,_,A,g)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,A,g),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,A,g)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),l.props=n,l.state=A,l.context=g,n=p):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),n=!1)}return dg(e,t,r,n,a,i)}function dg(e,t,r,n,i,a){PE(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&N2(t,r,!1),Vs(e,t,a);n=t.stateNode,Ck.current=t;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Dl(t,e.child,null,a),t.child=Dl(t,null,u,a)):Mn(e,t,u,a),t.memoizedState=n.state,i&&N2(t,r,!0),t.child}function ME(e){var t=e.stateNode;t.pendingContext?R2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&R2(e,t.context,!1),Lp(e,t.containerInfo)}function $2(e,t,r,n,i){return Ol(),Op(i),t.flags|=256,Mn(e,t,r,n),t.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function gg(e){return{baseLanes:e,cachePool:null,transitions:null}}function BE(e,t,r){var n=t.pendingProps,i=wr.current,a=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sr(wr,i&1),e===null)return ag(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Vd(l,n,0,null),e=fo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=gg(r),t.memoizedState=hg,e):Xp(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Ak(e,t,l,n,u,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,u=i.sibling;var g={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=g,t.deletions=null):(n=Ta(i,g),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=Ta(u,a):(a=fo(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?gg(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=hg,n}return a=e.child,e=a.sibling,n=Ta(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Xp(e,t){return t=Vd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wu(e,t,r,n){return n!==null&&Op(n),Dl(t,e.child,null,r),e=Xp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ak(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=Jh(Error(Pe(422))),Wu(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Vd({mode:"visible",children:n.children},i,0,null),a=fo(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Dl(t,e.child,null,l),t.child.memoizedState=gg(l),t.memoizedState=hg,a);if(!(t.mode&1))return Wu(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,a=Error(Pe(419)),n=Jh(a,n,void 0),Wu(e,t,l,n)}if(u=(l&e.childLanes)!==0,ri||u){if(n=sn,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Hs(e,i),ns(n,e,i,-1))}return Qp(),n=Jh(Error(Pe(421))),Wu(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Bk.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pi=Ea(i.nextSibling),xi=t,xr=!0,qi=null,e!==null&&(Oi[Di++]=Ns,Oi[Di++]=Os,Oi[Di++]=mo,Ns=e.id,Os=e.overflow,mo=t),t=Xp(t,n.children),t.flags|=4096,t)}function Y2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),og(e.return,t,r)}function e1(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function LE(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Mn(e,t,n.children,r),n=wr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Y2(e,r,t);else if(e.tag===19)Y2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(sr(wr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Pf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),e1(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}e1(t,!0,r,null,a);break;case"together":e1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,r=Ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sk(e,t,r){switch(t.tag){case 3:ME(t),Ol();break;case 5:uE(t);break;case 1:si(t.type)&&If(t);break;case 4:Lp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;sr(Of,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(sr(wr,wr.current&1),t.flags|=128,null):r&t.child.childLanes?BE(e,t,r):(sr(wr,wr.current&1),e=Vs(e,t,r),e!==null?e.sibling:null);sr(wr,wr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return LE(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sr(wr,wr.current),n)break;return null;case 22:case 23:return t.lanes=0,FE(e,t,r)}return Vs(e,t,r)}var UE,pg,jE,WE;UE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pg=function(){};jE=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,so(ys.current);var a=null;switch(r){case"input":i=B1(e,i),n=B1(e,n),a=[];break;case"select":i=yr({},i,{value:void 0}),n=yr({},n,{value:void 0}),a=[];break;case"textarea":i=j1(e,i),n=j1(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=kf)}H1(r,n);var l;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(u0.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var g=n[p];if(u=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&g!==u&&(g!=null||u!=null))if(p==="style")if(u){for(l in u)!u.hasOwnProperty(l)||g&&g.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in g)g.hasOwnProperty(l)&&u[l]!==g[l]&&(r||(r={}),r[l]=g[l])}else r||(a||(a=[]),a.push(p,r)),r=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,u=u?u.__html:void 0,g!=null&&u!==g&&(a=a||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(u0.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&ur("scroll",e),a||u===g||(a=[])):(a=a||[]).push(p,g))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};WE=function(e,t,r,n){r!==n&&(t.flags|=4)};function Cc(e,t){if(!xr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function En(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Tk(e,t,r){var n=t.pendingProps;switch(Np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return si(t.type)&&bf(),En(t),null;case 3:return n=t.stateNode,Fl(),dr(ii),dr(In),jp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Uu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qi!==null&&(Cg(qi),qi=null))),pg(e,t),En(t),null;case 5:Up(t);var i=so(E0.current);if(r=t.type,e!==null&&t.stateNode!=null)jE(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Pe(166));return En(t),null}if(e=so(ys.current),Uu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ws]=t,n[y0]=a,e=(t.mode&1)!==0,r){case"dialog":ur("cancel",n),ur("close",n);break;case"iframe":case"object":case"embed":ur("load",n);break;case"video":case"audio":for(i=0;i<Oc.length;i++)ur(Oc[i],n);break;case"source":ur("error",n);break;case"img":case"image":case"link":ur("error",n),ur("load",n);break;case"details":ur("toggle",n);break;case"input":n2(n,a),ur("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ur("invalid",n);break;case"textarea":s2(n,a),ur("invalid",n)}H1(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="children"?typeof u=="string"?n.textContent!==u&&(a.suppressHydrationWarning!==!0&&Lu(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Lu(n.textContent,u,e),i=["children",""+u]):u0.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ur("scroll",n)}switch(r){case"input":Ru(n),i2(n,a,!0);break;case"textarea":Ru(n),a2(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=kf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=p_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ws]=t,e[y0]=n,UE(e,t,!1,!1),t.stateNode=e;e:{switch(l=V1(r,n),r){case"dialog":ur("cancel",e),ur("close",e),i=n;break;case"iframe":case"object":case"embed":ur("load",e),i=n;break;case"video":case"audio":for(i=0;i<Oc.length;i++)ur(Oc[i],e);i=n;break;case"source":ur("error",e),i=n;break;case"img":case"image":case"link":ur("error",e),ur("load",e),i=n;break;case"details":ur("toggle",e),i=n;break;case"input":n2(e,n),i=B1(e,n),ur("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=yr({},n,{value:void 0}),ur("invalid",e);break;case"textarea":s2(e,n),i=j1(e,n),ur("invalid",e);break;default:i=n}H1(r,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var g=u[a];a==="style"?w_(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&x_(e,g)):a==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&f0(e,g):typeof g=="number"&&f0(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(u0.hasOwnProperty(a)?g!=null&&a==="onScroll"&&ur("scroll",e):g!=null&&xp(e,a,g,l))}switch(r){case"input":Ru(e),i2(e,n,!1);break;case"textarea":Ru(e),a2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Da(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ml(e,!!n.multiple,a,!1):n.defaultValue!=null&&ml(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(e&&t.stateNode!=null)WE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Pe(166));if(r=so(E0.current),so(ys.current),Uu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ws]=t,(a=n.nodeValue!==r)&&(e=xi,e!==null))switch(e.tag){case 3:Lu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Lu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ws]=t,t.stateNode=n}return En(t),null;case 13:if(dr(wr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xr&&pi!==null&&t.mode&1&&!(t.flags&128))sE(),Ol(),t.flags|=98560,a=!1;else if(a=Uu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Pe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Pe(317));a[ws]=t}else Ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),a=!1}else qi!==null&&(Cg(qi),qi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wr.current&1?Yr===0&&(Yr=3):Qp())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return Fl(),pg(e,t),e===null&&w0(t.stateNode.containerInfo),En(t),null;case 10:return Pp(t.type._context),En(t),null;case 17:return si(t.type)&&bf(),En(t),null;case 19:if(dr(wr),a=t.memoizedState,a===null)return En(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)Cc(a,!1);else{if(Yr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Pf(e),l!==null){for(t.flags|=128,Cc(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return sr(wr,wr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Nr()>Ml&&(t.flags|=128,n=!0,Cc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Pf(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!xr)return En(t),null}else 2*Nr()-a.renderingStartTime>Ml&&r!==1073741824&&(t.flags|=128,n=!0,Cc(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Nr(),t.sibling=null,r=wr.current,sr(wr,n?r&1|2:r&1),t):(En(t),null);case 22:case 23:return Zp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?di&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function kk(e,t){switch(Np(t),t.tag){case 1:return si(t.type)&&bf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fl(),dr(ii),dr(In),jp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Up(t),null;case 13:if(dr(wr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));Ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dr(wr),null;case 4:return Fl(),null;case 10:return Pp(t.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var Hu=!1,Sn=!1,bk=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function fl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Cr(e,t,n)}else r.current=null}function xg(e,t,r){try{r()}catch(n){Cr(e,t,n)}}var K2=!1;function Ik(e,t){if(J1=Af,e=X_(),Ip(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,u=-1,g=-1,p=0,m=0,v=e,_=null;t:for(;;){for(var E;v!==r||i!==0&&v.nodeType!==3||(u=l+i),v!==a||n!==0&&v.nodeType!==3||(g=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(E=v.firstChild)!==null;)_=v,v=E;for(;;){if(v===e)break t;if(_===r&&++p===i&&(u=l),_===a&&++m===n&&(g=l),(E=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=E}r=u===-1||g===-1?null:{start:u,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(eg={focusedElem:e,selectionRange:r},Af=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,R=A.memoizedState,I=t.stateNode,b=I.getSnapshotBeforeUpdate(t.elementType===t.type?C:Yi(t.type,C),R);I.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(L){Cr(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return A=K2,K2=!1,A}function zc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&xg(t,r,a)}i=i.next}while(i!==n)}}function Wd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function HE(e){var t=e.alternate;t!==null&&(e.alternate=null,HE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ws],delete t[y0],delete t[ng],delete t[fk],delete t[dk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function VE(e){return e.tag===5||e.tag===3||e.tag===4}function q2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||VE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=kf));else if(n!==4&&(e=e.child,e!==null))for(wg(e,t,r),e=e.sibling;e!==null;)wg(e,t,r),e=e.sibling}function vg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vg(e,t,r),e=e.sibling;e!==null;)vg(e,t,r),e=e.sibling}var dn=null,Ki=!1;function ia(e,t,r){for(r=r.child;r!==null;)zE(e,t,r),r=r.sibling}function zE(e,t,r){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Dd,r)}catch{}switch(r.tag){case 5:Sn||fl(r,t);case 6:var n=dn,i=Ki;dn=null,ia(e,t,r),dn=n,Ki=i,dn!==null&&(Ki?(e=dn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dn.removeChild(r.stateNode));break;case 18:dn!==null&&(Ki?(e=dn,r=r.stateNode,e.nodeType===8?$h(e.parentNode,r):e.nodeType===1&&$h(e,r),p0(e)):$h(dn,r.stateNode));break;case 4:n=dn,i=Ki,dn=r.stateNode.containerInfo,Ki=!0,ia(e,t,r),dn=n,Ki=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&xg(r,t,l),i=i.next}while(i!==n)}ia(e,t,r);break;case 1:if(!Sn&&(fl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){Cr(r,t,u)}ia(e,t,r);break;case 21:ia(e,t,r);break;case 22:r.mode&1?(Sn=(n=Sn)||r.memoizedState!==null,ia(e,t,r),Sn=n):ia(e,t,r);break;default:ia(e,t,r)}}function Z2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bk),t.forEach(function(n){var i=Lk.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:dn=u.stateNode,Ki=!1;break e;case 3:dn=u.stateNode.containerInfo,Ki=!0;break e;case 4:dn=u.stateNode.containerInfo,Ki=!0;break e}u=u.return}if(dn===null)throw Error(Pe(160));zE(a,l,i),dn=null,Ki=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(p){Cr(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GE(t,e),t=t.sibling}function GE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gi(t,e),hs(e),n&4){try{zc(3,e,e.return),Wd(3,e)}catch(C){Cr(e,e.return,C)}try{zc(5,e,e.return)}catch(C){Cr(e,e.return,C)}}break;case 1:Gi(t,e),hs(e),n&512&&r!==null&&fl(r,r.return);break;case 5:if(Gi(t,e),hs(e),n&512&&r!==null&&fl(r,r.return),e.flags&32){var i=e.stateNode;try{f0(i,"")}catch(C){Cr(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,u=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&h_(i,a),V1(u,l);var p=V1(u,a);for(l=0;l<g.length;l+=2){var m=g[l],v=g[l+1];m==="style"?w_(i,v):m==="dangerouslySetInnerHTML"?x_(i,v):m==="children"?f0(i,v):xp(i,m,v,p)}switch(u){case"input":L1(i,a);break;case"textarea":g_(i,a);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?ml(i,!!a.multiple,E,!1):_!==!!a.multiple&&(a.defaultValue!=null?ml(i,!!a.multiple,a.defaultValue,!0):ml(i,!!a.multiple,a.multiple?[]:"",!1))}i[y0]=a}catch(C){Cr(e,e.return,C)}}break;case 6:if(Gi(t,e),hs(e),n&4){if(e.stateNode===null)throw Error(Pe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(C){Cr(e,e.return,C)}}break;case 3:if(Gi(t,e),hs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{p0(t.containerInfo)}catch(C){Cr(e,e.return,C)}break;case 4:Gi(t,e),hs(e);break;case 13:Gi(t,e),hs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Kp=Nr())),n&4&&Z2(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(Sn=(p=Sn)||m,Gi(t,e),Sn=p):Gi(t,e),hs(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!m&&e.mode&1)for(Ke=e,m=e.child;m!==null;){for(v=Ke=m;Ke!==null;){switch(_=Ke,E=_.child,_.tag){case 0:case 11:case 14:case 15:zc(4,_,_.return);break;case 1:fl(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){n=_,r=_.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(C){Cr(n,r,C)}}break;case 5:fl(_,_.return);break;case 22:if(_.memoizedState!==null){J2(v);continue}}E!==null?(E.return=_,Ke=E):J2(v)}m=m.sibling}e:for(m=null,v=e;;){if(v.tag===5){if(m===null){m=v;try{i=v.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=v.stateNode,g=v.memoizedProps.style,l=g!=null&&g.hasOwnProperty("display")?g.display:null,u.style.display=m_("display",l))}catch(C){Cr(e,e.return,C)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(C){Cr(e,e.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Gi(t,e),hs(e),n&4&&Z2(e);break;case 21:break;default:Gi(t,e),hs(e)}}function hs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(VE(r)){var n=r;break e}r=r.return}throw Error(Pe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(f0(i,""),n.flags&=-33);var a=q2(e);vg(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,u=q2(e);wg(e,u,l);break;default:throw Error(Pe(161))}}catch(g){Cr(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rk(e,t,r){Ke=e,XE(e)}function XE(e,t,r){for(var n=(e.mode&1)!==0;Ke!==null;){var i=Ke,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Hu;if(!l){var u=i.alternate,g=u!==null&&u.memoizedState!==null||Sn;u=Hu;var p=Sn;if(Hu=l,(Sn=g)&&!p)for(Ke=i;Ke!==null;)l=Ke,g=l.child,l.tag===22&&l.memoizedState!==null?ew(i):g!==null?(g.return=l,Ke=g):ew(i);for(;a!==null;)Ke=a,XE(a),a=a.sibling;Ke=i,Hu=u,Sn=p}Q2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ke=a):Q2(e)}}function Q2(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sn||Wd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Sn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Yi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&M2(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}M2(t,l,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&p0(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Sn||t.flags&512&&mg(t)}catch(_){Cr(t,t.return,_)}}if(t===e){Ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function J2(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function ew(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Wd(4,t)}catch(g){Cr(t,r,g)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(g){Cr(t,i,g)}}var a=t.return;try{mg(t)}catch(g){Cr(t,a,g)}break;case 5:var l=t.return;try{mg(t)}catch(g){Cr(t,l,g)}}}catch(g){Cr(t,t.return,g)}if(t===e){Ke=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ke=u;break}Ke=t.return}}var Nk=Math.ceil,Lf=Ys.ReactCurrentDispatcher,$p=Ys.ReactCurrentOwner,Mi=Ys.ReactCurrentBatchConfig,Ut=0,sn=null,jr=null,pn=0,di=0,dl=Ha(0),Yr=0,T0=null,vo=0,Hd=0,Yp=0,Gc=null,ei=null,Kp=0,Ml=1/0,Is=null,Uf=!1,yg=null,Aa=null,Vu=!1,da=null,jf=0,Xc=0,_g=null,gf=-1,pf=0;function Wn(){return Ut&6?Nr():gf!==-1?gf:gf=Nr()}function Sa(e){return e.mode&1?Ut&2&&pn!==0?pn&-pn:gk.transition!==null?(pf===0&&(pf=R_()),pf):(e=Xt,e!==0||(e=window.event,e=e===void 0?16:B_(e.type)),e):1}function ns(e,t,r,n){if(50<Xc)throw Xc=0,_g=null,Error(Pe(185));q0(e,r,n),(!(Ut&2)||e!==sn)&&(e===sn&&(!(Ut&2)&&(Hd|=r),Yr===4&&ca(e,pn)),ai(e,n),r===1&&Ut===0&&!(t.mode&1)&&(Ml=Nr()+500,Ld&&Va()))}function ai(e,t){var r=e.callbackNode;g8(e,t);var n=Cf(e,e===sn?pn:0);if(n===0)r!==null&&c2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&c2(r),t===1)e.tag===0?hk(tw.bind(null,e)):rE(tw.bind(null,e)),ck(function(){!(Ut&6)&&Va()}),r=null;else{switch(N_(n)){case 1:r=_p;break;case 4:r=b_;break;case 16:r=Ef;break;case 536870912:r=I_;break;default:r=Ef}r=eC(r,$E.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $E(e,t){if(gf=-1,pf=0,Ut&6)throw Error(Pe(327));var r=e.callbackNode;if(El()&&e.callbackNode!==r)return null;var n=Cf(e,e===sn?pn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wf(e,n);else{t=n;var i=Ut;Ut|=2;var a=KE();(sn!==e||pn!==t)&&(Is=null,Ml=Nr()+500,uo(e,t));do try{Fk();break}catch(u){YE(e,u)}while(!0);Fp(),Lf.current=a,Ut=i,jr!==null?t=0:(sn=null,pn=0,t=Yr)}if(t!==0){if(t===2&&(i=Y1(e),i!==0&&(n=i,t=Eg(e,i))),t===1)throw r=T0,uo(e,0),ca(e,n),ai(e,Nr()),r;if(t===6)ca(e,n);else{if(i=e.current.alternate,!(n&30)&&!Ok(i)&&(t=Wf(e,n),t===2&&(a=Y1(e),a!==0&&(n=a,t=Eg(e,a))),t===1))throw r=T0,uo(e,0),ca(e,n),ai(e,Nr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Pe(345));case 2:Qa(e,ei,Is);break;case 3:if(ca(e,n),(n&130023424)===n&&(t=Kp+500-Nr(),10<t)){if(Cf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Wn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rg(Qa.bind(null,e,ei,Is),t);break}Qa(e,ei,Is);break;case 4:if(ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-rs(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nk(n/1960))-n,10<n){e.timeoutHandle=rg(Qa.bind(null,e,ei,Is),n);break}Qa(e,ei,Is);break;case 5:Qa(e,ei,Is);break;default:throw Error(Pe(329))}}}return ai(e,Nr()),e.callbackNode===r?$E.bind(null,e):null}function Eg(e,t){var r=Gc;return e.current.memoizedState.isDehydrated&&(uo(e,t).flags|=256),e=Wf(e,t),e!==2&&(t=ei,ei=r,t!==null&&Cg(t)),e}function Cg(e){ei===null?ei=e:ei.push.apply(ei,e)}function Ok(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!as(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t){for(t&=~Yp,t&=~Hd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rs(t),n=1<<r;e[r]=-1,t&=~n}}function tw(e){if(Ut&6)throw Error(Pe(327));El();var t=Cf(e,0);if(!(t&1))return ai(e,Nr()),null;var r=Wf(e,t);if(e.tag!==0&&r===2){var n=Y1(e);n!==0&&(t=n,r=Eg(e,n))}if(r===1)throw r=T0,uo(e,0),ca(e,t),ai(e,Nr()),r;if(r===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qa(e,ei,Is),ai(e,Nr()),null}function qp(e,t){var r=Ut;Ut|=1;try{return e(t)}finally{Ut=r,Ut===0&&(Ml=Nr()+500,Ld&&Va())}}function yo(e){da!==null&&da.tag===0&&!(Ut&6)&&El();var t=Ut;Ut|=1;var r=Mi.transition,n=Xt;try{if(Mi.transition=null,Xt=1,e)return e()}finally{Xt=n,Mi.transition=r,Ut=t,!(Ut&6)&&Va()}}function Zp(){di=dl.current,dr(dl)}function uo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lk(r)),jr!==null)for(r=jr.return;r!==null;){var n=r;switch(Np(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bf();break;case 3:Fl(),dr(ii),dr(In),jp();break;case 5:Up(n);break;case 4:Fl();break;case 13:dr(wr);break;case 19:dr(wr);break;case 10:Pp(n.type._context);break;case 22:case 23:Zp()}r=r.return}if(sn=e,jr=e=Ta(e.current,null),pn=di=t,Yr=0,T0=null,Yp=Hd=vo=0,ei=Gc=null,io!==null){for(t=0;t<io.length;t++)if(r=io[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}io=null}return e}function YE(e,t){do{var r=jr;try{if(Fp(),ff.current=Bf,Mf){for(var n=vr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Mf=!1}if(wo=0,rn=Gr=vr=null,Vc=!1,C0=0,$p.current=null,r===null||r.return===null){Yr=1,T0=t,jr=null;break}e:{var a=e,l=r.return,u=r,g=t;if(t=pn,u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,m=u,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=H2(l);if(E!==null){E.flags&=-257,V2(E,l,u,a,t),E.mode&1&&W2(a,p,t),t=E,g=p;var A=t.updateQueue;if(A===null){var C=new Set;C.add(g),t.updateQueue=C}else A.add(g);break e}else{if(!(t&1)){W2(a,p,t),Qp();break e}g=Error(Pe(426))}}else if(xr&&u.mode&1){var R=H2(l);if(R!==null){!(R.flags&65536)&&(R.flags|=256),V2(R,l,u,a,t),Op(Pl(g,u));break e}}a=g=Pl(g,u),Yr!==4&&(Yr=2),Gc===null?Gc=[a]:Gc.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=NE(a,g,t);P2(a,I);break e;case 1:u=g;var b=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Aa===null||!Aa.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var L=OE(a,u,t);P2(a,L);break e}}a=a.return}while(a!==null)}ZE(r)}catch(q){t=q,jr===r&&r!==null&&(jr=r=r.return);continue}break}while(!0)}function KE(){var e=Lf.current;return Lf.current=Bf,e===null?Bf:e}function Qp(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),sn===null||!(vo&268435455)&&!(Hd&268435455)||ca(sn,pn)}function Wf(e,t){var r=Ut;Ut|=2;var n=KE();(sn!==e||pn!==t)&&(Is=null,uo(e,t));do try{Dk();break}catch(i){YE(e,i)}while(!0);if(Fp(),Ut=r,Lf.current=n,jr!==null)throw Error(Pe(261));return sn=null,pn=0,Yr}function Dk(){for(;jr!==null;)qE(jr)}function Fk(){for(;jr!==null&&!s8();)qE(jr)}function qE(e){var t=JE(e.alternate,e,di);e.memoizedProps=e.pendingProps,t===null?ZE(e):jr=t,$p.current=null}function ZE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=kk(r,t),r!==null){r.flags&=32767,jr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yr=6,jr=null;return}}else if(r=Tk(r,t,di),r!==null){jr=r;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Yr===0&&(Yr=5)}function Qa(e,t,r){var n=Xt,i=Mi.transition;try{Mi.transition=null,Xt=1,Pk(e,t,r,n)}finally{Mi.transition=i,Xt=n}return null}function Pk(e,t,r,n){do El();while(da!==null);if(Ut&6)throw Error(Pe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(p8(e,a),e===sn&&(jr=sn=null,pn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vu||(Vu=!0,eC(Ef,function(){return El(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Mi.transition,Mi.transition=null;var l=Xt;Xt=1;var u=Ut;Ut|=4,$p.current=null,Ik(e,r),GE(r,e),tk(eg),Af=!!J1,eg=J1=null,e.current=r,Rk(r),a8(),Ut=u,Xt=l,Mi.transition=a}else e.current=r;if(Vu&&(Vu=!1,da=e,jf=i),a=e.pendingLanes,a===0&&(Aa=null),c8(r.stateNode),ai(e,Nr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uf)throw Uf=!1,e=yg,yg=null,e;return jf&1&&e.tag!==0&&El(),a=e.pendingLanes,a&1?e===_g?Xc++:(Xc=0,_g=e):Xc=0,Va(),null}function El(){if(da!==null){var e=N_(jf),t=Mi.transition,r=Xt;try{if(Mi.transition=null,Xt=16>e?16:e,da===null)var n=!1;else{if(e=da,da=null,jf=0,Ut&6)throw Error(Pe(331));var i=Ut;for(Ut|=4,Ke=e.current;Ke!==null;){var a=Ke,l=a.child;if(Ke.flags&16){var u=a.deletions;if(u!==null){for(var g=0;g<u.length;g++){var p=u[g];for(Ke=p;Ke!==null;){var m=Ke;switch(m.tag){case 0:case 11:case 15:zc(8,m,a)}var v=m.child;if(v!==null)v.return=m,Ke=v;else for(;Ke!==null;){m=Ke;var _=m.sibling,E=m.return;if(HE(m),m===p){Ke=null;break}if(_!==null){_.return=E,Ke=_;break}Ke=E}}}var A=a.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var R=C.sibling;C.sibling=null,C=R}while(C!==null)}}Ke=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Ke=l;else e:for(;Ke!==null;){if(a=Ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zc(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Ke=I;break e}Ke=a.return}}var b=e.current;for(Ke=b;Ke!==null;){l=Ke;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,Ke=S;else e:for(l=b;Ke!==null;){if(u=Ke,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Wd(9,u)}}catch(q){Cr(u,u.return,q)}if(u===l){Ke=null;break e}var L=u.sibling;if(L!==null){L.return=u.return,Ke=L;break e}Ke=u.return}}if(Ut=i,Va(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Dd,e)}catch{}n=!0}return n}finally{Xt=r,Mi.transition=t}}return!1}function rw(e,t,r){t=Pl(r,t),t=NE(e,t,1),e=Ca(e,t,1),t=Wn(),e!==null&&(q0(e,1,t),ai(e,t))}function Cr(e,t,r){if(e.tag===3)rw(e,e,r);else for(;t!==null;){if(t.tag===3){rw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Aa===null||!Aa.has(n))){e=Pl(r,e),e=OE(t,e,1),t=Ca(t,e,1),e=Wn(),t!==null&&(q0(t,1,e),ai(t,e));break}}t=t.return}}function Mk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&r,sn===e&&(pn&r)===r&&(Yr===4||Yr===3&&(pn&130023424)===pn&&500>Nr()-Kp?uo(e,0):Yp|=r),ai(e,t)}function QE(e,t){t===0&&(e.mode&1?(t=Du,Du<<=1,!(Du&130023424)&&(Du=4194304)):t=1);var r=Wn();e=Hs(e,t),e!==null&&(q0(e,t,r),ai(e,r))}function Bk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),QE(e,r)}function Lk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Pe(314))}n!==null&&n.delete(t),QE(e,r)}var JE;JE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ii.current)ri=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ri=!1,Sk(e,t,r);ri=!!(e.flags&131072)}else ri=!1,xr&&t.flags&1048576&&nE(t,Nf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hf(e,t),e=t.pendingProps;var i=Nl(t,In.current);_l(t,r),i=Hp(null,t,n,e,i,r);var a=Vp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,si(n)?(a=!0,If(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bp(t),i.updater=jd,t.stateNode=i,i._reactInternals=t,cg(t,n,e,r),t=dg(null,t,n,!0,a,r)):(t.tag=0,xr&&a&&Rp(t),Mn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=jk(n),e=Yi(n,e),i){case 0:t=fg(null,t,n,e,r);break e;case 1:t=X2(null,t,n,e,r);break e;case 11:t=z2(null,t,n,e,r);break e;case 14:t=G2(null,t,n,Yi(n.type,e),r);break e}throw Error(Pe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),fg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),X2(e,t,n,i,r);case 3:e:{if(ME(t),e===null)throw Error(Pe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,cE(e,t),Ff(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Pl(Error(Pe(423)),t),t=$2(e,t,n,r,i);break e}else if(n!==i){i=Pl(Error(Pe(424)),t),t=$2(e,t,n,r,i);break e}else for(pi=Ea(t.stateNode.containerInfo.firstChild),xi=t,xr=!0,qi=null,r=oE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ol(),n===i){t=Vs(e,t,r);break e}Mn(e,t,n,r)}t=t.child}return t;case 5:return uE(t),e===null&&ag(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,tg(n,i)?l=null:a!==null&&tg(n,a)&&(t.flags|=32),PE(e,t),Mn(e,t,l,r),t.child;case 6:return e===null&&ag(t),null;case 13:return BE(e,t,r);case 4:return Lp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Dl(t,null,n,r):Mn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),z2(e,t,n,i,r);case 7:return Mn(e,t,t.pendingProps,r),t.child;case 8:return Mn(e,t,t.pendingProps.children,r),t.child;case 12:return Mn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,sr(Of,n._currentValue),n._currentValue=l,a!==null)if(as(a.value,l)){if(a.children===i.children&&!ii.current){t=Vs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){l=a.child;for(var g=u.firstContext;g!==null;){if(g.context===n){if(a.tag===1){g=Ps(-1,r&-r),g.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?g.next=g:(g.next=m.next,m.next=g),p.pending=g}}a.lanes|=r,g=a.alternate,g!==null&&(g.lanes|=r),og(a.return,r,t),u.lanes|=r;break}g=g.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(Pe(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),og(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Mn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,_l(t,r),i=Bi(i),n=n(i),t.flags|=1,Mn(e,t,n,r),t.child;case 14:return n=t.type,i=Yi(n,t.pendingProps),i=Yi(n.type,i),G2(e,t,n,i,r);case 15:return DE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),hf(e,t),t.tag=1,si(n)?(e=!0,If(t)):e=!1,_l(t,r),RE(t,n,i),cg(t,n,i,r),dg(null,t,n,!0,e,r);case 19:return LE(e,t,r);case 22:return FE(e,t,r)}throw Error(Pe(156,t.tag))};function eC(e,t){return k_(e,t)}function Uk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,r,n){return new Uk(e,t,r,n)}function Jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jk(e){if(typeof e=="function")return Jp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wp)return 11;if(e===vp)return 14}return 2}function Ta(e,t){var r=e.alternate;return r===null?(r=Fi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xf(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")Jp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case rl:return fo(r.children,i,a,t);case mp:l=8,i|=8;break;case D1:return e=Fi(12,r,t,i|2),e.elementType=D1,e.lanes=a,e;case F1:return e=Fi(13,r,t,i),e.elementType=F1,e.lanes=a,e;case P1:return e=Fi(19,r,t,i),e.elementType=P1,e.lanes=a,e;case u_:return Vd(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case l_:l=10;break e;case c_:l=9;break e;case wp:l=11;break e;case vp:l=14;break e;case aa:l=16,n=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=Fi(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function fo(e,t,r,n){return e=Fi(7,e,n,t),e.lanes=r,e}function Vd(e,t,r,n){return e=Fi(22,e,n,t),e.elementType=u_,e.lanes=r,e.stateNode={isHidden:!1},e}function t1(e,t,r){return e=Fi(6,e,null,t),e.lanes=r,e}function r1(e,t,r){return t=Fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wk(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ex(e,t,r,n,i,a,l,u,g){return e=new Wk(e,t,r,u,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Fi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(a),e}function Hk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tC(e){if(!e)return Fa;e=e._reactInternals;e:{if(No(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(si(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var r=e.type;if(si(r))return tE(e,r,t)}return t}function rC(e,t,r,n,i,a,l,u,g){return e=ex(r,n,!0,e,i,a,l,u,g),e.context=tC(null),r=e.current,n=Wn(),i=Sa(r),a=Ps(n,i),a.callback=t??null,Ca(r,a,i),e.current.lanes=i,q0(e,i,n),ai(e,n),e}function zd(e,t,r,n){var i=t.current,a=Wn(),l=Sa(i);return r=tC(r),t.context===null?t.context=r:t.pendingContext=r,t=Ps(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ca(i,t,l),e!==null&&(ns(e,i,l,a),uf(e,i,l)),l}function Hf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function tx(e,t){nw(e,t),(e=e.alternate)&&nw(e,t)}function Vk(){return null}var nC=typeof reportError=="function"?reportError:function(e){console.error(e)};function rx(e){this._internalRoot=e}Gd.prototype.render=rx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));zd(e,t,null,null)};Gd.prototype.unmount=rx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yo(function(){zd(null,e,null,null)}),t[Ws]=null}};function Gd(e){this._internalRoot=e}Gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=F_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<la.length&&t!==0&&t<la[r].priority;r++);la.splice(r,0,e),r===0&&M_(e)}};function nx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iw(){}function zk(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var p=Hf(l);a.call(p)}}var l=rC(t,n,e,0,null,!1,!1,"",iw);return e._reactRootContainer=l,e[Ws]=l.current,w0(e.nodeType===8?e.parentNode:e),yo(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var p=Hf(g);u.call(p)}}var g=ex(e,0,!1,null,null,!1,!1,"",iw);return e._reactRootContainer=g,e[Ws]=g.current,w0(e.nodeType===8?e.parentNode:e),yo(function(){zd(t,g,r,n)}),g}function $d(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var u=i;i=function(){var g=Hf(l);u.call(g)}}zd(t,l,e,i)}else l=zk(r,t,e,i,n);return Hf(l)}O_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nc(t.pendingLanes);r!==0&&(Ep(t,r|1),ai(t,Nr()),!(Ut&6)&&(Ml=Nr()+500,Va()))}break;case 13:yo(function(){var n=Hs(e,1);if(n!==null){var i=Wn();ns(n,e,1,i)}}),tx(e,1)}};Cp=function(e){if(e.tag===13){var t=Hs(e,134217728);if(t!==null){var r=Wn();ns(t,e,134217728,r)}tx(e,134217728)}};D_=function(e){if(e.tag===13){var t=Sa(e),r=Hs(e,t);if(r!==null){var n=Wn();ns(r,e,t,n)}tx(e,t)}};F_=function(){return Xt};P_=function(e,t){var r=Xt;try{return Xt=e,t()}finally{Xt=r}};G1=function(e,t,r){switch(t){case"input":if(L1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Bd(n);if(!i)throw Error(Pe(90));d_(n),L1(n,i)}}}break;case"textarea":g_(e,r);break;case"select":t=r.value,t!=null&&ml(e,!!r.multiple,t,!1)}};__=qp;E_=yo;var Gk={usingClientEntryPoint:!1,Events:[Q0,al,Bd,v_,y_,qp]},Ac={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xk={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=S_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||Vk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Dd=zu.inject(Xk),vs=zu}catch{}}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;_i.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nx(t))throw Error(Pe(200));return Hk(e,t,null,r)};_i.createRoot=function(e,t){if(!nx(e))throw Error(Pe(299));var r=!1,n="",i=nC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ex(e,1,!1,null,null,r,!1,n,i),e[Ws]=t.current,w0(e.nodeType===8?e.parentNode:e),new rx(t)};_i.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=S_(t),e=e===null?null:e.stateNode,e};_i.flushSync=function(e){return yo(e)};_i.hydrate=function(e,t,r){if(!Xd(t))throw Error(Pe(200));return $d(null,e,t,!0,r)};_i.hydrateRoot=function(e,t,r){if(!nx(e))throw Error(Pe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=nC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=rC(t,null,e,1,r??null,i,!1,a,l),e[Ws]=t.current,w0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Gd(t)};_i.render=function(e,t,r){if(!Xd(t))throw Error(Pe(200));return $d(null,e,t,!1,r)};_i.unmountComponentAtNode=function(e){if(!Xd(e))throw Error(Pe(40));return e._reactRootContainer?(yo(function(){$d(null,null,e,!1,function(){e._reactRootContainer=null,e[Ws]=null})}),!0):!1};_i.unstable_batchedUpdates=qp;_i.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xd(r))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return $d(e,t,r,!1,n)};_i.version="18.3.1-next-f1338f8080-20240426";function iC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iC)}catch(e){console.error(e)}}iC(),i_.exports=_i;var $k=i_.exports,sw=$k;N1.createRoot=sw.createRoot,N1.hydrateRoot=sw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(this,arguments)}var ha;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ha||(ha={}));const aw="popstate";function Yk(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:u}=n.location;return Ag("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Vf(i)}return qk(t,r,null,e)}function Wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kk(){return Math.random().toString(36).substr(2,8)}function ow(e,t){return{usr:e.state,key:e.key,idx:t}}function Ag(e,t,r,n){return r===void 0&&(r=null),k0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ql(t):t,{state:r,key:t&&t.key||n||Kk()})}function Vf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ql(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qk(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,u=ha.Pop,g=null,p=m();p==null&&(p=0,l.replaceState(k0({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){u=ha.Pop;let R=m(),I=R==null?null:R-p;p=R,g&&g({action:u,location:C.location,delta:I})}function _(R,I){u=ha.Push;let b=Ag(C.location,R,I);p=m()+1;let S=ow(b,p),L=C.createHref(b);try{l.pushState(S,"",L)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(L)}a&&g&&g({action:u,location:C.location,delta:1})}function E(R,I){u=ha.Replace;let b=Ag(C.location,R,I);p=m();let S=ow(b,p),L=C.createHref(b);l.replaceState(S,"",L),a&&g&&g({action:u,location:C.location,delta:0})}function A(R){let I=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof R=="string"?R:Vf(R);return b=b.replace(/ $/,"%20"),Wr(I,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,I)}let C={get action(){return u},get location(){return e(i,l)},listen(R){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(aw,v),g=R,()=>{i.removeEventListener(aw,v),g=null}},createHref(R){return t(i,R)},createURL:A,encodeLocation(R){let I=A(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:E,go(R){return l.go(R)}};return C}var lw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lw||(lw={}));function Zk(e,t,r){return r===void 0&&(r="/"),Qk(e,t,r)}function Qk(e,t,r,n){let i=typeof t=="string"?ql(t):t,a=ix(i.pathname||"/",r);if(a==null)return null;let l=aC(e);Jk(l);let u=null;for(let g=0;u==null&&g<l.length;++g){let p=fb(a);u=lb(l[g],p)}return u}function aC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,u)=>{let g={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};g.relativePath.startsWith("/")&&(Wr(g.relativePath.startsWith(n),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(n.length));let p=ka([n,g.relativePath]),m=r.concat(g);a.children&&a.children.length>0&&(Wr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),aC(a.children,t,m,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:ab(p,a.index),routesMeta:m})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let g of oC(a.path))i(a,l,g)}),t}function oC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=oC(n.join("/")),u=[];return u.push(...l.map(g=>g===""?a:[a,g].join("/"))),i&&u.push(...l),u.map(g=>e.startsWith("/")&&g===""?"/":g)}function Jk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ob(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eb=/^:[\w-]+$/,tb=3,rb=2,nb=1,ib=10,sb=-2,cw=e=>e==="*";function ab(e,t){let r=e.split("/"),n=r.length;return r.some(cw)&&(n+=sb),t&&(n+=rb),r.filter(i=>!cw(i)).reduce((i,a)=>i+(eb.test(a)?tb:a===""?nb:ib),n)}function ob(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function lb(e,t,r){let{routesMeta:n}=e,i={},a="/",l=[];for(let u=0;u<n.length;++u){let g=n[u],p=u===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",v=cb({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},m),_=g.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:ka([a,v.pathname]),pathnameBase:pb(ka([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ka([a,v.pathnameBase]))}return l}function cb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ub(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((p,m,v)=>{let{paramName:_,isOptional:E}=m;if(_==="*"){let C=u[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const A=u[v];return E&&!A?p[_]=void 0:p[_]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:e}}function ub(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,g)=>(n.push({paramName:u,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function fb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ix(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function db(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ql(e):e;return{pathname:r?r.startsWith("/")?r:hb(r,t):t,search:xb(n),hash:mb(i)}}function hb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function n1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lC(e,t){let r=gb(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cC(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=ql(e):(i=k0({},e),Wr(!i.pathname||!i.pathname.includes("?"),n1("?","pathname","search",i)),Wr(!i.pathname||!i.pathname.includes("#"),n1("#","pathname","hash",i)),Wr(!i.search||!i.search.includes("#"),n1("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=r;else{let v=t.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}u=v>=0?t[v]:"/"}let g=db(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||m)&&(g.pathname+="/"),g}const ka=e=>e.join("/").replace(/\/\/+/g,"/"),pb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uC=["post","put","patch","delete"];new Set(uC);const vb=["get",...uC];new Set(vb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b0.apply(this,arguments)}const sx=ye.createContext(null),yb=ye.createContext(null),Oo=ye.createContext(null),Yd=ye.createContext(null),Do=ye.createContext({outlet:null,matches:[],isDataRoute:!1}),fC=ye.createContext(null);function _b(e,t){let{relative:r}=t===void 0?{}:t;eu()||Wr(!1);let{basename:n,navigator:i}=ye.useContext(Oo),{hash:a,pathname:l,search:u}=hC(e,{relative:r}),g=l;return n!=="/"&&(g=l==="/"?n:ka([n,l])),i.createHref({pathname:g,search:u,hash:a})}function eu(){return ye.useContext(Yd)!=null}function tu(){return eu()||Wr(!1),ye.useContext(Yd).location}function dC(e){ye.useContext(Oo).static||ye.useLayoutEffect(e)}function Eb(){let{isDataRoute:e}=ye.useContext(Do);return e?Pb():Cb()}function Cb(){eu()||Wr(!1);let e=ye.useContext(sx),{basename:t,future:r,navigator:n}=ye.useContext(Oo),{matches:i}=ye.useContext(Do),{pathname:a}=tu(),l=JSON.stringify(lC(i,r.v7_relativeSplatPath)),u=ye.useRef(!1);return dC(()=>{u.current=!0}),ye.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=cC(p,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ka([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,l,a,e])}function hC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=ye.useContext(Oo),{matches:i}=ye.useContext(Do),{pathname:a}=tu(),l=JSON.stringify(lC(i,n.v7_relativeSplatPath));return ye.useMemo(()=>cC(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function Ab(e,t){return Sb(e,t)}function Sb(e,t,r,n){eu()||Wr(!1);let{navigator:i}=ye.useContext(Oo),{matches:a}=ye.useContext(Do),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let g=l?l.pathnameBase:"/";l&&l.route;let p=tu(),m;if(t){var v;let R=typeof t=="string"?ql(t):t;g==="/"||(v=R.pathname)!=null&&v.startsWith(g)||Wr(!1),m=R}else m=p;let _=m.pathname||"/",E=_;if(g!=="/"){let R=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=Zk(e,{pathname:E}),C=Rb(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:ka([g,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:ka([g,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,n);return t&&C?ye.createElement(Yd.Provider,{value:{location:b0({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ha.Pop}},C):C}function Tb(){let e=Fb(),t=wb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ye.createElement(ye.Fragment,null,ye.createElement("h2",null,"Unexpected Application Error!"),ye.createElement("h3",{style:{fontStyle:"italic"}},t),r?ye.createElement("pre",{style:i},r):null,null)}const kb=ye.createElement(Tb,null);class bb extends ye.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?ye.createElement(Do.Provider,{value:this.props.routeContext},ye.createElement(fC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ib(e){let{routeContext:t,match:r,children:n}=e,i=ye.useContext(sx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ye.createElement(Do.Provider,{value:t},n)}function Rb(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);m>=0||Wr(!1),l=l.slice(0,Math.min(l.length,m+1))}let g=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:_,errors:E}=r,A=v.route.loader&&_[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||A){g=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let E,A=!1,C=null,R=null;r&&(E=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||kb,g&&(p<0&&_===0?(Mb("route-fallback"),A=!0,R=null):p===_&&(A=!0,R=v.route.hydrateFallbackElement||null)));let I=t.concat(l.slice(0,_+1)),b=()=>{let S;return E?S=C:A?S=R:v.route.Component?S=ye.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=m,ye.createElement(Ib,{match:v,routeContext:{outlet:m,matches:I,isDataRoute:r!=null},children:S})};return r&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?ye.createElement(bb,{location:r.location,revalidation:r.revalidation,component:C,error:E,children:b(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):b()},null)}var gC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gC||{}),pC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pC||{});function Nb(e){let t=ye.useContext(sx);return t||Wr(!1),t}function Ob(e){let t=ye.useContext(yb);return t||Wr(!1),t}function Db(e){let t=ye.useContext(Do);return t||Wr(!1),t}function xC(e){let t=Db(),r=t.matches[t.matches.length-1];return r.route.id||Wr(!1),r.route.id}function Fb(){var e;let t=ye.useContext(fC),r=Ob(),n=xC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Pb(){let{router:e}=Nb(gC.UseNavigateStable),t=xC(pC.UseNavigateStable),r=ye.useRef(!1);return dC(()=>{r.current=!0}),ye.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,b0({fromRouteId:t},a)))},[e,t])}const uw={};function Mb(e,t,r){uw[e]||(uw[e]=!0)}function Bb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mf(e){Wr(!1)}function Lb(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ha.Pop,navigator:a,static:l=!1,future:u}=e;eu()&&Wr(!1);let g=t.replace(/^\/*/,"/"),p=ye.useMemo(()=>({basename:g,navigator:a,static:l,future:b0({v7_relativeSplatPath:!1},u)}),[g,u,a,l]);typeof n=="string"&&(n=ql(n));let{pathname:m="/",search:v="",hash:_="",state:E=null,key:A="default"}=n,C=ye.useMemo(()=>{let R=ix(m,g);return R==null?null:{location:{pathname:R,search:v,hash:_,state:E,key:A},navigationType:i}},[g,m,v,_,E,A,i]);return C==null?null:ye.createElement(Oo.Provider,{value:p},ye.createElement(Yd.Provider,{children:r,value:C}))}function Ub(e){let{children:t,location:r}=e;return Ab(Sg(t),r)}new Promise(()=>{});function Sg(e,t){t===void 0&&(t=[]);let r=[];return ye.Children.forEach(e,(n,i)=>{if(!ye.isValidElement(n))return;let a=[...t,i];if(n.type===ye.Fragment){r.push.apply(r,Sg(n.props.children,a));return}n.type!==mf&&Wr(!1),!n.props.index||!n.props.children||Wr(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Sg(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function jb(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Wb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hb(e,t){return e.button===0&&(!t||t==="_self")&&!Wb(e)}const Vb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zb="6";try{window.__reactRouterVersion=zb}catch{}const Gb="startTransition",fw=MT[Gb];function Xb(e){let{basename:t,children:r,future:n,window:i}=e,a=ye.useRef();a.current==null&&(a.current=Yk({window:i,v5Compat:!0}));let l=a.current,[u,g]=ye.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},m=ye.useCallback(v=>{p&&fw?fw(()=>g(v)):g(v)},[g,p]);return ye.useLayoutEffect(()=>l.listen(m),[l,m]),ye.useEffect(()=>Bb(n),[n]),ye.createElement(Lb,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dw=ye.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:u,target:g,to:p,preventScrollReset:m,viewTransition:v}=t,_=jb(t,Vb),{basename:E}=ye.useContext(Oo),A,C=!1;if(typeof p=="string"&&Yb.test(p)&&(A=p,$b))try{let S=new URL(window.location.href),L=p.startsWith("//")?new URL(S.protocol+p):new URL(p),q=ix(L.pathname,E);L.origin===S.origin&&q!=null?p=q+L.search+L.hash:C=!0}catch{}let R=_b(p,{relative:i}),I=Kb(p,{replace:l,state:u,target:g,preventScrollReset:m,relative:i,viewTransition:v});function b(S){n&&n(S),S.defaultPrevented||I(S)}return ye.createElement("a",Tg({},_,{href:A||R,onClick:C||a?n:b,ref:r,target:g}))});var hw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hw||(hw={}));var gw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gw||(gw={}));function Kb(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}=t===void 0?{}:t,g=Eb(),p=tu(),m=hC(e,{relative:l});return ye.useCallback(v=>{if(Hb(v,r)){v.preventDefault();let _=n!==void 0?n:Vf(p)===Vf(m);g(e,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,g,m,n,i,r,e,a,l,u])}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),On=(e,t)=>{const r=ye.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:g,...p},m)=>ye.createElement("svg",{ref:m,...qb,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Zb(e)}`,u].join(" "),...p},[...t.map(([v,_])=>ye.createElement(v,_)),...Array.isArray(g)?g:[g]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=On("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=On("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=On("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=On("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=On("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=On("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=On("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=On("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=On("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=On("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=On("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=On("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=On("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=On("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=On("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=On("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=function(e,t){if(!e)throw Zl(t)},Zl=function(e){return new Error("Firebase Database ("+wC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},rI=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],l=e[r++],u=e[r++],g=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(g>>10)),t[n++]=String.fromCharCode(56320+(g&1023))}else{const a=e[r++],l=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return t.join("")},ax={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],l=i+1<e.length,u=l?e[i+1]:0,g=i+2<e.length,p=g?e[i+2]:0,m=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|p>>6,E=p&63;g||(E=64,l||(_=64)),n.push(r[m],r[v],r[_],r[E])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],u=i<e.length?r[e.charAt(i)]:0;++i;const p=i<e.length?r[e.charAt(i)]:64;++i;const v=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||u==null||p==null||v==null)throw new nI;const _=a<<2|u>>4;if(n.push(_),p!==64){const E=u<<4&240|p>>2;if(n.push(E),v!==64){const A=p<<6&192|v;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yC=function(e){const t=vC(e);return ax.encodeByteArray(t,!0)},Gf=function(e){return yC(e).replace(/\./g,"")},Ig=function(e){try{return ax.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(e){return _C(void 0,e)}function _C(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!sI(r)||(e[r]=_C(e[r],t[r]));return e}function sI(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>aI().__FIREBASE_DEFAULTS__,lI=()=>{if(typeof process>"u"||typeof vw>"u")return;const e=vw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ig(e[1]);return t&&JSON.parse(t)},EC=()=>{try{return oI()||lI()||cI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uI=e=>{var t,r;return(r=(t=EC())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},fI=e=>{const t=uI(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},CC=()=>{var e;return(e=EC())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gf(JSON.stringify(r)),Gf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hI())}function gI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){return wC.NODE_ADMIN===!0}function SC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}function mI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="FirebaseError";class Fo extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=wI,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kd.prototype.create)}}class Kd{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],l=a?vI(a,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Fo(i,u,n)}}function vI(e,t){return e.replace(yI,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const yI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(e){return JSON.parse(e)}function $r(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=function(e){let t={},r={},n={},i="";try{const a=e.split(".");t=I0(Ig(a[0])||""),r=I0(Ig(a[1])||""),i=a[2],n=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:n,signature:i}},_I=function(e){const t=kC(e),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},EI=function(e){const t=kC(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bl(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function yw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xf(e,t,r){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=t.call(r,e[i],i,e));return n}function $f(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],l=t[i];if(_w(a)&&_w(l)){if(!$f(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function _w(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const n=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)n[v]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)n[v]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let v=16;v<80;v++){const _=n[v-3]^n[v-8]^n[v-14]^n[v-16];n[v]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],g=this.chain_[4],p,m;for(let v=0;v<80;v++){v<40?v<20?(p=u^a&(l^u),m=1518500249):(p=a^l^u,m=1859775393):v<60?(p=a&l|u&(a|l),m=2400959708):(p=a^l^u,m=3395469782);const _=(i<<5|i>>>27)+p+g+m+n[v]&4294967295;g=u,u=l,l=(a<<30|a>>>2)&4294967295,a=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const n=r-this.blockSize;let i=0;const a=this.buf_;let l=this.inbuf_;for(;i<r;){if(l===0)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<r;)if(a[l]=t.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}else for(;i<r;)if(a[l]=t[i],++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)t[n]=this.chain_[i]>>a&255,++n;return t}}function qd(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>=55296&&i<=56319){const a=i-55296;n++,We(n<e.length,"Surrogate pair missing trail surrogate.");const l=e.charCodeAt(n)-56320;i=65536+(a<<10)+l}i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):i<65536?(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},Zd=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1e3,kI=2,bI=4*60*60*1e3,II=.5;function Ew(e,t=TI,r=kI){const n=t*Math.pow(r,e),i=Math.round(II*n*(Math.random()-.5)*2);return Math.min(bI,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(e){return e&&e._delegate?e._delegate:e}class zs{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new ru;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OI(t))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ja){return this.instances.has(t)}getOptions(t=Ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:NI(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ja){return this.component?this.component.multipleInstances?t:Ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NI(e){return e===Ja?void 0:e}function OI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new RI(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nr||(nr={}));const FI={debug:nr.DEBUG,verbose:nr.VERBOSE,info:nr.INFO,warn:nr.WARN,error:nr.ERROR,silent:nr.SILENT},PI=nr.INFO,MI={[nr.DEBUG]:"log",[nr.VERBOSE]:"log",[nr.INFO]:"info",[nr.WARN]:"warn",[nr.ERROR]:"error"},BI=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=MI[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ox{constructor(t){this.name=t,this._logLevel=PI,this._logHandler=BI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?FI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nr.DEBUG,...t),this._logHandler(this,nr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nr.VERBOSE,...t),this._logHandler(this,nr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nr.INFO,...t),this._logHandler(this,nr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nr.WARN,...t),this._logHandler(this,nr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nr.ERROR,...t),this._logHandler(this,nr.ERROR,...t)}}const LI=(e,t)=>t.some(r=>e instanceof r);let Cw,Aw;function UI(){return Cw||(Cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jI(){return Aw||(Aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bC=new WeakMap,Rg=new WeakMap,IC=new WeakMap,i1=new WeakMap,lx=new WeakMap;function WI(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{r(ba(e.result)),i()},l=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(r=>{r instanceof IDBCursor&&bC.set(r,e)}).catch(()=>{}),lx.set(t,e),t}function HI(e){if(Rg.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});Rg.set(e,t)}let Ng={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Rg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||IC.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ba(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VI(e){Ng=e(Ng)}function zI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(s1(this),t,...r);return IC.set(n,t.sort?t.sort():[t]),ba(n)}:jI().includes(e)?function(...t){return e.apply(s1(this),t),ba(bC.get(this))}:function(...t){return ba(e.apply(s1(this),t))}}function GI(e){return typeof e=="function"?zI(e):(e instanceof IDBTransaction&&HI(e),LI(e,UI())?new Proxy(e,Ng):e)}function ba(e){if(e instanceof IDBRequest)return WI(e);if(i1.has(e))return i1.get(e);const t=GI(e);return t!==e&&(i1.set(e,t),lx.set(t,e)),t}const s1=e=>lx.get(e);function RC(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(e,t),u=ba(l);return n&&l.addEventListener("upgradeneeded",g=>{n(ba(l.result),g.oldVersion,g.newVersion,ba(l.transaction),g)}),r&&l.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),u.then(g=>{a&&g.addEventListener("close",()=>a()),i&&g.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const XI=["get","getKey","getAll","getAllKeys","count"],$I=["put","add","delete","clear"],a1=new Map;function Sw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(a1.get(t))return a1.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=$I.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||XI.includes(r)))return;const a=async function(l,...u){const g=this.transaction(l,i?"readwrite":"readonly");let p=g.store;return n&&(p=p.index(u.shift())),(await Promise.all([p[r](...u),i&&g.done]))[0]};return a1.set(t,a),a}VI(e=>({...e,get:(t,r,n)=>Sw(t,r)||e.get(t,r,n),has:(t,r)=>!!Sw(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(KI(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function KI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Og="@firebase/app",Tw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new ox("@firebase/app"),qI="@firebase/app-compat",ZI="@firebase/analytics-compat",QI="@firebase/analytics",JI="@firebase/app-check-compat",e6="@firebase/app-check",t6="@firebase/auth",r6="@firebase/auth-compat",n6="@firebase/database",i6="@firebase/data-connect",s6="@firebase/database-compat",a6="@firebase/functions",o6="@firebase/functions-compat",l6="@firebase/installations",c6="@firebase/installations-compat",u6="@firebase/messaging",f6="@firebase/messaging-compat",d6="@firebase/performance",h6="@firebase/performance-compat",g6="@firebase/remote-config",p6="@firebase/remote-config-compat",x6="@firebase/storage",m6="@firebase/storage-compat",w6="@firebase/firestore",v6="@firebase/vertexai-preview",y6="@firebase/firestore-compat",_6="firebase",E6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",C6={[Og]:"fire-core",[qI]:"fire-core-compat",[QI]:"fire-analytics",[ZI]:"fire-analytics-compat",[e6]:"fire-app-check",[JI]:"fire-app-check-compat",[t6]:"fire-auth",[r6]:"fire-auth-compat",[n6]:"fire-rtdb",[i6]:"fire-data-connect",[s6]:"fire-rtdb-compat",[a6]:"fire-fn",[o6]:"fire-fn-compat",[l6]:"fire-iid",[c6]:"fire-iid-compat",[u6]:"fire-fcm",[f6]:"fire-fcm-compat",[d6]:"fire-perf",[h6]:"fire-perf-compat",[g6]:"fire-rc",[p6]:"fire-rc-compat",[x6]:"fire-gcs",[m6]:"fire-gcs-compat",[w6]:"fire-fst",[y6]:"fire-fst-compat",[v6]:"fire-vertex","fire-js":"fire-js",[_6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,A6=new Map,Fg=new Map;function kw(e,t){try{e.container.addComponent(t)}catch(r){Gs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Pa(e){const t=e.name;if(Fg.has(t))return Gs.debug(`There were multiple attempts to register component ${t}.`),!1;Fg.set(t,e);for(const r of Yf.values())kw(r,e);for(const r of A6.values())kw(r,e);return!0}function nu(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ia=new Kd("app","Firebase",S6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=E6;function NC(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Dg,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw Ia.create("bad-app-name",{appName:String(i)});if(r||(r=CC()),!r)throw Ia.create("no-options");const a=Yf.get(i);if(a){if($f(r,a.options)&&$f(n,a.config))return a;throw Ia.create("duplicate-app",{appName:i})}const l=new DI(i);for(const g of Fg.values())l.addComponent(g);const u=new T6(r,n,l);return Yf.set(i,u),u}function OC(e=Dg){const t=Yf.get(e);if(!t&&e===Dg&&CC())return NC();if(!t)throw Ia.create("no-app",{appName:e});return t}function _s(e,t,r){var n;let i=(n=C6[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gs.warn(u.join(" "));return}Pa(new zs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firebase-heartbeat-database",I6=1,R0="firebase-heartbeat-store";let o1=null;function DC(){return o1||(o1=RC(b6,I6,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(R0)}catch(r){console.warn(r)}}}}).catch(e=>{throw Ia.create("idb-open",{originalErrorMessage:e.message})})),o1}async function R6(e){try{const r=(await DC()).transaction(R0),n=await r.objectStore(R0).get(FC(e));return await r.done,n}catch(t){if(t instanceof Fo)Gs.warn(t.message);else{const r=Ia.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gs.warn(r.message)}}}async function bw(e,t){try{const n=(await DC()).transaction(R0,"readwrite");await n.objectStore(R0).put(t,FC(e)),await n.done}catch(r){if(r instanceof Fo)Gs.warn(r.message);else{const n=Ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Gs.warn(n.message)}}}function FC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1024,O6=30*24*60*60*1e3;class D6{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new P6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Iw();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=O6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Gs.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Iw(),{heartbeatsToSend:n,unsentEntries:i}=F6(this._heartbeatsCache.heartbeats),a=Gf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Gs.warn(r),""}}}function Iw(){return new Date().toISOString().substring(0,10)}function F6(e,t=N6){const r=[];let n=e.slice();for(const i of e){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Rw(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Rw(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class P6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await R6(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return bw(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return bw(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Rw(e){return Gf(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(e){Pa(new zs("platform-logger",t=>new YI(t),"PRIVATE")),Pa(new zs("heartbeat",t=>new D6(t),"PRIVATE")),_s(Og,Tw,e),_s(Og,Tw,"esm2017"),_s("fire-js","")}M6("");var Nw={};const Ow="@firebase/database",Dw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PC="";function B6(e){PC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),$r(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:I0(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return As(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new L6(t)}}catch{}return new U6},ao=MC("localStorage"),j6=MC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new ox("@firebase/database"),W6=function(){let e=1;return function(){return e++}}(),BC=function(e){const t=SI(e),r=new AI;r.update(t);const n=r.digest();return ax.encodeByteArray(n)},iu=function(...e){let t="";for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?t+=iu.apply(null,n):typeof n=="object"?t+=$r(n):t+=n,t+=" "}return t};let Kc=null,Fw=!0;const H6=function(e,t){We(!0,"Can't turn on custom loggers persistently."),Cl.logLevel=nr.VERBOSE,Kc=Cl.log.bind(Cl)},gn=function(...e){if(Fw===!0&&(Fw=!1,Kc===null&&j6.get("logging_enabled")===!0&&H6()),Kc){const t=iu.apply(null,e);Kc(t)}},su=function(e){return function(...t){gn(e,...t)}},Pg=function(...e){const t="FIREBASE INTERNAL ERROR: "+iu(...e);Cl.error(t)},Xs=function(...e){const t=`FIREBASE FATAL ERROR: ${iu(...e)}`;throw Cl.error(t),new Error(t)},Hn=function(...e){const t="FIREBASE WARNING: "+iu(...e);Cl.warn(t)},V6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cx=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},z6=function(e){if(document.readyState==="complete")e();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ll="[MIN_NAME]",_o="[MAX_NAME]",Po=function(e,t){if(e===t)return 0;if(e===Ll||t===_o)return-1;if(t===Ll||e===_o)return 1;{const r=Pw(e),n=Pw(t);return r!==null?n!==null?r-n===0?e.length-t.length:r-n:-1:n!==null?1:e<t?-1:1}},G6=function(e,t){return e===t?0:e<t?-1:1},Sc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$r(t))},ux=function(e){if(typeof e!="object"||e===null)return $r(e);const t=[];for(const n in e)t.push(n);t.sort();let r="{";for(let n=0;n<t.length;n++)n!==0&&(r+=","),r+=$r(t[n]),r+=":",r+=ux(e[t[n]]);return r+="}",r},LC=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let i=0;i<r;i+=t)i+t>r?n.push(e.substring(i,r)):n.push(e.substring(i,i+t));return n};function vn(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const UC=function(e){We(!cx(e),"Invalid JSON number");const t=11,r=52,n=(1<<t-1)-1;let i,a,l,u,g;e===0?(a=0,l=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(e)/Math.LN2),n),a=u+n,l=Math.round(e*Math.pow(2,r-u)-Math.pow(2,r))):(a=0,l=Math.round(e/Math.pow(2,1-n-r))));const p=[];for(g=r;g;g-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(g=t;g;g-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(i?1:0),p.reverse();const m=p.join("");let v="";for(g=0;g<64;g+=8){let _=parseInt(m.substr(g,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},X6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Y6(e,t){let r="Unknown Error";e==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?r="Client doesn't have permission to access the desired data.":e==="unavailable"&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}const K6=new RegExp("^-?(0*)\\d{1,10}$"),q6=-2147483648,Z6=2147483647,Pw=function(e){if(K6.test(e)){const t=Number(e);if(t>=q6&&t<=Z6)return t}return null},Ql=function(e){try{e()}catch(t){setTimeout(()=>{const r=t.stack||"";throw Hn("Exception was thrown by user callback.",r),t},Math.floor(0))}},Q6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},qc=function(e,t){const r=setTimeout(e,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Hn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t,r,n){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(gn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hn(t)}}class wf{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}wf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="5",jC="v",WC="s",HC="r",VC="f",zC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,GC="ls",XC="p",Mg="ac",$C="websocket",YC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,r,n,i,a=!1,l="",u=!1,g=!1){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ao.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ao.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function t5(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function qC(e,t,r){We(typeof t=="string","typeof type must == string"),We(typeof r=="object","typeof params must == object");let n;if(t===$C)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===YC)n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);t5(e)&&(r.ns=e.namespace);const i=[];return vn(r,(a,l)=>{i.push(a+"="+l)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.counters_={}}incrementCounter(t,r=1){As(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return iI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={},c1={};function dx(e){const t=e.toString();return l1[t]||(l1[t]=new r5),l1[t]}function n5(e,t){const r=e.toString();return c1[r]||(c1[r]=t()),c1[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&Ql(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="start",s5="close",a5="pLPCommand",o5="pRTLPCB",ZC="id",QC="pw",JC="ser",l5="cb",c5="seg",u5="ts",f5="d",d5="dframe",e3=1870,t3=30,h5=e3-t3,g5=25e3,p5=3e4;class gl{constructor(t,r,n,i,a,l,u){this.connId=t,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=su(t),this.stats_=dx(r),this.urlFn=g=>(this.appCheckToken&&(g[Mg]=this.appCheckToken),qC(r,YC,g))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new i5(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(p5)),z6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hx((...a)=>{const[l,u,g,p,m]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Mw)this.id=u,this.password=g;else if(l===s5)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,u]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const n={};n[Mw]="t",n[JC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[l5]=this.scriptTagHolder.uniqueCallbackIdentifier),n[jC]=fx,this.transportSessionId&&(n[WC]=this.transportSessionId),this.lastSessionId&&(n[GC]=this.lastSessionId),this.applicationId&&(n[XC]=this.applicationId),this.appCheckToken&&(n[Mg]=this.appCheckToken),typeof location<"u"&&location.hostname&&zC.test(location.hostname)&&(n[HC]=VC);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gl.forceAllow_=!0}static forceDisallow(){gl.forceDisallow_=!0}static isAvailable(){return gl.forceAllow_?!0:!gl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!X6()&&!$6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=$r(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=yC(r),i=LC(n,h5);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[d5]="t",n[ZC]=t,n[QC]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=$r(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class hx{constructor(t,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=W6(),window[a5+this.uniqueCallbackIdentifier]=t,window[o5+this.uniqueCallbackIdentifier]=r,this.myIFrame=hx.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){gn("frame writing exception"),u.stack&&gn(u.stack),gn(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||gn("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[ZC]=this.myID,t[QC]=this.myPW,t[JC]=this.currentSerial;let r=this.urlFn(t),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+t3+n.length<=e3;){const l=this.pendingSegs.shift();n=n+"&"+c5+i+"="+l.seg+"&"+u5+i+"="+l.ts+"&"+f5+i+"="+l.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,n){this.pendingSegs.push({seg:t,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(g5)),a=()=>{clearTimeout(i),n()};this.addTag(t,a)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{gn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=16384,m5=45e3;let Kf=null;typeof MozWebSocket<"u"?Kf=MozWebSocket:typeof WebSocket<"u"&&(Kf=WebSocket);class Zi{constructor(t,r,n,i,a,l,u){this.connId=t,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=su(this.connId),this.stats_=dx(r),this.connURL=Zi.connectionURL_(r,l,u,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,n,i,a){const l={};return l[jC]=fx,typeof location<"u"&&location.hostname&&zC.test(location.hostname)&&(l[HC]=VC),r&&(l[WC]=r),n&&(l[GC]=n),i&&(l[Mg]=i),a&&(l[XC]=a),qC(t,$C,l)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ao.set("previous_websocket_failure",!0);try{let n;xI(),this.mySock=new Kf(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&Kf!==null&&!Zi.forceDisallow_}static previouslyFailed(){return ao.isInMemoryStorage||ao.get("previous_websocket_failure")===!0}markConnectionHealthy(){ao.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=I0(r);this.onMessage(n)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(We(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(t){this.resetKeepAlive();const r=$r(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=LC(r,x5);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(m5))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zi.responsesRequiredToBeHealthy=2;Zi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[gl,Zi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Zi&&Zi.isAvailable();let n=r&&!Zi.previouslyFailed();if(t.webSocketOnly&&(r||Hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Zi];else{const i=this.transports_=[];for(const a of N0.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);N0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}N0.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=6e4,v5=5e3,y5=10*1024,_5=100*1024,u1="t",Bw="d",E5="s",Lw="r",C5="e",Uw="o",jw="a",Ww="n",Hw="p",A5="h";class S5{constructor(t,r,n,i,a,l,u,g,p,m){this.id=t,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=su("c:"+this.id+":"),this.transportManager_=new N0(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=qc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>y5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(u1 in t){const r=t[u1];r===jw?this.upgradeIfSecondaryHealthy_():r===Lw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Uw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Sc("t",t),n=Sc("d",t);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ww,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Sc("t",t),n=Sc("d",t);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Sc(u1,t);if(Bw in t){const n=t[Bw];if(r===A5){const i=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===Ww){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===E5?this.onConnectionShutdown_(n):r===Lw?this.onReset_(n):r===C5?Pg("Server Error: "+n):r===Uw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pg("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),fx!==n&&Hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),qc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(w5))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(v5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hw,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ao.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{put(t,r,n,i){}merge(t,r,n,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,n){}onDisconnectMerge(t,r,n){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n3=class{constructor(t){this.allowedEvents_=t,this.listeners_={},We(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(t,r,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:n});const i=this.getInitialEvent(t);i&&r.apply(n,i)}off(t,r,n){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===r&&(!n||n===i[a].context)){i.splice(a,1);return}}validateEventType_(t){We(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends n3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!AC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qf}getInitialEvent(t){return We(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=32,zw=768;class qt{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function Wt(){return new qt("")}function Ot(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ma(e){return e.pieces_.length-e.pieceNum_}function ir(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new qt(e.pieces_,t)}function gx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function T5(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)e.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}function O0(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function i3(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new qt(t,0)}function Sr(e,t){const r=[];for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);if(t instanceof qt)for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);else{const n=t.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new qt(r,0)}function Tt(e){return e.pieceNum_>=e.pieces_.length}function Un(e,t){const r=Ot(e),n=Ot(t);if(r===null)return t;if(r===n)return Un(ir(e),ir(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function k5(e,t){const r=O0(e,0),n=O0(t,0);for(let i=0;i<r.length&&i<n.length;i++){const a=Po(r[i],n[i]);if(a!==0)return a}return r.length===n.length?0:r.length<n.length?-1:1}function s3(e,t){if(Ma(e)!==Ma(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function Pi(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(Ma(e)>Ma(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class b5{constructor(t,r){this.errorPrefix_=r,this.parts_=O0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Zd(this.parts_[n]);a3(this)}}function I5(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Zd(t),a3(e)}function R5(e){const t=e.parts_.pop();e.byteLength_-=Zd(t),e.parts_.length>0&&(e.byteLength_-=1)}function a3(e){if(e.byteLength_>zw)throw new Error(e.errorPrefix_+"has a key path longer than "+zw+" bytes ("+e.byteLength_+").");if(e.parts_.length>Vw)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vw+") or object contains a cycle "+eo(e))}function eo(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px extends n3{constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new px}getInitialEvent(t){return We(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=1e3,N5=60*5*1e3,Gw=30*1e3,O5=1.3,D5=3e4,F5="server_kill",Xw=3;class Ms extends r3{constructor(t,r,n,i,a,l,u,g){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=g,this.id=Ms.nextPersistentConnectionId_++,this.log_=su("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tc,this.maxReconnectDelay_=N5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");px.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&qf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,n){const i=++this.requestNumber_,a={r:i,a:t,b:r};this.log_($r(a)),We(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[i]=n)}get(t){this.initConnection_();const r=new ru,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(t,r,n,i){this.initConnection_();const a=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),We(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),We(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:r,query:t,tag:n};this.listens.get(l).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(t){const r=t.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const a={p:n},l="q";t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(l,a,u=>{const g=u.d,p=u.s;Ms.warnOnListenWarnings_(g,r),(this.listens.get(n)&&this.listens.get(n).get(i))===t&&(this.log_("listen response",u),p!=="ok"&&this.removeListen_(n,i),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&As(t,"w")){const n=Bl(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||EI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gw)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=_I(t)?"auth":"gauth",n={cred:t};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const a=i.s,l=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,n=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(t,r){const n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),We(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,r)}sendUnlisten_(t,r,n,i){this.log_("Unlisten on "+t+" for "+r);const a={p:t},l="n";i&&(a.q=n,a.t=i),this.sendRequest(l,a)}onDisconnectPut(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:n})}onDisconnectMerge(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:n})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,n,i){const a={p:r,d:n};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(t,r,n,i){this.putInternal("p",t,r,n,i)}merge(t,r,n,i){this.putInternal("m",t,r,n,i)}putInternal(t,r,n,i,a){this.initConnection_();const l={p:r,d:n};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:t,request:l,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,n,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const a=n.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+$r(t));const r=t.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Pg("Unrecognized action received from server: "+$r(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){We(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Tc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>D5&&(this.reconnectDelay_=Tc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*O5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ms.nextConnectionId_++,a=this.lastSessionId;let l=!1,u=null;const g=function(){u?u.close():(l=!0,n())},p=function(v){We(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?gn("getToken() completed but was canceled"):(gn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,u=new S5(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,n,E=>{Hn(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(F5)},a))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&Hn(v),g())}}}interrupt(t){gn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){gn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],yw(this.interruptReasons_)&&(this.reconnectDelay_=Tc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let n;r?n=r.map(a=>ux(a)).join("$"):n="default";const i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,r){const n=new qt(t).toString();let i;if(this.listens.has(n)){const a=this.listens.get(n);i=a.get(r),a.delete(r),a.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(t,r){gn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xw&&(this.reconnectDelay_=Gw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){gn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+PC.replace(/\./g,"-")]=1,AC()?t["framework.cordova"]=1:pI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qf.getInstance().currentlyOnline();return yw(this.interruptReasons_)&&t}}Ms.nextPersistentConnectionId_=0;Ms.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new St(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const n=new St(Ll,t),i=new St(Ll,r);return this.compare(n,i)!==0}minPost(){return St.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu;class o3 extends Qd{static get __EMPTY_NODE(){return Gu}static set __EMPTY_NODE(t){Gu=t}compare(t,r){return Po(t.name,r.name)}isDefinedOn(t){throw Zl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return St.MIN}maxPost(){return new St(_o,Gu)}makePost(t,r){return We(typeof t=="string","KeyIndex indexValue must always be a string."),new St(t,Gu)}toString(){return".key"}}const Al=new o3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,r,n,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(t=t,l=r?n(t.key,r):1,i&&(l*=-1),l<0)this.isReverse_?t=t.left:t=t.right;else if(l===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class nn{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??nn.RED,this.left=i??ni.EMPTY_NODE,this.right=a??ni.EMPTY_NODE}copy(t,r,n,i,a){return new nn(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ni.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let n,i;if(n=this,r(t,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(t,n.key)===0){if(n.right.isEmpty())return ni.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}nn.RED=!0;nn.BLACK=!1;class P5{copy(t,r,n,i,a){return this}insert(t,r,n){return new nn(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ni{constructor(t,r=ni.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ni(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,nn.BLACK,null,null))}remove(t){return new ni(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,nn.BLACK,null,null))}get(t){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(t,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(t){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(t,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new Xu(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new Xu(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new Xu(this.root_,null,this.comparator_,!0,t)}}ni.EMPTY_NODE=new P5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(e,t){return Po(e.name,t.name)}function xx(e,t){return Po(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg;function B5(e){Bg=e}const l3=function(e){return typeof e=="number"?"number:"+UC(e):"string:"+e},c3=function(e){if(e.isLeafNode()){const t=e.val();We(typeof t=="string"||typeof t=="number"||typeof t=="object"&&As(t,".sv"),"Priority must be a string or number.")}else We(e===Bg||e.isEmpty(),"priority of unexpected type.");We(e===Bg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $w;class en{constructor(t,r=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,We(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),c3(this.priorityNode_)}static set __childrenNodeConstructor(t){$w=t}static get __childrenNodeConstructor(){return $w}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new en(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Tt(t)?this:Ot(t)===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const n=Ot(t);return n===null?r:r.isEmpty()&&n!==".priority"?this:(We(n!==".priority"||Ma(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(ir(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+l3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=UC(this.value_):t+=this.value_,this.lazyHash_=BC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===en.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof en.__childrenNodeConstructor?-1:(We(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,n=typeof this.value_,i=en.VALUE_TYPE_ORDER.indexOf(r),a=en.VALUE_TYPE_ORDER.indexOf(n);return We(i>=0,"Unknown leaf type: "+r),We(a>=0,"Unknown leaf type: "+n),i===a?n==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u3,f3;function L5(e){u3=e}function U5(e){f3=e}class j5 extends Qd{compare(t,r){const n=t.node.getPriority(),i=r.node.getPriority(),a=n.compareTo(i);return a===0?Po(t.name,r.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return St.MIN}maxPost(){return new St(_o,new en("[PRIORITY-POST]",f3))}makePost(t,r){const n=u3(t);return new St(r,new en("[PRIORITY-POST]",n))}toString(){return".priority"}}const Tr=new j5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=Math.log(2);class H5{constructor(t){const r=a=>parseInt(Math.log(a)/W5,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const i=n(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Zf=function(e,t,r,n){e.sort(t);const i=function(g,p){const m=p-g;let v,_;if(m===0)return null;if(m===1)return v=e[g],_=r?r(v):v,new nn(_,v.node,nn.BLACK,null,null);{const E=parseInt(m/2,10)+g,A=i(g,E),C=i(E+1,p);return v=e[E],_=r?r(v):v,new nn(_,v.node,nn.BLACK,A,C)}},a=function(g){let p=null,m=null,v=e.length;const _=function(A,C){const R=v-A,I=v;v-=A;const b=i(R+1,I),S=e[R],L=r?r(S):S;E(new nn(L,S.node,C,null,b))},E=function(A){p?(p.left=A,p=A):(m=A,p=A)};for(let A=0;A<g.count;++A){const C=g.nextBitIsOne(),R=Math.pow(2,g.count-(A+1));C?_(R,nn.BLACK):(_(R,nn.BLACK),_(R,nn.RED))}return m},l=new H5(e.length),u=a(l);return new ni(n||t,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f1;const Qo={};class Ds{constructor(t,r){this.indexes_=t,this.indexSet_=r}static get Default(){return We(Qo&&Tr,"ChildrenNode.ts has not been loaded"),f1=f1||new Ds({".priority":Qo},{".priority":Tr}),f1}get(t){const r=Bl(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ni?r:null}hasIndex(t){return As(this.indexSet_,t.toString())}addIndex(t,r){We(t!==Al,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const a=r.getIterator(St.Wrap);let l=a.getNext();for(;l;)i=i||t.isDefinedOn(l.node),n.push(l),l=a.getNext();let u;i?u=Zf(n,t.getCompare()):u=Qo;const g=t.toString(),p=Object.assign({},this.indexSet_);p[g]=t;const m=Object.assign({},this.indexes_);return m[g]=u,new Ds(m,p)}addToIndexes(t,r){const n=Xf(this.indexes_,(i,a)=>{const l=Bl(this.indexSet_,a);if(We(l,"Missing index implementation for "+a),i===Qo)if(l.isDefinedOn(t.node)){const u=[],g=r.getIterator(St.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&u.push(p),p=g.getNext();return u.push(t),Zf(u,l.getCompare())}else return Qo;else{const u=r.get(t.name);let g=i;return u&&(g=g.remove(new St(t.name,u))),g.insert(t,t.node)}});return new Ds(n,this.indexSet_)}removeFromIndexes(t,r){const n=Xf(this.indexes_,i=>{if(i===Qo)return i;{const a=r.get(t.name);return a?i.remove(new St(t.name,a)):i}});return new Ds(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc;class ot{constructor(t,r,n){this.children_=t,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&c3(this.priorityNode_),this.children_.isEmpty()&&We(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return kc||(kc=new ot(new ni(xx),null,Ds.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kc}updatePriority(t){return this.children_.isEmpty()?this:new ot(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?kc:r}}getChild(t){const r=Ot(t);return r===null?this:this.getImmediateChild(r).getChild(ir(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(We(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const n=new St(t,r);let i,a;r.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(t,r),a=this.indexMap_.addToIndexes(n,this.children_));const l=i.isEmpty()?kc:this.priorityNode_;return new ot(i,l,a)}}updateChild(t,r){const n=Ot(t);if(n===null)return r;{We(Ot(t)!==".priority"||Ma(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(ir(t),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let n=0,i=0,a=!0;if(this.forEachChild(Tr,(l,u)=>{r[l]=u.val(t),n++,a&&ot.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):a=!1}),!t&&a&&i<2*n){const l=[];for(const u in r)l[u]=r[u];return l}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+l3(this.getPriority().val())+":"),this.forEachChild(Tr,(r,n)=>{const i=n.hash();i!==""&&(t+=":"+r+":"+i)}),this.lazyHash_=t===""?"":BC(t)}return this.lazyHash_}getPredecessorChildName(t,r,n){const i=this.resolveIndex_(n);if(i){const a=i.getPredecessorKey(new St(t,r));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new St(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new St(r,this.children_.get(r)):null}forEachChild(t,r){const n=this.resolveIndex_(t);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,St.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,St.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===au?-1:0}withIndex(t){if(t===Al||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new ot(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Al||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(Tr),i=r.getIterator(Tr);let a=n.getNext(),l=i.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=n.getNext(),l=i.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(t){return t===Al?null:this.indexMap_.get(t.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class V5 extends ot{constructor(){super(new ni(xx),ot.EMPTY_NODE,Ds.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ot.EMPTY_NODE}isEmpty(){return!1}}const au=new V5;Object.defineProperties(St,{MIN:{value:new St(Ll,ot.EMPTY_NODE)},MAX:{value:new St(_o,au)}});o3.__EMPTY_NODE=ot.EMPTY_NODE;en.__childrenNodeConstructor=ot;B5(au);U5(au);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=!0;function Xr(e,t=null){if(e===null)return ot.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),We(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const r=e;return new en(r,Xr(t))}if(!(e instanceof Array)&&z5){const r=[];let n=!1;if(vn(e,(l,u)=>{if(l.substring(0,1)!=="."){const g=Xr(u);g.isEmpty()||(n=n||!g.getPriority().isEmpty(),r.push(new St(l,g)))}}),r.length===0)return ot.EMPTY_NODE;const a=Zf(r,M5,l=>l.name,xx);if(n){const l=Zf(r,Tr.getCompare());return new ot(a,Xr(t),new Ds({".priority":l},{".priority":Tr}))}else return new ot(a,Xr(t),Ds.Default)}else{let r=ot.EMPTY_NODE;return vn(e,(n,i)=>{if(As(e,n)&&n.substring(0,1)!=="."){const a=Xr(i);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(n,a))}}),r.updatePriority(Xr(t))}}L5(Xr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5 extends Qd{constructor(t){super(),this.indexPath_=t,We(!Tt(t)&&Ot(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const n=this.extractChild(t.node),i=this.extractChild(r.node),a=n.compareTo(i);return a===0?Po(t.name,r.name):a}makePost(t,r){const n=Xr(t),i=ot.EMPTY_NODE.updateChild(this.indexPath_,n);return new St(r,i)}maxPost(){const t=ot.EMPTY_NODE.updateChild(this.indexPath_,au);return new St(_o,t)}toString(){return O0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5 extends Qd{compare(t,r){const n=t.node.compareTo(r.node);return n===0?Po(t.name,r.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return St.MIN}maxPost(){return St.MAX}makePost(t,r){const n=Xr(t);return new St(r,n)}toString(){return".value"}}const $5=new X5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(e){return{type:"value",snapshotNode:e}}function Ul(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function D0(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function F0(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}function Y5(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(t){this.index_=t}updateChild(t,r,n,i,a,l){We(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(r);return u.getChild(i).equals(n.getChild(i))&&u.isEmpty()===n.isEmpty()||(l!=null&&(n.isEmpty()?t.hasChild(r)?l.trackChildChange(D0(r,u)):We(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Ul(r,n)):l.trackChildChange(F0(r,n,u))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(t,r,n){return n!=null&&(t.isLeafNode()||t.forEachChild(Tr,(i,a)=>{r.hasChild(i)||n.trackChildChange(D0(i,a))}),r.isLeafNode()||r.forEachChild(Tr,(i,a)=>{if(t.hasChild(i)){const l=t.getImmediateChild(i);l.equals(a)||n.trackChildChange(F0(i,a,l))}else n.trackChildChange(Ul(i,a))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?ot.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t){this.indexedFilter_=new mx(t.getIndex()),this.index_=t.getIndex(),this.startPost_=P0.getStartPost_(t),this.endPost_=P0.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&n}updateChild(t,r,n,i,a,l){return this.matches(new St(r,n))||(n=ot.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,n,i,a,l)}updateFullNode(t,r,n){r.isLeafNode()&&(r=ot.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(ot.EMPTY_NODE);const a=this;return r.forEachChild(Tr,(l,u)=>{a.matches(new St(l,u))||(i=i.updateImmediateChild(l,ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new P0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,n,i,a,l){return this.rangedFilter_.matches(new St(r,n))||(n=ot.EMPTY_NODE),t.getImmediateChild(r).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,n,i,a,l):this.fullLimitUpdateChild_(t,r,n,a,l)}updateFullNode(t,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=ot.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=ot.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const u=a.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(ot.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let l=0;for(;a.hasNext();){const u=a.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:i=i.updateImmediateChild(u.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,n,i,a){let l;if(this.reverse_){const v=this.index_.getCompare();l=(_,E)=>v(E,_)}else l=this.index_.getCompare();const u=t;We(u.numChildren()===this.limit_,"");const g=new St(r,n),p=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(g);if(u.hasChild(r)){const v=u.getImmediateChild(r);let _=i.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===r||u.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const E=_==null?1:l(_,g);if(m&&!n.isEmpty()&&E>=0)return a!=null&&a.trackChildChange(F0(r,n,v)),u.updateImmediateChild(r,n);{a!=null&&a.trackChildChange(D0(r,v));const C=u.updateImmediateChild(r,ot.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(a!=null&&a.trackChildChange(Ul(_.name,_.node)),C.updateImmediateChild(_.name,_.node)):C}}else return n.isEmpty()?t:m&&l(p,g)>=0?(a!=null&&(a.trackChildChange(D0(p.name,p.node)),a.trackChildChange(Ul(r,n))),u.updateImmediateChild(r,n).updateImmediateChild(p.name,ot.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return We(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return We(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ll}hasEnd(){return this.endSet_}getIndexEndValue(){return We(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return We(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_o}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return We(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tr}copy(){const t=new wx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function q5(e){return e.loadsAllData()?new mx(e.getIndex()):e.hasLimit()?new K5(e):new P0(e)}function Yw(e){const t={};if(e.isDefault())return t;let r;if(e.index_===Tr?r="$priority":e.index_===$5?r="$value":e.index_===Al?r="$key":(We(e.index_ instanceof G5,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=$r(r),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=$r(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+$r(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=$r(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+$r(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Kw(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;r===""&&(e.isViewFromLeft()?r="l":r="r"),t.vf=r}return e.index_!==Tr&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends r3{constructor(t,r,n,i){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=su("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(We(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,r,n,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const l=Qf.getListenId_(t,n),u={};this.listens_[l]=u;const g=Yw(t._queryParams);this.restRequest_(a+".json",g,(p,m)=>{let v=m;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(a,v,!1,n),Bl(this.listens_,l)===u){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",i(_,null)}})}unlisten(t,r){const n=Qf.getListenId_(t,r);delete this.listens_[n]}get(t){const r=Yw(t._queryParams),n=t._path.toString(),i=new ru;return this.restRequest_(n+".json",r,(a,l)=>{let u=l;a===404&&(u=null,a=null),a===null?(this.onDataUpdate_(n,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(t){}restRequest_(t,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(r.auth=i.accessToken),a&&a.token&&(r.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+CI(r);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let g=null;if(u.status>=200&&u.status<300){try{g=I0(u.responseText)}catch{Hn("Failed to parse JSON response for "+l+": "+u.responseText)}n(null,g)}else u.status!==401&&u.status!==404&&Hn("Got unsuccessful REST response for "+l+" Status: "+u.status),n(u.status);n=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(){return{value:null,children:new Map}}function h3(e,t,r){if(Tt(t))e.value=r,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,r);else{const n=Ot(t);e.children.has(n)||e.children.set(n,Jf());const i=e.children.get(n);t=ir(t),h3(i,t,r)}}function Lg(e,t,r){e.value!==null?r(t,e.value):Q5(e,(n,i)=>{const a=new qt(t.toString()+"/"+n);Lg(i,a,r)})}function Q5(e,t){e.children.forEach((r,n)=>{t(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&vn(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=10*1e3,eR=30*1e3,tR=5*60*1e3;class rR{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new J5(t);const n=qw+(eR-qw)*Math.random();qc(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),r={};let n=!1;vn(t,(i,a)=>{a>0&&As(this.statsToReport_,i)&&(r[i]=a,n=!0)}),n&&this.server_.reportStats(r),qc(this.reportStats_.bind(this),Math.floor(Math.random()*2*tR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ji||(Ji={}));function vx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _x(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,r,n){this.path=t,this.affectedTree=r,this.revert=n,this.type=Ji.ACK_USER_WRITE,this.source=vx()}operationForChild(t){if(Tt(this.path)){if(this.affectedTree.value!=null)return We(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new qt(t));return new ed(Wt(),r,this.revert)}}else return We(Ot(this.path)===t,"operationForChild called for unrelated child."),new ed(ir(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,r){this.source=t,this.path=r,this.type=Ji.LISTEN_COMPLETE}operationForChild(t){return Tt(this.path)?new M0(this.source,Wt()):new M0(this.source,ir(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,r,n){this.source=t,this.path=r,this.snap=n,this.type=Ji.OVERWRITE}operationForChild(t){return Tt(this.path)?new Eo(this.source,Wt(),this.snap.getImmediateChild(t)):new Eo(this.source,ir(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,r,n){this.source=t,this.path=r,this.children=n,this.type=Ji.MERGE}operationForChild(t){if(Tt(this.path)){const r=this.children.subtree(new qt(t));return r.isEmpty()?null:r.value?new Eo(this.source,Wt(),r.value):new jl(this.source,Wt(),r)}else return We(Ot(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new jl(this.source,ir(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,r,n){this.node_=t,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tt(t))return this.isFullyInitialized()&&!this.filtered_;const r=Ot(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function iR(e,t,r,n){const i=[],a=[];return t.forEach(l=>{l.type==="child_changed"&&e.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(Y5(l.childName,l.snapshotNode))}),bc(e,i,"child_removed",t,n,r),bc(e,i,"child_added",t,n,r),bc(e,i,"child_moved",a,n,r),bc(e,i,"child_changed",t,n,r),bc(e,i,"value",t,n,r),i}function bc(e,t,r,n,i,a){const l=n.filter(u=>u.type===r);l.sort((u,g)=>aR(e,u,g)),l.forEach(u=>{const g=sR(e,u,a);i.forEach(p=>{p.respondsTo(u.type)&&t.push(p.createEvent(g,e.query_))})})}function sR(e,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function aR(e,t,r){if(t.childName==null||r.childName==null)throw Zl("Should only compare child_ events.");const n=new St(t.childName,t.snapshotNode),i=new St(r.childName,r.snapshotNode);return e.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(e,t){return{eventCache:e,serverCache:t}}function Zc(e,t,r,n){return Jd(new Ba(t,r,n),e.serverCache)}function g3(e,t,r,n){return Jd(e.eventCache,new Ba(t,r,n))}function td(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Co(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d1;const oR=()=>(d1||(d1=new ni(G6)),d1);class rr{constructor(t,r=oR()){this.value=t,this.children=r}static fromObject(t){let r=new rr(null);return vn(t,(n,i)=>{r=r.set(new qt(n),i)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:Wt(),value:this.value};if(Tt(t))return null;{const n=Ot(t),i=this.children.get(n);if(i!==null){const a=i.findRootMostMatchingPathAndValue(ir(t),r);return a!=null?{path:Sr(new qt(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tt(t))return this;{const r=Ot(t),n=this.children.get(r);return n!==null?n.subtree(ir(t)):new rr(null)}}set(t,r){if(Tt(t))return new rr(r,this.children);{const n=Ot(t),a=(this.children.get(n)||new rr(null)).set(ir(t),r),l=this.children.insert(n,a);return new rr(this.value,l)}}remove(t){if(Tt(t))return this.children.isEmpty()?new rr(null):new rr(null,this.children);{const r=Ot(t),n=this.children.get(r);if(n){const i=n.remove(ir(t));let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),this.value===null&&a.isEmpty()?new rr(null):new rr(this.value,a)}else return this}}get(t){if(Tt(t))return this.value;{const r=Ot(t),n=this.children.get(r);return n?n.get(ir(t)):null}}setTree(t,r){if(Tt(t))return r;{const n=Ot(t),a=(this.children.get(n)||new rr(null)).setTree(ir(t),r);let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),new rr(this.value,l)}}fold(t){return this.fold_(Wt(),t)}fold_(t,r){const n={};return this.children.inorderTraversal((i,a)=>{n[i]=a.fold_(Sr(t,i),r)}),r(t,this.value,n)}findOnPath(t,r){return this.findOnPath_(t,Wt(),r)}findOnPath_(t,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(Tt(t))return null;{const a=Ot(t),l=this.children.get(a);return l?l.findOnPath_(ir(t),Sr(r,a),n):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,Wt(),r)}foreachOnPath_(t,r,n){if(Tt(t))return this;{this.value&&n(r,this.value);const i=Ot(t),a=this.children.get(i);return a?a.foreachOnPath_(ir(t),Sr(r,i),n):new rr(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,r){this.children.inorderTraversal((n,i)=>{i.foreach_(Sr(t,n),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,n)=>{n.value&&t(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.writeTree_=t}static empty(){return new is(new rr(null))}}function Qc(e,t,r){if(Tt(t))return new is(new rr(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(n!=null){const i=n.path;let a=n.value;const l=Un(i,t);return a=a.updateChild(l,r),new is(e.writeTree_.set(i,a))}else{const i=new rr(r),a=e.writeTree_.setTree(t,i);return new is(a)}}}function Ug(e,t,r){let n=e;return vn(r,(i,a)=>{n=Qc(n,Sr(t,i),a)}),n}function Zw(e,t){if(Tt(t))return is.empty();{const r=e.writeTree_.setTree(t,new rr(null));return new is(r)}}function jg(e,t){return Mo(e,t)!=null}function Mo(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return r!=null?e.writeTree_.get(r.path).getChild(Un(r.path,t)):null}function Qw(e){const t=[],r=e.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Tr,(n,i)=>{t.push(new St(n,i))}):e.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&t.push(new St(n,i.value))}),t}function Ra(e,t){if(Tt(t))return e;{const r=Mo(e,t);return r!=null?new is(new rr(r)):new is(e.writeTree_.subtree(t))}}function Wg(e){return e.writeTree_.isEmpty()}function Wl(e,t){return p3(Wt(),e.writeTree_,t)}function p3(e,t,r){if(t.value!=null)return r.updateChild(e,t.value);{let n=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(We(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):r=p3(Sr(e,i),a,r)}),!r.getChild(e).isEmpty()&&n!==null&&(r=r.updateChild(Sr(e,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(e,t){return v3(t,e)}function lR(e,t,r,n,i){We(n>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:i}),i&&(e.visibleWrites=Qc(e.visibleWrites,t,r)),e.lastWriteId=n}function cR(e,t,r,n){We(n>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:r,writeId:n,visible:!0}),e.visibleWrites=Ug(e.visibleWrites,t,r),e.lastWriteId=n}function uR(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}function fR(e,t){const r=e.allWrites.findIndex(u=>u.writeId===t);We(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let i=n.visible,a=!1,l=e.allWrites.length-1;for(;i&&l>=0;){const u=e.allWrites[l];u.visible&&(l>=r&&dR(u,n.path)?i=!1:Pi(n.path,u.path)&&(a=!0)),l--}if(i){if(a)return hR(e),!0;if(n.snap)e.visibleWrites=Zw(e.visibleWrites,n.path);else{const u=n.children;vn(u,g=>{e.visibleWrites=Zw(e.visibleWrites,Sr(n.path,g))})}return!0}else return!1}function dR(e,t){if(e.snap)return Pi(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&Pi(Sr(e.path,r),t))return!0;return!1}function hR(e){e.visibleWrites=x3(e.allWrites,gR,Wt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function gR(e){return e.visible}function x3(e,t,r){let n=is.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const l=a.path;let u;if(a.snap)Pi(r,l)?(u=Un(r,l),n=Qc(n,u,a.snap)):Pi(l,r)&&(u=Un(l,r),n=Qc(n,Wt(),a.snap.getChild(u)));else if(a.children){if(Pi(r,l))u=Un(r,l),n=Ug(n,u,a.children);else if(Pi(l,r))if(u=Un(l,r),Tt(u))n=Ug(n,Wt(),a.children);else{const g=Bl(a.children,Ot(u));if(g){const p=g.getChild(ir(u));n=Qc(n,Wt(),p)}}}else throw Zl("WriteRecord should have .snap or .children")}}return n}function m3(e,t,r,n,i){if(!n&&!i){const a=Mo(e.visibleWrites,t);if(a!=null)return a;{const l=Ra(e.visibleWrites,t);if(Wg(l))return r;if(r==null&&!jg(l,Wt()))return null;{const u=r||ot.EMPTY_NODE;return Wl(l,u)}}}else{const a=Ra(e.visibleWrites,t);if(!i&&Wg(a))return r;if(!i&&r==null&&!jg(a,Wt()))return null;{const l=function(p){return(p.visible||i)&&(!n||!~n.indexOf(p.writeId))&&(Pi(p.path,t)||Pi(t,p.path))},u=x3(e.allWrites,l,t),g=r||ot.EMPTY_NODE;return Wl(u,g)}}}function pR(e,t,r){let n=ot.EMPTY_NODE;const i=Mo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Tr,(a,l)=>{n=n.updateImmediateChild(a,l)}),n;if(r){const a=Ra(e.visibleWrites,t);return r.forEachChild(Tr,(l,u)=>{const g=Wl(Ra(a,new qt(l)),u);n=n.updateImmediateChild(l,g)}),Qw(a).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}else{const a=Ra(e.visibleWrites,t);return Qw(a).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}}function xR(e,t,r,n,i){We(n||i,"Either existingEventSnap or existingServerSnap must exist");const a=Sr(t,r);if(jg(e.visibleWrites,a))return null;{const l=Ra(e.visibleWrites,a);return Wg(l)?i.getChild(r):Wl(l,i.getChild(r))}}function mR(e,t,r,n){const i=Sr(t,r),a=Mo(e.visibleWrites,i);if(a!=null)return a;if(n.isCompleteForChild(r)){const l=Ra(e.visibleWrites,i);return Wl(l,n.getNode().getImmediateChild(r))}else return null}function wR(e,t){return Mo(e.visibleWrites,t)}function vR(e,t,r,n,i,a,l){let u;const g=Ra(e.visibleWrites,t),p=Mo(g,Wt());if(p!=null)u=p;else if(r!=null)u=Wl(g,r);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const m=[],v=l.getCompare(),_=a?u.getReverseIteratorFrom(n,l):u.getIteratorFrom(n,l);let E=_.getNext();for(;E&&m.length<i;)v(E,n)!==0&&m.push(E),E=_.getNext();return m}else return[]}function yR(){return{visibleWrites:is.empty(),allWrites:[],lastWriteId:-1}}function rd(e,t,r,n){return m3(e.writeTree,e.treePath,t,r,n)}function Ex(e,t){return pR(e.writeTree,e.treePath,t)}function Jw(e,t,r,n){return xR(e.writeTree,e.treePath,t,r,n)}function nd(e,t){return wR(e.writeTree,Sr(e.treePath,t))}function _R(e,t,r,n,i,a){return vR(e.writeTree,e.treePath,t,r,n,i,a)}function Cx(e,t,r){return mR(e.writeTree,e.treePath,t,r)}function w3(e,t){return v3(Sr(e.treePath,t),e.writeTree)}function v3(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,n=t.childName;We(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),We(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const a=i.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(n,F0(n,t.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(n,D0(n,i.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(n,Ul(n,t.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(n,F0(n,t.snapshotNode,i.oldSnap));else throw Zl("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{getCompleteChild(t){return null}getChildAfterChild(t,r,n){return null}}const y3=new CR;class Ax{constructor(t,r,n=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const n=this.optCompleteServerCache_!=null?new Ba(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cx(this.writes_,t,n)}}getChildAfterChild(t,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Co(this.viewCache_),a=_R(this.writes_,i,r,1,n,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e){return{filter:e}}function SR(e,t){We(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),We(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function TR(e,t,r,n,i){const a=new ER;let l,u;if(r.type===Ji.OVERWRITE){const p=r;p.source.fromUser?l=Hg(e,t,p.path,p.snap,n,i,a):(We(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered()&&!Tt(p.path),l=id(e,t,p.path,p.snap,n,i,u,a))}else if(r.type===Ji.MERGE){const p=r;p.source.fromUser?l=bR(e,t,p.path,p.children,n,i,a):(We(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered(),l=Vg(e,t,p.path,p.children,n,i,u,a))}else if(r.type===Ji.ACK_USER_WRITE){const p=r;p.revert?l=NR(e,t,p.path,n,i,a):l=IR(e,t,p.path,p.affectedTree,n,i,a)}else if(r.type===Ji.LISTEN_COMPLETE)l=RR(e,t,r.path,n,a);else throw Zl("Unknown operation type: "+r.type);const g=a.getChanges();return kR(t,l,g),{viewCache:l,changes:g}}function kR(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=td(e);(r.length>0||!e.eventCache.isFullyInitialized()||i&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&r.push(d3(td(t)))}}function _3(e,t,r,n,i,a){const l=t.eventCache;if(nd(n,r)!=null)return t;{let u,g;if(Tt(r))if(We(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=Co(t),m=p instanceof ot?p:ot.EMPTY_NODE,v=Ex(n,m);u=e.filter.updateFullNode(t.eventCache.getNode(),v,a)}else{const p=rd(n,Co(t));u=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{const p=Ot(r);if(p===".priority"){We(Ma(r)===1,"Can't have a priority with additional path components");const m=l.getNode();g=t.serverCache.getNode();const v=Jw(n,r,m,g);v!=null?u=e.filter.updatePriority(m,v):u=l.getNode()}else{const m=ir(r);let v;if(l.isCompleteForChild(p)){g=t.serverCache.getNode();const _=Jw(n,r,l.getNode(),g);_!=null?v=l.getNode().getImmediateChild(p).updateChild(m,_):v=l.getNode().getImmediateChild(p)}else v=Cx(n,p,t.serverCache);v!=null?u=e.filter.updateChild(l.getNode(),p,v,m,i,a):u=l.getNode()}}return Zc(t,u,l.isFullyInitialized()||Tt(r),e.filter.filtersNodes())}}function id(e,t,r,n,i,a,l,u){const g=t.serverCache;let p;const m=l?e.filter:e.filter.getIndexedFilter();if(Tt(r))p=m.updateFullNode(g.getNode(),n,null);else if(m.filtersNodes()&&!g.isFiltered()){const E=g.getNode().updateChild(r,n);p=m.updateFullNode(g.getNode(),E,null)}else{const E=Ot(r);if(!g.isCompleteForPath(r)&&Ma(r)>1)return t;const A=ir(r),R=g.getNode().getImmediateChild(E).updateChild(A,n);E===".priority"?p=m.updatePriority(g.getNode(),R):p=m.updateChild(g.getNode(),E,R,A,y3,null)}const v=g3(t,p,g.isFullyInitialized()||Tt(r),m.filtersNodes()),_=new Ax(i,v,a);return _3(e,v,r,i,_,u)}function Hg(e,t,r,n,i,a,l){const u=t.eventCache;let g,p;const m=new Ax(i,t,a);if(Tt(r))p=e.filter.updateFullNode(t.eventCache.getNode(),n,l),g=Zc(t,p,!0,e.filter.filtersNodes());else{const v=Ot(r);if(v===".priority")p=e.filter.updatePriority(t.eventCache.getNode(),n),g=Zc(t,p,u.isFullyInitialized(),u.isFiltered());else{const _=ir(r),E=u.getNode().getImmediateChild(v);let A;if(Tt(_))A=n;else{const C=m.getCompleteChild(v);C!=null?gx(_)===".priority"&&C.getChild(i3(_)).isEmpty()?A=C:A=C.updateChild(_,n):A=ot.EMPTY_NODE}if(E.equals(A))g=t;else{const C=e.filter.updateChild(u.getNode(),v,A,_,m,l);g=Zc(t,C,u.isFullyInitialized(),e.filter.filtersNodes())}}}return g}function ev(e,t){return e.eventCache.isCompleteForChild(t)}function bR(e,t,r,n,i,a,l){let u=t;return n.foreach((g,p)=>{const m=Sr(r,g);ev(t,Ot(m))&&(u=Hg(e,u,m,p,i,a,l))}),n.foreach((g,p)=>{const m=Sr(r,g);ev(t,Ot(m))||(u=Hg(e,u,m,p,i,a,l))}),u}function tv(e,t,r){return r.foreach((n,i)=>{t=t.updateChild(n,i)}),t}function Vg(e,t,r,n,i,a,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;Tt(r)?p=n:p=new rr(null).setTree(r,n);const m=t.serverCache.getNode();return p.children.inorderTraversal((v,_)=>{if(m.hasChild(v)){const E=t.serverCache.getNode().getImmediateChild(v),A=tv(e,E,_);g=id(e,g,new qt(v),A,i,a,l,u)}}),p.children.inorderTraversal((v,_)=>{const E=!t.serverCache.isCompleteForChild(v)&&_.value===null;if(!m.hasChild(v)&&!E){const A=t.serverCache.getNode().getImmediateChild(v),C=tv(e,A,_);g=id(e,g,new qt(v),C,i,a,l,u)}}),g}function IR(e,t,r,n,i,a,l){if(nd(i,r)!=null)return t;const u=t.serverCache.isFiltered(),g=t.serverCache;if(n.value!=null){if(Tt(r)&&g.isFullyInitialized()||g.isCompleteForPath(r))return id(e,t,r,g.getNode().getChild(r),i,a,u,l);if(Tt(r)){let p=new rr(null);return g.getNode().forEachChild(Al,(m,v)=>{p=p.set(new qt(m),v)}),Vg(e,t,r,p,i,a,u,l)}else return t}else{let p=new rr(null);return n.foreach((m,v)=>{const _=Sr(r,m);g.isCompleteForPath(_)&&(p=p.set(m,g.getNode().getChild(_)))}),Vg(e,t,r,p,i,a,u,l)}}function RR(e,t,r,n,i){const a=t.serverCache,l=g3(t,a.getNode(),a.isFullyInitialized()||Tt(r),a.isFiltered());return _3(e,l,r,n,y3,i)}function NR(e,t,r,n,i,a){let l;if(nd(n,r)!=null)return t;{const u=new Ax(n,t,i),g=t.eventCache.getNode();let p;if(Tt(r)||Ot(r)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=rd(n,Co(t));else{const v=t.serverCache.getNode();We(v instanceof ot,"serverChildren would be complete if leaf node"),m=Ex(n,v)}m=m,p=e.filter.updateFullNode(g,m,a)}else{const m=Ot(r);let v=Cx(n,m,t.serverCache);v==null&&t.serverCache.isCompleteForChild(m)&&(v=g.getImmediateChild(m)),v!=null?p=e.filter.updateChild(g,m,v,ir(r),u,a):t.eventCache.getNode().hasChild(m)?p=e.filter.updateChild(g,m,ot.EMPTY_NODE,ir(r),u,a):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=rd(n,Co(t)),l.isLeafNode()&&(p=e.filter.updateFullNode(p,l,a)))}return l=t.serverCache.isFullyInitialized()||nd(n,Wt())!=null,Zc(t,p,l,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new mx(n.getIndex()),a=q5(n);this.processor_=AR(a);const l=r.serverCache,u=r.eventCache,g=i.updateFullNode(ot.EMPTY_NODE,l.getNode(),null),p=a.updateFullNode(ot.EMPTY_NODE,u.getNode(),null),m=new Ba(g,l.isFullyInitialized(),i.filtersNodes()),v=new Ba(p,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=Jd(v,m),this.eventGenerator_=new nR(this.query_)}get query(){return this.query_}}function DR(e){return e.viewCache_.serverCache.getNode()}function FR(e){return td(e.viewCache_)}function PR(e,t){const r=Co(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!Tt(t)&&!r.getImmediateChild(Ot(t)).isEmpty())?r.getChild(t):null}function rv(e){return e.eventRegistrations_.length===0}function MR(e,t){e.eventRegistrations_.push(t)}function nv(e,t,r){const n=[];if(r){We(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(r,i);l&&n.push(l)})}if(t){let i=[];for(let a=0;a<e.eventRegistrations_.length;++a){const l=e.eventRegistrations_[a];if(!l.matches(t))i.push(l);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return n}function iv(e,t,r,n){t.type===Ji.MERGE&&t.source.queryId!==null&&(We(Co(e.viewCache_),"We should always have a full cache before handling merges"),We(td(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=TR(e.processor_,i,t,r,n);return SR(e.processor_,a.viewCache),We(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,E3(e,a.changes,a.viewCache.eventCache.getNode(),null)}function BR(e,t){const r=e.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Tr,(a,l)=>{n.push(Ul(a,l))}),r.isFullyInitialized()&&n.push(d3(r.getNode())),E3(e,n,r.getNode(),t)}function E3(e,t,r,n){const i=n?[n]:e.eventRegistrations_;return iR(e.eventGenerator_,t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd;class C3{constructor(){this.views=new Map}}function LR(e){We(!sd,"__referenceConstructor has already been defined"),sd=e}function UR(){return We(sd,"Reference.ts has not been loaded"),sd}function jR(e){return e.views.size===0}function Sx(e,t,r,n){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return We(a!=null,"SyncTree gave us an op for an invalid query."),iv(a,t,r,n)}else{let a=[];for(const l of e.views.values())a=a.concat(iv(l,t,r,n));return a}}function A3(e,t,r,n,i){const a=t._queryIdentifier,l=e.views.get(a);if(!l){let u=rd(r,i?n:null),g=!1;u?g=!0:n instanceof ot?(u=Ex(r,n),g=!1):(u=ot.EMPTY_NODE,g=!1);const p=Jd(new Ba(u,g,!1),new Ba(n,i,!1));return new OR(t,p)}return l}function WR(e,t,r,n,i,a){const l=A3(e,t,n,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,l),MR(l,r),BR(l,r)}function HR(e,t,r,n){const i=t._queryIdentifier,a=[];let l=[];const u=La(e);if(i==="default")for(const[g,p]of e.views.entries())l=l.concat(nv(p,r,n)),rv(p)&&(e.views.delete(g),p.query._queryParams.loadsAllData()||a.push(p.query));else{const g=e.views.get(i);g&&(l=l.concat(nv(g,r,n)),rv(g)&&(e.views.delete(i),g.query._queryParams.loadsAllData()||a.push(g.query)))}return u&&!La(e)&&a.push(new(UR())(t._repo,t._path)),{removed:a,events:l}}function S3(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Na(e,t){let r=null;for(const n of e.views.values())r=r||PR(n,t);return r}function T3(e,t){if(t._queryParams.loadsAllData())return th(e);{const n=t._queryIdentifier;return e.views.get(n)}}function k3(e,t){return T3(e,t)!=null}function La(e){return th(e)!=null}function th(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad;function VR(e){We(!ad,"__referenceConstructor has already been defined"),ad=e}function zR(){return We(ad,"Reference.ts has not been loaded"),ad}let GR=1;class sv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new rr(null),this.pendingWriteTree_=yR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function b3(e,t,r,n,i){return lR(e.pendingWriteTree_,t,r,n,i),i?Jl(e,new Eo(vx(),t,r)):[]}function XR(e,t,r,n){cR(e.pendingWriteTree_,t,r,n);const i=rr.fromObject(r);return Jl(e,new jl(vx(),t,i))}function ga(e,t,r=!1){const n=uR(e.pendingWriteTree_,t);if(fR(e.pendingWriteTree_,t)){let a=new rr(null);return n.snap!=null?a=a.set(Wt(),!0):vn(n.children,l=>{a=a.set(new qt(l),!0)}),Jl(e,new ed(n.path,a,r))}else return[]}function ou(e,t,r){return Jl(e,new Eo(yx(),t,r))}function $R(e,t,r){const n=rr.fromObject(r);return Jl(e,new jl(yx(),t,n))}function YR(e,t){return Jl(e,new M0(yx(),t))}function KR(e,t,r){const n=kx(e,r);if(n){const i=bx(n),a=i.path,l=i.queryId,u=Un(a,t),g=new M0(_x(l),u);return Ix(e,a,g)}else return[]}function I3(e,t,r,n,i=!1){const a=t._path,l=e.syncPointTree_.get(a);let u=[];if(l&&(t._queryIdentifier==="default"||k3(l,t))){const g=HR(l,t,r,n);jR(l)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const p=g.removed;if(u=g.events,!i){const m=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=e.syncPointTree_.findOnPath(a,(_,E)=>La(E));if(m&&!v){const _=e.syncPointTree_.subtree(a);if(!_.isEmpty()){const E=JR(_);for(let A=0;A<E.length;++A){const C=E[A],R=C.query,I=D3(e,C);e.listenProvider_.startListening(Jc(R),B0(e,R),I.hashFn,I.onComplete)}}}!v&&p.length>0&&!n&&(m?e.listenProvider_.stopListening(Jc(t),null):p.forEach(_=>{const E=e.queryToTagMap.get(rh(_));e.listenProvider_.stopListening(Jc(_),E)}))}eN(e,p)}return u}function R3(e,t,r,n){const i=kx(e,n);if(i!=null){const a=bx(i),l=a.path,u=a.queryId,g=Un(l,t),p=new Eo(_x(u),g,r);return Ix(e,l,p)}else return[]}function qR(e,t,r,n){const i=kx(e,n);if(i){const a=bx(i),l=a.path,u=a.queryId,g=Un(l,t),p=rr.fromObject(r),m=new jl(_x(u),g,p);return Ix(e,l,m)}else return[]}function ZR(e,t,r,n=!1){const i=t._path;let a=null,l=!1;e.syncPointTree_.foreachOnPath(i,(_,E)=>{const A=Un(_,i);a=a||Na(E,A),l=l||La(E)});let u=e.syncPointTree_.get(i);u?(l=l||La(u),a=a||Na(u,Wt())):(u=new C3,e.syncPointTree_=e.syncPointTree_.set(i,u));let g;a!=null?g=!0:(g=!1,a=ot.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((E,A)=>{const C=Na(A,Wt());C&&(a=a.updateImmediateChild(E,C))}));const p=k3(u,t);if(!p&&!t._queryParams.loadsAllData()){const _=rh(t);We(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const E=tN();e.queryToTagMap.set(_,E),e.tagToQueryMap.set(E,_)}const m=eh(e.pendingWriteTree_,i);let v=WR(u,t,r,m,a,g);if(!p&&!l&&!n){const _=T3(u,t);v=v.concat(rN(e,t,_))}return v}function Tx(e,t,r){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(l,u)=>{const g=Un(l,t),p=Na(u,g);if(p)return p});return m3(i,t,a,r,!0)}function QR(e,t){const r=t._path;let n=null;e.syncPointTree_.foreachOnPath(r,(p,m)=>{const v=Un(p,r);n=n||Na(m,v)});let i=e.syncPointTree_.get(r);i?n=n||Na(i,Wt()):(i=new C3,e.syncPointTree_=e.syncPointTree_.set(r,i));const a=n!=null,l=a?new Ba(n,!0,!1):null,u=eh(e.pendingWriteTree_,t._path),g=A3(i,t,u,a?l.getNode():ot.EMPTY_NODE,a);return FR(g)}function Jl(e,t){return N3(t,e.syncPointTree_,null,eh(e.pendingWriteTree_,Wt()))}function N3(e,t,r,n){if(Tt(e.path))return O3(e,t,r,n);{const i=t.get(Wt());r==null&&i!=null&&(r=Na(i,Wt()));let a=[];const l=Ot(e.path),u=e.operationForChild(l),g=t.children.get(l);if(g&&u){const p=r?r.getImmediateChild(l):null,m=w3(n,l);a=a.concat(N3(u,g,p,m))}return i&&(a=a.concat(Sx(i,e,n,r))),a}}function O3(e,t,r,n){const i=t.get(Wt());r==null&&i!=null&&(r=Na(i,Wt()));let a=[];return t.children.inorderTraversal((l,u)=>{const g=r?r.getImmediateChild(l):null,p=w3(n,l),m=e.operationForChild(l);m&&(a=a.concat(O3(m,u,g,p)))}),i&&(a=a.concat(Sx(i,e,n,r))),a}function D3(e,t){const r=t.query,n=B0(e,r);return{hashFn:()=>(DR(t)||ot.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?KR(e,r._path,n):YR(e,r._path);{const a=Y6(i,r);return I3(e,r,null,a)}}}}function B0(e,t){const r=rh(t);return e.queryToTagMap.get(r)}function rh(e){return e._path.toString()+"$"+e._queryIdentifier}function kx(e,t){return e.tagToQueryMap.get(t)}function bx(e){const t=e.indexOf("$");return We(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new qt(e.substr(0,t))}}function Ix(e,t,r){const n=e.syncPointTree_.get(t);We(n,"Missing sync point for query tag that we're tracking");const i=eh(e.pendingWriteTree_,t);return Sx(n,r,i,null)}function JR(e){return e.fold((t,r,n)=>{if(r&&La(r))return[th(r)];{let i=[];return r&&(i=S3(r)),vn(n,(a,l)=>{i=i.concat(l)}),i}})}function Jc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(zR())(e._repo,e._path):e}function eN(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const i=rh(n),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function tN(){return GR++}function rN(e,t,r){const n=t._path,i=B0(e,t),a=D3(e,r),l=e.listenProvider_.startListening(Jc(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(n);if(i)We(!La(u.value),"If we're adding a query, it shouldn't be shadowed");else{const g=u.fold((p,m,v)=>{if(!Tt(p)&&m&&La(m))return[th(m).query];{let _=[];return m&&(_=_.concat(S3(m).map(E=>E.query))),vn(v,(E,A)=>{_=_.concat(A)}),_}});for(let p=0;p<g.length;++p){const m=g[p];e.listenProvider_.stopListening(Jc(m),B0(e,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Rx(r)}node(){return this.node_}}class Nx{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Sr(this.path_,t);return new Nx(this.syncTree_,r)}node(){return Tx(this.syncTree_,this.path_)}}const nN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},av=function(e,t,r){if(!e||typeof e!="object")return e;if(We(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return iN(e[".sv"],t,r);if(typeof e[".sv"]=="object")return sN(e[".sv"],t);We(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},iN=function(e,t,r){switch(e){case"timestamp":return r.timestamp;default:We(!1,"Unexpected server value: "+e)}},sN=function(e,t,r){e.hasOwnProperty("increment")||We(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;typeof n!="number"&&We(!1,"Unexpected increment value: "+n);const i=t.node();if(We(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const l=i.getValue();return typeof l!="number"?n:l+n},F3=function(e,t,r,n){return Ox(t,new Nx(r,e),n)},P3=function(e,t,r){return Ox(e,new Rx(t),r)};function Ox(e,t,r){const n=e.getPriority().val(),i=av(n,t.getImmediateChild(".priority"),r);let a;if(e.isLeafNode()){const l=e,u=av(l.getValue(),t,r);return u!==l.getValue()||i!==l.getPriority().val()?new en(u,Xr(i)):e}else{const l=e;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new en(i))),l.forEachChild(Tr,(u,g)=>{const p=Ox(g,t.getImmediateChild(u),r);p!==g&&(a=a.updateImmediateChild(u,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t="",r=null,n={children:{},childCount:0}){this.name=t,this.parent=r,this.node=n}}function Fx(e,t){let r=t instanceof qt?t:new qt(t),n=e,i=Ot(r);for(;i!==null;){const a=Bl(n.node.children,i)||{children:{},childCount:0};n=new Dx(i,n,a),r=ir(r),i=Ot(r)}return n}function ec(e){return e.node.value}function M3(e,t){e.node.value=t,zg(e)}function B3(e){return e.node.childCount>0}function aN(e){return ec(e)===void 0&&!B3(e)}function nh(e,t){vn(e.node.children,(r,n)=>{t(new Dx(r,e,n))})}function L3(e,t,r,n){r&&t(e),nh(e,i=>{L3(i,t,!0)})}function oN(e,t,r){let n=e.parent;for(;n!==null;){if(t(n))return!0;n=n.parent}return!1}function lu(e){return new qt(e.parent===null?e.name:lu(e.parent)+"/"+e.name)}function zg(e){e.parent!==null&&lN(e.parent,e.name,e)}function lN(e,t,r){const n=aN(r),i=As(e.node.children,t);n&&i?(delete e.node.children[t],e.node.childCount--,zg(e)):!n&&!i&&(e.node.children[t]=r.node,e.node.childCount++,zg(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/[\[\].#$\/\u0000-\u001F\u007F]/,uN=/[\[\].#$\u0000-\u001F\u007F]/,h1=10*1024*1024,Px=function(e){return typeof e=="string"&&e.length!==0&&!cN.test(e)},U3=function(e){return typeof e=="string"&&e.length!==0&&!uN.test(e)},fN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),U3(e)},dN=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!cx(e)||e&&typeof e=="object"&&As(e,".sv")},j3=function(e,t,r,n){n&&t===void 0||ih(qd(e,"value"),t,r)},ih=function(e,t,r){const n=r instanceof qt?new b5(r,e):r;if(t===void 0)throw new Error(e+"contains undefined "+eo(n));if(typeof t=="function")throw new Error(e+"contains a function "+eo(n)+" with contents = "+t.toString());if(cx(t))throw new Error(e+"contains "+t.toString()+" "+eo(n));if(typeof t=="string"&&t.length>h1/3&&Zd(t)>h1)throw new Error(e+"contains a string greater than "+h1+" utf8 bytes "+eo(n)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(vn(t,(l,u)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!Px(l)))throw new Error(e+" contains an invalid key ("+l+") "+eo(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);I5(n,l),ih(e,u,n),R5(n)}),i&&a)throw new Error(e+' contains ".value" child '+eo(n)+" in addition to actual children.")}},hN=function(e,t){let r,n;for(r=0;r<t.length;r++){n=t[r];const a=O0(n);for(let l=0;l<a.length;l++)if(!(a[l]===".priority"&&l===a.length-1)){if(!Px(a[l]))throw new Error(e+"contains an invalid key ("+a[l]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(k5);let i=null;for(r=0;r<t.length;r++){if(n=t[r],i!==null&&Pi(i,n))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},gN=function(e,t,r,n){const i=qd(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const a=[];vn(t,(l,u)=>{const g=new qt(l);if(ih(i,u,Sr(r,g)),gx(g)===".priority"&&!dN(u))throw new Error(i+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(g)}),hN(i,a)},W3=function(e,t,r,n){if(!U3(r))throw new Error(qd(e,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pN=function(e,t,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),W3(e,t,r)},Mx=function(e,t){if(Ot(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},xN=function(e,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Px(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!fN(r))throw new Error(qd(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bx(e,t){let r=null;for(let n=0;n<t.length;n++){const i=t[n],a=i.getPath();r!==null&&!s3(a,r.path)&&(e.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(i)}r&&e.eventLists_.push(r)}function Ui(e,t,r){Bx(e,r),wN(e,n=>Pi(n,t)||Pi(t,n))}function wN(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const i=e.eventLists_[n];if(i){const a=i.path;t(a)?(vN(e.eventLists_[n]),e.eventLists_[n]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function vN(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(r!==null){e.events[t]=null;const n=r.getEventRunner();Kc&&gn("event: "+r.toString()),Ql(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="repo_interrupt",_N=25;class EN{constructor(t,r,n,i){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jf(),this.transactionQueueTree_=new Dx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CN(e,t,r){if(e.stats_=dx(e.repoInfo_),e.forceRestClient_||Q6())e.server_=new Qf(e.repoInfo_,(n,i,a,l)=>{ov(e,n,i,a,l)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>lv(e,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$r(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}e.persistentConnection_=new Ms(e.repoInfo_,t,(n,i,a,l)=>{ov(e,n,i,a,l)},n=>{lv(e,n)},n=>{AN(e,n)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(n=>{e.server_.refreshAuthToken(n)}),e.appCheckProvider_.addTokenChangeListener(n=>{e.server_.refreshAppCheckToken(n.token)}),e.statsReporter_=n5(e.repoInfo_,()=>new rR(e.stats_,e.server_)),e.infoData_=new Z5,e.infoSyncTree_=new sv({startListening:(n,i,a,l)=>{let u=[];const g=e.infoData_.getNode(n._path);return g.isEmpty()||(u=ou(e.infoSyncTree_,n._path,g),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),Lx(e,"connected",!1),e.serverSyncTree_=new sv({startListening:(n,i,a,l)=>(e.server_.listen(n,a,i,(u,g)=>{const p=l(u,g);Ui(e.eventQueue_,n._path,p)}),[]),stopListening:(n,i)=>{e.server_.unlisten(n,i)}})}function H3(e){const r=e.infoData_.getNode(new qt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function sh(e){return nN({timestamp:H3(e)})}function ov(e,t,r,n,i){e.dataUpdateCount++;const a=new qt(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let l=[];if(i)if(n){const g=Xf(r,p=>Xr(p));l=qR(e.serverSyncTree_,a,g,i)}else{const g=Xr(r);l=R3(e.serverSyncTree_,a,g,i)}else if(n){const g=Xf(r,p=>Xr(p));l=$R(e.serverSyncTree_,a,g)}else{const g=Xr(r);l=ou(e.serverSyncTree_,a,g)}let u=a;l.length>0&&(u=Hl(e,a)),Ui(e.eventQueue_,u,l)}function lv(e,t){Lx(e,"connected",t),t===!1&&bN(e)}function AN(e,t){vn(t,(r,n)=>{Lx(e,r,n)})}function Lx(e,t,r){const n=new qt("/.info/"+t),i=Xr(r);e.infoData_.updateSnapshot(n,i);const a=ou(e.infoSyncTree_,n,i);Ui(e.eventQueue_,n,a)}function Ux(e){return e.nextWriteId_++}function SN(e,t,r){const n=QR(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(i=>{const a=Xr(i).withIndex(t._queryParams.getIndex());ZR(e.serverSyncTree_,t,r,!0);let l;if(t._queryParams.loadsAllData())l=ou(e.serverSyncTree_,t._path,a);else{const u=B0(e.serverSyncTree_,t);l=R3(e.serverSyncTree_,t._path,a,u)}return Ui(e.eventQueue_,t._path,l),I3(e.serverSyncTree_,t,r,null,!0),a},i=>(cu(e,"get for query "+$r(t)+" failed: "+i),Promise.reject(new Error(i))))}function TN(e,t,r,n,i){cu(e,"set",{path:t.toString(),value:r,priority:n});const a=sh(e),l=Xr(r,n),u=Tx(e.serverSyncTree_,t),g=P3(l,u,a),p=Ux(e),m=b3(e.serverSyncTree_,t,g,p,!0);Bx(e.eventQueue_,m),e.server_.put(t.toString(),l.val(!0),(_,E)=>{const A=_==="ok";A||Hn("set at "+t+" failed: "+_);const C=ga(e.serverSyncTree_,p,!A);Ui(e.eventQueue_,t,C),Gg(e,i,_,E)});const v=Wx(e,t);Hl(e,v),Ui(e.eventQueue_,v,[])}function kN(e,t,r,n){cu(e,"update",{path:t.toString(),value:r});let i=!0;const a=sh(e),l={};if(vn(r,(u,g)=>{i=!1,l[u]=F3(Sr(t,u),Xr(g),e.serverSyncTree_,a)}),i)gn("update() called with empty data.  Don't do anything."),Gg(e,n,"ok",void 0);else{const u=Ux(e),g=XR(e.serverSyncTree_,t,l,u);Bx(e.eventQueue_,g),e.server_.merge(t.toString(),r,(p,m)=>{const v=p==="ok";v||Hn("update at "+t+" failed: "+p);const _=ga(e.serverSyncTree_,u,!v),E=_.length>0?Hl(e,t):t;Ui(e.eventQueue_,E,_),Gg(e,n,p,m)}),vn(r,p=>{const m=Wx(e,Sr(t,p));Hl(e,m)}),Ui(e.eventQueue_,t,[])}}function bN(e){cu(e,"onDisconnectEvents");const t=sh(e),r=Jf();Lg(e.onDisconnect_,Wt(),(i,a)=>{const l=F3(i,a,e.serverSyncTree_,t);h3(r,i,l)});let n=[];Lg(r,Wt(),(i,a)=>{n=n.concat(ou(e.serverSyncTree_,i,a));const l=Wx(e,i);Hl(e,l)}),e.onDisconnect_=Jf(),Ui(e.eventQueue_,Wt(),n)}function IN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yN)}function cu(e,...t){let r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),gn(r,...t)}function Gg(e,t,r,n){t&&Ql(()=>{if(r==="ok")t(null);else{const i=(r||"error").toUpperCase();let a=i;n&&(a+=": "+n);const l=new Error(a);l.code=i,t(l)}})}function V3(e,t,r){return Tx(e.serverSyncTree_,t,r)||ot.EMPTY_NODE}function jx(e,t=e.transactionQueueTree_){if(t||ah(e,t),ec(t)){const r=G3(e,t);We(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&RN(e,lu(t),r)}else B3(t)&&nh(t,r=>{jx(e,r)})}function RN(e,t,r){const n=r.map(p=>p.currentWriteId),i=V3(e,t,n);let a=i;const l=i.hash();for(let p=0;p<r.length;p++){const m=r[p];We(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=Un(t,m.path);a=a.updateChild(v,m.currentOutputSnapshotRaw)}const u=a.val(!0),g=t;e.server_.put(g.toString(),u,p=>{cu(e,"transaction put response",{path:g.toString(),status:p});let m=[];if(p==="ok"){const v=[];for(let _=0;_<r.length;_++)r[_].status=2,m=m.concat(ga(e.serverSyncTree_,r[_].currentWriteId)),r[_].onComplete&&v.push(()=>r[_].onComplete(null,!0,r[_].currentOutputSnapshotResolved)),r[_].unwatcher();ah(e,Fx(e.transactionQueueTree_,t)),jx(e,e.transactionQueueTree_),Ui(e.eventQueue_,t,m);for(let _=0;_<v.length;_++)Ql(v[_])}else{if(p==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{Hn("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=p}Hl(e,t)}},l)}function Hl(e,t){const r=z3(e,t),n=lu(r),i=G3(e,r);return NN(e,i,n),n}function NN(e,t,r){if(t.length===0)return;const n=[];let i=[];const l=t.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const g=t[u],p=Un(r,g.path);let m=!1,v;if(We(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)m=!0,v=g.abortReason,i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=_N)m=!0,v="maxretry",i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0));else{const _=V3(e,g.path,l);g.currentInputSnapshot=_;const E=t[u].update(_.val());if(E!==void 0){ih("transaction failed: Data returned ",E,g.path);let A=Xr(E);typeof E=="object"&&E!=null&&As(E,".priority")||(A=A.updatePriority(_.getPriority()));const R=g.currentWriteId,I=sh(e),b=P3(A,_,I);g.currentOutputSnapshotRaw=A,g.currentOutputSnapshotResolved=b,g.currentWriteId=Ux(e),l.splice(l.indexOf(R),1),i=i.concat(b3(e.serverSyncTree_,g.path,b,g.currentWriteId,g.applyLocally)),i=i.concat(ga(e.serverSyncTree_,R,!0))}else m=!0,v="nodata",i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0))}Ui(e.eventQueue_,r,i),i=[],m&&(t[u].status=2,function(_){setTimeout(_,Math.floor(0))}(t[u].unwatcher),t[u].onComplete&&(v==="nodata"?n.push(()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot)):n.push(()=>t[u].onComplete(new Error(v),!1,null))))}ah(e,e.transactionQueueTree_);for(let u=0;u<n.length;u++)Ql(n[u]);jx(e,e.transactionQueueTree_)}function z3(e,t){let r,n=e.transactionQueueTree_;for(r=Ot(t);r!==null&&ec(n)===void 0;)n=Fx(n,r),t=ir(t),r=Ot(t);return n}function G3(e,t){const r=[];return X3(e,t,r),r.sort((n,i)=>n.order-i.order),r}function X3(e,t,r){const n=ec(t);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);nh(t,i=>{X3(e,i,r)})}function ah(e,t){const r=ec(t);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,M3(t,r.length>0?r:void 0)}nh(t,n=>{ah(e,n)})}function Wx(e,t){const r=lu(z3(e,t)),n=Fx(e.transactionQueueTree_,t);return oN(n,i=>{g1(e,i)}),g1(e,n),L3(n,i=>{g1(e,i)}),r}function g1(e,t){const r=ec(t);if(r){const n=[];let i=[],a=-1;for(let l=0;l<r.length;l++)r[l].status===3||(r[l].status===1?(We(a===l-1,"All SENT items should be at beginning of queue."),a=l,r[l].status=3,r[l].abortReason="set"):(We(r[l].status===0,"Unexpected transaction status in abort"),r[l].unwatcher(),i=i.concat(ga(e.serverSyncTree_,r[l].currentWriteId,!0)),r[l].onComplete&&n.push(r[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?M3(t,void 0):r.length=a+1,Ui(e.eventQueue_,lu(t),i);for(let l=0;l<n.length;l++)Ql(n[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(e){let t="";const r=e.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function DN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const r of e.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Hn(`Invalid query segment '${r}' in query '${e}'`)}return t}const cv=function(e,t){const r=FN(e),n=r.namespace;r.domain==="firebase.com"&&Xs(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||V6();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new KC(r.host,r.secure,n,i,t,"",n!==r.subdomain),path:new qt(r.pathString)}},FN=function(e){let t="",r="",n="",i="",a="",l=!0,u="https",g=443;if(typeof e=="string"){let p=e.indexOf("//");p>=0&&(u=e.substring(0,p-1),e=e.substring(p+2));let m=e.indexOf("/");m===-1&&(m=e.length);let v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(m,v)),m<v&&(i=ON(e.substring(m,v)));const _=DN(e.substring(Math.min(e.length,v)));p=t.indexOf(":"),p>=0?(l=u==="https"||u==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const E=t.slice(0,p);if(E.toLowerCase()==="localhost")r="localhost";else if(E.split(".").length<=2)r=E;else{const A=t.indexOf(".");n=t.substring(0,A).toLowerCase(),r=t.substring(A+1),a=n}"ns"in _&&(a=_.ns)}return{host:t,port:g,domain:r,subdomain:n,secure:l,scheme:u,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PN=function(){let e=0;const t=[];return function(r){const n=r===e;e=r;let i;const a=new Array(8);for(i=7;i>=0;i--)a[i]=uv.charAt(r%64),r=Math.floor(r/64);We(r===0,"Cannot push at time == 0");let l=a.join("");if(n){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)l+=uv.charAt(t[i]);return We(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,r,n,i){this.eventType=t,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$r(this.snapshot.exportVal())}}class BN{constructor(t,r,n){this.eventRegistration=t,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return We(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,r,n,i){this._repo=t,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return Tt(this._path)?null:gx(this._path)}get ref(){return new qs(this._repo,this._path)}get _queryIdentifier(){const t=Kw(this._queryParams),r=ux(t);return r==="{}"?"default":r}get _queryObject(){return Kw(this._queryParams)}isEqual(t){if(t=Ks(t),!(t instanceof Hx))return!1;const r=this._repo===t._repo,n=s3(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+T5(this._path)}}class qs extends Hx{constructor(t,r){super(t,r,new wx,!1)}get parent(){const t=i3(this._path);return t===null?null:new qs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class L0{constructor(t,r,n){this._node=t,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new qt(t),n=U0(this.ref,t);return new L0(this._node.getChild(r),n,Tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>t(new L0(i,U0(this.ref,n),Tr)))}hasChild(t){const r=new qt(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ct(e,t){return e=Ks(e),e._checkNotDeleted("ref"),t!==void 0?U0(e._root,t):e._root}function U0(e,t){return e=Ks(e),Ot(e._path)===null?pN("child","path",t):W3("child","path",t),new qs(e._repo,Sr(e._path,t))}function oo(e,t){e=Ks(e),Mx("push",e._path),j3("push",t,e._path,!0);const r=H3(e._repo),n=PN(r),i=U0(e,n),a=U0(e,n);let l;return l=Promise.resolve(a),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}function $3(e){return Mx("remove",e._path),ti(e,null)}function ti(e,t){e=Ks(e),Mx("set",e._path),j3("set",t,e._path,!1);const r=new ru;return TN(e._repo,e._path,t,null,r.wrapCallback(()=>{})),r.promise}function to(e,t){gN("update",t,e._path);const r=new ru;return kN(e._repo,e._path,t,r.wrapCallback(()=>{})),r.promise}function Br(e){e=Ks(e);const t=new LN(()=>{}),r=new Vx(t);return SN(e._repo,e,r).then(n=>new L0(n,new qs(e._repo,e._path),e._queryParams.getIndex()))}class Vx{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const n=r._queryParams.getIndex();return new MN("value",this,new L0(t.snapshotNode,new qs(r._repo,r._path),n))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new BN(this,t,r):null}matches(t){return t instanceof Vx?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}LR(qs);VR(qs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="FIREBASE_DATABASE_EMULATOR_HOST",Xg={};let jN=!1;function WN(e,t,r,n){e.repoInfo_=new KC(`${t}:${r}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),n&&(e.authTokenProvider_=n)}function HN(e,t,r,n,i){let a=n||e.options.databaseURL;a===void 0&&(e.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gn("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l=cv(a,i),u=l.repoInfo,g;typeof process<"u"&&Nw&&(g=Nw[UN]),g?(a=`http://${g}?ns=${u.namespace}`,l=cv(a,i),u=l.repoInfo):l.repoInfo.secure;const p=new e5(e.name,e.options,t);xN("Invalid Firebase Database URL",l),Tt(l.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const m=zN(u,e,p,new J6(e.name,r));return new GN(m,e)}function VN(e,t){const r=Xg[t];(!r||r[e.key]!==e)&&Xs(`Database ${t}(${e.repoInfo_}) has already been deleted.`),IN(e),delete r[e.key]}function zN(e,t,r,n){let i=Xg[t.name];i||(i={},Xg[t.name]=i);let a=i[e.toURLString()];return a&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new EN(e,jN,r,n),i[e.toURLString()]=a,a}class GN{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qs(this._repo,Wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(VN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xs("Cannot call "+t+" on a deleted database.")}}function XN(e=OC(),t){const r=nu(e,"database").getImmediate({identifier:t});if(!r._instanceStarted){const n=fI("database");n&&$N(r,...n)}return r}function $N(e,t,r,n={}){e=Ks(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Xs("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let a;if(i.repoInfo_.nodeAdmin)n.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new wf(wf.OWNER);else if(n.mockUserToken){const l=typeof n.mockUserToken=="string"?n.mockUserToken:dI(n.mockUserToken,e.app.options.projectId);a=new wf(l)}WN(i,t,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(e){B6(k6),Pa(new zs("database",(t,{instanceIdentifier:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return HN(n,i,a,r)},"PUBLIC").setMultipleInstances(!0)),_s(Ow,Dw,e),_s(Ow,Dw,"esm2017")}Ms.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ms.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};YN();var KN="firebase",qN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(KN,qN,"app");const Y3="@firebase/installations",zx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=1e4,q3=`w:${zx}`,Z3="FIS_v2",ZN="https://firebaseinstallations.googleapis.com/v1",QN=60*60*1e3,JN="installations",e7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ao=new Kd(JN,e7,t7);function Q3(e){return e instanceof Fo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3({projectId:e}){return`${ZN}/projects/${e}/installations`}function eA(e){return{token:e.token,requestStatus:2,expiresIn:n7(e.expiresIn),creationTime:Date.now()}}async function tA(e,t){const n=(await t.json()).error;return Ao.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function rA({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function r7(e,{refreshToken:t}){const r=rA(e);return r.append("Authorization",i7(t)),r}async function nA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function n7(e){return Number(e.replace("s","000"))}function i7(e){return`${Z3} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=J3(e),i=rA(e),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:r,authVersion:Z3,appId:e.appId,sdkVersion:q3},u={method:"POST",headers:i,body:JSON.stringify(l)},g=await nA(()=>fetch(n,u));if(g.ok){const p=await g.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:eA(p.authToken)}}else throw await tA("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=/^[cdef][\w-]{21}$/,$g="";function l7(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=c7(e);return o7.test(r)?r:$g}catch{return $g}}function c7(e){return a7(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new Map;function aA(e,t){const r=oh(e);oA(r,t),u7(r,t)}function oA(e,t){const r=sA.get(e);if(r)for(const n of r)n(t)}function u7(e,t){const r=f7();r&&r.postMessage({key:e,fid:t}),d7()}let lo=null;function f7(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=e=>{oA(e.data.key,e.data.fid)}),lo}function d7(){sA.size===0&&lo&&(lo.close(),lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="firebase-installations-database",g7=1,So="firebase-installations-store";let p1=null;function Gx(){return p1||(p1=RC(h7,g7,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(So)}}})),p1}async function od(e,t){const r=oh(e),i=(await Gx()).transaction(So,"readwrite"),a=i.objectStore(So),l=await a.get(r);return await a.put(t,r),await i.done,(!l||l.fid!==t.fid)&&aA(e,t.fid),t}async function lA(e){const t=oh(e),n=(await Gx()).transaction(So,"readwrite");await n.objectStore(So).delete(t),await n.done}async function lh(e,t){const r=oh(e),i=(await Gx()).transaction(So,"readwrite"),a=i.objectStore(So),l=await a.get(r),u=t(l);return u===void 0?await a.delete(r):await a.put(u,r),await i.done,u&&(!l||l.fid!==u.fid)&&aA(e,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(e){let t;const r=await lh(e.appConfig,n=>{const i=p7(n),a=x7(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===$g?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function p7(e){const t=e||{fid:l7(),registrationStatus:0};return cA(t)}function x7(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ao.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=m7(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:w7(e)}:{installationEntry:t}}async function m7(e,t){try{const r=await s7(e,t);return od(e.appConfig,r)}catch(r){throw Q3(r)&&r.customData.serverCode===409?await lA(e.appConfig):await od(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function w7(e){let t=await fv(e.appConfig);for(;t.registrationStatus===1;)await iA(100),t=await fv(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Xx(e);return n||r}return t}function fv(e){return lh(e,t=>{if(!t)throw Ao.create("installation-not-found");return cA(t)})}function cA(e){return v7(e)?{fid:e.fid,registrationStatus:0}:e}function v7(e){return e.registrationStatus===1&&e.registrationTime+K3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7({appConfig:e,heartbeatServiceProvider:t},r){const n=_7(e,r),i=r7(e,r),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:q3,appId:e.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},g=await nA(()=>fetch(n,u));if(g.ok){const p=await g.json();return eA(p)}else throw await tA("Generate Auth Token",g)}function _7(e,{fid:t}){return`${J3(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(e,t=!1){let r;const n=await lh(e.appConfig,a=>{if(!uA(a))throw Ao.create("not-registered");const l=a.authToken;if(!t&&A7(l))return a;if(l.requestStatus===1)return r=E7(e,t),a;{if(!navigator.onLine)throw Ao.create("app-offline");const u=T7(a);return r=C7(e,u),u}});return r?await r:n.authToken}async function E7(e,t){let r=await dv(e.appConfig);for(;r.authToken.requestStatus===1;)await iA(100),r=await dv(e.appConfig);const n=r.authToken;return n.requestStatus===0?$x(e,t):n}function dv(e){return lh(e,t=>{if(!uA(t))throw Ao.create("not-registered");const r=t.authToken;return k7(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function C7(e,t){try{const r=await y7(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await od(e.appConfig,n),r}catch(r){if(Q3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await lA(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await od(e.appConfig,n)}throw r}}function uA(e){return e!==void 0&&e.registrationStatus===2}function A7(e){return e.requestStatus===2&&!S7(e)}function S7(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+QN}function T7(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function k7(e){return e.requestStatus===1&&e.requestTime+K3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(e){const t=e,{installationEntry:r,registrationPromise:n}=await Xx(t);return n?n.catch(console.error):$x(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(e,t=!1){const r=e;return await R7(r),(await $x(r,t)).token}async function R7(e){const{registrationPromise:t}=await Xx(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(e){if(!e||!e.options)throw x1("App Configuration");if(!e.name)throw x1("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw x1(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function x1(e){return Ao.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="installations",O7="installations-internal",D7=e=>{const t=e.getProvider("app").getImmediate(),r=N7(t),n=nu(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},F7=e=>{const t=e.getProvider("app").getImmediate(),r=nu(t,fA).getImmediate();return{getId:()=>b7(r),getToken:i=>I7(r,i)}};function P7(){Pa(new zs(fA,D7,"PUBLIC")),Pa(new zs(O7,F7,"PRIVATE"))}P7();_s(Y3,zx);_s(Y3,zx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="analytics",M7="firebase_id",B7="origin",L7=60*1e3,U7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new ox("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mi=new Kd("analytics","Analytics",j7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(e){if(!e.startsWith(Yx)){const t=mi.create("invalid-gtag-resource",{gtagURL:e});return oi.warn(t.message),""}return e}function dA(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function H7(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function V7(e,t){const r=H7("firebase-js-sdk-policy",{createScriptURL:W7}),n=document.createElement("script"),i=`${Yx}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function z7(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function G7(e,t,r,n,i,a){const l=n[i];try{if(l)await t[l];else{const g=(await dA(r)).find(p=>p.measurementId===i);g&&await t[g.appId]}}catch(u){oi.error(u)}e("config",i,a)}async function X7(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await dA(r);for(const g of l){const p=u.find(v=>v.measurementId===g),m=p&&t[p.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){oi.error(a)}}function $7(e,t,r,n){async function i(a,...l){try{if(a==="event"){const[u,g]=l;await X7(e,t,r,u,g)}else if(a==="config"){const[u,g]=l;await G7(e,t,r,n,u,g)}else if(a==="consent"){const[u,g]=l;e("consent",u,g)}else if(a==="get"){const[u,g,p]=l;e("get",u,g,p)}else if(a==="set"){const[u]=l;e("set",u)}else e(a,...l)}catch(u){oi.error(u)}}return i}function Y7(e,t,r,n,i){let a=function(...l){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=$7(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function K7(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(Yx)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=30,Z7=1e3;class Q7{constructor(t={},r=Z7){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const hA=new Q7;function J7(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function eO(e){var t;const{appId:r,apiKey:n}=e,i={method:"GET",headers:J7(n)},a=U7.replace("{app-id}",r),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const g=await l.json();!((t=g.error)===null||t===void 0)&&t.message&&(u=g.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function tO(e,t=hA,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw mi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw mi.create("no-api-key")}const l=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new iO;return setTimeout(async()=>{u.abort()},L7),gA({appId:n,apiKey:i,measurementId:a},l,u,t)}async function gA(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=hA){var a;const{appId:l,measurementId:u}=e;try{await rO(n,t)}catch(g){if(u)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:u};throw g}try{const g=await eO(e);return i.deleteThrottleMetadata(l),g}catch(g){const p=g;if(!nO(p)){if(i.deleteThrottleMetadata(l),u)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:u};throw g}const m=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?Ew(r,i.intervalMillis,q7):Ew(r,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return i.setThrottleMetadata(l,v),oi.debug(`Calling attemptFetch again in ${m} millis`),gA(e,v,n,i)}}function rO(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(mi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function nO(e){if(!(e instanceof Fo)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class iO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function sO(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,l=Object.assign(Object.assign({},n),{send_to:a});e("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(){if(SC())try{await TC()}catch(e){return oi.warn(mi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return oi.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function oO(e,t,r,n,i,a,l){var u;const g=tO(e);g.then(E=>{r[E.measurementId]=E.appId,e.options.measurementId&&E.measurementId!==e.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>oi.error(E)),t.push(g);const p=aO().then(E=>{if(E)return n.getId()}),[m,v]=await Promise.all([g,p]);K7(a)||V7(a,m.measurementId),i("js",new Date);const _=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return _[B7]="firebase",_.update=!0,v!=null&&(_[M7]=v),i("config",m.measurementId,_),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t){this.app=t}_delete(){return delete e0[this.app.options.appId],Promise.resolve()}}let e0={},hv=[];const gv={};let m1="dataLayer",cO="gtag",pv,pA,xv=!1;function uO(){const e=[];if(gI()&&e.push("This is a browser extension environment."),mI()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=mi.create("invalid-analytics-context",{errorInfo:t});oi.warn(r.message)}}function fO(e,t,r){uO();const n=e.options.appId;if(!n)throw mi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mi.create("no-api-key");if(e0[n]!=null)throw mi.create("already-exists",{id:n});if(!xv){z7(m1);const{wrappedGtag:a,gtagCore:l}=Y7(e0,hv,gv,m1,cO);pA=a,pv=l,xv=!0}return e0[n]=oO(e,hv,gv,t,pv,m1,r),new lO(e)}function dO(e=OC()){e=Ks(e);const t=nu(e,ld);return t.isInitialized()?t.getImmediate():hO(e)}function hO(e,t={}){const r=nu(e,ld);if(r.isInitialized()){const i=r.getImmediate();if($f(t,r.getOptions()))return i;throw mi.create("already-initialized")}return r.initialize({options:t})}function gO(e,t,r,n){e=Ks(e),sO(pA,e0[e.app.options.appId],t,r,n).catch(i=>oi.error(i))}const mv="@firebase/analytics",wv="0.10.8";function pO(){Pa(new zs(ld,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return fO(n,i,r)},"PUBLIC")),Pa(new zs("analytics-internal",e,"PRIVATE")),_s(mv,wv),_s(mv,wv,"esm2017");function e(t){try{const r=t.getProvider(ld).getImmediate();return{logEvent:(n,i,a)=>gO(r,n,i,a)}}catch(r){throw mi.create("interop-component-reg-failed",{reason:r})}}}pO();const xO={apiKey:"AIzaSyBVLs9aP79sEfYy9EjtUan6J5jOX21AoNU",authDomain:"iqos-d3074.firebaseapp.com",databaseURL:"https://iqos-d3074-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"iqos-d3074",storageBucket:"iqos-d3074.firebasestorage.app",messagingSenderId:"928334092425",appId:"1:928334092425:web:3b6d5898ab46d835854e58",measurementId:"G-JN7DT8HRGN"},xA=NC(xO);dO(xA);const At=XN(xA),Jr={createProduct:async e=>{try{const t=Ct(At,"products"),r=oo(t),n=e.useBarcode!==!1,i={id:r.key,...e,stock:n?0:e.stock,createdAt:Date.now(),updatedAt:Date.now()};if(await ti(r,i),n){const a=Ct(At,`productUnits/${r.key}`);await ti(a,{})}return i}catch(t){throw new Error(`Error creating product: ${t.message}`)}},getUnitsWithBarcodeCount:async e=>{try{const t=Ct(At,`productUnits/${e}`),r=await Br(t);return r.exists()?Object.values(r.val()).filter(i=>i.barcode).length:0}catch(t){throw new Error(`Error getting units count: ${t.message}`)}},getReadyStock:async e=>{try{const t=Ct(At,`products/${e}`),r=await Br(t);if(!r.exists())return 0;const n=r.val();if(n.useBarcode===!1)return n.stock||0;const i=Ct(At,`productUnits/${e}`),a=await Br(i);return a.exists()?Object.values(a.val()).filter(u=>u.barcode&&u.status==="in_stock").length:0}catch(t){throw new Error(`Error getting ready stock: ${t.message}`)}},updateProductStockFromUnits:async e=>{try{const t=Ct(At,`productUnits/${e}`),r=await Br(t);let n=0;r.exists()&&(n=Object.values(r.val()).filter(l=>l&&l.status==="in_stock").length);const i=Ct(At,`products/${e}`);return await to(i,{stock:n,updatedAt:Date.now()}),n}catch(t){throw new Error(`Error updating product stock: ${t.message}`)}},getAllProducts:async()=>{try{const e=Ct(At,"products"),t=await Br(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching products: ${e.message}`)}},getProductById:async e=>{try{const t=Ct(At,`products/${e}`),r=await Br(t);return r.exists()?r.val():null}catch(t){throw new Error(`Error fetching product: ${t.message}`)}},getProductByBarcode:async e=>{try{const t=Ct(At,"products"),r=await Br(t);if(r.exists()){const n=Object.values(r.val());for(const i of n){const a=Ct(At,`productUnits/${i.id}`),l=await Br(a);if(l.exists()){const g=Object.values(l.val()).find(p=>p.barcode===e);if(g)return{...i,matchedUnitId:g.unitId}}}}return null}catch(t){throw new Error(`Error fetching product by barcode: ${t.message}`)}},addBarcodeToProduct:async(e,t)=>{try{if(!t)throw new Error("Barcode is required");const r=Ct(At,`products/${e}`),n=await Br(r);if(!n.exists())throw new Error("Product not found");if(n.val().useBarcode===!1)throw new Error("Product tidak menggunakan barcode");const a=await Br(Ct(At,"productUnits"));if(a.exists()){const p=Object.values(a.val());for(const m of p)if(Object.values(m||{}).some(_=>_&&_.barcode===t))throw new Error("Barcode sudah dipakai unit lain")}const l=Ct(At,`productUnits/${e}`),u=await Br(l);let g;if(u.exists()){const p=u.val(),m=Object.values(p).find(v=>v&&!v.barcode&&v.status==="in_stock");m&&(g=Ct(At,`productUnits/${e}/${m.unitId}`))}if(!g){const p=oo(l);await ti(p,{unitId:p.key,productId:e,barcode:null,status:"in_stock",createdAt:Date.now()}),g=p}return await to(g,{barcode:t,updatedAt:Date.now()}),await Jr.updateProductStockFromUnits(e),!0}catch(r){throw new Error(`Error adding barcode: ${r.message}`)}},updateProduct:async(e,t)=>{try{const r=Ct(At,`products/${e}`),n={...t,updatedAt:Date.now()};return await to(r,n),!0}catch(r){throw new Error(`Error updating product: ${r.message}`)}},deleteProduct:async e=>{try{const t=Ct(At,`products/${e}`);return await $3(t),!0}catch(t){throw new Error(`Error deleting product: ${t.message}`)}},updateStock:async(e,t,r,n)=>{try{const i=Ct(At,`products/${e}`),a=await Br(i);if(!a.exists())throw new Error("Product not found");const l=a.val(),u=l.stock+t;if(u<0)throw new Error("Insufficient stock");await to(i,{stock:u,updatedAt:Date.now()});const g=Ct(At,"stockMovements"),p=oo(g),m={id:p.key,productId:e,productName:l.name,type:t>0?"in":"out",quantity:Math.abs(t),reason:r,referenceId:n,createdAt:Date.now()};return await ti(p,m),!0}catch(i){throw new Error(`Error updating stock: ${i.message}`)}},updateStockAndMarkUnitsSold:async(e,t,r)=>{try{const n=Ct(At,`products/${e}`),i=await Br(n);if(!i.exists())throw new Error("Product not found");const a=i.val();if(a.useBarcode!==!1){const p=Ct(At,`productUnits/${e}`),m=await Br(p);if(m.exists()){const v=m.val(),_=Object.values(v).filter(A=>A.status==="in_stock");if(_.length<t)throw new Error(`Insufficient units available. Available: ${_.length}, Requested: ${t}`);let E=0;for(const[A,C]of Object.entries(v))C.status==="in_stock"&&E<t&&(await to(Ct(At,`productUnits/${e}/${A}`),{status:"sold",soldAt:Date.now(),saleId:r,updatedAt:Date.now()}),E++);await Jr.updateProductStockFromUnits(e)}}else{const p=a.stock-t;if(p<0)throw new Error("Insufficient stock");await to(n,{stock:p,updatedAt:Date.now()})}const l=Ct(At,"stockMovements"),u=oo(l),g={id:u.key,productId:e,productName:a.name,type:"out",quantity:t,reason:"sale",referenceId:r,createdAt:Date.now()};return await ti(u,g),!0}catch(n){throw new Error(`Error updating stock: ${n.message}`)}}},mA={createSale:async e=>{try{const t=Ct(At,"sales"),r=oo(t),n={id:r.key,...e,createdAt:Date.now(),status:"completed"};await ti(r,n);for(const i of e.items)await Jr.updateStockAndMarkUnitsSold(i.productId,i.quantity,r.key);return n}catch(t){throw new Error(`Error creating sale: ${t.message}`)}},getAllSales:async()=>{try{const e=Ct(At,"sales"),t=await Br(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching sales: ${e.message}`)}},getSaleById:async e=>{try{const t=Ct(At,`sales/${e}`),r=await Br(t);return r.exists()?r.val():null}catch(t){throw new Error(`Error fetching sale: ${t.message}`)}}},$u={getAllCategories:async()=>{try{const e=Ct(At,"categories"),t=await Br(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching categories: ${e.message}`)}},createCategory:async e=>{try{const t=Ct(At,"categories"),r=oo(t),n={id:r.key,name:e.name,createdAt:Date.now(),updatedAt:Date.now()};return await ti(r,n),n}catch(t){throw new Error(`Error creating category: ${t.message}`)}},updateCategory:async(e,t)=>{try{const r=Ct(At,`categories/${e}`),n={...t,updatedAt:Date.now()};return await to(r,n),!0}catch(r){throw new Error(`Error updating category: ${r.message}`)}},deleteCategory:async e=>{try{const t=Ct(At,`categories/${e}`);return await $3(t),!0}catch(t){throw new Error(`Error deleting category: ${t.message}`)}},getCategoriesFromProducts:async()=>{try{const e=Ct(At,"products"),t=await Br(e);if(t.exists()){const r=Object.values(t.val());return[...new Set(r.map(i=>i.category).filter(Boolean))].map(i=>({name:i}))}return[]}catch(e){throw new Error(`Error fetching categories from products: ${e.message}`)}}};var $e;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($e||($e={}));var vv=new Map([[$e.QR_CODE,"QR_CODE"],[$e.AZTEC,"AZTEC"],[$e.CODABAR,"CODABAR"],[$e.CODE_39,"CODE_39"],[$e.CODE_93,"CODE_93"],[$e.CODE_128,"CODE_128"],[$e.DATA_MATRIX,"DATA_MATRIX"],[$e.MAXICODE,"MAXICODE"],[$e.ITF,"ITF"],[$e.EAN_13,"EAN_13"],[$e.EAN_8,"EAN_8"],[$e.PDF_417,"PDF_417"],[$e.RSS_14,"RSS_14"],[$e.RSS_EXPANDED,"RSS_EXPANDED"],[$e.UPC_A,"UPC_A"],[$e.UPC_E,"UPC_E"],[$e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),yv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(yv||(yv={}));function mO(e){return Object.values($e).includes(e)}var cd;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cd||(cd={}));var wO=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[cd.SCAN_TYPE_CAMERA,cd.SCAN_TYPE_FILE],e}(),wA=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!vv.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,vv.get(t))},e}(),_v=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Yg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Yg||(Yg={}));var vO=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Yg.UNKWOWN_ERROR}},e}(),yO=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function bs(e){return typeof e>"u"||e===null}var pl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),vA=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),l=Object.keys(t),u=0,g=l;u<g.length;u++){var p=g[u];if(a.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),Kg={exports:{}};(function(e,t){(function(r,n){n(t)})(xc,function(r){function n(N){return N==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,s){N.__proto__=s}||function(N,s){for(var o in s)s.hasOwnProperty(o)&&(N[o]=s[o])};function a(N,s){i(N,s);function o(){this.constructor=N}N.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function l(N,s){var o=Object.setPrototypeOf;o?o(N,s):N.__proto__=s}function u(N,s){s===void 0&&(s=N.constructor);var o=Error.captureStackTrace;o&&o(N,s)}var g=function(N){a(s,N);function s(o){var c=this.constructor,f=N.call(this,o)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),l(f,c.prototype),u(f),f}return s}(Error);class p extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class m extends p{}m.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,f){const d=this.binarizer.getLuminanceSource().crop(s,o,c,f);return new _(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends p{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(s,o,c,f,d){for(;d--;)c[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class R extends p{}R.kind="IndexOutOfBoundsException";class I extends R{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class b{static fill(s,o){for(let c=0,f=s.length;c<f;c++)s[c]=o}static fillWithin(s,o,c,f){b.rangeCheck(s.length,o,c);for(let d=o;d<c;d++)s[d]=f}static rangeCheck(s,o,c){if(o>c)throw new v("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new I(o);if(c>s)throw new I(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(d=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(d=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const f=c-o,d=new Int32Array(f);return C.arraycopy(s,o,d,0,f),d}static binarySearch(s,o,c){c===void 0&&(c=b.numberComparator);let f=0,d=s.length-1;for(;f<=d;){const h=d+f>>1,x=c(o,s[h]);if(x>0)f=h+1;else if(x<0)d=h-1;else return h}return-f-1}static numberComparator(s,o){return s-o}}class S{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=L.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=L.makeArray(s);C.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),d=c[f];d&=~((1<<(s&31))-1);const h=c.length;for(;d===0;){if(++f===h)return o;d=c[f]}const x=f*32+S.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),d=~c[f];d&=~((1<<(s&31))-1);const h=c.length;for(;d===0;){if(++f===h)return o;d=~c[f]}const x=f*32+S.numberOfTrailingZeros(d);return x>o?o:x}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new v;if(o===s)return;o--;const c=Math.floor(s/32),f=Math.floor(o/32),d=this.bits;for(let h=c;h<=f;h++){const x=h>c?0:s&31,y=(2<<(h<f?31:o&31))-(1<<x);d[h]|=y}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new v;if(o===s)return!0;o--;const f=Math.floor(s/32),d=Math.floor(o/32),h=this.bits;for(let x=f;x<=d;x++){const w=x>f?0:s&31,T=(2<<(x<d?31:o&31))-(1<<w)&4294967295;if((h[x]&T)!==(c?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const o=this.bits;for(let c=0,f=o.length;c<f;c++)o[c]^=s.bits[c]}toBytes(s,o,c,f){for(let d=0;d<f;d++){let h=0;for(let x=0;x<8;x++)this.get(s)&&(h|=1<<7-x),s++;o[c+d]=h}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,f=this.bits;for(let d=0;d<c;d++){let h=f[d];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,s[o-d]=h}if(this.size!==c*32){const d=c*32-this.size;let h=s[0]>>>d;for(let x=1;x<c;x++){const w=s[x];h|=w<<32-d,s[x-1]=h,h=w>>>d}s[c-1]=h}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof L))return!1;const o=s;return this.size===o.size&&b.equals(this.bits,o.bits)}hashCode(){return 31*this.size+b.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new L(this.size,this.bits.slice())}}var q;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var X=q;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var Z;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class W{constructor(s,o,c,...f){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,W.VALUE_IDENTIFIER_TO_ECI.set(s,this),W.NAME_TO_ECI.set(c,this);const d=this.values;for(let h=0,x=d.length;h!==x;h++){const w=d[h];W.VALUES_TO_ECI.set(w,this)}for(const h of f)W.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new F("incorect value");const o=W.VALUES_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}static getCharacterSetECIByName(s){const o=W.NAME_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}equals(s){if(!(s instanceof W))return!1;const o=s;return this.getName()===o.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(Z.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(Z.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(Z.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(Z.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(Z.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(Z.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(Z.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(Z.Big5,28,"Big5"),W.GB18030=new W(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(Z.EUC_KR,30,"EUC_KR","EUC-KR");class le extends p{}le.kind="UnsupportedOperationException";class oe{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!oe.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof W?s:W.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(oe.isDecodeFallbackSupported(c)){let f="";for(let d=0,h=s.length;d<h;d++){let x=s[d].toString(16);x.length<2&&(x="0"+x),f+="%"+x}return decodeURIComponent(f)}if(c.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new le(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(W.UTF8)||s.equals(W.ISO8859_1)||s.equals(W.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let d=0;d<c.length;d++)f.push(c[d].charCodeAt(0));return new Uint8Array(f)}}class J{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return oe.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(X.CHARACTER_SET)!==void 0)return o.get(X.CHARACTER_SET).toString();const c=s.length;let f=!0,d=!0,h=!0,x=0,w=0,y=0,T=0,O=0,P=0,G=0,ee=0,re=0,ue=0,xe=0;const Be=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let je=0;je<c&&(f||d||h);je++){const Re=s[je]&255;h&&(x>0?Re&128?x--:h=!1:Re&128&&(Re&64?(x++,Re&32?(x++,Re&16?(x++,Re&8?h=!1:T++):y++):w++):h=!1)),f&&(Re>127&&Re<160?f=!1:Re>159&&(Re<192||Re===215||Re===247)&&xe++),d&&(O>0?Re<64||Re===127||Re>252?d=!1:O--:Re===128||Re===160||Re>239?d=!1:Re>160&&Re<224?(P++,ee=0,G++,G>re&&(re=G)):Re>127?(O++,G=0,ee++,ee>ue&&(ue=ee)):(G=0,ee=0))}return h&&x>0&&(h=!1),d&&O>0&&(d=!1),h&&(Be||w+y+T>0)?J.UTF8:d&&(J.ASSUME_SHIFT_JIS||re>=3||ue>=3)?J.SHIFT_JIS:f&&d?re===2&&P===2||xe*10>=c?J.SHIFT_JIS:J.ISO88591:f?J.ISO88591:d?J.SHIFT_JIS:h?J.UTF8:J.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function f(h,x,w,y,T,O){if(h==="%%")return"%";if(o[++c]===void 0)return;h=y?parseInt(y.substr(1)):void 0;let P=T?parseInt(T.substr(1)):void 0,G;switch(O){case"s":G=o[c];break;case"c":G=o[c][0];break;case"f":G=parseFloat(o[c]).toFixed(h);break;case"p":G=parseFloat(o[c]).toPrecision(h);break;case"e":G=parseFloat(o[c]).toExponential(h);break;case"x":G=parseInt(o[c]).toString(P||16);break;case"d":G=parseFloat(parseInt(o[c],P||10).toPrecision(h)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(P);let ee=parseInt(w),re=w&&w[0]+""=="0"?"0":" ";for(;G.length<ee;)G=x!==void 0?G+re:re+G;return G}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,f)}static getBytes(s,o){return oe.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}J.SHIFT_JIS=W.SJIS.getName(),J.GB2312="GB2312",J.ISO88591=W.ISO8859_1.getName(),J.EUC_JP="EUC_JP",J.UTF8=W.UTF8.getName(),J.PLATFORM_DEFAULT_ENCODING=J.UTF8,J.ASSUME_SHIFT_JIS=!1;class _e{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=J.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let f=o;o<o+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class Se{constructor(s,o,c,f){if(this.width=s,this.height=o,this.rowSize=c,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new v("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,f=new Se(c,o);for(let d=0;d<o;d++){const h=s[d];for(let x=0;x<c;x++)h[x]&&f.set(x,d)}return f}static parseFromString(s,o,c){if(s===null)throw new v("stringRepresentation cannot be null");const f=new Array(s.length);let d=0,h=0,x=-1,w=0,y=0;for(;y<s.length;)if(s.charAt(y)===`
`||s.charAt(y)==="\r"){if(d>h){if(x===-1)x=d-h;else if(d-h!==x)throw new v("row lengths do not match");h=d,w++}y++}else if(s.substring(y,y+o.length)===o)y+=o.length,f[d]=!0,d++;else if(s.substring(y,y+c.length)===c)y+=c.length,f[d]=!1,d++;else throw new v("illegal character encountered: "+s.substring(y));if(d>h){if(x===-1)x=d-h;else if(d-h!==x)throw new v("row lengths do not match");w++}const T=new Se(x,w);for(let O=0;O<d;O++)f[O]&&T.set(Math.floor(O%x),Math.floor(O/x));return T}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const o=new L(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let d=0,h=this.height;d<h;d++){const x=d*c,w=s.getRow(d,o).getBitArray();for(let y=0;y<c;y++)f[x+y]^=w[y]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,f){if(o<0||s<0)throw new v("Left and top must be nonnegative");if(f<1||c<1)throw new v("Height and width must be at least 1");const d=s+c,h=o+f;if(h>this.height||d>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,w=this.bits;for(let y=o;y<h;y++){const T=y*x;for(let O=s;O<d;O++)w[T+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new L(this.width):o.clear();const c=this.rowSize,f=this.bits,d=s*c;for(let h=0;h<c;h++)o.setBulk(h*32,f[d+h]);return o}setRow(s,o){C.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new L(s),f=new L(s);for(let d=0,h=Math.floor((o+1)/2);d<h;d++)c=this.getRow(d,c),f=this.getRow(o-1-d,f),c.reverse(),f.reverse(),this.setRow(d,f),this.setRow(o-1-d,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,f=this.bits;let d=s,h=o,x=-1,w=-1;for(let y=0;y<o;y++)for(let T=0;T<c;T++){const O=f[y*c+T];if(O!==0){if(y<h&&(h=y),y>w&&(w=y),T*32<d){let P=0;for(;!(O<<31-P&4294967295);)P++;T*32+P<d&&(d=T*32+P)}if(T*32+31>x){let P=31;for(;!(O>>>P);)P--;T*32+P>x&&(x=T*32+P)}}}return x<d||w<h?null:Int32Array.from([d,h,x-d+1,w-h+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const f=c/s;let d=c%s*32;const h=o[c];let x=0;for(;!(h<<31-x&4294967295);)x++;return d+=x,Int32Array.from([d,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let d=Math.floor(c%s)*32;const h=o[c];let x=31;for(;!(h>>>x);)x--;return d+=x,Int32Array.from([d,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Se))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&b.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+b.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let f=new _e;for(let d=0,h=this.height;d<h;d++){for(let x=0,w=this.width;x<w;x++)f.append(this.get(x,d)?s:o);f.append(c)}return f.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends p{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class Fe extends A{constructor(s){super(s),this.luminances=Fe.EMPTY,this.buckets=new Int32Array(Fe.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),f=c.getWidth();o==null||o.getSize()<f?o=new L(f):o.clear(),this.initArrays(f);const d=c.getRow(s,this.luminances),h=this.buckets;for(let w=0;w<f;w++)h[(d[w]&255)>>Fe.LUMINANCE_SHIFT]++;const x=Fe.estimateBlackPoint(h);if(f<3)for(let w=0;w<f;w++)(d[w]&255)<x&&o.set(w);else{let w=d[0]&255,y=d[1]&255;for(let T=1;T<f-1;T++){const O=d[T+1]&255;(y*4-w-O)/2<x&&o.set(T),w=y,y=O}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),f=new Se(o,c);this.initArrays(o);const d=this.buckets;for(let w=1;w<5;w++){const y=Math.floor(c*w/5),T=s.getRow(y,this.luminances),O=Math.floor(o*4/5);for(let P=Math.floor(o/5);P<O;P++){const G=T[P]&255;d[G>>Fe.LUMINANCE_SHIFT]++}}const h=Fe.estimateBlackPoint(d),x=s.getMatrix();for(let w=0;w<c;w++){const y=w*o;for(let T=0;T<o;T++)(x[y+T]&255)<h&&f.set(T,w)}return f}createBinarizer(s){return new Fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<Fe.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,f=0,d=0;for(let T=0;T<o;T++)s[T]>d&&(f=T,d=s[T]),s[T]>c&&(c=s[T]);let h=0,x=0;for(let T=0;T<o;T++){const O=T-f,P=s[T]*O*O;P>x&&(h=T,x=P)}if(f>h){const T=f;f=h,h=T}if(h-f<=o/16)throw new te;let w=h-1,y=-1;for(let T=h-1;T>f;T--){const O=T-f,P=O*O*(h-T)*(c-s[T]);P>y&&(w=T,y=P)}return w<<Fe.LUMINANCE_SHIFT}}Fe.LUMINANCE_BITS=5,Fe.LUMINANCE_SHIFT=8-Fe.LUMINANCE_BITS,Fe.LUMINANCE_BUCKETS=1<<Fe.LUMINANCE_BITS,Fe.EMPTY=Uint8ClampedArray.from([0]);class Ce extends Fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=Ce.MINIMUM_DIMENSION&&c>=Ce.MINIMUM_DIMENSION){const f=s.getMatrix();let d=o>>Ce.BLOCK_SIZE_POWER;o&Ce.BLOCK_SIZE_MASK&&d++;let h=c>>Ce.BLOCK_SIZE_POWER;c&Ce.BLOCK_SIZE_MASK&&h++;const x=Ce.calculateBlackPoints(f,d,h,o,c),w=new Se(o,c);Ce.calculateThresholdForBlock(f,d,h,o,c,x,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Ce(s)}static calculateThresholdForBlock(s,o,c,f,d,h,x){const w=d-Ce.BLOCK_SIZE,y=f-Ce.BLOCK_SIZE;for(let T=0;T<c;T++){let O=T<<Ce.BLOCK_SIZE_POWER;O>w&&(O=w);const P=Ce.cap(T,2,c-3);for(let G=0;G<o;G++){let ee=G<<Ce.BLOCK_SIZE_POWER;ee>y&&(ee=y);const re=Ce.cap(G,2,o-3);let ue=0;for(let Be=-2;Be<=2;Be++){const je=h[P+Be];ue+=je[re-2]+je[re-1]+je[re]+je[re+1]+je[re+2]}const xe=ue/25;Ce.thresholdBlock(s,ee,O,xe,f,x)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,f,d,h){for(let x=0,w=c*d+o;x<Ce.BLOCK_SIZE;x++,w+=d)for(let y=0;y<Ce.BLOCK_SIZE;y++)(s[w+y]&255)<=f&&h.set(o+y,c+x)}static calculateBlackPoints(s,o,c,f,d){const h=d-Ce.BLOCK_SIZE,x=f-Ce.BLOCK_SIZE,w=new Array(c);for(let y=0;y<c;y++){w[y]=new Int32Array(o);let T=y<<Ce.BLOCK_SIZE_POWER;T>h&&(T=h);for(let O=0;O<o;O++){let P=O<<Ce.BLOCK_SIZE_POWER;P>x&&(P=x);let G=0,ee=255,re=0;for(let xe=0,Be=T*f+P;xe<Ce.BLOCK_SIZE;xe++,Be+=f){for(let je=0;je<Ce.BLOCK_SIZE;je++){const Re=s[Be+je]&255;G+=Re,Re<ee&&(ee=Re),Re>re&&(re=Re)}if(re-ee>Ce.MIN_DYNAMIC_RANGE)for(xe++,Be+=f;xe<Ce.BLOCK_SIZE;xe++,Be+=f)for(let je=0;je<Ce.BLOCK_SIZE;je++)G+=s[Be+je]&255}let ue=G>>Ce.BLOCK_SIZE_POWER*2;if(re-ee<=Ce.MIN_DYNAMIC_RANGE&&(ue=ee/2,y>0&&O>0)){const xe=(w[y-1][O]+2*w[y][O-1]+w[y-1][O-1])/4;ee<xe&&(ue=xe)}w[y][O]=ue}}return w}}Ce.BLOCK_SIZE_POWER=3,Ce.BLOCK_SIZE=1<<Ce.BLOCK_SIZE_POWER,Ce.BLOCK_SIZE_MASK=Ce.BLOCK_SIZE-1,Ce.MINIMUM_DIMENSION=Ce.BLOCK_SIZE*5,Ce.MIN_DYNAMIC_RANGE=24;class Te{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,f){throw new le("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new le("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new le("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new _e;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let d=0;d<this.width;d++){const h=f[d]&255;let x;h<64?x="#":h<128?x="+":h<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class ie extends Te{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),f=this.getWidth();for(let d=0;d<f;d++)c[d]=255-(c[d]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let f=0;f<o;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,f){return new ie(this.delegate.crop(s,o,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ie(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ie(this.delegate.rotateCounterClockwise45())}}class be extends Te{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return be.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const f=new Uint8ClampedArray(o*c);for(let d=0,h=0,x=s.length;d<x;d+=4,h++){let w;if(s[d+3]===0)w=255;else{const T=s[d],O=s[d+1],P=s[d+2];w=306*T+601*O+117*P+512>>10}f[h]=w}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return o===null?o=this.buffer.slice(f,f+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(f,f+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,f){return super.crop(s,o,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),f=s*be.DEGREE_TO_RADIANS,d=this.canvas.width,h=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(f))*d+Math.abs(Math.sin(f))*h),w=Math.ceil(Math.abs(Math.sin(f))*d+Math.abs(Math.cos(f))*h);return o.width=x,o.height=w,c.translate(x/2,w/2),c.rotate(f),c.drawImage(this.canvas,d/-2,h/-2),this.buffer=be.makeBufferFromCanvasImageData(o),this}invert(){return new ie(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class ze{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var V=(globalThis||xc||self||window||void 0)&&(globalThis||xc||self||window||void 0).__awaiter||function(N,s,o,c){function f(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function x(T){try{y(c.next(T))}catch(O){h(O)}}function w(T){try{y(c.throw(T))}catch(O){h(O)}}function y(T){T.done?d(T.value):f(T.value).then(x,w)}y((c=c.apply(N,s||[])).next())})};class fe{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return V(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const d=c.deviceId||c.id,h=c.label||`Video device ${o.length+1}`,x=c.groupId,w={deviceId:d,label:h,kind:f,groupId:x};o.push(w)}return o})}getVideoInputDevices(){return V(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ze(o.deviceId,o.label))})}findDeviceById(s){return V(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return V(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return V(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return V(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return V(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return V(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return V(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const d={video:f};return yield this.decodeFromConstraints(d,o,c)})}decodeFromConstraints(s,o,c){return V(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,c)})}decodeFromStream(s,o,c){return V(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return V(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return V(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new m(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new m(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new m("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new m("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new m("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new m("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new m("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new m("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,o);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return V(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return V(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const f=(d,h)=>{if(this._stopAsyncDecode){h(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);d(x)}catch(x){const w=o&&x instanceof te,T=(x instanceof E||x instanceof F)&&c;if(w||T)return setTimeout(f,this._timeBetweenDecodingAttempts,d,h);h(x)}};return new Promise((d,h)=>f(d,h))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){o(null,f);const d=f instanceof E||f instanceof F,h=f instanceof te;(d||h)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new be(o),f=new Ce(c);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=f+"px",o.width=c,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class B{constructor(s,o,c=o==null?0:8*o.length,f,d,h=C.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=f,this.format=d,this.timestamp=h,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=f,this.format=d,this.resultMetadata=null,h==null?this.timestamp=C.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);C.arraycopy(o,0,c,0,o.length),C.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Q;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Q||(Q={}));var ne=Q,Ae;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ae||(Ae={}));var Ee=Ae;class Ie{constructor(s,o,c,f,d=-1,h=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=h,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ne{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class tt{constructor(s,o){if(o.length===0)throw new v;this.field=s;const c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let h=0,x=o.length;h!==x;h++){const w=o[h];c=Ne.addOrSubtract(c,w)}return c}c=o[0];const f=o.length,d=this.field;for(let h=1;h<f;h++)c=Ne.addOrSubtract(d.multiply(s,c),o[h]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const h=o;o=c,c=h}let f=new Int32Array(c.length);const d=c.length-o.length;C.arraycopy(c,0,f,0,d);for(let h=d;h<c.length;h++)f[h]=Ne.addOrSubtract(o[h-d],c[h]);return new tt(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,f=s.coefficients,d=f.length,h=new Int32Array(c+d-1),x=this.field;for(let w=0;w<c;w++){const y=o[w];for(let T=0;T<d;T++)h[w+T]=Ne.addOrSubtract(h[w+T],x.multiply(y,f[T]))}return new tt(x,h)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,f=new Int32Array(o),d=this.coefficients;for(let h=0;h<o;h++)f[h]=c.multiply(d[h],s);return new tt(c,f)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return this.field.getZero();const c=this.coefficients,f=c.length,d=new Int32Array(f+s),h=this.field;for(let x=0;x<f;x++)d[x]=h.multiply(c[x],o);return new tt(h,d)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const o=this.field;let c=o.getZero(),f=this;const d=s.getCoefficient(s.getDegree()),h=o.inverse(d);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const x=f.getDegree()-s.getDegree(),w=o.multiply(f.getCoefficient(f.getDegree()),h),y=s.multiplyByMonomial(x,w),T=o.buildMonomial(x,w);c=c.addOrSubtract(T),f=f.addOrSubtract(y)}return[c,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class K extends p{}K.kind="ArithmeticException";class qe extends Ne{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const f=new Int32Array(o);let d=1;for(let x=0;x<o;x++)f[x]=d,d*=2,d>=o&&(d^=s,d&=o-1);this.expTable=f;const h=new Int32Array(o);for(let x=0;x<o-1;x++)h[f[x]]=x;this.logTable=h,this.zero=new tt(this,Int32Array.from([0])),this.one=new tt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new tt(this,c)}inverse(s){if(s===0)throw new K;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class mt extends p{}mt.kind="ReedSolomonException";class ht extends p{}ht.kind="IllegalStateException";class Ze{constructor(s){this.field=s}decode(s,o){const c=this.field,f=new tt(c,s),d=new Int32Array(o);let h=!0;for(let G=0;G<o;G++){const ee=f.evaluateAt(c.exp(G+c.getGeneratorBase()));d[d.length-1-G]=ee,ee!==0&&(h=!1)}if(h)return;const x=new tt(c,d),w=this.runEuclideanAlgorithm(c.buildMonomial(o,1),x,o),y=w[0],T=w[1],O=this.findErrorLocations(y),P=this.findErrorMagnitudes(T,O);for(let G=0;G<O.length;G++){const ee=s.length-1-c.log(O[G]);if(ee<0)throw new mt("Bad error location");s[ee]=qe.addOrSubtract(s[ee],P[G])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const G=s;s=o,o=G}const f=this.field;let d=s,h=o,x=f.getZero(),w=f.getOne();for(;h.getDegree()>=(c/2|0);){let G=d,ee=x;if(d=h,x=w,d.isZero())throw new mt("r_{i-1} was zero");h=G;let re=f.getZero();const ue=d.getCoefficient(d.getDegree()),xe=f.inverse(ue);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){const Be=h.getDegree()-d.getDegree(),je=f.multiply(h.getCoefficient(h.getDegree()),xe);re=re.addOrSubtract(f.buildMonomial(Be,je)),h=h.addOrSubtract(d.multiplyByMonomial(Be,je))}if(w=re.multiply(x).addOrSubtract(ee),h.getDegree()>=d.getDegree())throw new ht("Division algorithm failed to reduce polynomial?")}const y=w.getCoefficient(0);if(y===0)throw new mt("sigmaTilde(0) was zero");const T=f.inverse(y),O=w.multiplyScalar(T),P=h.multiplyScalar(T);return[O,P]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let f=0;const d=this.field;for(let h=1;h<d.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(c[f]=d.inverse(h),f++);if(f!==o)throw new mt("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,f=new Int32Array(c),d=this.field;for(let h=0;h<c;h++){const x=d.inverse(o[h]);let w=1;for(let y=0;y<c;y++)if(h!==y){const T=d.multiply(o[y],x),O=T&1?T&-2:T|1;w=d.multiply(w,O)}f[h]=d.multiply(s.evaluateAt(x),d.inverse(w)),d.getGeneratorBase()!==0&&(f[h]=d.multiply(f[h],x))}return f}}var Oe;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(Oe||(Oe={}));class Je{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),f=this.correctBits(c),d=Je.convertBoolArrayToByteArray(f),h=Je.getEncodedData(f),x=new Ie(d,h,null,null);return x.setNumBits(f.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=Oe.UPPER,f=Oe.UPPER,d="",h=0;for(;h<o;)if(f===Oe.BINARY){if(o-h<5)break;let x=Je.readCode(s,h,5);if(h+=5,x===0){if(o-h<11)break;x=Je.readCode(s,h,11)+31,h+=11}for(let w=0;w<x;w++){if(o-h<8){h=o;break}const y=Je.readCode(s,h,8);d+=J.castAsNonUtf8Char(y),h+=8}f=c}else{let x=f===Oe.DIGIT?4:5;if(o-h<x)break;let w=Je.readCode(s,h,x);h+=x;let y=Je.getCharacter(f,w);y.startsWith("CTRL_")?(c=f,f=Je.getTable(y.charAt(5)),y.charAt(6)==="L"&&(c=f)):(d+=y,f=c)}return d}static getTable(s){switch(s){case"L":return Oe.LOWER;case"P":return Oe.PUNCT;case"M":return Oe.MIXED;case"D":return Oe.DIGIT;case"B":return Oe.BINARY;case"U":default:return Oe.UPPER}}static getCharacter(s,o){switch(s){case Oe.UPPER:return Je.UPPER_TABLE[o];case Oe.LOWER:return Je.LOWER_TABLE[o];case Oe.MIXED:return Je.MIXED_TABLE[o];case Oe.PUNCT:return Je.PUNCT_TABLE[o];case Oe.DIGIT:return Je.DIGIT_TABLE[o];default:throw new ht("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=qe.AZTEC_DATA_10):(c=12,o=qe.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),d=s.length/c;if(d<f)throw new F;let h=s.length%c,x=new Int32Array(d);for(let P=0;P<d;P++,h+=c)x[P]=Je.readCode(s,h,c);try{new Ze(o).decode(x,d-f)}catch(P){throw new F(P)}let w=(1<<c)-1,y=0;for(let P=0;P<f;P++){let G=x[P];if(G===0||G===w)throw new F;(G===1||G===w-1)&&y++}let T=new Array(f*c-y),O=0;for(let P=0;P<f;P++){let G=x[P];if(G===1||G===w-1)T.fill(G>1,O,O+c-1),O+=c-1;else for(let ee=c-1;ee>=0;--ee)T[O++]=(G&1<<ee)!==0}return T}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(o?11:14)+c*4,d=new Int32Array(f),h=new Array(this.totalBitsInLayer(c,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=f+1+2*S.truncDivision(S.truncDivision(f,2)-1,15),w=f/2,y=S.truncDivision(x,2);for(let T=0;T<w;T++){let O=T+S.truncDivision(T,15);d[w-T-1]=y-O-1,d[w+T]=y+O+1}}for(let x=0,w=0;x<c;x++){let y=(c-x)*4+(o?9:12),T=x*2,O=f-1-T;for(let P=0;P<y;P++){let G=P*2;for(let ee=0;ee<2;ee++)h[w+G+ee]=s.get(d[T+ee],d[T+P]),h[w+2*y+G+ee]=s.get(d[T+P],d[O-ee]),h[w+4*y+G+ee]=s.get(d[O-ee],d[O-P]),h[w+6*y+G+ee]=s.get(d[O-P],d[T+ee])}w+=y*8}return h}static readCode(s,o,c){let f=0;for(let d=o;d<o+c;d++)f<<=1,s[d]&&(f|=1);return f}static readByte(s,o){let c=s.length-o;return c>=8?Je.readCode(s,o,8):Je.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=Je.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Je.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Je.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Je.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Je.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Je.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,f){const d=s-c,h=o-f;return Math.sqrt(d*d+h*h)}static sum(s){let o=0;for(let c=0,f=s.length;c!==f;c++){const d=s[c];o+=d}return o}}class Dt{static floatToIntBits(s){return s}}Dt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ge{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ge){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Dt.floatToIntBits(this.x)+Dt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let d,h,x;if(c>=o&&c>=f?(h=s[0],d=s[1],x=s[2]):f>=c&&f>=o?(h=s[1],d=s[0],x=s[2]):(h=s[2],d=s[0],x=s[1]),this.crossProductZ(d,h,x)<0){const w=d;d=x,x=w}s[0]=d,s[1]=h,s[2]=x}static distance(s,o){return it.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const f=o.x,d=o.y;return(c.x-f)*(s.y-d)-(c.y-d)*(s.x-f)}}class Kn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Bt extends Kn{constructor(s,o,c,f,d){super(s,o),this.compact=c,this.nbDatablocks=f,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class $t{constructor(s,o,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=$t.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const d=o/2|0;if(this.leftInit=c-d,this.rightInit=c+d,this.upInit=f-d,this.downInit=f+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,f=this.downInit,d=!1,h=!0,x=!1,w=!1,y=!1,T=!1,O=!1;const P=this.width,G=this.height;for(;h;){h=!1;let ee=!0;for(;(ee||!w)&&o<P;)ee=this.containsBlackPoint(c,f,o,!1),ee?(o++,h=!0,w=!0):w||o++;if(o>=P){d=!0;break}let re=!0;for(;(re||!y)&&f<G;)re=this.containsBlackPoint(s,o,f,!0),re?(f++,h=!0,y=!0):y||f++;if(f>=G){d=!0;break}let ue=!0;for(;(ue||!T)&&s>=0;)ue=this.containsBlackPoint(c,f,s,!1),ue?(s--,h=!0,T=!0):T||s--;if(s<0){d=!0;break}let xe=!0;for(;(xe||!O)&&c>=0;)xe=this.containsBlackPoint(s,o,c,!0),xe?(c--,h=!0,O=!0):O||c--;if(c<0){d=!0;break}h&&(x=!0)}if(!d&&x){const ee=o-s;let re=null;for(let je=1;re===null&&je<ee;je++)re=this.getBlackPointOnSegment(s,f-je,s+je,f);if(re==null)throw new te;let ue=null;for(let je=1;ue===null&&je<ee;je++)ue=this.getBlackPointOnSegment(s,c+je,s+je,c);if(ue==null)throw new te;let xe=null;for(let je=1;xe===null&&je<ee;je++)xe=this.getBlackPointOnSegment(o,c+je,o-je,c);if(xe==null)throw new te;let Be=null;for(let je=1;Be===null&&je<ee;je++)Be=this.getBlackPointOnSegment(o,f-je,o-je,f);if(Be==null)throw new te;return this.centerEdges(Be,re,xe,ue)}else throw new te}getBlackPointOnSegment(s,o,c,f){const d=it.round(it.distance(s,o,c,f)),h=(c-s)/d,x=(f-o)/d,w=this.image;for(let y=0;y<d;y++){const T=it.round(s+y*h),O=it.round(o+y*x);if(w.get(T,O))return new Ge(T,O)}return null}centerEdges(s,o,c,f){const d=s.getX(),h=s.getY(),x=o.getX(),w=o.getY(),y=c.getX(),T=c.getY(),O=f.getX(),P=f.getY(),G=$t.CORR;return d<this.width/2?[new Ge(O-G,P+G),new Ge(x+G,w+G),new Ge(y-G,T-G),new Ge(d+G,h-G)]:[new Ge(O+G,P+G),new Ge(x+G,w-G),new Ge(y-G,T+G),new Ge(d-G,h-G)]}containsBlackPoint(s,o,c,f){const d=this.image;if(f){for(let h=s;h<=o;h++)if(d.get(h,c))return!0}else for(let h=s;h<=o;h++)if(d.get(c,h))return!0;return!1}}$t.INIT_SIZE=10,$t.CORR=1;class Dr{static checkAndNudgePoints(s,o){const c=s.getWidth(),f=s.getHeight();let d=!0;for(let h=0;h<o.length&&d;h+=2){const x=Math.floor(o[h]),w=Math.floor(o[h+1]);if(x<-1||x>c||w<-1||w>f)throw new te;d=!1,x===-1?(o[h]=0,d=!0):x===c&&(o[h]=c-1,d=!0),w===-1?(o[h+1]=0,d=!0):w===f&&(o[h+1]=f-1,d=!0)}d=!0;for(let h=o.length-2;h>=0&&d;h-=2){const x=Math.floor(o[h]),w=Math.floor(o[h+1]);if(x<-1||x>c||w<-1||w>f)throw new te;d=!1,x===-1?(o[h]=0,d=!0):x===c&&(o[h]=c-1,d=!0),w===-1?(o[h+1]=0,d=!0):w===f&&(o[h+1]=f-1,d=!0)}}}class hr{constructor(s,o,c,f,d,h,x,w,y){this.a11=s,this.a21=o,this.a31=c,this.a12=f,this.a22=d,this.a32=h,this.a13=x,this.a23=w,this.a33=y}static quadrilateralToQuadrilateral(s,o,c,f,d,h,x,w,y,T,O,P,G,ee,re,ue){const xe=hr.quadrilateralToSquare(s,o,c,f,d,h,x,w);return hr.squareToQuadrilateral(y,T,O,P,G,ee,re,ue).times(xe)}transformPoints(s){const o=s.length,c=this.a11,f=this.a12,d=this.a13,h=this.a21,x=this.a22,w=this.a23,y=this.a31,T=this.a32,O=this.a33;for(let P=0;P<o;P+=2){const G=s[P],ee=s[P+1],re=d*G+w*ee+O;s[P]=(c*G+h*ee+y)/re,s[P+1]=(f*G+x*ee+T)/re}}transformPointsWithValues(s,o){const c=this.a11,f=this.a12,d=this.a13,h=this.a21,x=this.a22,w=this.a23,y=this.a31,T=this.a32,O=this.a33,P=s.length;for(let G=0;G<P;G++){const ee=s[G],re=o[G],ue=d*ee+w*re+O;s[G]=(c*ee+h*re+y)/ue,o[G]=(f*ee+x*re+T)/ue}}static squareToQuadrilateral(s,o,c,f,d,h,x,w){const y=s-c+d-x,T=o-f+h-w;if(y===0&&T===0)return new hr(c-s,d-c,s,f-o,h-f,o,0,0,1);{const O=c-d,P=x-d,G=f-h,ee=w-h,re=O*ee-P*G,ue=(y*ee-P*T)/re,xe=(O*T-y*G)/re;return new hr(c-s+ue*c,x-s+xe*x,s,f-o+ue*f,w-o+xe*w,o,ue,xe,1)}}static quadrilateralToSquare(s,o,c,f,d,h,x,w){return hr.squareToQuadrilateral(s,o,c,f,d,h,x,w).buildAdjoint()}buildAdjoint(){return new hr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new hr(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Fn extends Dr{sampleGrid(s,o,c,f,d,h,x,w,y,T,O,P,G,ee,re,ue,xe,Be,je){const Re=hr.quadrilateralToQuadrilateral(f,d,h,x,w,y,T,O,P,G,ee,re,ue,xe,Be,je);return this.sampleGridWithTransform(s,o,c,Re)}sampleGridWithTransform(s,o,c,f){if(o<=0||c<=0)throw new te;const d=new Se(o,c),h=new Float32Array(2*o);for(let x=0;x<c;x++){const w=h.length,y=x+.5;for(let T=0;T<w;T+=2)h[T]=T/2+.5,h[T+1]=y;f.transformPoints(h),Dr.checkAndNudgePoints(s,h);try{for(let T=0;T<w;T+=2)s.get(Math.floor(h[T]),Math.floor(h[T+1]))&&d.set(T/2,x)}catch{throw new te}}return d}}class er{static setGridSampler(s){er.gridSampler=s}static getInstance(){return er.gridSampler}}er.gridSampler=new Fn;class Gt{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ut{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let h=c[0];c[0]=c[2],c[2]=h}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),d=this.getMatrixCornerPoints(c);return new Bt(f,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new te;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let f=0;for(let h=0;h<4;h++){let x=c[(this.shift+h)%4];this.compact?(f<<=7,f+=x>>1&127):(f<<=10,f+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,o){let c=0;s.forEach((f,d,h)=>{let x=(f>>o-2<<1)+(f&1);c=(c<<3)+x}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(S.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new te}getCorrectedParameterData(s,o){let c,f;o?(c=7,f=2):(c=10,f=4);let d=c-f,h=new Int32Array(c);for(let w=c-1;w>=0;--w)h[w]=s&15,s>>=4;try{new Ze(qe.AZTEC_PARAM).decode(h,d)}catch{throw new te}let x=0;for(let w=0;w<f;w++)x=(x<<4)+h[w];return x}getBullsEyeCorners(s){let o=s,c=s,f=s,d=s,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(o,h,1,-1),P=this.getFirstDifferent(c,h,1,1),G=this.getFirstDifferent(f,h,-1,1),ee=this.getFirstDifferent(d,h,-1,-1);if(this.nbCenterLayers>2){let re=this.distancePoint(ee,O)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(re<.75||re>1.25||!this.isWhiteOrBlackRectangle(O,P,G,ee))break}o=O,c=P,f=G,d=ee,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let x=new Ge(o.getX()+.5,o.getY()-.5),w=new Ge(c.getX()+.5,c.getY()+.5),y=new Ge(f.getX()-.5,f.getY()+.5),T=new Ge(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,w,y,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,f;try{let x=new $t(this.image).detect();s=x[0],o=x[1],c=x[2],f=x[3]}catch{let w=this.image.getWidth()/2,y=this.image.getHeight()/2;s=this.getFirstDifferent(new Gt(w+7,y-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Gt(w+7,y+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Gt(w-7,y+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Gt(w-7,y-7),!1,-1,-1).toResultPoint()}let d=it.round((s.getX()+f.getX()+o.getX()+c.getX())/4),h=it.round((s.getY()+f.getY()+o.getY()+c.getY())/4);try{let x=new $t(this.image,15,d,h).detect();s=x[0],o=x[1],c=x[2],f=x[3]}catch{s=this.getFirstDifferent(new Gt(d+7,h-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Gt(d+7,h+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Gt(d-7,h+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Gt(d-7,h-7),!1,-1,-1).toResultPoint()}return d=it.round((s.getX()+f.getX()+o.getX()+c.getX())/4),h=it.round((s.getY()+f.getY()+o.getY()+c.getY())/4),new Gt(d,h)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,f,d){let h=er.getInstance(),x=this.getDimension(),w=x/2-this.nbCenterLayers,y=x/2+this.nbCenterLayers;return h.sampleGrid(s,x,x,w,w,y,w,y,y,w,y,o.getX(),o.getY(),c.getX(),c.getY(),f.getX(),f.getY(),d.getX(),d.getY())}sampleLine(s,o,c){let f=0,d=this.distanceResultPoint(s,o),h=d/c,x=s.getX(),w=s.getY(),y=h*(o.getX()-s.getX())/d,T=h*(o.getY()-s.getY())/d;for(let O=0;O<c;O++)this.image.get(it.round(x+O*y),it.round(w+O*T))&&(f|=1<<c-O-1);return f}isWhiteOrBlackRectangle(s,o,c,f){let d=3;s=new Gt(s.getX()-d,s.getY()+d),o=new Gt(o.getX()-d,o.getY()-d),c=new Gt(c.getX()+d,c.getY()-d),f=new Gt(f.getX()+d,f.getY()+d);let h=this.getColor(f,s);if(h===0)return!1;let x=this.getColor(s,o);return x!==h||(x=this.getColor(o,c),x!==h)?!1:(x=this.getColor(c,f),x===h)}getColor(s,o){let c=this.distancePoint(s,o),f=(o.getX()-s.getX())/c,d=(o.getY()-s.getY())/c,h=0,x=s.getX(),w=s.getY(),y=this.image.get(s.getX(),s.getY()),T=Math.ceil(c);for(let P=0;P<T;P++)x+=f,w+=d,this.image.get(it.round(x),it.round(w))!==y&&h++;let O=h/c;return O>.1&&O<.9?0:O<=.1===y?1:-1}getFirstDifferent(s,o,c,f){let d=s.getX()+c,h=s.getY()+f;for(;this.isValid(d,h)&&this.image.get(d,h)===o;)d+=c,h+=f;for(d-=c,h-=f;this.isValid(d,h)&&this.image.get(d,h)===o;)d+=c;for(d-=c;this.isValid(d,h)&&this.image.get(d,h)===o;)h+=f;return h-=f,new Gt(d,h)}expandSquare(s,o,c){let f=c/(2*o),d=s[0].getX()-s[2].getX(),h=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,w=(s[0].getY()+s[2].getY())/2,y=new Ge(x+f*d,w+f*h),T=new Ge(x-f*d,w-f*h);d=s[1].getX()-s[3].getX(),h=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,w=(s[1].getY()+s[3].getY())/2;let O=new Ge(x+f*d,w+f*h),P=new Ge(x-f*d,w-f*h);return[y,O,T,P]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=it.round(s.getX()),c=it.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return it.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return it.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}class Yt{decode(s,o=null){let c=null,f=new ut(s.getBlackMatrix()),d=null,h=null;try{let T=f.detectMirror(!1);d=T.getPoints(),this.reportFoundResultPoints(o,d),h=new Je().decode(T)}catch(T){c=T}if(h==null)try{let T=f.detectMirror(!0);d=T.getPoints(),this.reportFoundResultPoints(o,d),h=new Je().decode(T)}catch(T){throw c??T}let x=new B(h.getText(),h.getRawBytes(),h.getNumBits(),d,ne.AZTEC,C.currentTimeMillis()),w=h.getByteSegments();w!=null&&x.putMetadata(Ee.BYTE_SEGMENTS,w);let y=h.getECLevel();return y!=null&&x.putMetadata(Ee.ERROR_CORRECTION_LEVEL,y),x}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(X.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((f,d,h)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class ln extends fe{constructor(s=500){super(new Yt,s)}}class gt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(X.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),h=this.doDecode(d,o),x=h.getResultMetadata();let w=270;x!==null&&x.get(Ee.ORIENTATION)===!0&&(w=w+x.get(Ee.ORIENTATION)%360),h.putMetadata(Ee.ORIENTATION,w);const y=h.getResultPoints();if(y!==null){const T=d.getHeight();for(let O=0;O<y.length;O++)y[O]=new Ge(T-y[O].getY()-1,y[O].getX())}return h}else throw new te}}reset(){}doDecode(s,o){const c=s.getWidth(),f=s.getHeight();let d=new L(c);const h=o&&o.get(X.TRY_HARDER)===!0,x=Math.max(1,f>>(h?8:5));let w;h?w=f:w=15;const y=Math.trunc(f/2);for(let T=0;T<w;T++){const O=Math.trunc((T+1)/2),P=(T&1)===0,G=y+x*(P?O:-O);if(G<0||G>=f)break;try{d=s.getBlackRow(G,d)}catch{continue}for(let ee=0;ee<2;ee++){if(ee===1&&(d.reverse(),o&&o.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const re=new Map;o.forEach((ue,xe)=>re.set(xe,ue)),re.delete(X.NEED_RESULT_POINT_CALLBACK),o=re}try{const re=this.decodeRow(G,d,o);if(ee===1){re.putMetadata(Ee.ORIENTATION,180);const ue=re.getResultPoints();ue!==null&&(ue[0]=new Ge(c-ue[0].getX()-1,ue[0].getY()),ue[1]=new Ge(c-ue[1].getX()-1,ue[1].getY()))}return re}catch{}}}throw new te}static recordPattern(s,o,c){const f=c.length;for(let y=0;y<f;y++)c[y]=0;const d=s.getSize();if(o>=d)throw new te;let h=!s.get(o),x=0,w=o;for(;w<d;){if(s.get(w)!==h)c[x]++;else{if(++x===f)break;c[x]=1,h=!h}w++}if(!(x===f||x===f-1&&w===d))throw new te}static recordPatternInReverse(s,o,c){let f=c.length,d=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==d&&(f--,d=!d);if(f>=0)throw new te;gt.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const f=s.length;let d=0,h=0;for(let y=0;y<f;y++)d+=s[y],h+=o[y];if(d<h)return Number.POSITIVE_INFINITY;const x=d/h;c*=x;let w=0;for(let y=0;y<f;y++){const T=s[y],O=o[y]*x,P=T>O?T-O:O-T;if(P>c)return Number.POSITIVE_INFINITY;w+=P}return w/d}}class Le extends gt{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let f=0,d=Int32Array.from([0,0,0,0,0,0]),h=c,x=!1;const w=6;for(let y=c;y<o;y++)if(s.get(y)!==x)d[f]++;else{if(f===w-1){let T=Le.MAX_AVG_VARIANCE,O=-1;for(let P=Le.CODE_START_A;P<=Le.CODE_START_C;P++){const G=gt.patternMatchVariance(d,Le.CODE_PATTERNS[P],Le.MAX_INDIVIDUAL_VARIANCE);G<T&&(T=G,O=P)}if(O>=0&&s.isRange(Math.max(0,h-(y-h)/2),h,!1))return Int32Array.from([h,y,O]);h+=d[0]+d[1],d=d.slice(2,d.length-1),d[f-1]=0,d[f]=0,f--}else f++;d[f]=1,x=!x}throw new te}static decodeCode(s,o,c){gt.recordPattern(s,c,o);let f=Le.MAX_AVG_VARIANCE,d=-1;for(let h=0;h<Le.CODE_PATTERNS.length;h++){const x=Le.CODE_PATTERNS[h],w=this.patternMatchVariance(o,x,Le.MAX_INDIVIDUAL_VARIANCE);w<f&&(f=w,d=h)}if(d>=0)return d;throw new te}decodeRow(s,o,c){const f=c&&c.get(X.ASSUME_GS1)===!0,d=Le.findStartPattern(o),h=d[2];let x=0;const w=new Uint8Array(20);w[x++]=h;let y;switch(h){case Le.CODE_START_A:y=Le.CODE_CODE_A;break;case Le.CODE_START_B:y=Le.CODE_CODE_B;break;case Le.CODE_START_C:y=Le.CODE_CODE_C;break;default:throw new F}let T=!1,O=!1,P="",G=d[0],ee=d[1];const re=Int32Array.from([0,0,0,0,0,0]);let ue=0,xe=0,Be=h,je=0,Re=!0,Rt=!1,pt=!1;for(;!T;){const qo=O;switch(O=!1,ue=xe,xe=Le.decodeCode(o,re,ee),w[x++]=xe,xe!==Le.CODE_STOP&&(Re=!0),xe!==Le.CODE_STOP&&(je++,Be+=je*xe),G=ee,ee+=re.reduce((vT,yT)=>vT+yT,0),xe){case Le.CODE_START_A:case Le.CODE_START_B:case Le.CODE_START_C:throw new F}switch(y){case Le.CODE_CODE_A:if(xe<64)pt===Rt?P+=String.fromCharCode(32+xe):P+=String.fromCharCode(32+xe+128),pt=!1;else if(xe<96)pt===Rt?P+=String.fromCharCode(xe-64):P+=String.fromCharCode(xe+64),pt=!1;else switch(xe!==Le.CODE_STOP&&(Re=!1),xe){case Le.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_A:!Rt&&pt?(Rt=!0,pt=!1):Rt&&pt?(Rt=!1,pt=!1):pt=!0;break;case Le.CODE_SHIFT:O=!0,y=Le.CODE_CODE_B;break;case Le.CODE_CODE_B:y=Le.CODE_CODE_B;break;case Le.CODE_CODE_C:y=Le.CODE_CODE_C;break;case Le.CODE_STOP:T=!0;break}break;case Le.CODE_CODE_B:if(xe<96)pt===Rt?P+=String.fromCharCode(32+xe):P+=String.fromCharCode(32+xe+128),pt=!1;else switch(xe!==Le.CODE_STOP&&(Re=!1),xe){case Le.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_B:!Rt&&pt?(Rt=!0,pt=!1):Rt&&pt?(Rt=!1,pt=!1):pt=!0;break;case Le.CODE_SHIFT:O=!0,y=Le.CODE_CODE_A;break;case Le.CODE_CODE_A:y=Le.CODE_CODE_A;break;case Le.CODE_CODE_C:y=Le.CODE_CODE_C;break;case Le.CODE_STOP:T=!0;break}break;case Le.CODE_CODE_C:if(xe<100)xe<10&&(P+="0"),P+=xe;else switch(xe!==Le.CODE_STOP&&(Re=!1),xe){case Le.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Le.CODE_CODE_A:y=Le.CODE_CODE_A;break;case Le.CODE_CODE_B:y=Le.CODE_CODE_B;break;case Le.CODE_STOP:T=!0;break}break}qo&&(y=y===Le.CODE_CODE_A?Le.CODE_CODE_B:Le.CODE_CODE_A)}const Zn=ee-G;if(ee=o.getNextUnset(ee),!o.isRange(ee,Math.min(o.getSize(),ee+(ee-G)/2),!1))throw new te;if(Be-=je*ue,Be%103!==ue)throw new E;const zi=P.length;if(zi===0)throw new te;zi>0&&Re&&(y===Le.CODE_CODE_C?P=P.substring(0,zi-2):P=P.substring(0,zi-1));const Qn=(d[1]+d[0])/2,Jt=G+Zn/2,fn=w.length,ui=new Uint8Array(fn);for(let qo=0;qo<fn;qo++)ui[qo]=w[qo];const Ko=[new Ge(Qn,s),new Ge(Jt,s)];return new B(P,ui,0,Ko,ne.CODE_128,new Date().getTime())}}Le.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Le.MAX_AVG_VARIANCE=.25,Le.MAX_INDIVIDUAL_VARIANCE=.7,Le.CODE_SHIFT=98,Le.CODE_CODE_C=99,Le.CODE_CODE_B=100,Le.CODE_CODE_A=101,Le.CODE_FNC_1=102,Le.CODE_FNC_2=97,Le.CODE_FNC_3=96,Le.CODE_FNC_4_A=101,Le.CODE_FNC_4_B=100,Le.CODE_START_A=103,Le.CODE_START_B=104,Le.CODE_START_C=105,Le.CODE_STOP=106;class gr extends gt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let d=gr.findAsteriskPattern(o,f),h=o.getNextSet(d[1]),x=o.getSize(),w,y;do{gr.recordPattern(o,h,f);let re=gr.toNarrowWidePattern(f);if(re<0)throw new te;w=gr.patternToChar(re),this.decodeRowResult+=w,y=h;for(let ue of f)h+=ue;h=o.getNextSet(h)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let re of f)T+=re;let O=h-y-T;if(h!==x&&O*2<T)throw new te;if(this.usingCheckDigit){let re=this.decodeRowResult.length-1,ue=0;for(let xe=0;xe<re;xe++)ue+=gr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(xe));if(this.decodeRowResult.charAt(re)!==gr.ALPHABET_STRING.charAt(ue%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,re)}if(this.decodeRowResult.length===0)throw new te;let P;this.extendedMode?P=gr.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let G=(d[1]+d[0])/2,ee=y+T/2;return new B(P,null,0,[new Ge(G,s),new Ge(ee,s)],ne.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),f=s.getNextSet(0),d=0,h=f,x=!1,w=o.length;for(let y=f;y<c;y++)if(s.get(y)!==x)o[d]++;else{if(d===w-1){if(this.toNarrowWidePattern(o)===gr.ASTERISK_ENCODING&&s.isRange(Math.max(0,h-Math.floor((y-h)/2)),h,!1))return[h,y];h+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new te}static toNarrowWidePattern(s){let o=s.length,c=0,f;do{let d=2147483647;for(let w of s)w<d&&w>c&&(d=w);c=d,f=0;let h=0,x=0;for(let w=0;w<o;w++){let y=s[w];y>c&&(x|=1<<o-1-w,f++,h+=y)}if(f===3){for(let w=0;w<o&&f>0;w++){let y=s[w];if(y>c&&(f--,y*2>=h))return-1}return x}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<gr.CHARACTER_ENCODINGS.length;o++)if(gr.CHARACTER_ENCODINGS[o]===s)return gr.ALPHABET_STRING.charAt(o);if(s===gr.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(s){let o=s.length,c="";for(let f=0;f<o;f++){let d=s.charAt(f);if(d==="+"||d==="$"||d==="%"||d==="/"){let h=s.charAt(f+1),x="\0";switch(d){case"+":if(h>="A"&&h<="Z")x=String.fromCharCode(h.charCodeAt(0)+32);else throw new F;break;case"$":if(h>="A"&&h<="Z")x=String.fromCharCode(h.charCodeAt(0)-64);else throw new F;break;case"%":if(h>="A"&&h<="E")x=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")x=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")x=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")x=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")x="\0";else if(h==="V")x="@";else if(h==="W")x="`";else if(h==="X"||h==="Y"||h==="Z")x="";else throw new F;break;case"/":if(h>="A"&&h<="O")x=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")x=":";else throw new F;break}c+=x,f++}else c+=d}return c}}gr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",gr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],gr.ASTERISK_ENCODING=148;class Vt extends gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let f=this.decodeStart(o),d=this.decodeEnd(o),h=new _e;Vt.decodeMiddle(o,f[1],d[0],h);let x=h.toString(),w=null;c!=null&&(w=c.get(X.ALLOWED_LENGTHS)),w==null&&(w=Vt.DEFAULT_ALLOWED_LENGTHS);let y=x.length,T=!1,O=0;for(let ee of w){if(y===ee){T=!0;break}ee>O&&(O=ee)}if(!T&&y>O&&(T=!0),!T)throw new F;const P=[new Ge(f[1],s),new Ge(d[0],s)];return new B(x,null,0,P,ne.ITF,new Date().getTime())}static decodeMiddle(s,o,c,f){let d=new Int32Array(10),h=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),h.fill(0),x.fill(0);o<c;){gt.recordPattern(s,o,d);for(let y=0;y<5;y++){let T=2*y;h[y]=d[T],x[y]=d[T+1]}let w=Vt.decodeDigit(h);f.append(w.toString()),w=this.decodeDigit(x),f.append(w.toString()),d.forEach(function(y){o+=y})}}decodeStart(s){let o=Vt.skipWhiteSpace(s),c=Vt.findGuardPattern(s,o,Vt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let f=o-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new te}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new te;return c}decodeEnd(s){s.reverse();try{let o=Vt.skipWhiteSpace(s),c;try{c=Vt.findGuardPattern(s,o,Vt.END_PATTERN_REVERSED[0])}catch(d){d instanceof te&&(c=Vt.findGuardPattern(s,o,Vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let f=c.length,d=new Int32Array(f),h=s.getSize(),x=!1,w=0,y=o;d.fill(0);for(let T=o;T<h;T++)if(s.get(T)!==x)d[w]++;else{if(w===f-1){if(gt.patternMatchVariance(d,c,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return[y,T];y+=d[0]+d[1],C.arraycopy(d,2,d,0,w-1),d[w-1]=0,d[w]=0,w--}else w++;d[w]=1,x=!x}throw new te}static decodeDigit(s){let o=Vt.MAX_AVG_VARIANCE,c=-1,f=Vt.PATTERNS.length;for(let d=0;d<f;d++){let h=Vt.PATTERNS[d],x=gt.patternMatchVariance(s,h,Vt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,c=d):x===o&&(c=-1)}if(c>=0)return c%10;throw new te}}Vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Vt.MAX_AVG_VARIANCE=.38,Vt.MAX_INDIVIDUAL_VARIANCE=.5,Vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Vt.START_PATTERN=Int32Array.from([1,1,1,1]),Vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Zt extends gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,f=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),c=Zt.findGuardPattern(s,f,!1,this.START_END_PATTERN,d);let h=c[0];f=c[1];let x=h-(f-h);x>=0&&(o=s.isRange(x,h,!1))}return c}static checkChecksum(s){return Zt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return Zt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let d=s.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new F;c+=d}c*=3;for(let f=o-2;f>=0;f-=2){let d=s.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new F;c+=d}return(1e3-c)%10}static decodeEnd(s,o){return Zt.findGuardPattern(s,o,!1,Zt.START_END_PATTERN,new Int32Array(Zt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,f){return this.findGuardPattern(s,o,c,f,new Int32Array(f.length))}static findGuardPattern(s,o,c,f,d){let h=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let x=0,w=o,y=f.length,T=c;for(let O=o;O<h;O++)if(s.get(O)!==T)d[x]++;else{if(x===y-1){if(gt.patternMatchVariance(d,f,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=d[0]+d[1];let P=d.slice(2,d.length-1);for(let G=0;G<x-1;G++)d[G]=P[G];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,T=!T}throw new te}static decodeDigit(s,o,c,f){this.recordPattern(s,c,o);let d=this.MAX_AVG_VARIANCE,h=-1,x=f.length;for(let w=0;w<x;w++){let y=f[w],T=gt.patternMatchVariance(o,y,Zt.MAX_INDIVIDUAL_VARIANCE);T<d&&(d=T,h=w)}if(h>=0)return h;throw new te}}Zt.MAX_AVG_VARIANCE=.48,Zt.MAX_INDIVIDUAL_VARIANCE=.7,Zt.START_END_PATTERN=Int32Array.from([1,1,1]),Zt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Zt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class os{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(o,c,f),h=f.toString(),x=os.parseExtensionString(h),w=[new Ge((c[0]+c[1])/2,s),new Ge(d,s)],y=new B(h,null,0,w,ne.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&y.putAllMetadata(x),y}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h=o[1],x=0;for(let y=0;y<5&&h<d;y++){let T=Zt.decodeDigit(s,f,h,Zt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)h+=O;T>=10&&(x|=1<<4-y),y!==4&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(c.length!==5)throw new te;let w=this.determineCheckDigit(x);if(os.extensionChecksum(c.toString())!==w)throw new te;return h}static extensionChecksum(s){let o=s.length,c=0;for(let f=o-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;c*=3;for(let f=o-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new te}static parseExtensionString(s){if(s.length!==5)return null;let o=os.parseExtension5String(s);return o==null?null:new Map([[Ee.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),d=c%100,h=d<10?"0"+d:d.toString();return o+f+"."+h}}class ks{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,d=this.decodeMiddle(o,c,f),h=f.toString(),x=ks.parseExtensionString(h),w=[new Ge((c[0]+c[1])/2,s),new Ge(d,s)],y=new B(h,null,0,w,ne.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&y.putAllMetadata(x),y}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h=o[1],x=0;for(let w=0;w<2&&h<d;w++){let y=Zt.decodeDigit(s,f,h,Zt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+y%10);for(let T of f)h+=T;y>=10&&(x|=1<<1-w),w!==1&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(c.length!==2)throw new te;if(parseInt(c.toString())%4!==x)throw new te;return h}static parseExtensionString(s){return s.length!==2?null:new Map([[Ee.ISSUE_NUMBER,parseInt(s)]])}}class Fr{static decodeRow(s,o,c){let f=Zt.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new os().decodeRow(s,o,f)}catch{return new ks().decodeRow(s,o,f)}}}Fr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class bt extends Zt{constructor(){super(),this.decodeRowStringBuffer="",bt.L_AND_G_PATTERNS=bt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=bt.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let f=0;f<o.length;f++)c[f]=o[o.length-f-1];bt.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let f=bt.findStartGuardPattern(o),d=c==null?null:c.get(X.NEED_RESULT_POINT_CALLBACK);if(d!=null){const Re=new Ge((f[0]+f[1])/2,s);d.foundPossibleResultPoint(Re)}let h=this.decodeMiddle(o,f,this.decodeRowStringBuffer),x=h.rowOffset,w=h.resultString;if(d!=null){const Re=new Ge(x,s);d.foundPossibleResultPoint(Re)}let y=this.decodeEnd(o,x);if(d!=null){const Re=new Ge((y[0]+y[1])/2,s);d.foundPossibleResultPoint(Re)}let T=y[1],O=T+(T-y[0]);if(O>=o.getSize()||!o.isRange(T,O,!1))throw new te;let P=w.toString();if(P.length<8)throw new F;if(!bt.checkChecksum(P))throw new E;let G=(f[1]+f[0])/2,ee=(y[1]+y[0])/2,re=this.getBarcodeFormat(),ue=[new Ge(G,s),new Ge(ee,s)],xe=new B(P,null,0,ue,re,new Date().getTime()),Be=0;try{let Re=Fr.decodeRow(s,o,y[1]);xe.putMetadata(Ee.UPC_EAN_EXTENSION,Re.getText()),xe.putAllMetadata(Re.getResultMetadata()),xe.addResultPoints(Re.getResultPoints()),Be=Re.getText().length}catch{}let je=c==null?null:c.get(X.ALLOWED_EAN_EXTENSIONS);if(je!=null){let Re=!1;for(let Rt in je)if(Be.toString()===Rt){Re=!0;break}if(!Re)throw new te}return xe}decodeEnd(s,o){return bt.findGuardPattern(s,o,!1,bt.START_END_PATTERN,new Int32Array(bt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return bt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return bt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let d=s.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new F;c+=d}c*=3;for(let f=o-2;f>=0;f-=2){let d=s.charAt(f).charCodeAt(0)-48;if(d<0||d>9)throw new F;c+=d}return(1e3-c)%10}}class Vi extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h=o[1],x=0;for(let y=0;y<6&&h<d;y++){let T=bt.decodeDigit(s,f,h,bt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)h+=O;T>=10&&(x|=1<<5-y)}c=Vi.determineFirstDigit(c,x),h=bt.findGuardPattern(s,h,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&h<d;y++){let T=bt.decodeDigit(s,f,h,bt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let O of f)h+=O}return{rowOffset:h,resultString:c}}getBarcodeFormat(){return ne.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new te}}Vi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ls extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h=o[1];for(let w=0;w<4&&h<d;w++){let y=bt.decodeDigit(s,f,h,bt.L_PATTERNS);c+=String.fromCharCode(48+y);for(let T of f)h+=T}h=bt.findGuardPattern(s,h,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&h<d;w++){let y=bt.decodeDigit(s,f,h,bt.L_PATTERNS);c+=String.fromCharCode(48+y);for(let T of f)h+=T}return{rowOffset:h,resultString:c}}getBarcodeFormat(){return ne.EAN_8}}class Go extends bt{constructor(){super(...arguments),this.ean13Reader=new Vi}getBarcodeFormat(){return ne.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new B(o.substring(1),null,null,s.getResultPoints(),ne.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new te}reset(){this.ean13Reader.reset()}}class Pn extends bt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters.map(y=>y);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const d=s.getSize();let h=o[1],x=0;for(let y=0;y<6&&h<d;y++){const T=Pn.decodeDigit(s,f,h,Pn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)h+=O;T>=10&&(x|=1<<5-y)}let w=Pn.determineNumSysAndCheckDigit(c,x);return{rowOffset:h,resultString:w}}decodeEnd(s,o){return Pn.findGuardPatternWithoutCounters(s,o,!0,Pn.MIDDLE_END_PATTERN)}checkChecksum(s){return bt.checkChecksum(Pn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let d=String.fromCharCode(48+c),h=String.fromCharCode(48+f);return d+s+h}throw te.getNotFoundInstance()}getBarcodeFormat(){return ne.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),c=new _e;c.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(f),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}Pn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ga extends gt{constructor(s){super();let o=s==null?null:s.get(X.POSSIBLE_FORMATS),c=[];n(o)?(c.push(new Vi),c.push(new Go),c.push(new ls),c.push(new Pn)):(o.indexOf(ne.EAN_13)>-1&&c.push(new Vi),o.indexOf(ne.UPC_A)>-1&&c.push(new Go),o.indexOf(ne.EAN_8)>-1&&c.push(new ls),o.indexOf(ne.UPC_E)>-1&&c.push(new Pn)),this.readers=c}decodeRow(s,o,c){for(let f of this.readers)try{const d=f.decodeRow(s,o,c),h=d.getBarcodeFormat()===ne.EAN_13&&d.getText().charAt(0)==="0",x=c==null?null:c.get(X.POSSIBLE_FORMATS),w=x==null||x.includes(ne.UPC_A);if(h&&w){const y=d.getRawBytes(),T=new B(d.getText().substring(1),y,y?y.length:null,d.getResultPoints(),ne.UPC_A);return T.putAllMetadata(d.getResultMetadata()),T}return d}catch{}throw new te}reset(){for(let s of this.readers)s.reset()}}class Pr extends gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(gt.patternMatchVariance(s,o[c],Pr.MAX_INDIVIDUAL_VARIANCE)<Pr.MAX_AVG_VARIANCE)return c;throw new te}static count(s){return it.sum(new Int32Array(s))}static increment(s,o){let c=0,f=o[0];for(let d=1;d<s.length;d++)o[d]>f&&(f=o[d],c=d);s[c]++}static decrement(s,o){let c=0,f=o[0];for(let d=1;d<s.length;d++)o[d]<f&&(f=o[d],c=d);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],f=o/c;if(f>=Pr.MIN_FINDER_PATTERN_RATIO&&f<=Pr.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let x of s)x>h&&(h=x),x<d&&(d=x);return h<10*d}return!1}}Pr.MAX_AVG_VARIANCE=.2,Pr.MAX_INDIVIDUAL_VARIANCE=.45,Pr.MIN_FINDER_PATTERN_RATIO=9.5/12,Pr.MAX_FINDER_PATTERN_RATIO=12.5/14;class cs{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof cs))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Qs{constructor(s,o,c,f,d){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ge(c,d)),this.resultPoints.push(new Ge(f,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Qs))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class se{constructor(){}static getRSSvalue(s,o,c){let f=0;for(let w of s)f+=w;let d=0,h=0,x=s.length;for(let w=0;w<x-1;w++){let y;for(y=1,h|=1<<w;y<s[w];y++,h&=~(1<<w)){let T=se.combins(f-y-1,x-w-2);if(c&&h===0&&f-y-(x-w-1)>=x-w-1&&(T-=se.combins(f-y-(x-w),x-w-2)),x-w-1>1){let O=0;for(let P=f-y-(x-w-2);P>o;P--)O+=se.combins(f-y-P-1,x-w-3);T-=O*(x-1-w)}else f-y>o&&T--;d+=T}f-=y}return d}static combins(s,o){let c,f;s-o>o?(f=o,c=s-o):(f=s-o,c=o);let d=1,h=1;for(let x=s;x>c;x--)d*=x,h<=f&&(d/=h,h++);for(;h<=f;)d/=h,h++;return d}}class He{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,f=new L(c),d=0,x=s[0].getRightChar().getValue();for(let w=11;w>=0;--w)x&1<<w&&f.set(d),d++;for(let w=1;w<s.length;++w){let y=s[w],T=y.getLeftChar().getValue();for(let O=11;O>=0;--O)T&1<<O&&f.set(d),d++;if(y.getRightChar()!=null){let O=y.getRightChar().getValue();for(let P=11;P>=0;--P)O&1<<P&&f.set(d),d++}}return f}}class Xe{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Qe{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Ye extends Qe{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Ye.FNC1}}Ye.FNC1="$";class dt extends Qe{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class D extends Qe{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new F;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===D.FNC1}isSecondDigitFNC1(){return this.secondDigit===D.FNC1}isAnyFNC1(){return this.firstDigit===D.FNC1||this.secondDigit===D.FNC1}}D.FNC1=10;class M{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new te;let o=s.substring(0,2);for(let d of M.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===M.VARIABLE_LENGTH?M.processVariableAI(2,d[2],s):M.processFixedAI(2,d[1],s);if(s.length<3)throw new te;let c=s.substring(0,3);for(let d of M.THREE_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===M.VARIABLE_LENGTH?M.processVariableAI(3,d[2],s):M.processFixedAI(3,d[1],s);for(let d of M.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===M.VARIABLE_LENGTH?M.processVariableAI(4,d[2],s):M.processFixedAI(4,d[1],s);if(s.length<4)throw new te;let f=s.substring(0,4);for(let d of M.FOUR_DIGIT_DATA_LENGTH)if(d[0]===f)return d[1]===M.VARIABLE_LENGTH?M.processVariableAI(4,d[2],s):M.processFixedAI(4,d[1],s);throw new te}static processFixedAI(s,o,c){if(c.length<s)throw new te;let f=c.substring(0,s);if(c.length<s+o)throw new te;let d=c.substring(s,s+o),h=c.substring(s+o),x="("+f+")"+d,w=M.parseFieldsInGeneralPurpose(h);return w==null?x:x+w}static processVariableAI(s,o,c){let f=c.substring(0,s),d;c.length<s+o?d=c.length:d=s+o;let h=c.substring(s,d),x=c.substring(d),w="("+f+")"+h,y=M.parseFieldsInGeneralPurpose(x);return y==null?w:w+y}}M.VARIABLE_LENGTH=[],M.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",M.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",M.VARIABLE_LENGTH,20],["22",M.VARIABLE_LENGTH,29],["30",M.VARIABLE_LENGTH,8],["37",M.VARIABLE_LENGTH,8],["90",M.VARIABLE_LENGTH,30],["91",M.VARIABLE_LENGTH,30],["92",M.VARIABLE_LENGTH,30],["93",M.VARIABLE_LENGTH,30],["94",M.VARIABLE_LENGTH,30],["95",M.VARIABLE_LENGTH,30],["96",M.VARIABLE_LENGTH,30],["97",M.VARIABLE_LENGTH,3],["98",M.VARIABLE_LENGTH,30],["99",M.VARIABLE_LENGTH,30]],M.THREE_DIGIT_DATA_LENGTH=[["240",M.VARIABLE_LENGTH,30],["241",M.VARIABLE_LENGTH,30],["242",M.VARIABLE_LENGTH,6],["250",M.VARIABLE_LENGTH,30],["251",M.VARIABLE_LENGTH,30],["253",M.VARIABLE_LENGTH,17],["254",M.VARIABLE_LENGTH,20],["400",M.VARIABLE_LENGTH,30],["401",M.VARIABLE_LENGTH,30],["402",17],["403",M.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",M.VARIABLE_LENGTH,20],["421",M.VARIABLE_LENGTH,15],["422",3],["423",M.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],M.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",M.VARIABLE_LENGTH,15],["391",M.VARIABLE_LENGTH,18],["392",M.VARIABLE_LENGTH,15],["393",M.VARIABLE_LENGTH,18],["703",M.VARIABLE_LENGTH,30]],M.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",M.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",M.VARIABLE_LENGTH,20],["8003",M.VARIABLE_LENGTH,30],["8004",M.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",M.VARIABLE_LENGTH,30],["8008",M.VARIABLE_LENGTH,12],["8018",18],["8020",M.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",M.VARIABLE_LENGTH,70],["8200",M.VARIABLE_LENGTH,70]];class U{constructor(s){this.buffer=new _e,this.information=s}decodeAllCodes(s,o){let c=o,f=null;do{let d=this.decodeGeneralPurposeField(c,f),h=M.parseFieldsInGeneralPurpose(d.getNewString());if(h!=null&&s.append(h),d.isRemaining()?f=""+d.getRemainingValue():f=null,c===d.getNewPosition())break;c=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new D(this.information.getSize(),D.FNC1,D.FNC1):new D(this.information.getSize(),d-1,D.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,f=(o-8)%11;return new D(s+7,c,f)}extractNumericValueFromBitArray(s,o){return U.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let f=0;for(let d=0;d<c;++d)s.get(o+d)&&(f|=1<<c-d-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new dt(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new dt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new dt(this.current.getPosition(),this.buffer.toString()):o=new dt(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Xe(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new dt(this.current.getPosition(),this.buffer.toString());return new Xe(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new dt(this.current.getPosition(),this.buffer.toString());return new Xe(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new dt(this.current.getPosition(),this.buffer.toString());return new Xe(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xe(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Ye(s+5,Ye.FNC1);if(o>=5&&o<15)return new Ye(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new Ye(s+7,""+(c+1));if(c>=90&&c<116)return new Ye(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),d;switch(f){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new F}return new Ye(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Ye(s+5,Ye.FNC1);if(o>=5&&o<15)return new Ye(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new Ye(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new ht("Decoding invalid alphanumeric value: "+c)}return new Ye(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class j{constructor(s){this.information=s,this.generalDecoder=new U(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class z extends j{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let f=0;f<4;++f){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}z.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let f=0;f<13;f++){let d=s.charAt(f+o).charCodeAt(0)-48;c+=f&1?d:3*d}c=10-c%10,c===10&&(c=0),s.append(c)}}z.GTIN_SIZE=40;class Y extends z{constructor(s){super(s)}parseInformation(){let s=new _e;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Y.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,Y.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,Y.HEADER_SIZE+44)}}Y.HEADER_SIZE=4;class ae extends j{constructor(s){super(s)}parseInformation(){let s=new _e;return this.getGeneralDecoder().decodeAllCodes(s,ae.HEADER_SIZE)}}ae.HEADER_SIZE=5;class me extends z{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,f);let d=this.checkWeight(f),h=1e5;for(let x=0;x<5;++x)d/h===0&&s.append("0"),h/=10;s.append(d)}}class ce extends me{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ce.HEADER_SIZE+me.GTIN_SIZE+ce.WEIGHT_SIZE)throw new te;let s=new _e;return this.encodeCompressedGtin(s,ce.HEADER_SIZE),this.encodeCompressedWeight(s,ce.HEADER_SIZE+me.GTIN_SIZE,ce.WEIGHT_SIZE),s.toString()}}ce.HEADER_SIZE=5,ce.WEIGHT_SIZE=15;class he extends ce{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class ge extends ce{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ke extends z{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ke.HEADER_SIZE+z.GTIN_SIZE)throw new te;let s=new _e;this.encodeCompressedGtin(s,ke.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ke.HEADER_SIZE+z.GTIN_SIZE,ke.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(ke.HEADER_SIZE+z.GTIN_SIZE+ke.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}ke.HEADER_SIZE=8,ke.LAST_DIGIT_SIZE=2;class De extends z{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<De.HEADER_SIZE+z.GTIN_SIZE)throw new te;let s=new _e;this.encodeCompressedGtin(s,De.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(De.HEADER_SIZE+z.GTIN_SIZE,De.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(De.HEADER_SIZE+z.GTIN_SIZE+De.LAST_DIGIT_SIZE,De.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(De.HEADER_SIZE+z.GTIN_SIZE+De.LAST_DIGIT_SIZE+De.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}De.HEADER_SIZE=8,De.LAST_DIGIT_SIZE=2,De.FIRST_THREE_DIGITS_SIZE=10;class Me extends me{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Me.HEADER_SIZE+Me.GTIN_SIZE+Me.WEIGHT_SIZE+Me.DATE_SIZE)throw new te;let s=new _e;return this.encodeCompressedGtin(s,Me.HEADER_SIZE),this.encodeCompressedWeight(s,Me.HEADER_SIZE+Me.GTIN_SIZE,Me.WEIGHT_SIZE),this.encodeCompressedDate(s,Me.HEADER_SIZE+Me.GTIN_SIZE+Me.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Me.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let d=c%12+1;c/=12;let h=c;h/10==0&&s.append("0"),s.append(h),d/10==0&&s.append("0"),s.append(d),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Me.HEADER_SIZE=8,Me.WEIGHT_SIZE=20,Me.DATE_SIZE=16;function Ue(N){try{if(N.get(1))return new Y(N);if(!N.get(2))return new ae(N);switch(U.extractNumericValueFromBitArray(N,1,4)){case 4:return new he(N);case 5:return new ge(N)}switch(U.extractNumericValueFromBitArray(N,1,5)){case 12:return new ke(N);case 13:return new De(N)}switch(U.extractNumericValueFromBitArray(N,1,7)){case 56:return new Me(N,"310","11");case 57:return new Me(N,"320","11");case 58:return new Me(N,"310","13");case 59:return new Me(N,"320","13");case 60:return new Me(N,"310","15");case 61:return new Me(N,"320","15");case 62:return new Me(N,"310","17");case 63:return new Me(N,"320","17")}}catch(s){throw console.log(s),new ht("unknown decoder: "+N)}}class Ve{constructor(s,o,c,f){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof Ve?Ve.equalsOrNull(s.leftchar,o.leftchar)&&Ve.equalsOrNull(s.rightchar,o.rightchar)&&Ve.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:Ve.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ct{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof ct?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((f,d)=>{o.forEach(h=>{f.getLeftChar().getValue()===h.getLeftChar().getValue()&&f.getRightChar().getValue()===h.getRightChar().getValue()&&f.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(c=!0)})}),c}}class ve extends Pr{constructor(s){super(...arguments),this.pairs=new Array(ve.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return ve.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,ve.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(d){if(d instanceof te){if(!this.pairs.length)throw new te;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new te}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let h of s)this.pairs.push(h.getPairs());if(this.pairs.push(f.getPairs()),!ve.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(f);try{return this.checkRows(d,c+1)}catch(h){this.verbose&&console.log(h)}}throw new te}static isValidSequence(s){for(let o of ve.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,f=!1,d=!1;for(;c<this.rows.length;){let h=this.rows[c];if(h.getRowNumber()>s){d=h.isEquivalent(this.pairs);break}f=h.isEquivalent(this.pairs),c++}d||f||ve.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new ct(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let d of s)if(Ve.equals(f,d))break}}static isPartialRow(s,o){for(let c of o){let f=!0;for(let d of s){let h=!1;for(let x of c.getPairs())if(d.equals(x)){h=!0;break}if(!h){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=He.buildBitArray(s),f=Ue(o).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),h=s[s.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],h[0],h[1]];return new B(f,null,null,x,ne.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let w=this.pairs.get(x);f+=w.getLeftChar().getChecksumPortion(),d++;let y=w.getRightChar();y!=null&&(f+=y.getChecksumPortion(),d++)}return f%=211,211*(d-4)+f==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let f=o.length%2==0;this.startFromEven&&(f=!f);let d,h=!0,x=-1;do this.findNextPair(s,o,x),d=this.parseFoundFinderPattern(s,c,f),d==null?x=ve.getNextSecondBar(s,this.startEnd[0]):h=!1;while(h);let w=this.decodeDataCharacter(s,d,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new te;let y;try{y=this.decodeDataCharacter(s,d,f,!1)}catch(T){y=null,this.verbose&&console.log(T)}return new Ve(w,y,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=s.getSize(),h;c>=0?h=c:this.isEmptyPair(o)?h=0:h=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let w=!1;for(;h<d&&(w=!s.get(h),!!w);)h++;let y=0,T=h;for(let O=h;O<d;O++)if(s.get(O)!=w)f[y]++;else{if(y==3){if(x&&ve.reverseCounters(f),ve.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=O;return}x&&ve.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,y--}else y++;f[y]=1,w=!w}throw new te}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let f=s[c];s[c]=s[o-c-1],s[o-c-1]=f}}parseFoundFinderPattern(s,o,c){let f,d,h;if(c){let y=this.startEnd[0]-1;for(;y>=0&&!s.get(y);)y--;y++,f=this.startEnd[0]-y,d=y,h=this.startEnd[1]}else d=this.startEnd[0],h=s.getNextUnset(this.startEnd[1]+1),f=h-this.startEnd[1];let x=this.getDecodeFinderCounters();C.arraycopy(x,0,x,1,x.length-1),x[0]=f;let w;try{w=this.parseFinderValue(x,ve.FINDER_PATTERNS)}catch{return null}return new Qs(w,[d,h],d,h,o)}decodeDataCharacter(s,o,c,f){let d=this.getDataCharacterCounters();for(let Jt=0;Jt<d.length;Jt++)d[Jt]=0;if(f)ve.recordPatternInReverse(s,o.getStartEnd()[0],d);else{ve.recordPattern(s,o.getStartEnd()[1],d);for(let Jt=0,fn=d.length-1;Jt<fn;Jt++,fn--){let ui=d[Jt];d[Jt]=d[fn],d[fn]=ui}}let h=17,x=it.sum(new Int32Array(d))/h,w=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-w)/w>.3)throw new te;let y=this.getOddCounts(),T=this.getEvenCounts(),O=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Jt=0;Jt<d.length;Jt++){let fn=1*d[Jt]/x,ui=fn+.5;if(ui<1){if(fn<.3)throw new te;ui=1}else if(ui>8){if(fn>8.7)throw new te;ui=8}let Ko=Jt/2;Jt&1?(T[Ko]=ui,P[Ko]=fn-ui):(y[Ko]=ui,O[Ko]=fn-ui)}this.adjustOddEvenCounts(h);let G=4*o.getValue()+(c?0:2)+(f?0:1)-1,ee=0,re=0;for(let Jt=y.length-1;Jt>=0;Jt--){if(ve.isNotA1left(o,c,f)){let fn=ve.WEIGHTS[G][2*Jt];re+=y[Jt]*fn}ee+=y[Jt]}let ue=0;for(let Jt=T.length-1;Jt>=0;Jt--)if(ve.isNotA1left(o,c,f)){let fn=ve.WEIGHTS[G][2*Jt+1];ue+=T[Jt]*fn}let xe=re+ue;if(ee&1||ee>13||ee<4)throw new te;let Be=(13-ee)/2,je=ve.SYMBOL_WIDEST[Be],Re=9-je,Rt=se.getRSSvalue(y,je,!0),pt=se.getRSSvalue(T,Re,!1),Zn=ve.EVEN_TOTAL_SUBSET[Be],zi=ve.GSUM[Be],Qn=Rt*Zn+pt+zi;return new cs(Qn,xe)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=it.sum(new Int32Array(this.getOddCounts())),c=it.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1;o>13?d=!0:o<4&&(f=!0);let h=!1,x=!1;c>13?x=!0:c<4&&(h=!0);let w=o+c-s,y=(o&1)==1,T=(c&1)==0;if(w==1)if(y){if(T)throw new te;d=!0}else{if(!T)throw new te;x=!0}else if(w==-1)if(y){if(T)throw new te;f=!0}else{if(!T)throw new te;h=!0}else if(w==0){if(y){if(!T)throw new te;o<c?(f=!0,x=!0):(d=!0,h=!0)}else if(T)throw new te}else throw new te;if(f){if(d)throw new te;ve.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ve.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new te;ve.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ve.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ve.SYMBOL_WIDEST=[7,5,4,3,1],ve.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ve.GSUM=[0,348,1388,2948,3988],ve.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ve.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ve.FINDER_PAT_A=0,ve.FINDER_PAT_B=1,ve.FINDER_PAT_C=2,ve.FINDER_PAT_D=3,ve.FINDER_PAT_E=4,ve.FINDER_PAT_F=5,ve.FINDER_PATTERN_SEQUENCES=[[ve.FINDER_PAT_A,ve.FINDER_PAT_A],[ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B],[ve.FINDER_PAT_A,ve.FINDER_PAT_C,ve.FINDER_PAT_B,ve.FINDER_PAT_D],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_C],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_D,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_D],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_E],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F]],ve.MAX_PAIRS=11;class lr extends cs{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vt extends Pr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const f=this.decodePair(o,!1,s,c);vt.addOrTally(this.possibleLeftPairs,f),o.reverse();let d=this.decodePair(o,!0,s,c);vt.addOrTally(this.possibleRightPairs,d),o.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&vt.checkChecksum(h,x))return vt.constructResult(h,x)}throw new te}static addOrTally(s,o){if(o==null)return;let c=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),f=new String(c).toString(),d=new _e;for(let y=13-f.length;y>0;y--)d.append("0");d.append(f);let h=0;for(let y=0;y<13;y++){let T=d.charAt(y).charCodeAt(0)-48;h+=y&1?T:3*T}h=10-h%10,h===10&&(h=0),d.append(h.toString());let x=s.getFinderPattern().getResultPoints(),w=o.getFinderPattern().getResultPoints();return new B(d.toString(),null,0,[x[0],x[1],w[0],w[1]],ne.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,o,c,f){try{let d=this.findFinderPattern(s,o),h=this.parseFoundFinderPattern(s,c,o,d),x=f==null?null:f.get(X.NEED_RESULT_POINT_CALLBACK);if(x!=null){let T=(d[0]+d[1])/2;o&&(T=s.getSize()-1-T),x.foundPossibleResultPoint(new Ge(T,c))}let w=this.decodeDataCharacter(s,h,!0),y=this.decodeDataCharacter(s,h,!1);return new lr(1597*w.getValue()+y.getValue(),w.getChecksumPortion()+4*y.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(s,o,c){let f=this.getDataCharacterCounters();for(let ue=0;ue<f.length;ue++)f[ue]=0;if(c)gt.recordPatternInReverse(s,o.getStartEnd()[0],f);else{gt.recordPattern(s,o.getStartEnd()[1]+1,f);for(let ue=0,xe=f.length-1;ue<xe;ue++,xe--){let Be=f[ue];f[ue]=f[xe],f[xe]=Be}}let d=c?16:15,h=it.sum(new Int32Array(f))/d,x=this.getOddCounts(),w=this.getEvenCounts(),y=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let ue=0;ue<f.length;ue++){let xe=f[ue]/h,Be=Math.floor(xe+.5);Be<1?Be=1:Be>8&&(Be=8);let je=Math.floor(ue/2);ue&1?(w[je]=Be,T[je]=xe-Be):(x[je]=Be,y[je]=xe-Be)}this.adjustOddEvenCounts(c,d);let O=0,P=0;for(let ue=x.length-1;ue>=0;ue--)P*=9,P+=x[ue],O+=x[ue];let G=0,ee=0;for(let ue=w.length-1;ue>=0;ue--)G*=9,G+=w[ue],ee+=w[ue];let re=P+3*G;if(c){if(O&1||O>12||O<4)throw new te;let ue=(12-O)/2,xe=vt.OUTSIDE_ODD_WIDEST[ue],Be=9-xe,je=se.getRSSvalue(x,xe,!1),Re=se.getRSSvalue(w,Be,!0),Rt=vt.OUTSIDE_EVEN_TOTAL_SUBSET[ue],pt=vt.OUTSIDE_GSUM[ue];return new cs(je*Rt+Re+pt,re)}else{if(ee&1||ee>10||ee<4)throw new te;let ue=(10-ee)/2,xe=vt.INSIDE_ODD_WIDEST[ue],Be=9-xe,je=se.getRSSvalue(x,xe,!0),Re=se.getRSSvalue(w,Be,!1),Rt=vt.INSIDE_ODD_TOTAL_SUBSET[ue],pt=vt.INSIDE_GSUM[ue];return new cs(Re*Rt+je+pt,re)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),d=!1,h=0;for(;h<f&&(d=!s.get(h),o!==d);)h++;let x=0,w=h;for(let y=h;y<f;y++)if(s.get(y)!==d)c[x]++;else{if(x===3){if(Pr.isFinderPattern(c))return[w,y];w+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,x--}else x++;c[x]=1,d=!d}throw new te}parseFoundFinderPattern(s,o,c,f){let d=s.get(f[0]),h=f[0]-1;for(;h>=0&&d!==s.get(h);)h--;h++;const x=f[0]-h,w=this.getDecodeFinderCounters(),y=new Int32Array(w.length);C.arraycopy(w,0,y,1,w.length-1),y[0]=x;const T=this.parseFinderValue(y,vt.FINDER_PATTERNS);let O=h,P=f[1];return c&&(O=s.getSize()-1-O,P=s.getSize()-1-P),new Qs(T,[h,f[1]],O,P,o)}adjustOddEvenCounts(s,o){let c=it.sum(new Int32Array(this.getOddCounts())),f=it.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1,x=!1,w=!1;s?(c>12?h=!0:c<4&&(d=!0),f>12?w=!0:f<4&&(x=!0)):(c>11?h=!0:c<5&&(d=!0),f>10?w=!0:f<4&&(x=!0));let y=c+f-o,T=(c&1)===(s?1:0),O=(f&1)===1;if(y===1)if(T){if(O)throw new te;h=!0}else{if(!O)throw new te;w=!0}else if(y===-1)if(T){if(O)throw new te;d=!0}else{if(!O)throw new te;x=!0}else if(y===0){if(T){if(!O)throw new te;c<f?(d=!0,w=!0):(h=!0,x=!0)}else if(O)throw new te}else throw new te;if(d){if(h)throw new te;Pr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Pr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(w)throw new te;Pr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Pr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vt.OUTSIDE_GSUM=[0,161,961,2015,2715],vt.INSIDE_GSUM=[0,336,1036,1516],vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vt.INSIDE_ODD_WIDEST=[2,4,6,8],vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Si extends gt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(X.POSSIBLE_FORMATS):null,f=s&&s.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(ne.EAN_13)||c.includes(ne.UPC_A)||c.includes(ne.EAN_8)||c.includes(ne.UPC_E))&&this.readers.push(new Ga(s)),c.includes(ne.CODE_39)&&this.readers.push(new gr(f)),c.includes(ne.CODE_128)&&this.readers.push(new Le),c.includes(ne.ITF)&&this.readers.push(new Vt),c.includes(ne.RSS_14)&&this.readers.push(new vt),c.includes(ne.RSS_EXPANDED)&&this.readers.push(new ve(this.verbose))):(this.readers.push(new Ga(s)),this.readers.push(new gr),this.readers.push(new Ga(s)),this.readers.push(new Le),this.readers.push(new Vt),this.readers.push(new vt),this.readers.push(new ve(this.verbose)))}decodeRow(s,o,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,c)}catch{}throw new te}reset(){this.readers.forEach(s=>s.reset())}}class Xa extends fe{constructor(s=500,o){super(new Si(o),s,o)}}class It{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class yt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(s,o,c,f,d,h){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=d,this.ecBlocks=h;let x=0;const w=h.getECCodewords(),y=h.getECBlocks();for(let T of y)x+=T.getCount()*(T.getDataCodewords()+w);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new F;for(let c of _t.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new _t(1,10,10,8,8,new It(5,new yt(1,3))),new _t(2,12,12,10,10,new It(7,new yt(1,5))),new _t(3,14,14,12,12,new It(10,new yt(1,8))),new _t(4,16,16,14,14,new It(12,new yt(1,12))),new _t(5,18,18,16,16,new It(14,new yt(1,18))),new _t(6,20,20,18,18,new It(18,new yt(1,22))),new _t(7,22,22,20,20,new It(20,new yt(1,30))),new _t(8,24,24,22,22,new It(24,new yt(1,36))),new _t(9,26,26,24,24,new It(28,new yt(1,44))),new _t(10,32,32,14,14,new It(36,new yt(1,62))),new _t(11,36,36,16,16,new It(42,new yt(1,86))),new _t(12,40,40,18,18,new It(48,new yt(1,114))),new _t(13,44,44,20,20,new It(56,new yt(1,144))),new _t(14,48,48,22,22,new It(68,new yt(1,174))),new _t(15,52,52,24,24,new It(42,new yt(2,102))),new _t(16,64,64,14,14,new It(56,new yt(2,140))),new _t(17,72,72,16,16,new It(36,new yt(4,92))),new _t(18,80,80,18,18,new It(48,new yt(4,114))),new _t(19,88,88,20,20,new It(56,new yt(4,144))),new _t(20,96,96,22,22,new It(68,new yt(4,174))),new _t(21,104,104,24,24,new It(56,new yt(6,136))),new _t(22,120,120,18,18,new It(68,new yt(6,175))),new _t(23,132,132,20,20,new It(62,new yt(8,163))),new _t(24,144,144,22,22,new It(62,new yt(8,156),new yt(2,155))),new _t(25,8,18,6,16,new It(7,new yt(1,5))),new _t(26,8,32,6,14,new It(11,new yt(1,10))),new _t(27,12,26,10,24,new It(14,new yt(1,16))),new _t(28,12,36,10,16,new It(18,new yt(1,22))),new _t(29,16,36,14,16,new It(24,new yt(1,32))),new _t(30,16,48,14,22,new It(28,new yt(1,49)))]}}_t.VERSIONS=_t.buildVersions();class ci{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new F;this.version=ci.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return _t.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,f=0;const d=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let x=!1,w=!1,y=!1,T=!1;do if(c===d&&f===0&&!x)s[o++]=this.readCorner1(d,h)&255,c-=2,f+=2,x=!0;else if(c===d-2&&f===0&&h&3&&!w)s[o++]=this.readCorner2(d,h)&255,c-=2,f+=2,w=!0;else if(c===d+4&&f===2&&!(h&7)&&!y)s[o++]=this.readCorner3(d,h)&255,c-=2,f+=2,y=!0;else if(c===d-2&&f===0&&(h&7)===4&&!T)s[o++]=this.readCorner4(d,h)&255,c-=2,f+=2,T=!0;else{do c<d&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,d,h)&255),c-=2,f+=2;while(c>=0&&f<h);c+=1,f+=3;do c>=0&&f<h&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,d,h)&255),c+=2,f-=2;while(c<d&&f>=0);c+=3,f+=1}while(c<d||f<h);if(o!==this.version.getTotalCodewords())throw new F;return s}readModule(s,o,c,f){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,f){let d=0;return this.readModule(s-2,o-2,c,f)&&(d|=1),d<<=1,this.readModule(s-2,o-1,c,f)&&(d|=1),d<<=1,this.readModule(s-1,o-2,c,f)&&(d|=1),d<<=1,this.readModule(s-1,o-1,c,f)&&(d|=1),d<<=1,this.readModule(s-1,o,c,f)&&(d|=1),d<<=1,this.readModule(s,o-2,c,f)&&(d|=1),d<<=1,this.readModule(s,o-1,c,f)&&(d|=1),d<<=1,this.readModule(s,o,c,f)&&(d|=1),d}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),h=o/f|0,x=c/d|0,w=h*f,y=x*d,T=new Se(y,w);for(let O=0;O<h;++O){const P=O*f;for(let G=0;G<x;++G){const ee=G*d;for(let re=0;re<f;++re){const ue=O*(f+2)+1+re,xe=P+re;for(let Be=0;Be<d;++Be){const je=G*(d+2)+1+Be;if(s.get(je,ue)){const Re=ee+Be;T.set(Re,xe)}}}}}return T}}class wh{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let f=0;const d=c.getECBlocks();for(let re of d)f+=re.getCount();const h=new Array(f);let x=0;for(let re of d)for(let ue=0;ue<re.getCount();ue++){const xe=re.getDataCodewords(),Be=c.getECCodewords()+xe;h[x++]=new wh(xe,new Uint8Array(Be))}const y=h[0].codewords.length-c.getECCodewords(),T=y-1;let O=0;for(let re=0;re<T;re++)for(let ue=0;ue<x;ue++)h[ue].codewords[re]=s[O++];const P=o.getVersionNumber()===24,G=P?8:x;for(let re=0;re<G;re++)h[re].codewords[y-1]=s[O++];const ee=h[0].codewords.length;for(let re=y;re<ee;re++)for(let ue=0;ue<x;ue++){const xe=P?(ue+8)%x:ue,Be=P&&xe>7?re-1:re;h[xe].codewords[Be]=s[O++]}if(O!==s.length)throw new v;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class vh{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let o=0,c=this.bitOffset,f=this.byteOffset;const d=this.bytes;if(c>0){const h=8-c,x=s<h?s:h,w=h-x,y=255>>8-x<<w;o=(d[f]&y)>>w,s-=x,c+=x,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)o=o<<8|d[f]&255,f++,s-=8;if(s>0){const h=8-s,x=255>>h<<h;o=o<<s|(d[f]&x)>>h,c+=s}}return this.bitOffset=c,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Hr;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Hr||(Hr={}));class Js{static decode(s){const o=new vh(s),c=new _e,f=new _e,d=new Array;let h=Hr.ASCII_ENCODE;do if(h===Hr.ASCII_ENCODE)h=this.decodeAsciiSegment(o,c,f);else{switch(h){case Hr.C40_ENCODE:this.decodeC40Segment(o,c);break;case Hr.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case Hr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case Hr.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case Hr.BASE256_ENCODE:this.decodeBase256Segment(o,c,d);break;default:throw new F}h=Hr.ASCII_ENCODE}while(h!==Hr.PAD_ENCODE&&o.available()>0);return f.length()>0&&c.append(f.toString()),new Ie(s,c.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,o,c){let f=!1;do{let d=s.readBits(8);if(d===0)throw new F;if(d<=128)return f&&(d+=128),o.append(String.fromCharCode(d-1)),Hr.ASCII_ENCODE;if(d===129)return Hr.PAD_ENCODE;if(d<=229){const h=d-130;h<10&&o.append("0"),o.append(""+h)}else switch(d){case 230:return Hr.C40_ENCODE;case 231:return Hr.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return Hr.ANSIX12_ENCODE;case 239:return Hr.TEXT_ENCODE;case 240:return Hr.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new F;break}}while(s.available()>0);return Hr.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const f=[];let d=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(d){case 0:if(w<3)d=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else throw new F;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new F}d=0;break;case 3:c?(o.append(String.fromCharCode(w+224)),c=!1):o.append(String.fromCharCode(w+96)),d=0;break;default:throw new F}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,f=[],d=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(d){case 0:if(w<3)d=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else throw new F;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new F}d=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y),d=0}else throw new F;break;default:throw new F}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let d=0;d<3;d++){const h=c[d];switch(h){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(h<14)o.append(String.fromCharCode(h+44));else if(h<40)o.append(String.fromCharCode(h+51));else throw new F;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let f=(s<<8)+o-1,d=Math.floor(f/1600);c[0]=d,f-=d*1600,d=Math.floor(f/40),c[1]=d,c[2]=f-d*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let f=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),f++);let h;if(d===0?h=s.available()/8|0:d<250?h=d:h=250*(d-249)+this.unrandomize255State(s.readBits(8),f++),h<0)throw new F;const x=new Uint8Array(h);for(let w=0;w<h;w++){if(s.available()<8)throw new F;x[w]=this.unrandomize255State(s.readBits(8),f++)}c.push(x);try{o.append(oe.decode(x,J.ISO88591))}catch(w){throw new ht("Platform does not support required encoding: "+w.message)}}static unrandomize255State(s,o){const c=149*o%255+1,f=s-c;return f>=0?f:f+256}}Js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Js.TEXT_SHIFT2_SET_CHARS=Js.C40_SHIFT2_SET_CHARS,Js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class qS{constructor(){this.rsDecoder=new Ze(qe.DATA_MATRIX_FIELD_256)}decode(s){const o=new ci(s),c=o.getVersion(),f=o.readCodewords(),d=wh.getDataBlocks(f,c);let h=0;for(let y of d)h+=y.getNumDataCodewords();const x=new Uint8Array(h),w=d.length;for(let y=0;y<w;y++){const T=d[y],O=T.getCodewords(),P=T.getNumDataCodewords();this.correctErrors(O,P);for(let G=0;G<P;G++)x[G*w+y]=O[G]}return Js.decode(x)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new E}for(let f=0;f<o;f++)s[f]=c[f]}}class br{constructor(s){this.image=s,this.rectangleDetector=new $t(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new te;o=this.shiftToModuleCenter(o);const c=o[0],f=o[1],d=o[2],h=o[3];let x=this.transitionsBetween(c,h)+1,w=this.transitionsBetween(d,h)+1;(x&1)===1&&(x+=1),(w&1)===1&&(w+=1),4*x<7*w&&4*w<7*x&&(x=w=Math.max(x,w));let y=br.sampleGrid(this.image,c,f,d,h,x,w);return new Kn(y,[c,f,d,h])}static shiftPoint(s,o,c){let f=(o.getX()-s.getX())/(c+1),d=(o.getY()-s.getY())/(c+1);return new Ge(s.getX()+f,s.getY()+d)}static moveAway(s,o,c){let f=s.getX(),d=s.getY();return f<o?f-=1:f+=1,d<c?d-=1:d+=1,new Ge(f,d)}detectSolid1(s){let o=s[0],c=s[1],f=s[3],d=s[2],h=this.transitionsBetween(o,c),x=this.transitionsBetween(c,f),w=this.transitionsBetween(f,d),y=this.transitionsBetween(d,o),T=h,O=[d,o,c,f];return T>x&&(T=x,O[0]=o,O[1]=c,O[2]=f,O[3]=d),T>w&&(T=w,O[0]=c,O[1]=f,O[2]=d,O[3]=o),T>y&&(O[0]=f,O[1]=d,O[2]=o,O[3]=c),O}detectSolid2(s){let o=s[0],c=s[1],f=s[2],d=s[3],h=this.transitionsBetween(o,d),x=br.shiftPoint(c,f,(h+1)*4),w=br.shiftPoint(f,c,(h+1)*4),y=this.transitionsBetween(x,o),T=this.transitionsBetween(w,d);return y<T?(s[0]=o,s[1]=c,s[2]=f,s[3]=d):(s[0]=c,s[1]=f,s[2]=d,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],f=s[2],d=s[3],h=this.transitionsBetween(o,d),x=this.transitionsBetween(c,d),w=br.shiftPoint(o,c,(x+1)*4),y=br.shiftPoint(f,c,(h+1)*4);h=this.transitionsBetween(w,d),x=this.transitionsBetween(y,d);let T=new Ge(d.getX()+(f.getX()-c.getX())/(h+1),d.getY()+(f.getY()-c.getY())/(h+1)),O=new Ge(d.getX()+(o.getX()-c.getX())/(x+1),d.getY()+(o.getY()-c.getY())/(x+1));if(!this.isValid(T))return this.isValid(O)?O:null;if(!this.isValid(O))return T;let P=this.transitionsBetween(w,T)+this.transitionsBetween(y,T),G=this.transitionsBetween(w,O)+this.transitionsBetween(y,O);return P>G?T:O}shiftToModuleCenter(s){let o=s[0],c=s[1],f=s[2],d=s[3],h=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(f,d)+1,w=br.shiftPoint(o,c,x*4),y=br.shiftPoint(f,c,h*4);h=this.transitionsBetween(w,d)+1,x=this.transitionsBetween(y,d)+1,(h&1)===1&&(h+=1),(x&1)===1&&(x+=1);let T=(o.getX()+c.getX()+f.getX()+d.getX())/4,O=(o.getY()+c.getY()+f.getY()+d.getY())/4;o=br.moveAway(o,T,O),c=br.moveAway(c,T,O),f=br.moveAway(f,T,O),d=br.moveAway(d,T,O);let P,G;return w=br.shiftPoint(o,c,x*4),w=br.shiftPoint(w,d,h*4),P=br.shiftPoint(c,o,x*4),P=br.shiftPoint(P,f,h*4),y=br.shiftPoint(f,d,x*4),y=br.shiftPoint(y,c,h*4),G=br.shiftPoint(d,f,x*4),G=br.shiftPoint(G,o,h*4),[w,P,y,G]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,f,d,h,x){return er.getInstance().sampleGrid(s,h,x,.5,.5,h-.5,.5,h-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),d=Math.trunc(o.getX()),h=Math.trunc(o.getY()),x=Math.abs(h-f)>Math.abs(d-c);if(x){let re=c;c=f,f=re,re=d,d=h,h=re}let w=Math.abs(d-c),y=Math.abs(h-f),T=-w/2,O=f<h?1:-1,P=c<d?1:-1,G=0,ee=this.image.get(x?f:c,x?c:f);for(let re=c,ue=f;re!==d;re+=P){let xe=this.image.get(x?ue:re,x?re:ue);if(xe!==ee&&(G++,ee=xe),T+=y,T>0){if(ue===h)break;ue+=O,T-=w}}return G}}class ea{constructor(){this.decoder=new qS}decode(s,o=null){let c,f;if(o!=null&&o.has(X.PURE_BARCODE)){const y=ea.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(y),f=ea.NO_POINTS}else{const y=new br(s.getBlackMatrix()).detect();c=this.decoder.decode(y.getBits()),f=y.getPoints()}const d=c.getRawBytes(),h=new B(c.getText(),d,8*d.length,f,ne.DATA_MATRIX,C.currentTimeMillis()),x=c.getByteSegments();x!=null&&h.putMetadata(Ee.BYTE_SEGMENTS,x);const w=c.getECLevel();return w!=null&&h.putMetadata(Ee.ERROR_CORRECTION_LEVEL,w),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new te;const f=this.moduleSize(o,s);let d=o[1];const h=c[1];let x=o[0];const y=(c[0]-x+1)/f,T=(h-d+1)/f;if(y<=0||T<=0)throw new te;const O=f/2;d+=O,x+=O;const P=new Se(y,T);for(let G=0;G<T;G++){const ee=d+G*f;for(let re=0;re<y;re++)s.get(x+re*f,ee)&&P.set(re,G)}return P}static moduleSize(s,o){const c=o.getWidth();let f=s[0];const d=s[1];for(;f<c&&o.get(f,d);)f++;if(f===c)throw new te;const h=f-s[0];if(h===0)throw new te;return h}}ea.NO_POINTS=[];class ZS extends fe{constructor(s=500){super(new ea,s)}}var Xo;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(Xo||(Xo={}));class tr{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,tr.FOR_BITS.set(c,this),tr.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return tr.L;case"M":return tr.M;case"Q":return tr.Q;case"H":return tr.H;default:throw new m(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof tr))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=tr.FOR_BITS.size)throw new v;return tr.FOR_BITS.get(s)}}tr.FOR_BITS=new Map,tr.FOR_VALUE=new Map,tr.L=new tr(Xo.L,"L",1),tr.M=new tr(Xo.M,"M",0),tr.Q=new tr(Xo.Q,"Q",3),tr.H=new tr(Xo.H,"H",2);class yn{constructor(s){this.errorCorrectionLevel=tr.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return S.bitCount(s^o)}static decodeFormatInformation(s,o){const c=yn.doDecodeFormatInformation(s,o);return c!==null?c:yn.doDecodeFormatInformation(s^yn.FORMAT_INFO_MASK_QR,o^yn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,f=0;for(const d of yn.FORMAT_INFO_DECODE_LOOKUP){const h=d[0];if(h===s||h===o)return new yn(d[1]);let x=yn.numBitsDiffering(s,h);x<c&&(f=d[1],c=x),s!==o&&(x=yn.numBitsDiffering(o,h),x<c&&(f=d[1],c=x))}return c<=3?new yn(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof yn))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}yn.FORMAT_INFO_MASK_QR=21522,yn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class de{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class H{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let f=0;const d=c[0].getECCodewordsPerBlock(),h=c[0].getECBlocks();for(const x of h)f+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new F;try{return this.getVersionForNumber((s-17)/4)}catch{throw new F}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return et.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<et.VERSION_DECODE_INFO.length;f++){const d=et.VERSION_DECODE_INFO[f];if(d===s)return et.getVersionForNumber(f+7);const h=yn.numBitsDiffering(s,d);h<o&&(c=f+7,o=h)}return o<=3?et.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new Se(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const d=this.alignmentPatternCenters[f]-2;for(let h=0;h<c;h++)f===0&&(h===0||h===c-1)||f===c-1&&h===0||o.setRegion(this.alignmentPatternCenters[h]-2,d,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),et.VERSIONS=[new et(1,new Int32Array(0),new de(7,new H(1,19)),new de(10,new H(1,16)),new de(13,new H(1,13)),new de(17,new H(1,9))),new et(2,Int32Array.from([6,18]),new de(10,new H(1,34)),new de(16,new H(1,28)),new de(22,new H(1,22)),new de(28,new H(1,16))),new et(3,Int32Array.from([6,22]),new de(15,new H(1,55)),new de(26,new H(1,44)),new de(18,new H(2,17)),new de(22,new H(2,13))),new et(4,Int32Array.from([6,26]),new de(20,new H(1,80)),new de(18,new H(2,32)),new de(26,new H(2,24)),new de(16,new H(4,9))),new et(5,Int32Array.from([6,30]),new de(26,new H(1,108)),new de(24,new H(2,43)),new de(18,new H(2,15),new H(2,16)),new de(22,new H(2,11),new H(2,12))),new et(6,Int32Array.from([6,34]),new de(18,new H(2,68)),new de(16,new H(4,27)),new de(24,new H(4,19)),new de(28,new H(4,15))),new et(7,Int32Array.from([6,22,38]),new de(20,new H(2,78)),new de(18,new H(4,31)),new de(18,new H(2,14),new H(4,15)),new de(26,new H(4,13),new H(1,14))),new et(8,Int32Array.from([6,24,42]),new de(24,new H(2,97)),new de(22,new H(2,38),new H(2,39)),new de(22,new H(4,18),new H(2,19)),new de(26,new H(4,14),new H(2,15))),new et(9,Int32Array.from([6,26,46]),new de(30,new H(2,116)),new de(22,new H(3,36),new H(2,37)),new de(20,new H(4,16),new H(4,17)),new de(24,new H(4,12),new H(4,13))),new et(10,Int32Array.from([6,28,50]),new de(18,new H(2,68),new H(2,69)),new de(26,new H(4,43),new H(1,44)),new de(24,new H(6,19),new H(2,20)),new de(28,new H(6,15),new H(2,16))),new et(11,Int32Array.from([6,30,54]),new de(20,new H(4,81)),new de(30,new H(1,50),new H(4,51)),new de(28,new H(4,22),new H(4,23)),new de(24,new H(3,12),new H(8,13))),new et(12,Int32Array.from([6,32,58]),new de(24,new H(2,92),new H(2,93)),new de(22,new H(6,36),new H(2,37)),new de(26,new H(4,20),new H(6,21)),new de(28,new H(7,14),new H(4,15))),new et(13,Int32Array.from([6,34,62]),new de(26,new H(4,107)),new de(22,new H(8,37),new H(1,38)),new de(24,new H(8,20),new H(4,21)),new de(22,new H(12,11),new H(4,12))),new et(14,Int32Array.from([6,26,46,66]),new de(30,new H(3,115),new H(1,116)),new de(24,new H(4,40),new H(5,41)),new de(20,new H(11,16),new H(5,17)),new de(24,new H(11,12),new H(5,13))),new et(15,Int32Array.from([6,26,48,70]),new de(22,new H(5,87),new H(1,88)),new de(24,new H(5,41),new H(5,42)),new de(30,new H(5,24),new H(7,25)),new de(24,new H(11,12),new H(7,13))),new et(16,Int32Array.from([6,26,50,74]),new de(24,new H(5,98),new H(1,99)),new de(28,new H(7,45),new H(3,46)),new de(24,new H(15,19),new H(2,20)),new de(30,new H(3,15),new H(13,16))),new et(17,Int32Array.from([6,30,54,78]),new de(28,new H(1,107),new H(5,108)),new de(28,new H(10,46),new H(1,47)),new de(28,new H(1,22),new H(15,23)),new de(28,new H(2,14),new H(17,15))),new et(18,Int32Array.from([6,30,56,82]),new de(30,new H(5,120),new H(1,121)),new de(26,new H(9,43),new H(4,44)),new de(28,new H(17,22),new H(1,23)),new de(28,new H(2,14),new H(19,15))),new et(19,Int32Array.from([6,30,58,86]),new de(28,new H(3,113),new H(4,114)),new de(26,new H(3,44),new H(11,45)),new de(26,new H(17,21),new H(4,22)),new de(26,new H(9,13),new H(16,14))),new et(20,Int32Array.from([6,34,62,90]),new de(28,new H(3,107),new H(5,108)),new de(26,new H(3,41),new H(13,42)),new de(30,new H(15,24),new H(5,25)),new de(28,new H(15,15),new H(10,16))),new et(21,Int32Array.from([6,28,50,72,94]),new de(28,new H(4,116),new H(4,117)),new de(26,new H(17,42)),new de(28,new H(17,22),new H(6,23)),new de(30,new H(19,16),new H(6,17))),new et(22,Int32Array.from([6,26,50,74,98]),new de(28,new H(2,111),new H(7,112)),new de(28,new H(17,46)),new de(30,new H(7,24),new H(16,25)),new de(24,new H(34,13))),new et(23,Int32Array.from([6,30,54,78,102]),new de(30,new H(4,121),new H(5,122)),new de(28,new H(4,47),new H(14,48)),new de(30,new H(11,24),new H(14,25)),new de(30,new H(16,15),new H(14,16))),new et(24,Int32Array.from([6,28,54,80,106]),new de(30,new H(6,117),new H(4,118)),new de(28,new H(6,45),new H(14,46)),new de(30,new H(11,24),new H(16,25)),new de(30,new H(30,16),new H(2,17))),new et(25,Int32Array.from([6,32,58,84,110]),new de(26,new H(8,106),new H(4,107)),new de(28,new H(8,47),new H(13,48)),new de(30,new H(7,24),new H(22,25)),new de(30,new H(22,15),new H(13,16))),new et(26,Int32Array.from([6,30,58,86,114]),new de(28,new H(10,114),new H(2,115)),new de(28,new H(19,46),new H(4,47)),new de(28,new H(28,22),new H(6,23)),new de(30,new H(33,16),new H(4,17))),new et(27,Int32Array.from([6,34,62,90,118]),new de(30,new H(8,122),new H(4,123)),new de(28,new H(22,45),new H(3,46)),new de(30,new H(8,23),new H(26,24)),new de(30,new H(12,15),new H(28,16))),new et(28,Int32Array.from([6,26,50,74,98,122]),new de(30,new H(3,117),new H(10,118)),new de(28,new H(3,45),new H(23,46)),new de(30,new H(4,24),new H(31,25)),new de(30,new H(11,15),new H(31,16))),new et(29,Int32Array.from([6,30,54,78,102,126]),new de(30,new H(7,116),new H(7,117)),new de(28,new H(21,45),new H(7,46)),new de(30,new H(1,23),new H(37,24)),new de(30,new H(19,15),new H(26,16))),new et(30,Int32Array.from([6,26,52,78,104,130]),new de(30,new H(5,115),new H(10,116)),new de(28,new H(19,47),new H(10,48)),new de(30,new H(15,24),new H(25,25)),new de(30,new H(23,15),new H(25,16))),new et(31,Int32Array.from([6,30,56,82,108,134]),new de(30,new H(13,115),new H(3,116)),new de(28,new H(2,46),new H(29,47)),new de(30,new H(42,24),new H(1,25)),new de(30,new H(23,15),new H(28,16))),new et(32,Int32Array.from([6,34,60,86,112,138]),new de(30,new H(17,115)),new de(28,new H(10,46),new H(23,47)),new de(30,new H(10,24),new H(35,25)),new de(30,new H(19,15),new H(35,16))),new et(33,Int32Array.from([6,30,58,86,114,142]),new de(30,new H(17,115),new H(1,116)),new de(28,new H(14,46),new H(21,47)),new de(30,new H(29,24),new H(19,25)),new de(30,new H(11,15),new H(46,16))),new et(34,Int32Array.from([6,34,62,90,118,146]),new de(30,new H(13,115),new H(6,116)),new de(28,new H(14,46),new H(23,47)),new de(30,new H(44,24),new H(7,25)),new de(30,new H(59,16),new H(1,17))),new et(35,Int32Array.from([6,30,54,78,102,126,150]),new de(30,new H(12,121),new H(7,122)),new de(28,new H(12,47),new H(26,48)),new de(30,new H(39,24),new H(14,25)),new de(30,new H(22,15),new H(41,16))),new et(36,Int32Array.from([6,24,50,76,102,128,154]),new de(30,new H(6,121),new H(14,122)),new de(28,new H(6,47),new H(34,48)),new de(30,new H(46,24),new H(10,25)),new de(30,new H(2,15),new H(64,16))),new et(37,Int32Array.from([6,28,54,80,106,132,158]),new de(30,new H(17,122),new H(4,123)),new de(28,new H(29,46),new H(14,47)),new de(30,new H(49,24),new H(10,25)),new de(30,new H(24,15),new H(46,16))),new et(38,Int32Array.from([6,32,58,84,110,136,162]),new de(30,new H(4,122),new H(18,123)),new de(28,new H(13,46),new H(32,47)),new de(30,new H(48,24),new H(14,25)),new de(30,new H(42,15),new H(32,16))),new et(39,Int32Array.from([6,26,54,82,110,138,166]),new de(30,new H(20,117),new H(4,118)),new de(28,new H(40,47),new H(7,48)),new de(30,new H(43,24),new H(22,25)),new de(30,new H(10,15),new H(67,16))),new et(40,Int32Array.from([6,30,58,86,114,142,170]),new de(30,new H(19,118),new H(6,119)),new de(28,new H(18,47),new H(31,48)),new de(30,new H(34,24),new H(34,25)),new de(30,new H(20,15),new H(61,16)))];var Zr;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(Zr||(Zr={}));class Ti{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let f=0;f<o;f++)this.isMasked(c,f)&&s.flip(f,c)}}Ti.values=new Map([[Zr.DATA_MASK_000,new Ti(Zr.DATA_MASK_000,(N,s)=>(N+s&1)===0)],[Zr.DATA_MASK_001,new Ti(Zr.DATA_MASK_001,(N,s)=>(N&1)===0)],[Zr.DATA_MASK_010,new Ti(Zr.DATA_MASK_010,(N,s)=>s%3===0)],[Zr.DATA_MASK_011,new Ti(Zr.DATA_MASK_011,(N,s)=>(N+s)%3===0)],[Zr.DATA_MASK_100,new Ti(Zr.DATA_MASK_100,(N,s)=>(Math.floor(N/2)+Math.floor(s/3)&1)===0)],[Zr.DATA_MASK_101,new Ti(Zr.DATA_MASK_101,(N,s)=>N*s%6===0)],[Zr.DATA_MASK_110,new Ti(Zr.DATA_MASK_110,(N,s)=>N*s%6<3)],[Zr.DATA_MASK_111,new Ti(Zr.DATA_MASK_111,(N,s)=>(N+s+N*s%3&1)===0)]]);class QS{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new F;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const o=this.bitMatrix.getHeight();let c=0;const f=o-7;for(let d=o-1;d>=f;d--)c=this.copyBit(8,d,c);for(let d=o-8;d<o;d++)c=this.copyBit(d,8,c);if(this.parsedFormatInfo=yn.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return et.getVersionForNumber(o);let c=0;const f=s-11;for(let h=5;h>=0;h--)for(let x=s-9;x>=f;x--)c=this.copyBit(x,h,c);let d=et.decodeVersionInformation(c);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;c=0;for(let h=5;h>=0;h--)for(let x=s-9;x>=f;x--)c=this.copyBit(h,x,c);if(d=et.decodeVersionInformation(c),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new F}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=Ti.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const d=o.buildFunctionPattern();let h=!0;const x=new Uint8Array(o.getTotalCodewords());let w=0,y=0,T=0;for(let O=f-1;O>0;O-=2){O===6&&O--;for(let P=0;P<f;P++){const G=h?f-1-P:P;for(let ee=0;ee<2;ee++)d.get(O-ee,G)||(T++,y<<=1,this.bitMatrix.get(O-ee,G)&&(y|=1),T===8&&(x[w++]=y,T=0,y=0))}h=!h}if(w!==o.getTotalCodewords())throw new F;return x}remask(){if(this.parsedFormatInfo===null)return;const s=Ti.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let f=o+1,d=s.getHeight();f<d;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class yh{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new v;const f=o.getECBlocksForLevel(c);let d=0;const h=f.getECBlocks();for(const ee of h)d+=ee.getCount();const x=new Array(d);let w=0;for(const ee of h)for(let re=0;re<ee.getCount();re++){const ue=ee.getDataCodewords(),xe=f.getECCodewordsPerBlock()+ue;x[w++]=new yh(ue,new Uint8Array(xe))}const y=x[0].codewords.length;let T=x.length-1;for(;T>=0&&x[T].codewords.length!==y;)T--;T++;const O=y-f.getECCodewordsPerBlock();let P=0;for(let ee=0;ee<O;ee++)for(let re=0;re<w;re++)x[re].codewords[ee]=s[P++];for(let ee=T;ee<w;ee++)x[ee].codewords[O]=s[P++];const G=x[0].codewords.length;for(let ee=O;ee<G;ee++)for(let re=0;re<w;re++){const ue=re<T?ee:ee+1;x[re].codewords[ue]=s[P++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ki;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(ki||(ki={}));class rt{constructor(s,o,c,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=f,rt.FOR_BITS.set(f,this),rt.FOR_VALUE.set(s,this)}static forBits(s){const o=rt.FOR_BITS.get(s);if(o===void 0)throw new v;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof rt))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(ki.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(ki.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(ki.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(ki.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(ki.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(ki.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(ki.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(ki.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(ki.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(ki.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class mr{static decode(s,o,c,f){const d=new vh(s);let h=new _e;const x=new Array;let w=-1,y=-1;try{let T=null,O=!1,P;do{if(d.available()<4)P=rt.TERMINATOR;else{const G=d.readBits(4);P=rt.forBits(G)}switch(P){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:O=!0;break;case rt.STRUCTURED_APPEND:if(d.available()<16)throw new F;w=d.readBits(8),y=d.readBits(8);break;case rt.ECI:const G=mr.parseECIValue(d);if(T=W.getCharacterSetECIByValue(G),T===null)throw new F;break;case rt.HANZI:const ee=d.readBits(4),re=d.readBits(P.getCharacterCountBits(o));ee===mr.GB2312_SUBSET&&mr.decodeHanziSegment(d,h,re);break;default:const ue=d.readBits(P.getCharacterCountBits(o));switch(P){case rt.NUMERIC:mr.decodeNumericSegment(d,h,ue);break;case rt.ALPHANUMERIC:mr.decodeAlphanumericSegment(d,h,ue,O);break;case rt.BYTE:mr.decodeByteSegment(d,h,ue,T,x,f);break;case rt.KANJI:mr.decodeKanjiSegment(d,h,ue);break;default:throw new F}break}}while(P!==rt.TERMINATOR)}catch{throw new F}return new Ie(s,h.toString(),x.length===0?null:x,c===null?null:c.toString(),w,y)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new F;const f=new Uint8Array(2*c);let d=0;for(;c>0;){const h=s.readBits(13);let x=h/96<<8&4294967295|h%96;x<959?x+=41377:x+=42657,f[d]=x>>8&255,f[d+1]=x&255,d+=2,c--}try{o.append(oe.decode(f,J.GB2312))}catch(h){throw new F(h)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new F;const f=new Uint8Array(2*c);let d=0;for(;c>0;){const h=s.readBits(13);let x=h/192<<8&4294967295|h%192;x<7936?x+=33088:x+=49472,f[d]=x>>8,f[d+1]=x,d+=2,c--}try{o.append(oe.decode(f,J.SHIFT_JIS))}catch(h){throw new F(h)}}static decodeByteSegment(s,o,c,f,d,h){if(8*c>s.available())throw new F;const x=new Uint8Array(c);for(let y=0;y<c;y++)x[y]=s.readBits(8);let w;f===null?w=J.guessEncoding(x,h):w=f.getName();try{o.append(oe.decode(x,w))}catch(y){throw new F(y)}d.push(x)}static toAlphaNumericChar(s){if(s>=mr.ALPHANUMERIC_CHARS.length)throw new F;return mr.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,f){const d=o.length();for(;c>1;){if(s.available()<11)throw new F;const h=s.readBits(11);o.append(mr.toAlphaNumericChar(Math.floor(h/45))),o.append(mr.toAlphaNumericChar(h%45)),c-=2}if(c===1){if(s.available()<6)throw new F;o.append(mr.toAlphaNumericChar(s.readBits(6)))}if(f)for(let h=d;h<o.length();h++)o.charAt(h)==="%"&&(h<o.length()-1&&o.charAt(h+1)==="%"?o.deleteCharAt(h+1):o.setCharAt(h,""))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new F;const f=s.readBits(10);if(f>=1e3)throw new F;o.append(mr.toAlphaNumericChar(Math.floor(f/100))),o.append(mr.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(mr.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new F;const f=s.readBits(7);if(f>=100)throw new F;o.append(mr.toAlphaNumericChar(Math.floor(f/10))),o.append(mr.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new F;const f=s.readBits(4);if(f>=10)throw new F;o.append(mr.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new F}}mr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",mr.GB2312_SUBSET=1;class Lm{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class JS{constructor(){this.rsDecoder=new Ze(qe.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(Se.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new QS(s);let f=null;try{return this.decodeBitMatrixParser(c,o)}catch(d){f=d}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const d=this.decodeBitMatrixParser(c,o);return d.setOther(new Lm(!0)),d}catch(d){throw f!==null?f:d}}decodeBitMatrixParser(s,o){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),h=yh.getDataBlocks(d,c,f);let x=0;for(const T of h)x+=T.getNumDataCodewords();const w=new Uint8Array(x);let y=0;for(const T of h){const O=T.getCodewords(),P=T.getNumDataCodewords();this.correctErrors(O,P);for(let G=0;G<P;G++)w[y++]=O[G]}return mr.decode(w,c,f,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new E}for(let f=0;f<o;f++)s[f]=c[f]}}class _h extends Ge{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=(this.getX()+o)/2,d=(this.getY()+s)/2,h=(this.estimatedModuleSize+c)/2;return new _h(f,d,h)}}class Eu{constructor(s,o,c,f,d,h,x){this.image=s,this.startX=o,this.startY=c,this.width=f,this.height=d,this.moduleSize=h,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,f=s+c,d=this.startY+o/2,h=new Int32Array(3),x=this.image;for(let w=0;w<o;w++){const y=d+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));h[0]=0,h[1]=0,h[2]=0;let T=s;for(;T<f&&!x.get(T,y);)T++;let O=0;for(;T<f;){if(x.get(T,y))if(O===1)h[1]++;else if(O===2){if(this.foundPatternCross(h)){const P=this.handlePossibleCenter(h,y,T);if(P!==null)return P}h[0]=h[2],h[1]=1,h[2]=0,O=1}else h[++O]++;else O===1&&O++,h[O]++;T++}if(this.foundPatternCross(h)){const P=this.handlePossibleCenter(h,y,f);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=c)return!1;return!0}crossCheckVertical(s,o,c,f){const d=this.image,h=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let w=s;for(;w>=0&&d.get(o,w)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&!d.get(o,w)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<h&&d.get(o,w)&&x[1]<=c;)x[1]++,w++;if(w===h||x[1]>c)return NaN;for(;w<h&&!d.get(o,w)&&x[2]<=c;)x[2]++,w++;if(x[2]>c)return NaN;const y=x[0]+x[1]+x[2];return 5*Math.abs(y-f)>=2*f?NaN:this.foundPatternCross(x)?Eu.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,c){const f=s[0]+s[1]+s[2],d=Eu.centerFromEnd(s,c),h=this.crossCheckVertical(o,d,2*s[1],f);if(!isNaN(h)){const x=(s[0]+s[1]+s[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(x,h,d))return y.combineEstimate(h,d,x);const w=new _h(d,h,x);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Eh extends Ge{constructor(s,o,c,f){super(s,o),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=this.count+1,d=(this.count*this.getX()+o)/f,h=(this.count*this.getY()+s)/f,x=(this.count*this.estimatedModuleSize+c)/f;return new Eh(d,h,x,f)}}class eT{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Qr{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(X.TRY_HARDER)!==void 0,c=s!=null&&s.get(X.PURE_BARCODE)!==void 0,f=this.image,d=f.getHeight(),h=f.getWidth();let x=Math.floor(3*d/(4*Qr.MAX_MODULES));(x<Qr.MIN_SKIP||o)&&(x=Qr.MIN_SKIP);let w=!1;const y=new Int32Array(5);for(let O=x-1;O<d&&!w;O+=x){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let P=0;for(let G=0;G<h;G++)if(f.get(G,O))(P&1)===1&&P++,y[P]++;else if(P&1)y[P]++;else if(P===4)if(Qr.foundPatternCross(y)){if(this.handlePossibleCenter(y,O,G,c)===!0)if(x=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const re=this.findRowSkip();re>y[2]&&(O+=re-y[2]-x,G=h-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,P=3;continue}P=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,P=3;else y[++P]++;Qr.foundPatternCross(y)&&this.handlePossibleCenter(y,O,h,c)===!0&&(x=y[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return Ge.orderBestPatterns(T),new eT(T)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let d=0;d<5;d++){const h=s[d];if(h===0)return!1;o+=h}if(o<7)return!1;const c=o/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,f){const d=this.getCrossCheckStateCount();let h=0;const x=this.image;for(;s>=h&&o>=h&&x.get(o-h,s-h);)d[2]++,h++;if(s<h||o<h)return!1;for(;s>=h&&o>=h&&!x.get(o-h,s-h)&&d[1]<=c;)d[1]++,h++;if(s<h||o<h||d[1]>c)return!1;for(;s>=h&&o>=h&&x.get(o-h,s-h)&&d[0]<=c;)d[0]++,h++;if(d[0]>c)return!1;const w=x.getHeight(),y=x.getWidth();for(h=1;s+h<w&&o+h<y&&x.get(o+h,s+h);)d[2]++,h++;if(s+h>=w||o+h>=y)return!1;for(;s+h<w&&o+h<y&&!x.get(o+h,s+h)&&d[3]<c;)d[3]++,h++;if(s+h>=w||o+h>=y||d[3]>=c)return!1;for(;s+h<w&&o+h<y&&x.get(o+h,s+h)&&d[4]<c;)d[4]++,h++;if(d[4]>=c)return!1;const T=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(T-f)<2*f&&Qr.foundPatternCross(d)}crossCheckVertical(s,o,c,f){const d=this.image,h=d.getHeight(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&d.get(o,w);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(o,w)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&d.get(o,w)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<h&&d.get(o,w);)x[2]++,w++;if(w===h)return NaN;for(;w<h&&!d.get(o,w)&&x[3]<c;)x[3]++,w++;if(w===h||x[3]>=c)return NaN;for(;w<h&&d.get(o,w)&&x[4]<c;)x[4]++,w++;if(x[4]>=c)return NaN;const y=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(y-f)>=2*f?NaN:Qr.foundPatternCross(x)?Qr.centerFromEnd(x,w):NaN}crossCheckHorizontal(s,o,c,f){const d=this.image,h=d.getWidth(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&d.get(w,o);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(w,o)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&d.get(w,o)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<h&&d.get(w,o);)x[2]++,w++;if(w===h)return NaN;for(;w<h&&!d.get(w,o)&&x[3]<c;)x[3]++,w++;if(w===h||x[3]>=c)return NaN;for(;w<h&&d.get(w,o)&&x[4]<c;)x[4]++,w++;if(x[4]>=c)return NaN;const y=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(y-f)>=f?NaN:Qr.foundPatternCross(x)?Qr.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,c,f){const d=s[0]+s[1]+s[2]+s[3]+s[4];let h=Qr.centerFromEnd(s,c),x=this.crossCheckVertical(o,Math.floor(h),s[2],d);if(!isNaN(x)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(x),s[2],d),!isNaN(h)&&(!f||this.crossCheckDiagonal(Math.floor(x),Math.floor(h),s[2],d)))){const w=d/7;let y=!1;const T=this.possibleCenters;for(let O=0,P=T.length;O<P;O++){const G=T[O];if(G.aboutEquals(w,x,h)){T[O]=G.combineEstimate(x,h,w),y=!0;break}}if(!y){const O=new Eh(h,x,w);T.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=Qr.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Qr.CENTER_QUORUM&&(s++,o+=h.getEstimatedModuleSize());if(s<3)return!1;const f=o/c;let d=0;for(const h of this.possibleCenters)d+=Math.abs(h.getEstimatedModuleSize()-f);return d<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new te;const o=this.possibleCenters;let c;if(s>3){let f=0,d=0;for(const w of this.possibleCenters){const y=w.getEstimatedModuleSize();f+=y,d+=y*y}c=f/s;let h=Math.sqrt(d/s-c*c);o.sort((w,y)=>{const T=Math.abs(y.getEstimatedModuleSize()-c),O=Math.abs(w.getEstimatedModuleSize()-c);return T<O?-1:T>O?1:0});const x=Math.max(.2*c,h);for(let w=0;w<o.length&&o.length>3;w++){const y=o[w];Math.abs(y.getEstimatedModuleSize()-c)>x&&(o.splice(w,1),w--)}}if(o.length>3){let f=0;for(const d of o)f+=d.getEstimatedModuleSize();c=f/o.length,o.sort((d,h)=>{if(h.getCount()===d.getCount()){const x=Math.abs(h.getEstimatedModuleSize()-c),w=Math.abs(d.getEstimatedModuleSize()-c);return x<w?1:x>w?-1:0}else return h.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Qr.CENTER_QUORUM=2,Qr.MIN_SKIP=3,Qr.MAX_MODULES=57;class lc{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(X.NEED_RESULT_POINT_CALLBACK);const c=new Qr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),d=this.calculateModuleSize(o,c,f);if(d<1)throw new te("No pattern found in proccess finder.");const h=lc.computeDimension(o,c,f,d),x=et.getProvisionalVersionForDimension(h),w=x.getDimensionForVersion()-7;let y=null;if(x.getAlignmentPatternCenters().length>0){const G=c.getX()-o.getX()+f.getX(),ee=c.getY()-o.getY()+f.getY(),re=1-3/w,ue=Math.floor(o.getX()+re*(G-o.getX())),xe=Math.floor(o.getY()+re*(ee-o.getY()));for(let Be=4;Be<=16;Be<<=1)try{y=this.findAlignmentInRegion(d,ue,xe,Be);break}catch(je){if(!(je instanceof te))throw je}}const T=lc.createTransform(o,c,f,y,h),O=lc.sampleGrid(this.image,T,h);let P;return y===null?P=[f,o,c]:P=[f,o,c,y],new Kn(O,P)}static createTransform(s,o,c,f,d){const h=d-3.5;let x,w,y,T;return f!==null?(x=f.getX(),w=f.getY(),y=h-3,T=y):(x=o.getX()-s.getX()+c.getX(),w=o.getY()-s.getY()+c.getY(),y=h,T=h),hr.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,y,T,3.5,h,s.getX(),s.getY(),o.getX(),o.getY(),x,w,c.getX(),c.getY())}static sampleGrid(s,o,c){return er.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,f){const d=it.round(Ge.distance(s,o)/f),h=it.round(Ge.distance(s,c)/f);let x=Math.floor((d+h)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new te("Dimensions could be not found.")}return x}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,f){let d=this.sizeOfBlackWhiteBlackRun(s,o,c,f),h=1,x=s-(c-s);x<0?(h=s/(s-x),x=0):x>=this.image.getWidth()&&(h=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let w=Math.floor(o-(f-o)*h);return h=1,w<0?(h=o/(o-w),w=0):w>=this.image.getHeight()&&(h=(this.image.getHeight()-1-o)/(w-o),w=this.image.getHeight()-1),x=Math.floor(s+(x-s)*h),d+=this.sizeOfBlackWhiteBlackRun(s,o,x,w),d-1}sizeOfBlackWhiteBlackRun(s,o,c,f){const d=Math.abs(f-o)>Math.abs(c-s);if(d){let G=s;s=o,o=G,G=c,c=f,f=G}const h=Math.abs(c-s),x=Math.abs(f-o);let w=-h/2;const y=s<c?1:-1,T=o<f?1:-1;let O=0;const P=c+y;for(let G=s,ee=o;G!==P;G+=y){const re=d?ee:G,ue=d?G:ee;if(O===1===this.image.get(re,ue)){if(O===2)return it.distance(G,ee,s,o);O++}if(w+=x,w>0){if(ee===f)break;ee+=T,w-=h}}return O===2?it.distance(c+y,f,s,o):NaN}findAlignmentInRegion(s,o,c,f){const d=Math.floor(f*s),h=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-h<s*3)throw new te("Alignment top exceeds estimated module size.");const w=Math.max(0,c-d),y=Math.min(this.image.getHeight()-1,c+d);if(y-w<s*3)throw new te("Alignment bottom exceeds estimated module size.");return new Eu(this.image,h,w,x-h,y-w,s,this.resultPointCallback).find()}}class ta{constructor(){this.decoder=new JS}getDecoder(){return this.decoder}decode(s,o){let c,f;if(o!=null&&o.get(X.PURE_BARCODE)!==void 0){const w=ta.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(w,o),f=ta.NO_POINTS}else{const w=new lc(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(w.getBits(),o),f=w.getPoints()}c.getOther()instanceof Lm&&c.getOther().applyMirroredCorrection(f);const d=new B(c.getText(),c.getRawBytes(),void 0,f,ne.QR_CODE,void 0),h=c.getByteSegments();h!==null&&d.putMetadata(Ee.BYTE_SEGMENTS,h);const x=c.getECLevel();return x!==null&&d.putMetadata(Ee.ERROR_CORRECTION_LEVEL,x),c.hasStructuredAppend()&&(d.putMetadata(Ee.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),d.putMetadata(Ee.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new te;const f=this.moduleSize(o,s);let d=o[1],h=c[1],x=o[0],w=c[0];if(x>=w||d>=h)throw new te;if(h-d!==w-x&&(w=x+(h-d),w>=s.getWidth()))throw new te;const y=Math.round((w-x+1)/f),T=Math.round((h-d+1)/f);if(y<=0||T<=0)throw new te;if(T!==y)throw new te;const O=Math.floor(f/2);d+=O,x+=O;const P=x+Math.floor((y-1)*f)-w;if(P>0){if(P>O)throw new te;x-=P}const G=d+Math.floor((T-1)*f)-h;if(G>0){if(G>O)throw new te;d-=G}const ee=new Se(y,T);for(let re=0;re<T;re++){const ue=d+Math.floor(re*f);for(let xe=0;xe<y;xe++)s.get(x+Math.floor(xe*f),ue)&&ee.set(xe,re)}return ee}static moduleSize(s,o){const c=o.getHeight(),f=o.getWidth();let d=s[0],h=s[1],x=!0,w=0;for(;d<f&&h<c;){if(x!==o.get(d,h)){if(++w===5)break;x=!x}d++,h++}if(d===f||h===c)throw new te;return(d-s[0])/7}}ta.NO_POINTS=new Array;class at{PDF417Common(){}static getBitCountSum(s){return it.sum(s)}static toIntArray(s){if(s==null||!s.length)return at.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const f of s)o[c++]=f;return o}static getCodeword(s){const o=b.binarySearch(at.SYMBOL_TABLE,s&262143);return o<0?-1:(at.CODEWORD_TABLE[o]-1)%at.NUMBER_OF_CODEWORDS}}at.NUMBER_OF_CODEWORDS=929,at.MAX_CODEWORDS_IN_BARCODE=at.NUMBER_OF_CODEWORDS-1,at.MIN_ROWS_IN_BARCODE=3,at.MAX_ROWS_IN_BARCODE=90,at.MODULES_IN_CODEWORD=17,at.MODULES_IN_STOP_PATTERN=18,at.BARS_IN_MODULE=8,at.EMPTY_INT_ARRAY=new Int32Array([]),at.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),at.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class tT{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class wt{static detectMultiple(s,o,c){let f=s.getBlackMatrix(),d=wt.detect(c,f);return d.length||(f=f.clone(),f.rotate180(),d=wt.detect(c,f)),new tT(f,d)}static detect(s,o){const c=new Array;let f=0,d=0,h=!1;for(;f<o.getHeight();){const x=wt.findVertices(o,f,d);if(x[0]==null&&x[3]==null){if(!h)break;h=!1,d=0;for(const w of c)w[1]!=null&&(f=Math.trunc(Math.max(f,w[1].getY()))),w[3]!=null&&(f=Math.max(f,Math.trunc(w[3].getY())));f+=wt.ROW_STEP;continue}if(h=!0,c.push(x),!s)break;x[2]!=null?(d=Math.trunc(x[2].getX()),f=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY()))}return c}static findVertices(s,o,c){const f=s.getHeight(),d=s.getWidth(),h=new Array(8);return wt.copyToResult(h,wt.findRowsWithPattern(s,f,d,o,c,wt.START_PATTERN),wt.INDEXES_START_PATTERN),h[4]!=null&&(c=Math.trunc(h[4].getX()),o=Math.trunc(h[4].getY())),wt.copyToResult(h,wt.findRowsWithPattern(s,f,d,o,c,wt.STOP_PATTERN),wt.INDEXES_STOP_PATTERN),h}static copyToResult(s,o,c){for(let f=0;f<c.length;f++)s[c[f]]=o[f]}static findRowsWithPattern(s,o,c,f,d,h){const x=new Array(4);let w=!1;const y=new Int32Array(h.length);for(;f<o;f+=wt.ROW_STEP){let O=wt.findGuardPattern(s,d,f,c,!1,h,y);if(O!=null){for(;f>0;){const P=wt.findGuardPattern(s,d,--f,c,!1,h,y);if(P!=null)O=P;else{f++;break}}x[0]=new Ge(O[0],f),x[1]=new Ge(O[1],f),w=!0;break}}let T=f+1;if(w){let O=0,P=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;T<o;T++){const G=wt.findGuardPattern(s,P[0],T,c,!1,h,y);if(G!=null&&Math.abs(P[0]-G[0])<wt.MAX_PATTERN_DRIFT&&Math.abs(P[1]-G[1])<wt.MAX_PATTERN_DRIFT)P=G,O=0;else{if(O>wt.SKIPPED_ROW_COUNT_MAX)break;O++}}T-=O+1,x[2]=new Ge(P[0],T),x[3]=new Ge(P[1],T)}return T-f<wt.BARCODE_MIN_HEIGHT&&b.fill(x,null),x}static findGuardPattern(s,o,c,f,d,h,x){b.fillWithin(x,0,x.length,0);let w=o,y=0;for(;s.get(w,c)&&w>0&&y++<wt.MAX_PIXEL_DRIFT;)w--;let T=w,O=0,P=h.length;for(let G=d;T<f;T++)if(s.get(T,c)!==G)x[O]++;else{if(O===P-1){if(wt.patternMatchVariance(x,h,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return new Int32Array([w,T]);w+=x[0]+x[1],C.arraycopy(x,2,x,0,O-1),x[O-1]=0,x[O]=0,O--}else O++;x[O]=1,G=!G}return O===P-1&&wt.patternMatchVariance(x,h,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE?new Int32Array([w,T-1]):null}static patternMatchVariance(s,o,c){let f=s.length,d=0,h=0;for(let y=0;y<f;y++)d+=s[y],h+=o[y];if(d<h)return 1/0;let x=d/h;c*=x;let w=0;for(let y=0;y<f;y++){let T=s[y],O=o[y]*x,P=T>O?T-O:O-T;if(P>c)return 1/0;w+=P}return w/d}}wt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),wt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),wt.MAX_AVG_VARIANCE=.42,wt.MAX_INDIVIDUAL_VARIANCE=.8,wt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),wt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),wt.MAX_PIXEL_DRIFT=3,wt.MAX_PATTERN_DRIFT=5,wt.SKIPPED_ROW_COUNT_MAX=25,wt.ROW_STEP=5,wt.BARCODE_MIN_HEIGHT=10;class cn{constructor(s,o){if(o.length===0)throw new v;this.field=s;let c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let d of this.coefficients)f=this.field.add(f,d);return f}let o=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let h=o;o=c,c=h}let f=new Int32Array(c.length),d=c.length-o.length;C.arraycopy(c,0,f,0,d);for(let h=d;h<c.length;h++)f[h]=this.field.add(o[h-d],c[h]);return new cn(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof cn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new cn(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,f=s.coefficients,d=f.length,h=new Int32Array(c+d-1);for(let x=0;x<c;x++){let w=o[x];for(let y=0;y<d;y++)h[x+y]=this.field.add(h[x+y],this.field.multiply(w,f[y]))}return new cn(this.field,h)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new cn(this.field,o)}multiplyScalar(s){if(s===0)return new cn(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new cn(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return new cn(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let d=0;d<c;d++)f[d]=this.field.multiply(this.coefficients[d],o);return new cn(this.field,f)}toString(){let s=new _e;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class rT{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new K;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Ch extends rT{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new cn(this,new Int32Array([0])),this.one=new cn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new cn(this,c)}}Ch.PDF417_GF=new Ch(at.NUMBER_OF_CODEWORDS,3);class Um{constructor(){this.field=Ch.PDF417_GF}decode(s,o,c){let f=new cn(this.field,s),d=new Int32Array(o),h=!1;for(let ee=o;ee>0;ee--){let re=f.evaluateAt(this.field.exp(ee));d[o-ee]=re,re!==0&&(h=!0)}if(!h)return 0;let x=this.field.getOne();if(c!=null)for(const ee of c){let re=this.field.exp(s.length-1-ee),ue=new cn(this.field,new Int32Array([this.field.subtract(0,re),1]));x=x.multiply(ue)}let w=new cn(this.field,d),y=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),w,o),T=y[0],O=y[1],P=this.findErrorLocations(T),G=this.findErrorMagnitudes(O,T,P);for(let ee=0;ee<P.length;ee++){let re=s.length-1-this.field.log(P[ee]);if(re<0)throw E.getChecksumInstance();s[re]=this.field.subtract(s[re],G[ee])}return P.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let P=s;s=o,o=P}let f=s,d=o,h=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(c/2);){let P=f,G=h;if(f=d,h=x,f.isZero())throw E.getChecksumInstance();d=P;let ee=this.field.getZero(),re=f.getCoefficient(f.getDegree()),ue=this.field.inverse(re);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){let xe=d.getDegree()-f.getDegree(),Be=this.field.multiply(d.getCoefficient(d.getDegree()),ue);ee=ee.add(this.field.buildMonomial(xe,Be)),d=d.subtract(f.multiplyByMonomial(xe,Be))}x=ee.multiply(h).subtract(G).negative()}let w=x.getCoefficient(0);if(w===0)throw E.getChecksumInstance();let y=this.field.inverse(w),T=x.multiply(y),O=d.multiply(y);return[T,O]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),f=0;for(let d=1;d<this.field.getSize()&&f<o;d++)s.evaluateAt(d)===0&&(c[f]=this.field.inverse(d),f++);if(f!==o)throw E.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let f=o.getDegree(),d=new Int32Array(f);for(let y=1;y<=f;y++)d[f-y]=this.field.multiply(y,o.getCoefficient(y));let h=new cn(this.field,d),x=c.length,w=new Int32Array(x);for(let y=0;y<x;y++){let T=this.field.inverse(c[y]),O=this.field.subtract(0,s.evaluateAt(T)),P=this.field.inverse(h.evaluateAt(T));w[y]=this.field.multiply(O,P)}return w}}class $a{constructor(s,o,c,f,d){s instanceof $a?this.constructor_2(s):this.constructor_1(s,o,c,f,d)}constructor_1(s,o,c,f,d){const h=o==null||c==null,x=f==null||d==null;if(h&&x)throw new te;h?(o=new Ge(0,f.getY()),c=new Ge(0,d.getY())):x&&(f=new Ge(s.getWidth()-1,o.getY()),d=new Ge(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=f,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new $a(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let f=this.topLeft,d=this.bottomLeft,h=this.topRight,x=this.bottomRight;if(s>0){let w=c?this.topLeft:this.topRight,y=Math.trunc(w.getY()-s);y<0&&(y=0);let T=new Ge(w.getX(),y);c?f=T:h=T}if(o>0){let w=c?this.bottomLeft:this.bottomRight,y=Math.trunc(w.getY()+o);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let T=new Ge(w.getX(),y);c?d=T:x=T}return new $a(this.image,f,d,h,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class nT{constructor(s,o,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class cc{constructor(){this.buffer=""}static form(s,o){let c=-1;function f(h,x,w,y,T,O){if(h==="%%")return"%";if(o[++c]===void 0)return;h=y?parseInt(y.substr(1)):void 0;let P=T?parseInt(T.substr(1)):void 0,G;switch(O){case"s":G=o[c];break;case"c":G=o[c][0];break;case"f":G=parseFloat(o[c]).toFixed(h);break;case"p":G=parseFloat(o[c]).toPrecision(h);break;case"e":G=parseFloat(o[c]).toExponential(h);break;case"x":G=parseInt(o[c]).toString(P||16);break;case"d":G=parseFloat(parseInt(o[c],P||10).toPrecision(h)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(P);let ee=parseInt(w),re=w&&w[0]+""=="0"?"0":" ";for(;G.length<ee;)G=x!==void 0?G+re:re+G;return G}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,f)}format(s,...o){this.buffer+=cc.form(s,o)}toString(){return this.buffer}}class uc{constructor(s){this.boundingBox=new $a(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<uc.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new cc;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}uc.MAX_NEARBY_DISTANCE=5;class fc{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,f]of this.values.entries()){const d={getKey:()=>c,getValue:()=>f};d.getValue()>s?(s=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===s&&o.push(d.getKey())}return at.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class jm extends uc{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),d=this._isLeft?c.getBottomLeft():c.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=-1,y=1,T=0;for(let O=h;O<x;O++){if(o[O]==null)continue;let P=o[O],G=P.getRowNumber()-w;if(G===0)T++;else if(G===1)y=Math.max(y,T),T=1,w=P.getRowNumber();else if(G<0||P.getRowNumber()>=s.getRowCount()||G>O)o[O]=null;else{let ee;y>2?ee=(y-2)*G:ee=G;let re=ee>=O;for(let ue=1;ue<=ee&&!re;ue++)re=o[O-ue]!=null;re?o[O]=null:(w=P.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.getCodewords(),w=-1;for(let y=d;y<h;y++){if(x[y]==null)continue;let T=x[y];T.setRowNumberAsRowIndicatorColumn();let O=T.getRowNumber()-w;O===0||(O===1?w=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?x[y]=null:w=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new fc,c=new fc,f=new fc,d=new fc;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let w=x.getValue()%30,y=x.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:c.setValue(w*3+1);break;case 1:d.setValue(w/3),f.setValue(w%3);break;case 2:o.setValue(w+1);break}}if(o.getValue().length===0||c.getValue().length===0||f.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<at.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>at.MAX_ROWS_IN_BARCODE)return null;let h=new nT(o.getValue()[0],c.getValue()[0],f.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,h),h}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let d=f.getValue()%30,h=f.getRowNumber();if(h>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:d+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class dc{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=at.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let d=this.detectionResultColumns[f].getCodewords()[c];d!=null&&(d.setRowNumber(s[c].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),d=0;for(let h=this.barcodeColumnCount+1;h>0&&d<this.ADJUST_ROW_NUMBER_SKIP;h--){let x=this.detectionResultColumns[h].getCodewords()[c];x!=null&&(d=dc.adjustRowNumberIfValid(f,d,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),d=0;for(let h=1;h<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;h++){let x=this.detectionResultColumns[h].getCodewords()[c];x!=null&&(d=dc.adjustRowNumberIfValid(f,d,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let f=c[o],d=this.detectionResultColumns[s-1].getCodewords(),h=d;this.detectionResultColumns[s+1]!=null&&(h=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=h[o],o>0&&(x[0]=c[o-1],x[4]=d[o-1],x[5]=h[o-1]),o>1&&(x[8]=c[o-2],x[10]=d[o-2],x[11]=h[o-2]),o<c.length-1&&(x[1]=c[o+1],x[6]=d[o+1],x[7]=h[o+1]),o<c.length-2&&(x[9]=c[o+2],x[12]=d[o+2],x[13]=h[o+2]);for(let w of x)if(dc.adjustRowNumber(f,w))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new cc;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[f].getCodewords()[c];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class hc{constructor(s,o,c,f){this.rowNumber=hc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==hc.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}hc.BARCODE_ROW_UNKNOWN=-1;class qn{static initialize(){for(let s=0;s<at.SYMBOL_TABLE.length;s++){let o=at.SYMBOL_TABLE[s],c=o&1;for(let f=0;f<at.BARS_IN_MODULE;f++){let d=0;for(;(o&1)===c;)d+=1,o>>=1;c=o&1,qn.RATIOS_TABLE[s]||(qn.RATIOS_TABLE[s]=new Array(at.BARS_IN_MODULE)),qn.RATIOS_TABLE[s][at.BARS_IN_MODULE-f-1]=Math.fround(d/at.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=qn.getDecodedCodewordValue(qn.sampleBitCounts(s));return o!==-1?o:qn.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=it.sum(s),c=new Int32Array(at.BARS_IN_MODULE),f=0,d=0;for(let h=0;h<at.MODULES_IN_CODEWORD;h++){let x=o/(2*at.MODULES_IN_CODEWORD)+h*o/at.MODULES_IN_CODEWORD;d+s[f]<=x&&(d+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let o=qn.getBitValue(s);return at.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=it.sum(s),c=new Array(at.BARS_IN_MODULE);if(o>1)for(let h=0;h<c.length;h++)c[h]=Math.fround(s[h]/o);let f=Dt.MAX_VALUE,d=-1;this.bSymbolTableReady||qn.initialize();for(let h=0;h<qn.RATIOS_TABLE.length;h++){let x=0,w=qn.RATIOS_TABLE[h];for(let y=0;y<at.BARS_IN_MODULE;y++){let T=Math.fround(w[y]-c[y]);if(x+=Math.fround(T*T),x>=f)break}x<f&&(f=x,d=at.SYMBOL_TABLE[h])}return d}}qn.bSymbolTableReady=!1,qn.RATIOS_TABLE=new Array(at.SYMBOL_TABLE.length).map(N=>new Array(at.BARS_IN_MODULE));class Wm{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Hm{static parseLong(s,o=void 0){return parseInt(s,o)}}class Vm extends p{}Vm.kind="NullPointerException";class iT{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new Vm;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new R;if(c===0)return;for(let f=0;f<c;f++)this.write(s[o+f])}flush(){}close(){}}class sT extends p{}class aT extends iT{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new sT;c=S.MAX_VALUE}this.buf=b.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new R;this.ensureCapacity(this.count+c),C.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return b.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Kt;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Kt||(Kt={}));function zm(){if(typeof window<"u")return window.BigInt||null;if(typeof xc<"u")return xc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Cu;function ra(N){if(typeof Cu>"u"&&(Cu=zm()),Cu===null)throw new Error("BigInt is not supported!");return Cu(N)}function oT(){let N=[];N[0]=ra(1);let s=ra(900);N[1]=s;for(let o=2;o<16;o++)N[o]=N[o-1]*s;return N}class pe{static decode(s,o){let c=new _e(""),f=W.ISO8859_1;c.enableDecoding(f);let d=1,h=s[d++],x=new Wm;for(;d<s[0];){switch(h){case pe.TEXT_COMPACTION_MODE_LATCH:d=pe.textCompaction(s,d,c);break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:d=pe.byteCompaction(h,s,f,d,c);break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[d++]);break;case pe.NUMERIC_COMPACTION_MODE_LATCH:d=pe.numericCompaction(s,d,c);break;case pe.ECI_CHARSET:W.getCharacterSetECIByValue(s[d++]);break;case pe.ECI_GENERAL_PURPOSE:d+=2;break;case pe.ECI_USER_DEFINED:d++;break;case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=pe.decodeMacroBlock(s,d,x);break;case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:throw new F;default:d--,d=pe.textCompaction(s,d,c);break}if(d<s.length)h=s[d++];else throw F.getFormatInstance()}if(c.length()===0)throw F.getFormatInstance();let w=new Ie(null,c.toString(),null,o);return w.setOther(x),w}static decodeMacroBlock(s,o,c){if(o+pe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw F.getFormatInstance();let f=new Int32Array(pe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<pe.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)f[x]=s[o];c.setSegmentIndex(S.parseInt(pe.decodeBase900toBase10(f,pe.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new _e;o=pe.textCompaction(s,o,d),c.setFileId(d.toString());let h=-1;for(s[o]===pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=o+1);o<s[0];)switch(s[o]){case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new _e;o=pe.textCompaction(s,o+1,x),c.setFileName(x.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new _e;o=pe.textCompaction(s,o+1,w),c.setSender(w.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new _e;o=pe.textCompaction(s,o+1,y),c.setAddressee(y.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new _e;o=pe.numericCompaction(s,o+1,T),c.setSegmentCount(S.parseInt(T.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new _e;o=pe.numericCompaction(s,o+1,O),c.setTimestamp(Hm.parseLong(O.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new _e;o=pe.numericCompaction(s,o+1,P),c.setChecksum(S.parseInt(P.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new _e;o=pe.numericCompaction(s,o+1,G),c.setFileSize(Hm.parseLong(G.toString()));break;default:throw F.getFormatInstance()}break;case pe.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(h!==-1){let x=o-h;c.isLastSegment()&&x--,c.setOptionalData(b.copyOfRange(s,h,h+x))}return o}static textCompaction(s,o,c){let f=new Int32Array((s[0]-o)*2),d=new Int32Array((s[0]-o)*2),h=0,x=!1;for(;o<s[0]&&!x;){let w=s[o++];if(w<pe.TEXT_COMPACTION_MODE_LATCH)f[h]=w/30,f[h+1]=w%30,h+=2;else switch(w){case pe.TEXT_COMPACTION_MODE_LATCH:f[h++]=pe.TEXT_COMPACTION_MODE_LATCH;break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[h]=pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=s[o++],d[h]=w,h++;break}}return pe.decodeTextCompaction(f,d,h,c),o}static decodeTextCompaction(s,o,c,f){let d=Kt.ALPHA,h=Kt.ALPHA,x=0;for(;x<c;){let w=s[x],y="";switch(d){case Kt.ALPHA:if(w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case pe.LL:d=Kt.LOWER;break;case pe.ML:d=Kt.MIXED;break;case pe.PS:h=d,d=Kt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=Kt.ALPHA;break}break;case Kt.LOWER:if(w<26)y=String.fromCharCode(97+w);else switch(w){case 26:y=" ";break;case pe.AS:h=d,d=Kt.ALPHA_SHIFT;break;case pe.ML:d=Kt.MIXED;break;case pe.PS:h=d,d=Kt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=Kt.ALPHA;break}break;case Kt.MIXED:if(w<pe.PL)y=pe.MIXED_CHARS[w];else switch(w){case pe.PL:d=Kt.PUNCT;break;case 26:y=" ";break;case pe.LL:d=Kt.LOWER;break;case pe.AL:d=Kt.ALPHA;break;case pe.PS:h=d,d=Kt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=Kt.ALPHA;break}break;case Kt.PUNCT:if(w<pe.PAL)y=pe.PUNCT_CHARS[w];else switch(w){case pe.PAL:d=Kt.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=Kt.ALPHA;break}break;case Kt.ALPHA_SHIFT:if(d=h,w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case pe.TEXT_COMPACTION_MODE_LATCH:d=Kt.ALPHA;break}break;case Kt.PUNCT_SHIFT:if(d=h,w<pe.PAL)y=pe.PUNCT_CHARS[w];else switch(w){case pe.PAL:d=Kt.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case pe.TEXT_COMPACTION_MODE_LATCH:d=Kt.ALPHA;break}break}y!==""&&f.append(y),x++}}static byteCompaction(s,o,c,f,d){let h=new aT,x=0,w=0,y=!1;switch(s){case pe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),O=o[f++];for(;f<o[0]&&!y;)switch(T[x++]=O,w=900*w+O,O=o[f++],O){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:f--,y=!0;break;default:if(x%5===0&&x>0){for(let P=0;P<6;++P)h.write(Number(ra(w)>>ra(8*(5-P))));w=0,x=0}break}f===o[0]&&O<pe.TEXT_COMPACTION_MODE_LATCH&&(T[x++]=O);for(let P=0;P<x;P++)h.write(T[P]);break;case pe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!y;){let P=o[f++];if(P<pe.TEXT_COMPACTION_MODE_LATCH)x++,w=900*w+P;else switch(P){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:f--,y=!0;break}if(x%5===0&&x>0){for(let G=0;G<6;++G)h.write(Number(ra(w)>>ra(8*(5-G))));w=0,x=0}}break}return d.append(oe.decode(h.toByteArray(),c)),f}static numericCompaction(s,o,c){let f=0,d=!1,h=new Int32Array(pe.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!d;){let x=s[o++];if(o===s[0]&&(d=!0),x<pe.TEXT_COMPACTION_MODE_LATCH)h[f]=x,f++;else switch(x){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(f%pe.MAX_NUMERIC_CODEWORDS===0||x===pe.NUMERIC_COMPACTION_MODE_LATCH||d)&&f>0&&(c.append(pe.decodeBase900toBase10(h,f)),f=0)}return o}static decodeBase900toBase10(s,o){let c=ra(0);for(let d=0;d<o;d++)c+=pe.EXP900[o-d-1]*ra(s[d]);let f=c.toString();if(f.charAt(0)!=="1")throw new F;return f.substring(1)}}pe.TEXT_COMPACTION_MODE_LATCH=900,pe.BYTE_COMPACTION_MODE_LATCH=901,pe.NUMERIC_COMPACTION_MODE_LATCH=902,pe.BYTE_COMPACTION_MODE_LATCH_6=924,pe.ECI_USER_DEFINED=925,pe.ECI_GENERAL_PURPOSE=926,pe.ECI_CHARSET=927,pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,pe.MACRO_PDF417_TERMINATOR=922,pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,pe.MAX_NUMERIC_CODEWORDS=15,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,pe.PL=25,pe.LL=27,pe.AS=27,pe.ML=28,pe.AL=28,pe.PS=29,pe.PAL=29,pe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,pe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",pe.EXP900=zm()?oT():[],pe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Et{constructor(){}static decode(s,o,c,f,d,h,x){let w=new $a(s,o,c,f,d),y=null,T=null,O;for(let ee=!0;;ee=!1){if(o!=null&&(y=Et.getRowIndicatorColumn(s,w,o,!0,h,x)),f!=null&&(T=Et.getRowIndicatorColumn(s,w,f,!1,h,x)),O=Et.merge(y,T),O==null)throw te.getNotFoundInstance();let re=O.getBoundingBox();if(ee&&re!=null&&(re.getMinY()<w.getMinY()||re.getMaxY()>w.getMaxY()))w=re;else break}O.setBoundingBox(w);let P=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,y),O.setDetectionResultColumn(P,T);let G=y!=null;for(let ee=1;ee<=P;ee++){let re=G?ee:P-ee;if(O.getDetectionResultColumn(re)!==void 0)continue;let ue;re===0||re===P?ue=new jm(w,re===0):ue=new uc(w),O.setDetectionResultColumn(re,ue);let xe=-1,Be=xe;for(let je=w.getMinY();je<=w.getMaxY();je++){if(xe=Et.getStartColumn(O,re,je,G),xe<0||xe>w.getMaxX()){if(Be===-1)continue;xe=Be}let Re=Et.detectCodeword(s,w.getMinX(),w.getMaxX(),G,xe,je,h,x);Re!=null&&(ue.setCodeword(je,Re),Be=xe,h=Math.min(h,Re.getWidth()),x=Math.max(x,Re.getWidth()))}}return Et.createDecoderResult(O)}static merge(s,o){if(s==null&&o==null)return null;let c=Et.getBarcodeMetadata(s,o);if(c==null)return null;let f=$a.merge(Et.adjustBoundingBox(s),Et.adjustBoundingBox(o));return new dc(c,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=Et.getMax(o),f=0;for(let x of o)if(f+=c-x,x>0)break;let d=s.getCodewords();for(let x=0;f>0&&d[x]==null;x++)f--;let h=0;for(let x=o.length-1;x>=0&&(h+=c-o[x],!(o[x]>0));x--);for(let x=d.length-1;h>0&&d[x]==null;x--)h--;return s.getBoundingBox().addMissingRows(f,h,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,f,d,h){let x=new jm(o,f);for(let w=0;w<2;w++){let y=w===0?1:-1,T=Math.trunc(Math.trunc(c.getX()));for(let O=Math.trunc(Math.trunc(c.getY()));O<=o.getMaxY()&&O>=o.getMinY();O+=y){let P=Et.detectCodeword(s,0,s.getWidth(),f,T,O,d,h);P!=null&&(x.setCodeword(O,P),f?T=P.getStartX():T=P.getEndX())}}return x}static adjustCodewordCount(s,o){let c=o[0][1],f=c.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Et.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(d<1||d>at.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();c.setValue(d)}else f[0]!==d&&c.setValue(d)}static createDecoderResult(s){let o=Et.createBarcodeMatrix(s);Et.adjustCodewordCount(s,o);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],h=new Array;for(let w=0;w<s.getBarcodeRowCount();w++)for(let y=0;y<s.getBarcodeColumnCount();y++){let T=o[w][y+1].getValue(),O=w*s.getBarcodeColumnCount()+y;T.length===0?c.push(O):T.length===1?f[O]=T[0]:(h.push(O),d.push(T))}let x=new Array(d.length);for(let w=0;w<x.length;w++)x[w]=d[w];return Et.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,at.toIntArray(c),at.toIntArray(h),x)}static createDecoderResultFromAmbiguousValues(s,o,c,f,d){let h=new Int32Array(f.length),x=100;for(;x-- >0;){for(let w=0;w<h.length;w++)o[f[w]]=d[w][h[w]];try{return Et.decodeCodewords(o,s,c)}catch(w){if(!(w instanceof E))throw w}if(h.length===0)throw E.getChecksumInstance();for(let w=0;w<h.length;w++)if(h[w]<d[w].length-1){h[w]++;break}else if(h[w]=0,w===h.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let d=0;d<o[f].length;d++)o[f][d]=new fc;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let d of f.getCodewords())if(d!=null){let h=d.getRowNumber();if(h>=0){if(h>=o.length)continue;o[h][c].setValue(d.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,f){let d=f?1:-1,h=null;if(Et.isValidBarcodeColumn(s,o-d)&&(h=s.getDetectionResultColumn(o-d).getCodeword(c)),h!=null)return f?h.getEndX():h.getStartX();if(h=s.getDetectionResultColumn(o).getCodewordNearby(c),h!=null)return f?h.getStartX():h.getEndX();if(Et.isValidBarcodeColumn(s,o-d)&&(h=s.getDetectionResultColumn(o-d).getCodewordNearby(c)),h!=null)return f?h.getEndX():h.getStartX();let x=0;for(;Et.isValidBarcodeColumn(s,o-d);){o-=d;for(let w of s.getDetectionResultColumn(o).getCodewords())if(w!=null)return(f?w.getEndX():w.getStartX())+d*x*(w.getEndX()-w.getStartX());x++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,f,d,h,x,w){d=Et.adjustCodewordStartColumn(s,o,c,f,d,h);let y=Et.getModuleBitCount(s,o,c,f,d,h);if(y==null)return null;let T,O=it.sum(y);if(f)T=d+O;else{for(let ee=0;ee<y.length/2;ee++){let re=y[ee];y[ee]=y[y.length-1-ee],y[y.length-1-ee]=re}T=d,d=T-O}if(!Et.checkCodewordSkew(O,x,w))return null;let P=qn.getDecodedValue(y),G=at.getCodeword(P);return G===-1?null:new hc(d,T,Et.getCodewordBucketNumber(P),G)}static getModuleBitCount(s,o,c,f,d,h){let x=d,w=new Int32Array(8),y=0,T=f?1:-1,O=f;for(;(f?x<c:x>=o)&&y<w.length;)s.get(x,h)===O?(w[y]++,x+=T):(y++,O=!O);return y===w.length||x===(f?c:o)&&y===w.length-1?w:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,f,d,h){let x=d,w=f?-1:1;for(let y=0;y<2;y++){for(;(f?x>=o:x<c)&&f===s.get(x,h);){if(Math.abs(d-x)>Et.CODEWORD_SKEW_SIZE)return d;x+=w}w=-w,f=!f}return x}static checkCodewordSkew(s,o,c){return o-Et.CODEWORD_SKEW_SIZE<=s&&s<=c+Et.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw F.getFormatInstance();let f=1<<o+1,d=Et.correctErrors(s,c,f);Et.verifyCodewordCount(s,f);let h=pe.decode(s,""+o);return h.setErrorsCorrected(d),h.setErasures(c.length),h}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+Et.MAX_ERRORS||c<0||c>Et.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Et.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw F.getFormatInstance();let c=s[0];if(c>s.length)throw F.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw F.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,f=o.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Et.getCodewordBucketNumber(Et.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new cc;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let d=s[c][f];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}Et.CODEWORD_SKEW_SIZE=2,Et.MAX_ERRORS=3,Et.MAX_EC_CODEWORDS=512,Et.errorCorrection=new Um;class un{decode(s,o=null){let c=un.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw te.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return un.decode(s,o,!0)}catch(c){throw c instanceof F||c instanceof E?te.getNotFoundInstance():c}}static decode(s,o,c){const f=new Array,d=wt.detectMultiple(s,o,c);for(const h of d.getPoints()){const x=Et.decode(d.getBits(),h[4],h[5],h[6],h[7],un.getMinCodewordWidth(h),un.getMaxCodewordWidth(h)),w=new B(x.getText(),x.getRawBytes(),void 0,h,ne.PDF_417);w.putMetadata(Ee.ERROR_CORRECTION_LEVEL,x.getECLevel());const y=x.getOther();y!=null&&w.putMetadata(Ee.PDF417_EXTRA_METADATA,y),f.push(w)}return f.map(h=>h)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?S.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(un.getMaxWidth(s[0],s[4]),un.getMaxWidth(s[6],s[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.max(un.getMaxWidth(s[1],s[5]),un.getMaxWidth(s[7],s[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(un.getMinWidth(s[0],s[4]),un.getMinWidth(s[6],s[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.min(un.getMinWidth(s[1],s[5]),un.getMinWidth(s[7],s[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}reset(){}}class Au extends p{}Au.kind="ReaderException";class Gm{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!n(s)&&s.get(X.TRY_HARDER)===!0,c=n(s)?null:s.get(X.POSSIBLE_FORMATS),f=new Array;if(!n(c)){const d=c.some(h=>h===ne.UPC_A||h===ne.UPC_E||h===ne.EAN_13||h===ne.EAN_8||h===ne.CODABAR||h===ne.CODE_39||h===ne.CODE_93||h===ne.CODE_128||h===ne.ITF||h===ne.RSS_14||h===ne.RSS_EXPANDED);d&&!o&&f.push(new Si(s,this.verbose)),c.includes(ne.QR_CODE)&&f.push(new ta),c.includes(ne.DATA_MATRIX)&&f.push(new ea),c.includes(ne.AZTEC)&&f.push(new Yt),c.includes(ne.PDF_417)&&f.push(new un),d&&o&&f.push(new Si(s,this.verbose))}f.length===0&&(o||f.push(new Si(s,this.verbose)),f.push(new ta),f.push(new ea),f.push(new Yt),f.push(new un),o&&f.push(new Si(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Au("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof Au)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class lT extends fe{constructor(s=null,o=500){const c=new Gm;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class cT extends fe{constructor(s=500){super(new un,s)}}class uT extends fe{constructor(s=500){super(new ta,s)}}var Ah;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(Ah||(Ah={}));var Vr=Ah;class Sh{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new tt(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const f=this.field;for(let d=o.length;d<=s;d++){const h=c.multiply(new tt(f,Int32Array.from([1,f.exp(d-1+f.getGeneratorBase())])));o.push(h),c=h}}return o[s]}encode(s,o){if(o===0)throw new v("No error correction bytes");const c=s.length-o;if(c<=0)throw new v("No data bytes provided");const f=this.buildGenerator(o),d=new Int32Array(c);C.arraycopy(s,0,d,0,c);let h=new tt(this.field,d);h=h.multiplyByMonomial(o,1);const w=h.divide(f)[1].getCoefficients(),y=o-w.length;for(let T=0;T<y;T++)s[c+T]=0;C.arraycopy(w,0,s,c+y,w.length)}}class _r{constructor(){}static applyMaskPenaltyRule1(s){return _r.applyMaskPenaltyRule1Internal(s,!0)+_r.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),f=s.getWidth(),d=s.getHeight();for(let h=0;h<d-1;h++){const x=c[h];for(let w=0;w<f-1;w++){const y=x[w];y===x[w+1]&&y===c[h+1][w]&&y===c[h+1][w+1]&&o++}}return _r.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),f=s.getWidth(),d=s.getHeight();for(let h=0;h<d;h++)for(let x=0;x<f;x++){const w=c[h];x+6<f&&w[x]===1&&w[x+1]===0&&w[x+2]===1&&w[x+3]===1&&w[x+4]===1&&w[x+5]===0&&w[x+6]===1&&(_r.isWhiteHorizontal(w,x-4,x)||_r.isWhiteHorizontal(w,x+7,x+11))&&o++,h+6<d&&c[h][x]===1&&c[h+1][x]===0&&c[h+2][x]===1&&c[h+3][x]===1&&c[h+4][x]===1&&c[h+5][x]===0&&c[h+6][x]===1&&(_r.isWhiteVertical(c,x,h-4,h)||_r.isWhiteVertical(c,x,h+7,h+11))&&o++}return o*_r.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let f=o;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let d=c;d<f;d++)if(s[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),f=s.getWidth(),d=s.getHeight();for(let w=0;w<d;w++){const y=c[w];for(let T=0;T<f;T++)y[T]===1&&o++}const h=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-h)*10/h)*_r.N4}static getDataMaskBit(s,o,c){let f,d;switch(s){case 0:f=c+o&1;break;case 1:f=c&1;break;case 2:f=o%3;break;case 3:f=(c+o)%3;break;case 4:f=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:d=c*o,f=(d&1)+d%3;break;case 6:d=c*o,f=(d&1)+d%3&1;break;case 7:d=c*o,f=d%3+(c+o&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const f=o?s.getHeight():s.getWidth(),d=o?s.getWidth():s.getHeight(),h=s.getArray();for(let x=0;x<f;x++){let w=0,y=-1;for(let T=0;T<d;T++){const O=o?h[x][T]:h[T][x];O===y?w++:(w>=5&&(c+=_r.N1+(w-5)),w=1,y=O)}w>=5&&(c+=_r.N1+(w-5))}return c}}_r.N1=3,_r.N2=3,_r.N3=40,_r.N4=10;class Su{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let f=0;f!==o;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)b.fill(o,s)}equals(s){if(!(s instanceof Su))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,f=this.height;c<f;++c){const d=this.bytes[c],h=o.bytes[c];for(let x=0,w=this.width;x<w;++x)if(d[x]!==h[x])return!1}return!0}toString(){const s=new _e;for(let o=0,c=this.height;o<c;++o){const f=this.bytes[o];for(let d=0,h=this.width;d<h;++d)switch(f[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Ya{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new _e;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Ya.NUM_MASK_PATTERNS}}Ya.NUM_MASK_PATTERNS=8;class Qt extends p{}Qt.kind="WriterException";class st{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,f,d){st.clearMatrix(d),st.embedBasicPatterns(c,d),st.embedTypeInfo(o,f,d),st.maybeEmbedVersionInfo(c,d),st.embedDataBits(s,f,d)}static embedBasicPatterns(s,o){st.embedPositionDetectionPatternsAndSeparators(o),st.embedDarkDotAtLeftBottomCorner(o),st.maybeEmbedPositionAdjustmentPatterns(s,o),st.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const f=new L;st.makeTypeInfoBits(s,o,f);for(let d=0,h=f.getSize();d<h;++d){const x=f.get(f.getSize()-1-d),w=st.TYPE_INFO_COORDINATES[d],y=w[0],T=w[1];if(c.setBoolean(y,T,x),d<8){const O=c.getWidth()-d-1;c.setBoolean(O,8,x)}else{const P=c.getHeight()-7+(d-8);c.setBoolean(8,P,x)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new L;st.makeVersionInfoBits(s,c);let f=6*3-1;for(let d=0;d<6;++d)for(let h=0;h<3;++h){const x=c.get(f);f--,o.setBoolean(d,o.getHeight()-11+h,x),o.setBoolean(o.getHeight()-11+h,d,x)}}static embedDataBits(s,o,c){let f=0,d=-1,h=c.getWidth()-1,x=c.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);x>=0&&x<c.getHeight();){for(let w=0;w<2;++w){const y=h-w;if(!st.isEmpty(c.get(y,x)))continue;let T;f<s.getSize()?(T=s.get(f),++f):T=!1,o!==255&&_r.getDataMaskBit(o,y,x)&&(T=!T),c.setBoolean(y,x,T)}x+=d}d=-d,x+=d,h-=2}if(f!==s.getSize())throw new Qt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-S.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new v("0 polynomial");const c=st.findMSBSet(o);for(s<<=c-1;st.findMSBSet(s)>=c;)s^=o<<st.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!Ya.isValidMaskPattern(o))throw new Qt("Invalid mask pattern");const f=s.getBits()<<3|o;c.appendBits(f,5);const d=st.calculateBCHCode(f,st.TYPE_INFO_POLY);c.appendBits(d,10);const h=new L;if(h.appendBits(st.TYPE_INFO_MASK_PATTERN,15),c.xor(h),c.getSize()!==15)throw new Qt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=st.calculateBCHCode(s.getVersionNumber(),st.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new Qt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;st.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),st.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Qt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let f=0;f<8;++f){if(!st.isEmpty(c.get(s+f,o)))throw new Qt;c.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let f=0;f<7;++f){if(!st.isEmpty(c.get(s,o+f)))throw new Qt;c.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let f=0;f<5;++f){const d=st.POSITION_ADJUSTMENT_PATTERN[f];for(let h=0;h<5;++h)c.setNumber(s+h,o+f,d[h])}}static embedPositionDetectionPattern(s,o,c){for(let f=0;f<7;++f){const d=st.POSITION_DETECTION_PATTERN[f];for(let h=0;h<7;++h)c.setNumber(s+h,o+f,d[h])}}static embedPositionDetectionPatternsAndSeparators(s){const o=st.POSITION_DETECTION_PATTERN[0].length;st.embedPositionDetectionPattern(0,0,s),st.embedPositionDetectionPattern(s.getWidth()-o,0,s),st.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;st.embedHorizontalSeparationPattern(0,c-1,s),st.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),st.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;st.embedVerticalSeparationPattern(f,0,s),st.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),st.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=st.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let d=0,h=f.length;d!==h;d++){const x=f[d];if(x>=0)for(let w=0;w!==h;w++){const y=f[w];y>=0&&st.isEmpty(o.get(y,x))&&st.embedPositionAdjustmentPattern(y-2,x-2,o)}}}}st.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),st.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),st.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),st.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),st.VERSION_INFO_POLY=7973,st.TYPE_INFO_POLY=1335,st.TYPE_INFO_MASK_PATTERN=21522;class fT{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class cr{constructor(){}static calculateMaskPenalty(s){return _r.applyMaskPenaltyRule1(s)+_r.applyMaskPenaltyRule2(s)+_r.applyMaskPenaltyRule3(s)+_r.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let f=cr.DEFAULT_BYTE_MODE_ENCODING;const d=c!==null&&c.get(Vr.CHARACTER_SET)!==void 0;d&&(f=c.get(Vr.CHARACTER_SET).toString());const h=this.chooseMode(s,f),x=new L;if(h===rt.BYTE&&(d||cr.DEFAULT_BYTE_MODE_ENCODING!==f)){const je=W.getCharacterSetECIByName(f);je!==void 0&&this.appendECI(je,x)}this.appendModeInfo(h,x);const w=new L;this.appendBytes(s,h,w,f);let y;if(c!==null&&c.get(Vr.QR_VERSION)!==void 0){const je=Number.parseInt(c.get(Vr.QR_VERSION).toString(),10);y=et.getVersionForNumber(je);const Re=this.calculateBitsNeeded(h,x,w,y);if(!this.willFit(Re,y,o))throw new Qt("Data too big for requested version")}else y=this.recommendVersion(o,h,x,w);const T=new L;T.appendBitArray(x);const O=h===rt.BYTE?w.getSizeInBytes():s.length;this.appendLengthInfo(O,y,h,T),T.appendBitArray(w);const P=y.getECBlocksForLevel(o),G=y.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(G,T);const ee=this.interleaveWithECBytes(T,y.getTotalCodewords(),G,P.getNumBlocks()),re=new Ya;re.setECLevel(o),re.setMode(h),re.setVersion(y);const ue=y.getDimensionForVersion(),xe=new Su(ue,ue),Be=this.chooseMaskPattern(ee,o,y,xe);return re.setMaskPattern(Be),st.buildMatrix(ee,o,y,Be,xe),re.setMatrix(xe),re}static recommendVersion(s,o,c,f){const d=this.calculateBitsNeeded(o,c,f,et.getVersionForNumber(1)),h=this.chooseVersion(d,s),x=this.calculateBitsNeeded(o,c,f,h);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,o,c,f){return o.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<cr.ALPHANUMERIC_TABLE.length?cr.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(W.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return rt.KANJI;let c=!1,f=!1;for(let d=0,h=s.length;d<h;++d){const x=s.charAt(d);if(cr.isDigit(x))c=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)f=!0;else return rt.BYTE}return f?rt.ALPHANUMERIC:c?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=oe.encode(s,W.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const d=o[f]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,o,c,f){let d=Number.MAX_SAFE_INTEGER,h=-1;for(let x=0;x<Ya.NUM_MASK_PATTERNS;x++){st.buildMatrix(s,o,c,x,f);let w=this.calculateMaskPenalty(f);w<d&&(d=w,h=x)}return h}static chooseVersion(s,o){for(let c=1;c<=40;c++){const f=et.getVersionForNumber(c);if(cr.willFit(s,f,o))return f}throw new Qt("Data too big")}static willFit(s,o,c){const f=o.getTotalCodewords(),h=o.getECBlocksForLevel(c).getTotalECCodewords(),x=f-h,w=(s+7)/8;return x>=w}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new Qt("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let h=0;h<4&&o.getSize()<c;++h)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let h=f;h<8;h++)o.appendBit(!1);const d=s-o.getSizeInBytes();for(let h=0;h<d;++h)o.appendBits(h&1?17:236,8);if(o.getSize()!==c)throw new Qt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,f,d,h){if(f>=c)throw new Qt("Block ID too large");const x=s%c,w=c-x,y=Math.floor(s/c),T=y+1,O=Math.floor(o/c),P=O+1,G=y-O,ee=T-P;if(G!==ee)throw new Qt("EC bytes mismatch");if(c!==w+x)throw new Qt("RS blocks mismatch");if(s!==(O+G)*w+(P+ee)*x)throw new Qt("Total bytes mismatch");f<w?(d[0]=O,h[0]=G):(d[0]=P,h[0]=ee)}static interleaveWithECBytes(s,o,c,f){if(s.getSizeInBytes()!==c)throw new Qt("Number of bits and data bytes does not match");let d=0,h=0,x=0;const w=new Array;for(let T=0;T<f;++T){const O=new Int32Array(1),P=new Int32Array(1);cr.getNumDataBytesAndNumECBytesForBlockID(o,c,f,T,O,P);const G=O[0],ee=new Uint8Array(G);s.toBytes(8*d,ee,0,G);const re=cr.generateECBytes(ee,P[0]);w.push(new fT(ee,re)),h=Math.max(h,G),x=Math.max(x,re.length),d+=O[0]}if(c!==d)throw new Qt("Data bytes does not match offset");const y=new L;for(let T=0;T<h;++T)for(const O of w){const P=O.getDataBytes();T<P.length&&y.appendBits(P[T],8)}for(let T=0;T<x;++T)for(const O of w){const P=O.getErrorCorrectionBytes();T<P.length&&y.appendBits(P[T],8)}if(o!==y.getSizeInBytes())throw new Qt("Interleaving error: "+o+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(s,o){const c=s.length,f=new Int32Array(c+o);for(let h=0;h<c;h++)f[h]=s[h]&255;new Sh(qe.QR_CODE_FIELD_256).encode(f,o);const d=new Uint8Array(o);for(let h=0;h<o;h++)d[h]=f[c+h];return d}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,f){const d=c.getCharacterCountBits(o);if(s>=1<<d)throw new Qt(s+" is bigger than "+((1<<d)-1));f.appendBits(s,d)}static appendBytes(s,o,c,f){switch(o){case rt.NUMERIC:cr.appendNumericBytes(s,c);break;case rt.ALPHANUMERIC:cr.appendAlphanumericBytes(s,c);break;case rt.BYTE:cr.append8BitBytes(s,c,f);break;case rt.KANJI:cr.appendKanjiBytes(s,c);break;default:throw new Qt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=cr.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const d=cr.getDigit(s.charAt(f));if(f+2<c){const h=cr.getDigit(s.charAt(f+1)),x=cr.getDigit(s.charAt(f+2));o.appendBits(d*100+h*10+x,10),f+=3}else if(f+1<c){const h=cr.getDigit(s.charAt(f+1));o.appendBits(d*10+h,7),f+=2}else o.appendBits(d,4),f++}}static appendAlphanumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const d=cr.getAlphanumericCode(s.charCodeAt(f));if(d===-1)throw new Qt;if(f+1<c){const h=cr.getAlphanumericCode(s.charCodeAt(f+1));if(h===-1)throw new Qt;o.appendBits(d*45+h,11),f+=2}else o.appendBits(d,6),f++}}static append8BitBytes(s,o,c){let f;try{f=oe.encode(s,c)}catch(d){throw new Qt(d)}for(let d=0,h=f.length;d!==h;d++){const x=f[d];o.appendBits(x,8)}}static appendKanjiBytes(s,o){let c;try{c=oe.encode(s,W.SJIS)}catch(d){throw new Qt(d)}const f=c.length;for(let d=0;d<f;d+=2){const h=c[d]&255,x=c[d+1]&255,w=h<<8&4294967295|x;let y=-1;if(w>=33088&&w<=40956?y=w-33088:w>=57408&&w<=60351&&(y=w-49472),y===-1)throw new Qt("Invalid byte sequence");const T=(y>>8)*192+(y&255);o.appendBits(T,13)}}static appendECI(s,o){o.appendBits(rt.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}cr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),cr.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Ka{write(s,o,c,f=null){if(s.length===0)throw new v("Found empty contents");if(o<0||c<0)throw new v("Requested dimensions are too small: "+o+"x"+c);let d=tr.L,h=Ka.QUIET_ZONE_SIZE;f!==null&&(f.get(Vr.ERROR_CORRECTION)!==void 0&&(d=tr.fromString(f.get(Vr.ERROR_CORRECTION).toString())),f.get(Vr.MARGIN)!==void 0&&(h=Number.parseInt(f.get(Vr.MARGIN).toString(),10)));const x=cr.encode(s,d,f);return this.renderResult(x,o,c,h)}writeToDom(s,o,c,f,d=null){typeof s=="string"&&(s=document.querySelector(s));const h=this.write(o,c,f,d);s&&s.appendChild(h)}renderResult(s,o,c,f){const d=s.getMatrix();if(d===null)throw new ht;const h=d.getWidth(),x=d.getHeight(),w=h+f*2,y=x+f*2,T=Math.max(o,w),O=Math.max(c,y),P=Math.min(Math.floor(T/w),Math.floor(O/y)),G=Math.floor((T-h*P)/2),ee=Math.floor((O-x*P)/2),re=this.createSVGElement(T,O);for(let ue=0,xe=ee;ue<x;ue++,xe+=P)for(let Be=0,je=G;Be<h;Be++,je+=P)if(d.get(Be,ue)===1){const Re=this.createSvgRectElement(je,xe,P,P);re.appendChild(Re)}return re}createSVGElement(s,o){const c=document.createElementNS(Ka.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,f){const d=document.createElementNS(Ka.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",c.toString()),d.setAttributeNS(null,"width",f.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Ka.QUIET_ZONE_SIZE=4,Ka.SVG_NS="http://www.w3.org/2000/svg";class $o{encode(s,o,c,f,d){if(s.length===0)throw new v("Found empty contents");if(o!==ne.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(c<0||f<0)throw new v(`Requested dimensions are too small: ${c}x${f}`);let h=tr.L,x=$o.QUIET_ZONE_SIZE;d!==null&&(d.get(Vr.ERROR_CORRECTION)!==void 0&&(h=tr.fromString(d.get(Vr.ERROR_CORRECTION).toString())),d.get(Vr.MARGIN)!==void 0&&(x=Number.parseInt(d.get(Vr.MARGIN).toString(),10)));const w=cr.encode(s,h,d);return $o.renderResult(w,c,f,x)}static renderResult(s,o,c,f){const d=s.getMatrix();if(d===null)throw new ht;const h=d.getWidth(),x=d.getHeight(),w=h+f*2,y=x+f*2,T=Math.max(o,w),O=Math.max(c,y),P=Math.min(Math.floor(T/w),Math.floor(O/y)),G=Math.floor((T-h*P)/2),ee=Math.floor((O-x*P)/2),re=new Se(T,O);for(let ue=0,xe=ee;ue<x;ue++,xe+=P)for(let Be=0,je=G;Be<h;Be++,je+=P)d.get(Be,ue)===1&&re.setRegion(je,xe,P,P);return re}}$o.QUIET_ZONE_SIZE=4;class dT{encode(s,o,c,f,d){let h;switch(o){case ne.QR_CODE:h=new $o;break;default:throw new v("No encoder available for format "+o)}return h.encode(s,o,c,f,d)}}class us extends Te{constructor(s,o,c,f,d,h,x,w){if(super(h,x),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=f,this.top=d,f+h>o||d+x>c)throw new v("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(h,x)}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,f=new Uint8ClampedArray(c);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return C.arraycopy(this.yuvData,d,f,0,c),f;for(let h=0;h<o;h++){const x=h*s;C.arraycopy(this.yuvData,d,f,x,s),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new us(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,f,!1)}renderThumbnail(){const s=this.getWidth()/us.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/us.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),f=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let h=0;h<o;h++){const x=h*s;for(let w=0;w<s;w++){const y=f[d+w*us.THUMBNAIL_SCALE_FACTOR]&255;c[x+w]=4278190080|y*65793}d+=this.dataWidth*us.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/us.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/us.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let f=0,d=this.top*this.dataWidth+this.left;f<o;f++,d+=this.dataWidth){const h=d+s/2;for(let x=d,w=d+s-1;x<h;x++,w--){const y=c[x];c[x]=c[w],c[w]=y}}}invert(){return new ie(this)}}us.THUMBNAIL_SCALE_FACTOR=2;class Th extends Te{constructor(s,o,c,f,d,h,x){if(super(o,c),this.dataWidth=f,this.dataHeight=d,this.left=h,this.top=x,s.BYTES_PER_ELEMENT===4){const w=o*c,y=new Uint8ClampedArray(w);for(let T=0;T<w;T++){const O=s[T],P=O>>16&255,G=O>>7&510,ee=O&255;y[T]=(P+G+ee)/4&255}this.luminances=y}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=c),h===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,f=new Uint8ClampedArray(c);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return C.arraycopy(this.luminances,d,f,0,c),f;for(let h=0;h<o;h++){const x=h*s;C.arraycopy(this.luminances,d,f,x,s),d+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new Th(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new ie(this)}}class Xm extends W{static forName(s){return this.getCharacterSetECIByName(s)}}class kh{}kh.ISO_8859_1=W.ISO8859_1;class $m{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Ym{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class hT{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Yo extends hT{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Yo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+S.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class bh extends Yo{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new bh(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function gT(N,s,o){return new bh(N,s,o)}function gc(N,s,o){return new Yo(N,s,o)}const pT=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],na=0,Tu=1,bi=2,Km=3,fs=4,xT=new Yo(null,0,0),Ih=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function mT(N){for(let s of N)b.fill(s,-1);return N[na][fs]=0,N[Tu][fs]=0,N[Tu][na]=28,N[Km][fs]=0,N[bi][fs]=0,N[bi][na]=15,N}const qm=mT(b.createInt32Array(6,6));class ds{constructor(s,o,c,f){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,f=this.token;if(s!==this.mode){let h=Ih[this.mode][s];f=gc(f,h&65535,h>>16),c+=h>>16}let d=s===bi?4:5;return f=gc(f,o,d),new ds(f,s,0,c+d)}shiftAndAppend(s,o){let c=this.token,f=this.mode===bi?4:5;return c=gc(c,qm[this.mode][s],f),c=gc(c,o,5),new ds(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,f=this.bitCount;if(this.mode===fs||this.mode===bi){let x=Ih[c][na];o=gc(o,x&65535,x>>16),f+=x>>16,c=na}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new ds(o,c,this.binaryShiftByteCount+1,f+d);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(s+1)),h}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=gT(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new ds(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Ih[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=ds.calculateBinaryShiftCost(s)-ds.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let c=new L;for(const f of o)f.appendTo(c,s);return c}toString(){return J.format("%s bits=%d bytes=%d",pT[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}ds.INITIAL_STATE=new ds(xT,na,0,0);function wT(N){const s=J.getCharCode(" "),o=J.getCharCode("."),c=J.getCharCode(",");N[na][s]=1;const f=J.getCharCode("Z"),d=J.getCharCode("A");for(let P=d;P<=f;P++)N[na][P]=P-d+2;N[Tu][s]=1;const h=J.getCharCode("z"),x=J.getCharCode("a");for(let P=x;P<=h;P++)N[Tu][P]=P-x+2;N[bi][s]=1;const w=J.getCharCode("9"),y=J.getCharCode("0");for(let P=y;P<=w;P++)N[bi][P]=P-y+2;N[bi][c]=12,N[bi][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<T.length;P++)N[Km][J.getCharCode(T[P])]=P;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<O.length;P++)J.getCharCode(O[P])>0&&(N[fs][J.getCharCode(O[P])]=P);return N}const Rh=wT(b.createInt32Array(5,256));class pc{constructor(s){this.text=s}encode(){const s=J.getCharCode(" "),o=J.getCharCode(`
`);let c=Ym.singletonList(ds.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let h,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case J.getCharCode("\r"):h=x===o?2:0;break;case J.getCharCode("."):h=x===s?3:0;break;case J.getCharCode(","):h=x===s?4:0;break;case J.getCharCode(":"):h=x===s?5:0;break;default:h=0}h>0?(c=pc.updateStateListForPair(c,d,h),d++):c=this.updateStateListForChar(c,d)}return Ym.min(c,(d,h)=>d.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let f of s)this.updateStateForChar(f,o,c);return pc.simplifyStates(c)}updateStateForChar(s,o,c){let f=this.text[o]&255,d=Rh[s.getMode()][f]>0,h=null;for(let x=0;x<=fs;x++){let w=Rh[x][f];if(w>0){if(h==null&&(h=s.endBinaryShift(o)),!d||x===s.getMode()||x===bi){const y=h.latchAndAppend(x,w);c.push(y)}if(!d&&qm[s.getMode()][x]>=0){const y=h.shiftAndAppend(x,w);c.push(y)}}}if(s.getBinaryShiftByteCount()>0||Rh[s.getMode()][f]===0){let x=s.addBinaryShiftChar(o);c.push(x)}}static updateStateListForPair(s,o,c){const f=[];for(let d of s)this.updateStateForPair(d,o,c,f);return this.simplifyStates(f)}static updateStateForPair(s,o,c,f){let d=s.endBinaryShift(o);if(f.push(d.latchAndAppend(fs,c)),s.getMode()!==fs&&f.push(d.shiftAndAppend(fs,c)),c===3||c===4){let h=d.latchAndAppend(bi,16-c).latchAndAppend(bi,1);f.push(h)}if(s.getBinaryShiftByteCount()>0){let h=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(h)}}static simplifyStates(s){let o=[];for(const c of s){let f=!0;for(const d of o){if(d.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(d)&&(o=o.filter(h=>h!==d))}f&&o.push(c)}return o}}class Lt{constructor(){}static encodeBytes(s){return Lt.encode(s,Lt.DEFAULT_EC_PERCENT,Lt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let f=new pc(s).encode(),d=S.truncDivision(f.getSize()*o,100)+11,h=f.getSize()+d,x,w,y,T,O;if(c!==Lt.DEFAULT_AZTEC_LAYERS){if(x=c<0,w=Math.abs(c),w>(x?Lt.MAX_NB_BITS_COMPACT:Lt.MAX_NB_BITS))throw new v(J.format("Illegal value %s for layers",c));y=Lt.totalBitsInLayer(w,x),T=Lt.WORD_SIZE[w];let Re=y-y%T;if(O=Lt.stuffBits(f,T),O.getSize()+d>Re)throw new v("Data to large for user specified layer");if(x&&O.getSize()>T*64)throw new v("Data to large for user specified layer")}else{T=0,O=null;for(let Re=0;;Re++){if(Re>Lt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=Re<=3,w=x?Re+1:Re,y=Lt.totalBitsInLayer(w,x),h>y)continue;(O==null||T!==Lt.WORD_SIZE[w])&&(T=Lt.WORD_SIZE[w],O=Lt.stuffBits(f,T));let Rt=y-y%T;if(!(x&&O.getSize()>T*64)&&O.getSize()+d<=Rt)break}}let P=Lt.generateCheckWords(O,y,T),G=O.getSize()/T,ee=Lt.generateModeMessage(x,w,G),re=(x?11:14)+w*4,ue=new Int32Array(re),xe;if(x){xe=re;for(let Re=0;Re<ue.length;Re++)ue[Re]=Re}else{xe=re+1+2*S.truncDivision(S.truncDivision(re,2)-1,15);let Re=S.truncDivision(re,2),Rt=S.truncDivision(xe,2);for(let pt=0;pt<Re;pt++){let Zn=pt+S.truncDivision(pt,15);ue[Re-pt-1]=Rt-Zn-1,ue[Re+pt]=Rt+Zn+1}}let Be=new Se(xe);for(let Re=0,Rt=0;Re<w;Re++){let pt=(w-Re)*4+(x?9:12);for(let Zn=0;Zn<pt;Zn++){let zi=Zn*2;for(let Qn=0;Qn<2;Qn++)P.get(Rt+zi+Qn)&&Be.set(ue[Re*2+Qn],ue[Re*2+Zn]),P.get(Rt+pt*2+zi+Qn)&&Be.set(ue[Re*2+Zn],ue[re-1-Re*2-Qn]),P.get(Rt+pt*4+zi+Qn)&&Be.set(ue[re-1-Re*2-Qn],ue[re-1-Re*2-Zn]),P.get(Rt+pt*6+zi+Qn)&&Be.set(ue[re-1-Re*2-Zn],ue[Re*2+Qn])}Rt+=pt*8}if(Lt.drawModeMessage(Be,x,xe,ee),x)Lt.drawBullsEye(Be,S.truncDivision(xe,2),5);else{Lt.drawBullsEye(Be,S.truncDivision(xe,2),7);for(let Re=0,Rt=0;Re<S.truncDivision(re,2)-1;Re+=15,Rt+=16)for(let pt=S.truncDivision(xe,2)&1;pt<xe;pt+=2)Be.set(S.truncDivision(xe,2)-Rt,pt),Be.set(S.truncDivision(xe,2)+Rt,pt),Be.set(pt,S.truncDivision(xe,2)-Rt),Be.set(pt,S.truncDivision(xe,2)+Rt)}let je=new $m;return je.setCompact(x),je.setSize(xe),je.setLayers(w),je.setCodeWords(G),je.setMatrix(Be),je}static drawBullsEye(s,o,c){for(let f=0;f<c;f+=2)for(let d=o-f;d<=o+f;d++)s.set(d,o-f),s.set(d,o+f),s.set(o-f,d),s.set(o+f,d);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let f=new L;return s?(f.appendBits(o-1,2),f.appendBits(c-1,6),f=Lt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(c-1,11),f=Lt.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,c,f){let d=S.truncDivision(c,2);if(o)for(let h=0;h<7;h++){let x=d-3+h;f.get(h)&&s.set(x,d-5),f.get(h+7)&&s.set(d+5,x),f.get(20-h)&&s.set(x,d+5),f.get(27-h)&&s.set(d-5,x)}else for(let h=0;h<10;h++){let x=d-5+h+S.truncDivision(h,5);f.get(h)&&s.set(x,d-7),f.get(h+10)&&s.set(d+7,x),f.get(29-h)&&s.set(x,d+7),f.get(39-h)&&s.set(d-7,x)}}static generateCheckWords(s,o,c){let f=s.getSize()/c,d=new Sh(Lt.getGF(c)),h=S.truncDivision(o,c),x=Lt.bitsToWords(s,c,h);d.encode(x,h-f);let w=o%c,y=new L;y.appendBits(0,w);for(const T of Array.from(x))y.appendBits(T,c);return y}static bitsToWords(s,o,c){let f=new Int32Array(c),d,h;for(d=0,h=s.getSize()/o;d<h;d++){let x=0;for(let w=0;w<o;w++)x|=s.get(d*o+w)?1<<o-w-1:0;f[d]=x}return f}static getGF(s){switch(s){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,o){let c=new L,f=s.getSize(),d=(1<<o)-2;for(let h=0;h<f;h+=o){let x=0;for(let w=0;w<o;w++)(h+w>=f||s.get(h+w))&&(x|=1<<o-1-w);(x&d)===d?(c.appendBits(x&d,o),h--):x&d?c.appendBits(x,o):(c.appendBits(x|1,o),h--)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Lt.DEFAULT_EC_PERCENT=33,Lt.DEFAULT_AZTEC_LAYERS=0,Lt.MAX_NB_BITS=32,Lt.MAX_NB_BITS_COMPACT=4,Lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ku{encode(s,o,c,f){return this.encodeWithHints(s,o,c,f,null)}encodeWithHints(s,o,c,f,d){let h=kh.ISO_8859_1,x=Lt.DEFAULT_EC_PERCENT,w=Lt.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Vr.CHARACTER_SET)&&(h=Xm.forName(d.get(Vr.CHARACTER_SET).toString())),d.has(Vr.ERROR_CORRECTION)&&(x=S.parseInt(d.get(Vr.ERROR_CORRECTION).toString())),d.has(Vr.AZTEC_LAYERS)&&(w=S.parseInt(d.get(Vr.AZTEC_LAYERS).toString()))),ku.encodeLayers(s,o,c,f,h,x,w)}static encodeLayers(s,o,c,f,d,h,x){if(o!==ne.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let w=Lt.encode(J.getBytes(s,d),h,x);return ku.renderResult(w,c,f)}static renderResult(s,o,c){let f=s.getMatrix();if(f==null)throw new ht;let d=f.getWidth(),h=f.getHeight(),x=Math.max(o,d),w=Math.max(c,h),y=Math.min(x/d,w/h),T=(x-d*y)/2,O=(w-h*y)/2,P=new Se(x,w);for(let G=0,ee=O;G<h;G++,ee+=y)for(let re=0,ue=T;re<d;re++,ue+=y)f.get(re,G)&&P.setRegion(ue,ee,y,y);return P}}r.AbstractExpandedDecoder=j,r.ArgumentException=m,r.ArithmeticException=K,r.AztecCode=$m,r.AztecCodeReader=Yt,r.AztecCodeWriter=ku,r.AztecDecoder=Je,r.AztecDetector=ut,r.AztecDetectorResult=Bt,r.AztecEncoder=Lt,r.AztecHighLevelEncoder=pc,r.AztecPoint=Gt,r.BarcodeFormat=ne,r.Binarizer=A,r.BinaryBitmap=_,r.BitArray=L,r.BitMatrix=Se,r.BitSource=vh,r.BrowserAztecCodeReader=ln,r.BrowserBarcodeReader=Xa,r.BrowserCodeReader=fe,r.BrowserDatamatrixCodeReader=ZS,r.BrowserMultiFormatReader=lT,r.BrowserPDF417Reader=cT,r.BrowserQRCodeReader=uT,r.BrowserQRCodeSvgWriter=Ka,r.CharacterSetECI=W,r.ChecksumException=E,r.Code128Reader=Le,r.Code39Reader=gr,r.DataMatrixDecodedBitStreamParser=Js,r.DataMatrixReader=ea,r.DecodeHintType=X,r.DecoderResult=Ie,r.DefaultGridSampler=Fn,r.DetectorResult=Kn,r.EAN13Reader=Vi,r.EncodeHintType=Vr,r.Exception=p,r.FormatException=F,r.GenericGF=qe,r.GenericGFPoly=tt,r.GlobalHistogramBinarizer=Fe,r.GridSampler=Dr,r.GridSamplerInstance=er,r.HTMLCanvasElementLuminanceSource=be,r.HybridBinarizer=Ce,r.ITFReader=Vt,r.IllegalArgumentException=v,r.IllegalStateException=ht,r.InvertedLuminanceSource=ie,r.LuminanceSource=Te,r.MathUtils=it,r.MultiFormatOneDReader=Si,r.MultiFormatReader=Gm,r.MultiFormatWriter=dT,r.NotFoundException=te,r.OneDReader=gt,r.PDF417DecodedBitStreamParser=pe,r.PDF417DecoderErrorCorrection=Um,r.PDF417Reader=un,r.PDF417ResultMetadata=Wm,r.PerspectiveTransform=hr,r.PlanarYUVLuminanceSource=us,r.QRCodeByteMatrix=Su,r.QRCodeDataMask=Ti,r.QRCodeDecodedBitStreamParser=mr,r.QRCodeDecoderErrorCorrectionLevel=tr,r.QRCodeDecoderFormatInformation=yn,r.QRCodeEncoder=cr,r.QRCodeEncoderQRCode=Ya,r.QRCodeMaskUtil=_r,r.QRCodeMatrixUtil=st,r.QRCodeMode=rt,r.QRCodeReader=ta,r.QRCodeVersion=et,r.QRCodeWriter=$o,r.RGBLuminanceSource=Th,r.RSS14Reader=vt,r.RSSExpandedReader=ve,r.ReaderException=Au,r.ReedSolomonDecoder=Ze,r.ReedSolomonEncoder=Sh,r.ReedSolomonException=mt,r.Result=B,r.ResultMetadataType=Ee,r.ResultPoint=Ge,r.StringUtils=J,r.UnsupportedOperationException=le,r.VideoInputDevice=ze,r.WhiteRectangleDetector=$t,r.WriterException=Qt,r.ZXingArrays=b,r.ZXingCharset=Xm,r.ZXingInteger=S,r.ZXingStandardCharsets=kh,r.ZXingStringBuilder=_e,r.ZXingStringEncoding=oe,r.ZXingSystem=C,r.createAbstractExpandedDecoder=Ue,Object.defineProperty(r,"__esModule",{value:!0})})})(Kg,Kg.exports);var fr=Kg.exports;const _O=Gy(fr),EO=zy({__proto__:null,default:_O},[fr]);var Ev=function(){function e(t,r,n){if(this.formatMap=new Map([[$e.QR_CODE,fr.BarcodeFormat.QR_CODE],[$e.AZTEC,fr.BarcodeFormat.AZTEC],[$e.CODABAR,fr.BarcodeFormat.CODABAR],[$e.CODE_39,fr.BarcodeFormat.CODE_39],[$e.CODE_93,fr.BarcodeFormat.CODE_93],[$e.CODE_128,fr.BarcodeFormat.CODE_128],[$e.DATA_MATRIX,fr.BarcodeFormat.DATA_MATRIX],[$e.MAXICODE,fr.BarcodeFormat.MAXICODE],[$e.ITF,fr.BarcodeFormat.ITF],[$e.EAN_13,fr.BarcodeFormat.EAN_13],[$e.EAN_8,fr.BarcodeFormat.EAN_8],[$e.PDF_417,fr.BarcodeFormat.PDF_417],[$e.RSS_14,fr.BarcodeFormat.RSS_14],[$e.RSS_EXPANDED,fr.BarcodeFormat.RSS_EXPANDED],[$e.UPC_A,fr.BarcodeFormat.UPC_A],[$e.UPC_E,fr.BarcodeFormat.UPC_E],[$e.UPC_EAN_EXTENSION,fr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!EO)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(fr.DecodeHintType.POSSIBLE_FORMATS,i),a.set(fr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new fr.MultiFormatReader(this.verbose,this.hints),n=new fr.HTMLCanvasElementLuminanceSource(t),i=new fr.BinaryBitmap(new fr.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:wA.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),CO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},AO=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Cv=function(){function e(t,r,n){if(this.formatMap=new Map([[$e.QR_CODE,"qr_code"],[$e.AZTEC,"aztec"],[$e.CODABAR,"codabar"],[$e.CODE_39,"code_39"],[$e.CODE_93,"code_93"],[$e.CODE_128,"code_128"],[$e.DATA_MATRIX,"data_matrix"],[$e.ITF,"itf"],[$e.EAN_13,"ean_13"],[$e.EAN_8,"ean_8"],[$e.PDF_417,"pdf417"],[$e.UPC_A,"upc_a"],[$e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return CO(this,void 0,void 0,function(){var r,n;return AO(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:wA.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var l=a[i],u=l.boundingBox.width*l.boundingBox.height;u>n&&(n=u,r=l)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Av=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},Sv=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},SO=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&Cv.isSupported()?(this.primaryDecoder=new Cv(t,n,i),this.secondaryDecoder=new Ev(t,n,i)):this.primaryDecoder=new Ev(t,n,i)}return e.prototype.decodeAsync=function(t){return Av(this,void 0,void 0,function(){var r;return Sv(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Av(this,void 0,void 0,function(){var r,n;return Sv(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Kx=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ud=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},fd=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},yA=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),TO=function(e){Kx(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(yA),kO=function(e){Kx(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(TO),bO=function(e){Kx(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(yA),IO=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new kO(this.track)},e.prototype.torchFeature=function(){return new bO(this.track)},e}(),RO=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return ud(this,void 0,void 0,function(){var a,l;return fd(this,function(u){switch(u.label){case 0:return a=new e(t,r,i),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ud(this,void 0,void 0,function(){return fd(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,l=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++l,l>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new IO(this.getFirstTrackOrFail())},e}(),NO=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return ud(this,void 0,void 0,function(){return fd(this,function(i){return[2,RO.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return ud(this,void 0,void 0,function(){var r,n;return fd(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),Tv=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},kv=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},OO=function(){function e(){}return e.failIfNotSupported=function(){return Tv(this,void 0,void 0,function(){return kv(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Tv(this,void 0,void 0,function(){return kv(this,function(r){return[2,NO.create(t)]})})},e}(),DO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},FO=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},PO=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=pl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=pl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return DO(this,void 0,void 0,function(){var t,r,n,i,a,l,u;return FO(this,function(g){switch(g.label){case 0:return t=function(p){for(var m=p.getVideoTracks(),v=0,_=m;v<_.length;v++){var E=_[v];E.enabled=!1,E.stop(),p.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),i=[],a=0,l=n;a<l.length;a++)u=l[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var l=[],u=0,g=a;u<g.length;u++){var p=g[u];p.kind==="video"&&l.push({id:p.id,label:p.label})}t(l)},i=MediaStreamTrack;i.getSources(n)})},e}(),Er;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Er||(Er={}));var MO=function(){function e(){this.state=Er.NOT_STARTED,this.onGoingTransactionNewState=Er.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Er.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Er.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Er.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Er.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Er.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Er.UNKNOWN:throw"Transition from unknown is not allowed";case Er.NOT_STARTED:this.failIfNewStateIs(t,[Er.PAUSED]);break;case Er.SCANNING:break;case Er.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),BO=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Er.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Er.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Er.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Er.PAUSED},e}(),LO=function(){function e(){}return e.create=function(){return new BO(new MO)},e}(),UO=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fi=function(e){UO(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(wO),jO=function(){function e(t,r){this.logger=r,this.fps=fi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=fi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?vA.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!bs(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),bv=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new yO(this.verbose),this.qrcode=new SO(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=LO.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var u=jO.create(r,this.logger);this.clearElement();var g=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:fi.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var v=this,_=this.stateManagerProxy.startTransition(Er.SCANNING);return new Promise(function(E,A){var C=p?u.videoConstraints:v.createVideoConstraints(t);if(!C){_.cancel(),A("videoConstraints should be defined");return}var R={};(!p||u.aspectRatio)&&(R.aspectRatio=u.aspectRatio);var I={onRenderSurfaceReady:function(b,S){v.setupUi(b,S,u),v.isScanning=!0,v.foreverScan(u,n,l)}};OO.failIfNotSupported().then(function(b){b.create(C).then(function(S){return S.render(a.element,R,I).then(function(L){v.renderedCamera=L,_.execute(),E(null)}).catch(function(L){_.cancel(),A(L)})}).catch(function(S){_.cancel(),A(pl.errorGettingUserMedia(S))})}).catch(function(b){_.cancel(),A(pl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Er.PAUSED),this.showPausedState(),(bs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Er.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Er.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(fi.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bs(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var l=new Image;l.onload=function(){var u=l.width,g=l.height,p=document.getElementById(n.elementId),m=p.clientWidth?p.clientWidth:fi.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:g,fi.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(u,g,m,v);if(r){var E=n.createCanvasElement(m,v,"qr-canvas-visible");E.style.display="inline-block",p.appendChild(E);var A=E.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=m,A.canvas.height=v,A.drawImage(l,0,0,u,g,_.x,_.y,_.width,_.height)}var C=fi.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(l.width,_.width),I=Math.max(l.height,_.height),b=R+2*C,S=I+2*C,L=n.createCanvasElement(b,S);p.appendChild(L);var q=L.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=b,q.canvas.height=S,q.drawImage(l,0,0,u,g,C,C,R,I);try{n.qrcode.decodeRobustlyAsync(L).then(function(X){i(_v.createFromQrcodeResult(X))}).catch(a)}catch(X){a("QR code parse error, error = ".concat(X))}},l.onerror=a,l.onabort=a,l.onstalled=a,l.onsuspend=a,l.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return PO.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!vA.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[$e.QR_CODE,$e.AZTEC,$e.CODABAR,$e.CODE_39,$e.CODE_93,$e.CODE_128,$e.DATA_MATRIX,$e.MAXICODE,$e.ITF,$e.EAN_13,$e.EAN_8,$e.PDF_417,$e.RSS_14,$e.RSS_EXPANDED,$e.UPC_A,$e.UPC_E,$e.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var l=a[i];mO(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(bs(t))return!0;if(!bs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(bs(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return bs(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,r,a),u=function(p){if(p<fi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fi.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};u(l.width),u(l.height),l.width=g(l.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=bs(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&a.height<=r,u={x:0,y:0,width:t,height:r},g=l?this.getShadedRegionBounds(t,r,a):u,p=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},v=p.getContext("2d",m);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=pl.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,_v.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=pl.codeParseError(i);return r(a,vO.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),l=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*l,p=this.qrRegion.height*u,m=this.qrRegion.x*l,v=this.qrRegion.y*u;this.context.drawImage(a,m,v,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){_()})):_()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",l=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var g=Object.keys(t)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var p=t.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(l(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof p;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof v;throw"Invalid type of 'deviceId' = ".concat(_)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,l=(i-r)/2;return{x:a,y:l,width:t,height:r}}else{var u=t,g=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(g)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?fi.BORDER_SHADER_MATCH_COLOR:fi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(a,"px"),l.style.display="none",l.id=bs(n)?"qr-canvas":n,l},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var l=(r-i.width)/2,u=(n-i.height)/2;if(a.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(fi.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(a,p,g,-g,null,0,!0),this.insertShaderBorders(a,p,g,-g,null,0,!1),this.insertShaderBorders(a,p,g,null,-g,0,!0),this.insertShaderBorders(a,p,g,null,-g,0,!1),this.insertShaderBorders(a,g,p+g,-g,null,-g,!0),this.insertShaderBorders(a,g,p+g,null,-g,-g,!0),this.insertShaderBorders(a,g,p+g,-g,null,-g,!1),this.insertShaderBorders(a,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,l,u){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=fi.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),u?g.style.left="".concat(l,"px"):g.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Iv;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Iv||(Iv={}));const _A=({onScan:e,onClose:t,isOpen:r})=>{const[n,i]=ye.useState(!1),[a,l]=ye.useState(""),[u,g]=ye.useState(""),[p,m]=ye.useState(!1),[v,_]=ye.useState(""),E=ye.useRef(null),A=ye.useRef(`html5qr-${Math.random().toString(36).slice(2)}`);ye.useEffect(()=>(r&&C(),()=>{R()}),[r]);const C=async()=>{try{g(""),m(!1),E.current||(E.current=new bv(A.current,!1));const S=await bv.getCameras();if(!S||S.length===0){g("Kamera tidak ditemukan.");return}const L=S.find(X=>/back|rear|environment/i.test(X.label))||S[0],q={fps:10,qrbox:{width:280,height:200},aspectRatio:1.777,rememberLastUsedCamera:!0,focusMode:"continuous",focusDistance:0,formatsToSupport:[$e.CODE_128,$e.EAN_13,$e.EAN_8,$e.UPC_A,$e.UPC_E,$e.QR_CODE]};await E.current.start(L.id,q,X=>{X&&(l(X),e(X),R())},X=>{}),m(!0),i(!0)}catch(S){console.error("Scanner init error:",S),g("Tidak dapat memulai pemindai: "+((S==null?void 0:S.message)||String(S)))}},R=async()=>{i(!1);try{E.current&&(await E.current.stop(),await E.current.clear())}catch{}},I=()=>{R(),t()},b=()=>{g(""),l(""),C()};return r?k.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:[k.jsxs("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",width:"100%",maxWidth:"28rem",maxHeight:"90vh",overflow:"auto"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[k.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Scan Barcode"}),k.jsx("button",{onClick:I,style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:k.jsx(tI,{size:24})})]}),k.jsx("div",{style:{position:"relative",width:"100%",height:"320px",backgroundColor:"#000",borderRadius:"0.5rem",overflow:"hidden",marginBottom:"1rem"},children:k.jsx("div",{id:A.current,style:{width:"100%",height:"100%"}})}),u&&k.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center"},children:[k.jsx(Qb,{size:20,style:{color:"#dc2626",marginRight:"0.5rem"}}),k.jsxs("div",{children:[k.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#991b1b",margin:0},children:u}),k.jsx("button",{onClick:b,style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#dc2626",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Coba Lagi"})]})]}),a&&k.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center"},children:[k.jsx(bg,{size:20,style:{color:"#059669",marginRight:"0.5rem"}}),k.jsxs("div",{children:[k.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#065f46",margin:0},children:"Barcode berhasil dipindai!"}),k.jsx("p",{style:{fontSize:"0.75rem",color:"#059669",marginTop:"0.25rem",margin:0},children:a})]})]}),k.jsxs("div",{style:{marginBottom:"1rem"},children:[k.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem",display:"block"},children:"Atau masukkan barcode secara manual:"}),k.jsx("input",{type:"text",value:v,onChange:S=>_(S.target.value),placeholder:"Masukkan kode barcode",style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem"}}),v&&k.jsx("button",{onClick:()=>{e(v),I()},style:{marginTop:"0.5rem",width:"100%",backgroundColor:"#10b981",color:"white",padding:"0.5rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Gunakan Kode Manual"})]}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[k.jsx("button",{onClick:I,style:{flex:1,backgroundColor:"#6b7280",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Tutup"}),a&&k.jsx("button",{onClick:()=>{e(a),I()},style:{flex:1,backgroundColor:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Gunakan"})]})]}),k.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `})]}):null};/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function EA(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function WO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rv(e,t){return e.get(EA(e,t))}function HO(e,t,r){WO(e,t),t.set(e,r)}function VO(e,t,r){return e.set(EA(e,t),r),r}const zO=100,nt={},GO=()=>{nt.previousActiveElement instanceof HTMLElement?(nt.previousActiveElement.focus(),nt.previousActiveElement=null):document.body&&document.body.focus()},XO=e=>new Promise(t=>{if(!e)return t();const r=window.scrollX,n=window.scrollY;nt.restoreFocusTimeout=setTimeout(()=>{GO(),t()},zO),window.scrollTo(r,n)}),CA="swal2-",$O=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],we=$O.reduce((e,t)=>(e[t]=CA+t,e),{}),YO=["success","warning","info","question","error"],dd=YO.reduce((e,t)=>(e[t]=CA+t,e),{}),AA="SweetAlert2:",qx=e=>e.charAt(0).toUpperCase()+e.slice(1),zn=e=>{console.warn(`${AA} ${typeof e=="object"?e.join(" "):e}`)},Bo=e=>{console.error(`${AA} ${e}`)},Nv=[],KO=e=>{Nv.includes(e)||(Nv.push(e),zn(e))},SA=(e,t=null)=>{KO(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},ch=e=>typeof e=="function"?e():e,Zx=e=>e&&typeof e.toPromise=="function",uu=e=>Zx(e)?e.toPromise():Promise.resolve(e),Qx=e=>e&&Promise.resolve(e)===e,Yn=()=>document.body.querySelector(`.${we.container}`),fu=e=>{const t=Yn();return t?t.querySelector(e):null},Ci=e=>fu(`.${e}`),Ht=()=>Ci(we.popup),tc=()=>Ci(we.icon),qO=()=>Ci(we["icon-content"]),TA=()=>Ci(we.title),Jx=()=>Ci(we["html-container"]),kA=()=>Ci(we.image),em=()=>Ci(we["progress-steps"]),uh=()=>Ci(we["validation-message"]),Es=()=>fu(`.${we.actions} .${we.confirm}`),rc=()=>fu(`.${we.actions} .${we.cancel}`),Lo=()=>fu(`.${we.actions} .${we.deny}`),ZO=()=>Ci(we["input-label"]),nc=()=>fu(`.${we.loader}`),du=()=>Ci(we.actions),bA=()=>Ci(we.footer),fh=()=>Ci(we["timer-progress-bar"]),tm=()=>Ci(we.close),QO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,rm=()=>{const e=Ht();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(t).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),g=parseInt(l.getAttribute("tabindex")||"0");return u>g?1:u<g?-1:0}),n=e.querySelectorAll(QO),i=Array.from(n).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(a=>li(a))},nm=()=>Bs(document.body,we.shown)&&!Bs(document.body,we["toast-shown"])&&!Bs(document.body,we["no-backdrop"]),dh=()=>{const e=Ht();return e?Bs(e,we.toast):!1},JO=()=>{const e=Ht();return e?e.hasAttribute("data-loading"):!1},Ai=(e,t)=>{if(e.textContent="",t){const n=new DOMParser().parseFromString(t,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{e.appendChild(l)});const a=n.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?e.appendChild(l.cloneNode(!0)):e.appendChild(l)})}},Bs=(e,t)=>{if(!t)return!1;const r=t.split(/\s+/);for(let n=0;n<r.length;n++)if(!e.classList.contains(r[n]))return!1;return!0},eD=(e,t)=>{Array.from(e.classList).forEach(r=>{!Object.values(we).includes(r)&&!Object.values(dd).includes(r)&&!Object.values(t.showClass||{}).includes(r)&&e.classList.remove(r)})},vi=(e,t,r)=>{if(eD(e,t),!t.customClass)return;const n=t.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){zn(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}zt(e,n)}},hh=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${we.popup} > .${we[t]}`);case"checkbox":return e.querySelector(`.${we.popup} > .${we.checkbox} input`);case"radio":return e.querySelector(`.${we.popup} > .${we.radio} input:checked`)||e.querySelector(`.${we.popup} > .${we.radio} input:first-child`);case"range":return e.querySelector(`.${we.popup} > .${we.range} input`);default:return e.querySelector(`.${we.popup} > .${we.input}`)}},IA=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},RA=(e,t,r)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(e)?e.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?e.classList.add(n):e.classList.remove(n)}))},zt=(e,t)=>{RA(e,t,!0)},ji=(e,t)=>{RA(e,t,!1)},pa=(e,t)=>{const r=Array.from(e.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&Bs(i,t))return i}},ho=(e,t,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?e.style.setProperty(t,typeof r=="number"?`${r}px`:r):e.style.removeProperty(t)},on=(e,t="flex")=>{e&&(e.style.display=t)},Rn=e=>{e&&(e.style.display="none")},im=(e,t="block")=>{e&&new MutationObserver(()=>{hu(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Ov=(e,t,r,n)=>{const i=e.querySelector(t);i&&i.style.setProperty(r,n)},hu=(e,t,r="flex")=>{t?on(e,r):Rn(e)},li=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),tD=()=>!li(Es())&&!li(Lo())&&!li(rc()),qg=e=>e.scrollHeight>e.clientHeight,rD=(e,t)=>{let r=e;for(;r&&r!==t;){if(qg(r))return!0;r=r.parentElement}return!1},NA=e=>{const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||n>0},sm=(e,t=!1)=>{const r=fh();r&&li(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},nD=()=>{const e=fh();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const r=parseInt(window.getComputedStyle(e).width),n=t/r*100;e.style.width=`${n}%`},iD=()=>typeof window>"u"||typeof document>"u",sD=`
 <div aria-labelledby="${we.title}" aria-describedby="${we["html-container"]}" class="${we.popup}" tabindex="-1">
   <button type="button" class="${we.close}"></button>
   <ul class="${we["progress-steps"]}"></ul>
   <div class="${we.icon}"></div>
   <img class="${we.image}" />
   <h2 class="${we.title}" id="${we.title}"></h2>
   <div class="${we["html-container"]}" id="${we["html-container"]}"></div>
   <input class="${we.input}" id="${we.input}" />
   <input type="file" class="${we.file}" />
   <div class="${we.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${we.select}" id="${we.select}"></select>
   <div class="${we.radio}"></div>
   <label class="${we.checkbox}">
     <input type="checkbox" id="${we.checkbox}" />
     <span class="${we.label}"></span>
   </label>
   <textarea class="${we.textarea}" id="${we.textarea}"></textarea>
   <div class="${we["validation-message"]}" id="${we["validation-message"]}"></div>
   <div class="${we.actions}">
     <div class="${we.loader}"></div>
     <button type="button" class="${we.confirm}"></button>
     <button type="button" class="${we.deny}"></button>
     <button type="button" class="${we.cancel}"></button>
   </div>
   <div class="${we.footer}"></div>
   <div class="${we["timer-progress-bar-container"]}">
     <div class="${we["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),aD=()=>{const e=Yn();return e?(e.remove(),ji([document.documentElement,document.body],[we["no-backdrop"],we["toast-shown"],we["has-column"]]),!0):!1},qa=()=>{nt.currentInstance.resetValidationMessage()},oD=()=>{const e=Ht(),t=pa(e,we.input),r=pa(e,we.file),n=e.querySelector(`.${we.range} input`),i=e.querySelector(`.${we.range} output`),a=pa(e,we.select),l=e.querySelector(`.${we.checkbox} input`),u=pa(e,we.textarea);t.oninput=qa,r.onchange=qa,a.onchange=qa,l.onchange=qa,u.oninput=qa,n.oninput=()=>{qa(),i.value=n.value},n.onchange=()=>{qa(),i.value=n.value}},lD=e=>typeof e=="string"?document.querySelector(e):e,cD=e=>{const t=Ht();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},uD=e=>{window.getComputedStyle(e).direction==="rtl"&&zt(Yn(),we.rtl)},fD=e=>{const t=aD();if(iD()){Bo("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=we.container,t&&zt(r,we["no-transition"]),Ai(r,sD),r.dataset.swal2Theme=e.theme;const n=lD(e.target);n.appendChild(r),e.topLayer&&(r.setAttribute("popover",""),r.showPopover()),cD(e),uD(n),oD()},am=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?dD(e,t):e&&Ai(t,e)},dD=(e,t)=>{e.jquery?hD(t,e):Ai(t,e.toString())},hD=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},gD=(e,t)=>{const r=du(),n=nc();!r||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Rn(r):on(r),vi(r,t,"actions"),pD(r,n,t),Ai(n,t.loaderHtml||""),vi(n,t,"loader"))};function pD(e,t,r){const n=Es(),i=Lo(),a=rc();!n||!i||!a||(v1(n,"confirm",r),v1(i,"deny",r),v1(a,"cancel",r),xD(n,i,a,r),r.reverseButtons&&(r.toast?(e.insertBefore(a,n),e.insertBefore(i,n)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(n,t))))}function xD(e,t,r,n){if(!n.buttonsStyling){ji([e,t,r],we.styled);return}zt([e,t,r],we.styled),n.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),w1(e),w1(t),w1(r)}function w1(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function v1(e,t,r){const n=qx(t);hu(e,r[`show${n}Button`],"inline-block"),Ai(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=we[t],vi(e,r,`${t}Button`)}const mD=(e,t)=>{const r=tm();r&&(Ai(r,t.closeButtonHtml||""),vi(r,t,"closeButton"),hu(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},wD=(e,t)=>{const r=Yn();r&&(vD(r,t.backdrop),yD(r,t.position),_D(r,t.grow),vi(r,t,"container"))};function vD(e,t){typeof t=="string"?e.style.background=t:t||zt([document.documentElement,document.body],we["no-backdrop"])}function yD(e,t){t&&(t in we?zt(e,we[t]):(zn('The "position" parameter is not valid, defaulting to "center"'),zt(e,we.center)))}function _D(e,t){t&&zt(e,we[`grow-${t}`])}var or={innerParams:new WeakMap,domCache:new WeakMap};const ED=["input","file","range","select","radio","checkbox","textarea"],CD=(e,t)=>{const r=Ht();if(!r)return;const n=or.innerParams.get(e),i=!n||t.input!==n.input;ED.forEach(a=>{const l=pa(r,we[a]);l&&(TD(a,t.inputAttributes),l.className=we[a],i&&Rn(l))}),t.input&&(i&&AD(t),kD(t))},AD=e=>{if(!e.input)return;if(!Rr[e.input]){Bo(`Unexpected type of input! Expected ${Object.keys(Rr).join(" | ")}, got "${e.input}"`);return}const t=OA(e.input);if(!t)return;const r=Rr[e.input](t,e);on(t),e.inputAutoFocus&&setTimeout(()=>{IA(r)})},SD=e=>{for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},TD=(e,t)=>{const r=Ht();if(!r)return;const n=hh(r,e);if(n){SD(n);for(const i in t)n.setAttribute(i,t[i])}},kD=e=>{if(!e.input)return;const t=OA(e.input);t&&vi(t,e,"input")},om=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},gu=(e,t,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=we["input-label"];n.setAttribute("for",e.id),n.className=i,typeof r.customClass=="object"&&zt(n,r.customClass.inputLabel),n.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",n)}},OA=e=>{const t=Ht();if(t)return pa(t,we[e]||we.input)},hd=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:Qx(t)||zn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Rr={};Rr.text=Rr.email=Rr.password=Rr.number=Rr.tel=Rr.url=Rr.search=Rr.date=Rr["datetime-local"]=Rr.time=Rr.week=Rr.month=(e,t)=>(hd(e,t.inputValue),gu(e,e,t),om(e,t),e.type=t.input,e);Rr.file=(e,t)=>(gu(e,e,t),om(e,t),e);Rr.range=(e,t)=>{const r=e.querySelector("input"),n=e.querySelector("output");return hd(r,t.inputValue),r.type=t.input,hd(n,t.inputValue),gu(r,e,t),e};Rr.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const r=document.createElement("option");Ai(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return gu(e,e,t),e};Rr.radio=e=>(e.textContent="",e);Rr.checkbox=(e,t)=>{const r=hh(Ht(),"checkbox");r.value="1",r.checked=!!t.inputValue;const n=e.querySelector("span");return Ai(n,t.inputPlaceholder||t.inputLabel),r};Rr.textarea=(e,t)=>{hd(e,t.inputValue),om(e,t),gu(e,e,t);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Ht()).width),i=()=>{if(!document.body.contains(e))return;const a=e.offsetWidth+r(e);a>n?Ht().style.width=`${a}px`:ho(Ht(),"width",t.width)};new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const bD=(e,t)=>{const r=Jx();r&&(im(r),vi(r,t,"htmlContainer"),t.html?(am(t.html,r),on(r,"block")):t.text?(r.textContent=t.text,on(r,"block")):Rn(r),CD(e,t))},ID=(e,t)=>{const r=bA();r&&(im(r),hu(r,!!t.footer,"block"),t.footer&&am(t.footer,r),vi(r,t,"footer"))},RD=(e,t)=>{const r=or.innerParams.get(e),n=tc();if(!n)return;if(r&&t.icon===r.icon){Fv(n,t),Dv(n,t);return}if(!t.icon&&!t.iconHtml){Rn(n);return}if(t.icon&&Object.keys(dd).indexOf(t.icon)===-1){Bo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Rn(n);return}on(n),Fv(n,t),Dv(n,t),zt(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",DA)},Dv=(e,t)=>{for(const[r,n]of Object.entries(dd))t.icon!==r&&ji(e,n);zt(e,t.icon&&dd[t.icon]),DD(e,t),DA(),vi(e,t,"icon")},DA=()=>{const e=Ht();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=t},ND=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,OD=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Fv=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,n="";t.iconHtml?n=Pv(t.iconHtml):t.icon==="success"?(n=ND(t),r=r.replace(/ style=".*?"/g,"")):t.icon==="error"?n=OD:t.icon&&(n=Pv({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==n.trim()&&Ai(e,n)},DD=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ov(e,r,"background-color",t.iconColor);Ov(e,".swal2-success-ring","border-color",t.iconColor)}},Pv=e=>`<div class="${we["icon-content"]}">${e}</div>`,FD=(e,t)=>{const r=kA();if(r){if(!t.imageUrl){Rn(r);return}on(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),ho(r,"width",t.imageWidth),ho(r,"height",t.imageHeight),r.className=we.image,vi(r,t,"image")}};let lm=!1,FA=0,PA=0,MA=0,BA=0;const PD=e=>{e.addEventListener("mousedown",gd),document.body.addEventListener("mousemove",pd),e.addEventListener("mouseup",xd),e.addEventListener("touchstart",gd),document.body.addEventListener("touchmove",pd),e.addEventListener("touchend",xd)},MD=e=>{e.removeEventListener("mousedown",gd),document.body.removeEventListener("mousemove",pd),e.removeEventListener("mouseup",xd),e.removeEventListener("touchstart",gd),document.body.removeEventListener("touchmove",pd),e.removeEventListener("touchend",xd)},gd=e=>{const t=Ht();if(e.target===t||tc().contains(e.target)){lm=!0;const r=LA(e);FA=r.clientX,PA=r.clientY,MA=parseInt(t.style.insetInlineStart)||0,BA=parseInt(t.style.insetBlockStart)||0,zt(t,"swal2-dragging")}},pd=e=>{const t=Ht();if(lm){let{clientX:r,clientY:n}=LA(e);t.style.insetInlineStart=`${MA+(r-FA)}px`,t.style.insetBlockStart=`${BA+(n-PA)}px`}},xd=()=>{const e=Ht();lm=!1,ji(e,"swal2-dragging")},LA=e=>{let t=0,r=0;return e.type.startsWith("mouse")?(t=e.clientX,r=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,r=e.touches[0].clientY),{clientX:t,clientY:r}},BD=(e,t)=>{const r=Yn(),n=Ht();if(!(!r||!n)){if(t.toast){ho(r,"width",t.width),n.style.width="100%";const i=nc();i&&n.insertBefore(i,tc())}else ho(n,"width",t.width);ho(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),Rn(uh()),LD(n,t),t.draggable&&!t.toast?(zt(n,we.draggable),PD(n)):(ji(n,we.draggable),MD(n))}},LD=(e,t)=>{const r=t.showClass||{};e.className=`${we.popup} ${li(e)?r.popup:""}`,t.toast?(zt([document.documentElement,document.body],we["toast-shown"]),zt(e,we.toast)):zt(e,we.modal),vi(e,t,"popup"),typeof t.customClass=="string"&&zt(e,t.customClass),t.icon&&zt(e,we[`icon-${t.icon}`])},UD=(e,t)=>{const r=em();if(!r)return;const{progressSteps:n,currentProgressStep:i}=t;if(!n||n.length===0||i===void 0){Rn(r);return}on(r),r.textContent="",i>=n.length&&zn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((a,l)=>{const u=jD(a);if(r.appendChild(u),l===i&&zt(u,we["active-progress-step"]),l!==n.length-1){const g=WD(t);r.appendChild(g)}})},jD=e=>{const t=document.createElement("li");return zt(t,we["progress-step"]),Ai(t,e),t},WD=e=>{const t=document.createElement("li");return zt(t,we["progress-step-line"]),e.progressStepsDistance&&ho(t,"width",e.progressStepsDistance),t},HD=(e,t)=>{const r=TA();r&&(im(r),hu(r,!!(t.title||t.titleText),"block"),t.title&&am(t.title,r),t.titleText&&(r.innerText=t.titleText),vi(r,t,"title"))},UA=(e,t)=>{BD(e,t),wD(e,t),UD(e,t),RD(e,t),FD(e,t),HD(e,t),mD(e,t),bD(e,t),gD(e,t),ID(e,t);const r=Ht();typeof t.didRender=="function"&&r&&t.didRender(r),nt.eventEmitter.emit("didRender",r)},VD=()=>li(Ht()),jA=()=>{var e;return(e=Es())===null||e===void 0?void 0:e.click()},zD=()=>{var e;return(e=Lo())===null||e===void 0?void 0:e.click()},GD=()=>{var e;return(e=rc())===null||e===void 0?void 0:e.click()},ic=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),WA=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},XD=(e,t,r)=>{WA(e),t.toast||(e.keydownHandler=n=>YD(t,n,r),e.keydownTarget=t.keydownListenerCapture?window:Ht(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Zg=(e,t)=>{var r;const n=rm();if(n.length){e=e+t,e===-2&&(e=n.length-1),e===n.length?e=0:e===-1&&(e=n.length-1),n[e].focus();return}(r=Ht())===null||r===void 0||r.focus()},HA=["ArrowRight","ArrowDown"],$D=["ArrowLeft","ArrowUp"],YD=(e,t,r)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?KD(t,e):t.key==="Tab"?qD(t):[...HA,...$D].includes(t.key)?ZD(t.key):t.key==="Escape"&&QD(t,e,r)))},KD=(e,t)=>{if(!ch(t.allowEnterKey))return;const r=hh(Ht(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;jA(),e.preventDefault()}},qD=e=>{const t=e.target,r=rm();let n=-1;for(let i=0;i<r.length;i++)if(t===r[i]){n=i;break}e.shiftKey?Zg(n,-1):Zg(n,1),e.stopPropagation(),e.preventDefault()},ZD=e=>{const t=du(),r=Es(),n=Lo(),i=rc();if(!t||!r||!n||!i)return;const a=[r,n,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=HA.includes(e)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let g=0;g<t.children.length;g++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&li(u))break}u instanceof HTMLButtonElement&&u.focus()}},QD=(e,t,r)=>{e.preventDefault(),ch(t.allowEscapeKey)&&r(ic.esc)};var Vl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const JD=()=>{const e=Yn();Array.from(document.body.children).forEach(r=>{r.contains(e)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},VA=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},zA=typeof window<"u"&&!!window.GestureEvent,eF=()=>{if(zA&&!Bs(document.body,we.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,zt(document.body,we.iosfix),tF()}},tF=()=>{const e=Yn();if(!e)return;let t;e.ontouchstart=r=>{t=rF(r)},e.ontouchmove=r=>{t&&(r.preventDefault(),r.stopPropagation())}},rF=e=>{const t=e.target,r=Yn(),n=Jx();return!r||!n||nF(e)||iF(e)?!1:t===r||!qg(r)&&t instanceof HTMLElement&&!rD(t,n)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(qg(n)&&n.contains(t))},nF=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",iF=e=>e.touches&&e.touches.length>1,sF=()=>{if(Bs(document.body,we.iosfix)){const e=parseInt(document.body.style.top,10);ji(document.body,we.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},aF=()=>{const e=document.createElement("div");e.className=we["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Sl=null;const oF=e=>{Sl===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Sl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Sl+aF()}px`)},lF=()=>{Sl!==null&&(document.body.style.paddingRight=`${Sl}px`,Sl=null)};function GA(e,t,r,n){dh()?Mv(e,n):(XO(r).then(()=>Mv(e,n)),WA(nt)),zA?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),nm()&&(lF(),sF(),VA()),cF()}function cF(){ji([document.documentElement,document.body],[we.shown,we["height-auto"],we["no-backdrop"],we["toast-shown"]])}function xa(e){e=fF(e);const t=Vl.swalPromiseResolve.get(this),r=uF(this);this.isAwaitingPromise?e.isDismissed||(pu(this),t(e)):r&&t(e)}const uF=e=>{const t=Ht();if(!t)return!1;const r=or.innerParams.get(e);if(!r||Bs(t,r.hideClass.popup))return!1;ji(t,r.showClass.popup),zt(t,r.hideClass.popup);const n=Yn();return ji(n,r.showClass.backdrop),zt(n,r.hideClass.backdrop),dF(e,t,r),!0};function XA(e){const t=Vl.swalPromiseReject.get(this);pu(this),t&&t(e)}const pu=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,or.innerParams.get(e)||e._destroy())},fF=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),dF=(e,t,r)=>{var n;const i=Yn(),a=NA(t);typeof r.willClose=="function"&&r.willClose(t),(n=nt.eventEmitter)===null||n===void 0||n.emit("willClose",t),a?hF(e,t,i,r.returnFocus,r.didClose):GA(e,i,r.returnFocus,r.didClose)},hF=(e,t,r,n,i)=>{nt.swalCloseEventFinishedCallback=GA.bind(null,e,r,n,i);const a=function(l){if(l.target===t){var u;(u=nt.swalCloseEventFinishedCallback)===null||u===void 0||u.call(nt),delete nt.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a)}};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},Mv=(e,t)=>{setTimeout(()=>{var r;typeof t=="function"&&t.bind(e.params)(),(r=nt.eventEmitter)===null||r===void 0||r.emit("didClose"),e._destroy&&e._destroy()})},zl=e=>{let t=Ht();if(t||new Nt,t=Ht(),!t)return;const r=nc();dh()?Rn(tc()):gF(t,e),on(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},gF=(e,t)=>{const r=du(),n=nc();!r||!n||(!t&&li(Es())&&(t=Es()),on(r),t&&(Rn(t),n.setAttribute("data-button-to-replace",t.className),r.insertBefore(n,t)),zt([e,r],we.loading))},pF=(e,t)=>{t.input==="select"||t.input==="radio"?yF(e,t):["text","email","number","tel","textarea"].some(r=>r===t.input)&&(Zx(t.inputValue)||Qx(t.inputValue))&&(zl(Es()),_F(e,t))},xF=(e,t)=>{const r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return mF(r);case"radio":return wF(r);case"file":return vF(r);default:return t.inputAutoTrim?r.value.trim():r.value}},mF=e=>e.checked?1:0,wF=e=>e.checked?e.value:null,vF=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,yF=(e,t)=>{const r=Ht();if(!r)return;const n=i=>{t.input==="select"?EF(r,md(i),t):t.input==="radio"&&CF(r,md(i),t)};Zx(t.inputOptions)||Qx(t.inputOptions)?(zl(Es()),uu(t.inputOptions).then(i=>{e.hideLoading(),n(i)})):typeof t.inputOptions=="object"?n(t.inputOptions):Bo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},_F=(e,t)=>{const r=e.getInput();r&&(Rn(r),uu(t.inputValue).then(n=>{r.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,on(r),r.focus(),e.hideLoading()}).catch(n=>{Bo(`Error in inputValue promise: ${n}`),r.value="",on(r),r.focus(),e.hideLoading()}))};function EF(e,t,r){const n=pa(e,we.select);if(!n)return;const i=(a,l,u)=>{const g=document.createElement("option");g.value=u,Ai(g,l),g.selected=$A(u,r.inputValue),a.appendChild(g)};t.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const g=document.createElement("optgroup");g.label=l,g.disabled=!1,n.appendChild(g),u.forEach(p=>i(g,p[1],p[0]))}else i(n,u,l)}),n.focus()}function CF(e,t,r){const n=pa(e,we.radio);if(!n)return;t.forEach(a=>{const l=a[0],u=a[1],g=document.createElement("input"),p=document.createElement("label");g.type="radio",g.name=we.radio,g.value=l,$A(l,r.inputValue)&&(g.checked=!0);const m=document.createElement("span");Ai(m,u),m.className=we.label,p.appendChild(g),p.appendChild(m),n.appendChild(p)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const md=e=>{const t=[];return e instanceof Map?e.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=md(i)),t.push([n,i])}):Object.keys(e).forEach(r=>{let n=e[r];typeof n=="object"&&(n=md(n)),t.push([r,n])}),t},$A=(e,t)=>!!t&&t.toString()===e.toString(),AF=e=>{const t=or.innerParams.get(e);e.disableButtons(),t.input?YA(e,"confirm"):um(e,!0)},SF=e=>{const t=or.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?YA(e,"deny"):cm(e,!1)},TF=(e,t)=>{e.disableButtons(),t(ic.cancel)},YA=(e,t)=>{const r=or.innerParams.get(e);if(!r.input){Bo(`The "input" parameter is needed to be set when using returnInputValueOn${qx(t)}`);return}const n=e.getInput(),i=xF(e,r);r.inputValidator?kF(e,i,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||n.validationMessage)):t==="deny"?cm(e,i):um(e,i)},kF=(e,t,r)=>{const n=or.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>uu(n.inputValidator(t,n.validationMessage))).then(a=>{e.enableButtons(),e.enableInput(),a?e.showValidationMessage(a):r==="deny"?cm(e,t):um(e,t)})},cm=(e,t)=>{const r=or.innerParams.get(e||void 0);r.showLoaderOnDeny&&zl(Lo()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>uu(r.preDeny(t,r.validationMessage))).then(i=>{i===!1?(e.hideLoading(),pu(e)):e.close({isDenied:!0,value:typeof i>"u"?t:i})}).catch(i=>KA(e||void 0,i))):e.close({isDenied:!0,value:t})},Bv=(e,t)=>{e.close({isConfirmed:!0,value:t})},KA=(e,t)=>{e.rejectPromise(t)},um=(e,t)=>{const r=or.innerParams.get(e||void 0);r.showLoaderOnConfirm&&zl(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>uu(r.preConfirm(t,r.validationMessage))).then(i=>{li(uh())||i===!1?(e.hideLoading(),pu(e)):Bv(e,typeof i>"u"?t:i)}).catch(i=>KA(e||void 0,i))):Bv(e,t)};function wd(){const e=or.innerParams.get(this);if(!e)return;const t=or.domCache.get(this);Rn(t.loader),dh()?e.icon&&on(tc()):bF(t),ji([t.popup,t.actions],we.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const bF=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?on(t[0],"inline-block"):tD()&&Rn(e.actions)};function qA(){const e=or.innerParams.get(this),t=or.domCache.get(this);return t?hh(t.popup,e.input):null}function ZA(e,t,r){const n=or.domCache.get(e);t.forEach(i=>{n[i].disabled=r})}function QA(e,t){const r=Ht();if(!(!r||!e))if(e.type==="radio"){const n=r.querySelectorAll(`[name="${we.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=t}else e.disabled=t}function JA(){ZA(this,["confirmButton","denyButton","cancelButton"],!1)}function e4(){ZA(this,["confirmButton","denyButton","cancelButton"],!0)}function t4(){QA(this.getInput(),!1)}function r4(){QA(this.getInput(),!0)}function n4(e){const t=or.domCache.get(this),r=or.innerParams.get(this);Ai(t.validationMessage,e),t.validationMessage.className=we["validation-message"],r.customClass&&r.customClass.validationMessage&&zt(t.validationMessage,r.customClass.validationMessage),on(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",we["validation-message"]),IA(n),zt(n,we.inputerror))}function i4(){const e=or.domCache.get(this);e.validationMessage&&Rn(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ji(t,we.inputerror))}const Tl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},IF=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],RF={allowEnterKey:void 0},NF=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],s4=e=>Object.prototype.hasOwnProperty.call(Tl,e),a4=e=>IF.indexOf(e)!==-1,o4=e=>RF[e],OF=e=>{s4(e)||zn(`Unknown parameter "${e}"`)},DF=e=>{NF.includes(e)&&zn(`The parameter "${e}" is incompatible with toasts`)},FF=e=>{const t=o4(e);t&&SA(e,t)},l4=e=>{e.backdrop===!1&&e.allowOutsideClick&&zn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&zn(`Invalid theme "${e.theme}"`);for(const t in e)OF(t),e.toast&&DF(t),FF(t)};function c4(e){const t=Yn(),r=Ht(),n=or.innerParams.get(this);if(!r||Bs(r,n.hideClass.popup)){zn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=PF(e),a=Object.assign({},n,i);l4(a),t.dataset.swal2Theme=a.theme,UA(this,a),or.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const PF=e=>{const t={};return Object.keys(e).forEach(r=>{a4(r)?t[r]=e[r]:zn(`Invalid parameter to update: ${r}`)}),t};function u4(){const e=or.domCache.get(this),t=or.innerParams.get(this);if(!t){f4(this);return}e.popup&&nt.swalCloseEventFinishedCallback&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),nt.eventEmitter.emit("didDestroy"),MF(this)}const MF=e=>{f4(e),delete e.params,delete nt.keydownHandler,delete nt.keydownTarget,delete nt.currentInstance},f4=e=>{e.isAwaitingPromise?(y1(or,e),e.isAwaitingPromise=!0):(y1(Vl,e),y1(or,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},y1=(e,t)=>{for(const r in e)e[r].delete(t)};var BF=Object.freeze({__proto__:null,_destroy:u4,close:xa,closeModal:xa,closePopup:xa,closeToast:xa,disableButtons:e4,disableInput:r4,disableLoading:wd,enableButtons:JA,enableInput:t4,getInput:qA,handleAwaitingPromise:pu,hideLoading:wd,rejectPromise:XA,resetValidationMessage:i4,showValidationMessage:n4,update:c4});const LF=(e,t,r)=>{e.toast?UF(e,t,r):(WF(t),HF(t),VF(e,t,r))},UF=(e,t,r)=>{t.popup.onclick=()=>{e&&(jF(e)||e.timer||e.input)||r(ic.close)}},jF=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let vd=!1;const WF=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(vd=!0)}}},HF=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(r){e.popup.onmouseup=()=>{},(r.target===e.popup||r.target instanceof HTMLElement&&e.popup.contains(r.target))&&(vd=!0)}}},VF=(e,t,r)=>{t.container.onclick=n=>{if(vd){vd=!1;return}n.target===t.container&&ch(e.allowOutsideClick)&&r(ic.backdrop)}},zF=e=>typeof e=="object"&&e.jquery,Lv=e=>e instanceof Element||zF(e),GF=e=>{const t={};return typeof e[0]=="object"&&!Lv(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((r,n)=>{const i=e[n];typeof i=="string"||Lv(i)?t[r]=i:i!==void 0&&Bo(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),t};function XF(...e){return new this(...e)}function $F(e){class t extends this{_main(n,i){return super._main(n,Object.assign({},e,i))}}return t}const YF=()=>nt.timeout&&nt.timeout.getTimerLeft(),d4=()=>{if(nt.timeout)return nD(),nt.timeout.stop()},h4=()=>{if(nt.timeout){const e=nt.timeout.start();return sm(e),e}},KF=()=>{const e=nt.timeout;return e&&(e.running?d4():h4())},qF=e=>{if(nt.timeout){const t=nt.timeout.increase(e);return sm(t,!0),t}},ZF=()=>!!(nt.timeout&&nt.timeout.isRunning());let Uv=!1;const Qg={};function QF(e="data-swal-template"){Qg[e]=this,Uv||(document.body.addEventListener("click",JF),Uv=!0)}const JF=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const r in Qg){const n=t.getAttribute(r);if(n){Qg[r].fire({template:n});return}}};class e9{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,r){const n=this._getHandlersByEventName(t);n.includes(r)||n.push(r)}once(t,r){const n=(...i)=>{this.removeListener(t,n),r.apply(this,i)};this.on(t,n)}emit(t,...r){this._getHandlersByEventName(t).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(t,r){const n=this._getHandlersByEventName(t),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}nt.eventEmitter=new e9;const t9=(e,t)=>{nt.eventEmitter.on(e,t)},r9=(e,t)=>{nt.eventEmitter.once(e,t)},n9=(e,t)=>{if(!e){nt.eventEmitter.reset();return}t?nt.eventEmitter.removeListener(e,t):nt.eventEmitter.removeAllListeners(e)};var i9=Object.freeze({__proto__:null,argsToParams:GF,bindClickHandler:QF,clickCancel:GD,clickConfirm:jA,clickDeny:zD,enableLoading:zl,fire:XF,getActions:du,getCancelButton:rc,getCloseButton:tm,getConfirmButton:Es,getContainer:Yn,getDenyButton:Lo,getFocusableElements:rm,getFooter:bA,getHtmlContainer:Jx,getIcon:tc,getIconContent:qO,getImage:kA,getInputLabel:ZO,getLoader:nc,getPopup:Ht,getProgressSteps:em,getTimerLeft:YF,getTimerProgressBar:fh,getTitle:TA,getValidationMessage:uh,increaseTimer:qF,isDeprecatedParameter:o4,isLoading:JO,isTimerRunning:ZF,isUpdatableParameter:a4,isValidParameter:s4,isVisible:VD,mixin:$F,off:n9,on:t9,once:r9,resumeTimer:h4,showLoading:zl,stopTimer:d4,toggleTimer:KF});class s9{constructor(t,r){this.callback=t,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const r=this.running;return r&&this.stop(),this.remaining+=t,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const g4=["swal-title","swal-html","swal-footer"],a9=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const r=t.content;return g9(r),Object.assign(o9(r),l9(r),c9(r),u9(r),f9(r),d9(r),h9(r,g4))},o9=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(n=>{To(n,["name","value"]);const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(typeof Tl[i]=="boolean"?t[i]=a!=="false":typeof Tl[i]=="object"?t[i]=JSON.parse(a):t[i]=a)}),t},l9=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(t[i]=new Function(`return ${a}`)())}),t},c9=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(n=>{To(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(t[`${i}ButtonText`]=n.innerHTML,t[`show${qx(i)}Button`]=!0,n.hasAttribute("color")&&(t[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},u9=e=>{const t={},r=e.querySelector("swal-image");return r&&(To(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},f9=e=>{const t={},r=e.querySelector("swal-icon");return r&&(To(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},d9=e=>{const t={},r=e.querySelector("swal-input");r&&(To(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(i=>{To(i,["value"]);const a=i.getAttribute("value");if(!a)return;const l=i.innerHTML;t.inputOptions[a]=l})),t},h9=(e,t)=>{const r={};for(const n in t){const i=t[n],a=e.querySelector(i);a&&(To(a,[]),r[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return r},g9=e=>{const t=g4.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(r=>{const n=r.tagName.toLowerCase();t.includes(n)||zn(`Unrecognized element <${n}>`)})},To=(e,t)=>{Array.from(e.attributes).forEach(r=>{t.indexOf(r.name)===-1&&zn([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},p4=10,p9=e=>{const t=Yn(),r=Ht();typeof e.willOpen=="function"&&e.willOpen(r),nt.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;w9(t,r,e),setTimeout(()=>{x9(t,r)},p4),nm()&&(m9(t,e.scrollbarPadding,i),JD()),!dh()&&!nt.previousActiveElement&&(nt.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(r)),nt.eventEmitter.emit("didOpen",r)},yd=e=>{const t=Ht();if(e.target!==t)return;const r=Yn();t.removeEventListener("animationend",yd),t.removeEventListener("transitionend",yd),r.style.overflowY="auto",ji(r,we["no-transition"])},x9=(e,t)=>{NA(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",yd),t.addEventListener("transitionend",yd)):e.style.overflowY="auto"},m9=(e,t,r)=>{eF(),t&&r!=="hidden"&&oF(r),setTimeout(()=>{e.scrollTop=0})},w9=(e,t,r)=>{zt(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),on(t,"grid"),setTimeout(()=>{zt(t,r.showClass.popup),t.style.removeProperty("opacity")},p4)):on(t,"grid"),zt([document.documentElement,document.body],we.shown),r.heightAuto&&r.backdrop&&!r.toast&&zt([document.documentElement,document.body],we["height-auto"])};var jv={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function v9(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=jv.email),e.input==="url"&&(e.inputValidator=jv.url))}function y9(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(zn('Target parameter is not valid, defaulting to "body"'),e.target="body")}function _9(e){v9(e),e.showLoaderOnConfirm&&!e.preConfirm&&zn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),y9(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),fD(e)}let ms;var Yu=new WeakMap;class Or{constructor(...t){if(HO(this,Yu,void 0),typeof window>"u")return;ms=this;const r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,VO(Yu,this,this._main(ms.params))}_main(t,r={}){if(l4(Object.assign({},r,t)),nt.currentInstance){const a=Vl.swalPromiseResolve.get(nt.currentInstance),{isAwaitingPromise:l}=nt.currentInstance;nt.currentInstance._destroy(),l||a({isDismissed:!0}),nm()&&VA()}nt.currentInstance=ms;const n=C9(t,r);_9(n),Object.freeze(n),nt.timeout&&(nt.timeout.stop(),delete nt.timeout),clearTimeout(nt.restoreFocusTimeout);const i=A9(ms);return UA(ms,n),or.innerParams.set(ms,n),E9(ms,i,n)}then(t){return Rv(Yu,this).then(t)}finally(t){return Rv(Yu,this).finally(t)}}const E9=(e,t,r)=>new Promise((n,i)=>{const a=l=>{e.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};Vl.swalPromiseResolve.set(e,n),Vl.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{AF(e)},t.denyButton.onclick=()=>{SF(e)},t.cancelButton.onclick=()=>{TF(e,a)},t.closeButton.onclick=()=>{a(ic.close)},LF(r,t,a),XD(nt,r,a),pF(e,r),p9(r),S9(nt,r,a),T9(t,r),setTimeout(()=>{t.container.scrollTop=0})}),C9=(e,t)=>{const r=a9(e),n=Object.assign({},Tl,t,r,e);return n.showClass=Object.assign({},Tl.showClass,n.showClass),n.hideClass=Object.assign({},Tl.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},A9=e=>{const t={popup:Ht(),container:Yn(),actions:du(),confirmButton:Es(),denyButton:Lo(),cancelButton:rc(),loader:nc(),closeButton:tm(),validationMessage:uh(),progressSteps:em()};return or.domCache.set(e,t),t},S9=(e,t,r)=>{const n=fh();Rn(n),t.timer&&(e.timeout=new s9(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(on(n),vi(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&sm(t.timer)})))},T9=(e,t)=>{if(!t.toast){if(!ch(t.allowEnterKey)){SA("allowEnterKey"),I9();return}k9(e)||b9(e,t)||Zg(-1,1)}},k9=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const r of t)if(r instanceof HTMLElement&&li(r))return r.focus(),!0;return!1},b9=(e,t)=>t.focusDeny&&li(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&li(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&li(e.confirmButton)?(e.confirmButton.focus(),!0):!1,I9=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Or.prototype.disableButtons=e4;Or.prototype.enableButtons=JA;Or.prototype.getInput=qA;Or.prototype.disableInput=r4;Or.prototype.enableInput=t4;Or.prototype.hideLoading=wd;Or.prototype.disableLoading=wd;Or.prototype.showValidationMessage=n4;Or.prototype.resetValidationMessage=i4;Or.prototype.close=xa;Or.prototype.closePopup=xa;Or.prototype.closeModal=xa;Or.prototype.closeToast=xa;Or.prototype.rejectPromise=XA;Or.prototype.update=c4;Or.prototype._destroy=u4;Object.assign(Or,i9);Object.keys(BF).forEach(e=>{Or[e]=function(...t){return ms&&ms[e]?ms[e](...t):null}});Or.DismissReason=ic;Or.version="11.26.3";const Nt=Or;Nt.default=Nt;typeof document<"u"&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch{r.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var x4=1252,R9=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],fm={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dm=function(e){R9.indexOf(e)!=-1&&(x4=fm[0]=e)};function N9(){dm(1252)}var es=function(e){dm(e)};function m4(){es(1200),N9()}function Wv(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function O9(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function w4(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Fc=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?O9(e.slice(2)):t==254&&r==255?w4(e.slice(2)):t==65279?e.slice(1):e},Ku=function(t){return String.fromCharCode(t)},Hv=function(t){return String.fromCharCode(t)},j0,ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Vv(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0,g=0,p=0;p<e.length;)r=e.charCodeAt(p++),a=r>>2,n=e.charCodeAt(p++),l=(r&3)<<4|n>>4,i=e.charCodeAt(p++),u=(n&15)<<2|i>>6,g=i&63,isNaN(n)?u=g=64:isNaN(i)&&(g=64),t+=ma.charAt(a)+ma.charAt(l)+ma.charAt(u)+ma.charAt(g);return t}function yi(e){var t="",r=0,n=0,i=0,a=0,l=0,u=0,g=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<e.length;)a=ma.indexOf(e.charAt(p++)),l=ma.indexOf(e.charAt(p++)),r=a<<2|l>>4,t+=String.fromCharCode(r),u=ma.indexOf(e.charAt(p++)),n=(l&15)<<4|u>>2,u!==64&&(t+=String.fromCharCode(n)),g=ma.indexOf(e.charAt(p++)),i=(u&3)<<6|g,g!==64&&(t+=String.fromCharCode(i));return t}var Ft=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Uo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ua(e){return Ft?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function zv(e){return Ft?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Qi=function(t){return Ft?Uo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function jo(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function hm(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return hm(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ua=Ft?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Uo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function D9(e){for(var t=[],r=0,n=e.length+250,i=Ua(e.length+255),a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=e.charCodeAt(++a)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|u>>6&15|(l&3)<<4,i[r++]=128|u&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Ua(65535),n=65530)}return t.push(i.slice(0,r)),ua(t)}var Vn=/\u0000/g,Pc=/[\u0001-\u0006]/g;function kl(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ts(e,t){var r=""+e;return r.length>=t?r:Ar("0",t-r.length)+r}function gm(e,t){var r=""+e;return r.length>=t?r:Ar(" ",t-r.length)+r}function _d(e,t){var r=""+e;return r.length>=t?r:r+Ar(" ",t-r.length)}function F9(e,t){var r=""+Math.round(e);return r.length>=t?r:Ar("0",t-r.length)+r}function P9(e,t){var r=""+e;return r.length>=t?r:Ar("0",t-r.length)+r}var Gv=Math.pow(2,32);function Jo(e,t){if(e>Gv||e<-Gv)return F9(e,t);var r=Math.round(e);return P9(r,t)}function Ed(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Xv=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],_1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function M9(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var xt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},$v={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},B9={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cd(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,l=1,u=0,g=1,p=0,m=0,v=Math.floor(i);p<t&&(v=Math.floor(i),u=v*l+a,m=v*p+g,!(i-v<5e-8));)i=1/(i-v),a=l,l=u,g=p,p=m;if(m>t&&(p>t?(m=g,u=a):(m=p,u=l)),!r)return[0,n*u,m];var _=Math.floor(n*u/m);return[_,n*u-_*m,m]}function co(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,l=[],u={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++n,++u.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var g=new Date(1900,0,1);g.setDate(g.getDate()+n-1),l=[g.getFullYear(),g.getMonth()+1,g.getDate()],a=g.getDay(),n<60&&(a=(a+6)%7),r&&(a=V9(g,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=a,u}var v4=new Date(1899,11,31,0,0,0),L9=v4.getTime(),U9=new Date(1900,2,1,0,0,0);function y4(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=U9&&(r+=24*60*60*1e3),(r-(L9+(e.getTimezoneOffset()-v4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function pm(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function j9(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function W9(e){var t=e<0?12:11,r=pm(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function H9(e){var t=pm(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function W0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=W9(e):t===10?r=e.toFixed(10).substr(0,12):r=H9(e),pm(j9(r.toUpperCase()))}function ko(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):W0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Wi(14,y4(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function V9(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function z9(e,t,r,n){var i="",a=0,l=0,u=r.y,g,p=0;switch(e){case 98:u=r.y+543;case 121:switch(t.length){case 1:case 2:g=u%100,p=2;break;default:g=u%1e4,p=4;break}break;case 109:switch(t.length){case 1:case 2:g=r.m,p=t.length;break;case 3:return _1[r.m-1][1];case 5:return _1[r.m-1][0];default:return _1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:g=r.d,p=t.length;break;case 3:return Xv[r.q][0];default:return Xv[r.q][1]}break;case 104:switch(t.length){case 1:case 2:g=1+(r.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:g=r.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:g=r.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ts(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),t==="s"?a===0?"0":""+a/l:(i=ts(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":g=r.D*24+r.H;break;case"[m]":case"[mm]":g=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":g=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}p=t.length===3?1:2;break;case 101:g=u,p=1;break}var m=p>0?ts(g,p):"";return m}function wa(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var _4=/%/g;function G9(e,t,r){var n=t.replace(_4,""),i=t.length-n.length;return Ls(e,n,r*Math.pow(10,2*i))+Ar("%",i)}function X9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ls(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function E4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+E4(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,g,p,m){return g+p+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var C4=/# (\?+)( ?)\/( ?)(\d+)/;function $9(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),l=i-a*n,u=n;return r+(a===0?"":""+a)+" "+(l===0?Ar(" ",e[1].length+1+e[4].length):gm(l,e[1].length)+e[2]+"/"+e[3]+ts(u,e[4].length))}function Y9(e,t,r){return r+(t===0?"":""+t)+Ar(" ",e[1].length+2+e[4].length)}var A4=/^#*0*\.([0#]+)/,S4=/\).*[0#]/,T4=/\(###\) ###\\?-####/;function Bn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Yv(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Kv(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function K9(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function q9(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ri(e,t,r){if(e.charCodeAt(0)===40&&!t.match(S4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ri("n",n,r):"("+Ri("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return X9(e,t,r);if(t.indexOf("%")!==-1)return G9(e,t,r);if(t.indexOf("E")!==-1)return E4(t,r);if(t.charCodeAt(0)===36)return"$"+Ri(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,g=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+Jo(g,t.length);if(t.match(/^[#?]+$/))return i=Jo(r,0),i==="0"&&(i=""),i.length>t.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(C4))return $9(a,g,p);if(t.match(/^#+0+$/))return p+Jo(g,t.length-t.indexOf("0"));if(a=t.match(A4))return i=Yv(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])).replace(/\.(\d*)$/,function(A,C){return"."+C+Ar("0",Bn(a[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+Yv(g,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+wa(Jo(g,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ri(e,t,-r):wa(""+(Math.floor(r)+K9(r,a[1].length)))+"."+ts(Kv(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ri(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=kl(Ri(e,t.replace(/[\\-]/g,""),r)),l=0,kl(kl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(T4))return i=Ri(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Cd(g,Math.pow(10,l)-1,!1),i=""+p,m=Ls("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=_d(u[2],l),m.length<a[4].length&&(m=Bn(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Cd(g,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?gm(u[1],l)+a[2]+"/"+a[3]+_d(u[2],l):Ar(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Jo(r,0),t.length<=i.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,_=t.length-i.length-v;return Bn(t.substr(0,v)+i+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return l=Kv(r,a[1].length),r<0?"-"+Ri(e,t,-r):wa(q9(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?ts(0,3-A.length):"")+A})+"."+ts(l,a[1].length);switch(t){case"###,##0.00":return Ri(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var E=wa(Jo(g,0));return E!=="0"?p+E:"";case"###,###.00":return Ri(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ri(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Z9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ls(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Q9(e,t,r){var n=t.replace(_4,""),i=t.length-n.length;return Ls(e,n,r*Math.pow(10,2*i))+Ar("%",i)}function k4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+k4(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,g,p,m){return g+p+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ps(e,t,r){if(e.charCodeAt(0)===40&&!t.match(S4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ps("n",n,r):"("+ps("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Z9(e,t,r);if(t.indexOf("%")!==-1)return Q9(e,t,r);if(t.indexOf("E")!==-1)return k4(t,r);if(t.charCodeAt(0)===36)return"$"+ps(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,g=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+ts(g,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(C4))return Y9(a,g,p);if(t.match(/^#+0+$/))return p+ts(g,t.length-t.indexOf("0"));if(a=t.match(A4))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])),i=i.replace(/\.(\d*)$/,function(A,C){return"."+C+Ar("0",Bn(a[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+(""+g).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+wa(""+g);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):wa(""+r)+"."+Ar("0",a[1].length);if(a=t.match(/^#,#*,#0/))return ps(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=kl(ps(e,t.replace(/[\\-]/g,""),r)),l=0,kl(kl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(T4))return i=ps(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Cd(g,Math.pow(10,l)-1,!1),i=""+p,m=Ls("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=_d(u[2],l),m.length<a[4].length&&(m=Bn(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Cd(g,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?gm(u[1],l)+a[2]+"/"+a[3]+_d(u[2],l):Ar(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,_=t.length-i.length-v;return Bn(t.substr(0,v)+i+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):wa(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?ts(0,3-A.length):"")+A})+"."+ts(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var E=wa(""+g);return E!=="0"?p+E:"";default:if(t.match(/\.[0#?]*$/))return ps(e,t.slice(0,t.lastIndexOf(".")),r)+Bn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ls(e,t,r){return(r|0)===r?ps(e,t,r):Ri(e,t,r)}function J9(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var b4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function sc(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Ed(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(b4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function eP(e,t,r,n){for(var i=[],a="",l=0,u="",g="t",p,m,v,_="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!Ed(e,l))throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(v=e.charCodeAt(++l))!==34&&l<e.length;)a+=String.fromCharCode(v);i[i.length]={t:"t",v:a},++l;break;case"\\":var E=e.charAt(++l),A=E==="("||E===")"?E:"t";i[i.length]={t:A,v:E},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(p==null&&(p=co(t,r,e.charAt(l+1)==="2"),p==null))return"";i[i.length]={t:"X",v:e.substr(l,2)},g=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||p==null&&(p=co(t,r),p==null))return"";for(a=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&g.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=_),i[i.length]={t:u,v:a},g=u;break;case"A":case"a":case"":var C={t:u,v:u};if(p==null&&(p=co(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(p!=null&&(C.v=p.H>=12?"P":"A"),C.t="T",_="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(p!=null&&(C.v=p.H>=12?"PM":"AM"),C.t="T",l+=5,_="h"):e.substr(l,5).toUpperCase()==="/"?(p!=null&&(C.v=p.H>=12?"":""),C.t="T",l+=5,_="h"):(C.t="t",++l),p==null&&C.t==="T")return"";i[i.length]=C,g=u;break;case"[":for(a=u;e.charAt(l++)!=="]"&&l<e.length;)a+=e.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(b4)){if(p==null&&(p=co(t,r),p==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},g=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",sc(e)||(i[i.length]={t:"t",v:a}));break;case".":if(p!=null){for(a=u;++l<e.length&&(u=e.charAt(l))==="0";)a+=u;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)a+=u;i[i.length]={t:"n",v:a};break;case"?":for(a=u;e.charAt(++l)===u;)a+=u;i[i.length]={t:u,v:a},g=u;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)a+=e.charAt(l);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:u,v:u},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"t",v:u},++l;break}var R=0,I=0,b;for(l=i.length-1,g="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=_,g="h",R<1&&(R=1);break;case"s":(b=i[l].v.match(/\.0+$/))&&(I=Math.max(I,b[0].length-1)),R<3&&(R=3);case"d":case"y":case"M":case"e":g=i[l].t;break;case"m":g==="s"&&(i[l].t="M",R<2&&(R=2));break;case"X":break;case"Z":R<1&&i[l].v.match(/[Hh]/)&&(R=1),R<2&&i[l].v.match(/[Mm]/)&&(R=2),R<3&&i[l].v.match(/[Ss]/)&&(R=3)}switch(R){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var S="",L;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=z9(i[l].t.charCodeAt(0),i[l].v,p,I),i[l].t="t";break;case"n":case"?":for(L=l+1;i[L]!=null&&((u=i[L].t)==="?"||u==="D"||(u===" "||u==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[l].v+=i[L].v,i[L]={v:"",t:";"},++L;S+=i[l].v,l=L-1;break;case"G":i[l].t="t",i[l].v=ko(t,r);break}var q="",X,F;if(S.length>0){S.charCodeAt(0)==40?(X=t<0&&S.charCodeAt(0)===45?-t:t,F=Ls("n",S,X)):(X=t<0&&n>1?-t:t,F=Ls("n",S,X),X<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),L=F.length-1;var Z=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){Z=l;break}var W=i.length;if(Z===i.length&&F.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(L>=i[l].v.length-1?(L-=i[l].v.length,i[l].v=F.substr(L+1,i[l].v.length)):L<0?i[l].v="":(i[l].v=F.substr(0,L+1),L=-1),i[l].t="t",W=l);L>=0&&W<i.length&&(i[W].v=F.substr(0,L+1)+i[W].v)}else if(Z!==i.length&&F.indexOf("E")===-1){for(L=F.indexOf(".")-1,l=Z;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(m=i[l].v.indexOf(".")>-1&&l===Z?i[l].v.indexOf(".")-1:i[l].v.length-1,q=i[l].v.substr(m+1);m>=0;--m)L>=0&&(i[l].v.charAt(m)==="0"||i[l].v.charAt(m)==="#")&&(q=F.charAt(L--)+q);i[l].v=q,i[l].t="t",W=l}for(L>=0&&W<i.length&&(i[W].v=F.substr(0,L+1)+i[W].v),L=F.indexOf(".")+1,l=Z;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==Z)){for(m=i[l].v.indexOf(".")>-1&&l===Z?i[l].v.indexOf(".")+1:0,q=i[l].v.substr(0,m);m<i[l].v.length;++m)L<F.length&&(q+=F.charAt(L++));i[l].v=q,i[l].t="t",W=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(X=n>1&&t<0&&l>0&&i[l-1].v==="-"?-t:t,i[l].v=Ls(i[l].t,i[l].v,X),i[l].t="t");var le="";for(l=0;l!==i.length;++l)i[l]!=null&&(le+=i[l].v);return le}var qv=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Zv(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function tP(e,t){var r=J9(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(qv),u=r[1].match(qv);return Zv(t,l)?[n,r[0]]:Zv(t,u)?[n,r[1]]:[n,r[l!=null&&u!=null?2:1]]}return[n,a]}function Wi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:xt)[e],n==null&&(n=r.table&&r.table[$v[e]]||xt[$v[e]]),n==null&&(n=B9[e]||"General");break}if(Ed(n,0))return ko(t,r);t instanceof Date&&(t=y4(t,r.date1904));var i=tP(n,t);if(Ed(i[1]))return ko(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return eP(i[1],t,r,i[0])}function go(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(xt[r]==null){t<0&&(t=r);continue}if(xt[r]==e){t=r;break}}t<0&&(t=391)}return xt[t]=e,t}function I4(){xt=M9()}var rP={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},R4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nP(e){var t=typeof e=="number"?xt[e]:e;return t=t.replace(R4,"(\\d+)"),new RegExp("^"+t+"$")}function iP(e,t,r){var n=-1,i=-1,a=-1,l=-1,u=-1,g=-1;(t.match(R4)||[]).forEach(function(v,_){var E=parseInt(r[_+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=E;break;case"d":a=E;break;case"h":l=E;break;case"s":g=E;break;case"m":l>=0?u=E:i=E;break}}),g>=0&&u==-1&&i>=0&&(u=i,i=-1);var p=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2);return l==-1&&u==-1&&g==-1?p:n==-1&&i==-1&&a==-1?m:p+"T"+m}var sP=function(){var e={};e.version="1.2.0";function t(){for(var F=0,Z=new Array(256),W=0;W!=256;++W)F=W,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,Z[W]=F;return typeof Int32Array<"u"?new Int32Array(Z):Z}var r=t();function n(F){var Z=0,W=0,le=0,oe=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(le=0;le!=256;++le)oe[le]=F[le];for(le=0;le!=256;++le)for(W=F[le],Z=256+le;Z<4096;Z+=256)W=oe[Z]=W>>>8^F[W&255];var J=[];for(le=1;le!=16;++le)J[le-1]=typeof Int32Array<"u"?oe.subarray(le*256,le*256+256):oe.slice(le*256,le*256+256);return J}var i=n(r),a=i[0],l=i[1],u=i[2],g=i[3],p=i[4],m=i[5],v=i[6],_=i[7],E=i[8],A=i[9],C=i[10],R=i[11],I=i[12],b=i[13],S=i[14];function L(F,Z){for(var W=Z^-1,le=0,oe=F.length;le<oe;)W=W>>>8^r[(W^F.charCodeAt(le++))&255];return~W}function q(F,Z){for(var W=Z^-1,le=F.length-15,oe=0;oe<le;)W=S[F[oe++]^W&255]^b[F[oe++]^W>>8&255]^I[F[oe++]^W>>16&255]^R[F[oe++]^W>>>24]^C[F[oe++]]^A[F[oe++]]^E[F[oe++]]^_[F[oe++]]^v[F[oe++]]^m[F[oe++]]^p[F[oe++]]^g[F[oe++]]^u[F[oe++]]^l[F[oe++]]^a[F[oe++]]^r[F[oe++]];for(le+=15;oe<le;)W=W>>>8^r[(W^F[oe++])&255];return~W}function X(F,Z){for(var W=Z^-1,le=0,oe=F.length,J=0,_e=0;le<oe;)J=F.charCodeAt(le++),J<128?W=W>>>8^r[(W^J)&255]:J<2048?(W=W>>>8^r[(W^(192|J>>6&31))&255],W=W>>>8^r[(W^(128|J&63))&255]):J>=55296&&J<57344?(J=(J&1023)+64,_e=F.charCodeAt(le++)&1023,W=W>>>8^r[(W^(240|J>>8&7))&255],W=W>>>8^r[(W^(128|J>>2&63))&255],W=W>>>8^r[(W^(128|_e>>6&15|(J&3)<<4))&255],W=W>>>8^r[(W^(128|_e&63))&255]):(W=W>>>8^r[(W^(224|J>>12&15))&255],W=W>>>8^r[(W^(128|J>>6&63))&255],W=W>>>8^r[(W^(128|J&63))&255]);return~W}return e.table=r,e.bstr=L,e.buf=q,e.str=X,e}(),Pt=function(){var t={};t.version="1.2.1";function r(D,M){for(var U=D.split("/"),j=M.split("/"),z=0,Y=0,ae=Math.min(U.length,j.length);z<ae;++z){if(Y=U[z].length-j[z].length)return Y;if(U[z]!=j[z])return U[z]<j[z]?-1:1}return U.length-j.length}function n(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:n(D.slice(0,-1));var M=D.lastIndexOf("/");return M===-1?D:D.slice(0,M+1)}function i(D){if(D.charAt(D.length-1)=="/")return i(D.slice(0,-1));var M=D.lastIndexOf("/");return M===-1?D:D.slice(M+1)}function a(D,M){typeof M=="string"&&(M=new Date(M));var U=M.getHours();U=U<<6|M.getMinutes(),U=U<<5|M.getSeconds()>>>1,D.write_shift(2,U);var j=M.getFullYear()-1980;j=j<<4|M.getMonth()+1,j=j<<5|M.getDate(),D.write_shift(2,j)}function l(D){var M=D.read_shift(2)&65535,U=D.read_shift(2)&65535,j=new Date,z=U&31;U>>>=5;var Y=U&15;U>>>=4,j.setMilliseconds(0),j.setFullYear(U+1980),j.setMonth(Y-1),j.setDate(z);var ae=M&31;M>>>=5;var me=M&63;return M>>>=6,j.setHours(M),j.setMinutes(me),j.setSeconds(ae<<1),j}function u(D){hn(D,0);for(var M={},U=0;D.l<=D.length-4;){var j=D.read_shift(2),z=D.read_shift(2),Y=D.l+z,ae={};switch(j){case 21589:U=D.read_shift(1),U&1&&(ae.mtime=D.read_shift(4)),z>5&&(U&2&&(ae.atime=D.read_shift(4)),U&4&&(ae.ctime=D.read_shift(4))),ae.mtime&&(ae.mt=new Date(ae.mtime*1e3));break}D.l=Y,M[j]=ae}return M}var g;function p(){return g||(g={})}function m(D,M){if(D[0]==80&&D[1]==75)return Fr(D,M);if((D[0]|32)==109&&(D[1]|32)==105)return Qs(D,M);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var U=3,j=512,z=0,Y=0,ae=0,me=0,ce=0,he=[],ge=D.slice(0,512);hn(ge,0);var ke=v(ge);switch(U=ke[0],U){case 3:j=512;break;case 4:j=4096;break;case 0:if(ke[1]==0)return Fr(D,M);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}j!==512&&(ge=D.slice(0,j),hn(ge,28));var De=D.slice(0,j);_(ge,U);var Me=ge.read_shift(4,"i");if(U===3&&Me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Me);ge.l+=4,ae=ge.read_shift(4,"i"),ge.l+=4,ge.chk("00100000","Mini Stream Cutoff Size: "),me=ge.read_shift(4,"i"),z=ge.read_shift(4,"i"),ce=ge.read_shift(4,"i"),Y=ge.read_shift(4,"i");for(var Ue=-1,Ve=0;Ve<109&&(Ue=ge.read_shift(4,"i"),!(Ue<0));++Ve)he[Ve]=Ue;var ct=E(D,j);R(ce,Y,ct,j,he);var ve=b(ct,ae,he,j);ve[ae].name="!Directory",z>0&&me!==_e&&(ve[me].name="!MiniFAT"),ve[he[0]].name="!FAT",ve.fat_addrs=he,ve.ssz=j;var lr={},vt=[],Si=[],Xa=[];S(ae,ve,ct,vt,z,lr,Si,me),A(Si,Xa,vt),vt.shift();var It={FileIndex:Si,FullPaths:Xa};return M&&M.raw&&(It.raw={header:De,sectors:ct}),It}function v(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(Se,"Header Signature: "),D.l+=16;var M=D.read_shift(2,"u");return[D.read_shift(2,"u"),M]}function _(D,M){var U=9;switch(D.l+=2,U=D.read_shift(2)){case 9:if(M!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(M!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function E(D,M){for(var U=Math.ceil(D.length/M)-1,j=[],z=1;z<U;++z)j[z-1]=D.slice(z*M,(z+1)*M);return j[U-1]=D.slice(U*M),j}function A(D,M,U){for(var j=0,z=0,Y=0,ae=0,me=0,ce=U.length,he=[],ge=[];j<ce;++j)he[j]=ge[j]=j,M[j]=U[j];for(;me<ge.length;++me)j=ge[me],z=D[j].L,Y=D[j].R,ae=D[j].C,he[j]===j&&(z!==-1&&he[z]!==z&&(he[j]=he[z]),Y!==-1&&he[Y]!==Y&&(he[j]=he[Y])),ae!==-1&&(he[ae]=j),z!==-1&&j!=he[j]&&(he[z]=he[j],ge.lastIndexOf(z)<me&&ge.push(z)),Y!==-1&&j!=he[j]&&(he[Y]=he[j],ge.lastIndexOf(Y)<me&&ge.push(Y));for(j=1;j<ce;++j)he[j]===j&&(Y!==-1&&he[Y]!==Y?he[j]=he[Y]:z!==-1&&he[z]!==z&&(he[j]=he[z]));for(j=1;j<ce;++j)if(D[j].type!==0){if(me=j,me!=he[me])do me=he[me],M[j]=M[me]+"/"+M[j];while(me!==0&&he[me]!==-1&&me!=he[me]);he[j]=-1}for(M[0]+="/",j=1;j<ce;++j)D[j].type!==2&&(M[j]+="/")}function C(D,M,U){for(var j=D.start,z=D.size,Y=[],ae=j;U&&z>0&&ae>=0;)Y.push(M.slice(ae*J,ae*J+J)),z-=J,ae=ro(U,ae*4);return Y.length===0?zr(0):ua(Y).slice(0,D.size)}function R(D,M,U,j,z){var Y=_e;if(D===_e){if(M!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var ae=U[D],me=(j>>>2)-1;if(!ae)return;for(var ce=0;ce<me&&(Y=ro(ae,ce*4))!==_e;++ce)z.push(Y);R(ro(ae,j-4),M-1,U,j,z)}}function I(D,M,U,j,z){var Y=[],ae=[];z||(z=[]);var me=j-1,ce=0,he=0;for(ce=M;ce>=0;){z[ce]=!0,Y[Y.length]=ce,ae.push(D[ce]);var ge=U[Math.floor(ce*4/j)];if(he=ce*4&me,j<4+he)throw new Error("FAT boundary crossed: "+ce+" 4 "+j);if(!D[ge])break;ce=ro(D[ge],he)}return{nodes:Y,data:oy([ae])}}function b(D,M,U,j){var z=D.length,Y=[],ae=[],me=[],ce=[],he=j-1,ge=0,ke=0,De=0,Me=0;for(ge=0;ge<z;++ge)if(me=[],De=ge+M,De>=z&&(De-=z),!ae[De]){ce=[];var Ue=[];for(ke=De;ke>=0;){Ue[ke]=!0,ae[ke]=!0,me[me.length]=ke,ce.push(D[ke]);var Ve=U[Math.floor(ke*4/j)];if(Me=ke*4&he,j<4+Me)throw new Error("FAT boundary crossed: "+ke+" 4 "+j);if(!D[Ve]||(ke=ro(D[Ve],Me),Ue[ke]))break}Y[De]={nodes:me,data:oy([ce])}}return Y}function S(D,M,U,j,z,Y,ae,me){for(var ce=0,he=j.length?2:0,ge=M[D].data,ke=0,De=0,Me;ke<ge.length;ke+=128){var Ue=ge.slice(ke,ke+128);hn(Ue,64),De=Ue.read_shift(2),Me=ym(Ue,0,De-he),j.push(Me);var Ve={name:Me,type:Ue.read_shift(1),color:Ue.read_shift(1),L:Ue.read_shift(4,"i"),R:Ue.read_shift(4,"i"),C:Ue.read_shift(4,"i"),clsid:Ue.read_shift(16),state:Ue.read_shift(4,"i"),start:0,size:0},ct=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);ct!==0&&(Ve.ct=L(Ue,Ue.l-8));var ve=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);ve!==0&&(Ve.mt=L(Ue,Ue.l-8)),Ve.start=Ue.read_shift(4,"i"),Ve.size=Ue.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=_e,Ve.name=""),Ve.type===5?(ce=Ve.start,z>0&&ce!==_e&&(M[ce].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",M[Ve.start]===void 0&&(M[Ve.start]=I(U,Ve.start,M.fat_addrs,M.ssz)),M[Ve.start].name=Ve.name,Ve.content=M[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:ce!==_e&&Ve.start!==_e&&M[ce]&&(Ve.content=C(Ve,M[ce].data,(M[me]||{}).data))),Ve.content&&hn(Ve.content,0),Y[Me]=Ve,ae.push(Ve)}}function L(D,M){return new Date((hi(D,M+4)/1e7*Math.pow(2,32)+hi(D,M)/1e7-11644473600)*1e3)}function q(D,M){return p(),m(g.readFileSync(D),M)}function X(D,M){var U=M&&M.type;switch(U||Ft&&Buffer.isBuffer(D)&&(U="buffer"),U||"base64"){case"file":return q(D,M);case"base64":return m(Qi(yi(D)),M);case"binary":return m(Qi(D),M)}return m(D,M)}function F(D,M){var U=M||{},j=U.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=j+"/",D.FileIndex[0]={name:j,type:5}),U.CLSID&&(D.FileIndex[0].clsid=U.CLSID),Z(D)}function Z(D){var M="Sh33tJ5";if(!Pt.find(D,"/"+M)){var U=zr(4);U[0]=55,U[1]=U[3]=50,U[2]=54,D.FileIndex.push({name:M,type:2,content:U,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+M),W(D)}}function W(D,M){F(D);for(var U=!1,j=!1,z=D.FullPaths.length-1;z>=0;--z){var Y=D.FileIndex[z];switch(Y.type){case 0:j?U=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(Y.R*Y.L*Y.C)&&(U=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!M)){var ae=new Date(1987,1,19),me=0,ce=Object.create?Object.create(null):{},he=[];for(z=0;z<D.FullPaths.length;++z)ce[D.FullPaths[z]]=!0,D.FileIndex[z].type!==0&&he.push([D.FullPaths[z],D.FileIndex[z]]);for(z=0;z<he.length;++z){var ge=n(he[z][0]);j=ce[ge],j||(he.push([ge,{name:i(ge).replace("/",""),type:1,clsid:Fe,ct:ae,mt:ae,content:null}]),ce[ge]=!0)}for(he.sort(function(Me,Ue){return r(Me[0],Ue[0])}),D.FullPaths=[],D.FileIndex=[],z=0;z<he.length;++z)D.FullPaths[z]=he[z][0],D.FileIndex[z]=he[z][1];for(z=0;z<he.length;++z){var ke=D.FileIndex[z],De=D.FullPaths[z];if(ke.name=i(De).replace("/",""),ke.L=ke.R=ke.C=-(ke.color=1),ke.size=ke.content?ke.content.length:0,ke.start=0,ke.clsid=ke.clsid||Fe,z===0)ke.C=he.length>1?1:-1,ke.size=0,ke.type=5;else if(De.slice(-1)=="/"){for(me=z+1;me<he.length&&n(D.FullPaths[me])!=De;++me);for(ke.C=me>=he.length?-1:me,me=z+1;me<he.length&&n(D.FullPaths[me])!=n(De);++me);ke.R=me>=he.length?-1:me,ke.type=1}else n(D.FullPaths[z+1]||"")==n(De)&&(ke.R=z+1),ke.type=2}}}function le(D,M){var U=M||{};if(U.fileType=="mad")return se(D,U);switch(W(D),U.fileType){case"zip":return Vi(D,U)}var j=function(Me){for(var Ue=0,Ve=0,ct=0;ct<Me.FileIndex.length;++ct){var ve=Me.FileIndex[ct];if(ve.content){var lr=ve.content.length;lr>0&&(lr<4096?Ue+=lr+63>>6:Ve+=lr+511>>9)}}for(var vt=Me.FullPaths.length+3>>2,Si=Ue+7>>3,Xa=Ue+127>>7,It=Si+Ve+vt+Xa,yt=It+127>>7,_t=yt<=109?0:Math.ceil((yt-109)/127);It+yt+_t+127>>7>yt;)_t=++yt<=109?0:Math.ceil((yt-109)/127);var ci=[1,_t,yt,Xa,vt,Ve,Ue,0];return Me.FileIndex[0].size=Ue<<6,ci[7]=(Me.FileIndex[0].start=ci[0]+ci[1]+ci[2]+ci[3]+ci[4]+ci[5])+(ci[6]+7>>3),ci}(D),z=zr(j[7]<<9),Y=0,ae=0;{for(Y=0;Y<8;++Y)z.write_shift(1,te[Y]);for(Y=0;Y<8;++Y)z.write_shift(2,0);for(z.write_shift(2,62),z.write_shift(2,3),z.write_shift(2,65534),z.write_shift(2,9),z.write_shift(2,6),Y=0;Y<3;++Y)z.write_shift(2,0);for(z.write_shift(4,0),z.write_shift(4,j[2]),z.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),z.write_shift(4,0),z.write_shift(4,4096),z.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:_e),z.write_shift(4,j[3]),z.write_shift(-4,j[1]?j[0]-1:_e),z.write_shift(4,j[1]),Y=0;Y<109;++Y)z.write_shift(-4,Y<j[2]?j[1]+Y:-1)}if(j[1])for(ae=0;ae<j[1];++ae){for(;Y<236+ae*127;++Y)z.write_shift(-4,Y<j[2]?j[1]+Y:-1);z.write_shift(-4,ae===j[1]-1?_e:ae+1)}var me=function(Me){for(ae+=Me;Y<ae-1;++Y)z.write_shift(-4,Y+1);Me&&(++Y,z.write_shift(-4,_e))};for(ae=Y=0,ae+=j[1];Y<ae;++Y)z.write_shift(-4,Ce.DIFSECT);for(ae+=j[2];Y<ae;++Y)z.write_shift(-4,Ce.FATSECT);me(j[3]),me(j[4]);for(var ce=0,he=0,ge=D.FileIndex[0];ce<D.FileIndex.length;++ce)ge=D.FileIndex[ce],ge.content&&(he=ge.content.length,!(he<4096)&&(ge.start=ae,me(he+511>>9)));for(me(j[6]+7>>3);z.l&511;)z.write_shift(-4,Ce.ENDOFCHAIN);for(ae=Y=0,ce=0;ce<D.FileIndex.length;++ce)ge=D.FileIndex[ce],ge.content&&(he=ge.content.length,!(!he||he>=4096)&&(ge.start=ae,me(he+63>>6)));for(;z.l&511;)z.write_shift(-4,Ce.ENDOFCHAIN);for(Y=0;Y<j[4]<<2;++Y){var ke=D.FullPaths[Y];if(!ke||ke.length===0){for(ce=0;ce<17;++ce)z.write_shift(4,0);for(ce=0;ce<3;++ce)z.write_shift(4,-1);for(ce=0;ce<12;++ce)z.write_shift(4,0);continue}ge=D.FileIndex[Y],Y===0&&(ge.start=ge.size?ge.start-1:_e);var De=Y===0&&U.root||ge.name;if(he=2*(De.length+1),z.write_shift(64,De,"utf16le"),z.write_shift(2,he),z.write_shift(1,ge.type),z.write_shift(1,ge.color),z.write_shift(-4,ge.L),z.write_shift(-4,ge.R),z.write_shift(-4,ge.C),ge.clsid)z.write_shift(16,ge.clsid,"hex");else for(ce=0;ce<4;++ce)z.write_shift(4,0);z.write_shift(4,ge.state||0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,ge.start),z.write_shift(4,ge.size),z.write_shift(4,0)}for(Y=1;Y<D.FileIndex.length;++Y)if(ge=D.FileIndex[Y],ge.size>=4096)if(z.l=ge.start+1<<9,Ft&&Buffer.isBuffer(ge.content))ge.content.copy(z,z.l,0,ge.size),z.l+=ge.size+511&-512;else{for(ce=0;ce<ge.size;++ce)z.write_shift(1,ge.content[ce]);for(;ce&511;++ce)z.write_shift(1,0)}for(Y=1;Y<D.FileIndex.length;++Y)if(ge=D.FileIndex[Y],ge.size>0&&ge.size<4096)if(Ft&&Buffer.isBuffer(ge.content))ge.content.copy(z,z.l,0,ge.size),z.l+=ge.size+63&-64;else{for(ce=0;ce<ge.size;++ce)z.write_shift(1,ge.content[ce]);for(;ce&63;++ce)z.write_shift(1,0)}if(Ft)z.l=z.length;else for(;z.l<z.length;)z.write_shift(1,0);return z}function oe(D,M){var U=D.FullPaths.map(function(ce){return ce.toUpperCase()}),j=U.map(function(ce){var he=ce.split("/");return he[he.length-(ce.slice(-1)=="/"?2:1)]}),z=!1;M.charCodeAt(0)===47?(z=!0,M=U[0].slice(0,-1)+M):z=M.indexOf("/")!==-1;var Y=M.toUpperCase(),ae=z===!0?U.indexOf(Y):j.indexOf(Y);if(ae!==-1)return D.FileIndex[ae];var me=!Y.match(Pc);for(Y=Y.replace(Vn,""),me&&(Y=Y.replace(Pc,"!")),ae=0;ae<U.length;++ae)if((me?U[ae].replace(Pc,"!"):U[ae]).replace(Vn,"")==Y||(me?j[ae].replace(Pc,"!"):j[ae]).replace(Vn,"")==Y)return D.FileIndex[ae];return null}var J=64,_e=-2,Se="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],Fe="00000000000000000000000000000000",Ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:_e,FREESECT:-1,HEADER_SIGNATURE:Se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Fe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Te(D,M,U){p();var j=le(D,U);g.writeFileSync(M,j)}function ie(D){for(var M=new Array(D.length),U=0;U<D.length;++U)M[U]=String.fromCharCode(D[U]);return M.join("")}function be(D,M){var U=le(D,M);switch(M&&M.type||"buffer"){case"file":return p(),g.writeFileSync(M.filename,U),U;case"binary":return typeof U=="string"?U:ie(U);case"base64":return Vv(typeof U=="string"?U:ie(U));case"buffer":if(Ft)return Buffer.isBuffer(U)?U:Uo(U);case"array":return typeof U=="string"?Qi(U):U}return U}var ze;function V(D){try{var M=D.InflateRaw,U=new M;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)ze=D;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function fe(D,M){if(!ze)return os(D,M);var U=ze.InflateRaw,j=new U,z=j._processChunk(D.slice(D.l),j._finishFlushFlag);return D.l+=j.bytesRead,z}function B(D){return ze?ze.deflateRawSync(D):ut(D)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(D){var M=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(M>>16|M>>8|M)&255}for(var Ie=typeof Uint8Array<"u",Ne=Ie?new Uint8Array(256):[],tt=0;tt<256;++tt)Ne[tt]=Ee(tt);function K(D,M){var U=Ne[D&255];return M<=8?U>>>8-M:(U=U<<8|Ne[D>>8&255],M<=16?U>>>16-M:(U=U<<8|Ne[D>>16&255],U>>>24-M))}function qe(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=6?0:D[j+1]<<8))>>>U&3}function mt(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=5?0:D[j+1]<<8))>>>U&7}function ht(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=4?0:D[j+1]<<8))>>>U&15}function Ze(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=3?0:D[j+1]<<8))>>>U&31}function Oe(D,M){var U=M&7,j=M>>>3;return(D[j]|(U<=1?0:D[j+1]<<8))>>>U&127}function Je(D,M,U){var j=M&7,z=M>>>3,Y=(1<<U)-1,ae=D[z]>>>j;return U<8-j||(ae|=D[z+1]<<8-j,U<16-j)||(ae|=D[z+2]<<16-j,U<24-j)||(ae|=D[z+3]<<24-j),ae&Y}function it(D,M,U){var j=M&7,z=M>>>3;return j<=5?D[z]|=(U&7)<<j:(D[z]|=U<<j&255,D[z+1]=(U&7)>>8-j),M+3}function Dt(D,M,U){var j=M&7,z=M>>>3;return U=(U&1)<<j,D[z]|=U,M+1}function Ge(D,M,U){var j=M&7,z=M>>>3;return U<<=j,D[z]|=U&255,U>>>=8,D[z+1]=U,M+8}function Kn(D,M,U){var j=M&7,z=M>>>3;return U<<=j,D[z]|=U&255,U>>>=8,D[z+1]=U&255,D[z+2]=U>>>8,M+16}function Bt(D,M){var U=D.length,j=2*U>M?2*U:M+5,z=0;if(U>=M)return D;if(Ft){var Y=zv(j);if(D.copy)D.copy(Y);else for(;z<D.length;++z)Y[z]=D[z];return Y}else if(Ie){var ae=new Uint8Array(j);if(ae.set)ae.set(D);else for(;z<U;++z)ae[z]=D[z];return ae}return D.length=j,D}function $t(D){for(var M=new Array(D),U=0;U<D;++U)M[U]=0;return M}function Dr(D,M,U){var j=1,z=0,Y=0,ae=0,me=0,ce=D.length,he=Ie?new Uint16Array(32):$t(32);for(Y=0;Y<32;++Y)he[Y]=0;for(Y=ce;Y<U;++Y)D[Y]=0;ce=D.length;var ge=Ie?new Uint16Array(ce):$t(ce);for(Y=0;Y<ce;++Y)he[z=D[Y]]++,j<z&&(j=z),ge[Y]=0;for(he[0]=0,Y=1;Y<=j;++Y)he[Y+16]=me=me+he[Y-1]<<1;for(Y=0;Y<ce;++Y)me=D[Y],me!=0&&(ge[Y]=he[me+16]++);var ke=0;for(Y=0;Y<ce;++Y)if(ke=D[Y],ke!=0)for(me=K(ge[Y],j)>>j-ke,ae=(1<<j+4-ke)-1;ae>=0;--ae)M[me|ae<<ke]=ke&15|Y<<4;return j}var hr=Ie?new Uint16Array(512):$t(512),Fn=Ie?new Uint16Array(32):$t(32);if(!Ie){for(var er=0;er<512;++er)hr[er]=0;for(er=0;er<32;++er)Fn[er]=0}(function(){for(var D=[],M=0;M<32;M++)D.push(5);Dr(D,Fn,32);var U=[];for(M=0;M<=143;M++)U.push(8);for(;M<=255;M++)U.push(9);for(;M<=279;M++)U.push(7);for(;M<=287;M++)U.push(8);Dr(U,hr,288)})();var Gt=function(){for(var M=Ie?new Uint8Array(32768):[],U=0,j=0;U<Ae.length-1;++U)for(;j<Ae[U+1];++j)M[j]=U;for(;j<32768;++j)M[j]=29;var z=Ie?new Uint8Array(259):[];for(U=0,j=0;U<ne.length-1;++U)for(;j<ne[U+1];++j)z[j]=U;function Y(me,ce){for(var he=0;he<me.length;){var ge=Math.min(65535,me.length-he),ke=he+ge==me.length;for(ce.write_shift(1,+ke),ce.write_shift(2,ge),ce.write_shift(2,~ge&65535);ge-- >0;)ce[ce.l++]=me[he++]}return ce.l}function ae(me,ce){for(var he=0,ge=0,ke=Ie?new Uint16Array(32768):[];ge<me.length;){var De=Math.min(65535,me.length-ge);if(De<10){for(he=it(ce,he,+(ge+De==me.length)),he&7&&(he+=8-(he&7)),ce.l=he/8|0,ce.write_shift(2,De),ce.write_shift(2,~De&65535);De-- >0;)ce[ce.l++]=me[ge++];he=ce.l*8;continue}he=it(ce,he,+(ge+De==me.length)+2);for(var Me=0;De-- >0;){var Ue=me[ge];Me=(Me<<5^Ue)&32767;var Ve=-1,ct=0;if((Ve=ke[Me])&&(Ve|=ge&-32768,Ve>ge&&(Ve-=32768),Ve<ge))for(;me[Ve+ct]==me[ge+ct]&&ct<250;)++ct;if(ct>2){Ue=z[ct],Ue<=22?he=Ge(ce,he,Ne[Ue+1]>>1)-1:(Ge(ce,he,3),he+=5,Ge(ce,he,Ne[Ue-23]>>5),he+=3);var ve=Ue<8?0:Ue-4>>2;ve>0&&(Kn(ce,he,ct-ne[Ue]),he+=ve),Ue=M[ge-Ve],he=Ge(ce,he,Ne[Ue]>>3),he-=3;var lr=Ue<4?0:Ue-2>>1;lr>0&&(Kn(ce,he,ge-Ve-Ae[Ue]),he+=lr);for(var vt=0;vt<ct;++vt)ke[Me]=ge&32767,Me=(Me<<5^me[ge])&32767,++ge;De-=ct-1}else Ue<=143?Ue=Ue+48:he=Dt(ce,he,1),he=Ge(ce,he,Ne[Ue]),ke[Me]=ge&32767,++ge}he=Ge(ce,he,0)-1}return ce.l=(he+7)/8|0,ce.l}return function(ce,he){return ce.length<8?Y(ce,he):ae(ce,he)}}();function ut(D){var M=zr(50+Math.floor(D.length*1.1)),U=Gt(D,M);return M.slice(0,U)}var Yt=Ie?new Uint16Array(32768):$t(32768),ln=Ie?new Uint16Array(32768):$t(32768),gt=Ie?new Uint16Array(128):$t(128),Le=1,gr=1;function Vt(D,M){var U=Ze(D,M)+257;M+=5;var j=Ze(D,M)+1;M+=5;var z=ht(D,M)+4;M+=4;for(var Y=0,ae=Ie?new Uint8Array(19):$t(19),me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,he=Ie?new Uint8Array(8):$t(8),ge=Ie?new Uint8Array(8):$t(8),ke=ae.length,De=0;De<z;++De)ae[Q[De]]=Y=mt(D,M),ce<Y&&(ce=Y),he[Y]++,M+=3;var Me=0;for(he[0]=0,De=1;De<=ce;++De)ge[De]=Me=Me+he[De-1]<<1;for(De=0;De<ke;++De)(Me=ae[De])!=0&&(me[De]=ge[Me]++);var Ue=0;for(De=0;De<ke;++De)if(Ue=ae[De],Ue!=0){Me=Ne[me[De]]>>8-Ue;for(var Ve=(1<<7-Ue)-1;Ve>=0;--Ve)gt[Me|Ve<<Ue]=Ue&7|De<<3}var ct=[];for(ce=1;ct.length<U+j;)switch(Me=gt[Oe(D,M)],M+=Me&7,Me>>>=3){case 16:for(Y=3+qe(D,M),M+=2,Me=ct[ct.length-1];Y-- >0;)ct.push(Me);break;case 17:for(Y=3+mt(D,M),M+=3;Y-- >0;)ct.push(0);break;case 18:for(Y=11+Oe(D,M),M+=7;Y-- >0;)ct.push(0);break;default:ct.push(Me),ce<Me&&(ce=Me);break}var ve=ct.slice(0,U),lr=ct.slice(U);for(De=U;De<286;++De)ve[De]=0;for(De=j;De<30;++De)lr[De]=0;return Le=Dr(ve,Yt,286),gr=Dr(lr,ln,30),M}function Zt(D,M){if(D[0]==3&&!(D[1]&3))return[Ua(M),2];for(var U=0,j=0,z=zv(M||1<<18),Y=0,ae=z.length>>>0,me=0,ce=0;!(j&1);){if(j=mt(D,U),U+=3,j>>>1)j>>1==1?(me=9,ce=5):(U=Vt(D,U),me=Le,ce=gr);else{U&7&&(U+=8-(U&7));var he=D[U>>>3]|D[(U>>>3)+1]<<8;if(U+=32,he>0)for(!M&&ae<Y+he&&(z=Bt(z,Y+he),ae=z.length);he-- >0;)z[Y++]=D[U>>>3],U+=8;continue}for(;;){!M&&ae<Y+32767&&(z=Bt(z,Y+32767),ae=z.length);var ge=Je(D,U,me),ke=j>>>1==1?hr[ge]:Yt[ge];if(U+=ke&15,ke>>>=4,!(ke>>>8&255))z[Y++]=ke;else{if(ke==256)break;ke-=257;var De=ke<8?0:ke-4>>2;De>5&&(De=0);var Me=Y+ne[ke];De>0&&(Me+=Je(D,U,De),U+=De),ge=Je(D,U,ce),ke=j>>>1==1?Fn[ge]:ln[ge],U+=ke&15,ke>>>=4;var Ue=ke<4?0:ke-2>>1,Ve=Ae[ke];for(Ue>0&&(Ve+=Je(D,U,Ue),U+=Ue),!M&&ae<Me&&(z=Bt(z,Me+100),ae=z.length);Y<Me;)z[Y]=z[Y-Ve],++Y}}}return M?[z,U+7>>>3]:[z.slice(0,Y),U+7>>>3]}function os(D,M){var U=D.slice(D.l||0),j=Zt(U,M);return D.l+=j[1],j[0]}function ks(D,M){if(D)typeof console<"u"&&console.error(M);else throw new Error(M)}function Fr(D,M){var U=D;hn(U,0);var j=[],z=[],Y={FileIndex:j,FullPaths:z};F(Y,{root:M.root});for(var ae=U.length-4;(U[ae]!=80||U[ae+1]!=75||U[ae+2]!=5||U[ae+3]!=6)&&ae>=0;)--ae;U.l=ae+4,U.l+=4;var me=U.read_shift(2);U.l+=6;var ce=U.read_shift(4);for(U.l=ce,ae=0;ae<me;++ae){U.l+=20;var he=U.read_shift(4),ge=U.read_shift(4),ke=U.read_shift(2),De=U.read_shift(2),Me=U.read_shift(2);U.l+=8;var Ue=U.read_shift(4),Ve=u(U.slice(U.l+ke,U.l+ke+De));U.l+=ke+De+Me;var ct=U.l;U.l=Ue+4,bt(U,he,ge,Y,Ve),U.l=ct}return Y}function bt(D,M,U,j,z){D.l+=2;var Y=D.read_shift(2),ae=D.read_shift(2),me=l(D);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var ce=D.read_shift(4),he=D.read_shift(4),ge=D.read_shift(4),ke=D.read_shift(2),De=D.read_shift(2),Me="",Ue=0;Ue<ke;++Ue)Me+=String.fromCharCode(D[D.l++]);if(De){var Ve=u(D.slice(D.l,D.l+De));(Ve[21589]||{}).mt&&(me=Ve[21589].mt),((z||{})[21589]||{}).mt&&(me=z[21589].mt)}D.l+=De;var ct=D.slice(D.l,D.l+he);switch(ae){case 8:ct=fe(D,ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ae)}var ve=!1;Y&8&&(ce=D.read_shift(4),ce==134695760&&(ce=D.read_shift(4),ve=!0),he=D.read_shift(4),ge=D.read_shift(4)),he!=M&&ks(ve,"Bad compressed size: "+M+" != "+he),ge!=U&&ks(ve,"Bad uncompressed size: "+U+" != "+ge),Xe(j,Me,ct,{unsafe:!0,mt:me})}function Vi(D,M){var U=M||{},j=[],z=[],Y=zr(1),ae=U.compression?8:0,me=0,ce=0,he=0,ge=0,ke=0,De=D.FullPaths[0],Me=De,Ue=D.FileIndex[0],Ve=[],ct=0;for(ce=1;ce<D.FullPaths.length;++ce)if(Me=D.FullPaths[ce].slice(De.length),Ue=D.FileIndex[ce],!(!Ue.size||!Ue.content||Me=="Sh33tJ5")){var ve=ge,lr=zr(Me.length);for(he=0;he<Me.length;++he)lr.write_shift(1,Me.charCodeAt(he)&127);lr=lr.slice(0,lr.l),Ve[ke]=sP.buf(Ue.content,0);var vt=Ue.content;ae==8&&(vt=B(vt)),Y=zr(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,me),Y.write_shift(2,ae),Ue.mt?a(Y,Ue.mt):Y.write_shift(4,0),Y.write_shift(-4,Ve[ke]),Y.write_shift(4,vt.length),Y.write_shift(4,Ue.content.length),Y.write_shift(2,lr.length),Y.write_shift(2,0),ge+=Y.length,j.push(Y),ge+=lr.length,j.push(lr),ge+=vt.length,j.push(vt),Y=zr(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,me),Y.write_shift(2,ae),Y.write_shift(4,0),Y.write_shift(-4,Ve[ke]),Y.write_shift(4,vt.length),Y.write_shift(4,Ue.content.length),Y.write_shift(2,lr.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,ve),ct+=Y.l,z.push(Y),ct+=lr.length,z.push(lr),++ke}return Y=zr(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,ke),Y.write_shift(2,ke),Y.write_shift(4,ct),Y.write_shift(4,ge),Y.write_shift(2,0),ua([ua(j),ua(z),Y])}var ls={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Go(D,M){if(D.ctype)return D.ctype;var U=D.name||"",j=U.match(/\.([^\.]+)$/);return j&&ls[j[1]]||M&&(j=(U=M).match(/[\.\\]([^\.\\])+$/),j&&ls[j[1]])?ls[j[1]]:"application/octet-stream"}function Pn(D){for(var M=Vv(D),U=[],j=0;j<M.length;j+=76)U.push(M.slice(j,j+76));return U.join(`\r
`)+`\r
`}function Ga(D){var M=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(he){var ge=he.charCodeAt(0).toString(16).toUpperCase();return"="+(ge.length==1?"0"+ge:ge)});M=M.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),M.charAt(0)==`
`&&(M="=0D"+M.slice(1)),M=M.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],j=M.split(`\r
`),z=0;z<j.length;++z){var Y=j[z];if(Y.length==0){U.push("");continue}for(var ae=0;ae<Y.length;){var me=76,ce=Y.slice(ae,ae+me);ce.charAt(me-1)=="="?me--:ce.charAt(me-2)=="="?me-=2:ce.charAt(me-3)=="="&&(me-=3),ce=Y.slice(ae,ae+me),ae+=me,ae<Y.length&&(ce+="="),U.push(ce)}}return U.join(`\r
`)}function Pr(D){for(var M=[],U=0;U<D.length;++U){for(var j=D[U];U<=D.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+D[++U];M.push(j)}for(var z=0;z<M.length;++z)M[z]=M[z].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return Qi(M.join(`\r
`))}function cs(D,M,U){for(var j="",z="",Y="",ae,me=0;me<10;++me){var ce=M[me];if(!ce||ce.match(/^\s*$/))break;var he=ce.match(/^(.*?):\s*([^\s].*)$/);if(he)switch(he[1].toLowerCase()){case"content-location":j=he[2].trim();break;case"content-type":Y=he[2].trim();break;case"content-transfer-encoding":z=he[2].trim();break}}switch(++me,z.toLowerCase()){case"base64":ae=Qi(yi(M.slice(me).join("")));break;case"quoted-printable":ae=Pr(M.slice(me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+z)}var ge=Xe(D,j.slice(U.length),ae,{unsafe:!0});Y&&(ge.ctype=Y)}function Qs(D,M){if(ie(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=M&&M.root||"",j=(Ft&&Buffer.isBuffer(D)?D.toString("binary"):ie(D)).split(`\r
`),z=0,Y="";for(z=0;z<j.length;++z)if(Y=j[z],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),U||(U=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),Y.slice(0,U.length)!=U););var ae=(j[1]||"").match(/boundary="(.*?)"/);if(!ae)throw new Error("MAD cannot find boundary");var me="--"+(ae[1]||""),ce=[],he=[],ge={FileIndex:ce,FullPaths:he};F(ge);var ke,De=0;for(z=0;z<j.length;++z){var Me=j[z];Me!==me&&Me!==me+"--"||(De++&&cs(ge,j.slice(ke,z),U),ke=z)}return ge}function se(D,M){var U=M||{},j=U.boundary||"SheetJS";j="------="+j;for(var z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],Y=D.FullPaths[0],ae=Y,me=D.FileIndex[0],ce=1;ce<D.FullPaths.length;++ce)if(ae=D.FullPaths[ce].slice(Y.length),me=D.FileIndex[ce],!(!me.size||!me.content||ae=="Sh33tJ5")){ae=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var he=me.content,ge=Ft&&Buffer.isBuffer(he)?he.toString("binary"):ie(he),ke=0,De=Math.min(1024,ge.length),Me=0,Ue=0;Ue<=De;++Ue)(Me=ge.charCodeAt(Ue))>=32&&Me<128&&++ke;var Ve=ke>=De*4/5;z.push(j),z.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+ae),z.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),z.push("Content-Type: "+Go(me,ae)),z.push(""),z.push(Ve?Ga(ge):Pn(ge))}return z.push(j+`--\r
`),z.join(`\r
`)}function He(D){var M={};return F(M,D),M}function Xe(D,M,U,j){var z=j&&j.unsafe;z||F(D);var Y=!z&&Pt.find(D,M);if(!Y){var ae=D.FullPaths[0];M.slice(0,ae.length)==ae?ae=M:(ae.slice(-1)!="/"&&(ae+="/"),ae=(ae+M).replace("//","/")),Y={name:i(M),type:2},D.FileIndex.push(Y),D.FullPaths.push(ae),z||Pt.utils.cfb_gc(D)}return Y.content=U,Y.size=U?U.length:0,j&&(j.CLSID&&(Y.clsid=j.CLSID),j.mt&&(Y.mt=j.mt),j.ct&&(Y.ct=j.ct)),Y}function Qe(D,M){F(D);var U=Pt.find(D,M);if(U){for(var j=0;j<D.FileIndex.length;++j)if(D.FileIndex[j]==U)return D.FileIndex.splice(j,1),D.FullPaths.splice(j,1),!0}return!1}function Ye(D,M,U){F(D);var j=Pt.find(D,M);if(j){for(var z=0;z<D.FileIndex.length;++z)if(D.FileIndex[z]==j)return D.FileIndex[z].name=i(U),D.FullPaths[z]=U,!0}return!1}function dt(D){W(D,!0)}return t.find=oe,t.read=X,t.parse=m,t.write=be,t.writeFile=Te,t.utils={cfb_new:He,cfb_add:Xe,cfb_del:Qe,cfb_mov:Ye,cfb_gc:dt,ReadShift:t0,CheckField:Q4,prep_blob:hn,bconcat:ua,use_zlib:V,_deflateRaw:ut,_inflateRaw:os,consts:Ce},t}();function aP(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Cs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function xm(e){for(var t=[],r=Cs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Ad=new Date(1899,11,30,0,0,0);function Gn(e,t){var r=e.getTime(),n=Ad.getTime()+(e.getTimezoneOffset()-Ad.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var N4=new Date,oP=Ad.getTime()+(N4.getTimezoneOffset()-Ad.getTimezoneOffset())*6e4,Qv=N4.getTimezoneOffset();function gh(e){var t=new Date;return t.setTime(e*24*60*60*1e3+oP),t.getTimezoneOffset()!==Qv&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Qv)*6e4),t}function lP(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var Jv=new Date("2017-02-19T19:06:09.000Z"),O4=isNaN(Jv.getFullYear())?new Date("2/19/17"):Jv,cP=O4.getFullYear()==2017;function an(e,t){var r=new Date(e);if(cP)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(O4.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function bo(e,t){if(Ft&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Bc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Bc(w4(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Bc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Bc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function xn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=xn(e[r]));return t}function Ar(e,t){for(var r="";r.length<t;)r+=e;return r}function ss(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var uP=["january","february","march","april","may","june","july","august","september","october","november","december"];function Gl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&uP.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var fP=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),l=[a[0]],u=1;u<a.length;++u)l.push(i),l.push(a[u]);return l}}();function D4(e){return e?e.content&&e.type?bo(e.content,!0):e.data?Fc(e.data):e.asNodeBuffer&&Ft?Fc(e.asNodeBuffer().toString("binary")):e.asBinary?Fc(e.asBinary()):e._data&&e._data.getContent?Fc(bo(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function F4(e){if(!e)return null;if(e.data)return Wv(e.data);if(e.asNodeBuffer&&Ft)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Wv(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function dP(e){return e&&e.name.slice(-4)===".bin"?F4(e):D4(e)}function Ni(e,t){for(var r=e.FullPaths||Cs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var l=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||i==l)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function mm(e,t){var r=Ni(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Lr(e,t,r){if(!r)return dP(mm(e,t));if(!t)return null;try{return Lr(e,t)}catch{return null}}function gi(e,t,r){if(!r)return D4(mm(e,t));if(!t)return null;try{return gi(e,t)}catch{return null}}function hP(e,t,r){return F4(mm(e,t))}function ey(e){for(var t=e.FullPaths||Cs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function gP(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ft?n=Uo(r):n=D9(r),Pt.utils.cfb_add(e,t,n)}Pt.utils.cfb_add(e,t,r)}else e.file(t,r)}function P4(e,t){switch(t.type){case"base64":return Pt.read(e,{type:"base64"});case"binary":return Pt.read(e,{type:"binary"});case"buffer":case"array":return Pt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Mc(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var M4=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,pP=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ty=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,xP=/<[^>]*>/g,Dn=M4.match(ty)?ty:xP,mP=/<\w*:/,wP=/<(\/?)\w+:/;function lt(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var l=e.match(pP),u=0,g="",p=0,m="",v="",_=1;if(l)for(p=0;p!=l.length;++p){for(v=l[p],a=0;a!=v.length&&v.charCodeAt(a)!==61;++a);for(m=v.slice(0,a).trim();v.charCodeAt(a+1)==32;)++a;for(_=(i=v.charCodeAt(a+1))==34||i==39?1:0,g=v.slice(a+1+_,v.length-_),u=0;u!=m.length&&m.charCodeAt(u)!==58;++u);if(u===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=g,n[m.toLowerCase()]=g;else{var E=(u===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(u+1);if(n[E]&&m.slice(u-3,u)=="ext")continue;n[E]=g,n[E.toLowerCase()]=g}}return n}function Ss(e){return e.replace(wP,"<$1")}var B4={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vP=xm(B4),jt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(u,g){return B4[u]||String.fromCharCode(parseInt(g,u.indexOf("x")>-1?16:10))||u}).replace(t,function(u,g){return String.fromCharCode(parseInt(g,16))});var l=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,l)+r(i.slice(l+3))}}(),yP=/[&<>'"]/g,_P=/[\u0000-\u001f]/g;function wm(e){var t=e+"";return t.replace(yP,function(r){return vP[r]}).replace(/\n/g,"<br/>").replace(_P,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var ry=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function pr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function E1(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=i&63,t+=String.fromCharCode(l);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}l=e.charCodeAt(r++),u=((n&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(u&1023))}return t}function ny(e){var t=Ua(2*e.length),r,n,i=1,a=0,l=0,u;for(n=0;n<e.length;n+=i)i=1,(u=e.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(e.charCodeAt(n+1)&63),i=2):u<240?(r=(u&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(u&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[a++]=l&255,t[a++]=l>>>8,l=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function iy(e){return Uo(e,"binary").toString("utf8")}var qu="foo bar baz",ar=Ft&&(iy(qu)==E1(qu)&&iy||ny(qu)==E1(qu)&&ny)||E1,Bc=Ft?function(e){return Uo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},H0=function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),L4=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),EP=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),CP=/<\/?(?:vt:)?variant>/g,AP=/<(?:vt:)([^>]*)>([\s\S]*)</;function sy(e,t){var r=lt(e),n=e.match(EP(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var l=a.replace(CP,"").match(AP);l&&i.push({v:ar(l[2]),t:l[1]})}),i}var SP=/(^\s|\s$|\n)/;function TP(e){return Cs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function kP(e,t,r){return"<"+e+(r!=null?TP(r):"")+(t!=null?(t.match(SP)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function vm(e){if(Ft&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ar(jo(hm(e)));throw new Error("Bad input format: expected Buffer or string")}var V0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,bP={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},IP=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function RP(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function NP(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,l=n?-t:t;isFinite(l)?l==0?i=a=0:(i=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var u=0;u<=5;++u,a/=256)e[r+u]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var ay=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},oy=Ft?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Uo(t)})):ay(e)}:ay,ly=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Fs(e,i)));return n.join("").replace(Vn,"")},ym=Ft?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Vn,""):ly(e,t,r)}:ly,cy=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},U4=Ft?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):cy(e,t,r)}:cy,uy=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(el(e,i)));return n.join("")},xu=Ft?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):uy(t,r,n)}:uy,j4=function(e,t){var r=hi(e,t);return r>0?xu(e,t+4,t+4+r-1):""},W4=j4,H4=function(e,t){var r=hi(e,t);return r>0?xu(e,t+4,t+4+r-1):""},V4=H4,z4=function(e,t){var r=2*hi(e,t);return r>0?xu(e,t+4,t+4+r-1):""},G4=z4,X4=function(t,r){var n=hi(t,r);return n>0?ym(t,r+4,r+4+n):""},$4=X4,Y4=function(e,t){var r=hi(e,t);return r>0?xu(e,t+4,t+4+r):""},K4=Y4,q4=function(e,t){return RP(e,t)},Sd=q4,Z4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ft&&(W4=function(t,r){if(!Buffer.isBuffer(t))return j4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},V4=function(t,r){if(!Buffer.isBuffer(t))return H4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},G4=function(t,r){if(!Buffer.isBuffer(t))return z4(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},$4=function(t,r){if(!Buffer.isBuffer(t))return X4(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},K4=function(t,r){if(!Buffer.isBuffer(t))return Y4(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Sd=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):q4(t,r)},Z4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var el=function(e,t){return e[t]},Fs=function(e,t){return e[t+1]*256+e[t]},OP=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},hi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ro=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},DP=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function t0(e,t){var r="",n,i,a=[],l,u,g,p;switch(t){case"dbcs":if(p=this.l,Ft&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(g=0;g<e;++g)r+=String.fromCharCode(Fs(this,p)),p+=2;e*=2;break;case"utf8":r=xu(this,this.l,this.l+e);break;case"utf16le":e*=2,r=ym(this,this.l,this.l+e);break;case"wstr":return t0.call(this,e,"dbcs");case"lpstr-ansi":r=W4(this,this.l),e=4+hi(this,this.l);break;case"lpstr-cp":r=V4(this,this.l),e=4+hi(this,this.l);break;case"lpwstr":r=G4(this,this.l),e=4+2*hi(this,this.l);break;case"lpp4":e=4+hi(this,this.l),r=$4(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+hi(this,this.l),r=K4(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=el(this,this.l+e++))!==0;)a.push(Ku(l));r=a.join("");break;case"_wstr":for(e=0,r="";(l=Fs(this,this.l+e))!==0;)a.push(Ku(l)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",p=this.l,g=0;g<e;++g){if(this.lens&&this.lens.indexOf(p)!==-1)return l=el(this,p),this.l=p+1,u=t0.call(this,e-g,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Ku(Fs(this,p))),p+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",p=this.l,g=0;g!=e;++g){if(this.lens&&this.lens.indexOf(p)!==-1)return l=el(this,p),this.l=p+1,u=t0.call(this,e-g,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Ku(el(this,p))),p+=1}r=a.join("");break;default:switch(e){case 1:return n=el(this,this.l),this.l++,n;case 2:return n=(t==="i"?OP:Fs)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?ro:DP)(this,this.l),this.l+=4,n):(i=hi(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Sd(this,this.l):i=Sd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=U4(this,this.l,e);break}}return this.l+=e,r}var FP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},PP=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},MP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function BP(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)MP(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,FP(this,t,this.l);break;case 8:if(n=8,r==="f"){NP(this,t,this.l);break}case 16:break;case-4:n=4,PP(this,t,this.l);break}return this.l+=n,this}function Q4(e,t){var r=U4(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function hn(e,t){e.l=t,e.read_shift=t0,e.chk=Q4,e.write_shift=BP}function Nn(e,t){e.l+=t}function zr(e){var t=Ua(e);return hn(t,0),t}function Zs(e,t,r){if(e){var n,i,a;hn(e,e.l||0);for(var l=e.length,u=0,g=0;e.l<l;){u=e.read_shift(1),u&128&&(u=(u&127)+((e.read_shift(1)&127)<<7));var p=Nd[u]||Nd[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;g=e.l+a;var m=p.f&&p.f(e,a,r);if(e.l=g,t(m,p,u))return}}}function Jg(){var e=[],t=Ft?256:2048,r=function(p){var m=zr(p);return hn(m,0),m},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(p){return n&&p<n.length-n.l?n:(i(),n=r(Math.max(p+1,t)))},l=function(){return i(),ua(e)},u=function(p){i(),n=p,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:u,end:l,_bufs:e}}function r0(e,t,r){var n=xn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function fy(e,t,r){var n=xn(e);return n.s=r0(n.s,t.s,r),n.e=r0(n.e,t.s,r),n}function n0(e,t){if(e.cRel&&e.c<0)for(e=xn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=xn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ft(e);return!e.cRel&&e.cRel!=null&&(r=jP(r)),!e.rRel&&e.rRel!=null&&(r=LP(r)),r}function C1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Kr(e.s.c)+":"+(e.e.cRel?"":"$")+Kr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+mn(e.s.r)+":"+(e.e.rRel?"":"$")+mn(e.e.r):n0(e.s,t.biff)+":"+n0(e.e,t.biff)}function _m(e){return parseInt(UP(e),10)-1}function mn(e){return""+(e+1)}function LP(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function UP(e){return e.replace(/\$(\d+)$/,"$1")}function Em(e){for(var t=WP(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Kr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function jP(e){return e.replace(/^([A-Z])/,"$$$1")}function WP(e){return e.replace(/^\$([A-Z])/,"$1")}function HP(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jn(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function ft(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ac(e){var t=e.indexOf(":");return t==-1?{s:jn(e),e:jn(e)}:{s:jn(e.slice(0,t)),e:jn(e.slice(t+1))}}function Mt(e,t){return typeof t>"u"||typeof t=="number"?Mt(e.s,e.e):(typeof e!="string"&&(e=ft(e)),typeof t!="string"&&(t=ft(t)),e==t?e:e+":"+t)}function kr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function dy(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Wi(e.z,r?Gn(t):t)}catch{}try{return e.w=Wi((e.XF||{}).numFmtId||(r?14:0),r?Gn(t):t)}catch{return""+t}}function $s(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Vo[e.v]||e.v:t==null?dy(e,e.v):dy(e,t))}function za(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function J4(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),l=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?jn(n.origin):n.origin;l=g.r,u=g.c}a["!ref"]||(a["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var m=kr(a["!ref"]);p.s.c=m.s.c,p.s.r=m.s.r,p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(p.e.r=l=m.e.r+1)}for(var v=0;v!=t.length;++v)if(t[v]){if(!Array.isArray(t[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=t[v].length;++_)if(!(typeof t[v][_]>"u")){var E={v:t[v][_]},A=l+v,C=u+_;if(p.s.r>A&&(p.s.r=A),p.s.c>C&&(p.s.c=C),p.e.r<A&&(p.e.r=A),p.e.c<C&&(p.e.c=C),t[v][_]&&typeof t[v][_]=="object"&&!Array.isArray(t[v][_])&&!(t[v][_]instanceof Date))E=t[v][_];else if(Array.isArray(E.v)&&(E.f=t[v][_][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(n.nullError)E.t="e",E.v=0;else if(n.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=n.dateNF||xt[14],n.cellDates?(E.t="d",E.w=Wi(E.z,Gn(E.v))):(E.t="n",E.v=Gn(E.v),E.w=Wi(E.z,E.v))):E.t="s";if(i)a[A]||(a[A]=[]),a[A][C]&&a[A][C].z&&(E.z=a[A][C].z),a[A][C]=E;else{var R=ft({c:C,r:A});a[R]&&a[R].z&&(E.z=a[R].z),a[R]=E}}}return p.s.c<1e7&&(a["!ref"]=Mt(p)),a}function oc(e,t){return J4(null,e,t)}function VP(e){return e.read_shift(4,"i")}function bn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function zP(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Cm(e,t){var r=e.l,n=e.read_shift(1),i=bn(e),a=[],l={t:i,h:i};if(n&1){for(var u=e.read_shift(4),g=0;g!=u;++g)a.push(zP(e));l.r=a}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}var GP=Cm;function Hi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Wo(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var XP=bn;function Am(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var $P=bn,ep=Am;function Sm(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?Sd([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ro(t,0)>>2;return r?i/100:i}function eS(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Ho=eS;function Tn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function YP(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),l=e.read_shift(1),u=e.read_shift(1),g=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var p=po[i];p&&(t.rgb=G0(p));break;case 2:t.rgb=G0([l,u,g]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function KP(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function tS(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function qP(e){return tS(e,1)}function ZP(e){return tS(e,2)}var Tm=2,Jn=3,Zu=11,hy=12,Td=19,Qu=64,QP=65,JP=71,eM=4108,tM=4126,tn=80,rS=81,rM=[tn,rS],nM={1:{n:"CodePage",t:Tm},2:{n:"Category",t:tn},3:{n:"PresentationFormat",t:tn},4:{n:"ByteCount",t:Jn},5:{n:"LineCount",t:Jn},6:{n:"ParagraphCount",t:Jn},7:{n:"SlideCount",t:Jn},8:{n:"NoteCount",t:Jn},9:{n:"HiddenCount",t:Jn},10:{n:"MultimediaClipCount",t:Jn},11:{n:"ScaleCrop",t:Zu},12:{n:"HeadingPairs",t:eM},13:{n:"TitlesOfParts",t:tM},14:{n:"Manager",t:tn},15:{n:"Company",t:tn},16:{n:"LinksUpToDate",t:Zu},17:{n:"CharacterCount",t:Jn},19:{n:"SharedDoc",t:Zu},22:{n:"HyperlinksChanged",t:Zu},23:{n:"AppVersion",t:Jn,p:"version"},24:{n:"DigSig",t:QP},26:{n:"ContentType",t:tn},27:{n:"ContentStatus",t:tn},28:{n:"Language",t:tn},29:{n:"Version",t:tn},255:{},2147483648:{n:"Locale",t:Td},2147483651:{n:"Behavior",t:Td},1919054434:{}},iM={1:{n:"CodePage",t:Tm},2:{n:"Title",t:tn},3:{n:"Subject",t:tn},4:{n:"Author",t:tn},5:{n:"Keywords",t:tn},6:{n:"Comments",t:tn},7:{n:"Template",t:tn},8:{n:"LastAuthor",t:tn},9:{n:"RevNumber",t:tn},10:{n:"EditTime",t:Qu},11:{n:"LastPrinted",t:Qu},12:{n:"CreatedDate",t:Qu},13:{n:"ModifiedDate",t:Qu},14:{n:"PageCount",t:Jn},15:{n:"WordCount",t:Jn},16:{n:"CharCount",t:Jn},17:{n:"Thumbnail",t:JP},18:{n:"Application",t:tn},19:{n:"DocSecurity",t:Jn},255:{},2147483648:{n:"Locale",t:Td},2147483651:{n:"Behavior",t:Td},1919054434:{}},gy={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},sM=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function aM(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var oM=aM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),po=xn(oM),Vo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},nS={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},py={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function lM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cM(e){var t=lM();if(!e||!e.match)return t;var r={};if((e.match(Dn)||[]).forEach(function(n){var i=lt(n);switch(i[0].replace(mP,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[py[i.ContentType]]!==void 0&&t[py[i.ContentType]].push(i.PartName);break}}),t.xmlns!==bP.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var xl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tp(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function i0(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Dn)||[]).forEach(function(i){var a=lt(i);if(a[0]==="<Relationship"){var l={};l.Type=a.Type,l.Target=a.Target,l.Id=a.Id,a.TargetMode&&(l.TargetMode=a.TargetMode);var u=a.TargetMode==="External"?a.Target:Mc(a.Target,t);r[u]=l,n[a.Id]=l}}),r["!id"]=n,r}var uM="application/vnd.oasis.opendocument.spreadsheet";function fM(e,t){for(var r=vm(e),n,i;n=V0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=lt(n[0],!1),i.path=="/"&&i.type!==uM)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var s0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],dM=function(){for(var e=new Array(s0.length),t=0;t<s0.length;++t){var r=s0[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function iS(e){var t={};e=ar(e);for(var r=0;r<s0.length;++r){var n=s0[r],i=e.match(dM[r]);i!=null&&i.length>0&&(t[n[1]]=jt(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=an(t[n[1]]))}return t}var hM=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function sS(e,t,r,n){var i=[];if(typeof e=="string")i=sy(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(m){return{v:m}}));var l=typeof t=="string"?sy(t,n).map(function(m){return m.v}):t,u=0,g=0;if(l.length>0)for(var p=0;p!==i.length;p+=2){switch(g=+i[p+1].v,i[p].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=g,r.SheetNames=l.slice(u,u+g);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=g,r.DefinedNames=l.slice(u,u+g);break;case"Charts":case"Diagramme":r.Chartsheets=g,r.ChartNames=l.slice(u,u+g);break}u+=g}}function gM(e,t,r){var n={};return t||(t={}),e=ar(e),hM.forEach(function(i){var a=(e.match(H0(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=jt(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var l=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(n[i[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&sS(n.HeadingPairs,n.TitlesOfParts,t,r),t}var pM=/<[^>]+>[^<]*/g;function xM(e,t){var r={},n="",i=e.match(pM);if(i)for(var a=0;a!=i.length;++a){var l=i[a],u=lt(l);switch(u[0]){case"<?xml":break;case"<Properties":break;case"<property":n=jt(u.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var g=l.split(">"),p=g[0].slice(4),m=g[1];switch(p){case"lpstr":case"bstr":case"lpwstr":r[n]=jt(m);break;case"bool":r[n]=pr(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=an(m);break;case"cy":case"error":r[n]=jt(m);break;default:if(p.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,p,g)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}var mM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},A1;function wM(e,t,r){A1||(A1=xm(mM)),t=A1[t]||t,e[t]=r}function km(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function aS(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function oS(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function lS(e,t,r){return t===31?oS(e):aS(e,t,r)}function rp(e,t,r){return lS(e,t,r===!1?0:4)}function vM(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return lS(e,t,0)}function yM(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Vn,""),e.l-i&2&&(e.l+=2)}return r}function _M(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Vn,"");return r}function EM(e){var t=e.l,r=kd(e,rS);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=kd(e,Jn);return[r,n]}function CM(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(EM(e));return r}function xy(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),l=e.read_shift(4);n[a]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(Vn,"").replace(Pc,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function cS(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function AM(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function kd(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==hy&&n!==t&&rM.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===hy?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return aS(e,n,4).replace(Vn,"");case 31:return oS(e);case 64:return km(e);case 65:return cS(e);case 71:return AM(e);case 80:return rp(e,n,!a.raw).replace(Vn,"");case 81:return vM(e,n).replace(Vn,"");case 4108:return CM(e);case 4126:case 4127:return n==4127?yM(e):_M(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function my(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0,u=0,g=-1,p={};for(l=0;l!=i;++l){var m=e.read_shift(4),v=e.read_shift(4);a[l]=[m,v+r]}a.sort(function(b,S){return b[1]-S[1]});var _={};for(l=0;l!=i;++l){if(e.l!==a[l][1]){var E=!0;if(l>0&&t)switch(t[a[l-1][0]].t){case 2:e.l+2===a[l][1]&&(e.l+=2,E=!1);break;case 80:e.l<=a[l][1]&&(e.l=a[l][1],E=!1);break;case 4108:e.l<=a[l][1]&&(e.l=a[l][1],E=!1);break}if((!t||l==0)&&e.l<=a[l][1]&&(E=!1,e.l=a[l][1]),E)throw new Error("Read Error: Expected address "+a[l][1]+" at "+e.l+" :"+l)}if(t){var A=t[a[l][0]];if(_[A.n]=kd(e,A.t,{raw:!0}),A.p==="version"&&(_[A.n]=String(_[A.n]>>16)+"."+("0000"+String(_[A.n]&65535)).slice(-4)),A.n=="CodePage")switch(_[A.n]){case 0:_[A.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:es(u=_[A.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+_[A.n])}}else if(a[l][0]===1){if(u=_.CodePage=kd(e,Tm),es(u),g!==-1){var C=e.l;e.l=a[g][1],p=xy(e,u),e.l=C}}else if(a[l][0]===0){if(u===0){g=l,e.l=a[l+1][1];continue}p=xy(e,u)}else{var R=p[a[l][0]],I;switch(e[e.l]){case 65:e.l+=4,I=cS(e);break;case 30:e.l+=4,I=rp(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,I=rp(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,I=e.read_shift(4,"i");break;case 19:e.l+=4,I=e.read_shift(4);break;case 5:e.l+=4,I=e.read_shift(8,"f");break;case 11:e.l+=4,I=Ir(e,4);break;case 64:e.l+=4,I=an(km(e));break;default:throw new Error("unparsed value: "+e[e.l])}_[R]=I}}return e.l=r+n,_}function wy(e,t,r){var n=e.content;if(!n)return{};hn(n,0);var i,a,l,u,g=0;n.chk("feff","Byte Order: "),n.read_shift(2);var p=n.read_shift(4),m=n.read_shift(16);if(m!==Pt.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),u=n.read_shift(4),i===1&&u!==n.l)throw new Error("Length mismatch: "+u+" !== "+n.l);i===2&&(l=n.read_shift(16),g=n.read_shift(4));var v=my(n,t),_={SystemIdentifier:p};for(var E in v)_[E]=v[E];if(_.FMTID=a,i===1)return _;if(g-n.l==2&&(n.l+=2),n.l!==g)throw new Error("Length mismatch 2: "+n.l+" !== "+g);var A;try{A=my(n,null)}catch{}for(E in A)_[E]=A[E];return _.FMTID=[a,l],_}function sa(e,t){return e.read_shift(t),null}function SM(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Ir(e,t){return e.read_shift(t)===1}function Ur(e){return e.read_shift(2,"u")}function uS(e,t){return SM(e,t,Ur)}function TM(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function mu(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=n?e.read_shift(n,i):"";return l}function kM(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),l=0,u,g={};i&&(l=e.read_shift(2)),n&&(u=e.read_shift(4));var p=a==2?"dbcs-cont":"sbcs-cont",m=t===0?"":e.read_shift(t,p);return i&&(e.l+=4*l),n&&(e.l+=u),g.t=m,i||(g.raw="<t>"+g.t+"</t>",g.r=g.t),g}function Io(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function wu(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Io(e,n,r)}function zo(e,t,r){if(r.biff>5)return wu(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function bM(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function IM(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Vn,"");return n&&(e.l+=24),i}function RM(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(a>>1,"utf16le").replace(Vn,"");return r+l}function NM(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return IM(e);case"0303000000000000c000000000000046":return RM(e);default:throw new Error("Unsupported Moniker "+r)}}function Ju(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Vn,""):"";return r}function OM(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,l,u,g,p="",m,v;i&16&&(a=Ju(e,r-e.l)),i&128&&(l=Ju(e,r-e.l)),(i&257)===257&&(u=Ju(e,r-e.l)),(i&257)===1&&(g=NM(e,r-e.l)),i&8&&(p=Ju(e,r-e.l)),i&32&&(m=e.read_shift(16)),i&64&&(v=km(e)),e.l=r;var _=l||u||g||"";_&&p&&(_+="#"+p),_||(_="#"+p),i&2&&_.charAt(0)=="/"&&_.charAt(1)!="/"&&(_="file://"+_);var E={Target:_};return m&&(E.guid=m),v&&(E.time=v),a&&(E.Tooltip=a),E}function fS(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function dS(e,t){var r=fS(e);return r[3]=0,r}function Ts(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function DM(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function FM(e,t,r){return t===0?"":zo(e,t,r)}function PM(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[i,a,l]}function hS(e){var t=e.read_shift(2),r=Sm(e);return[t,r]}function MM(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=mu(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function ph(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function gS(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var BM=gS;function pS(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function LM(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function UM(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Cn(e){e.l+=2,e.l+=e.read_shift(2)}var jM={0:Cn,4:Cn,5:Cn,6:Cn,7:UM,8:Cn,9:Cn,10:Cn,11:Cn,12:Cn,13:LM,14:Cn,15:Cn,16:Cn,17:Cn,18:Cn,19:Cn,20:Cn,21:pS};function WM(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(jM[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function ef(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function HM(e,t){return t===0||e.read_shift(2),1200}function VM(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=zo(e,0,r);return e.read_shift(t+n-e.l),i}function zM(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function GM(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var l=mu(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:i,dt:a,name:l}}function XM(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0;l!=i&&e.l<r;++l)a.push(kM(e));return a.Count=n,a.Unique=i,a}function $M(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function YM(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function KM(e){var t=DM(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function qM(e){return e.read_shift(2),e.read_shift(4)}function vy(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function ZM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),g=e.read_shift(2),p=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:l,FirstTab:u,Selected:g,TabRatio:p}}function QM(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function JM(){}function eB(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=mu(e,0,r),n}function tB(e){var t=Ts(e);return t.isst=e.read_shift(4),t}function rB(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=Ts(e);r.biff==2&&e.l++;var a=wu(e,n-e.l,r);return i.val=a,i}function nB(e,t,r){var n=e.read_shift(2),i=zo(e,0,r);return[n,i]}var iB=zo;function yy(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),l=e.read_shift(i),u=e.read_shift(2),g=e.read_shift(2);return e.l=n,{s:{r:a,c:u},e:{r:l,c:g}}}function sB(e){var t=e.read_shift(2),r=e.read_shift(2),n=hS(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function aB(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(hS(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:l,rkrec:a}}function oB(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:l,ixfe:a}}function lB(e,t,r,n){var i={},a=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(4),g=e.read_shift(2);return i.patternType=sM[u>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=u&127,i.icvBottom=u>>7&127,i.icvDiag=u>>14&127,i.dgDiag=u>>21&15,i.icvFore=g&127,i.icvBack=g>>7&127,i.fsxButton=g>>14&1),i}function cB(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=lB(e,t,n.fStyle,r),n}function uB(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function _y(e,t,r){var n=Ts(e);(r.biff==2||t==9)&&++e.l;var i=TM(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function fB(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ts(e),i=Tn(e);return n.val=i,n}var Ey=FM;function dB(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var l=Io(e,a),u=[];n>e.l;)u.push(wu(e));return[a,i,l,u]}function Cy(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=MM(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var hB=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Ay(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(r&&r.biff==2?1:2),g=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),g=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var p=Io(e,l,r);i&32&&(p=hB[p.charCodeAt(0)]);var m=n-e.l;r&&r.biff==2&&--m;var v=n==e.l||u===0||!(m>0)?[]:Yj(e,m,r,u);return{chKey:a,Name:p,itab:g,rgce:v}}function xS(e,t,r){if(r.biff<8)return gB(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(PM(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function gB(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=mu(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function pB(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=Io(e,n,r),l=Io(e,i,r);return[a,l]}function xB(e,t,r){var n=gS(e);e.l++;var i=e.read_shift(1);return t-=8,[Kj(e,t,r),i,n]}function Sy(e,t,r){var n=BM(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Xj(e,t,r)]}function mB(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function wB(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=zo(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},u,l,a]}}function vB(e,t,r){return wB(e,t,r)}function yB(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(ph(e));return r}function _B(e,t,r){if(r&&r.biff<8)return CB(e,t,r);var n=pS(e),i=WM(e,t-22,n[1]);return{cmo:n,ft:i}}var EB={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function CB(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((EB[n]||Nn)(e,t,r)),{cmo:[i,n,a],ft:l}}function AB(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:l=bM(e,6,r);var u=e.read_shift(2);e.read_shift(2),Ur(e,2);var g=e.read_shift(2);e.l+=g;for(var p=1;p<e.lens.length-1;++p){if(e.l-n!=e.lens[p])throw new Error("TxO: bad continue record");var m=e[e.l],v=Io(e,e.lens[p+1]-e.lens[p]-1);if(i+=v,i.length>=(m?u:2*u))break}if(i.length!==u&&i.length!==u*2)throw new Error("cchText: "+u+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function SB(e,t){var r=ph(e);e.l+=16;var n=OM(e,t-24);return[r,n]}function TB(e,t){e.read_shift(2);var r=ph(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Vn,""),[r,n]}function kB(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=gy[r]||r,r=e.read_shift(2),t[1]=gy[r]||r,t}function bB(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(dS(e));return r}function IB(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(dS(e));return r}function RB(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function mS(e,t,r){if(!r.cellStyles)return Nn(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(n),g=e.read_shift(2);n==2&&(e.l+=2);var p={s:i,e:a,w:l,ixfe:u,flags:g};return(r.biff>=5||!r.biff)&&(p.level=g>>8&7),p}function NB(e,t){var r={};return t<32||(e.l+=16,r.header=Tn(e),r.footer=Tn(e),e.l+=2),r}function OB(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var DB=Ts,FB=uS,PB=wu;function MB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function BB(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ts(e);++e.l;var i=zo(e,t-7,r);return n.t="str",n.val=i,n}function LB(e){var t=Ts(e);++e.l;var r=Tn(e);return t.t="n",t.val=r,t}function UB(e){var t=Ts(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function jB(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function WB(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function HB(e,t,r){var n=e.l+t,i=Ts(e),a=e.read_shift(2),l=Io(e,a,r);return e.l=n,i.t="str",i.val=l,i}var VB=[2,3,48,49,131,139,140,245],Ty=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=xm({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,g){var p=[],m=Ua(1);switch(g.type){case"base64":m=Qi(yi(u));break;case"binary":m=Qi(u);break;case"buffer":case"array":m=u;break}hn(m,0);var v=m.read_shift(1),_=!!(v&136),E=!1,A=!1;switch(v){case 2:break;case 3:break;case 48:E=!0,_=!0;break;case 49:E=!0,_=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var C=0,R=521;v==2&&(C=m.read_shift(2)),m.l+=3,v!=2&&(C=m.read_shift(4)),C>1048576&&(C=1e6),v!=2&&(R=m.read_shift(2));var I=m.read_shift(2),b=g.codepage||1252;v!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(b=e[m[m.l]]),m.l+=1,m.l+=2),A&&(m.l+=36);for(var S=[],L={},q=Math.min(m.length,v==2?521:R-10-(E?264:0)),X=A?32:11;m.l<q&&m[m.l]!=13;)switch(L={},L.name=j0.utils.decode(b,m.slice(m.l,m.l+X)).replace(/[\u0000\r\n].*$/g,""),m.l+=X,L.type=String.fromCharCode(m.read_shift(1)),v!=2&&!A&&(L.offset=m.read_shift(4)),L.len=m.read_shift(1),v==2&&(L.offset=m.read_shift(2)),L.dec=m.read_shift(1),L.name.length&&S.push(L),v!=2&&(m.l+=A?13:14),L.type){case"B":(!E||L.len!=8)&&g.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":g.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(m[m.l]!==13&&(m.l=R-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=R;var F=0,Z=0;for(p[0]=[],Z=0;Z!=S.length;++Z)p[0][Z]=S[Z].name;for(;C-- >0;){if(m[m.l]===42){m.l+=I;continue}for(++m.l,p[++F]=[],Z=0,Z=0;Z!=S.length;++Z){var W=m.slice(m.l,m.l+S[Z].len);m.l+=S[Z].len,hn(W,0);var le=j0.utils.decode(b,W);switch(S[Z].type){case"C":le.trim().length&&(p[F][Z]=le.replace(/\s+$/,""));break;case"D":le.length===8?p[F][Z]=new Date(+le.slice(0,4),+le.slice(4,6)-1,+le.slice(6,8)):p[F][Z]=le;break;case"F":p[F][Z]=parseFloat(le.trim());break;case"+":case"I":p[F][Z]=A?W.read_shift(-4,"i")^2147483648:W.read_shift(4,"i");break;case"L":switch(le.trim().toUpperCase()){case"Y":case"T":p[F][Z]=!0;break;case"N":case"F":p[F][Z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+le+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));p[F][Z]="##MEMO##"+(A?parseInt(le.trim(),10):W.read_shift(4));break;case"N":le=le.replace(/\u0000/g,"").trim(),le&&le!="."&&(p[F][Z]=+le||0);break;case"@":p[F][Z]=new Date(W.read_shift(-8,"f")-621356832e5);break;case"T":p[F][Z]=new Date((W.read_shift(4)-2440588)*864e5+W.read_shift(4));break;case"Y":p[F][Z]=W.read_shift(4,"i")/1e4+W.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[F][Z]=-W.read_shift(-8,"f");break;case"B":if(E&&S[Z].len==8){p[F][Z]=W.read_shift(8,"f");break}case"G":case"P":W.l+=S[Z].len;break;case"0":if(S[Z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[Z].type)}}}if(v!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return g&&g.sheetRows&&(p=p.slice(0,g.sheetRows)),g.DBF=S,p}function n(u,g){var p=g||{};p.dateNF||(p.dateNF="yyyymmdd");var m=oc(r(u,p),p);return m["!cols"]=p.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete p.DBF,m}function i(u,g){try{return za(n(u,g),g)}catch(p){if(g&&g.WTF)throw p}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,g){var p=g||{};if(+p.codepage>=0&&es(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var m=Jg(),v=cp(u,{header:1,raw:!0,cellDates:!0}),_=v[0],E=v.slice(1),A=u["!cols"]||[],C=0,R=0,I=0,b=1;for(C=0;C<_.length;++C){if(((A[C]||{}).DBF||{}).name){_[C]=A[C].DBF.name,++I;continue}if(_[C]!=null){if(++I,typeof _[C]=="number"&&(_[C]=_[C].toString(10)),typeof _[C]!="string")throw new Error("DBF Invalid column name "+_[C]+" |"+typeof _[C]+"|");if(_.indexOf(_[C])!==C){for(R=0;R<1024;++R)if(_.indexOf(_[C]+"_"+R)==-1){_[C]+="_"+R;break}}}}var S=kr(u["!ref"]),L=[],q=[],X=[];for(C=0;C<=S.e.c-S.s.c;++C){var F="",Z="",W=0,le=[];for(R=0;R<E.length;++R)E[R][C]!=null&&le.push(E[R][C]);if(le.length==0||_[C]==null){L[C]="?";continue}for(R=0;R<le.length;++R){switch(typeof le[R]){case"number":Z="B";break;case"string":Z="C";break;case"boolean":Z="L";break;case"object":Z=le[R]instanceof Date?"D":"C";break;default:Z="C"}W=Math.max(W,String(le[R]).length),F=F&&F!=Z?"C":Z}W>250&&(W=250),Z=((A[C]||{}).DBF||{}).type,Z=="C"&&A[C].DBF.len>W&&(W=A[C].DBF.len),F=="B"&&Z=="N"&&(F="N",X[C]=A[C].DBF.dec,W=A[C].DBF.len),q[C]=F=="C"||Z=="N"?W:a[F]||0,b+=q[C],L[C]=F}var oe=m.next(32);for(oe.write_shift(4,318902576),oe.write_shift(4,E.length),oe.write_shift(2,296+32*I),oe.write_shift(2,b),C=0;C<4;++C)oe.write_shift(4,0);for(oe.write_shift(4,0|(+t[x4]||3)<<8),C=0,R=0;C<_.length;++C)if(_[C]!=null){var J=m.next(32),_e=(_[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);J.write_shift(1,_e,"sbcs"),J.write_shift(1,L[C]=="?"?"C":L[C],"sbcs"),J.write_shift(4,R),J.write_shift(1,q[C]||a[L[C]]||0),J.write_shift(1,X[C]||0),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(1,0),J.write_shift(4,0),J.write_shift(4,0),R+=q[C]||a[L[C]]||0}var Se=m.next(264);for(Se.write_shift(4,13),C=0;C<65;++C)Se.write_shift(4,0);for(C=0;C<E.length;++C){var te=m.next(b);for(te.write_shift(1,0),R=0;R<_.length;++R)if(_[R]!=null)switch(L[R]){case"L":te.write_shift(1,E[C][R]==null?63:E[C][R]?84:70);break;case"B":te.write_shift(8,E[C][R]||0,"f");break;case"N":var Fe="0";for(typeof E[C][R]=="number"&&(Fe=E[C][R].toFixed(X[R]||0)),I=0;I<q[R]-Fe.length;++I)te.write_shift(1,32);te.write_shift(1,Fe,"sbcs");break;case"D":E[C][R]?(te.write_shift(4,("0000"+E[C][R].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(E[C][R].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+E[C][R].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var Ce=String(E[C][R]!=null?E[C][R]:"").slice(0,q[R]);for(te.write_shift(1,Ce,"sbcs"),I=0;I<q[R]-Ce.length;++I)te.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}}(),zB=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Cs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(_,E){var A=e[E];return typeof A=="number"?Hv(A):A},n=function(_,E,A){var C=E.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return C==59?_:Hv(C)};e["|"]=254;function i(_,E){switch(E.type){case"base64":return a(yi(_),E);case"binary":return a(_,E);case"buffer":return a(Ft&&Buffer.isBuffer(_)?_.toString("binary"):jo(_),E);case"array":return a(bo(_),E)}throw new Error("Unrecognized type "+E.type)}function a(_,E){var A=_.split(/[\n\r]+/),C=-1,R=-1,I=0,b=0,S=[],L=[],q=null,X={},F=[],Z=[],W=[],le=0,oe;for(+E.codepage>=0&&es(+E.codepage);I!==A.length;++I){le=0;var J=A[I].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),_e=J.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),Se=_e[0],te;if(J.length>0)switch(Se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":_e[1].charAt(0)=="P"&&L.push(J.slice(3).replace(/;;/g,";"));break;case"C":var Fe=!1,Ce=!1,Te=!1,ie=!1,be=-1,ze=-1;for(b=1;b<_e.length;++b)switch(_e[b].charAt(0)){case"A":break;case"X":R=parseInt(_e[b].slice(1))-1,Ce=!0;break;case"Y":for(C=parseInt(_e[b].slice(1))-1,Ce||(R=0),oe=S.length;oe<=C;++oe)S[oe]=[];break;case"K":te=_e[b].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(ss(te))?isNaN(Gl(te).getDate())||(te=an(te)):(te=ss(te),q!==null&&sc(q)&&(te=gh(te))),Fe=!0;break;case"E":ie=!0;var V=bl(_e[b].slice(1),{r:C,c:R});S[C][R]=[S[C][R],V];break;case"S":Te=!0,S[C][R]=[S[C][R],"S5S"];break;case"G":break;case"R":be=parseInt(_e[b].slice(1))-1;break;case"C":ze=parseInt(_e[b].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+J)}if(Fe&&(S[C][R]&&S[C][R].length==2?S[C][R][0]=te:S[C][R]=te,q=null),Te){if(ie)throw new Error("SYLK shared formula cannot have own formula");var fe=be>-1&&S[be][ze];if(!fe||!fe[1])throw new Error("SYLK shared formula cannot find base");S[C][R][1]=kS(fe[1],{r:C-be,c:R-ze})}break;case"F":var B=0;for(b=1;b<_e.length;++b)switch(_e[b].charAt(0)){case"X":R=parseInt(_e[b].slice(1))-1,++B;break;case"Y":for(C=parseInt(_e[b].slice(1))-1,oe=S.length;oe<=C;++oe)S[oe]=[];break;case"M":le=parseInt(_e[b].slice(1))/20;break;case"F":break;case"G":break;case"P":q=L[parseInt(_e[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(W=_e[b].slice(1).split(" "),oe=parseInt(W[0],10);oe<=parseInt(W[1],10);++oe)le=parseInt(W[2],10),Z[oe-1]=le===0?{hidden:!0}:{wch:le},Xl(Z[oe-1]);break;case"C":R=parseInt(_e[b].slice(1))-1,Z[R]||(Z[R]={});break;case"R":C=parseInt(_e[b].slice(1))-1,F[C]||(F[C]={}),le>0?(F[C].hpt=le,F[C].hpx=X0(le)):le===0&&(F[C].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+J)}B<1&&(q=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+J)}}return F.length>0&&(X["!rows"]=F),Z.length>0&&(X["!cols"]=Z),E&&E.sheetRows&&(S=S.slice(0,E.sheetRows)),[S,X]}function l(_,E){var A=i(_,E),C=A[0],R=A[1],I=oc(C,E);return Cs(R).forEach(function(b){I[b]=R[b]}),I}function u(_,E){return za(l(_,E),E)}function g(_,E,A,C){var R="C;Y"+(A+1)+";X"+(C+1)+";K";switch(_.t){case"n":R+=_.v||0,_.f&&!_.F&&(R+=";E"+RU(_.f,{r:A,c:C}));break;case"b":R+=_.v?"TRUE":"FALSE";break;case"e":R+=_.w||_.v;break;case"d":R+='"'+(_.w||_.v)+'"';break;case"s":R+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return R}function p(_,E){E.forEach(function(A,C){var R="F;W"+(C+1)+" "+(C+1)+" ";A.hidden?R+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=Id(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=Rd(A.wpx)),typeof A.wch=="number"&&(R+=Math.round(A.wch))),R.charAt(R.length-1)!=" "&&_.push(R)})}function m(_,E){E.forEach(function(A,C){var R="F;";A.hidden?R+="M0;":A.hpt?R+="M"+20*A.hpt+";":A.hpx&&(R+="M"+20*AS(A.hpx)+";"),R.length>2&&_.push(R+"R"+(C+1))})}function v(_,E){var A=["ID;PWXL;N;E"],C=[],R=kr(_["!ref"]),I,b=Array.isArray(_),S=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),_["!cols"]&&p(A,_["!cols"]),_["!rows"]&&m(A,_["!rows"]),A.push("B;Y"+(R.e.r-R.s.r+1)+";X"+(R.e.c-R.s.c+1)+";D"+[R.s.c,R.s.r,R.e.c,R.e.r].join(" "));for(var L=R.s.r;L<=R.e.r;++L)for(var q=R.s.c;q<=R.e.c;++q){var X=ft({r:L,c:q});I=b?(_[L]||[])[q]:_[X],!(!I||I.v==null&&(!I.f||I.F))&&C.push(g(I,_,L,q))}return A.join(S)+S+C.join(S)+S+"E"+S}return{to_workbook:u,to_sheet:l,from_sheet:v}}(),GB=function(){function e(a,l){switch(l.type){case"base64":return t(yi(a),l);case"binary":return t(a,l);case"buffer":return t(Ft&&Buffer.isBuffer(a)?a.toString("binary"):jo(a),l);case"array":return t(bo(a),l)}throw new Error("Unrecognized type "+l.type)}function t(a,l){for(var u=a.split(`
`),g=-1,p=-1,m=0,v=[];m!==u.length;++m){if(u[m].trim()==="BOT"){v[++g]=[],p=0;continue}if(!(g<0)){var _=u[m].trim().split(","),E=_[0],A=_[1];++m;for(var C=u[m]||"";(C.match(/["]/g)||[]).length&1&&m<u.length-1;)C+=`
`+u[++m];switch(C=C.trim(),+E){case-1:if(C==="BOT"){v[++g]=[],p=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?v[g][p]=!0:C==="FALSE"?v[g][p]=!1:isNaN(ss(A))?isNaN(Gl(A).getDate())?v[g][p]=A:v[g][p]=an(A):v[g][p]=ss(A),++p;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),v[g][p++]=C!==""?C:null;break}if(C==="EOD")break}}return l&&l.sheetRows&&(v=v.slice(0,l.sheetRows)),v}function r(a,l){return oc(e(a,l),l)}function n(a,l){return za(r(a,l),l)}var i=function(){var a=function(g,p,m,v,_){g.push(p),g.push(m+","+v),g.push('"'+_.replace(/"/g,'""')+'"')},l=function(g,p,m,v){g.push(p+","+m),g.push(p==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(g){var p=[],m=kr(g["!ref"]),v,_=Array.isArray(g);a(p,"TABLE",0,1,"sheetjs"),a(p,"VECTORS",0,m.e.r-m.s.r+1,""),a(p,"TUPLES",0,m.e.c-m.s.c+1,""),a(p,"DATA",0,0,"");for(var E=m.s.r;E<=m.e.r;++E){l(p,-1,0,"BOT");for(var A=m.s.c;A<=m.e.c;++A){var C=ft({r:E,c:A});if(v=_?(g[E]||[])[A]:g[C],!v){l(p,1,0,"");continue}switch(v.t){case"n":var R=v.w;!R&&v.v!=null&&(R=v.v),R==null?v.f&&!v.F?l(p,1,0,"="+v.f):l(p,1,0,""):l(p,0,R,"V");break;case"b":l(p,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":l(p,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Wi(v.z||xt[14],Gn(an(v.v)))),l(p,0,v.w,"V");break;default:l(p,1,0,"")}}}l(p,-1,0,"EOD");var I=`\r
`,b=p.join(I);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),XB=function(){function e(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,_){for(var E=v.split(`
`),A=-1,C=-1,R=0,I=[];R!==E.length;++R){var b=E[R].trim().split(":");if(b[0]==="cell"){var S=jn(b[1]);if(I.length<=S.r)for(A=I.length;A<=S.r;++A)I[A]||(I[A]=[]);switch(A=S.r,C=S.c,b[2]){case"t":I[A][C]=e(b[3]);break;case"v":I[A][C]=+b[3];break;case"vtf":var L=b[b.length-1];case"vtc":switch(b[3]){case"nl":I[A][C]=!!+b[4];break;default:I[A][C]=+b[4];break}b[2]=="vtf"&&(I[A][C]=[I[A][C],L])}}}return _&&_.sheetRows&&(I=I.slice(0,_.sheetRows)),I}function n(v,_){return oc(r(v,_),_)}function i(v,_){return za(n(v,_),_)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),g="--SocialCalcSpreadsheetControlSave--";function p(v){if(!v||!v["!ref"])return"";for(var _=[],E=[],A,C="",R=ac(v["!ref"]),I=Array.isArray(v),b=R.s.r;b<=R.e.r;++b)for(var S=R.s.c;S<=R.e.c;++S)if(C=ft({r:b,c:S}),A=I?(v[b]||[])[S]:v[C],!(!A||A.v==null||A.t==="z")){switch(E=["cell",C,"t"],A.t){case"s":case"str":E.push(t(A.v));break;case"n":A.f?(E[2]="vtf",E[3]="n",E[4]=A.v,E[5]=t(A.f)):(E[2]="v",E[3]=A.v);break;case"b":E[2]="vt"+(A.f?"f":"c"),E[3]="nl",E[4]=A.v?"1":"0",E[5]=t(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var L=Gn(an(A.v));E[2]="vtc",E[3]="nd",E[4]=""+L,E[5]=A.w||Wi(A.z||xt[14],L);break;case"e":continue}_.push(E.join(":"))}return _.push("sheet:c:"+(R.e.c-R.s.c+1)+":r:"+(R.e.r-R.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function m(v){return[a,l,u,l,p(v),g].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:m}}(),z0=function(){function e(m,v,_,E,A){A.raw?v[_][E]=m:m===""||(m==="TRUE"?v[_][E]=!0:m==="FALSE"?v[_][E]=!1:isNaN(ss(m))?isNaN(Gl(m).getDate())?v[_][E]=m:v[_][E]=an(m):v[_][E]=ss(m))}function t(m,v){var _=v||{},E=[];if(!m||m.length===0)return E;for(var A=m.split(/[\r\n]/),C=A.length-1;C>=0&&A[C].length===0;)--C;for(var R=10,I=0,b=0;b<=C;++b)I=A[b].indexOf(" "),I==-1?I=A[b].length:I++,R=Math.max(R,I);for(b=0;b<=C;++b){E[b]=[];var S=0;for(e(A[b].slice(0,R).trim(),E,b,S,_),S=1;S<=(A[b].length-R)/10+1;++S)e(A[b].slice(R+(S-1)*10,R+S*10).trim(),E,b,S,_)}return _.sheetRows&&(E=E.slice(0,_.sheetRows)),E}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(m){for(var v={},_=!1,E=0,A=0;E<m.length;++E)(A=m.charCodeAt(E))==34?_=!_:!_&&A in r&&(v[A]=(v[A]||0)+1);A=[];for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&A.push([v[E],E]);if(!A.length){v=n;for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&A.push([v[E],E])}return A.sort(function(C,R){return C[0]-R[0]||n[C[1]]-n[R[1]]}),r[A.pop()[1]]||44}function a(m,v){var _=v||{},E="",A=_.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(E=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(E=m.charAt(4),m=m.slice(6)):E=i(m.slice(0,1024)):_&&_.FS?E=_.FS:E=i(m.slice(0,1024));var R=0,I=0,b=0,S=0,L=0,q=E.charCodeAt(0),X=!1,F=0,Z=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var W=_.dateNF!=null?nP(_.dateNF):null;function le(){var oe=m.slice(S,L),J={};if(oe.charAt(0)=='"'&&oe.charAt(oe.length-1)=='"'&&(oe=oe.slice(1,-1).replace(/""/g,'"')),oe.length===0)J.t="z";else if(_.raw)J.t="s",J.v=oe;else if(oe.trim().length===0)J.t="s",J.v=oe;else if(oe.charCodeAt(0)==61)oe.charCodeAt(1)==34&&oe.charCodeAt(oe.length-1)==34?(J.t="s",J.v=oe.slice(2,-1).replace(/""/g,'"')):OU(oe)?(J.t="n",J.f=oe.slice(1)):(J.t="s",J.v=oe);else if(oe=="TRUE")J.t="b",J.v=!0;else if(oe=="FALSE")J.t="b",J.v=!1;else if(!isNaN(b=ss(oe)))J.t="n",_.cellText!==!1&&(J.w=oe),J.v=b;else if(!isNaN(Gl(oe).getDate())||W&&oe.match(W)){J.z=_.dateNF||xt[14];var _e=0;W&&oe.match(W)&&(oe=iP(oe,_.dateNF,oe.match(W)||[]),_e=1),_.cellDates?(J.t="d",J.v=an(oe,_e)):(J.t="n",J.v=Gn(an(oe,_e))),_.cellText!==!1&&(J.w=Wi(J.z,J.v instanceof Date?Gn(J.v):J.v)),_.cellNF||delete J.z}else J.t="s",J.v=oe;if(J.t=="z"||(_.dense?(A[R]||(A[R]=[]),A[R][I]=J):A[ft({c:I,r:R})]=J),S=L+1,Z=m.charCodeAt(S),C.e.c<I&&(C.e.c=I),C.e.r<R&&(C.e.r=R),F==q)++I;else if(I=0,++R,_.sheetRows&&_.sheetRows<=R)return!0}e:for(;L<m.length;++L)switch(F=m.charCodeAt(L)){case 34:Z===34&&(X=!X);break;case q:case 10:case 13:if(!X&&le())break e;break}return L-S>0&&le(),A["!ref"]=Mt(C),A}function l(m,v){return!(v&&v.PRN)||v.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?a(m,v):oc(t(m,v),v)}function u(m,v){var _="",E=v.type=="string"?[0,0,0,0]:Pm(m,v);switch(v.type){case"base64":_=yi(m);break;case"binary":_=m;break;case"buffer":v.codepage==65001?_=m.toString("utf8"):v.codepage&&typeof j0<"u"||(_=Ft&&Buffer.isBuffer(m)?m.toString("binary"):jo(m));break;case"array":_=bo(m);break;case"string":_=m;break;default:throw new Error("Unrecognized type "+v.type)}return E[0]==239&&E[1]==187&&E[2]==191?_=ar(_.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?_=ar(_):v.type=="binary"&&typeof j0<"u",_.slice(0,19)=="socialcalc:version:"?XB.to_sheet(v.type=="string"?_:ar(_),v):l(_,v)}function g(m,v){return za(u(m,v),v)}function p(m){for(var v=[],_=kr(m["!ref"]),E,A=Array.isArray(m),C=_.s.r;C<=_.e.r;++C){for(var R=[],I=_.s.c;I<=_.e.c;++I){var b=ft({r:C,c:I});if(E=A?(m[C]||[])[I]:m[b],!E||E.v==null){R.push("          ");continue}for(var S=(E.w||($s(E),E.w)||"").slice(0,10);S.length<10;)S+=" ";R.push(S+(I===0?" ":""))}v.push(R.join(""))}return v.join(`
`)}return{to_workbook:g,to_sheet:u,from_sheet:p}}();function $B(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=zB.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return z0.to_workbook(e,t)}}var a0=function(){function e(V,fe,B){if(V){hn(V,V.l||0);for(var Q=B.Enum||be;V.l<V.length;){var ne=V.read_shift(2),Ae=Q[ne]||Q[65535],Ee=V.read_shift(2),Ie=V.l+Ee,Ne=Ae.f&&Ae.f(V,Ee,B);if(V.l=Ie,fe(Ne,Ae,ne))return}}}function t(V,fe){switch(fe.type){case"base64":return r(Qi(yi(V)),fe);case"binary":return r(Qi(V),fe);case"buffer":case"array":return r(V,fe)}throw"Unsupported type "+fe.type}function r(V,fe){if(!V)return V;var B=fe||{},Q=B.dense?[]:{},ne="Sheet1",Ae="",Ee=0,Ie={},Ne=[],tt=[],K={s:{r:0,c:0},e:{r:0,c:0}},qe=B.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)B.Enum=be,e(V,function(Oe,Je,it){switch(it){case 0:B.vers=Oe,Oe>=4096&&(B.qpro=!0);break;case 6:K=Oe;break;case 204:Oe&&(Ae=Oe);break;case 222:Ae=Oe;break;case 15:case 51:B.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:it==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=B.dateNF||xt[14],B.cellDates&&(Oe[1].t="d",Oe[1].v=gh(Oe[1].v))),B.qpro&&Oe[3]>Ee&&(Q["!ref"]=Mt(K),Ie[ne]=Q,Ne.push(ne),Q=B.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ee=Oe[3],ne=Ae||"Sheet"+(Ee+1),Ae="");var Dt=B.dense?(Q[Oe[0].r]||[])[Oe[0].c]:Q[ft(Oe[0])];if(Dt){Dt.t=Oe[1].t,Dt.v=Oe[1].v,Oe[1].z!=null&&(Dt.z=Oe[1].z),Oe[1].f!=null&&(Dt.f=Oe[1].f);break}B.dense?(Q[Oe[0].r]||(Q[Oe[0].r]=[]),Q[Oe[0].r][Oe[0].c]=Oe[1]):Q[ft(Oe[0])]=Oe[1];break}},B);else if(V[2]==26||V[2]==14)B.Enum=ze,V[2]==14&&(B.qpro=!0,V.l=0),e(V,function(Oe,Je,it){switch(it){case 204:ne=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>Ee&&(Q["!ref"]=Mt(K),Ie[ne]=Q,Ne.push(ne),Q=B.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ee=Oe[3],ne="Sheet"+(Ee+1)),qe>0&&Oe[0].r>=qe)break;B.dense?(Q[Oe[0].r]||(Q[Oe[0].r]=[]),Q[Oe[0].r][Oe[0].c]=Oe[1]):Q[ft(Oe[0])]=Oe[1],K.e.c<Oe[0].c&&(K.e.c=Oe[0].c),K.e.r<Oe[0].r&&(K.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(tt[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:tt[Oe[0]]=Oe[1],Oe[0]==Ee&&(ne=Oe[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(Q["!ref"]=Mt(K),Ie[Ae||ne]=Q,Ne.push(Ae||ne),!tt.length)return{SheetNames:Ne,Sheets:Ie};for(var mt={},ht=[],Ze=0;Ze<tt.length;++Ze)Ie[Ne[Ze]]?(ht.push(tt[Ze]||Ne[Ze]),mt[tt[Ze]]=Ie[tt[Ze]]||Ie[Ne[Ze]]):(ht.push(tt[Ze]),mt[tt[Ze]]={"!ref":"A1"});return{SheetNames:ht,Sheets:mt}}function n(V,fe){var B=fe||{};if(+B.codepage>=0&&es(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Jg(),ne=kr(V["!ref"]),Ae=Array.isArray(V),Ee=[];$i(Q,0,a(1030)),$i(Q,6,g(ne));for(var Ie=Math.min(ne.e.r,8191),Ne=ne.s.r;Ne<=Ie;++Ne)for(var tt=mn(Ne),K=ne.s.c;K<=ne.e.c;++K){Ne===ne.s.r&&(Ee[K]=Kr(K));var qe=Ee[K]+tt,mt=Ae?(V[Ne]||[])[K]:V[qe];if(!(!mt||mt.t=="z"))if(mt.t=="n")(mt.v|0)==mt.v&&mt.v>=-32768&&mt.v<=32767?$i(Q,13,E(Ne,K,mt.v)):$i(Q,14,C(Ne,K,mt.v));else{var ht=$s(mt);$i(Q,15,v(Ne,K,ht.slice(0,239)))}}return $i(Q,1),Q.end()}function i(V,fe){var B=fe||{};if(+B.codepage>=0&&es(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Jg();$i(Q,0,l(V));for(var ne=0,Ae=0;ne<V.SheetNames.length;++ne)(V.Sheets[V.SheetNames[ne]]||{})["!ref"]&&$i(Q,27,ie(V.SheetNames[ne],Ae++));var Ee=0;for(ne=0;ne<V.SheetNames.length;++ne){var Ie=V.Sheets[V.SheetNames[ne]];if(!(!Ie||!Ie["!ref"])){for(var Ne=kr(Ie["!ref"]),tt=Array.isArray(Ie),K=[],qe=Math.min(Ne.e.r,8191),mt=Ne.s.r;mt<=qe;++mt)for(var ht=mn(mt),Ze=Ne.s.c;Ze<=Ne.e.c;++Ze){mt===Ne.s.r&&(K[Ze]=Kr(Ze));var Oe=K[Ze]+ht,Je=tt?(Ie[mt]||[])[Ze]:Ie[Oe];if(!(!Je||Je.t=="z"))if(Je.t=="n")$i(Q,23,le(mt,Ze,Ee,Je.v));else{var it=$s(Je);$i(Q,22,F(mt,Ze,Ee,it.slice(0,239)))}}++Ee}}return $i(Q,1),Q.end()}function a(V){var fe=zr(2);return fe.write_shift(2,V),fe}function l(V){var fe=zr(26);fe.write_shift(2,4096),fe.write_shift(2,4),fe.write_shift(4,0);for(var B=0,Q=0,ne=0,Ae=0;Ae<V.SheetNames.length;++Ae){var Ee=V.SheetNames[Ae],Ie=V.Sheets[Ee];if(!(!Ie||!Ie["!ref"])){++ne;var Ne=ac(Ie["!ref"]);B<Ne.e.r&&(B=Ne.e.r),Q<Ne.e.c&&(Q=Ne.e.c)}}return B>8191&&(B=8191),fe.write_shift(2,B),fe.write_shift(1,ne),fe.write_shift(1,Q),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(1,1),fe.write_shift(1,2),fe.write_shift(4,0),fe.write_shift(4,0),fe}function u(V,fe,B){var Q={s:{c:0,r:0},e:{c:0,r:0}};return fe==8&&B.qpro?(Q.s.c=V.read_shift(1),V.l++,Q.s.r=V.read_shift(2),Q.e.c=V.read_shift(1),V.l++,Q.e.r=V.read_shift(2),Q):(Q.s.c=V.read_shift(2),Q.s.r=V.read_shift(2),fe==12&&B.qpro&&(V.l+=2),Q.e.c=V.read_shift(2),Q.e.r=V.read_shift(2),fe==12&&B.qpro&&(V.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function g(V){var fe=zr(8);return fe.write_shift(2,V.s.c),fe.write_shift(2,V.s.r),fe.write_shift(2,V.e.c),fe.write_shift(2,V.e.r),fe}function p(V,fe,B){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(Q[0].c=V.read_shift(1),Q[3]=V.read_shift(1),Q[0].r=V.read_shift(2),V.l+=2):(Q[2]=V.read_shift(1),Q[0].c=V.read_shift(2),Q[0].r=V.read_shift(2)),Q}function m(V,fe,B){var Q=V.l+fe,ne=p(V,fe,B);if(ne[1].t="s",B.vers==20768){V.l++;var Ae=V.read_shift(1);return ne[1].v=V.read_shift(Ae,"utf8"),ne}return B.qpro&&V.l++,ne[1].v=V.read_shift(Q-V.l,"cstr"),ne}function v(V,fe,B){var Q=zr(7+B.length);Q.write_shift(1,255),Q.write_shift(2,fe),Q.write_shift(2,V),Q.write_shift(1,39);for(var ne=0;ne<Q.length;++ne){var Ae=B.charCodeAt(ne);Q.write_shift(1,Ae>=128?95:Ae)}return Q.write_shift(1,0),Q}function _(V,fe,B){var Q=p(V,fe,B);return Q[1].v=V.read_shift(2,"i"),Q}function E(V,fe,B){var Q=zr(7);return Q.write_shift(1,255),Q.write_shift(2,fe),Q.write_shift(2,V),Q.write_shift(2,B,"i"),Q}function A(V,fe,B){var Q=p(V,fe,B);return Q[1].v=V.read_shift(8,"f"),Q}function C(V,fe,B){var Q=zr(13);return Q.write_shift(1,255),Q.write_shift(2,fe),Q.write_shift(2,V),Q.write_shift(8,B,"f"),Q}function R(V,fe,B){var Q=V.l+fe,ne=p(V,fe,B);if(ne[1].v=V.read_shift(8,"f"),B.qpro)V.l=Q;else{var Ae=V.read_shift(2);L(V.slice(V.l,V.l+Ae),ne),V.l+=Ae}return ne}function I(V,fe,B){var Q=fe&32768;return fe&=-32769,fe=(Q?V:0)+(fe>=8192?fe-16384:fe),(Q?"":"$")+(B?Kr(fe):mn(fe))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(V,fe){hn(V,0);for(var B=[],Q=0,ne="",Ae="",Ee="",Ie="";V.l<V.length;){var Ne=V[V.l++];switch(Ne){case 0:B.push(V.read_shift(8,"f"));break;case 1:Ae=I(fe[0].c,V.read_shift(2),!0),ne=I(fe[0].r,V.read_shift(2),!1),B.push(Ae+ne);break;case 2:{var tt=I(fe[0].c,V.read_shift(2),!0),K=I(fe[0].r,V.read_shift(2),!1);Ae=I(fe[0].c,V.read_shift(2),!0),ne=I(fe[0].r,V.read_shift(2),!1),B.push(tt+K+":"+Ae+ne)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(V.read_shift(2));break;case 6:{for(var qe="";Ne=V[V.l++];)qe+=String.fromCharCode(Ne);B.push('"'+qe.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:Ie=B.pop(),Ee=B.pop(),B.push(["AND","OR"][Ne-20]+"("+Ee+","+Ie+")");break;default:if(Ne<32&&S[Ne])Ie=B.pop(),Ee=B.pop(),B.push(Ee+S[Ne]+Ie);else if(b[Ne]){if(Q=b[Ne][1],Q==69&&(Q=V[V.l++]),Q>B.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+B.join("|")+"|");return}var mt=B.slice(-Q);B.length-=Q,B.push(b[Ne][0]+"("+mt.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}B.length==1?fe[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function q(V){var fe=[{c:0,r:0},{t:"n",v:0},0];return fe[0].r=V.read_shift(2),fe[3]=V[V.l++],fe[0].c=V[V.l++],fe}function X(V,fe){var B=q(V);return B[1].t="s",B[1].v=V.read_shift(fe-4,"cstr"),B}function F(V,fe,B,Q){var ne=zr(6+Q.length);ne.write_shift(2,V),ne.write_shift(1,B),ne.write_shift(1,fe),ne.write_shift(1,39);for(var Ae=0;Ae<Q.length;++Ae){var Ee=Q.charCodeAt(Ae);ne.write_shift(1,Ee>=128?95:Ee)}return ne.write_shift(1,0),ne}function Z(V,fe){var B=q(V);B[1].v=V.read_shift(2);var Q=B[1].v>>1;if(B[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return B[1].v=Q,B}function W(V,fe){var B=q(V),Q=V.read_shift(4),ne=V.read_shift(4),Ae=V.read_shift(2);if(Ae==65535)return Q===0&&ne===3221225472?(B[1].t="e",B[1].v=15):Q===0&&ne===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var Ee=Ae&32768;return Ae=(Ae&32767)-16446,B[1].v=(1-Ee*2)*(ne*Math.pow(2,Ae+32)+Q*Math.pow(2,Ae)),B}function le(V,fe,B,Q){var ne=zr(14);if(ne.write_shift(2,V),ne.write_shift(1,B),ne.write_shift(1,fe),Q==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var Ae=0,Ee=0,Ie=0,Ne=0;return Q<0&&(Ae=1,Q=-Q),Ee=Math.log2(Q)|0,Q/=Math.pow(2,Ee-31),Ne=Q>>>0,Ne&2147483648||(Q/=2,++Ee,Ne=Q>>>0),Q-=Ne,Ne|=2147483648,Ne>>>=0,Q*=Math.pow(2,32),Ie=Q>>>0,ne.write_shift(4,Ie),ne.write_shift(4,Ne),Ee+=16383+(Ae?32768:0),ne.write_shift(2,Ee),ne}function oe(V,fe){var B=W(V);return V.l+=fe-14,B}function J(V,fe){var B=q(V),Q=V.read_shift(4);return B[1].v=Q>>6,B}function _e(V,fe){var B=q(V),Q=V.read_shift(8,"f");return B[1].v=Q,B}function Se(V,fe){var B=_e(V);return V.l+=fe-10,B}function te(V,fe){return V[V.l+fe-1]==0?V.read_shift(fe,"cstr"):""}function Fe(V,fe){var B=V[V.l++];B>fe-1&&(B=fe-1);for(var Q="";Q.length<B;)Q+=String.fromCharCode(V[V.l++]);return Q}function Ce(V,fe,B){if(!(!B.qpro||fe<21)){var Q=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var ne=V.read_shift(fe-21,"cstr");return[Q,ne]}}function Te(V,fe){for(var B={},Q=V.l+fe;V.l<Q;){var ne=V.read_shift(2);if(ne==14e3){for(B[ne]=[0,""],B[ne][0]=V.read_shift(2);V[V.l];)B[ne][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return B}function ie(V,fe){var B=zr(5+V.length);B.write_shift(2,14e3),B.write_shift(2,fe);for(var Q=0;Q<V.length;++Q){var ne=V.charCodeAt(Q);B[B.l++]=ne>127?95:ne}return B[B.l++]=0,B}var be={0:{n:"BOF",f:Ur},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:R},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:Fe},65535:{n:""}},ze={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:X},23:{n:"NUMBER17",f:W},24:{n:"NUMBER18",f:Z},25:{n:"FORMULA19",f:oe},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Te},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:J},38:{n:"??"},39:{n:"NUMBER27",f:_e},40:{n:"FORMULA28",f:Se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function YB(e){var t={},r=e.match(Dn),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=lt(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=fm[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var KB=function(){var e=H0("t"),t=H0("rPr");function r(a){var l=a.match(e);if(!l)return{t:"s",v:""};var u={t:"s",v:jt(l[1])},g=a.match(t);return g&&(u.s=YB(g[1])),u}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(i).map(r).filter(function(u){return u.v})}}(),qB=function(){var t=/(\r\n|\n)/g;function r(i,a,l){var u=[];i.u&&u.push("text-decoration: underline;"),i.uval&&u.push("text-underline-style:"+i.uval+";"),i.sz&&u.push("font-size:"+i.sz+"pt;"),i.outline&&u.push("text-effect: outline;"),i.shadow&&u.push("text-shadow: auto;"),a.push('<span style="'+u.join("")+'">'),i.b&&(a.push("<b>"),l.push("</b>")),i.i&&(a.push("<i>"),l.push("</i>")),i.strike&&(a.push("<s>"),l.push("</s>"));var g=i.valign||"";return g=="superscript"||g=="super"?g="sup":g=="subscript"&&(g="sub"),g!=""&&(a.push("<"+g+">"),l.push("</"+g+">")),l.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),ZB=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,QB=/<(?:\w+:)?r>/,JB=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function bm(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=jt(ar(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ar(e),r&&(n.h=wm(n.t))):e.match(QB)&&(n.r=ar(e),n.t=jt(ar((e.replace(JB,"").match(ZB)||[]).join("").replace(Dn,""))),r&&(n.h=qB(KB(n.r)))),n):{t:""}}var eL=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,tL=/<(?:\w+:)?(?:si|sstItem)>/g,rL=/<\/(?:\w+:)?(?:si|sstItem)>/;function nL(e,t){var r=[],n="";if(!e)return r;var i=e.match(eL);if(i){n=i[2].replace(tL,"").split(rL);for(var a=0;a!=n.length;++a){var l=bm(n[a].trim(),t);l!=null&&(r[r.length]=l)}i=lt(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function iL(e){return[e.read_shift(4),e.read_shift(4)]}function sL(e,t){var r=[],n=!1;return Zs(e,function(a,l,u){switch(u){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function wS(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Us(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function aL(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function oL(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function lL(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(oL(e));return t}function cL(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function uL(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function fL(e){var t=uL(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function vS(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function yS(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function dL(e){var t=Us(e);switch(t.Minor){case 2:return[t.Minor,hL(e)];case 3:return[t.Minor,gL()];case 4:return[t.Minor,pL(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function hL(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=vS(e,r),i=yS(e,e.length-e.l);return{t:"Std",h:n,v:i}}function gL(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pL(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Dn,function(a){var l=lt(a);switch(Ss(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(u){n[u]=l[u]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function xL(e,t){var r={},n=r.EncryptionVersionInfo=Us(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=vS(e,i),t-=i,r.EncryptionVerifier=yS(e,t),r}function mL(e){var t={},r=t.EncryptionVersionInfo=Us(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function wL(e){var t=0,r,n=wS(e),i=n.length+1,a,l,u,g,p;for(r=Ua(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)l=r[a],u=t&16384?1:0,g=t<<1&32767,p=u|g,t=p^l;return t^52811}var _S=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},i=function(l,u){return n(l^u)},a=function(l){for(var u=t[l.length-1],g=104,p=l.length-1;p>=0;--p)for(var m=l[p],v=0;v!=7;++v)m&64&&(u^=r[g]),m*=2,--g;return u};return function(l){for(var u=wS(l),g=a(u),p=u.length,m=Ua(16),v=0;v!=16;++v)m[v]=0;var _,E,A;for((p&1)===1&&(_=g>>8,m[p]=i(e[0],_),--p,_=g&255,E=u[u.length-1],m[p]=i(E,_));p>0;)--p,_=g>>8,m[p]=i(u[p],_),--p,_=g&255,m[p]=i(u[p],_);for(p=15,A=15-u.length;A>0;)_=g>>8,m[p]=i(e[A],_),--p,--A,_=g&255,m[p]=i(u[p],_),--p,--A;return m}}(),vL=function(e,t,r,n,i){i||(i=t),n||(n=_S(e));var a,l;for(a=0;a!=t.length;++a)l=t[a],l^=n[r],l=(l>>5|l<<3)&255,i[a]=l,++r;return[i,r,n]},yL=function(e){var t=0,r=_S(e);return function(n){var i=vL("",n,t,r);return t=i[1],i[0]}};function _L(e,t,r,n){var i={key:Ur(e),verificationBytes:Ur(e)};return r.password&&(i.verifier=wL(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=yL(r.password)),i}function EL(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=mL(e):n.Data=xL(e,t),n}function CL(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?EL(e,t-2,n):_L(e,r.biff>=8?t:t-2,r,n),n}var AL=function(){function e(i,a){switch(a.type){case"base64":return t(yi(i),a);case"binary":return t(i,a);case"buffer":return t(Ft&&Buffer.isBuffer(i)?i.toString("binary"):jo(i),a);case"array":return t(bo(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var l=a||{},u=l.dense?[]:{},g=i.match(/\\trowd.*?\\row\b/g);if(!g.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:g.length-1}};return g.forEach(function(m,v){Array.isArray(u)&&(u[v]=[]);for(var _=/\\\w+\b/g,E=0,A,C=-1;A=_.exec(m);){switch(A[0]){case"\\cell":var R=m.slice(E,_.lastIndex-A[0].length);if(R[0]==" "&&(R=R.slice(1)),++C,R.length){var I={v:R,t:"s"};Array.isArray(u)?u[v][C]=I:u[ft({r:v,c:C})]=I}break}E=_.lastIndex}C>p.e.c&&(p.e.c=C)}),u["!ref"]=Mt(p),u}function r(i,a){return za(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],l=kr(i["!ref"]),u,g=Array.isArray(i),p=l.s.r;p<=l.e.r;++p){a.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)a.push("\\cellx"+(m+1));for(a.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var v=ft({r:p,c:m});u=g?(i[p]||[])[m]:i[v],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||($s(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function SL(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function G0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function TL(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),l=i-a;if(l===0)return[0,0,t];var u=0,g=0,p=i+a;switch(g=l/(p>1?2-p:p),i){case t:u=((r-n)/l+6)%6;break;case r:u=(n-t)/l+2;break;case n:u=(t-r)/l+4;break}return[u/6,g,p/2]}function kL(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,l=[a,a,a],u=6*t,g;if(r!==0)switch(u|0){case 0:case 6:g=i*u,l[0]+=i,l[1]+=g;break;case 1:g=i*(2-u),l[0]+=g,l[1]+=i;break;case 2:g=i*(u-2),l[1]+=i,l[2]+=g;break;case 3:g=i*(4-u),l[1]+=g,l[2]+=i;break;case 4:g=i*(u-4),l[2]+=i,l[0]+=g;break;case 5:g=i*(6-u),l[2]+=g,l[0]+=i;break}for(var p=0;p!=3;++p)l[p]=Math.round(l[p]*255);return l}function bd(e,t){if(t===0)return e;var r=TL(SL(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),G0(kL(r))}var ES=6,bL=15,IL=1,Ln=ES;function Id(e){return Math.floor((e+Math.round(128/Ln)/256)*Ln)}function Rd(e){return Math.floor((e-5)/Ln*100+.5)/100}function np(e){return Math.round((e*Ln+5)/Ln*256)/256}function S1(e){return np(Rd(Id(e)))}function Im(e){var t=Math.abs(e-S1(e)),r=Ln;if(t>.005)for(Ln=IL;Ln<bL;++Ln)Math.abs(e-S1(e))<=t&&(t=Math.abs(e-S1(e)),r=Ln);Ln=r}function Xl(e){e.width?(e.wpx=Id(e.width),e.wch=Rd(e.wpx),e.MDW=Ln):e.wpx?(e.wch=Rd(e.wpx),e.width=np(e.wch),e.MDW=Ln):typeof e.wch=="number"&&(e.width=np(e.wch),e.wpx=Id(e.width),e.MDW=Ln),e.customWidth&&delete e.customWidth}var RL=96,CS=RL;function AS(e){return e*96/CS}function X0(e){return e*CS/96}var NL={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function OL(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Dn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},u.diagonalUp&&(i.diagonalUp=pr(u.diagonalUp)),u.diagonalDown&&(i.diagonalDown=pr(u.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in borders")}})}function DL(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Dn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":u.patternType&&(i.patternType=u.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),u.indexed&&(i.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(i.bgColor.theme=parseInt(u.theme,10)),u.tint&&(i.bgColor.tint=parseFloat(u.tint)),u.rgb&&(i.bgColor.rgb=u.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),u.theme&&(i.fgColor.theme=parseInt(u.theme,10)),u.tint&&(i.fgColor.tint=parseFloat(u.tint)),u.rgb!=null&&(i.fgColor.rgb=u.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fills")}})}function FL(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Dn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":u.val&&(i.name=ar(u.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=u.val?pr(u.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=u.val?pr(u.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(u.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=u.val?pr(u.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=u.val?pr(u.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=u.val?pr(u.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=u.val?pr(u.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=u.val?pr(u.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":u.val&&(i.sz=+u.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":u.val&&(i.vertAlign=u.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":u.val&&(i.family=parseInt(u.val,10));break;case"<family/>":case"</family>":break;case"<scheme":u.val&&(i.scheme=u.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(u.val=="1")break;u.codepage=fm[parseInt(u.val,10)];break;case"<color":if(i.color||(i.color={}),u.auto&&(i.color.auto=pr(u.auto)),u.rgb)i.color.rgb=u.rgb.slice(-6);else if(u.indexed){i.color.index=parseInt(u.indexed,10);var g=po[i.color.index];i.color.index==81&&(g=po[1]),g||(g=po[1]),i.color.rgb=g[0].toString(16)+g[1].toString(16)+g[2].toString(16)}else u.theme&&(i.color.theme=parseInt(u.theme,10),u.tint&&(i.color.tint=parseFloat(u.tint)),u.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=bd(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fonts")}})}function PL(e,t,r){t.NumberFmt=[];for(var n=Cs(xt),i=0;i<n.length;++i)t.NumberFmt[n[i]]=xt[n[i]];var a=e[0].match(Dn);if(a)for(i=0;i<a.length;++i){var l=lt(a[i]);switch(Ss(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var u=jt(ar(l.formatCode)),g=parseInt(l.numFmtId,10);if(t.NumberFmt[g]=u,g>0){if(g>392){for(g=392;g>60&&t.NumberFmt[g]!=null;--g);t.NumberFmt[g]=u}go(u,g)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var tf=["numFmtId","fillId","fontId","borderId","xfId"],rf=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function ML(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Dn)||[]).forEach(function(a){var l=lt(a),u=0;switch(Ss(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],u=0;u<tf.length;++u)n[tf[u]]&&(n[tf[u]]=parseInt(n[tf[u]],10));for(u=0;u<rf.length;++u)n[rf[u]]&&(n[rf[u]]=pr(n[rf[u]]));if(t.NumberFmt&&n.numFmtId>392){for(u=392;u>60;--u)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[u]){n.numFmtId=u;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var g={};l.vertical&&(g.vertical=l.vertical),l.horizontal&&(g.horizontal=l.horizontal),l.textRotation!=null&&(g.textRotation=l.textRotation),l.indent&&(g.indent=l.indent),l.wrapText&&(g.wrapText=pr(l.wrapText)),n.alignment=g;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var BL=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,g,p){var m={};if(!u)return m;u=u.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var v;return(v=u.match(t))&&PL(v,m,p),(v=u.match(i))&&FL(v,m,g,p),(v=u.match(n))&&DL(v,m,g,p),(v=u.match(a))&&OL(v,m,g,p),(v=u.match(r))&&ML(v,m,p),m}}();function LL(e,t){var r=e.read_shift(2),n=bn(e);return[r,n]}function UL(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=KP(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var u=e.read_shift(1);u>0&&(n.family=u);var g=e.read_shift(1);switch(g>0&&(n.charset=g),e.l++,n.color=YP(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=bn(e),n}var jL=Nn;function WL(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var HL=Nn;function VL(e,t,r){var n={};n.NumberFmt=[];for(var i in xt)n.NumberFmt[i]=xt[i];n.CellXf=[],n.Fonts=[];var a=[],l=!1;return Zs(e,function(g,p,m){switch(m){case 44:n.NumberFmt[g[0]]=g[1],go(g[1],g[0]);break;case 43:n.Fonts.push(g),g.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(g.color.rgb=bd(t.themeElements.clrScheme[g.color.theme].rgb,g.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(g);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:a.push(m),l=!0;break;case 38:a.pop(),l=!1;break;default:if(p.T>0)a.push(m);else if(p.T<0)a.pop();else if(!l||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}var zL=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function GL(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Dn)||[]).forEach(function(i){var a=lt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[zL.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function XL(){}function $L(){}var YL=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,KL=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,qL=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ZL(e,t,r){t.themeElements={};var n;[["clrScheme",YL,GL],["fontScheme",KL,XL],["fmtScheme",qL,$L]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var QL=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function SS(e,t){(!e||e.length===0)&&(e=JL());var r,n={};if(!(r=e.match(QL)))throw new Error("themeElements not found in theme");return ZL(r[0],n,t),n.raw=e,n}function JL(e,t){var r=[M4];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function eU(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var l;try{l=P4(a,{type:"array"})}catch{return}var u=gi(l,"theme/theme/theme1.xml",!0);if(u)return SS(u,r)}}function tU(e){return e.read_shift(4)}function rU(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=nU(e,4);break;case 2:t.xclrValue=fS(e);break;case 3:t.xclrValue=tU(e);break;case 4:e.l+=4;break}return e.l+=8,t}function nU(e,t){return Nn(e,t)}function iU(e,t){return Nn(e,t)}function sU(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=rU(e);break;case 6:n[1]=iU(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function aU(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(sU(e,r-e.l));return{ixfe:n,ext:a}}function oU(e,t){t.forEach(function(r){switch(r[0]){}})}function lU(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:bn(e)}}function cU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function uU(e){return e.l+=4,e.read_shift(4)!=0}function fU(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],l=!1,u=2;return Zs(e,function(g,p,m){switch(m){case 335:n.Types.push({name:g.name});break;case 51:g.forEach(function(v){u==1?n.Cell.push({type:n.Types[v[0]-1].name,index:v[1]}):u==0&&n.Value.push({type:n.Types[v[0]-1].name,index:v[1]})});break;case 337:u=g?1:0;break;case 338:u=2;break;case 35:a.push(m),l=!0;break;case 36:a.pop(),l=!1;break;default:if(!p.T){if(!l||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function dU(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,l;return e.replace(Dn,function(u){var g=lt(u);switch(Ss(g[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:g.name});break;case"</metadataType>":break;case"<futureMetadata":for(var p=0;p<n.Types.length;++p)n.Types[p].name==g.name&&(l=n.Types[p]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[g.t-1].name,index:+g.v}):a==0&&n.Value.push({type:n.Types[g.t-1].name,index:+g.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+g.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+g[0]+" in metadata")}return u}),n}function hU(e){var t=[];if(!e)return t;var r=1;return(e.match(Dn)||[]).forEach(function(n){var i=lt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function gU(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ft(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function pU(e,t,r){var n=[];return Zs(e,function(a,l,u){switch(u){case 63:n.push(a);break;default:if(!l.T)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function xU(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Zs(e,function(u,g,p){switch(p){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!g.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}},i)}function mU(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function ky(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(l){var u=jn(l.ref);if(i?(e[u.r]||(e[u.r]=[]),a=e[u.r][u.c]):a=e[l.ref],!a){a={t:"z"},i?e[u.r][u.c]=a:e[l.ref]=a;var g=kr(e["!ref"]||"BDWGO1000001:A1");g.s.r>u.r&&(g.s.r=u.r),g.e.r<u.r&&(g.e.r=u.r),g.s.c>u.c&&(g.s.c=u.c),g.e.c<u.c&&(g.e.c=u.c);var p=Mt(g);p!==e["!ref"]&&(e["!ref"]=p)}a.c||(a.c=[]);var m={a:l.author,t:l.t,r:l.r,T:r};l.h&&(m.h=l.h);for(var v=a.c.length-1;v>=0;--v){if(!r&&a.c[v].T)return;r&&!a.c[v].T&&a.c.splice(v,1)}if(r&&n){for(v=0;v<n.length;++v)if(m.a==n[v].id){m.a=n[v].name||m.a;break}}a.c.push(m)})}function wU(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&r.push(u[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?comment[^>]*>/);if(u){var g=lt(u[0]),p={author:g.authorId&&r[g.authorId]||"sheetjsghost",ref:g.ref,guid:g.guid},m=jn(g.ref);if(!(t.sheetRows&&t.sheetRows<=m.r)){var v=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),_=!!v&&!!v[1]&&bm(v[1])||{r:"",t:"",h:""};p.r=_.r,_.r=="<t></t>"&&(_.t=_.h=""),p.t=(_.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(p.h=_.h),n.push(p)}}}}),n}function vU(e,t){var r=[],n=!1,i={},a=0;return e.replace(Dn,function(u,g){var p=lt(u);switch(Ss(p[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:p.personId,guid:p.id,ref:p.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=g+u.length;break;case"</text>":i.t=e.slice(a,g).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+p[0]+" in threaded comments")}return u}),r}function yU(e,t){var r=[],n=!1;return e.replace(Dn,function(a){var l=lt(a);switch(Ss(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),r}function _U(e){var t={};t.iauthor=e.read_shift(4);var r=Ho(e);return t.rfx=r.s,t.ref=ft(r.s),e.l+=16,t}var EU=bn;function CU(e,t){var r=[],n=[],i={},a=!1;return Zs(e,function(u,g,p){switch(p){case 632:n.push(u);break;case 635:i=u;break;case 637:i.t=u.t,i.h=u.h,i.r=u.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!g.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}),r}var AU="application/vnd.ms-office.vbaProject";function SU(e){var t=Pt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pt.utils.cfb_add(t,i,e.FileIndex[n].content)}}),Pt.write(t)}function TU(){return{"!type":"dialog"}}function kU(){return{"!type":"dialog"}}function bU(){return{"!type":"macro"}}function IU(){return{"!type":"macro"}}var bl=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,l){var u=!1,g=!1;a.length==0?g=!0:a.charAt(0)=="["&&(g=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var p=a.length>0?parseInt(a,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return u?m+=t.c:--m,g?p+=t.r:--p,i+(u?"":"$")+Kr(m)+(g?"":"$")+mn(p)}return function(i,a){return t=a,i.replace(e,r)}}(),TS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,RU=function(){return function(t,r){return t.replace(TS,function(n,i,a,l,u,g){var p=Em(l)-(a?0:r.c),m=_m(g)-(u?0:r.r),v=m==0?"":u?m+1:"["+m+"]",_=p==0?"":a?p+1:"["+p+"]";return i+"R"+v+"C"+_})}}();function kS(e,t){return e.replace(TS,function(r,n,i,a,l,u){return n+(i=="$"?i+a:Kr(Em(a)+t.c))+(l=="$"?l+u:mn(_m(u)+t.r))})}function NU(e,t,r){var n=ac(t),i=n.s,a=jn(r),l={r:a.r-i.r,c:a.c-i.c};return kS(e,l)}function OU(e){return e.length!=1}function by(e){return e.replace(/_xlfn\./g,"")}function Mr(e){e.l+=1}function ja(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function bS(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return IS(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),l=ja(e),u=ja(e);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function IS(e){var t=ja(e),r=ja(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function DU(e,t,r){if(r.biff<8)return IS(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=ja(e),l=ja(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function RS(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return FU(e);var n=e.read_shift(r&&r.biff==12?4:2),i=ja(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function FU(e){var t=ja(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function PU(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function MU(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return BU(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;i>524287;)i-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:l,rRel:u}}function BU(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function LU(e,t,r){var n=(e[e.l++]&96)>>5,i=bS(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function UU(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var l=bS(e,a,r);return[n,i,l]}function jU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function WU(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function HU(e,t,r){var n=(e[e.l++]&96)>>5,i=DU(e,t-1,r);return[n,i]}function VU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Iy(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function zU(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function GU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function XU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function $U(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function YU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function NS(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function KU(e){return e.read_shift(2),NS(e)}function qU(e){return e.read_shift(2),NS(e)}function ZU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=RS(e,0,r);return[n,i]}function QU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=MU(e,0,r);return[n,i]}function JU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=RS(e,0,r);return[n,i,a]}function ej(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[tW[i],FS[i],n]}function tj(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:rj(e);return[i,(a[0]===0?FS:eW)[a[1]]]}function rj(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nj(e,t,r){e.l+=r&&r.biff==2?3:4}function ij(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function sj(e){return e.l++,Vo[e.read_shift(1)]}function aj(e){return e.l++,e.read_shift(2)}function oj(e){return e.l++,e.read_shift(1)!==0}function lj(e){return e.l++,Tn(e)}function cj(e,t,r){return e.l++,mu(e,t-1,r)}function uj(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ir(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Vo[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Tn(e);break;case 2:r[1]=zo(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fj(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Ho:ph)(e));return i}function dj(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var u=0;u!=i;++u)l[a][u]=uj(e,r.biff);return l}function hj(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function gj(e,t,r){if(r.biff==5)return pj(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function pj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function xj(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function mj(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function wj(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function vj(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var yj=Nn,_j=Nn,Ej=Nn;function vu(e,t,r){return e.l+=2,[PU(e)]}function Rm(e){return e.l+=6,[]}var Cj=vu,Aj=Rm,Sj=Rm,Tj=vu;function OS(e){return e.l+=2,[Ur(e),e.read_shift(2)&1]}var kj=vu,bj=OS,Ij=Rm,Rj=vu,Nj=vu,Oj=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Dj(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),l=Oj[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:i,C:a}}function Fj(e){return e.l+=2,[e.read_shift(4)]}function Pj(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Mj(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Bj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Lj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Uj(e){return e.l+=4,[0,0]}var Ry={1:{n:"PtgExp",f:ij},2:{n:"PtgTbl",f:Ej},3:{n:"PtgAdd",f:Mr},4:{n:"PtgSub",f:Mr},5:{n:"PtgMul",f:Mr},6:{n:"PtgDiv",f:Mr},7:{n:"PtgPower",f:Mr},8:{n:"PtgConcat",f:Mr},9:{n:"PtgLt",f:Mr},10:{n:"PtgLe",f:Mr},11:{n:"PtgEq",f:Mr},12:{n:"PtgGe",f:Mr},13:{n:"PtgGt",f:Mr},14:{n:"PtgNe",f:Mr},15:{n:"PtgIsect",f:Mr},16:{n:"PtgUnion",f:Mr},17:{n:"PtgRange",f:Mr},18:{n:"PtgUplus",f:Mr},19:{n:"PtgUminus",f:Mr},20:{n:"PtgPercent",f:Mr},21:{n:"PtgParen",f:Mr},22:{n:"PtgMissArg",f:Mr},23:{n:"PtgStr",f:cj},26:{n:"PtgSheet",f:Pj},27:{n:"PtgEndSheet",f:Mj},28:{n:"PtgErr",f:sj},29:{n:"PtgBool",f:oj},30:{n:"PtgInt",f:aj},31:{n:"PtgNum",f:lj},32:{n:"PtgArray",f:VU},33:{n:"PtgFunc",f:ej},34:{n:"PtgFuncVar",f:tj},35:{n:"PtgName",f:hj},36:{n:"PtgRef",f:ZU},37:{n:"PtgArea",f:LU},38:{n:"PtgMemArea",f:xj},39:{n:"PtgMemErr",f:yj},40:{n:"PtgMemNoMem",f:_j},41:{n:"PtgMemFunc",f:mj},42:{n:"PtgRefErr",f:wj},43:{n:"PtgAreaErr",f:jU},44:{n:"PtgRefN",f:QU},45:{n:"PtgAreaN",f:HU},46:{n:"PtgMemAreaN",f:Bj},47:{n:"PtgMemNoMemN",f:Lj},57:{n:"PtgNameX",f:gj},58:{n:"PtgRef3d",f:JU},59:{n:"PtgArea3d",f:UU},60:{n:"PtgRefErr3d",f:vj},61:{n:"PtgAreaErr3d",f:WU},255:{}},jj={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Wj={1:{n:"PtgElfLel",f:OS},2:{n:"PtgElfRw",f:Rj},3:{n:"PtgElfCol",f:Cj},6:{n:"PtgElfRwV",f:Nj},7:{n:"PtgElfColV",f:Tj},10:{n:"PtgElfRadical",f:kj},11:{n:"PtgElfRadicalS",f:Ij},13:{n:"PtgElfColS",f:Aj},15:{n:"PtgElfColSV",f:Sj},16:{n:"PtgElfRadicalLel",f:bj},25:{n:"PtgList",f:Dj},29:{n:"PtgSxName",f:Fj},255:{}},Hj={0:{n:"PtgAttrNoop",f:Uj},1:{n:"PtgAttrSemi",f:YU},2:{n:"PtgAttrIf",f:XU},4:{n:"PtgAttrChoose",f:zU},8:{n:"PtgAttrGoto",f:GU},16:{n:"PtgAttrSum",f:nj},32:{n:"PtgAttrBaxcel",f:Iy},33:{n:"PtgAttrBaxcel",f:Iy},64:{n:"PtgAttrSpace",f:KU},65:{n:"PtgAttrSpaceSemi",f:qU},128:{n:"PtgAttrIfError",f:$U},255:{}};function yu(e,t,r,n){if(n.biff<8)return Nn(e,t);for(var i=e.l+t,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=dj(e,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=fj(e,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=i-e.l,t!==0&&a.push(Nn(e,t)),a}function _u(e,t,r){for(var n=e.l+t,i,a,l=[];n!=e.l;)t=n-e.l,a=e[e.l],i=Ry[a]||Ry[jj[a]],(a===24||a===25)&&(i=(a===24?Wj:Hj)[e[e.l+1]]),!i||!i.f?Nn(e,t):l.push([i.n,i.f(e,t,r)]);return l}function Vj(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var zj={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Gj(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function DS(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Ny(e,t,r){var n=DS(e,t,r);return n=="#REF"?n:Gj(n,r)}function An(e,t,r,n,i){var a=i&&i.biff||8,l={s:{c:0,r:0}},u=[],g,p,m,v=0,_=0,E,A="";if(!e[0]||!e[0][0])return"";for(var C=-1,R="",I=0,b=e[0].length;I<b;++I){var S=e[0][I];switch(S[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(g=u.pop(),p=u.pop(),C>=0){switch(e[0][C][1][0]){case 0:R=Ar(" ",e[0][C][1][1]);break;case 1:R=Ar("\r",e[0][C][1][1]);break;default:if(R="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}p=p+R,C=-1}u.push(p+zj[S[0]]+g);break;case"PtgIsect":g=u.pop(),p=u.pop(),u.push(p+" "+g);break;case"PtgUnion":g=u.pop(),p=u.pop(),u.push(p+","+g);break;case"PtgRange":g=u.pop(),p=u.pop(),u.push(p+":"+g);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=r0(S[1][1],l,i),u.push(n0(m,a));break;case"PtgRefN":m=r?r0(S[1][1],r,i):S[1][1],u.push(n0(m,a));break;case"PtgRef3d":v=S[1][1],m=r0(S[1][2],l,i),A=Ny(n,v,i),u.push(A+"!"+n0(m,a));break;case"PtgFunc":case"PtgFuncVar":var L=S[1][0],q=S[1][1];L||(L=0),L&=127;var X=L==0?[]:u.slice(-L);u.length-=L,q==="User"&&(q=X.shift()),u.push(q+"("+X.join(",")+")");break;case"PtgBool":u.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(S[1]);break;case"PtgNum":u.push(String(S[1]));break;case"PtgStr":u.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(S[1]);break;case"PtgAreaN":E=fy(S[1][1],r?{s:r}:l,i),u.push(C1(E,i));break;case"PtgArea":E=fy(S[1][1],l,i),u.push(C1(E,i));break;case"PtgArea3d":v=S[1][1],E=S[1][2],A=Ny(n,v,i),u.push(A+"!"+C1(E,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=S[1][2];var F=(n.names||[])[_-1]||(n[0]||[])[_],Z=F?F.Name:"SH33TJSNAME"+String(_);Z&&Z.slice(0,6)=="_xlfn."&&!i.xlfn&&(Z=Z.slice(6)),u.push(Z);break;case"PtgNameX":var W=S[1][1];_=S[1][2];var le;if(i.biff<=5)W<0&&(W=-W),n[W]&&(le=n[W][_]);else{var oe="";if(((n[W]||[])[0]||[])[0]==14849||(((n[W]||[])[0]||[])[0]==1025?n[W][_]&&n[W][_].itab>0&&(oe=n.SheetNames[n[W][_].itab-1]+"!"):oe=n.SheetNames[_-1]+"!"),n[W]&&n[W][_])oe+=n[W][_].Name;else if(n[0]&&n[0][_])oe+=n[0][_].Name;else{var J=(DS(n,W,i)||"").split(";;");J[_-1]?oe=J[_-1]:oe+="SH33TJSERRX"}u.push(oe);break}le||(le={Name:"SH33TJSERRY"}),u.push(le.Name);break;case"PtgParen":var _e="(",Se=")";if(C>=0){switch(R="",e[0][C][1][0]){case 2:_e=Ar(" ",e[0][C][1][1])+_e;break;case 3:_e=Ar("\r",e[0][C][1][1])+_e;break;case 4:Se=Ar(" ",e[0][C][1][1])+Se;break;case 5:Se=Ar("\r",e[0][C][1][1])+Se;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}C=-1}u.push(_e+u.pop()+Se);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:S[1][1],r:S[1][0]};var te={c:r.c,r:r.r};if(n.sharedf[ft(m)]){var Fe=n.sharedf[ft(m)];u.push(An(Fe,l,te,n,i))}else{var Ce=!1;for(g=0;g!=n.arrayf.length;++g)if(p=n.arrayf[g],!(m.c<p[0].s.c||m.c>p[0].e.c)&&!(m.r<p[0].s.r||m.r>p[0].e.r)){u.push(An(p[1],l,te,n,i)),Ce=!0;break}Ce||u.push(S[1])}break;case"PtgArray":u.push("{"+Vj(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=I;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Te=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&C>=0&&Te.indexOf(e[0][I][0])==-1){S=e[0][C];var ie=!0;switch(S[1][0]){case 4:ie=!1;case 0:R=Ar(" ",S[1][1]);break;case 5:ie=!1;case 1:R=Ar("\r",S[1][1]);break;default:if(R="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}u.push((ie?R:"")+u.pop()+(ie?"":R)),C=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function Xj(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],Nn(e,t-2)];var u=_u(e,l,r);return t!==l+i&&(a=yu(e,t-l-i,u,r)),e.l=n,[u,a]}function $j(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],Nn(e,t-2)];var u=_u(e,l,r);return t!==l+i&&(a=yu(e,t-l-i,u,r)),e.l=n,[u,a]}function Yj(e,t,r,n){var i=e.l+t,a=_u(e,n,r),l;return i!==e.l&&(l=yu(e,i-e.l,a,r)),[a,l]}function Kj(e,t,r){var n=e.l+t,i,a=e.read_shift(2),l=_u(e,a,r);return a==65535?[[],Nn(e,t-2)]:(t!==a+2&&(i=yu(e,n-a-2,l,r)),[l,i])}function qj(e){var t;if(Fs(e,e.l+6)!==65535)return[Tn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function T1(e,t,r){var n=e.l+t,i=Ts(e);r.biff==2&&++e.l;var a=qj(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var u=$j(e,n-e.l,r);return{cell:i,val:a[0],formula:u,shared:l>>3&1,tt:a[1]}}function xh(e,t,r){var n=e.read_shift(4),i=_u(e,n,r),a=e.read_shift(4),l=a>0?yu(e,a,i,r):null;return[i,l]}var Zj=xh,mh=xh,Qj=xh,Jj=xh,eW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},FS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Oy(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function k1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var o0={},Il={};function l0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function PS(e,t,r,n,i,a){try{n.cellNF&&(e.z=xt[t])}catch(u){if(n.WTF)throw u}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=an(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(xt[t]==null&&go(rP[t]||"General",t),e.t==="e")e.w=e.w||Vo[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=W0(e.v);else if(e.t==="d"){var l=Gn(e.v);(l|0)===l?e.w=l.toString(10):e.w=W0(l)}else{if(e.v===void 0)return"";e.w=ko(e.v,Il)}else e.t==="d"?e.w=Wi(t,Gn(e.v),Il):e.w=Wi(t,e.v,Il)}catch(u){if(n.WTF)throw u}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=bd(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=bd(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(n.WTF&&a.Fills)throw u}}}function rW(e,t){var r=kr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Mt(r))}var nW=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,iW=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,sW=/<(?:\w:)?hyperlink [^>]*>/mg,aW=/"(\w*:\w*)"/,oW=/<(?:\w:)?col\b[^>]*[\/]?>/g,lW=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,cW=/<(?:\w:)?pageMargins[^>]*\/>/g,MS=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,uW=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,fW=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function dW(e,t,r,n,i,a,l){if(!e)return e;n||(n={"!id":{}});var u=t.dense?[]:{},g={s:{r:2e6,c:2e6},e:{r:0,c:0}},p="",m="",v=e.match(iW);v?(p=e.slice(0,v.index),m=e.slice(v.index+v[0].length)):p=m=e;var _=p.match(MS);_?Nm(_[0],u,i,r):(_=p.match(uW))&&hW(_[0],_[1]||"",u,i,r);var E=(p.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(E>0){var A=p.slice(E,E+50).match(aW);A&&rW(u,A[1])}var C=p.match(fW);C&&C[1]&&vW(C[1],i);var R=[];if(t.cellStyles){var I=p.match(oW);I&&xW(R,I)}v&&yW(v[1],u,t,g,a,l);var b=m.match(lW);b&&(u["!autofilter"]=mW(b[0]));var S=[],L=m.match(nW);if(L)for(E=0;E!=L.length;++E)S[E]=kr(L[E].slice(L[E].indexOf('"')+1));var q=m.match(sW);q&&gW(u,q,n);var X=m.match(cW);if(X&&(u["!margins"]=pW(lt(X[0]))),!u["!ref"]&&g.e.c>=g.s.c&&g.e.r>=g.s.r&&(u["!ref"]=Mt(g)),t.sheetRows>0&&u["!ref"]){var F=kr(u["!ref"]);t.sheetRows<=+F.e.r&&(F.e.r=t.sheetRows-1,F.e.r>g.e.r&&(F.e.r=g.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>g.e.c&&(F.e.c=g.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Mt(F))}return R.length>0&&(u["!cols"]=R),S.length>0&&(u["!merges"]=S),u}function Nm(e,t,r,n){var i=lt(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=jt(ar(i.codeName)))}function hW(e,t,r,n,i){Nm(e.slice(0,e.indexOf(">")),r,n,i)}function gW(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=lt(ar(t[i]),!0);if(!a.ref)return;var l=((r||{})["!id"]||[])[a.id];l?(a.Target=l.Target,a.location&&(a.Target+="#"+jt(a.location))):(a.Target="#"+jt(a.location),l={Target:a.Target,TargetMode:"Internal"}),a.Rel=l,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var u=kr(a.ref),g=u.s.r;g<=u.e.r;++g)for(var p=u.s.c;p<=u.e.c;++p){var m=ft({c:p,r:g});n?(e[g]||(e[g]=[]),e[g][p]||(e[g][p]={t:"z",v:void 0}),e[g][p].l=a):(e[m]||(e[m]={t:"z",v:void 0}),e[m].l=a)}}}function pW(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function xW(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=lt(t[n],!0);i.hidden&&(i.hidden=pr(i.hidden));var a=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,Im(i.width)),Xl(i);a<=l;)e[a++]=xn(i)}}function mW(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var wW=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function vW(e,t){t.Views||(t.Views=[{}]),(e.match(wW)||[]).forEach(function(r,n){var i=lt(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),pr(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var yW=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=H0("v"),l=H0("f");return function(g,p,m,v,_,E){for(var A=0,C="",R=[],I=[],b=0,S=0,L=0,q="",X,F,Z=0,W=0,le,oe,J=0,_e=0,Se=Array.isArray(E.CellXf),te,Fe=[],Ce=[],Te=Array.isArray(p),ie=[],be={},ze=!1,V=!!m.sheetStubs,fe=g.split(t),B=0,Q=fe.length;B!=Q;++B){C=fe[B].trim();var ne=C.length;if(ne!==0){var Ae=0;e:for(A=0;A<ne;++A)switch(C[A]){case">":if(C[A-1]!="/"){++A;break e}if(m&&m.cellStyles){if(F=lt(C.slice(Ae,A),!0),Z=F.r!=null?parseInt(F.r,10):Z+1,W=-1,m.sheetRows&&m.sheetRows<Z)continue;be={},ze=!1,F.ht&&(ze=!0,be.hpt=parseFloat(F.ht),be.hpx=X0(be.hpt)),F.hidden=="1"&&(ze=!0,be.hidden=!0),F.outlineLevel!=null&&(ze=!0,be.level=+F.outlineLevel),ze&&(ie[Z-1]=be)}break;case"<":Ae=A;break}if(Ae>=A)break;if(F=lt(C.slice(Ae,A),!0),Z=F.r!=null?parseInt(F.r,10):Z+1,W=-1,!(m.sheetRows&&m.sheetRows<Z)){v.s.r>Z-1&&(v.s.r=Z-1),v.e.r<Z-1&&(v.e.r=Z-1),m&&m.cellStyles&&(be={},ze=!1,F.ht&&(ze=!0,be.hpt=parseFloat(F.ht),be.hpx=X0(be.hpt)),F.hidden=="1"&&(ze=!0,be.hidden=!0),F.outlineLevel!=null&&(ze=!0,be.level=+F.outlineLevel),ze&&(ie[Z-1]=be)),R=C.slice(A).split(e);for(var Ee=0;Ee!=R.length&&R[Ee].trim().charAt(0)=="<";++Ee);for(R=R.slice(Ee),A=0;A!=R.length;++A)if(C=R[A].trim(),C.length!==0){if(I=C.match(r),b=A,S=0,L=0,C="<c "+(C.slice(0,1)=="<"?">":"")+C,I!=null&&I.length===2){for(b=0,q=I[1],S=0;S!=q.length&&!((L=q.charCodeAt(S)-64)<1||L>26);++S)b=26*b+L;--b,W=b}else++W;for(S=0;S!=C.length&&C.charCodeAt(S)!==62;++S);if(++S,F=lt(C.slice(0,S),!0),F.r||(F.r=ft({r:Z-1,c:W})),q=C.slice(S),X={t:""},(I=q.match(a))!=null&&I[1]!==""&&(X.v=jt(I[1])),m.cellFormula){if((I=q.match(l))!=null&&I[1]!==""){if(X.f=jt(ar(I[1])).replace(/\r\n/g,`
`),m.xlfn||(X.f=by(X.f)),I[0].indexOf('t="array"')>-1)X.F=(q.match(i)||[])[1],X.F.indexOf(":")>-1&&Fe.push([kr(X.F),X.F]);else if(I[0].indexOf('t="shared"')>-1){oe=lt(I[0]);var Ie=jt(ar(I[1]));m.xlfn||(Ie=by(Ie)),Ce[parseInt(oe.si,10)]=[oe,Ie,F.r]}}else(I=q.match(/<f[^>]*\/>/))&&(oe=lt(I[0]),Ce[oe.si]&&(X.f=NU(Ce[oe.si][1],Ce[oe.si][2],F.r)));var Ne=jn(F.r);for(S=0;S<Fe.length;++S)Ne.r>=Fe[S][0].s.r&&Ne.r<=Fe[S][0].e.r&&Ne.c>=Fe[S][0].s.c&&Ne.c<=Fe[S][0].e.c&&(X.F=Fe[S][1])}if(F.t==null&&X.v===void 0)if(X.f||X.F)X.v=0,X.t="n";else if(V)X.t="z";else continue;else X.t=F.t||"n";switch(v.s.c>W&&(v.s.c=W),v.e.c<W&&(v.e.c=W),X.t){case"n":if(X.v==""||X.v==null){if(!V)continue;X.t="z"}else X.v=parseFloat(X.v);break;case"s":if(typeof X.v>"u"){if(!V)continue;X.t="z"}else le=o0[parseInt(X.v,10)],X.v=le.t,X.r=le.r,m.cellHTML&&(X.h=le.h);break;case"str":X.t="s",X.v=X.v!=null?ar(X.v):"",m.cellHTML&&(X.h=wm(X.v));break;case"inlineStr":I=q.match(n),X.t="s",I!=null&&(le=bm(I[1]))?(X.v=le.t,m.cellHTML&&(X.h=le.h)):X.v="";break;case"b":X.v=pr(X.v);break;case"d":m.cellDates?X.v=an(X.v,1):(X.v=Gn(an(X.v,1)),X.t="n");break;case"e":(!m||m.cellText!==!1)&&(X.w=X.v),X.v=nS[X.v];break}if(J=_e=0,te=null,Se&&F.s!==void 0&&(te=E.CellXf[F.s],te!=null&&(te.numFmtId!=null&&(J=te.numFmtId),m.cellStyles&&te.fillId!=null&&(_e=te.fillId))),PS(X,J,_e,m,_,E),m.cellDates&&Se&&X.t=="n"&&sc(xt[J])&&(X.t="d",X.v=gh(X.v)),F.cm&&m.xlmeta){var tt=(m.xlmeta.Cell||[])[+F.cm-1];tt&&tt.type=="XLDAPR"&&(X.D=!0)}if(Te){var K=jn(F.r);p[K.r]||(p[K.r]=[]),p[K.r][K.c]=X}else p[F.r]=X}}}}ie.length>0&&(p["!rows"]=ie)}}();function _W(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var EW=Ho;function CW(){}function AW(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=XP(e),r}function SW(e){var t=Hi(e);return[t]}function TW(e){var t=Wo(e);return[t]}function kW(e){var t=Hi(e),r=e.read_shift(1);return[t,r,"b"]}function bW(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"b"]}function IW(e){var t=Hi(e),r=e.read_shift(1);return[t,r,"e"]}function RW(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"e"]}function NW(e){var t=Hi(e),r=e.read_shift(4);return[t,r,"s"]}function OW(e){var t=Wo(e),r=e.read_shift(4);return[t,r,"s"]}function DW(e){var t=Hi(e),r=Tn(e);return[t,r,"n"]}function BS(e){var t=Wo(e),r=Tn(e);return[t,r,"n"]}function FW(e){var t=Hi(e),r=Sm(e);return[t,r,"n"]}function PW(e){var t=Wo(e),r=Sm(e);return[t,r,"n"]}function MW(e){var t=Hi(e),r=Cm(e);return[t,r,"is"]}function BW(e){var t=Hi(e),r=bn(e);return[t,r,"str"]}function LW(e){var t=Wo(e),r=bn(e);return[t,r,"str"]}function UW(e,t,r){var n=e.l+t,i=Hi(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"b"];if(r.cellFormula){e.l+=2;var u=mh(e,n-e.l,r);l[3]=An(u,null,i,r.supbooks,r)}else e.l=n;return l}function jW(e,t,r){var n=e.l+t,i=Hi(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"e"];if(r.cellFormula){e.l+=2;var u=mh(e,n-e.l,r);l[3]=An(u,null,i,r.supbooks,r)}else e.l=n;return l}function WW(e,t,r){var n=e.l+t,i=Hi(e);i.r=r["!row"];var a=Tn(e),l=[i,a,"n"];if(r.cellFormula){e.l+=2;var u=mh(e,n-e.l,r);l[3]=An(u,null,i,r.supbooks,r)}else e.l=n;return l}function HW(e,t,r){var n=e.l+t,i=Hi(e);i.r=r["!row"];var a=bn(e),l=[i,a,"str"];if(r.cellFormula){e.l+=2;var u=mh(e,n-e.l,r);l[3]=An(u,null,i,r.supbooks,r)}else e.l=n;return l}var VW=Ho;function zW(e,t){var r=e.l+t,n=Ho(e),i=Am(e),a=bn(e),l=bn(e),u=bn(e);e.l=r;var g={rfx:n,relId:i,loc:a,display:u};return l&&(g.Tooltip=l),g}function GW(){}function XW(e,t,r){var n=e.l+t,i=eS(e),a=e.read_shift(1),l=[i];if(l[2]=a,r.cellFormula){var u=Zj(e,n-e.l,r);l[1]=u}else e.l=n;return l}function $W(e,t,r){var n=e.l+t,i=Ho(e),a=[i];if(r.cellFormula){var l=Jj(e,n-e.l,r);a[1]=l,e.l=n}else e.l=n;return a}var YW=["left","right","top","bottom","header","footer"];function KW(e){var t={};return YW.forEach(function(r){t[r]=Tn(e)}),t}function qW(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ZW(){}function QW(){}function JW(e,t,r,n,i,a,l){if(!e)return e;var u=t||{};n||(n={"!id":{}});var g=u.dense?[]:{},p,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=!1,_=!1,E,A,C,R,I,b,S,L,q,X=[];u.biff=12,u["!row"]=0;var F=0,Z=!1,W=[],le={},oe=u.supbooks||i.supbooks||[[]];if(oe.sharedf=le,oe.arrayf=W,oe.SheetNames=i.SheetNames||i.Sheets.map(function(Te){return Te.name}),!u.supbooks&&(u.supbooks=oe,i.Names))for(var J=0;J<i.Names.length;++J)oe[0][J+1]=i.Names[J];var _e=[],Se=[],te=!1;Nd[16]={n:"BrtShortReal",f:BS};var Fe;if(Zs(e,function(ie,be,ze){if(!_)switch(ze){case 148:p=ie;break;case 0:E=ie,u.sheetRows&&u.sheetRows<=E.r&&(_=!0),L=mn(R=E.r),u["!row"]=E.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=X0(ie.hpt)),Se[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(A={t:ie[2]},ie[2]){case"n":A.v=ie[1];break;case"s":S=o0[ie[1]],A.v=S.t,A.r=S.r;break;case"b":A.v=!!ie[1];break;case"e":A.v=ie[1],u.cellText!==!1&&(A.w=Vo[A.v]);break;case"str":A.t="s",A.v=ie[1];break;case"is":A.t="s",A.v=ie[1].t;break}if((C=l.CellXf[ie[0].iStyleRef])&&PS(A,C.numFmtId,null,u,a,l),I=ie[0].c==-1?I+1:ie[0].c,u.dense?(g[R]||(g[R]=[]),g[R][I]=A):g[Kr(I)+L]=A,u.cellFormula){for(Z=!1,F=0;F<W.length;++F){var V=W[F];E.r>=V[0].s.r&&E.r<=V[0].e.r&&I>=V[0].s.c&&I<=V[0].e.c&&(A.F=Mt(V[0]),Z=!0)}!Z&&ie.length>3&&(A.f=ie[3])}if(m.s.r>E.r&&(m.s.r=E.r),m.s.c>I&&(m.s.c=I),m.e.r<E.r&&(m.e.r=E.r),m.e.c<I&&(m.e.c=I),u.cellDates&&C&&A.t=="n"&&sc(xt[C.numFmtId])){var fe=co(A.v);fe&&(A.t="d",A.v=new Date(fe.y,fe.m-1,fe.d,fe.H,fe.M,fe.S,fe.u))}Fe&&(Fe.type=="XLDAPR"&&(A.D=!0),Fe=void 0);break;case 1:case 12:if(!u.sheetStubs||v)break;A={t:"z",v:void 0},I=ie[0].c==-1?I+1:ie[0].c,u.dense?(g[R]||(g[R]=[]),g[R][I]=A):g[Kr(I)+L]=A,m.s.r>E.r&&(m.s.r=E.r),m.s.c>I&&(m.s.c=I),m.e.r<E.r&&(m.e.r=E.r),m.e.c<I&&(m.e.c=I),Fe&&(Fe.type=="XLDAPR"&&(A.D=!0),Fe=void 0);break;case 176:X.push(ie);break;case 49:Fe=((u.xlmeta||{}).Cell||[])[ie-1];break;case 494:var B=n["!id"][ie.relId];for(B?(ie.Target=B.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=B):ie.relId==""&&(ie.Target="#"+ie.loc),R=ie.rfx.s.r;R<=ie.rfx.e.r;++R)for(I=ie.rfx.s.c;I<=ie.rfx.e.c;++I)u.dense?(g[R]||(g[R]=[]),g[R][I]||(g[R][I]={t:"z",v:void 0}),g[R][I].l=ie):(b=ft({c:I,r:R}),g[b]||(g[b]={t:"z",v:void 0}),g[b].l=ie);break;case 426:if(!u.cellFormula)break;W.push(ie),q=u.dense?g[R][I]:g[Kr(I)+L],q.f=An(ie[1],m,{r:E.r,c:I},oe,u),q.F=Mt(ie[0]);break;case 427:if(!u.cellFormula)break;le[ft(ie[0].s)]=ie[1],q=u.dense?g[R][I]:g[Kr(I)+L],q.f=An(ie[1],m,{r:E.r,c:I},oe,u);break;case 60:if(!u.cellStyles)break;for(;ie.e>=ie.s;)_e[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},te||(te=!0,Im(ie.w/256)),Xl(_e[ie.e+1]);break;case 161:g["!autofilter"]={ref:Mt(ie)};break;case 476:g["!margins"]=ie;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ie.name&&(i.Sheets[r].CodeName=ie.name),(ie.above||ie.left)&&(g["!outline"]={above:ie.above,left:ie.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ie.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:v=!0;break;case 36:v=!1;break;case 37:v=!0;break;case 38:v=!1;break;default:if(!be.T){if(!v||u.WTF)throw new Error("Unexpected record 0x"+ze.toString(16))}}},u),delete u.supbooks,delete u["!row"],!g["!ref"]&&(m.s.r<2e6||p&&(p.e.r>0||p.e.c>0||p.s.r>0||p.s.c>0))&&(g["!ref"]=Mt(p||m)),u.sheetRows&&g["!ref"]){var Ce=kr(g["!ref"]);u.sheetRows<=+Ce.e.r&&(Ce.e.r=u.sheetRows-1,Ce.e.r>m.e.r&&(Ce.e.r=m.e.r),Ce.e.r<Ce.s.r&&(Ce.s.r=Ce.e.r),Ce.e.c>m.e.c&&(Ce.e.c=m.e.c),Ce.e.c<Ce.s.c&&(Ce.s.c=Ce.e.c),g["!fullref"]=g["!ref"],g["!ref"]=Mt(Ce))}return X.length>0&&(g["!merges"]=X),_e.length>0&&(g["!cols"]=_e),Se.length>0&&(g["!rows"]=Se),g}function eH(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var l=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var i=jt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function tH(e,t,r,n,i,a){var l=a||{"!type":"chart"};if(!e)return a;var u=0,g=0,p="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(v){var _=eH(v);m.s.r=m.s.c=0,m.e.c=u,p=Kr(u),_[0].forEach(function(E,A){l[p+mn(A)]={t:"n",v:E,z:_[1]},g=A}),m.e.r<g&&(m.e.r=g),++u}),u>0&&(l["!ref"]=Mt(m)),l}function rH(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l,u=e.match(MS);return u&&Nm(u[0],a,i,r),(l=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=l[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function nH(e,t){e.l+=10;var r=bn(e);return{name:r}}function iH(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Zs(e,function(g,p,m){switch(m){case 550:a["!rel"]=g;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),g.name&&(i.Sheets[r].CodeName=g.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(p.T>0)){if(!(p.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var LS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sH=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],aH=[],oH=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Dy(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=pr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function Fy(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=pr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function US(e){Fy(e.WBProps,LS),Fy(e.CalcPr,oH),Dy(e.WBView,sH),Dy(e.Sheets,aH),Il.date1904=pr(e.WBProps.date1904)}var lH="][*?/\\".split("");function cH(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return lH.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var uH=/<\w+:workbook/;function fH(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},l=0;if(e.replace(Dn,function(g,p){var m=lt(g);switch(Ss(m[0])){case"<?xml":break;case"<workbook":g.match(uH)&&(i="xmlns"+g.match(/<(\w+):/)[1]),r.xmlns=m[i];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":LS.forEach(function(v){if(m[v[0]]!=null)switch(v[2]){case"bool":r.WBProps[v[0]]=pr(m[v[0]]);break;case"int":r.WBProps[v[0]]=parseInt(m[v[0]],10);break;default:r.WBProps[v[0]]=m[v[0]]}}),m.codeName&&(r.WBProps.CodeName=ar(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=jt(ar(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=ar(m.name),m.comment&&(a.Comment=m.comment),m.localSheetId&&(a.Sheet=+m.localSheetId),pr(m.hidden||"0")&&(a.Hidden=!0),l=p+g.length;break;case"</definedName>":a.Ref=jt(ar(e.slice(l,p))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return g}),IP.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return US(r),r}function dH(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=ep(e),r.name=bn(e),r}function hH(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?bn(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function gH(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function pH(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=$P(e),l=Qj(e,0,r),u=Am(e);e.l=n;var g={Name:a,Ptg:l};return i<268435455&&(g.Sheet=i),u&&(g.Comment=u),g}function xH(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],l=[[]];return l.SheetNames=[],l.XTI=[],Nd[16]={n:"BrtFRTArchID$",f:gH},Zs(e,function(g,p,m){switch(m){case 156:l.SheetNames.push(g.name),r.Sheets.push(g);break;case 153:r.WBProps=g;break;case 39:g.Sheet!=null&&(t.SID=g.Sheet),g.Ref=An(g.Ptg,null,null,l,t),delete t.SID,delete g.Ptg,a.push(g);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([m,g]):l[0]=[m,g],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(g),l.XTI=l.XTI.concat(g);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(m),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!p.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},t),US(r),r.Names=a,r.supbooks=l,r}function mH(e,t,r){return t.slice(-4)===".bin"?xH(e,r):fH(e,r)}function wH(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?JW(e,n,r,i,a,l,u):dW(e,n,r,i,a,l,u)}function vH(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?iH(e,n,r,i,a):rH(e,n,r,i,a)}function yH(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?bU():IU()}function _H(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?TU():kU()}function EH(e,t,r,n){return t.slice(-4)===".bin"?VL(e,r,n):BL(e,r,n)}function CH(e,t,r){return SS(e,r)}function AH(e,t,r){return t.slice(-4)===".bin"?sL(e,r):nL(e,r)}function SH(e,t,r){return t.slice(-4)===".bin"?CU(e,r):wU(e,r)}function TH(e,t,r){return t.slice(-4)===".bin"?pU(e):hU(e)}function kH(e,t,r,n){return r.slice(-4)===".bin"?xU(e,t,r,n):void 0}function bH(e,t,r){return t.slice(-4)===".bin"?fU(e,t,r):dU(e,t,r)}var jS=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,WS=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Xi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(jS),a,l,u,g;if(i)for(g=0;g!=i.length;++g)a=i[g].match(WS),(l=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?u="xmlns"+a[1].slice(6):u=a[1].slice(l+1),n[u]=a[2].slice(1,a[2].length-1));return n}function IH(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(jS),i,a,l,u;if(n)for(u=0;u!=n.length;++u)i=n[u].match(WS),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),r[l]=i[2].slice(1,i[2].length-1));return r}var c0;function RH(e,t){var r=c0[e]||jt(e);return r==="General"?ko(t):Wi(r,t)}function NH(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=pr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=an(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[jt(t)]=i}function OH(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Vo[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=W0(e.v):e.w=ko(e.v):e.w=RH(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=c0[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&sc(n)){var i=co(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function DH(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=NL[n.Pattern]||n.Pattern)}e[t.ID]=t}function FH(e,t,r,n,i,a,l,u,g,p){var m="General",v=n.StyleID,_={};p=p||{};var E=[],A=0;for(v===void 0&&u&&(v=u.StyleID),v===void 0&&l&&(v=l.StyleID);a[v]!==void 0&&(a[v].nf&&(m=a[v].nf),a[v].Interior&&E.push(a[v].Interior),!!a[v].Parent);)v=a[v].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=pr(e);break;case"String":n.t="s",n.r=ry(jt(e)),n.v=e.indexOf("<")>-1?jt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(an(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=jt(e):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=nS[e],p.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=ry(t||e));break}if(OH(n,m,p),p.cellFormula!==!1)if(n.Formula){var C=jt(n.Formula);C.charCodeAt(0)==61&&(C=C.slice(1)),n.f=bl(C,i),delete n.Formula,n.ArrayRange=="RC"?n.F=bl("RC:RC",i):n.ArrayRange&&(n.F=bl(n.ArrayRange,i),g.push([kr(n.F),n.F]))}else for(A=0;A<g.length;++A)i.r>=g[A][0].s.r&&i.r<=g[A][0].e.r&&i.c>=g[A][0].s.c&&i.c<=g[A][0].e.c&&(n.F=g[A][1]);p.cellStyles&&(E.forEach(function(R){!_.patternType&&R.patternType&&(_.patternType=R.patternType)}),n.s=_),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function PH(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function b1(e,t){var r=t||{};I4();var n=Fc(vm(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ar(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=xn(r);return l.type="string",z0.to_workbook(n,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Je){i.indexOf("<"+Je)>=0&&(a=!0)}),a)return zH(n,r);c0={"General Number":"General","General Date":xt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":xt[15],"Short Date":xt[14],"Long Time":xt[19],"Medium Time":xt[18],"Short Time":xt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:xt[2],Standard:xt[4],Percent:xt[10],Scientific:xt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,g=[],p,m={},v=[],_=r.dense?[]:{},E="",A={},C={},R=Xi('<Data ss:Type="String">'),I=0,b=0,S=0,L={s:{r:2e6,c:2e6},e:{r:0,c:0}},q={},X={},F="",Z=0,W=[],le={},oe={},J=0,_e=[],Se=[],te={},Fe=[],Ce,Te=!1,ie=[],be=[],ze={},V=0,fe=0,B={Sheets:[],WBProps:{date1904:!1}},Q={};V0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";u=V0.exec(n);)switch(u[3]=(ne=u[3]).toLowerCase()){case"data":if(ne=="data"){if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break}if(g[g.length-1][1])break;u[1]==="/"?FH(n.slice(I,u.index),F,R,g[g.length-1][0]=="comment"?te:A,{c:b,r:S},q,Fe[b],C,ie,r):(F="",R=Xi(u[0]),I=u.index+u[0].length);break;case"cell":if(u[1]==="/")if(Se.length>0&&(A.c=Se),(!r.sheetRows||r.sheetRows>S)&&A.v!==void 0&&(r.dense?(_[S]||(_[S]=[]),_[S][b]=A):_[Kr(b)+mn(S)]=A),A.HRef&&(A.l={Target:jt(A.HRef)},A.HRefScreenTip&&(A.l.Tooltip=A.HRefScreenTip),delete A.HRef,delete A.HRefScreenTip),(A.MergeAcross||A.MergeDown)&&(V=b+(parseInt(A.MergeAcross,10)|0),fe=S+(parseInt(A.MergeDown,10)|0),W.push({s:{c:b,r:S},e:{c:V,r:fe}})),!r.sheetStubs)A.MergeAcross?b=V+1:++b;else if(A.MergeAcross||A.MergeDown){for(var Ae=b;Ae<=V;++Ae)for(var Ee=S;Ee<=fe;++Ee)(Ae>b||Ee>S)&&(r.dense?(_[Ee]||(_[Ee]=[]),_[Ee][Ae]={t:"z"}):_[Kr(Ae)+mn(Ee)]={t:"z"});b=V+1}else++b;else A=IH(u[0]),A.Index&&(b=+A.Index-1),b<L.s.c&&(L.s.c=b),b>L.e.c&&(L.e.c=b),u[0].slice(-2)==="/>"&&++b,Se=[];break;case"row":u[1]==="/"||u[0].slice(-2)==="/>"?(S<L.s.r&&(L.s.r=S),S>L.e.r&&(L.e.r=S),u[0].slice(-2)==="/>"&&(C=Xi(u[0]),C.Index&&(S=+C.Index-1)),b=0,++S):(C=Xi(u[0]),C.Index&&(S=+C.Index-1),ze={},(C.AutoFitHeight=="0"||C.Height)&&(ze.hpx=parseInt(C.Height,10),ze.hpt=AS(ze.hpx),be[S]=ze),C.Hidden=="1"&&(ze.hidden=!0,be[S]=ze));break;case"worksheet":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));v.push(E),L.s.r<=L.e.r&&L.s.c<=L.e.c&&(_["!ref"]=Mt(L),r.sheetRows&&r.sheetRows<=L.e.r&&(_["!fullref"]=_["!ref"],L.e.r=r.sheetRows-1,_["!ref"]=Mt(L))),W.length&&(_["!merges"]=W),Fe.length>0&&(_["!cols"]=Fe),be.length>0&&(_["!rows"]=be),m[E]=_}else L={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=b=0,g.push([u[3],!1]),p=Xi(u[0]),E=jt(p.Name),_=r.dense?[]:{},W=[],ie=[],be=[],Q={name:E,Hidden:0},B.Sheets.push(Q);break;case"table":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else{if(u[0].slice(-2)=="/>")break;g.push([u[3],!1]),Fe=[],Te=!1}break;case"style":u[1]==="/"?DH(q,X,r):X=Xi(u[0]);break;case"numberformat":X.nf=jt(Xi(u[0]).Format||"General"),c0[X.nf]&&(X.nf=c0[X.nf]);for(var Ie=0;Ie!=392&&xt[Ie]!=X.nf;++Ie);if(Ie==392){for(Ie=57;Ie!=392;++Ie)if(xt[Ie]==null){go(X.nf,Ie);break}}break;case"column":if(g[g.length-1][0]!=="table")break;if(Ce=Xi(u[0]),Ce.Hidden&&(Ce.hidden=!0,delete Ce.Hidden),Ce.Width&&(Ce.wpx=parseInt(Ce.Width,10)),!Te&&Ce.wpx>10){Te=!0,Ln=ES;for(var Ne=0;Ne<Fe.length;++Ne)Fe[Ne]&&Xl(Fe[Ne])}Te&&Xl(Ce),Fe[Ce.Index-1||Fe.length]=Ce;for(var tt=0;tt<+Ce.Span;++tt)Fe[Fe.length]=xn(Ce);break;case"namedrange":if(u[1]==="/")break;B.Names||(B.Names=[]);var K=lt(u[0]),qe={Name:K.Name,Ref:bl(K.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(qe.Sheet=B.Sheets.length-1),B.Names.push(qe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(u[0].slice(-2)==="/>")break;u[1]==="/"?F+=n.slice(Z,u.index):Z=u.index+u[0].length;break;case"interior":if(!r.cellStyles)break;X.Interior=Xi(u[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(u[0].slice(-2)==="/>")break;u[1]==="/"?wM(le,ne,n.slice(J,u.index)):J=u.index+u[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else g.push([u[3],!1]);break;case"comment":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));PH(te),Se.push(te)}else g.push([u[3],!1]),p=Xi(u[0]),te={a:p.Author};break;case"autofilter":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else if(u[0].charAt(u[0].length-2)!=="/"){var mt=Xi(u[0]);_["!autofilter"]={ref:bl(mt.Range).replace(/\$/g,"")},g.push([u[3],!0])}break;case"name":break;case"datavalidation":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break;case"null":break;default:if(g.length==0&&u[3]=="document"||g.length==0&&u[3]=="uof")return jy(n,r);var ht=!0;switch(g[g.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ht=!1}break;case"componentoptions":switch(u[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ht=!1}break;case"excelworkbook":switch(u[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ht=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":break;case"height":break;case"width":break;default:ht=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if(u[0].slice(-2)!=="/>")if(u[1]==="/")switch(n.slice(J,u.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else J=u.index+u[0].length;break;case"header":_["!margins"]||l0(_["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(_["!margins"].header=+lt(u[0]).Margin);break;case"footer":_["!margins"]||l0(_["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(_["!margins"].footer=+lt(u[0]).Margin);break;case"pagemargins":var Ze=lt(u[0]);_["!margins"]||l0(_["!margins"]={},"xlml"),isNaN(+Ze.Top)||(_["!margins"].top=+Ze.Top),isNaN(+Ze.Left)||(_["!margins"].left=+Ze.Left),isNaN(+Ze.Right)||(_["!margins"].right=+Ze.Right),isNaN(+Ze.Bottom)||(_["!margins"].bottom=+Ze.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ht=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ht=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ht=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ht=!1}break;case"querytable":switch(u[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ht=!1}break;case"datavalidation":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ht=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ht=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ht=!1}break;case"smarttags":break;default:ht=!1;break}if(ht||u[3].match(/!\[CDATA/))break;if(!g[g.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+g.join("|");if(g[g.length-1][0]==="customdocumentproperties"){if(u[0].slice(-2)==="/>")break;u[1]==="/"?NH(oe,ne,_e,n.slice(J,u.index)):(_e=u,J=u.index+u[0].length);break}if(r.WTF)throw"Unrecognized tag: "+u[3]+"|"+g.join("|")}var Oe={};return!r.bookSheets&&!r.bookProps&&(Oe.Sheets=m),Oe.SheetNames=v,Oe.Workbook=B,Oe.SSF=xn(xt),Oe.Props=le,Oe.Custprops=oe,Oe}function ip(e,t){switch(Fm(t=t||{}),t.type||"base64"){case"base64":return b1(yi(e),t);case"binary":case"buffer":case"file":return b1(e,t);case"array":return b1(jo(e),t)}}function MH(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=qP(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=ZP(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var BH=[60,1084,2066,2165,2175];function LH(e,t,r,n,i){var a=n,l=[],u=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&u.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(u)}l.push(u),r.l+=a;for(var g=Fs(r,r.l),p=sp[g],m=0;p!=null&&BH.indexOf(g)>-1;)a=Fs(r,r.l+2),m=r.l+4,g==2066?m+=4:(g==2165||g==2175)&&(m+=12),u=r.slice(m,r.l+4+a),l.push(u),r.l+=4+a,p=sp[g=Fs(r,r.l)];var v=ua(l);hn(v,0);var _=0;v.lens=[];for(var E=0;E<l.length;++E)v.lens.push(_),_+=l[E].length;if(v.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+v.length+" < "+n;return t.f(v,v.length,i)}function gs(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=xt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Vo[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=W0(e.v):e.w=ko(e.v):e.w=Wi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&sc(xt[n]||String(n))){var i=co(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function nf(e,t,r){return{v:e,ixfe:t,t:r}}function UH(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},l={},u=null,g=[],p="",m={},v,_="",E,A,C,R,I={},b=[],S,L,q=[],X=[],F={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Z={},W=function(ut){return ut<8?po[ut]:ut<64&&X[ut-8]||po[ut]},le=function(ut,Yt,ln){var gt=Yt.XF.data;if(!(!gt||!gt.patternType||!ln||!ln.cellStyles)){Yt.s={},Yt.s.patternType=gt.patternType;var Le;(Le=G0(W(gt.icvFore)))&&(Yt.s.fgColor={rgb:Le}),(Le=G0(W(gt.icvBack)))&&(Yt.s.bgColor={rgb:Le})}},oe=function(ut,Yt,ln){if(!(ze>1)&&!(ln.sheetRows&&ut.r>=ln.sheetRows)){if(ln.cellStyles&&Yt.XF&&Yt.XF.data&&le(ut,Yt,ln),delete Yt.ixfe,delete Yt.XF,v=ut,_=ft(ut),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),ut.r<l.s.r&&(l.s.r=ut.r),ut.c<l.s.c&&(l.s.c=ut.c),ut.r+1>l.e.r&&(l.e.r=ut.r+1),ut.c+1>l.e.c&&(l.e.c=ut.c+1),ln.cellFormula&&Yt.f){for(var gt=0;gt<b.length;++gt)if(!(b[gt][0].s.c>ut.c||b[gt][0].s.r>ut.r)&&!(b[gt][0].e.c<ut.c||b[gt][0].e.r<ut.r)){Yt.F=Mt(b[gt][0]),(b[gt][0].s.c!=ut.c||b[gt][0].s.r!=ut.r)&&delete Yt.f,Yt.f&&(Yt.f=""+An(b[gt][1],l,ut,ie,J));break}}ln.dense?(i[ut.r]||(i[ut.r]=[]),i[ut.r][ut.c]=Yt):i[_]=Yt}},J={enc:!1,sbcch:0,snames:[],sharedf:I,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(J.password=t.password);var _e,Se=[],te=[],Fe=[],Ce=[],Te=!1,ie=[];ie.SheetNames=J.snames,ie.sharedf=J.sharedf,ie.arrayf=J.arrayf,ie.names=[],ie.XTI=[];var be=0,ze=0,V=0,fe=[],B=[],Q;J.codepage=1200,es(1200);for(var ne=!1;e.l<e.length-1;){var Ae=e.l,Ee=e.read_shift(2);if(Ee===0&&be===10)break;var Ie=e.l===e.length?0:e.read_shift(2),Ne=sp[Ee];if(Ne&&Ne.f){if(t.bookSheets&&be===133&&Ee!==133)break;if(be=Ee,Ne.r===2||Ne.r==12){var tt=e.read_shift(2);if(Ie-=2,!J.enc&&tt!==Ee&&((tt&255)<<8|tt>>8)!==Ee)throw new Error("rt mismatch: "+tt+"!="+Ee);Ne.r==12&&(e.l+=10,Ie-=10)}var K={};if(Ee===10?K=Ne.f(e,Ie,J):K=LH(Ee,Ne,e,Ie,J),ze==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(Ee){case 34:r.opts.Date1904=F.WBProps.date1904=K;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(J.enc||(e.l=0),J.enc=K,!t.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:J.lastuser=K;break;case 66:var qe=Number(K);switch(qe){case 21010:qe=1200;break;case 32768:qe=1e4;break;case 32769:qe=1252;break}es(J.codepage=qe),ne=!0;break;case 317:J.rrtabid=K;break;case 25:J.winlocked=K;break;case 439:r.opts.RefreshAll=K;break;case 12:r.opts.CalcCount=K;break;case 16:r.opts.CalcDelta=K;break;case 17:r.opts.CalcIter=K;break;case 13:r.opts.CalcMode=K;break;case 14:r.opts.CalcPrecision=K;break;case 95:r.opts.CalcSaveRecalc=K;break;case 15:J.CalcRefMode=K;break;case 2211:r.opts.FullCalc=K;break;case 129:K.fDialog&&(i["!type"]="dialog"),K.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),K.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:q.push(K);break;case 430:ie.push([K]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(K);break;case 24:case 536:Q={Name:K.Name,Ref:An(K.rgce,l,null,ie,J)},K.itab>0&&(Q.Sheet=K.itab-1),ie.names.push(Q),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(B[K.itab-1]={ref:Mt(K.rgce[0][0][1][2])});break;case 22:J.ExternCount=K;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(K),ie.XTI=ie.XTI.concat(K);break;case 2196:if(J.biff<8)break;Q!=null&&(Q.Comment=K[1]);break;case 18:i["!protect"]=K;break;case 19:K!==0&&J.WTF&&console.error("Password verifier: "+K);break;case 133:a[K.pos]=K,J.snames.push(K.name);break;case 10:{if(--ze)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=Mt(l),t.sheetRows&&t.sheetRows<=l.e.r){var mt=l.e.r;l.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Mt(l),l.e.r=mt}l.e.r++,l.e.c++}Se.length>0&&(i["!merges"]=Se),te.length>0&&(i["!objects"]=te),Fe.length>0&&(i["!cols"]=Fe),Ce.length>0&&(i["!rows"]=Ce),F.Sheets.push(Z)}p===""?m=i:n[p]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(J.biff===8&&(J.biff={9:2,521:3,1033:4}[Ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),J.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(J.biff=5,ne=!0,es(J.codepage=28591)),J.biff==8&&K.BIFFVer==0&&K.dt==16&&(J.biff=2),ze++)break;if(i=t.dense?[]:{},J.biff<8&&!ne&&(ne=!0,es(J.codepage=t.codepage||1252)),J.biff<5||K.BIFFVer==0&&K.dt==4096){p===""&&(p="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var ht={pos:e.l-Ie,name:p};a[ht.pos]=ht,J.snames.push(p)}else p=(a[Ae]||{name:""}).name;K.dt==32&&(i["!type"]="chart"),K.dt==64&&(i["!type"]="macro"),Se=[],te=[],J.arrayf=b=[],Fe=[],Ce=[],Te=!1,Z={Hidden:(a[Ae]||{hs:0}).hs,name:p}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[K.r]||[])[K.c]:i[ft({c:K.c,r:K.r})])&&++K.c,S={ixfe:K.ixfe,XF:q[K.ixfe]||{},v:K.val,t:"n"},V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe({c:K.c,r:K.r},S,t);break;case 5:case 517:S={ixfe:K.ixfe,XF:q[K.ixfe],v:K.val,t:K.t},V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe({c:K.c,r:K.r},S,t);break;case 638:S={ixfe:K.ixfe,XF:q[K.ixfe],v:K.rknum,t:"n"},V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe({c:K.c,r:K.r},S,t);break;case 189:for(var Ze=K.c;Ze<=K.C;++Ze){var Oe=K.rkrec[Ze-K.c][0];S={ixfe:Oe,XF:q[Oe],v:K.rkrec[Ze-K.c][1],t:"n"},V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe({c:Ze,r:K.r},S,t)}break;case 6:case 518:case 1030:{if(K.val=="String"){u=K;break}if(S=nf(K.val,K.cell.ixfe,K.tt),S.XF=q[S.ixfe],t.cellFormula){var Je=K.formula;if(Je&&Je[0]&&Je[0][0]&&Je[0][0][0]=="PtgExp"){var it=Je[0][0][1][0],Dt=Je[0][0][1][1],Ge=ft({r:it,c:Dt});I[Ge]?S.f=""+An(K.formula,l,K.cell,ie,J):S.F=((t.dense?(i[it]||[])[Dt]:i[Ge])||{}).F}else S.f=""+An(K.formula,l,K.cell,ie,J)}V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe(K.cell,S,t),u=K}break;case 7:case 519:if(u)u.val=K,S=nf(K,u.cell.ixfe,"s"),S.XF=q[S.ixfe],t.cellFormula&&(S.f=""+An(u.formula,l,u.cell,ie,J)),V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe(u.cell,S,t),u=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(K);var Kn=ft(K[0].s);if(E=t.dense?(i[K[0].s.r]||[])[K[0].s.c]:i[Kn],t.cellFormula&&E){if(!u||!Kn||!E)break;E.f=""+An(K[1],l,K[0],ie,J),E.F=Mt(K[0])}}break;case 1212:{if(!t.cellFormula)break;if(_){if(!u)break;I[ft(u.cell)]=K[0],E=t.dense?(i[u.cell.r]||[])[u.cell.c]:i[ft(u.cell)],(E||{}).f=""+An(K[0],l,v,ie,J)}}break;case 253:S=nf(g[K.isst].t,K.ixfe,"s"),g[K.isst].h&&(S.h=g[K.isst].h),S.XF=q[S.ixfe],V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe({c:K.c,r:K.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:K.ixfe,XF:q[K.ixfe],t:"z"},V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe({c:K.c,r:K.r},S,t));break;case 190:if(t.sheetStubs)for(var Bt=K.c;Bt<=K.C;++Bt){var $t=K.ixfe[Bt-K.c];S={ixfe:$t,XF:q[$t],t:"z"},V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe({c:Bt,r:K.r},S,t)}break;case 214:case 516:case 4:S=nf(K.val,K.ixfe,"s"),S.XF=q[S.ixfe],V>0&&(S.z=fe[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),oe({c:K.c,r:K.r},S,t);break;case 0:case 512:ze===1&&(l=K);break;case 252:g=K;break;case 1054:if(J.biff==4){fe[V++]=K[1];for(var Dr=0;Dr<V+163&&xt[Dr]!=K[1];++Dr);Dr>=163&&go(K[1],V+163)}else go(K[1],K[0]);break;case 30:{fe[V++]=K;for(var hr=0;hr<V+163&&xt[hr]!=K;++hr);hr>=163&&go(K,V+163)}break;case 229:Se=Se.concat(K);break;case 93:te[K.cmo[0]]=J.lastobj=K;break;case 438:J.lastobj.TxO=K;break;case 127:J.lastobj.ImData=K;break;case 440:for(R=K[0].s.r;R<=K[0].e.r;++R)for(C=K[0].s.c;C<=K[0].e.c;++C)E=t.dense?(i[R]||[])[C]:i[ft({c:C,r:R})],E&&(E.l=K[1]);break;case 2048:for(R=K[0].s.r;R<=K[0].e.r;++R)for(C=K[0].s.c;C<=K[0].e.c;++C)E=t.dense?(i[R]||[])[C]:i[ft({c:C,r:R})],E&&E.l&&(E.l.Tooltip=K[1]);break;case 28:{if(J.biff<=5&&J.biff>=2)break;E=t.dense?(i[K[0].r]||[])[K[0].c]:i[ft(K[0])];var Fn=te[K[2]];E||(t.dense?(i[K[0].r]||(i[K[0].r]=[]),E=i[K[0].r][K[0].c]={t:"z"}):E=i[ft(K[0])]={t:"z"},l.e.r=Math.max(l.e.r,K[0].r),l.s.r=Math.min(l.s.r,K[0].r),l.e.c=Math.max(l.e.c,K[0].c),l.s.c=Math.min(l.s.c,K[0].c)),E.c||(E.c=[]),A={a:K[1],t:Fn.TxO.t},E.c.push(A)}break;case 2173:oU(q[K.ixfe],K.ext);break;case 125:{if(!J.cellStyles)break;for(;K.e>=K.s;)Fe[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},Te||(Te=!0,Im(K.w/256)),Xl(Fe[K.e+1])}break;case 520:{var er={};K.level!=null&&(Ce[K.r]=er,er.level=K.level),K.hidden&&(Ce[K.r]=er,er.hidden=!0),K.hpt&&(Ce[K.r]=er,er.hpt=K.hpt,er.hpx=X0(K.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||l0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ee]]=K;break;case 161:i["!margins"]||l0(i["!margins"]={}),i["!margins"].header=K.header,i["!margins"].footer=K.footer;break;case 574:K.RTL&&(F.Views[0].RTL=!0);break;case 146:X=K;break;case 2198:_e=K;break;case 140:L=K;break;case 442:p?Z.CodeName=K||Z.name:F.WBProps.CodeName=K||"ThisWorkbook";break}}else Ne||console.error("Missing Info for XLS Record 0x"+Ee.toString(16)),e.l+=Ie}return r.SheetNames=Cs(a).sort(function(Gt,ut){return Number(Gt)-Number(ut)}).map(function(Gt){return a[Gt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&B.forEach(function(Gt,ut){r.Sheets[r.SheetNames[ut]]["!autofilter"]=Gt}),r.Strings=g,r.SSF=xn(xt),J.enc&&(r.Encryption=J.enc),_e&&(r.Themes=_e),r.Metadata={},L!==void 0&&(r.Metadata.Country=L),ie.names.length>0&&(F.Names=ie.names),r.Workbook=F,r}var Py={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function jH(e,t,r){var n=Pt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=wy(n,nM,Py.DSI);for(var a in i)t[a]=i[a]}catch(p){if(r.WTF)throw p}var l=Pt.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var u=wy(l,iM,Py.SI);for(var g in u)t[g]==null&&(t[g]=u[g])}catch(p){if(r.WTF)throw p}t.HeadingPairs&&t.TitlesOfParts&&(sS(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function HS(e,t){t||(t={}),Fm(t),m4(),t.codepage&&dm(t.codepage);var r,n;if(e.FullPaths){if(Pt.find(e,"/encryption"))throw new Error("File is password-protected");r=Pt.find(e,"!CompObj"),n=Pt.find(e,"/Workbook")||Pt.find(e,"/Book")}else{switch(t.type){case"base64":e=Qi(yi(e));break;case"binary":e=Qi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}hn(e,0),n={content:e}}var i,a;if(r&&MH(r),t.bookProps&&!t.bookSheets)i={};else{var l=Ft?"buffer":"array";if(n&&n.content)i=UH(n.content,t);else if((a=Pt.find(e,"PerfectOffice_MAIN"))&&a.content)i=a0.to_workbook(a.content,(t.type=l,t));else if((a=Pt.find(e,"NativeContent_MAIN"))&&a.content)i=a0.to_workbook(a.content,(t.type=l,t));else throw(a=Pt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Pt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=SU(e))}var u={};return e.FullPaths&&jH(e,u,t),i.Props=i.Custprops=u,t.bookFiles&&(i.cfb=e),i}var Nd={0:{f:_W},1:{f:SW},2:{f:FW},3:{f:IW},4:{f:kW},5:{f:DW},6:{f:BW},7:{f:NW},8:{f:HW},9:{f:WW},10:{f:UW},11:{f:jW},12:{f:TW},13:{f:PW},14:{f:RW},15:{f:bW},16:{f:BS},17:{f:LW},18:{f:OW},19:{f:Cm},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:pH},40:{},42:{},43:{f:UL},44:{f:LL},45:{f:jL},46:{f:HL},47:{f:WL},48:{},49:{f:VP},50:{},51:{f:cU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mS},62:{f:MW},63:{f:gU},64:{f:ZW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Nn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:AW},148:{f:EW,p:16},151:{f:GW},152:{},153:{f:hH},154:{},155:{},156:{f:dH},157:{},158:{},159:{T:1,f:iL},160:{T:-1},161:{T:1,f:Ho},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:VW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lU},336:{T:-1},337:{f:uU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ep},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xS},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:XW},427:{f:$W},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:KW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:CW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ep},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:EU},633:{T:1},634:{T:-1},635:{T:1,f:_U},636:{T:-1},637:{f:GP},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nH},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},sp={6:{f:T1},10:{f:sa},12:{f:Ur},13:{f:Ur},14:{f:Ir},15:{f:Ir},16:{f:Tn},17:{f:Ir},18:{f:Ir},19:{f:Ur},20:{f:Ey},21:{f:Ey},23:{f:xS},24:{f:Ay},25:{f:Ir},26:{},27:{},28:{f:vB},29:{},34:{f:Ir},35:{f:Cy},38:{f:Tn},39:{f:Tn},40:{f:Tn},41:{f:Tn},42:{f:Ir},43:{f:Ir},47:{f:CL},49:{f:eB},51:{f:Ur},60:{},61:{f:ZM},64:{f:Ir},65:{f:JM},66:{f:Ur},77:{},80:{},81:{},82:{},85:{f:Ur},89:{},90:{},91:{},92:{f:VM},93:{f:_B},94:{},95:{f:Ir},96:{},97:{},99:{f:Ir},125:{f:mS},128:{f:uB},129:{f:zM},130:{f:Ur},131:{f:Ir},132:{f:Ir},133:{f:GM},134:{},140:{f:kB},141:{f:Ur},144:{},146:{f:IB},151:{},152:{},153:{},154:{},155:{},156:{f:Ur},157:{},158:{},160:{f:FB},161:{f:NB},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:aB},190:{f:oB},193:{f:sa},197:{},198:{},199:{},200:{},201:{},202:{f:Ir},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ur},220:{},221:{f:Ir},222:{},224:{f:cB},225:{f:HM},226:{f:sa},227:{},229:{f:yB},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:XM},253:{f:tB},255:{f:$M},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:uS},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ir},353:{f:sa},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:dB},431:{f:Ir},432:{},433:{},434:{},437:{},438:{f:AB},439:{f:Ir},440:{f:SB},441:{},442:{f:wu},443:{},444:{f:Ur},445:{},446:{},448:{f:sa},449:{f:qM,r:2},450:{f:sa},512:{f:yy},513:{f:DB},515:{f:fB},516:{f:rB},517:{f:_y},519:{f:PB},520:{f:YM},523:{},545:{f:Sy},549:{f:vy},566:{},574:{f:QM},638:{f:sB},659:{},1048:{},1054:{f:nB},1084:{},1212:{f:xB},2048:{f:TB},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ef},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:sa},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:RB,r:12},2173:{f:aU,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ir,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:pB,r:12},2197:{},2198:{f:eU,r:12},2199:{},2200:{},2201:{},2202:{f:mB,r:12},2203:{f:sa},2204:{},2205:{},2206:{},2207:{},2211:{f:KM},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ur},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:OB},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:bB},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:yy},1:{},2:{f:UB},3:{f:LB},4:{f:BB},5:{f:_y},7:{f:jB},8:{},9:{f:ef},11:{},22:{f:Ur},30:{f:iB},31:{},32:{},33:{f:Sy},36:{},37:{f:vy},50:{f:WB},62:{},52:{},67:{},68:{f:Ur},69:{},86:{},126:{},127:{f:MB},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:HB},223:{},234:{},354:{},421:{},518:{f:T1},521:{f:ef},536:{f:Ay},547:{f:Cy},561:{},579:{},1030:{f:T1},1033:{f:ef},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $i(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,l=e.next(4);l.write_shift(2,i),l.write_shift(2,a),a>0&&Z4(r)&&e.push(r)}}function My(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),l=i.index,u=a&&a.index||e.length,g=fP(e.slice(l,u),/(:?<tr[^>]*>)/i,"<tr>"),p=-1,m=0,v=0,_=0,E={s:{r:1e7,c:1e7},e:{r:0,c:0}},A=[];for(l=0;l<g.length;++l){var C=g[l].trim(),R=C.slice(0,3).toLowerCase();if(R=="<tr"){if(++p,r.sheetRows&&r.sheetRows<=p){--p;break}m=0;continue}if(!(R!="<td"&&R!="<th")){var I=C.split(/<\/t[dh]>/i);for(u=0;u<I.length;++u){var b=I[u].trim();if(b.match(/<t[dh]/i)){for(var S=b,L=0;S.charAt(0)=="<"&&(L=S.indexOf(">"))>-1;)S=S.slice(L+1);for(var q=0;q<A.length;++q){var X=A[q];X.s.c==m&&X.s.r<p&&p<=X.e.r&&(m=X.e.c+1,q=-1)}var F=lt(b.slice(0,b.indexOf(">")));_=F.colspan?+F.colspan:1,((v=+F.rowspan)>1||_>1)&&A.push({s:{r:p,c:m},e:{r:p+(v||1)-1,c:m+_-1}});var Z=F.t||F["data-t"]||"";if(!S.length){m+=_;continue}if(S=L4(S),E.s.r>p&&(E.s.r=p),E.e.r<p&&(E.e.r=p),E.s.c>m&&(E.s.c=m),E.e.c<m&&(E.e.c=m),!S.length){m+=_;continue}var W={t:"s",v:S};r.raw||!S.trim().length||Z=="s"||(S==="TRUE"?W={t:"b",v:!0}:S==="FALSE"?W={t:"b",v:!1}:isNaN(ss(S))?isNaN(Gl(S).getDate())||(W={t:"d",v:an(S)},r.cellDates||(W={t:"n",v:Gn(W.v)}),W.z=r.dateNF||xt[14]):W={t:"n",v:ss(S)}),r.dense?(n[p]||(n[p]=[]),n[p][m]=W):n[ft({r:p,c:m})]=W,m+=_}}}}return n["!ref"]=Mt(E),A.length&&(n["!merges"]=A),n}function WH(e,t,r,n){for(var i=e["!merges"]||[],a=[],l=t.s.c;l<=t.e.c;++l){for(var u=0,g=0,p=0;p<i.length;++p)if(!(i[p].s.r>r||i[p].s.c>l)&&!(i[p].e.r<r||i[p].e.c<l)){if(i[p].s.r<r||i[p].s.c<l){u=-1;break}u=i[p].e.r-i[p].s.r+1,g=i[p].e.c-i[p].s.c+1;break}if(!(u<0)){var m=ft({r,c:l}),v=n.dense?(e[r]||[])[l]:e[m],_=v&&v.v!=null&&(v.h||wm(v.w||($s(v),v.w)||""))||"",E={};u>1&&(E.rowspan=u),g>1&&(E.colspan=g),n.editable?_='<span contenteditable="true">'+_+"</span>":v&&(E["data-t"]=v&&v.t||"z",v.v!=null&&(E["data-v"]=v.v),v.z!=null&&(E["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+v.l.Target+'">'+_+"</a>")),E.id=(n.id||"sjs")+"-"+m,a.push(kP("td",_,E))}}var A="<tr>";return A+a.join("")+"</tr>"}var HH='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',VH="</body></html>";function zH(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return za(My(r[0],t),t);var n=Mm();return r.forEach(function(i,a){Bm(n,My(i,t),"Sheet"+(a+1))}),n}function GH(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function XH(e,t){var r=t||{},n=r.header!=null?r.header:HH,i=r.footer!=null?r.footer:VH,a=[n],l=ac(e["!ref"]);r.dense=Array.isArray(e),a.push(GH(e,l,r));for(var u=l.s.r;u<=l.e.r;++u)a.push(WH(e,l,u,r));return a.push("</table>"+i),a.join("")}function VS(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?jn(n.origin):n.origin;i=l.r,a=l.c}var u=t.getElementsByTagName("tr"),g=Math.min(n.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var m=ac(e["!ref"]);p.s.r=Math.min(p.s.r,m.s.r),p.s.c=Math.min(p.s.c,m.s.c),p.e.r=Math.max(p.e.r,m.e.r),p.e.c=Math.max(p.e.c,m.e.c),i==-1&&(p.e.r=i=m.e.r+1)}var v=[],_=0,E=e["!rows"]||(e["!rows"]=[]),A=0,C=0,R=0,I=0,b=0,S=0;for(e["!cols"]||(e["!cols"]=[]);A<u.length&&C<g;++A){var L=u[A];if(By(L)){if(n.display)continue;E[C]={hidden:!0}}var q=L.children;for(R=I=0;R<q.length;++R){var X=q[R];if(!(n.display&&By(X))){var F=X.hasAttribute("data-v")?X.getAttribute("data-v"):X.hasAttribute("v")?X.getAttribute("v"):L4(X.innerHTML),Z=X.getAttribute("data-z")||X.getAttribute("z");for(_=0;_<v.length;++_){var W=v[_];W.s.c==I+a&&W.s.r<C+i&&C+i<=W.e.r&&(I=W.e.c+1-a,_=-1)}S=+X.getAttribute("colspan")||1,((b=+X.getAttribute("rowspan")||1)>1||S>1)&&v.push({s:{r:C+i,c:I+a},e:{r:C+i+(b||1)-1,c:I+a+(S||1)-1}});var le={t:"s",v:F},oe=X.getAttribute("data-t")||X.getAttribute("t")||"";F!=null&&(F.length==0?le.t=oe||"z":n.raw||F.trim().length==0||oe=="s"||(F==="TRUE"?le={t:"b",v:!0}:F==="FALSE"?le={t:"b",v:!1}:isNaN(ss(F))?isNaN(Gl(F).getDate())||(le={t:"d",v:an(F)},n.cellDates||(le={t:"n",v:Gn(le.v)}),le.z=n.dateNF||xt[14]):le={t:"n",v:ss(F)})),le.z===void 0&&Z!=null&&(le.z=Z);var J="",_e=X.getElementsByTagName("A");if(_e&&_e.length)for(var Se=0;Se<_e.length&&!(_e[Se].hasAttribute("href")&&(J=_e[Se].getAttribute("href"),J.charAt(0)!="#"));++Se);J&&J.charAt(0)!="#"&&(le.l={Target:J}),n.dense?(e[C+i]||(e[C+i]=[]),e[C+i][I+a]=le):e[ft({c:I+a,r:C+i})]=le,p.e.c<I+a&&(p.e.c=I+a),I+=S}}++C}return v.length&&(e["!merges"]=(e["!merges"]||[]).concat(v)),p.e.r=Math.max(p.e.r,C-1+i),e["!ref"]=Mt(p),C>=g&&(e["!fullref"]=Mt((p.e.r=u.length-A+C-1+i,p))),e}function zS(e,t){var r=t||{},n=r.dense?[]:{};return VS(n,e,t)}function $H(e,t){return za(zS(e,t),t)}function By(e){var t="",r=YH(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function YH(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function KH(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=jt(t.replace(/<[^>]*>/g,""));return[r]}var Ly={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function GS(e,t){var r=t||{},n=vm(e),i=[],a,l,u={name:""},g="",p=0,m,v,_={},E=[],A=r.dense?[]:{},C,R,I={value:""},b="",S=0,L=[],q=-1,X=-1,F={s:{r:1e6,c:1e7},e:{r:0,c:0}},Z=0,W={},le=[],oe={},J=0,_e=0,Se=[],te=1,Fe=1,Ce=[],Te={Names:[]},ie={},be=["",""],ze=[],V={},fe="",B=0,Q=!1,ne=!1,Ae=0;for(V0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");C=V0.exec(n);)switch(C[3]=C[3].replace(/_.*$/,"")){case"table":case"":C[1]==="/"?(F.e.c>=F.s.c&&F.e.r>=F.s.r?A["!ref"]=Mt(F):A["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=F.e.r&&(A["!fullref"]=A["!ref"],F.e.r=r.sheetRows-1,A["!ref"]=Mt(F)),le.length&&(A["!merges"]=le),Se.length&&(A["!rows"]=Se),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),E.push(m.name),_[m.name]=A,ne=!1):C[0].charAt(C[0].length-2)!=="/"&&(m=lt(C[0],!1),q=X=-1,F.s.r=F.s.c=1e7,F.e.r=F.e.c=0,A=r.dense?[]:{},le=[],Se=[],ne=!0);break;case"table-row-group":C[1]==="/"?--Z:++Z;break;case"table-row":case"":if(C[1]==="/"){q+=te,te=1;break}if(v=lt(C[0],!1),v.?q=v.-1:q==-1&&(q=0),te=+v["number-rows-repeated"]||1,te<10)for(Ae=0;Ae<te;++Ae)Z>0&&(Se[q+Ae]={level:Z});X=-1;break;case"covered-table-cell":C[1]!=="/"&&++X,r.sheetStubs&&(r.dense?(A[q]||(A[q]=[]),A[q][X]={t:"z"}):A[ft({r:q,c:X})]={t:"z"}),b="",L=[];break;case"table-cell":case"":if(C[0].charAt(C[0].length-2)==="/")++X,I=lt(C[0],!1),Fe=parseInt(I["number-columns-repeated"]||"1",10),R={t:"z",v:null},I.formula&&r.cellFormula!=!1&&(R.f=Oy(jt(I.formula))),(I.||I["value-type"])=="string"&&(R.t="s",R.v=jt(I["string-value"]||""),r.dense?(A[q]||(A[q]=[]),A[q][X]=R):A[ft({r:q,c:X})]=R),X+=Fe-1;else if(C[1]!=="/"){++X,b="",S=0,L=[],Fe=1;var Ee=te?q+te-1:q;if(X>F.e.c&&(F.e.c=X),X<F.s.c&&(F.s.c=X),q<F.s.r&&(F.s.r=q),Ee>F.e.r&&(F.e.r=Ee),I=lt(C[0],!1),ze=[],V={},R={t:I.||I["value-type"],v:null},r.cellFormula)if(I.formula&&(I.formula=jt(I.formula)),I["number-matrix-columns-spanned"]&&I["number-matrix-rows-spanned"]&&(J=parseInt(I["number-matrix-rows-spanned"],10)||0,_e=parseInt(I["number-matrix-columns-spanned"],10)||0,oe={s:{r:q,c:X},e:{r:q+J-1,c:X+_e-1}},R.F=Mt(oe),Ce.push([oe,R.F])),I.formula)R.f=Oy(I.formula);else for(Ae=0;Ae<Ce.length;++Ae)q>=Ce[Ae][0].s.r&&q<=Ce[Ae][0].e.r&&X>=Ce[Ae][0].s.c&&X<=Ce[Ae][0].e.c&&(R.F=Ce[Ae][1]);switch((I["number-columns-spanned"]||I["number-rows-spanned"])&&(J=parseInt(I["number-rows-spanned"],10)||0,_e=parseInt(I["number-columns-spanned"],10)||0,oe={s:{r:q,c:X},e:{r:q+J-1,c:X+_e-1}},le.push(oe)),I["number-columns-repeated"]&&(Fe=parseInt(I["number-columns-repeated"],10)),R.t){case"boolean":R.t="b",R.v=pr(I["boolean-value"]);break;case"float":R.t="n",R.v=parseFloat(I.value);break;case"percentage":R.t="n",R.v=parseFloat(I.value);break;case"currency":R.t="n",R.v=parseFloat(I.value);break;case"date":R.t="d",R.v=an(I["date-value"]),r.cellDates||(R.t="n",R.v=Gn(R.v)),R.z="m/d/yy";break;case"time":R.t="n",R.v=lP(I["time-value"])/86400,r.cellDates&&(R.t="d",R.v=gh(R.v)),R.z="HH:MM:SS";break;case"number":R.t="n",R.v=parseFloat(I.);break;default:if(R.t==="string"||R.t==="text"||!R.t)R.t="s",I["string-value"]!=null&&(b=jt(I["string-value"]),L=[]);else throw new Error("Unsupported value type "+R.t)}}else{if(Q=!1,R.t==="s"&&(R.v=b||"",L.length&&(R.R=L),Q=S==0),ie.Target&&(R.l=ie),ze.length>0&&(R.c=ze,ze=[]),b&&r.cellText!==!1&&(R.w=b),Q&&(R.t="z",delete R.v),(!Q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=q))for(var Ie=0;Ie<te;++Ie){if(Fe=parseInt(I["number-columns-repeated"]||"1",10),r.dense)for(A[q+Ie]||(A[q+Ie]=[]),A[q+Ie][X]=Ie==0?R:xn(R);--Fe>0;)A[q+Ie][X+Fe]=xn(R);else for(A[ft({r:q+Ie,c:X})]=R;--Fe>0;)A[ft({r:q+Ie,c:X+Fe})]=xn(R);F.e.c<=X&&(F.e.c=X)}Fe=parseInt(I["number-columns-repeated"]||"1",10),X+=Fe-1,Fe=0,R={},b="",L=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!0]);break;case"annotation":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a;V.t=b,L.length&&(V.R=L),V.a=fe,ze.push(V)}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);fe="",B=0,b="",S=0,L=[];break;case"creator":C[1]==="/"?fe=n.slice(B,C.index):B=C.index+C[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);b="",S=0,L=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(C[1]==="/"){if(W[u.name]=g,(a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&(g="",u=lt(C[0],!1),i.push([C[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=lt(C[0],!1),g+=Ly[C[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=lt(C[0],!1),g+=Ly[C[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(C[0].slice(-2)==="/>")break;if(C[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":g+=n.slice(p,C.index);break}else p=C.index+C[0].length;break;case"named-range":l=lt(C[0],!1),be=k1(l["cell-range-address"]);var Ne={Name:l.name,Ref:be[0]+"!"+be[1]};ne&&(Ne.Sheet=E.length),Te.Names.push(Ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(C[1]==="/"&&(!I||!I["string-value"])){var tt=KH(n.slice(S,C.index));b=(b.length>0?b+`
`:"")+tt[0]}else lt(C[0],!1),S=C.index+C[0].length;break;case"s":break;case"database-range":if(C[1]==="/")break;try{be=k1(lt(C[0])["target-range-address"]),_[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(C[1]!=="/"){if(ie=lt(C[0],!1),!ie.href)break;ie.Target=jt(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(be=k1(ie.Target.slice(1)),ie.Target="#"+be[0]+"!"+be[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(C[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(C)}}var K={Sheets:_,SheetNames:E,Workbook:Te};return r.bookSheets&&delete K.Sheets,K}function Uy(e,t){t=t||{},Ni(e,"META-INF/manifest.xml")&&fM(Lr(e,"META-INF/manifest.xml"),t);var r=gi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=GS(ar(r),t);return Ni(e,"meta.xml")&&(n.Props=iS(Lr(e,"meta.xml"))),n}function jy(e,t){return GS(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Om(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ap(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ar(jo(e))}function op(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function Wy(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function qH(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function $0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function qr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function kn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=$0(e,r),a=i&7;i=Math.floor(i/8);var l=0,u;if(i==0)break;switch(a){case 0:{for(var g=r[0];e[r[0]++]>=128;);u=e.slice(g,r[0])}break;case 5:l=4,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=$0(e,r),u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var p={data:u,type:a};t[i]==null?t[i]=[p]:t[i].push(p)}return t}function Dm(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function ZH(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=$0(e,n),a=kn(e.slice(n[0],n[0]+i));n[0]+=i;var l={id:qr(a[1][0].data),messages:[]};a[2].forEach(function(u){var g=kn(u.data),p=qr(g[3][0].data);l.messages.push({meta:g,data:e.slice(n[0],n[0]+p)}),n[0]+=p}),(t=a[3])!=null&&t[0]&&(l.merge=qr(a[3][0].data)>>>0>0),r.push(l)}return r}function QH(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=$0(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var u=l-59;l=t[r[0]],u>1&&(l|=t[r[0]+1]<<8),u>2&&(l|=t[r[0]+2]<<16),u>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=u}i.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var g=0,p=0;if(a==1?(p=(t[r[0]]>>2&7)+4,g=(t[r[0]++]&224)<<3,g|=t[r[0]++]):(p=(t[r[0]++]>>2)+1,a==2?(g=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(g=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[op(i)],g==0)throw new Error("Invalid offset 0");if(g>i[0].length)throw new Error("Invalid offset beyond length");if(p>=g)for(i.push(i[0].slice(-g)),p-=g;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-g,-g+p))}}var m=op(i);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function JH(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(QH(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return op(t)}function eV(e,t,r,n){var i=Om(e),a=i.getUint32(4,!0),l=(n>1?12:8)+Wy(a&(n>1?3470:398))*4,u=-1,g=-1,p=NaN,m=new Date(2001,0,1);a&512&&(u=i.getUint32(l,!0),l+=4),l+=Wy(a&(n>1?12288:4096))*4,a&16&&(g=i.getUint32(l,!0),l+=4),a&32&&(p=i.getFloat64(l,!0),l+=8),a&64&&(m.setTime(m.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var v;switch(e[2]){case 0:break;case 2:v={t:"n",v:p};break;case 3:v={t:"s",v:t[g]};break;case 5:v={t:"d",v:m};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(u>-1)v={t:"s",v:r[u]};else if(g>-1)v={t:"s",v:t[g]};else if(!isNaN(p))v={t:"n",v:p};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return v}function tV(e,t,r){var n=Om(e),i=n.getUint32(8,!0),a=12,l=-1,u=-1,g=NaN,p=NaN,m=new Date(2001,0,1);i&1&&(g=qH(e,a),a+=16),i&2&&(p=n.getFloat64(a,!0),a+=8),i&4&&(m.setTime(m.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(u=n.getUint32(a,!0),a+=4),i&16&&(l=n.getUint32(a,!0),a+=4);var v;switch(e[1]){case 0:break;case 2:v={t:"n",v:g};break;case 3:v={t:"s",v:t[u]};break;case 5:v={t:"d",v:m};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(l>-1)v={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:v={t:"n",v:g};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return v}function rV(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return eV(e,t,r,e[0]);case 5:return tV(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Oa(e){var t=kn(e);return $0(t[1][0].data)}function Hy(e,t){var r=kn(t.data),n=qr(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(l){var u=kn(l.data),g=qr(u[1][0].data)>>>0;switch(n){case 1:a[g]=ap(u[3][0].data);break;case 8:{var p=e[Oa(u[9][0].data)][0],m=kn(p.data),v=e[Oa(m[1][0].data)][0],_=qr(v.meta[1][0].data);if(_!=2001)throw new Error("2000 unexpected reference to ".concat(_));var E=kn(v.data);a[g]=E[3].map(function(A){return ap(A.data)}).join("")}break}}),a}function nV(e,t){var r,n,i,a,l,u,g,p,m,v,_,E,A,C,R=kn(e),I=qr(R[1][0].data)>>>0,b=qr(R[2][0].data)>>>0,S=((n=(r=R[8])==null?void 0:r[0])==null?void 0:n.data)&&qr(R[8][0].data)>0||!1,L,q;if((a=(i=R[7])==null?void 0:i[0])!=null&&a.data&&t!=0)L=(u=(l=R[7])==null?void 0:l[0])==null?void 0:u.data,q=(p=(g=R[6])==null?void 0:g[0])==null?void 0:p.data;else if((v=(m=R[4])==null?void 0:m[0])!=null&&v.data&&t!=1)L=(E=(_=R[4])==null?void 0:_[0])==null?void 0:E.data,q=(C=(A=R[3])==null?void 0:A[0])==null?void 0:C.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var X=S?4:1,F=Om(L),Z=[],W=0;W<L.length/2;++W){var le=F.getUint16(W*2,!0);le<65535&&Z.push([W,le])}if(Z.length!=b)throw"Expected ".concat(b," cells, found ").concat(Z.length);var oe=[];for(W=0;W<Z.length-1;++W)oe[Z[W][0]]=q.subarray(Z[W][1]*X,Z[W+1][1]*X);return Z.length>=1&&(oe[Z[Z.length-1][0]]=q.subarray(Z[Z.length-1][1]*X)),{R:I,cells:oe}}function iV(e,t){var r,n=kn(t.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?qr(n[7][0].data)>>>0>0?1:0:-1,a=Dm(n[5],function(l){return nV(l,i)});return{nrows:qr(n[4][0].data)>>>0,data:a.reduce(function(l,u){return l[u.R]||(l[u.R]=[]),u.cells.forEach(function(g,p){if(l[u.R][p])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(p));l[u.R][p]=g}),l},[])}}function sV(e,t,r){var n,i=kn(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(qr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(qr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Mt(a);var l=kn(i[4][0].data),u=Hy(e,e[Oa(l[4][0].data)][0]),g=(n=l[17])!=null&&n[0]?Hy(e,e[Oa(l[17][0].data)][0]):[],p=kn(l[3][0].data),m=0;p[1].forEach(function(v){var _=kn(v.data),E=e[Oa(_[2][0].data)][0],A=qr(E.meta[1][0].data);if(A!=6002)throw new Error("6001 unexpected reference to ".concat(A));var C=iV(e,E);C.data.forEach(function(R,I){R.forEach(function(b,S){var L=ft({r:m+I,c:S}),q=rV(b,u,g);q&&(r[L]=q)})}),m+=C.nrows})}function aV(e,t){var r=kn(t.data),n={"!ref":"A1"},i=e[Oa(r[2][0].data)],a=qr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return sV(e,i[0],n),n}function oV(e,t){var r,n=kn(t.data),i={name:(r=n[1])!=null&&r[0]?ap(n[1][0].data):"",sheets:[]},a=Dm(n[2],Oa);return a.forEach(function(l){e[l].forEach(function(u){var g=qr(u.meta[1][0].data);g==6e3&&i.sheets.push(aV(e,u))})}),i}function lV(e,t){var r=Mm(),n=kn(t.data),i=Dm(n[1],Oa);if(i.forEach(function(a){e[a].forEach(function(l){var u=qr(l.meta[1][0].data);if(u==2){var g=oV(e,l);g.sheets.forEach(function(p,m){Bm(r,p,m==0?g.name:g.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function I1(e){var t,r,n,i,a={},l=[];if(e.FullPaths.forEach(function(g){if(g.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(g){if(g.name.match(/\.iwa$/)){var p;try{p=JH(g.content)}catch(v){return console.log("?? "+g.content.length+" "+(v.message||v))}var m;try{m=ZH(p)}catch(v){return console.log("## "+(v.message||v))}m.forEach(function(v){a[v.id]=v.messages,l.push(v.id)})}}),!l.length)throw new Error("File has no messages");var u=((i=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&qr(a[1][0].meta[1][0].data)==1&&a[1][0];if(u||l.forEach(function(g){a[g].forEach(function(p){var m=qr(p.meta[1][0].data)>>>0;if(m==1)if(!u)u=p;else throw new Error("Document has multiple roots")})}),!u)throw new Error("Cannot find Document root");return lV(a,u)}function cV(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Fm(e){cV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function uV(e){return xl.WS.indexOf(e)>-1?"sheet":e==xl.CS?"chart":e==xl.DS?"dialog":e==xl.MS?"macro":e&&e.length?e:"sheet"}function fV(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,uV(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function dV(e,t,r,n,i,a,l,u,g,p,m,v){try{a[n]=i0(gi(e,r,!0),t);var _=Lr(e,t),E;switch(u){case"sheet":E=wH(_,t,i,g,a[n],p,m,v);break;case"chart":if(E=vH(_,t,i,g,a[n],p,m,v),!E||!E["!drawel"])break;var A=Mc(E["!drawel"].Target,t),C=tp(A),R=mU(gi(e,A,!0),i0(gi(e,C,!0),A)),I=Mc(R,A),b=tp(I);E=tH(gi(e,I,!0),I,g,i0(gi(e,b,!0),I),p,E);break;case"macro":E=yH(_,t,i,g,a[n],p,m,v);break;case"dialog":E=_H(_,t,i,g,a[n],p,m,v);break;default:throw new Error("Unrecognized sheet type "+u)}l[n]=E;var S=[];a&&a[n]&&Cs(a[n]).forEach(function(L){var q="";if(a[n][L].Type==xl.CMNT){q=Mc(a[n][L].Target,t);var X=SH(Lr(e,q,!0),q,g);if(!X||!X.length)return;ky(E,X,!1)}a[n][L].Type==xl.TCMNT&&(q=Mc(a[n][L].Target,t),S=S.concat(vU(Lr(e,q,!0),g)))}),S&&S.length&&ky(E,S,!0,g.people||[])}catch(L){if(g.WTF)throw L}}function Ii(e){return e.charAt(0)=="/"?e.slice(1):e}function hV(e,t){if(I4(),t=t||{},Fm(t),Ni(e,"META-INF/manifest.xml")||Ni(e,"objectdata.xml"))return Uy(e,t);if(Ni(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof I1<"u"){if(e.FileIndex)return I1(e);var r=Pt.utils.cfb_new();return ey(e).forEach(function(Se){gP(r,Se,hP(e,Se))}),I1(r)}throw new Error("Unsupported NUMBERS file")}if(!Ni(e,"[Content_Types].xml"))throw Ni(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ni(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=ey(e),i=cM(gi(e,"[Content_Types].xml")),a=!1,l,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",Lr(e,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!Lr(e,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var g={},p={};if(!t.bookSheets&&!t.bookProps){if(o0=[],i.sst)try{o0=AH(Lr(e,Ii(i.sst)),i.sst,t)}catch(Se){if(t.WTF)throw Se}t.cellStyles&&i.themes.length&&(g=CH(gi(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(p=EH(Lr(e,Ii(i.style)),i.style,g,t))}i.links.map(function(Se){try{var te=i0(gi(e,tp(Ii(Se))),Se);return kH(Lr(e,Ii(Se)),te,Se,t)}catch{}});var m=mH(Lr(e,Ii(i.workbooks[0])),i.workbooks[0],t),v={},_="";i.coreprops.length&&(_=Lr(e,Ii(i.coreprops[0]),!0),_&&(v=iS(_)),i.extprops.length!==0&&(_=Lr(e,Ii(i.extprops[0]),!0),_&&gM(_,v,t)));var E={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(_=gi(e,Ii(i.custprops[0]),!0),_&&(E=xM(_,t)));var A={};if((t.bookSheets||t.bookProps)&&(m.Sheets?l=m.Sheets.map(function(te){return te.name}):v.Worksheets&&v.SheetNames.length>0&&(l=v.SheetNames),t.bookProps&&(A.Props=v,A.Custprops=E),t.bookSheets&&typeof l<"u"&&(A.SheetNames=l),t.bookSheets?A.SheetNames:t.bookProps))return A;l={};var C={};t.bookDeps&&i.calcchain&&(C=TH(Lr(e,Ii(i.calcchain)),i.calcchain));var R=0,I={},b,S;{var L=m.Sheets;v.Worksheets=L.length,v.SheetNames=[];for(var q=0;q!=L.length;++q)v.SheetNames[q]=L[q].name}var X=a?"bin":"xml",F=i.workbooks[0].lastIndexOf("/"),Z=(i.workbooks[0].slice(0,F+1)+"_rels/"+i.workbooks[0].slice(F+1)+".rels").replace(/^\//,"");Ni(e,Z)||(Z="xl/_rels/workbook."+X+".rels");var W=i0(gi(e,Z,!0),Z.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=bH(Lr(e,Ii(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=yU(Lr(e,Ii(i.people[0])),t)),W&&(W=fV(W,m.Sheets));var le=Lr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(R=0;R!=v.Worksheets;++R){var oe="sheet";if(W&&W[R]?(b="xl/"+W[R][1].replace(/[\/]?xl\//,""),Ni(e,b)||(b=W[R][1]),Ni(e,b)||(b=Z.replace(/_rels\/.*$/,"")+W[R][1]),oe=W[R][2]):(b="xl/worksheets/sheet"+(R+1-le)+"."+X,b=b.replace(/sheet0\./,"sheet.")),S=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(R!=t.sheets)continue e;break;case"string":if(v.SheetNames[R].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var J=!1,_e=0;_e!=t.sheets.length;++_e)typeof t.sheets[_e]=="number"&&t.sheets[_e]==R&&(J=1),typeof t.sheets[_e]=="string"&&t.sheets[_e].toLowerCase()==v.SheetNames[R].toLowerCase()&&(J=1);if(!J)continue e}}dV(e,b,S,v.SheetNames[R],R,I,l,oe,t,m,g,p)}return A={Directory:i,Workbook:m,Props:v,Custprops:E,Deps:C,Sheets:l,SheetNames:v.SheetNames,Strings:o0,Styles:p,Themes:g,SSF:xn(xt)},t&&t.bookFiles&&(e.files?(A.keys=n,A.files=e.files):(A.keys=[],A.files={},e.FullPaths.forEach(function(Se,te){Se=Se.replace(/^Root Entry[\/]/,""),A.keys.push(Se),A.files[Se]=e.FileIndex[te]}))),t&&t.bookVBA&&(i.vba.length>0?A.vbaraw=Lr(e,Ii(i.vba[0]),!0):i.defaults&&i.defaults.bin===AU&&(A.vbaraw=Lr(e,"xl/vbaProject.bin",!0))),A}function gV(e,t){var r=t||{},n="Workbook",i=Pt.find(e,n);try{if(n="/!DataSpaces/Version",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(aL(i.content),n="/!DataSpaces/DataSpaceMap",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=lL(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=cL(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);fL(i.content)}catch{}if(n="/EncryptionInfo",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var u=dL(i.content);if(n="/EncryptedPackage",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(u[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(u[1],i.content,r.password||"",r);if(u[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(u[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Pm(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=yi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function pV(e,t){return Pt.find(e,"EncryptedPackage")?gV(e,t):HS(e,t)}function xV(e,t){var r,n=e,i=t||{};return i.type||(i.type=Ft&&Buffer.isBuffer(e)?"buffer":"base64"),r=P4(n,i),hV(r,i)}function XS(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return ip(e.slice(r),t);default:break e}return z0.to_workbook(e,t)}function mV(e,t){var r="",n=Pm(e,t);switch(t.type){case"base64":r=yi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=bo(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ar(r)),t.type="binary",XS(r,t)}function wV(e,t){var r=e;return t.type=="base64"&&(r=yi(r)),r=j0.utils.decode(1200,r.slice(2),"str"),t.type="binary",XS(r,t)}function vV(e){return e.match(/[^\x00-\x7F]/)?Bc(e):e}function R1(e,t,r,n){return n?(r.type="string",z0.to_workbook(e,r)):z0.to_workbook(t,r)}function lp(e,t){m4();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return lp(new Uint8Array(e),(r=xn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Il={},r.dateNF&&(Il.dateNF=r.dateNF),r.type||(r.type=Ft&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ft?"buffer":"binary",n=aP(e),typeof Uint8Array<"u"&&!Ft&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=vV(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),u=new Uint8Array(l);if(u.foo="bar",!u.foo)return r=xn(r),r.type="array",lp(hm(n),r)}switch((i=Pm(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return pV(Pt.read(n,r),r);break;case 9:if(i[1]<=8)return HS(n,r);break;case 60:return ip(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return $B(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return GB.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?xV(n,r):R1(e,n,r,a);case 239:return i[3]===60?ip(n,r):R1(e,n,r,a);case 255:if(i[1]===254)return wV(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return a0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return a0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Ty.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return AL.to_workbook(n,r);break;case 10:case 13:case 32:return mV(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return VB.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Ty.to_workbook(n,r):R1(e,n,r,a)}function yV(e,t,r,n,i,a,l,u){var g=mn(r),p=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),v=!0,_=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:r,enumerable:!1})}catch{_.__rowNum__=r}else _.__rowNum__=r;if(!l||e[r])for(var E=t.s.c;E<=t.e.c;++E){var A=l?e[r][E]:e[n[E]+g];if(A===void 0||A.t===void 0){if(p===void 0)continue;a[E]!=null&&(_[a[E]]=p);continue}var C=A.v;switch(A.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(a[E]!=null){if(C==null)if(A.t=="e"&&C===null)_[a[E]]=null;else if(p!==void 0)_[a[E]]=p;else if(m&&C===null)_[a[E]]=null;else continue;else _[a[E]]=m&&(A.t!=="n"||A.t==="n"&&u.rawNumbers!==!1)?C:$s(A,C,u);C!=null&&(v=!1)}}return{row:_,isempty:v}}function cp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],l=0,u="",g={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},m=p.range!=null?p.range:e["!ref"];switch(p.header===1?n=1:p.header==="A"?n=2:Array.isArray(p.header)?n=3:p.header==null&&(n=0),typeof m){case"string":g=kr(m);break;case"number":g=kr(e["!ref"]),g.s.r=m;break;default:g=m}n>0&&(i=0);var v=mn(g.s.r),_=[],E=[],A=0,C=0,R=Array.isArray(e),I=g.s.r,b=0,S={};R&&!e[I]&&(e[I]=[]);var L=p.skipHidden&&e["!cols"]||[],q=p.skipHidden&&e["!rows"]||[];for(b=g.s.c;b<=g.e.c;++b)if(!(L[b]||{}).hidden)switch(_[b]=Kr(b),r=R?e[I][b]:e[_[b]+v],n){case 1:a[b]=b-g.s.c;break;case 2:a[b]=_[b];break;case 3:a[b]=p.header[b-g.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=l=$s(r,null,p),C=S[l]||0,!C)S[l]=1;else{do u=l+"_"+C++;while(S[u]);S[l]=C,S[u]=1}a[b]=u}for(I=g.s.r+i;I<=g.e.r;++I)if(!(q[I]||{}).hidden){var X=yV(e,g,I,_,n,a,R,p);(X.isempty===!1||(n===1?p.blankrows!==!1:p.blankrows))&&(E[A++]=X.row)}return E.length=A,E}var Vy=/"/g;function _V(e,t,r,n,i,a,l,u){for(var g=!0,p=[],m="",v=mn(r),_=t.s.c;_<=t.e.c;++_)if(n[_]){var E=u.dense?(e[r]||[])[_]:e[n[_]+v];if(E==null)m="";else if(E.v!=null){g=!1,m=""+(u.rawNumbers&&E.t=="n"?E.v:$s(E,null,u));for(var A=0,C=0;A!==m.length;++A)if((C=m.charCodeAt(A))===i||C===a||C===34||u.forceQuotes){m='"'+m.replace(Vy,'""')+'"';break}m=="ID"&&(m='"ID"')}else E.f!=null&&!E.F?(g=!1,m="="+E.f,m.indexOf(",")>=0&&(m='"'+m.replace(Vy,'""')+'"')):m="";p.push(m)}return u.blankrows===!1&&g?null:p.join(l)}function $S(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=kr(e["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,g=u.charCodeAt(0),p=new RegExp((a=="|"?"\\|":a)+"+$"),m="",v=[];n.dense=Array.isArray(e);for(var _=n.skipHidden&&e["!cols"]||[],E=n.skipHidden&&e["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(_[A]||{}).hidden||(v[A]=Kr(A));for(var C=0,R=i.s.r;R<=i.e.r;++R)(E[R]||{}).hidden||(m=_V(e,i,R,v,l,g,a,n),m!=null&&(n.strip&&(m=m.replace(p,"")),(m||n.blankrows!==!1)&&r.push((C++?u:"")+m)));return delete n.dense,r.join("")}function EV(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=$S(e,t);return r}function CV(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=kr(e["!ref"]),a="",l=[],u,g=[],p=Array.isArray(e);for(u=i.s.c;u<=i.e.c;++u)l[u]=Kr(u);for(var m=i.s.r;m<=i.e.r;++m)for(a=mn(m),u=i.s.c;u<=i.e.c;++u)if(t=l[u]+a,r=p?(e[m]||[])[u]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}g[g.length]=t+"="+n}return g}function YS(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},l=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?jn(n.origin):n.origin;l=g.r,u=g.c}var p,m={s:{c:0,r:0},e:{c:u,r:l+t.length-1+i}};if(a["!ref"]){var v=kr(a["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),l==-1&&(l=v.e.r+1,m.e.r=l+t.length-1+i)}else l==-1&&(l=0,m.e.r=t.length-1+i);var _=n.header||[],E=0;t.forEach(function(C,R){Cs(C).forEach(function(I){(E=_.indexOf(I))==-1&&(_[E=_.length]=I);var b=C[I],S="z",L="",q=ft({c:u+E,r:l+R+i});p=Y0(a,q),b&&typeof b=="object"&&!(b instanceof Date)?a[q]=b:(typeof b=="number"?S="n":typeof b=="boolean"?S="b":typeof b=="string"?S="s":b instanceof Date?(S="d",n.cellDates||(S="n",b=Gn(b)),L=n.dateNF||xt[14]):b===null&&n.nullError&&(S="e",b=0),p?(p.t=S,p.v=b,delete p.w,delete p.R,L&&(p.z=L)):a[q]=p={t:S,v:b},L&&(p.z=L))})}),m.e.c=Math.max(m.e.c,u+_.length-1);var A=mn(l);if(i)for(E=0;E<_.length;++E)a[Kr(E+u)+A]={t:"s",v:_[E]};return a["!ref"]=Mt(m),a}function AV(e,t){return YS(null,e,t)}function Y0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=jn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Y0(e,ft(t)):Y0(e,ft({r:t,c:r||0}))}function SV(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Mm(){return{SheetNames:[],Sheets:{}}}function Bm(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var l=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=l+i)!=-1;++i);}if(cH(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function TV(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=SV(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function kV(e,t){return e.z=t,e}function KS(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function bV(e,t,r){return KS(e,"#"+t,r)}function IV(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function RV(e,t,r,n){for(var i=typeof t!="string"?t:kr(t),a=typeof t=="string"?t:Mt(t),l=i.s.r;l<=i.e.r;++l)for(var u=i.s.c;u<=i.e.c;++u){var g=Y0(e,l,u);g.t="n",g.F=a,delete g.v,l==i.s.r&&u==i.s.c&&(g.f=r,n&&(g.D=!0))}return e}var NV={encode_col:Kr,encode_row:mn,encode_cell:ft,encode_range:Mt,decode_col:Em,decode_row:_m,split_cell:HP,decode_cell:jn,decode_range:ac,format_cell:$s,sheet_add_aoa:J4,sheet_add_json:YS,sheet_add_dom:VS,aoa_to_sheet:oc,json_to_sheet:AV,table_to_sheet:zS,table_to_book:$H,sheet_to_csv:$S,sheet_to_txt:EV,sheet_to_json:cp,sheet_to_html:XH,sheet_to_formulae:CV,sheet_to_row_object_array:cp,sheet_get_cell:Y0,book_new:Mm,book_append_sheet:Bm,book_set_sheet_visibility:TV,cell_set_number_format:kV,cell_set_hyperlink:KS,cell_set_internal_link:bV,cell_add_comment:IV,sheet_set_array_formula:RV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const OV=()=>{const[e,t]=ye.useState([]),[r,n]=ye.useState({}),[i,a]=ye.useState({}),[l,u]=ye.useState(!0),[g,p]=ye.useState(!1),[m,v]=ye.useState(!1),[_,E]=ye.useState(!1),[A,C]=ye.useState(!1),[R,I]=ye.useState(!1),[b,S]=ye.useState(null),[L,q]=ye.useState(null),[X,F]=ye.useState(""),[Z,W]=ye.useState(null),[le,oe]=ye.useState(""),[J,_e]=ye.useState([]),[Se,te]=ye.useState(null),[Fe,Ce]=ye.useState([]),[Te,ie]=ye.useState(""),[be,ze]=ye.useState(!1),[V,fe]=ye.useState(new Date().toISOString().split("T")[0]),[B,Q]=ye.useState(new Date().toTimeString().slice(0,5)),[ne,Ae]=ye.useState([]),[Ee,Ie]=ye.useState(null),[Ne,tt]=ye.useState(null),[K,qe]=ye.useState(!1),[mt,ht]=ye.useState(null),[Ze,Oe]=ye.useState([]),[Je,it]=ye.useState({current:0,total:0}),[Dt,Ge]=ye.useState(1),Kn=5,[Bt,$t]=ye.useState({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0});ye.useEffect(()=>{Dr(),hr()},[]);const Dr=async()=>{try{u(!0);const se=await Jr.getAllProducts();t(se);const He={},Xe={};for(const Ye of se)He[Ye.id]=await Jr.getUnitsWithBarcodeCount(Ye.id),Xe[Ye.id]=await Jr.getReadyStock(Ye.id);n(He),a(Xe);const Qe=se.filter(Ye=>Ye.stock<=Ye.minStock);_e(Qe)}catch(se){console.error("Error loading products:",se)}finally{u(!1)}},hr=async()=>{try{const se=await $u.getAllCategories(),He=await $u.getCategoriesFromProducts(),Qe=[...se,...He].reduce((Ye,dt)=>(Ye.find(D=>D.name===dt.name)||Ye.push(dt),Ye),[]);Ce(Qe)}catch(se){console.error("Error loading categories:",se)}},Fn=se=>{const{name:He,value:Xe,type:Qe,checked:Ye}=se.target;$t(dt=>({...dt,[He]:Qe==="checkbox"?Ye:Xe}))},er=async se=>{se.preventDefault();try{let He=Bt.category;Te.trim()&&(He=Te.trim(),Fe.find(Ye=>Ye.name.toLowerCase()===He.toLowerCase())||(await $u.createCategory({name:He}),await hr()));const Xe={...Bt,category:He,price:parseFloat(Bt.price),stock:Bt.useBarcode?0:parseInt(Bt.stock),minStock:parseInt(Bt.minStock)};m&&Z?await Jr.updateProduct(Z.id,Xe):await Jr.createProduct(Xe),p(!1),v(!1),ie(""),$t({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0}),Dr()}catch(He){console.error("Error saving product:",He)}},Gt=se=>{W(se),$t({name:se.name,category:se.category,price:se.price.toString(),stock:se.stock.toString(),minStock:se.minStock.toString(),useBarcode:se.useBarcode!==!1}),v(!0)},ut=async se=>{if((await Nt.fire({title:"Hapus Produk?",text:"Apakah Anda yakin ingin menghapus produk ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed)try{await Jr.deleteProduct(se),await Nt.fire({title:"Berhasil!",text:"Produk berhasil dihapus.",icon:"success",timer:2e3,showConfirmButton:!1}),Dr()}catch(Xe){console.error("Error deleting product:",Xe),await Nt.fire({title:"Error!",text:"Gagal menghapus produk.",icon:"error"})}},Yt=async se=>{try{const He=await Jr.getProductByBarcode(se);He?(te(He),C(!0)):await Nt.fire({title:"Produk Tidak Ditemukan",text:"Barcode tidak terdaftar dalam sistem.",icon:"warning"})}catch(He){console.error("Error checking stock:",He),await Nt.fire({title:"Error!",text:"Gagal memeriksa stok.",icon:"error"})}E(!1),S(null)},ln=se=>{q(se),F(""),I(!0)},gt=async se=>{try{if(!L)return;await Jr.addBarcodeToProduct(L,se),await Nt.fire({title:"Berhasil!",text:"Barcode berhasil di-assign.",icon:"success",timer:2e3,showConfirmButton:!1}),q(null),S(null),E(!1),Dr()}catch(He){await Nt.fire({title:"Error!",text:He.message||"Gagal assign barcode",icon:"error"}),q(null),S(null),E(!1)}},Le=async()=>{if(!X.trim()){await Nt.fire({title:"Perhatian!",text:"Masukkan barcode terlebih dahulu.",icon:"warning"});return}try{await Jr.addBarcodeToProduct(L,X.trim()),await Nt.fire({title:"Berhasil!",text:"Barcode berhasil di-assign.",icon:"success",timer:2e3,showConfirmButton:!1}),I(!1),q(null),F(""),Dr()}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal assign barcode"})}},gr=async()=>{try{const se=Ct(At,`stockAuditsByDate/${V}`),He=await Br(se);let Xe=[];if(He.exists()){const dt=(He.val()||{}).results||{};Xe=e.map(D=>{const M=dt[D.id],U=!!M;return{...D,physicalStock:(M==null?void 0:M.physicalStock)??null,databaseStock:D.stock,readyStock:i[D.id]||0,status:U?"completed":"pending"}})}else await ti(Ct(At,`stockAuditsByDate/${V}/meta`),{date:V,createdAt:Date.now()}),Xe=e.map(Ye=>({...Ye,physicalStock:null,databaseStock:Ye.stock,readyStock:i[Ye.id]||0,status:"pending"}));Ae(Xe);const Qe=Xe.find(Ye=>Ye.status==="pending")||null;Ie(Qe),tt(Qe?Qe.useBarcode!==!1?"barcode":"manual":null)}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal memulai audit.",icon:"error"})}},Vt=async se=>{try{const He=await Jr.getProductByBarcode(se);if(!(He&&Ee&&He.id===Ee.id)){await Nt.fire({title:"Barcode Salah",text:"Barcode tidak sesuai produk yang diaudit.",icon:"warning"}),E(!1);return}const Xe=Ct(At,`productUnits/${He.id}`),Qe=await Br(Xe);if(!Qe.exists()){await Nt.fire({title:"Tidak Ada Unit",text:"Tidak ada unit untuk produk ini.",icon:"warning"}),E(!1);return}const Ye=Qe.val(),dt=Object.entries(Ye).find(([ae,me])=>me.barcode===se&&me.status==="in_stock");if(!dt){await Nt.fire({title:"Unit Tidak Ditemukan",text:"Unit barcode tidak tersedia/in-stock.",icon:"warning"}),E(!1);return}const[D]=dt,M=ne.find(ae=>ae.id===Ee.id),U=Array.isArray(M==null?void 0:M.scannedUnits)?M.scannedUnits.slice():[];if(U.includes(D)){await Nt.fire({title:"Duplikat Scan",text:"Unit ini sudah discan untuk produk ini.",icon:"info"}),E(!1);return}U.push(D);const j=U.length,z={productId:He.id,name:He.name,useBarcode:He.useBarcode!==!1,databaseStock:Ee.databaseStock,readyStock:Ee.readyStock,physicalStock:j,scannedUnits:U,status:"pending",updatedAt:Date.now()};await ti(Ct(At,`stockAuditsByDate/${V}/results/${He.id}`),z);const Y=ne.map(ae=>ae.id===Ee.id?{...ae,physicalStock:j,scannedUnits:U,status:"pending"}:ae);Ae(Y),Ie(ae=>ae&&ae.id===He.id?{...ae,physicalStock:j,scannedUnits:U}:ae),await Nt.fire({title:"Tersimpan",text:`Ter-scan: ${j} unit`,icon:"success",timer:1200,showConfirmButton:!1})}catch(He){console.error("Error scanning barcode:",He),await Nt.fire({title:"Error!",text:"Gagal memindai barcode.",icon:"error"})}E(!1)},Zt=async(se,He)=>{try{const Xe=ne.find(D=>D.id===se);if(!Xe)return;const Qe={productId:se,name:Xe.name,useBarcode:Xe.useBarcode!==!1,databaseStock:Xe.databaseStock,readyStock:Xe.readyStock,physicalStock:parseInt(He),status:"completed",updatedAt:Date.now()};await ti(Ct(At,`stockAuditsByDate/${V}/results/${se}`),Qe);const Ye=ne.map(D=>D.id===se?{...D,physicalStock:parseInt(He),status:"completed"}:D);Ae(Ye);const dt=Ye.find(D=>D.status==="pending");dt?(Ie(dt),tt(dt.useBarcode!==!1?"barcode":"manual")):(Ie(null),tt(null))}catch(Xe){await Nt.fire({title:"Error!",text:Xe.message||"Gagal menyimpan hasil item.",icon:"error"})}},os=async()=>{try{if(!Ee)return;const se=ne.find(dt=>dt.id===Ee.id),He=Array.isArray(se==null?void 0:se.scannedUnits)?se.scannedUnits.length:(se==null?void 0:se.physicalStock)??0,Xe={productId:Ee.id,name:Ee.name,useBarcode:Ee.useBarcode!==!1,databaseStock:Ee.databaseStock,readyStock:Ee.readyStock,physicalStock:He,scannedUnits:Array.isArray(se==null?void 0:se.scannedUnits)?se.scannedUnits:[],status:"completed",updatedAt:Date.now()};await ti(Ct(At,`stockAuditsByDate/${V}/results/${Ee.id}`),Xe);const Qe=ne.map(dt=>dt.id===Ee.id?{...dt,physicalStock:He,status:"completed"}:dt);Ae(Qe);const Ye=Qe.find(dt=>dt.status==="pending");Ye?(Ie(Ye),tt(Ye.useBarcode!==!1?"barcode":"manual")):(Ie(null),tt(null))}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal menyelesaikan item.",icon:"error"})}},ks=e.filter(se=>{if(!se||!se.name||!se.category)return!1;const He=le.toLowerCase(),Xe=se.name.toLowerCase().includes(He),Qe=se.category.toLowerCase().includes(He);return Xe||Qe}),Fr=Math.ceil(ks.length/Kn),bt=(Dt-1)*Kn,Vi=bt+Kn,ls=ks.slice(bt,Vi);if(ye.useEffect(()=>{Ge(1)},[le]),l)return k.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:k.jsx("div",{className:"spinner"})});const Go=async()=>{try{const se=Ct(At,"stockAudits"),He=oo(se),Xe={id:He.key,date:V,time:B,createdAt:Date.now(),results:ne.map(Qe=>({productId:Qe.id,name:Qe.name,useBarcode:Qe.useBarcode!==!1,databaseStock:Qe.databaseStock,readyStock:Qe.readyStock,physicalStock:Qe.physicalStock,status:Qe.status}))};await ti(He,Xe),await Nt.fire({title:"Tersimpan!",text:"Laporan audit berhasil disimpan.",icon:"success",timer:2e3,showConfirmButton:!1})}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal menyimpan laporan audit.",icon:"error"})}},Pn=()=>{try{const se=`Laporan Stock Audit - ${V} ${B}`,He=ne.map(Ye=>{const dt=Ye.physicalStock!==null?Ye.physicalStock-Ye.databaseStock:null,D=Ye.status==="completed"?dt===0?"Balance":`${dt>0?"+":""}${dt}`:"Pending",M=Ye.status==="completed"?dt===0||dt>0?"#10b981":"#ef4444":"#f59e0b",U=Ye.status==="completed"?dt===0||dt>0?"#10b98120":"#ef444420":"#f59e0b20";return`
          <tr>
            <td>${Ye.name||"-"}</td>
            <td style="text-align:center;">${Ye.useBarcode!==!1?"Barcode":"Manual"}</td>
            <td style="text-align:right;">${Ye.databaseStock??"-"}</td>
            <td style="text-align:right;">${Ye.physicalStock??"-"}</td>
            <td style="text-align:center;">
              <span style="background-color: ${U}; color: ${M}; padding: 4px 8px; border-radius: 4px; font-weight: 500;">
                ${D}
              </span>
            </td>
          </tr>
        `}).join(""),Xe=`
        <html>
          <head>
            <meta charset="utf-8" />
            <title>${se}</title>
            <style>
              body { font-family: Arial, Helvetica, sans-serif; color: #111827; padding: 24px; }
              h1 { font-size: 18px; margin: 0 0 4px 0; }
              p { margin: 0 0 16px 0; color: #6b7280; }
              table { width: 100%; border-collapse: collapse; }
              th, td { border: 1px solid #e5e7eb; padding: 8px; font-size: 12px; }
              th { background: #f3f4f6; text-align: left; }
              tfoot td { font-weight: 600; }
              .meta { margin-bottom: 16px; }
              @media print {
                @page { size: A4; margin: 16mm; }
              }
            </style>
          </head>
          <body>
            <h1>${se}</h1>
            <p class="meta">Total item selesai: ${ne.filter(Ye=>Ye.status==="completed").length}/${ne.length}</p>
            <table>
              <thead>
                <tr>
                  <th>Produk</th>
                  <th style="text-align:center;">Mode</th>
                  <th style="text-align:right;">Database Stock</th>
                  <th style="text-align:right;">Fisik Stock</th>
                  <th style="text-align:center;">Status</th>
                </tr>
              </thead>
              <tbody>
                ${He}
              </tbody>
            </table>
          </body>
        </html>
      `,Qe=window.open("","_blank","width=1024,height=768");if(!Qe)return;Qe.document.open(),Qe.document.write(Xe),Qe.document.close(),Qe.focus(),setTimeout(()=>{Qe.print()},300)}catch(se){Nt.fire({title:"Error!",text:se.message||"Gagal mengekspor PDF.",icon:"error"})}},Ga=se=>{const He=se.target.files[0];He&&(ht(He),Pr(He))},Pr=se=>{const He=new FileReader;He.onload=Xe=>{try{const Qe=new Uint8Array(Xe.target.result),Ye=lp(Qe,{type:"array"}),dt=Ye.SheetNames[0],D=Ye.Sheets[dt],U=NV.sheet_to_json(D,{header:1}).slice(1).map((j,z)=>{var ae,me,ce;if(!j[0]||!j[1]||!j[2])return null;const Y=((ae=j[1])==null?void 0:ae.toString().trim())||"";return{name:((me=j[0])==null?void 0:me.toString().trim())||"",category:Y,price:parseFloat(j[2])||0,stock:parseInt(j[3])||0,minStock:parseInt(j[4])||0,useBarcode:((ce=j[5])==null?void 0:ce.toString().toLowerCase())==="true"||!1,rowIndex:z+2}}).filter(Boolean);Oe(U)}catch{Nt.fire({title:"Error!",text:"Gagal membaca file Excel.",icon:"error"})}},He.readAsArrayBuffer(se)},cs=se=>{const He=[];return se.forEach((Xe,Qe)=>{Xe.name||He.push(`Baris ${Xe.rowIndex}: Nama produk kosong`),Xe.category||He.push(`Baris ${Xe.rowIndex}: Kategori kosong`),Xe.price<=0&&He.push(`Baris ${Xe.rowIndex}: Harga harus lebih dari 0`),Xe.stock<0&&He.push(`Baris ${Xe.rowIndex}: Stock tidak boleh negatif`),Xe.minStock<0&&He.push(`Baris ${Xe.rowIndex}: Min stock tidak boleh negatif`)}),He},Qs=async()=>{try{const se=cs(Ze);if(se.length>0){await Nt.fire({title:"Data Tidak Valid!",html:se.slice(0,5).join("<br>")+(se.length>5?"<br>...dan lainnya":""),icon:"error"});return}it({current:0,total:Ze.length});const He=[...new Set(Ze.map(Xe=>Xe.category))];for(const Xe of He)Fe.find(Ye=>Ye.name.toLowerCase()===Xe.toLowerCase())||await $u.createCategory({name:Xe});await hr();for(let Xe=0;Xe<Ze.length;Xe++){const Qe=Ze[Xe];await Jr.createProduct({name:Qe.name,category:Qe.category,price:Qe.price,stock:Qe.useBarcode?0:Qe.stock,minStock:Qe.minStock,useBarcode:Qe.useBarcode}),it({current:Xe+1,total:Ze.length})}await Nt.fire({title:"Berhasil!",text:`${Ze.length} produk berhasil diimpor.`,icon:"success"}),qe(!1),ht(null),Oe([]),it({current:0,total:0}),Dr()}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal mengimpor produk.",icon:"error"})}};return k.jsxs("div",{style:{padding:window.innerWidth<=768?"0.2rem":"1.5rem"},children:[k.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"}}),J.length>0&&k.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center"},children:[k.jsx(kg,{size:20,style:{color:"#dc2626",marginRight:"0.5rem"}}),k.jsxs("div",{children:[k.jsx("h3",{style:{fontWeight:"500",color:"#991b1b",margin:0,fontSize:"0.875rem"},children:"Stok Rendah!"}),k.jsxs("p",{style:{fontSize:"0.75rem",color:"#dc2626",marginTop:"0.25rem",margin:0},children:[J.length," produk memiliki stok di bawah minimum"]})]})]}),k.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[k.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:window.innerWidth<=768?"1rem 1rem":"1rem 1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",flexDirection:window.innerWidth<=768?"column":"row",alignItems:window.innerWidth<=768?"stretch":"center",justifyContent:"space-between",gap:"1rem"},children:[k.jsxs("div",{style:{position:"relative",flex:window.innerWidth<=768?"none":"1",maxWidth:window.innerWidth<=768?"none":"300px"},children:[k.jsx(mC,{size:20,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),k.jsx("input",{type:"text",placeholder:"Cari produk...",value:le,onChange:se=>oe(se.target.value),style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),window.innerWidth<=768?k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[k.jsxs("button",{onClick:()=>ze(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",width:"100%"},children:[k.jsx(bg,{size:20}),"Stock Audit"]}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[k.jsxs("button",{onClick:()=>qe(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:1},children:[k.jsx(hl,{size:20}),"Import Excel"]}),k.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:1},children:[k.jsx($c,{size:20}),"Produk"]})]})]}):k.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[k.jsxs("button",{onClick:()=>ze(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[k.jsx(bg,{size:20}),"Stock Audit"]}),k.jsxs("button",{onClick:()=>qe(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[k.jsx(hl,{size:20}),"Import Excel"]}),k.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[k.jsx($c,{size:20}),"Produk"]})]})]}),k.jsxs("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch",display:window.innerWidth<=768?"none":"block"},children:[k.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[k.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:k.jsxs("tr",{children:[k.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Produk"}),k.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Ready Stock"}),k.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Kategori"}),k.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Stok"}),k.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Harga"}),k.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Aksi"})]})}),k.jsx("tbody",{children:ls.map(se=>k.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[k.jsx("td",{style:{padding:"1rem 1.5rem"},children:k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx(hl,{size:20,style:{color:"#9ca3af",marginRight:"0.75rem"}}),k.jsx("div",{children:k.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:se.name})})]})}),k.jsxs("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("span",{style:{fontWeight:"600",color:(se.useBarcode===!1?se.stock:i[se.id]||0)>0?"#059669":"#dc2626"},children:se.useBarcode===!1?se.stock:i[se.id]||0}),k.jsxs("span",{style:{color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",se.stock," unit"]})]}),k.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:se.useBarcode!==!1?"Dengan barcode":"Tanpa barcode"})]}),k.jsx("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:se.category}),k.jsxs("td",{style:{padding:"1rem 1.5rem"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:se.stock<=se.minStock?"#dc2626":"#111827"},children:se.stock}),k.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",se.minStock," min"]})]}),k.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:se.useBarcode!==!1?"Dihitung dari unit":"Manual"})]}),k.jsxs("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:["Rp ",se.price.toLocaleString("id-ID")]}),k.jsx("td",{style:{padding:"1rem 1.5rem"},children:k.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[k.jsx("button",{onClick:()=>Gt(se),style:{color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:k.jsx(ww,{size:16})}),se.useBarcode!==!1&&k.jsx("button",{onClick:()=>ln(se.id),style:{color:"#10b981",background:"none",border:"1px dashed #10b981",borderRadius:"0.375rem",cursor:"pointer",padding:"0.25rem 0.5rem",fontSize:"0.75rem"},title:"Assign barcode via scan",children:k.jsx(Dc,{size:14})}),k.jsx("button",{onClick:()=>ut(se.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:k.jsx(zf,{size:16})})]})})]},se.id))})]}),Fr>1&&k.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"1rem",padding:"1rem"},children:[k.jsx("button",{onClick:()=>Ge(se=>Math.max(se-1,1)),disabled:Dt===1,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:Dt===1?"#f9fafb":"white",color:Dt===1?"#9ca3af":"#374151",cursor:Dt===1?"not-allowed":"pointer",transition:"all 0.2s"},children:k.jsx(pw,{size:20})}),k.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",minWidth:"100px",textAlign:"center"},children:[Dt," / ",Fr]}),k.jsx("button",{onClick:()=>Ge(se=>Math.min(se+1,Fr)),disabled:Dt===Fr,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:Dt===Fr?"#f9fafb":"white",color:Dt===Fr?"#9ca3af":"#374151",cursor:Dt===Fr?"not-allowed":"pointer",transition:"all 0.2s"},children:k.jsx(xw,{size:20})})]})]}),k.jsxs("div",{style:{display:window.innerWidth<=768?"block":"none"},children:[ls.map(se=>k.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{flex:1},children:[k.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:k.jsxs("div",{children:[k.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:se.name}),k.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:se.category})]})}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[k.jsxs("div",{children:[k.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:(se.useBarcode===!1?se.stock:i[se.id]||0)>0?"#059669":"#dc2626"},children:["Ready ",se.useBarcode===!1?se.stock:i[se.id]||0]}),k.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",se.stock]})]}),k.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Rp ",se.price.toLocaleString("id-ID")]})]}),k.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:se.useBarcode!==!1?"Dengan barcode":"Tanpa barcode"})]}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginLeft:"1rem"},children:[k.jsx("button",{onClick:()=>Gt(se),style:{color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Edit",children:k.jsx(ww,{size:14})}),se.useBarcode!==!1&&k.jsx("button",{onClick:()=>ln(se.id),style:{color:"#10b981",background:"none",border:"1px dashed #10b981",borderRadius:"0.25rem",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Assign Barcode",children:k.jsx(Dc,{size:14})}),k.jsx("button",{onClick:()=>ut(se.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Delete",children:k.jsx(zf,{size:14})})]})]},se.id)),Fr>1&&k.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"1rem",padding:"1rem"},children:[k.jsx("button",{onClick:()=>Ge(se=>Math.max(se-1,1)),disabled:Dt===1,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:Dt===1?"#f9fafb":"white",color:Dt===1?"#9ca3af":"#374151",cursor:Dt===1?"not-allowed":"pointer",transition:"all 0.2s"},children:k.jsx(pw,{size:20})}),k.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",minWidth:"100px",textAlign:"center"},children:[Dt," / ",Fr]}),k.jsx("button",{onClick:()=>Ge(se=>Math.min(se+1,Fr)),disabled:Dt===Fr,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:Dt===Fr?"#f9fafb":"white",color:Dt===Fr?"#9ca3af":"#374151",cursor:Dt===Fr?"not-allowed":"pointer",transition:"all 0.2s"},children:k.jsx(xw,{size:20})})]})]})]}),(g||m)&&k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal",children:[k.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:g?"Tambah Produk":"Edit Produk"}),k.jsxs("form",{onSubmit:er,children:[k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Nama Produk"}),k.jsx("input",{type:"text",name:"name",value:Bt.name,onChange:Fn,required:!0,className:"form-input"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Kategori"}),k.jsxs("select",{name:"category",value:Bt.category,onChange:Fn,required:!0,className:"form-select",children:[k.jsx("option",{value:"",children:"Pilih Kategori"}),Fe.map(se=>k.jsx("option",{value:se.name,children:se.name},se.name)),k.jsx("option",{value:"custom",children:"+ Tambah Kategori Baru"})]}),Bt.category==="custom"&&k.jsx("div",{style:{marginTop:"0.5rem"},children:k.jsx("input",{type:"text",placeholder:"Masukkan nama kategori baru...",value:Te,onChange:se=>ie(se.target.value),className:"form-input",style:{marginTop:"0.5rem"}})})]}),k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Harga"}),k.jsx("input",{type:"number",name:"price",value:Bt.price,onChange:Fn,required:!0,min:"0",step:"0.01",className:"form-input",placeholder:"Harga jual produk"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Gunakan Barcode"}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsx("input",{type:"checkbox",name:"useBarcode",checked:Bt.useBarcode,onChange:Fn,style:{width:"1rem",height:"1rem"}}),k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Centang jika produk menggunakan barcode untuk tracking unit"})]}),Bt.useBarcode&&k.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#0369a1"},children:[k.jsx("strong",{children:"Info:"}),' Stok akan dihitung otomatis dari jumlah unit yang memiliki barcode. Field "Stok Awal" akan di-disable.']}),!Bt.useBarcode&&k.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#92400e"},children:[k.jsx("strong",{children:"Info:"}),' Produk tanpa barcode menggunakan input stok manual. Field "Stok Awal" akan di-enable untuk input manual.']})]}),k.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Stok Awal"}),k.jsx("input",{type:"number",name:"stock",value:Bt.stock,onChange:Fn,required:!Bt.useBarcode,disabled:Bt.useBarcode,min:"0",className:"form-input",placeholder:Bt.useBarcode?"Dihitung otomatis":"Jumlah stok awal",style:{opacity:Bt.useBarcode?.6:1,backgroundColor:Bt.useBarcode?"#f9fafb":"white",cursor:Bt.useBarcode?"not-allowed":"text"}})]}),k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Stok Minimum"}),k.jsx("input",{type:"number",name:"minStock",value:Bt.minStock,onChange:Fn,required:!0,min:"0",className:"form-input",placeholder:"Minimum stock untuk alert"})]})]})]}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1.5rem"},children:[k.jsx("button",{type:"button",onClick:()=>{p(!1),v(!1),ie(""),$t({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0})},className:"btn btn-secondary",style:{flex:1},children:"Batal"}),k.jsx("button",{type:"submit",className:"btn btn-primary",style:{flex:1},children:g?"Tambah":"Update"})]})]})]})}),R&&L&&k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal",children:[k.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Assign Barcode ke Unit"}),k.jsxs("div",{style:{marginBottom:"1rem"},children:[k.jsx("label",{className:"form-label",children:"Input Barcode Manual"}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[k.jsx("input",{type:"text",value:X,onChange:se=>F(se.target.value),placeholder:"Masukkan barcode...",className:"form-input",style:{flex:1}}),k.jsx("button",{onClick:Le,className:"btn btn-primary",style:{padding:"0.5rem 1rem"},children:"Assign"})]})]}),k.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem",padding:"1rem",backgroundColor:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e5e7eb"},children:[k.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0 0 0.5rem 0"},children:"Atau scan barcode dengan kamera"}),k.jsxs("button",{onClick:()=>{I(!1),S("assign"),E(!0)},style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",margin:"0 auto"},children:[k.jsx(Dc,{size:16}),"Scan Barcode"]})]}),k.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:k.jsx("button",{onClick:()=>{I(!1),q(null),F("")},className:"btn btn-secondary",style:{flex:1},children:"Tutup"})})]})}),A&&Se&&k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal",children:[k.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Informasi Stok Produk"}),k.jsxs("div",{style:{backgroundColor:Se.stock<=Se.minStock?"#fef2f2":"#f0fdf4",border:`1px solid ${Se.stock<=Se.minStock?"#fecaca":"#bbf7d0"}`,borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[k.jsx(hl,{size:20,style:{color:Se.stock<=Se.minStock?"#dc2626":"#059669",marginRight:"0.5rem"}}),k.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",color:Se.stock<=Se.minStock?"#991b1b":"#065f46",margin:0},children:Se.name})]}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Unit ID:"}),k.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:Se.matchedUnitId||"-"})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Kategori:"}),k.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:Se.category})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Stok Saat Ini:"}),k.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:Se.stock<=Se.minStock?"#dc2626":"#059669"},children:[Se.stock," unit"]})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Stok Minimum:"}),k.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:[Se.minStock," unit"]})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Harga:"}),k.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:["Rp ",Se.price.toLocaleString("id-ID")]})]})]}),Se.stock<=Se.minStock&&k.jsx("div",{style:{marginTop:"0.75rem",padding:"0.5rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.25rem"},children:k.jsxs("p",{style:{fontSize:"0.75rem",color:"#991b1b",margin:0,display:"flex",alignItems:"center"},children:[k.jsx(kg,{size:14,style:{marginRight:"0.25rem"}}),"Stok rendah! Segera lakukan restocking."]})})]}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[k.jsx("button",{onClick:()=>{C(!1),te(null)},className:"btn btn-secondary",style:{flex:1},children:"Tutup"}),k.jsx("button",{onClick:()=>{C(!1),te(null),E(!0)},className:"btn btn-primary",style:{flex:1},children:"Scan Lagi"})]})]})}),be&&k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal",style:{maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[k.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Stock Audit Report"}),k.jsxs("div",{className:"audit-inputs",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[k.jsxs("div",{style:{flex:1},children:[k.jsx("label",{className:"form-label",children:"Tanggal"}),k.jsx("input",{type:"date",value:V,onChange:se=>fe(se.target.value),className:"form-input",style:{fontSize:"0.875rem",padding:"0.5rem"}})]}),k.jsxs("div",{style:{flex:1},children:[k.jsx("label",{className:"form-label",children:"Waktu"}),k.jsx("input",{type:"time",value:B,onChange:se=>Q(se.target.value),className:"form-input",style:{fontSize:"0.875rem",padding:"0.5rem"}})]})]}),ne.length===0&&k.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[k.jsx("button",{onClick:()=>ze(!1),className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Tutup"}),k.jsx("button",{onClick:gr,className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Mulai Stock Audit"})]}),Ee&&k.jsxs("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1.5rem"},children:[k.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem",margin:0},children:Ee.name}),k.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.5rem",margin:0},children:["Stock : ",Ee.databaseStock]}),Ne==="manual"?k.jsx("div",{children:k.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[k.jsx("input",{type:"number",min:"0",placeholder:"Jumlah stock fisik",className:"form-input",style:{flex:1},onKeyPress:se=>{if(se.key==="Enter"){const He=se.target.value;He&&(Zt(Ee.id,He),se.target.value="")}}}),k.jsx("button",{onClick:se=>{const He=se.target.previousElementSibling;He.value&&(Zt(Ee.id,He.value),He.value="")},className:"btn btn-primary",children:"Submit"})]})}):k.jsxs("div",{children:[k.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.5rem",margin:0},children:"Scan barcode untuk menghitung stock fisik"}),k.jsxs("button",{onClick:()=>E(!0),className:"btn btn-primary",style:{width:"100%"},children:[k.jsx(Dc,{size:20,style:{marginRight:"0.5rem"}}),"Scan Barcode"]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.5rem",fontSize:"0.75rem",color:"#6b7280"},children:[k.jsxs("span",{children:["Ter-scan: ",Array.isArray(Ee.scannedUnits)?Ee.scannedUnits.length:Ee.physicalStock??0," unit"]}),k.jsxs("span",{children:["Var: ",(()=>{const He=(Array.isArray(Ee.scannedUnits)?Ee.scannedUnits.length:Ee.physicalStock??0)-(Ee.databaseStock??0);return`${He>0?"+":""}${He}`})()]})]}),k.jsx("button",{onClick:os,className:"btn btn-secondary",style:{width:"100%",marginTop:"0.5rem"},children:"Selesaikan Item"})]})]}),ne.length>0&&k.jsxs("div",{children:[k.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:["Hasil Audit (",ne.filter(se=>se.status==="completed").length,"/",ne.length,")"]}),k.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:ne.map(se=>{const He=se.physicalStock!==null?se.physicalStock-se.databaseStock:null,Xe=se.physicalStock!==null?se.physicalStock-se.readyStock:null,Qe=He!==null&&He!==0,Ye=Xe!==null&&Xe!==0,dt=He!==null&&He<0||Xe!==null&&Xe<0;return k.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"0.5rem",backgroundColor:se.status==="completed"?dt?"#fef2f2":"#f0fdf4":"#fefce8",borderLeft:Qe||Ye?"4px solid #ef4444":"4px solid #10b981"},children:k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{children:[k.jsx("h5",{style:{fontSize:"0.875rem",fontWeight:"500",margin:0},children:se.name}),k.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:se.useBarcode!==!1?"Barcode":"Manual"})]}),k.jsxs("div",{style:{textAlign:"right"},children:[k.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Stock : ",se.databaseStock]}),se.status==="completed"?k.jsxs("div",{children:[k.jsxs("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#059669"},children:["Fisik: ",se.physicalStock]}),(Qe||Ye)&&k.jsx("div",{style:{fontSize:"0.7rem",marginTop:"0.25rem"},children:Ye&&k.jsxs("span",{style:{color:Xe>0?"#059669":"#ef4444",fontWeight:"500"},children:[Xe>0?"+":"",Xe]})})]}):k.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#f59e0b"},children:"Pending"})]})]})},se.id)})})]}),ne.length>0&&k.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[k.jsx("button",{onClick:()=>{ze(!1),Ae([]),Ie(null),tt(null)},className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Tutup"}),k.jsx("button",{onClick:Pn,className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Export PDF"}),k.jsx("button",{onClick:async()=>{await ti(Ct(At,`stockAuditsByDate/${V}/meta/`),{date:V,updatedAt:Date.now()}),await Go()},className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Simpan Laporan"})]})]})}),K&&k.jsx("div",{className:"modal-overlay",onClick:()=>qe(!1),children:k.jsxs("div",{className:"modal",style:{maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},onClick:se=>se.stopPropagation(),children:[k.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Import Produk dari Excel"}),k.jsxs("div",{style:{marginBottom:"1.5rem"},children:[k.jsx("label",{className:"form-label",children:"Format Excel:"}),k.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem"},children:"Kolom: Nama | Kategori | Harga | Stock | Min Stock | Use Barcode (true/false)"}),k.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Ga,className:"form-input",style:{padding:"0.5rem"}})]}),Ze.length>0&&k.jsxs("div",{style:{marginBottom:"1.5rem"},children:[k.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem"},children:["Preview Data (",Ze.length," produk)"]}),k.jsxs("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"0.5rem"},children:[k.jsxs("table",{style:{width:"100%",fontSize:"0.75rem"},children:[k.jsx("thead",{style:{backgroundColor:"#f3f4f6"},children:k.jsxs("tr",{children:[k.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Nama"}),k.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Kategori"}),k.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Harga"}),k.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Stock"}),k.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Barcode"})]})}),k.jsx("tbody",{children:Ze.slice(0,10).map((se,He)=>k.jsxs("tr",{children:[k.jsx("td",{style:{padding:"0.5rem"},children:se.name}),k.jsx("td",{style:{padding:"0.5rem"},children:se.category}),k.jsx("td",{style:{padding:"0.5rem",textAlign:"right"},children:se.price.toLocaleString()}),k.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:se.stock}),k.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:se.useBarcode?"Ya":"Tidak"})]},He))})]}),Ze.length>10&&k.jsxs("div",{style:{padding:"0.5rem",textAlign:"center",color:"#6b7280"},children:["...dan ",Ze.length-10," produk lainnya"]})]})]}),Je.total>0&&k.jsxs("div",{style:{marginBottom:"1.5rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[k.jsx("span",{style:{fontSize:"0.875rem"},children:"Progress Import"}),k.jsxs("span",{style:{fontSize:"0.875rem"},children:[Je.current,"/",Je.total]})]}),k.jsx("div",{style:{width:"100%",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",height:"8px"},children:k.jsx("div",{style:{width:`${Je.current/Je.total*100}%`,backgroundColor:"#10b981",height:"100%",borderRadius:"0.25rem",transition:"width 0.3s ease"}})})]}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[k.jsx("button",{onClick:()=>{qe(!1),ht(null),Oe([]),it({current:0,total:0})},className:"btn btn-secondary",style:{flex:1},children:"Batal"}),k.jsx("button",{onClick:Qs,disabled:Ze.length===0||Je.total>0,className:"btn btn-primary",style:{flex:1},children:Je.total>0?"Mengimpor...":"Import Produk"})]})]})}),k.jsx(_A,{isOpen:_,onScan:b==="assign"?gt:b==="check"?Yt:Vt,onClose:()=>{E(!1),S(null),q(null)}})]})},DV=()=>{const[e,t]=ye.useState([]),[r,n]=ye.useState({}),[i,a]=ye.useState([]),[l,u]=ye.useState(!0),[g,p]=ye.useState(!1),[m,v]=ye.useState(null),[_,E]=ye.useState(null),[A,C]=ye.useState(""),[R,I]=ye.useState("all"),[b,S]=ye.useState({name:"",phone:""}),[L,q]=ye.useState("cash"),[X,F]=ye.useState(!1),[Z,W]=ye.useState(null),[le,oe]=ye.useState(!1);ye.useEffect(()=>{J()},[]);const J=async()=>{try{u(!0);const B=await Jr.getAllProducts(),Q={};for(const Ae of B)Q[Ae.id]=await Jr.getReadyStock(Ae.id);n(Q);const ne=B.filter(Ae=>Q[Ae.id]>0);t(ne)}catch(B){console.error("Error loading products:",B)}finally{u(!1)}},_e=async B=>{try{const Q=await Jr.getProductByBarcode(B);Q?m==="add"?Se(Q):m==="increase"&&_?Fe(_):Se(Q):await Nt.fire({title:"Produk Tidak Ditemukan",text:"Barcode tidak terdaftar dalam sistem.",icon:"warning"})}catch(Q){console.error("Error scanning barcode:",Q),await Nt.fire({title:"Error!",text:"Gagal memindai barcode.",icon:"error"})}p(!1),v(null),E(null)},Se=B=>{if(i.find(ne=>ne.productId===B.id))Fe(B.id);else{if((r[B.id]||0)<=0){Nt.fire({title:"Stok Habis",text:"Stok siap jual untuk produk ini habis.",icon:"warning"});return}a([...i,{productId:B.id,productName:B.name,quantity:1,price:B.price,total:B.price}])}},te=B=>{a(i.filter(Q=>Q.productId!==B))},Fe=B=>{if(!e.find(Ee=>Ee.id===B))return;const ne=r[B]||0,Ae=i.find(Ee=>Ee.productId===B);if(Ae){if(Ae.quantity>=ne){Nt.fire({title:"Stok Tidak Cukup",text:`Maksimal quantity: ${ne}`,icon:"warning"});return}const Ee=Ae.quantity+1;a(i.map(Ie=>Ie.productId===B?{...Ie,quantity:Ee,total:Ee*Ie.price}:Ie))}},Ce=(B,Q)=>{if(Q<=0){te(B);return}const ne=r[B]||0;if(Q>ne){Nt.fire({title:"Stok Tidak Cukup",text:`Maksimal quantity: ${ne}`,icon:"warning"});return}a(i.map(Ae=>Ae.productId===B?{...Ae,quantity:Q,total:Q*Ae.price}:Ae))},Te=()=>i.reduce((B,Q)=>B+Q.total,0),ie=B=>{B.useBarcode!==!1?(v("add"),E(B.id),p(!0)):Se(B)},be=B=>{const Q=e.find(ne=>ne.id===B);Q&&Q.useBarcode!==!1?(v("increase"),E(B),p(!0)):Fe(B)},ze=async()=>{if(i.length===0){await Nt.fire({title:"Keranjang Kosong",text:"Tambahkan produk ke keranjang terlebih dahulu.",icon:"warning"});return}try{const B={items:i,totalAmount:Te(),customerName:b.name,customerPhone:b.phone,paymentMethod:L},Q=await mA.createSale(B);W(Q),F(!0),a([]),S({name:"",phone:""}),q("cash"),J()}catch(B){console.error("Error creating sale:",B),await Nt.fire({title:"Error!",text:"Gagal melakukan penjualan.",icon:"error"})}},V=[...new Set(e.map(B=>B.category).filter(Boolean))],fe=e.filter(B=>{if(!B||!B.name||!B.category)return!1;const Q=A.toLowerCase(),ne=B.name.toLowerCase().includes(Q),Ae=B.category.toLowerCase().includes(Q),Ee=ne||Ae;let Ie=!0;return R!=="all"&&(Ie=B.category===R),Ee&&Ie});return l?k.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:k.jsx("div",{className:"spinner"})}):k.jsxs("div",{style:{padding:window.innerWidth<=768?"0.2rem":"1.5rem",marginTop:"1rem"},children:[le?k.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[k.jsxs("h2",{style:{fontSize:"1.125rem",fontWeight:"600",margin:0,display:"flex",alignItems:"center"},children:[k.jsx(Yc,{size:20,style:{marginRight:"0.5rem"}}),"Keranjang"]}),k.jsx("button",{onClick:()=>oe(!1),style:{backgroundColor:"#6b7280",color:"white",padding:"0.5rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem"},children:"Kembali"})]}),k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem",maxHeight:"20rem",overflowY:"auto"},children:i.map(B=>k.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[k.jsx("h4",{style:{fontWeight:"500",fontSize:"0.75rem",color:"#111827",margin:0},children:B.productName}),k.jsx("button",{onClick:()=>te(B.productId),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:k.jsx(zf,{size:14})})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsx("button",{onClick:()=>Ce(B.productId,B.quantity-1),style:{backgroundColor:"#e5e7eb",color:"#374151",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:"pointer",fontSize:"0.75rem"},"aria-label":"Kurangi qty (akan menghapus item)",children:k.jsx(mw,{size:12})}),k.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"500"},children:B.quantity}),k.jsx("button",{onClick:()=>be(B.productId),disabled:B.quantity>=(r[B.productId]||0),style:{backgroundColor:B.quantity>=(r[B.productId]||0)?"#e5e7eb":"#3b82f6",color:B.quantity>=(r[B.productId]||0)?"#9ca3af":"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:B.quantity>=(r[B.productId]||0)?"not-allowed":"pointer",fontSize:"0.75rem"},title:B.quantity>=(r[B.productId]||0)?"Stok tidak cukup":"Tambah quantity",children:k.jsx($c,{size:12})})]}),k.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600"},children:["Rp ",B.total.toLocaleString("id-ID")]})]})]},B.productId))}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Nama"}),k.jsx("input",{type:"text",value:b.name,onChange:B=>S(Q=>({...Q,name:B.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"No. HP"}),k.jsx("input",{type:"text",value:b.phone,onChange:B=>S(Q=>({...Q,phone:B.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Metode Pembayaran"}),k.jsxs("select",{value:L,onChange:B=>q(B.target.value),className:"form-select",style:{fontSize:"0.75rem"},children:[k.jsx("option",{value:"cash",children:"Tunai"}),k.jsx("option",{value:"qris",children:"QRIS"}),k.jsx("option",{value:"card",children:"Kartu"}),k.jsx("option",{value:"transfer",children:"Transfer"})]})]})]}),k.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[k.jsx("span",{style:{fontSize:"1.125rem",fontWeight:"600"},children:"Total"}),k.jsxs("span",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#2563eb"},children:["Rp ",Te().toLocaleString("id-ID")]})]}),k.jsx("button",{onClick:ze,disabled:i.length===0,style:{width:"100%",backgroundColor:i.length===0?"#d1d5db":"#10b981",color:"white",padding:"0.75rem 1rem",borderRadius:"0.5rem",border:"none",cursor:i.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:"Checkout"})]})]}):k.jsx("div",{children:k.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"2fr 1fr",gap:"1rem"},children:[k.jsx("div",{children:k.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[k.jsx("div",{style:{marginBottom:"1.5rem"},children:k.jsxs("div",{style:{display:"flex",gap:"0.5rem",width:"100%"},children:[k.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:1},children:[k.jsx(Dc,{size:20}),"Scan Barcode"]}),window.innerWidth<=768&&k.jsxs("button",{onClick:()=>oe(!0),style:{backgroundColor:"white",color:"#374151",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"2px dashed #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",position:"relative",flex:1},children:[k.jsx(Yc,{size:20}),i.length>0&&k.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"600"},children:i.reduce((B,Q)=>B+Q.quantity,0)})]})]})}),k.jsxs("div",{style:{marginBottom:"1rem"},children:[k.jsxs("div",{style:{position:"relative",marginBottom:"0.75rem"},children:[k.jsx(mC,{size:20,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),k.jsx("input",{type:"text",placeholder:"Cari produk...",value:A,onChange:B=>C(B.target.value),style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginTop:"0.5rem"},children:[k.jsx("button",{onClick:()=>I("all"),style:{backgroundColor:R==="all"?"#3b82f6":"#f3f4f6",color:R==="all"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Semua Kategori"}),V.map(B=>k.jsx("button",{onClick:()=>I(B),style:{backgroundColor:R===B?"#3b82f6":"#f3f4f6",color:R===B?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:B},B))]})]}),k.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",maxHeight:window.innerWidth<=768?"30rem":"35rem",overflowY:"auto"},children:fe.map(B=>k.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem",transition:"box-shadow 0.2s",minHeight:"120px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[k.jsx("h3",{style:{fontWeight:"500",color:"#111827",margin:0,fontSize:"0.875rem"},children:B.name}),k.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:B.category})]}),k.jsx("div",{style:{marginBottom:"0.5rem"}}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("span",{style:{fontWeight:"600",color:"#2563eb",fontSize:"0.875rem"},children:["Rp ",B.price.toLocaleString("id-ID")]}),k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsxs("span",{style:{fontSize:"0.75rem",color:(r[B.id]||0)>0?"#059669":"#dc2626"},children:["Ready: ",r[B.id]||0]}),k.jsx("button",{onClick:()=>ie(B),disabled:(r[B.id]||0)<=0,style:{backgroundColor:(r[B.id]||0)<=0?"#d1d5db":"#3b82f6",color:"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:(r[B.id]||0)<=0?"not-allowed":"pointer",fontSize:"0.75rem"},title:(r[B.id]||0)<=0?"Stok habis":B.useBarcode!==!1?"Scan barcode untuk menambah":"Tambah ke keranjang",children:k.jsx($c,{size:16})})]})]})]},B.id))})]})}),window.innerWidth>768&&k.jsx("div",{children:k.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[k.jsxs("h2",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0,display:"flex",alignItems:"center"},children:[k.jsx(Yc,{size:20,style:{marginRight:"0.5rem"}}),"Keranjang"]}),k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem",maxHeight:"16rem",overflowY:"auto"},children:i.map(B=>k.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[k.jsx("h4",{style:{fontWeight:"500",fontSize:"0.75rem",color:"#111827",margin:0},children:B.productName}),k.jsx("button",{onClick:()=>te(B.productId),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:k.jsx(zf,{size:14})})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsx("button",{onClick:()=>Ce(B.productId,B.quantity-1),style:{backgroundColor:"#e5e7eb",color:"#374151",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:"pointer",fontSize:"0.75rem"},"aria-label":"Kurangi qty (akan menghapus item)",children:k.jsx(mw,{size:12})}),k.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"500"},children:B.quantity}),k.jsx("button",{onClick:()=>be(B.productId),disabled:B.quantity>=(r[B.productId]||0),style:{backgroundColor:B.quantity>=(r[B.productId]||0)?"#e5e7eb":"#3b82f6",color:B.quantity>=(r[B.productId]||0)?"#9ca3af":"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:B.quantity>=(r[B.productId]||0)?"not-allowed":"pointer",fontSize:"0.75rem"},title:B.quantity>=(r[B.productId]||0)?"Stok tidak cukup":"Tambah quantity",children:k.jsx($c,{size:12})})]}),k.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600"},children:["Rp ",B.total.toLocaleString("id-ID")]})]})]},B.productId))}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Nama"}),k.jsx("input",{type:"text",value:b.name,onChange:B=>S(Q=>({...Q,name:B.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"No. HP"}),k.jsx("input",{type:"text",value:b.phone,onChange:B=>S(Q=>({...Q,phone:B.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),k.jsxs("div",{children:[k.jsx("label",{className:"form-label",children:"Metode Pembayaran"}),k.jsxs("select",{value:L,onChange:B=>q(B.target.value),className:"form-select",style:{fontSize:"0.75rem"},children:[k.jsx("option",{value:"cash",children:"Tunai"}),k.jsx("option",{value:"qris",children:"QRIS"}),k.jsx("option",{value:"card",children:"Kartu"}),k.jsx("option",{value:"transfer",children:"Transfer"})]})]})]}),k.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[k.jsx("span",{style:{fontSize:"1.125rem",fontWeight:"600"},children:"Total"}),k.jsxs("span",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#2563eb"},children:["Rp ",Te().toLocaleString("id-ID")]})]}),k.jsx("button",{onClick:ze,disabled:i.length===0,style:{width:"100%",backgroundColor:i.length===0?"#d1d5db":"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:i.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:"Checkout"})]})]})})]})}),k.jsx(_A,{isOpen:g,onScan:_e,onClose:()=>{p(!1),v(null),E(null)}}),X&&Z&&k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal",children:[k.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Struk Penjualan"}),k.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1rem"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{children:"No. Transaksi:"}),k.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.75rem"},children:Z.id})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{children:"Tanggal:"}),k.jsx("span",{children:new Date(Z.createdAt).toLocaleString("id-ID")})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{children:"Pelanggan:"}),k.jsx("span",{children:Z.customerName||"-"})]}),k.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[k.jsx("span",{children:"Pembayaran:"}),k.jsx("span",{style:{textTransform:"capitalize"},children:Z.paymentMethod})]})]}),k.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem",marginBottom:"1rem"},children:[k.jsx("h4",{style:{fontWeight:"500",marginBottom:"0.5rem",margin:0},children:"Item:"}),Z.items.map((B,Q)=>k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem"},children:[k.jsxs("span",{children:[B.productName," x",B.quantity]}),k.jsxs("span",{children:["Rp ",B.total.toLocaleString("id-ID")]})]},Q))]}),k.jsx("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem",marginBottom:"1rem"},children:k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600"},children:[k.jsx("span",{children:"Total:"}),k.jsxs("span",{children:["Rp ",Z.totalAmount.toLocaleString("id-ID")]})]})}),k.jsx("button",{onClick:()=>F(!1),className:"btn btn-primary",style:{width:"100%"},children:"Tutup"})]})})]})},FV=()=>{const[e,t]=ye.useState(!1),[r,n]=ye.useState(!1),[i,a]=ye.useState(!1);return ye.useEffect(()=>{const l=()=>{const u=window.innerWidth;t(u<=768),n(u>768&&u<=1024),a(u>1024)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:e,isTablet:r,isDesktop:i}},PV=()=>{const{isMobile:e}=FV(),[t,r]=ye.useState({totalProducts:0,lowStockProducts:0,totalSales:0,totalRevenue:0}),[n,i]=ye.useState(!0),[a,l]=ye.useState([]);ye.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const[p,m]=await Promise.all([Jr.getAllProducts(),mA.getAllSales()]),v=p.filter(A=>A.stock<=A.minStock),_=m.reduce((A,C)=>A+C.totalAmount,0);r({totalProducts:p.length,lowStockProducts:v.length,totalSales:m.length,totalRevenue:_});const E=m.sort((A,C)=>C.createdAt-A.createdAt).slice(0,5);l(E)}catch(p){console.error("Error loading dashboard data:",p)}finally{i(!1)}},g=({title:p,value:m,icon:v,color:_})=>k.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem",display:"flex",alignItems:"center"},children:[k.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:_+"20",marginRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:k.jsx(v,{size:24,style:{color:_}})}),k.jsxs("div",{children:[k.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",margin:0},children:p}),k.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#111827",margin:0},children:m})]})]});return n?k.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:k.jsx("div",{className:"spinner"})}):k.jsxs("div",{style:{padding:window.innerWidth<=768?"0.2rem":"1.5rem",marginTop:"1rem"},children:[k.jsxs("div",{style:{display:"grid",gridTemplateColumns:e?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:e?"1rem":"1.5rem",marginBottom:"1.5rem"},children:[k.jsx(g,{title:"Total Produk",value:t.totalProducts,icon:hl,color:"#3b82f6"}),k.jsx(g,{title:"Stok Rendah",value:t.lowStockProducts,icon:kg,color:"#ef4444"}),k.jsx(g,{title:"Total Penjualan",value:t.totalSales,icon:Yc,color:"#10b981"}),k.jsx(g,{title:"Total Revenue",value:`Rp ${t.totalRevenue.toLocaleString("id-ID")}`,icon:eI,color:"#8b5cf6"})]}),k.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[k.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:k.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#111827",margin:0},children:"Penjualan Terbaru"})}),k.jsx("div",{style:{padding:"1.5rem"},children:a.length>0?k.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:a.map(p=>k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"0.5rem",borderBottom:"1px solid #f3f4f6"},children:[k.jsxs("div",{children:[k.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827",margin:0},children:p.customerName||"Pelanggan Umum"}),k.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:new Date(p.createdAt).toLocaleDateString("id-ID")})]}),k.jsxs("div",{style:{textAlign:"right"},children:[k.jsxs("p",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#059669",margin:0},children:["Rp ",p.totalAmount.toLocaleString("id-ID")]}),k.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:[p.items.length," item"]})]})]},p.id))}):k.jsx("p",{style:{color:"#6b7280",textAlign:"center",padding:"1rem",margin:0},children:"Belum ada penjualan"})})]})]})},MV=()=>{const e=tu(),t=[{path:"/",icon:Jb,label:"Dashboard"},{path:"/inventory",icon:hl,label:"Inventory"},{path:"/sales",icon:Yc,label:"Penjualan"}];return k.jsx("nav",{className:"nav",children:k.jsxs("div",{className:"nav-container",children:[k.jsx(dw,{to:"/",className:"nav-brand",children:k.jsx("span",{className:"mobile-hidden",children:"IQOS"})}),k.jsx("ul",{className:"nav-menu",children:t.map(r=>{const n=r.icon,i=e.pathname===r.path;return k.jsx("li",{children:k.jsxs(dw,{to:r.path,className:`nav-link ${i?"active":""}`,children:[k.jsx(n,{size:18}),r.label]})},r.path)})})]})})},BV=()=>k.jsx(Xb,{children:k.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb"},children:[k.jsx(MV,{}),k.jsx("main",{className:"container",children:k.jsxs(Ub,{children:[k.jsx(mf,{path:"/",element:k.jsx(PV,{})}),k.jsx(mf,{path:"/inventory",element:k.jsx(OV,{})}),k.jsx(mf,{path:"/sales",element:k.jsx(DV,{})})]})})]})});N1.createRoot(document.getElementById("root")).render(k.jsx(r_.StrictMode,{children:k.jsx(BV,{})}));
