function Vy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zy={exports:{}},Ih={},Gy={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=Symbol.for("react.element"),yT=Symbol.for("react.portal"),_T=Symbol.for("react.fragment"),ET=Symbol.for("react.strict_mode"),CT=Symbol.for("react.profiler"),AT=Symbol.for("react.provider"),ST=Symbol.for("react.context"),TT=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),bT=Symbol.for("react.memo"),IT=Symbol.for("react.lazy"),qm=Symbol.iterator;function RT(e){return e===null||typeof e!="object"?null:(e=qm&&e[qm]||e["@@iterator"],typeof e=="function"?e:null)}var Xy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$y=Object.assign,Yy={};function Xl(e,t,r){this.props=e,this.context=t,this.refs=Yy,this.updater=r||Xy}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ky(){}Ky.prototype=Xl.prototype;function lp(e,t,r){this.props=e,this.context=t,this.refs=Yy,this.updater=r||Xy}var cp=lp.prototype=new Ky;cp.constructor=lp;$y(cp,Xl.prototype);cp.isPureReactComponent=!0;var Zm=Array.isArray,qy=Object.prototype.hasOwnProperty,up={current:null},Zy={key:!0,ref:!0,__self:!0,__source:!0};function Qy(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)qy.call(t,n)&&!Zy.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var g=Array(u),p=0;p<u;p++)g[p]=arguments[p+2];i.children=g}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:$0,type:e,key:a,ref:l,props:i,_owner:up.current}}function NT(e,t){return{$$typeof:$0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fp(e){return typeof e=="object"&&e!==null&&e.$$typeof===$0}function OT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Qm=/\/+/g;function bd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OT(""+e.key):t.toString(36)}function rf(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case $0:case yT:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+bd(l,0):n,Zm(i)?(r="",e!=null&&(r=e.replace(Qm,"$&/")+"/"),rf(i,t,r,"",function(p){return p})):i!=null&&(fp(i)&&(i=NT(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Qm,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",Zm(e))for(var u=0;u<e.length;u++){a=e[u];var g=n+bd(a,u);l+=rf(a,t,r,g,i)}else if(g=RT(e),typeof g=="function")for(e=g.call(e),u=0;!(a=e.next()).done;)a=a.value,g=n+bd(a,u++),l+=rf(a,t,r,g,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Tu(e,t,r){if(e==null)return e;var n=[],i=0;return rf(e,n,"","",function(a){return t.call(r,a,i++)}),n}function DT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},nf={transition:null},FT={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:nf,ReactCurrentOwner:up};function Jy(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:Tu,forEach:function(e,t,r){Tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!fp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=Xl;kt.Fragment=_T;kt.Profiler=CT;kt.PureComponent=lp;kt.StrictMode=ET;kt.Suspense=kT;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FT;kt.act=Jy;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$y({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=up.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(g in t)qy.call(t,g)&&!Zy.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&u!==void 0?u[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){u=Array(g);for(var p=0;p<g;p++)u[p]=arguments[p+2];n.children=u}return{$$typeof:$0,type:e.type,key:i,ref:a,props:n,_owner:l}};kt.createContext=function(e){return e={$$typeof:ST,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AT,_context:e},e.Consumer=e};kt.createElement=Qy;kt.createFactory=function(e){var t=Qy.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:TT,render:e}};kt.isValidElement=fp;kt.lazy=function(e){return{$$typeof:IT,_payload:{_status:-1,_result:e},_init:DT}};kt.memo=function(e,t){return{$$typeof:bT,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=nf.transition;nf.transition={};try{e()}finally{nf.transition=t}};kt.unstable_act=Jy;kt.useCallback=function(e,t){return Xn.current.useCallback(e,t)};kt.useContext=function(e){return Xn.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};kt.useEffect=function(e,t){return Xn.current.useEffect(e,t)};kt.useId=function(){return Xn.current.useId()};kt.useImperativeHandle=function(e,t,r){return Xn.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return Xn.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return Xn.current.useReducer(e,t,r)};kt.useRef=function(e){return Xn.current.useRef(e)};kt.useState=function(e){return Xn.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return Xn.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return Xn.current.useTransition()};kt.version="18.3.1";Gy.exports=kt;var _e=Gy.exports;const e_=Hy(_e),PT=Vy({__proto__:null,default:e_},[_e]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT=_e,BT=Symbol.for("react.element"),LT=Symbol.for("react.fragment"),UT=Object.prototype.hasOwnProperty,jT=MT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WT={key:!0,ref:!0,__self:!0,__source:!0};function t_(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)UT.call(t,n)&&!WT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:BT,type:e,key:a,ref:l,props:i,_owner:jT.current}}Ih.Fragment=LT;Ih.jsx=t_;Ih.jsxs=t_;zy.exports=Ih;var N=zy.exports,b1={},r_={exports:{}},_i={},n_={exports:{}},i_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ke,ne){var be=ke.length;ke.push(ne);e:for(;0<be;){var oe=be-1>>>1,U=ke[oe];if(0<i(U,ne))ke[oe]=ne,ke[be]=U,be=oe;else break e}}function r(ke){return ke.length===0?null:ke[0]}function n(ke){if(ke.length===0)return null;var ne=ke[0],be=ke.pop();if(be!==ne){ke[0]=be;e:for(var oe=0,U=ke.length,ae=U>>>1;oe<ae;){var Q=2*(oe+1)-1,re=ke[Q],ie=Q+1,Pe=ke[ie];if(0>i(re,be))ie<U&&0>i(Pe,re)?(ke[oe]=Pe,ke[ie]=be,oe=ie):(ke[oe]=re,ke[Q]=be,oe=Q);else if(ie<U&&0>i(Pe,be))ke[oe]=Pe,ke[ie]=be,oe=ie;else break e}}return ne}function i(ke,ne){var be=ke.sortIndex-ne.sortIndex;return be!==0?be:ke.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var g=[],p=[],m=1,v=null,_=3,E=!1,A=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ke){for(var ne=r(p);ne!==null;){if(ne.callback===null)n(p);else if(ne.startTime<=ke)n(p),ne.sortIndex=ne.expirationTime,t(g,ne);else break;ne=r(p)}}function B(ke){if(C=!1,S(ke),!A)if(r(g)!==null)A=!0,Fe(K);else{var ne=r(p);ne!==null&&Ce(B,ne.startTime-ke)}}function K(ke,ne){A=!1,C&&(C=!1,b(q),q=-1),E=!0;var be=_;try{for(S(ne),v=r(g);v!==null&&(!(v.expirationTime>ne)||ke&&!ue());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,_=v.priorityLevel;var U=oe(v.expirationTime<=ne);ne=e.unstable_now(),typeof U=="function"?v.callback=U:v===r(g)&&n(g),S(ne)}else n(g);v=r(g)}if(v!==null)var ae=!0;else{var Q=r(p);Q!==null&&Ce(B,Q.startTime-ne),ae=!1}return ae}finally{v=null,_=be,E=!1}}var G=!1,F=null,q=-1,W=5,ce=-1;function ue(){return!(e.unstable_now()-ce<W)}function Z(){if(F!==null){var ke=e.unstable_now();ce=ke;var ne=!0;try{ne=F(!0,ke)}finally{ne?Ee():(G=!1,F=null)}}else G=!1}var Ee;if(typeof k=="function")Ee=function(){k(Z)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ee=Se.port2;Se.port1.onmessage=Z,Ee=function(){ee.postMessage(null)}}else Ee=function(){I(Z,0)};function Fe(ke){F=ke,G||(G=!0,Ee())}function Ce(ke,ne){q=I(function(){ke(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ke){ke.callback=null},e.unstable_continueExecution=function(){A||E||(A=!0,Fe(K))},e.unstable_forceFrameRate=function(ke){0>ke||125<ke?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ke?Math.floor(1e3/ke):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(ke){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var be=_;_=ne;try{return ke()}finally{_=be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ke,ne){switch(ke){case 1:case 2:case 3:case 4:case 5:break;default:ke=3}var be=_;_=ke;try{return ne()}finally{_=be}},e.unstable_scheduleCallback=function(ke,ne,be){var oe=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?oe+be:oe):be=oe,ke){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=be+U,ke={id:m++,callback:ne,priorityLevel:ke,startTime:be,expirationTime:U,sortIndex:-1},be>oe?(ke.sortIndex=be,t(p,ke),r(g)===null&&ke===r(p)&&(C?(b(q),q=-1):C=!0,Ce(B,be-oe))):(ke.sortIndex=U,t(g,ke),A||E||(A=!0,Fe(K))),ke},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(ke){var ne=_;return function(){var be=_;_=ne;try{return ke.apply(this,arguments)}finally{_=be}}}})(i_);n_.exports=i_;var VT=n_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT=_e,wi=VT;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s_=new Set,l0={};function Ro(e,t){Il(e,t),Il(e+"Capture",t)}function Il(e,t){for(l0[e]=t,e=0;e<t.length;e++)s_.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I1=Object.prototype.hasOwnProperty,zT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jm={},e2={};function GT(e){return I1.call(e2,e)?!0:I1.call(Jm,e)?!1:zT.test(e)?e2[e]=!0:(Jm[e]=!0,!1)}function XT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $T(e,t,r,n){if(t===null||typeof t>"u"||XT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $n(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wn[e]=new $n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wn[t]=new $n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wn[e]=new $n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wn[e]=new $n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wn[e]=new $n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wn[e]=new $n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wn[e]=new $n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wn[e]=new $n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wn[e]=new $n(e,5,!1,e.toLowerCase(),null,!1,!1)});var hp=/[\-:]([a-z])/g;function dp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hp,dp);wn[t]=new $n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hp,dp);wn[t]=new $n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hp,dp);wn[t]=new $n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wn[e]=new $n(e,1,!1,e.toLowerCase(),null,!1,!1)});wn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wn[e]=new $n(e,1,!1,e.toLowerCase(),null,!0,!0)});function gp(e,t,r,n){var i=wn.hasOwnProperty(t)?wn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($T(t,r,i,n)&&(r=null),n||i===null?GT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ys=HT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),tl=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),R1=Symbol.for("react.profiler"),a_=Symbol.for("react.provider"),o_=Symbol.for("react.context"),xp=Symbol.for("react.forward_ref"),N1=Symbol.for("react.suspense"),O1=Symbol.for("react.suspense_list"),mp=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),l_=Symbol.for("react.offscreen"),t2=Symbol.iterator;function xc(e){return e===null||typeof e!="object"?null:(e=t2&&e[t2]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,Id;function bc(e){if(Id===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Id=t&&t[1]||""}return`
`+Id+e}var Rd=!1;function Nd(e,t){if(!e||Rd)return"";Rd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==a[u]){var g=`
`+i[l].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=l&&0<=u);break}}}finally{Rd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bc(e):""}function YT(e){switch(e.tag){case 5:return bc(e.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return e=Nd(e.type,!1),e;case 11:return e=Nd(e.type.render,!1),e;case 1:return e=Nd(e.type,!0),e;default:return""}}function D1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rl:return"Fragment";case tl:return"Portal";case R1:return"Profiler";case pp:return"StrictMode";case N1:return"Suspense";case O1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o_:return(e.displayName||"Context")+".Consumer";case a_:return(e._context.displayName||"Context")+".Provider";case xp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mp:return t=e.displayName||null,t!==null?t:D1(e.type)||"Memo";case aa:t=e._payload,e=e._init;try{return D1(e(t))}catch{}}return null}function KT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D1(t);case 8:return t===pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Da(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function c_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qT(e){var t=c_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bu(e){e._valueTracker||(e._valueTracker=qT(e))}function u_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=c_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function F1(e,t){var r=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function r2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Da(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function f_(e,t){t=t.checked,t!=null&&gp(e,"checked",t,!1)}function P1(e,t){f_(e,t);var r=Da(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?M1(e,t.type,r):t.hasOwnProperty("defaultValue")&&M1(e,t.type,Da(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function n2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function M1(e,t,r){(t!=="number"||mf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ic=Array.isArray;function xl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Da(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function B1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function i2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(De(92));if(Ic(r)){if(1<r.length)throw Error(De(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Da(r)}}function h_(e,t){var r=Da(t.value),n=Da(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function s2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Iu,g_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function c0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZT=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(e){ZT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bc[t]=Bc[e]})});function p_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bc.hasOwnProperty(e)&&Bc[e]?(""+t).trim():t+"px"}function x_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=p_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var QT=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U1(e,t){if(t){if(QT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function j1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W1=null;function wp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var V1=null,ml=null,wl=null;function a2(e){if(e=q0(e)){if(typeof V1!="function")throw Error(De(280));var t=e.stateNode;t&&(t=Fh(t),V1(e.stateNode,e.type,t))}}function m_(e){ml?wl?wl.push(e):wl=[e]:ml=e}function w_(){if(ml){var e=ml,t=wl;if(wl=ml=null,a2(e),t)for(e=0;e<t.length;e++)a2(t[e])}}function v_(e,t){return e(t)}function y_(){}var Od=!1;function __(e,t,r){if(Od)return e(t,r);Od=!0;try{return v_(e,t,r)}finally{Od=!1,(ml!==null||wl!==null)&&(y_(),w_())}}function u0(e,t){var r=e.stateNode;if(r===null)return null;var n=Fh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(De(231,t,typeof r));return r}var H1=!1;if(js)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){H1=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{H1=!1}function JT(e,t,r,n,i,a,l,u,g){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(m){this.onError(m)}}var Lc=!1,wf=null,vf=!1,z1=null,e8={onError:function(e){Lc=!0,wf=e}};function t8(e,t,r,n,i,a,l,u,g){Lc=!1,wf=null,JT.apply(e8,arguments)}function r8(e,t,r,n,i,a,l,u,g){if(t8.apply(this,arguments),Lc){if(Lc){var p=wf;Lc=!1,wf=null}else throw Error(De(198));vf||(vf=!0,z1=p)}}function No(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function E_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function o2(e){if(No(e)!==e)throw Error(De(188))}function n8(e){var t=e.alternate;if(!t){if(t=No(e),t===null)throw Error(De(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return o2(i),e;if(a===n)return o2(i),t;a=a.sibling}throw Error(De(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,u=i.child;u;){if(u===r){l=!0,r=i,n=a;break}if(u===n){l=!0,n=i,r=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===r){l=!0,r=a,n=i;break}if(u===n){l=!0,n=a,r=i;break}u=u.sibling}if(!l)throw Error(De(189))}}if(r.alternate!==n)throw Error(De(190))}if(r.tag!==3)throw Error(De(188));return r.stateNode.current===r?e:t}function C_(e){return e=n8(e),e!==null?A_(e):null}function A_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=A_(e);if(t!==null)return t;e=e.sibling}return null}var S_=wi.unstable_scheduleCallback,l2=wi.unstable_cancelCallback,i8=wi.unstable_shouldYield,s8=wi.unstable_requestPaint,Nr=wi.unstable_now,a8=wi.unstable_getCurrentPriorityLevel,vp=wi.unstable_ImmediatePriority,T_=wi.unstable_UserBlockingPriority,yf=wi.unstable_NormalPriority,o8=wi.unstable_LowPriority,k_=wi.unstable_IdlePriority,Rh=null,vs=null;function l8(e){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Rh,e,void 0,(e.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:f8,c8=Math.log,u8=Math.LN2;function f8(e){return e>>>=0,e===0?32:31-(c8(e)/u8|0)|0}var Ru=64,Nu=4194304;function Rc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _f(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var u=l&~i;u!==0?n=Rc(u):(a&=l,a!==0&&(n=Rc(a)))}else l=r&~i,l!==0?n=Rc(l):a!==0&&(n=Rc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rs(t),i=1<<r,n|=e[r],t&=~i;return n}function h8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-rs(a),u=1<<l,g=i[l];g===-1?(!(u&r)||u&n)&&(i[l]=h8(u,t)):g<=t&&(e.expiredLanes|=u),a&=~u}}function G1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b_(){var e=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),e}function Dd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Y0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rs(t),e[t]=r}function g8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-rs(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function yp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Xt=0;function I_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var R_,_p,N_,O_,D_,X1=!1,Ou=[],va=null,ya=null,_a=null,f0=new Map,h0=new Map,la=[],p8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c2(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":f0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":h0.delete(t.pointerId)}}function wc(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=q0(t),t!==null&&_p(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function x8(e,t,r,n,i){switch(t){case"focusin":return va=wc(va,e,t,r,n,i),!0;case"dragenter":return ya=wc(ya,e,t,r,n,i),!0;case"mouseover":return _a=wc(_a,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return f0.set(a,wc(f0.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,h0.set(a,wc(h0.get(a)||null,e,t,r,n,i)),!0}return!1}function F_(e){var t=no(e.target);if(t!==null){var r=No(t);if(r!==null){if(t=r.tag,t===13){if(t=E_(r),t!==null){e.blockedOn=t,D_(e.priority,function(){N_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);W1=n,r.target.dispatchEvent(n),W1=null}else return t=q0(r),t!==null&&_p(t),e.blockedOn=r,!1;t.shift()}return!0}function u2(e,t,r){sf(e)&&r.delete(t)}function m8(){X1=!1,va!==null&&sf(va)&&(va=null),ya!==null&&sf(ya)&&(ya=null),_a!==null&&sf(_a)&&(_a=null),f0.forEach(u2),h0.forEach(u2)}function vc(e,t){e.blockedOn===t&&(e.blockedOn=null,X1||(X1=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,m8)))}function d0(e){function t(i){return vc(i,e)}if(0<Ou.length){vc(Ou[0],e);for(var r=1;r<Ou.length;r++){var n=Ou[r];n.blockedOn===e&&(n.blockedOn=null)}}for(va!==null&&vc(va,e),ya!==null&&vc(ya,e),_a!==null&&vc(_a,e),f0.forEach(t),h0.forEach(t),r=0;r<la.length;r++)n=la[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)F_(r),r.blockedOn===null&&la.shift()}var vl=Ys.ReactCurrentBatchConfig,Ef=!0;function w8(e,t,r,n){var i=Xt,a=vl.transition;vl.transition=null;try{Xt=1,Ep(e,t,r,n)}finally{Xt=i,vl.transition=a}}function v8(e,t,r,n){var i=Xt,a=vl.transition;vl.transition=null;try{Xt=4,Ep(e,t,r,n)}finally{Xt=i,vl.transition=a}}function Ep(e,t,r,n){if(Ef){var i=$1(e,t,r,n);if(i===null)Hd(e,t,n,Cf,r),c2(e,n);else if(x8(i,e,t,r,n))n.stopPropagation();else if(c2(e,n),t&4&&-1<p8.indexOf(e)){for(;i!==null;){var a=q0(i);if(a!==null&&R_(a),a=$1(e,t,r,n),a===null&&Hd(e,t,n,Cf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Hd(e,t,n,null,r)}}var Cf=null;function $1(e,t,r,n){if(Cf=null,e=wp(n),e=no(e),e!==null)if(t=No(e),t===null)e=null;else if(r=t.tag,r===13){if(e=E_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cf=e,null}function P_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a8()){case vp:return 1;case T_:return 4;case yf:case o8:return 16;case k_:return 536870912;default:return 16}default:return 16}}var fa=null,Cp=null,af=null;function M_(){if(af)return af;var e,t=Cp,r=t.length,n,i="value"in fa?fa.value:fa.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return af=i.slice(e,1<n?1-n:void 0)}function of(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Du(){return!0}function f2(){return!1}function Ei(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Du:f2,this.isPropagationStopped=f2,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),t}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ap=Ei($l),K0=yr({},$l,{view:0,detail:0}),y8=Ei(K0),Fd,Pd,yc,Nh=yr({},K0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yc&&(yc&&e.type==="mousemove"?(Fd=e.screenX-yc.screenX,Pd=e.screenY-yc.screenY):Pd=Fd=0,yc=e),Fd)},movementY:function(e){return"movementY"in e?e.movementY:Pd}}),h2=Ei(Nh),_8=yr({},Nh,{dataTransfer:0}),E8=Ei(_8),C8=yr({},K0,{relatedTarget:0}),Md=Ei(C8),A8=yr({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),S8=Ei(A8),T8=yr({},$l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),k8=Ei(T8),b8=yr({},$l,{data:0}),d2=Ei(b8),I8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=N8[e])?!!t[e]:!1}function Sp(){return O8}var D8=yr({},K0,{key:function(e){if(e.key){var t=I8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=of(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sp,charCode:function(e){return e.type==="keypress"?of(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?of(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),F8=Ei(D8),P8=yr({},Nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g2=Ei(P8),M8=yr({},K0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sp}),B8=Ei(M8),L8=yr({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),U8=Ei(L8),j8=yr({},Nh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W8=Ei(j8),V8=[9,13,27,32],Tp=js&&"CompositionEvent"in window,Uc=null;js&&"documentMode"in document&&(Uc=document.documentMode);var H8=js&&"TextEvent"in window&&!Uc,B_=js&&(!Tp||Uc&&8<Uc&&11>=Uc),p2=" ",x2=!1;function L_(e,t){switch(e){case"keyup":return V8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nl=!1;function z8(e,t){switch(e){case"compositionend":return U_(t);case"keypress":return t.which!==32?null:(x2=!0,p2);case"textInput":return e=t.data,e===p2&&x2?null:e;default:return null}}function G8(e,t){if(nl)return e==="compositionend"||!Tp&&L_(e,t)?(e=M_(),af=Cp=fa=null,nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return B_&&t.locale!=="ko"?null:t.data;default:return null}}var X8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X8[e.type]:t==="textarea"}function j_(e,t,r,n){m_(n),t=Af(t,"onChange"),0<t.length&&(r=new Ap("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jc=null,g0=null;function $8(e){Z_(e,0)}function Oh(e){var t=al(e);if(u_(t))return e}function Y8(e,t){if(e==="change")return t}var W_=!1;if(js){var Bd;if(js){var Ld="oninput"in document;if(!Ld){var w2=document.createElement("div");w2.setAttribute("oninput","return;"),Ld=typeof w2.oninput=="function"}Bd=Ld}else Bd=!1;W_=Bd&&(!document.documentMode||9<document.documentMode)}function v2(){jc&&(jc.detachEvent("onpropertychange",V_),g0=jc=null)}function V_(e){if(e.propertyName==="value"&&Oh(g0)){var t=[];j_(t,g0,e,wp(e)),__($8,t)}}function K8(e,t,r){e==="focusin"?(v2(),jc=t,g0=r,jc.attachEvent("onpropertychange",V_)):e==="focusout"&&v2()}function q8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oh(g0)}function Z8(e,t){if(e==="click")return Oh(t)}function Q8(e,t){if(e==="input"||e==="change")return Oh(t)}function J8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var as=typeof Object.is=="function"?Object.is:J8;function p0(e,t){if(as(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!I1.call(t,i)||!as(e[i],t[i]))return!1}return!0}function y2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _2(e,t){var r=y2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=y2(r)}}function H_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function z_(){for(var e=window,t=mf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mf(e.document)}return t}function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ek(e){var t=z_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&H_(r.ownerDocument.documentElement,r)){if(n!==null&&kp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=_2(r,a);var l=_2(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tk=js&&"documentMode"in document&&11>=document.documentMode,il=null,Y1=null,Wc=null,K1=!1;function E2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;K1||il==null||il!==mf(n)||(n=il,"selectionStart"in n&&kp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wc&&p0(Wc,n)||(Wc=n,n=Af(Y1,"onSelect"),0<n.length&&(t=new Ap("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=il)))}function Fu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sl={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Ud={},G_={};js&&(G_=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Dh(e){if(Ud[e])return Ud[e];if(!sl[e])return e;var t=sl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in G_)return Ud[e]=t[r];return e}var X_=Dh("animationend"),$_=Dh("animationiteration"),Y_=Dh("animationstart"),K_=Dh("transitionend"),q_=new Map,C2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){q_.set(e,t),Ro(t,[e])}for(var jd=0;jd<C2.length;jd++){var Wd=C2[jd],rk=Wd.toLowerCase(),nk=Wd[0].toUpperCase()+Wd.slice(1);Wa(rk,"on"+nk)}Wa(X_,"onAnimationEnd");Wa($_,"onAnimationIteration");Wa(Y_,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(K_,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ik=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function A2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,r8(n,t,void 0,e),e.currentTarget=null}function Z_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var u=n[l],g=u.instance,p=u.currentTarget;if(u=u.listener,g!==a&&i.isPropagationStopped())break e;A2(i,u,p),a=g}else for(l=0;l<n.length;l++){if(u=n[l],g=u.instance,p=u.currentTarget,u=u.listener,g!==a&&i.isPropagationStopped())break e;A2(i,u,p),a=g}}}if(vf)throw e=z1,vf=!1,z1=null,e}function ur(e,t){var r=t[eg];r===void 0&&(r=t[eg]=new Set);var n=e+"__bubble";r.has(n)||(Q_(t,e,2,!1),r.add(n))}function Vd(e,t,r){var n=0;t&&(n|=4),Q_(r,e,n,t)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function x0(e){if(!e[Pu]){e[Pu]=!0,s_.forEach(function(r){r!=="selectionchange"&&(ik.has(r)||Vd(r,!1,e),Vd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pu]||(t[Pu]=!0,Vd("selectionchange",!1,t))}}function Q_(e,t,r,n){switch(P_(t)){case 1:var i=w8;break;case 4:i=v8;break;default:i=Ep}r=i.bind(null,t,r,e),i=void 0,!H1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Hd(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var g=l.tag;if((g===3||g===4)&&(g=l.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;l=l.return}for(;u!==null;){if(l=no(u),l===null)return;if(g=l.tag,g===5||g===6){n=a=l;continue e}u=u.parentNode}}n=n.return}__(function(){var p=a,m=wp(r),v=[];e:{var _=q_.get(e);if(_!==void 0){var E=Ap,A=e;switch(e){case"keypress":if(of(r)===0)break e;case"keydown":case"keyup":E=F8;break;case"focusin":A="focus",E=Md;break;case"focusout":A="blur",E=Md;break;case"beforeblur":case"afterblur":E=Md;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=h2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=E8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=B8;break;case X_:case $_:case Y_:E=S8;break;case K_:E=U8;break;case"scroll":E=y8;break;case"wheel":E=W8;break;case"copy":case"cut":case"paste":E=k8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=g2}var C=(t&4)!==0,I=!C&&e==="scroll",b=C?_!==null?_+"Capture":null:_;C=[];for(var k=p,S;k!==null;){S=k;var B=S.stateNode;if(S.tag===5&&B!==null&&(S=B,b!==null&&(B=u0(k,b),B!=null&&C.push(m0(k,B,S)))),I)break;k=k.return}0<C.length&&(_=new E(_,A,null,r,m),v.push({event:_,listeners:C}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",_&&r!==W1&&(A=r.relatedTarget||r.fromElement)&&(no(A)||A[Ws]))break e;if((E||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,E?(A=r.relatedTarget||r.toElement,E=p,A=A?no(A):null,A!==null&&(I=No(A),A!==I||A.tag!==5&&A.tag!==6)&&(A=null)):(E=null,A=p),E!==A)){if(C=h2,B="onMouseLeave",b="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(C=g2,B="onPointerLeave",b="onPointerEnter",k="pointer"),I=E==null?_:al(E),S=A==null?_:al(A),_=new C(B,k+"leave",E,r,m),_.target=I,_.relatedTarget=S,B=null,no(m)===p&&(C=new C(b,k+"enter",A,r,m),C.target=S,C.relatedTarget=I,B=C),I=B,E&&A)t:{for(C=E,b=A,k=0,S=C;S;S=Zo(S))k++;for(S=0,B=b;B;B=Zo(B))S++;for(;0<k-S;)C=Zo(C),k--;for(;0<S-k;)b=Zo(b),S--;for(;k--;){if(C===b||b!==null&&C===b.alternate)break t;C=Zo(C),b=Zo(b)}C=null}else C=null;E!==null&&S2(v,_,E,C,!1),A!==null&&I!==null&&S2(v,I,A,C,!0)}}e:{if(_=p?al(p):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var K=Y8;else if(m2(_))if(W_)K=Q8;else{K=q8;var G=K8}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(K=Z8);if(K&&(K=K(e,p))){j_(v,K,r,m);break e}G&&G(e,_,p),e==="focusout"&&(G=_._wrapperState)&&G.controlled&&_.type==="number"&&M1(_,"number",_.value)}switch(G=p?al(p):window,e){case"focusin":(m2(G)||G.contentEditable==="true")&&(il=G,Y1=p,Wc=null);break;case"focusout":Wc=Y1=il=null;break;case"mousedown":K1=!0;break;case"contextmenu":case"mouseup":case"dragend":K1=!1,E2(v,r,m);break;case"selectionchange":if(tk)break;case"keydown":case"keyup":E2(v,r,m)}var F;if(Tp)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else nl?L_(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(B_&&r.locale!=="ko"&&(nl||q!=="onCompositionStart"?q==="onCompositionEnd"&&nl&&(F=M_()):(fa=m,Cp="value"in fa?fa.value:fa.textContent,nl=!0)),G=Af(p,q),0<G.length&&(q=new d2(q,e,null,r,m),v.push({event:q,listeners:G}),F?q.data=F:(F=U_(r),F!==null&&(q.data=F)))),(F=H8?z8(e,r):G8(e,r))&&(p=Af(p,"onBeforeInput"),0<p.length&&(m=new d2("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:p}),m.data=F))}Z_(v,t)})}function m0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Af(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=u0(e,r),a!=null&&n.unshift(m0(e,a,i)),a=u0(e,t),a!=null&&n.push(m0(e,a,i))),e=e.return}return n}function Zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function S2(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var u=r,g=u.alternate,p=u.stateNode;if(g!==null&&g===n)break;u.tag===5&&p!==null&&(u=p,i?(g=u0(r,a),g!=null&&l.unshift(m0(r,g,u))):i||(g=u0(r,a),g!=null&&l.push(m0(r,g,u)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var sk=/\r\n?/g,ak=/\u0000|\uFFFD/g;function T2(e){return(typeof e=="string"?e:""+e).replace(sk,`
`).replace(ak,"")}function Mu(e,t,r){if(t=T2(t),T2(e)!==t&&r)throw Error(De(425))}function Sf(){}var q1=null,Z1=null;function Q1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var J1=typeof setTimeout=="function"?setTimeout:void 0,ok=typeof clearTimeout=="function"?clearTimeout:void 0,k2=typeof Promise=="function"?Promise:void 0,lk=typeof queueMicrotask=="function"?queueMicrotask:typeof k2<"u"?function(e){return k2.resolve(null).then(e).catch(ck)}:J1;function ck(e){setTimeout(function(){throw e})}function zd(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),d0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);d0(t)}function Ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function b2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),ws="__reactFiber$"+Yl,w0="__reactProps$"+Yl,Ws="__reactContainer$"+Yl,eg="__reactEvents$"+Yl,uk="__reactListeners$"+Yl,fk="__reactHandles$"+Yl;function no(e){var t=e[ws];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ws]||r[ws]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=b2(e);e!==null;){if(r=e[ws])return r;e=b2(e)}return t}e=r,r=e.parentNode}return null}function q0(e){return e=e[ws]||e[Ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function al(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function Fh(e){return e[w0]||null}var tg=[],ol=-1;function Va(e){return{current:e}}function hr(e){0>ol||(e.current=tg[ol],tg[ol]=null,ol--)}function sr(e,t){ol++,tg[ol]=e.current,e.current=t}var Fa={},In=Va(Fa),ii=Va(!1),xo=Fa;function Rl(e,t){var r=e.type.contextTypes;if(!r)return Fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function si(e){return e=e.childContextTypes,e!=null}function Tf(){hr(ii),hr(In)}function I2(e,t,r){if(In.current!==Fa)throw Error(De(168));sr(In,t),sr(ii,r)}function J_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(De(108,KT(e)||"Unknown",i));return yr({},r,n)}function kf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fa,xo=In.current,sr(In,e),sr(ii,ii.current),!0}function R2(e,t,r){var n=e.stateNode;if(!n)throw Error(De(169));r?(e=J_(e,t,xo),n.__reactInternalMemoizedMergedChildContext=e,hr(ii),hr(In),sr(In,e)):hr(ii),sr(ii,r)}var Rs=null,Ph=!1,Gd=!1;function eE(e){Rs===null?Rs=[e]:Rs.push(e)}function hk(e){Ph=!0,eE(e)}function Ha(){if(!Gd&&Rs!==null){Gd=!0;var e=0,t=Xt;try{var r=Rs;for(Xt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rs=null,Ph=!1}catch(i){throw Rs!==null&&(Rs=Rs.slice(e+1)),S_(vp,Ha),i}finally{Xt=t,Gd=!1}}return null}var ll=[],cl=0,bf=null,If=0,Oi=[],Di=0,mo=null,Ns=1,Os="";function Za(e,t){ll[cl++]=If,ll[cl++]=bf,bf=e,If=t}function tE(e,t,r){Oi[Di++]=Ns,Oi[Di++]=Os,Oi[Di++]=mo,mo=e;var n=Ns;e=Os;var i=32-rs(n)-1;n&=~(1<<i),r+=1;var a=32-rs(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Ns=1<<32-rs(t)+i|r<<i|n,Os=a+e}else Ns=1<<a|r<<i|n,Os=e}function bp(e){e.return!==null&&(Za(e,1),tE(e,1,0))}function Ip(e){for(;e===bf;)bf=ll[--cl],ll[cl]=null,If=ll[--cl],ll[cl]=null;for(;e===mo;)mo=Oi[--Di],Oi[Di]=null,Os=Oi[--Di],Oi[Di]=null,Ns=Oi[--Di],Oi[Di]=null}var xi=null,pi=null,xr=!1,qi=null;function rE(e,t){var r=Fi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function N2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,pi=Ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mo!==null?{id:Ns,overflow:Os}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xi=e,pi=null,!0):!1;default:return!1}}function rg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ng(e){if(xr){var t=pi;if(t){var r=t;if(!N2(e,t)){if(rg(e))throw Error(De(418));t=Ea(r.nextSibling);var n=xi;t&&N2(e,t)?rE(n,r):(e.flags=e.flags&-4097|2,xr=!1,xi=e)}}else{if(rg(e))throw Error(De(418));e.flags=e.flags&-4097|2,xr=!1,xi=e}}}function O2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function Bu(e){if(e!==xi)return!1;if(!xr)return O2(e),xr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Q1(e.type,e.memoizedProps)),t&&(t=pi)){if(rg(e))throw nE(),Error(De(418));for(;t;)rE(e,t),t=Ea(t.nextSibling)}if(O2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pi=Ea(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pi=null}}else pi=xi?Ea(e.stateNode.nextSibling):null;return!0}function nE(){for(var e=pi;e;)e=Ea(e.nextSibling)}function Nl(){pi=xi=null,xr=!1}function Rp(e){qi===null?qi=[e]:qi.push(e)}var dk=Ys.ReactCurrentBatchConfig;function _c(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(De(309));var n=r.stateNode}if(!n)throw Error(De(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var u=i.refs;l===null?delete u[a]:u[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(De(284));if(!r._owner)throw Error(De(290,e))}return e}function Lu(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function D2(e){var t=e._init;return t(e._payload)}function iE(e){function t(b,k){if(e){var S=b.deletions;S===null?(b.deletions=[k],b.flags|=16):S.push(k)}}function r(b,k){if(!e)return null;for(;k!==null;)t(b,k),k=k.sibling;return null}function n(b,k){for(b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function i(b,k){return b=Ta(b,k),b.index=0,b.sibling=null,b}function a(b,k,S){return b.index=S,e?(S=b.alternate,S!==null?(S=S.index,S<k?(b.flags|=2,k):S):(b.flags|=2,k)):(b.flags|=1048576,k)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,k,S,B){return k===null||k.tag!==6?(k=Qd(S,b.mode,B),k.return=b,k):(k=i(k,S),k.return=b,k)}function g(b,k,S,B){var K=S.type;return K===rl?m(b,k,S.props.children,B,S.key):k!==null&&(k.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===aa&&D2(K)===k.type)?(B=i(k,S.props),B.ref=_c(b,k,S),B.return=b,B):(B=gf(S.type,S.key,S.props,null,b.mode,B),B.ref=_c(b,k,S),B.return=b,B)}function p(b,k,S,B){return k===null||k.tag!==4||k.stateNode.containerInfo!==S.containerInfo||k.stateNode.implementation!==S.implementation?(k=Jd(S,b.mode,B),k.return=b,k):(k=i(k,S.children||[]),k.return=b,k)}function m(b,k,S,B,K){return k===null||k.tag!==7?(k=fo(S,b.mode,B,K),k.return=b,k):(k=i(k,S),k.return=b,k)}function v(b,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Qd(""+k,b.mode,S),k.return=b,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ku:return S=gf(k.type,k.key,k.props,null,b.mode,S),S.ref=_c(b,null,k),S.return=b,S;case tl:return k=Jd(k,b.mode,S),k.return=b,k;case aa:var B=k._init;return v(b,B(k._payload),S)}if(Ic(k)||xc(k))return k=fo(k,b.mode,S,null),k.return=b,k;Lu(b,k)}return null}function _(b,k,S,B){var K=k!==null?k.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return K!==null?null:u(b,k,""+S,B);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:return S.key===K?g(b,k,S,B):null;case tl:return S.key===K?p(b,k,S,B):null;case aa:return K=S._init,_(b,k,K(S._payload),B)}if(Ic(S)||xc(S))return K!==null?null:m(b,k,S,B,null);Lu(b,S)}return null}function E(b,k,S,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return b=b.get(S)||null,u(k,b,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ku:return b=b.get(B.key===null?S:B.key)||null,g(k,b,B,K);case tl:return b=b.get(B.key===null?S:B.key)||null,p(k,b,B,K);case aa:var G=B._init;return E(b,k,S,G(B._payload),K)}if(Ic(B)||xc(B))return b=b.get(S)||null,m(k,b,B,K,null);Lu(k,B)}return null}function A(b,k,S,B){for(var K=null,G=null,F=k,q=k=0,W=null;F!==null&&q<S.length;q++){F.index>q?(W=F,F=null):W=F.sibling;var ce=_(b,F,S[q],B);if(ce===null){F===null&&(F=W);break}e&&F&&ce.alternate===null&&t(b,F),k=a(ce,k,q),G===null?K=ce:G.sibling=ce,G=ce,F=W}if(q===S.length)return r(b,F),xr&&Za(b,q),K;if(F===null){for(;q<S.length;q++)F=v(b,S[q],B),F!==null&&(k=a(F,k,q),G===null?K=F:G.sibling=F,G=F);return xr&&Za(b,q),K}for(F=n(b,F);q<S.length;q++)W=E(F,b,q,S[q],B),W!==null&&(e&&W.alternate!==null&&F.delete(W.key===null?q:W.key),k=a(W,k,q),G===null?K=W:G.sibling=W,G=W);return e&&F.forEach(function(ue){return t(b,ue)}),xr&&Za(b,q),K}function C(b,k,S,B){var K=xc(S);if(typeof K!="function")throw Error(De(150));if(S=K.call(S),S==null)throw Error(De(151));for(var G=K=null,F=k,q=k=0,W=null,ce=S.next();F!==null&&!ce.done;q++,ce=S.next()){F.index>q?(W=F,F=null):W=F.sibling;var ue=_(b,F,ce.value,B);if(ue===null){F===null&&(F=W);break}e&&F&&ue.alternate===null&&t(b,F),k=a(ue,k,q),G===null?K=ue:G.sibling=ue,G=ue,F=W}if(ce.done)return r(b,F),xr&&Za(b,q),K;if(F===null){for(;!ce.done;q++,ce=S.next())ce=v(b,ce.value,B),ce!==null&&(k=a(ce,k,q),G===null?K=ce:G.sibling=ce,G=ce);return xr&&Za(b,q),K}for(F=n(b,F);!ce.done;q++,ce=S.next())ce=E(F,b,q,ce.value,B),ce!==null&&(e&&ce.alternate!==null&&F.delete(ce.key===null?q:ce.key),k=a(ce,k,q),G===null?K=ce:G.sibling=ce,G=ce);return e&&F.forEach(function(Z){return t(b,Z)}),xr&&Za(b,q),K}function I(b,k,S,B){if(typeof S=="object"&&S!==null&&S.type===rl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:e:{for(var K=S.key,G=k;G!==null;){if(G.key===K){if(K=S.type,K===rl){if(G.tag===7){r(b,G.sibling),k=i(G,S.props.children),k.return=b,b=k;break e}}else if(G.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===aa&&D2(K)===G.type){r(b,G.sibling),k=i(G,S.props),k.ref=_c(b,G,S),k.return=b,b=k;break e}r(b,G);break}else t(b,G);G=G.sibling}S.type===rl?(k=fo(S.props.children,b.mode,B,S.key),k.return=b,b=k):(B=gf(S.type,S.key,S.props,null,b.mode,B),B.ref=_c(b,k,S),B.return=b,b=B)}return l(b);case tl:e:{for(G=S.key;k!==null;){if(k.key===G)if(k.tag===4&&k.stateNode.containerInfo===S.containerInfo&&k.stateNode.implementation===S.implementation){r(b,k.sibling),k=i(k,S.children||[]),k.return=b,b=k;break e}else{r(b,k);break}else t(b,k);k=k.sibling}k=Jd(S,b.mode,B),k.return=b,b=k}return l(b);case aa:return G=S._init,I(b,k,G(S._payload),B)}if(Ic(S))return A(b,k,S,B);if(xc(S))return C(b,k,S,B);Lu(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,k!==null&&k.tag===6?(r(b,k.sibling),k=i(k,S),k.return=b,b=k):(r(b,k),k=Qd(S,b.mode,B),k.return=b,b=k),l(b)):r(b,k)}return I}var Ol=iE(!0),sE=iE(!1),Rf=Va(null),Nf=null,ul=null,Np=null;function Op(){Np=ul=Nf=null}function Dp(e){var t=Rf.current;hr(Rf),e._currentValue=t}function ig(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yl(e,t){Nf=e,Np=ul=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ri=!0),e.firstContext=null)}function Bi(e){var t=e._currentValue;if(Np!==e)if(e={context:e,memoizedValue:t,next:null},ul===null){if(Nf===null)throw Error(De(308));ul=e,Nf.dependencies={lanes:0,firstContext:e}}else ul=ul.next=e;return t}var io=null;function Fp(e){io===null?io=[e]:io.push(e)}function aE(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Fp(t)):(r.next=i.next,i.next=r),t.interleaved=r,Vs(e,n)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oa=!1;function Pp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ut&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Vs(e,r)}return i=n.interleaved,i===null?(t.next=t,Fp(n)):(t.next=i.next,i.next=t),n.interleaved=t,Vs(e,r)}function lf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yp(e,r)}}function F2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Of(e,t,r,n){var i=e.updateQueue;oa=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var g=u,p=g.next;g.next=null,l===null?a=p:l.next=p,l=g;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=p:u.next=p,m.lastBaseUpdate=g))}if(a!==null){var v=i.baseState;l=0,m=p=g=null,u=a;do{var _=u.lane,E=u.eventTime;if((n&_)===_){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,C=u;switch(_=t,E=r,C.tag){case 1:if(A=C.payload,typeof A=="function"){v=A.call(E,v,_);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,_=typeof A=="function"?A.call(E,v,_):A,_==null)break e;v=yr({},v,_);break e;case 2:oa=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else E={eventTime:E,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(p=m=E,g=v):m=m.next=E,l|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(g=v),i.baseState=g,i.firstBaseUpdate=p,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);vo|=l,e.lanes=l,e.memoizedState=v}}function P2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(De(191,i));i.call(n)}}}var Z0={},ys=Va(Z0),v0=Va(Z0),y0=Va(Z0);function so(e){if(e===Z0)throw Error(De(174));return e}function Mp(e,t){switch(sr(y0,t),sr(v0,e),sr(ys,Z0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:L1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=L1(t,e)}hr(ys),sr(ys,t)}function Dl(){hr(ys),hr(v0),hr(y0)}function lE(e){so(y0.current);var t=so(ys.current),r=L1(t,e.type);t!==r&&(sr(v0,e),sr(ys,r))}function Bp(e){v0.current===e&&(hr(ys),hr(v0))}var wr=Va(0);function Df(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xd=[];function Lp(){for(var e=0;e<Xd.length;e++)Xd[e]._workInProgressVersionPrimary=null;Xd.length=0}var cf=Ys.ReactCurrentDispatcher,$d=Ys.ReactCurrentBatchConfig,wo=0,vr=null,Gr=null,rn=null,Ff=!1,Vc=!1,_0=0,gk=0;function _n(){throw Error(De(321))}function Up(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!as(e[r],t[r]))return!1;return!0}function jp(e,t,r,n,i,a){if(wo=a,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cf.current=e===null||e.memoizedState===null?wk:vk,e=r(n,i),Vc){a=0;do{if(Vc=!1,_0=0,25<=a)throw Error(De(301));a+=1,rn=Gr=null,t.updateQueue=null,cf.current=yk,e=r(n,i)}while(Vc)}if(cf.current=Pf,t=Gr!==null&&Gr.next!==null,wo=0,rn=Gr=vr=null,Ff=!1,t)throw Error(De(300));return e}function Wp(){var e=_0!==0;return _0=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?vr.memoizedState=rn=e:rn=rn.next=e,rn}function Li(){if(Gr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Gr.next;var t=rn===null?vr.memoizedState:rn.next;if(t!==null)rn=t,Gr=e;else{if(e===null)throw Error(De(310));Gr=e,e={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},rn===null?vr.memoizedState=rn=e:rn=rn.next=e}return rn}function E0(e,t){return typeof t=="function"?t(e):t}function Yd(e){var t=Li(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=e;var n=Gr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var u=l=null,g=null,p=a;do{var m=p.lane;if((wo&m)===m)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var v={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(u=g=v,l=n):g=g.next=v,vr.lanes|=m,vo|=m}p=p.next}while(p!==null&&p!==a);g===null?l=n:g.next=u,as(n,t.memoizedState)||(ri=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=g,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,vr.lanes|=a,vo|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kd(e){var t=Li(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);as(a,t.memoizedState)||(ri=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function cE(){}function uE(e,t){var r=vr,n=Li(),i=t(),a=!as(n.memoizedState,i);if(a&&(n.memoizedState=i,ri=!0),n=n.queue,Vp(dE.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||rn!==null&&rn.memoizedState.tag&1){if(r.flags|=2048,C0(9,hE.bind(null,r,n,i,t),void 0,null),sn===null)throw Error(De(349));wo&30||fE(r,t,i)}return i}function fE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hE(e,t,r,n){t.value=r,t.getSnapshot=n,gE(t)&&pE(e)}function dE(e,t,r){return r(function(){gE(t)&&pE(e)})}function gE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!as(e,r)}catch{return!0}}function pE(e){var t=Vs(e,1);t!==null&&ns(t,e,1,-1)}function M2(e){var t=xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:e},t.queue=e,e=e.dispatch=mk.bind(null,vr,e),[t.memoizedState,e]}function C0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function xE(){return Li().memoizedState}function uf(e,t,r,n){var i=xs();vr.flags|=e,i.memoizedState=C0(1|t,r,void 0,n===void 0?null:n)}function Mh(e,t,r,n){var i=Li();n=n===void 0?null:n;var a=void 0;if(Gr!==null){var l=Gr.memoizedState;if(a=l.destroy,n!==null&&Up(n,l.deps)){i.memoizedState=C0(t,r,a,n);return}}vr.flags|=e,i.memoizedState=C0(1|t,r,a,n)}function B2(e,t){return uf(8390656,8,e,t)}function Vp(e,t){return Mh(2048,8,e,t)}function mE(e,t){return Mh(4,2,e,t)}function wE(e,t){return Mh(4,4,e,t)}function vE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yE(e,t,r){return r=r!=null?r.concat([e]):null,Mh(4,4,vE.bind(null,t,e),r)}function Hp(){}function _E(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Up(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function EE(e,t){var r=Li();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Up(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function CE(e,t,r){return wo&21?(as(r,t)||(r=b_(),vr.lanes|=r,vo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ri=!0),e.memoizedState=r)}function pk(e,t){var r=Xt;Xt=r!==0&&4>r?r:4,e(!0);var n=$d.transition;$d.transition={};try{e(!1),t()}finally{Xt=r,$d.transition=n}}function AE(){return Li().memoizedState}function xk(e,t,r){var n=Sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},SE(e))TE(t,r);else if(r=aE(e,t,r,n),r!==null){var i=Wn();ns(r,e,n,i),kE(r,t,n)}}function mk(e,t,r){var n=Sa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(SE(e))TE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,u=a(l,r);if(i.hasEagerState=!0,i.eagerState=u,as(u,l)){var g=t.interleaved;g===null?(i.next=i,Fp(t)):(i.next=g.next,g.next=i),t.interleaved=i;return}}catch{}finally{}r=aE(e,t,i,n),r!==null&&(i=Wn(),ns(r,e,n,i),kE(r,t,n))}}function SE(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function TE(e,t){Vc=Ff=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yp(e,r)}}var Pf={readContext:Bi,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},wk={readContext:Bi,useCallback:function(e,t){return xs().memoizedState=[e,t===void 0?null:t],e},useContext:Bi,useEffect:B2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,uf(4194308,4,vE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return uf(4194308,4,e,t)},useInsertionEffect:function(e,t){return uf(4,2,e,t)},useMemo:function(e,t){var r=xs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xk.bind(null,vr,e),[n.memoizedState,e]},useRef:function(e){var t=xs();return e={current:e},t.memoizedState=e},useState:M2,useDebugValue:Hp,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=M2(!1),t=e[0];return e=pk.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vr,i=xs();if(xr){if(r===void 0)throw Error(De(407));r=r()}else{if(r=t(),sn===null)throw Error(De(349));wo&30||fE(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,B2(dE.bind(null,n,a,e),[e]),n.flags|=2048,C0(9,hE.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=xs(),t=sn.identifierPrefix;if(xr){var r=Os,n=Ns;r=(n&~(1<<32-rs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vk={readContext:Bi,useCallback:_E,useContext:Bi,useEffect:Vp,useImperativeHandle:yE,useInsertionEffect:mE,useLayoutEffect:wE,useMemo:EE,useReducer:Yd,useRef:xE,useState:function(){return Yd(E0)},useDebugValue:Hp,useDeferredValue:function(e){var t=Li();return CE(t,Gr.memoizedState,e)},useTransition:function(){var e=Yd(E0)[0],t=Li().memoizedState;return[e,t]},useMutableSource:cE,useSyncExternalStore:uE,useId:AE,unstable_isNewReconciler:!1},yk={readContext:Bi,useCallback:_E,useContext:Bi,useEffect:Vp,useImperativeHandle:yE,useInsertionEffect:mE,useLayoutEffect:wE,useMemo:EE,useReducer:Kd,useRef:xE,useState:function(){return Kd(E0)},useDebugValue:Hp,useDeferredValue:function(e){var t=Li();return Gr===null?t.memoizedState=e:CE(t,Gr.memoizedState,e)},useTransition:function(){var e=Kd(E0)[0],t=Li().memoizedState;return[e,t]},useMutableSource:cE,useSyncExternalStore:uE,useId:AE,unstable_isNewReconciler:!1};function Yi(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bh={isMounted:function(e){return(e=e._reactInternals)?No(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wn(),i=Sa(e),a=Ps(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,i),t!==null&&(ns(t,e,i,n),lf(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wn(),i=Sa(e),a=Ps(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,i),t!==null&&(ns(t,e,i,n),lf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wn(),n=Sa(e),i=Ps(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ca(e,i,n),t!==null&&(ns(t,e,n,r),lf(t,e,n))}};function L2(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!p0(r,n)||!p0(i,a):!0}function bE(e,t,r){var n=!1,i=Fa,a=t.contextType;return typeof a=="object"&&a!==null?a=Bi(a):(i=si(t)?xo:In.current,n=t.contextTypes,a=(n=n!=null)?Rl(e,i):Fa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function U2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bh.enqueueReplaceState(t,t.state,null)}function ag(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Pp(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bi(a):(a=si(t)?xo:In.current,i.context=Rl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sg(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bh.enqueueReplaceState(i,i.state,null),Of(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fl(e,t){try{var r="",n=t;do r+=YT(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function qd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function og(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _k=typeof WeakMap=="function"?WeakMap:Map;function IE(e,t,r){r=Ps(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bf||(Bf=!0,mg=n),og(e,t)},r}function RE(e,t,r){r=Ps(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){og(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){og(e,t),typeof n!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function j2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _k;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Pk.bind(null,e,t,r),t.then(e,e))}function W2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function V2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ps(-1,1),t.tag=2,Ca(r,t,1))),r.lanes|=1),e)}var Ek=Ys.ReactCurrentOwner,ri=!1;function Mn(e,t,r,n){t.child=e===null?sE(t,null,r,n):Ol(t,e.child,r,n)}function H2(e,t,r,n,i){r=r.render;var a=t.ref;return yl(t,i),n=jp(e,t,r,n,a,i),r=Wp(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(xr&&r&&bp(t),t.flags|=1,Mn(e,t,n,i),t.child)}function z2(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Zp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,NE(e,t,a,n,i)):(e=gf(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:p0,r(l,n)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,e=Ta(a,n),e.ref=t.ref,e.return=t,t.child=e}function NE(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(p0(a,n)&&e.ref===t.ref)if(ri=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ri=!0);else return t.lanes=e.lanes,Hs(e,t,i)}return lg(e,t,r,n,i)}function OE(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(hl,hi),hi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(hl,hi),hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,sr(hl,hi),hi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,sr(hl,hi),hi|=n;return Mn(e,t,i,r),t.child}function DE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lg(e,t,r,n,i){var a=si(r)?xo:In.current;return a=Rl(t,a),yl(t,i),r=jp(e,t,r,n,a,i),n=Wp(),e!==null&&!ri?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(xr&&n&&bp(t),t.flags|=1,Mn(e,t,r,i),t.child)}function G2(e,t,r,n,i){if(si(r)){var a=!0;kf(t)}else a=!1;if(yl(t,i),t.stateNode===null)ff(e,t),bE(t,r,n),ag(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var g=l.context,p=r.contextType;typeof p=="object"&&p!==null?p=Bi(p):(p=si(r)?xo:In.current,p=Rl(t,p));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||g!==p)&&U2(t,l,n,p),oa=!1;var _=t.memoizedState;l.state=_,Of(t,n,l,i),g=t.memoizedState,u!==n||_!==g||ii.current||oa?(typeof m=="function"&&(sg(t,r,m,n),g=t.memoizedState),(u=oa||L2(t,r,u,n,_,g,p))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=p,n=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,oE(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:Yi(t.type,u),l.props=p,v=t.pendingProps,_=l.context,g=r.contextType,typeof g=="object"&&g!==null?g=Bi(g):(g=si(r)?xo:In.current,g=Rl(t,g));var E=r.getDerivedStateFromProps;(m=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==v||_!==g)&&U2(t,l,n,g),oa=!1,_=t.memoizedState,l.state=_,Of(t,n,l,i);var A=t.memoizedState;u!==v||_!==A||ii.current||oa?(typeof E=="function"&&(sg(t,r,E,n),A=t.memoizedState),(p=oa||L2(t,r,p,n,_,A,g)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,A,g),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,A,g)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),l.props=n,l.state=A,l.context=g,n=p):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),n=!1)}return cg(e,t,r,n,a,i)}function cg(e,t,r,n,i,a){DE(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&R2(t,r,!1),Hs(e,t,a);n=t.stateNode,Ek.current=t;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Ol(t,e.child,null,a),t.child=Ol(t,null,u,a)):Mn(e,t,u,a),t.memoizedState=n.state,i&&R2(t,r,!0),t.child}function FE(e){var t=e.stateNode;t.pendingContext?I2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&I2(e,t.context,!1),Mp(e,t.containerInfo)}function X2(e,t,r,n,i){return Nl(),Rp(i),t.flags|=256,Mn(e,t,r,n),t.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function PE(e,t,r){var n=t.pendingProps,i=wr.current,a=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sr(wr,i&1),e===null)return ng(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=jh(l,n,0,null),e=fo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fg(r),t.memoizedState=ug,e):zp(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Ck(e,t,l,n,u,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,u=i.sibling;var g={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=g,t.deletions=null):(n=Ta(i,g),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=Ta(u,a):(a=fo(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?fg(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=ug,n}return a=e.child,e=a.sibling,n=Ta(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zp(e,t){return t=jh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uu(e,t,r,n){return n!==null&&Rp(n),Ol(t,e.child,null,r),e=zp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ck(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=qd(Error(De(422))),Uu(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=jh({mode:"visible",children:n.children},i,0,null),a=fo(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ol(t,e.child,null,l),t.child.memoizedState=fg(l),t.memoizedState=ug,a);if(!(t.mode&1))return Uu(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,a=Error(De(419)),n=qd(a,n,void 0),Uu(e,t,l,n)}if(u=(l&e.childLanes)!==0,ri||u){if(n=sn,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Vs(e,i),ns(n,e,i,-1))}return qp(),n=qd(Error(De(421))),Uu(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Mk.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,pi=Ea(i.nextSibling),xi=t,xr=!0,qi=null,e!==null&&(Oi[Di++]=Ns,Oi[Di++]=Os,Oi[Di++]=mo,Ns=e.id,Os=e.overflow,mo=t),t=zp(t,n.children),t.flags|=4096,t)}function $2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ig(e.return,t,r)}function Zd(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function ME(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Mn(e,t,n.children,r),n=wr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$2(e,r,t);else if(e.tag===19)$2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(sr(wr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Df(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Zd(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Df(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Zd(t,!0,r,null,a);break;case"together":Zd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ff(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,r=Ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ak(e,t,r){switch(t.tag){case 3:FE(t),Nl();break;case 5:lE(t);break;case 1:si(t.type)&&kf(t);break;case 4:Mp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;sr(Rf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(sr(wr,wr.current&1),t.flags|=128,null):r&t.child.childLanes?PE(e,t,r):(sr(wr,wr.current&1),e=Hs(e,t,r),e!==null?e.sibling:null);sr(wr,wr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ME(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sr(wr,wr.current),n)break;return null;case 22:case 23:return t.lanes=0,OE(e,t,r)}return Hs(e,t,r)}var BE,hg,LE,UE;BE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hg=function(){};LE=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,so(ys.current);var a=null;switch(r){case"input":i=F1(e,i),n=F1(e,n),a=[];break;case"select":i=yr({},i,{value:void 0}),n=yr({},n,{value:void 0}),a=[];break;case"textarea":i=B1(e,i),n=B1(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sf)}U1(r,n);var l;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l0.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var g=n[p];if(u=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&g!==u&&(g!=null||u!=null))if(p==="style")if(u){for(l in u)!u.hasOwnProperty(l)||g&&g.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in g)g.hasOwnProperty(l)&&u[l]!==g[l]&&(r||(r={}),r[l]=g[l])}else r||(a||(a=[]),a.push(p,r)),r=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,u=u?u.__html:void 0,g!=null&&u!==g&&(a=a||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(l0.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&ur("scroll",e),a||u===g||(a=[])):(a=a||[]).push(p,g))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};UE=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ec(e,t){if(!xr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function En(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Sk(e,t,r){var n=t.pendingProps;switch(Ip(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return si(t.type)&&Tf(),En(t),null;case 3:return n=t.stateNode,Dl(),hr(ii),hr(In),Lp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qi!==null&&(yg(qi),qi=null))),hg(e,t),En(t),null;case 5:Bp(t);var i=so(y0.current);if(r=t.type,e!==null&&t.stateNode!=null)LE(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(De(166));return En(t),null}if(e=so(ys.current),Bu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ws]=t,n[w0]=a,e=(t.mode&1)!==0,r){case"dialog":ur("cancel",n),ur("close",n);break;case"iframe":case"object":case"embed":ur("load",n);break;case"video":case"audio":for(i=0;i<Nc.length;i++)ur(Nc[i],n);break;case"source":ur("error",n);break;case"img":case"image":case"link":ur("error",n),ur("load",n);break;case"details":ur("toggle",n);break;case"input":r2(n,a),ur("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ur("invalid",n);break;case"textarea":i2(n,a),ur("invalid",n)}U1(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="children"?typeof u=="string"?n.textContent!==u&&(a.suppressHydrationWarning!==!0&&Mu(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Mu(n.textContent,u,e),i=["children",""+u]):l0.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ur("scroll",n)}switch(r){case"input":bu(n),n2(n,a,!0);break;case"textarea":bu(n),s2(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Sf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ws]=t,e[w0]=n,BE(e,t,!1,!1),t.stateNode=e;e:{switch(l=j1(r,n),r){case"dialog":ur("cancel",e),ur("close",e),i=n;break;case"iframe":case"object":case"embed":ur("load",e),i=n;break;case"video":case"audio":for(i=0;i<Nc.length;i++)ur(Nc[i],e);i=n;break;case"source":ur("error",e),i=n;break;case"img":case"image":case"link":ur("error",e),ur("load",e),i=n;break;case"details":ur("toggle",e),i=n;break;case"input":r2(e,n),i=F1(e,n),ur("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=yr({},n,{value:void 0}),ur("invalid",e);break;case"textarea":i2(e,n),i=B1(e,n),ur("invalid",e);break;default:i=n}U1(r,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var g=u[a];a==="style"?x_(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&g_(e,g)):a==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&c0(e,g):typeof g=="number"&&c0(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(l0.hasOwnProperty(a)?g!=null&&a==="onScroll"&&ur("scroll",e):g!=null&&gp(e,a,g,l))}switch(r){case"input":bu(e),n2(e,n,!1);break;case"textarea":bu(e),s2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Da(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?xl(e,!!n.multiple,a,!1):n.defaultValue!=null&&xl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(e&&t.stateNode!=null)UE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(De(166));if(r=so(y0.current),so(ys.current),Bu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ws]=t,(a=n.nodeValue!==r)&&(e=xi,e!==null))switch(e.tag){case 3:Mu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ws]=t,t.stateNode=n}return En(t),null;case 13:if(hr(wr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xr&&pi!==null&&t.mode&1&&!(t.flags&128))nE(),Nl(),t.flags|=98560,a=!1;else if(a=Bu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(De(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(De(317));a[ws]=t}else Nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),a=!1}else qi!==null&&(yg(qi),qi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wr.current&1?Yr===0&&(Yr=3):qp())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return Dl(),hg(e,t),e===null&&x0(t.stateNode.containerInfo),En(t),null;case 10:return Dp(t.type._context),En(t),null;case 17:return si(t.type)&&Tf(),En(t),null;case 19:if(hr(wr),a=t.memoizedState,a===null)return En(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)Ec(a,!1);else{if(Yr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Df(e),l!==null){for(t.flags|=128,Ec(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return sr(wr,wr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Nr()>Pl&&(t.flags|=128,n=!0,Ec(a,!1),t.lanes=4194304)}else{if(!n)if(e=Df(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ec(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!xr)return En(t),null}else 2*Nr()-a.renderingStartTime>Pl&&r!==1073741824&&(t.flags|=128,n=!0,Ec(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Nr(),t.sibling=null,r=wr.current,sr(wr,n?r&1|2:r&1),t):(En(t),null);case 22:case 23:return Kp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hi&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function Tk(e,t){switch(Ip(t),t.tag){case 1:return si(t.type)&&Tf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dl(),hr(ii),hr(In),Lp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bp(t),null;case 13:if(hr(wr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));Nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hr(wr),null;case 4:return Dl(),null;case 10:return Dp(t.type._context),null;case 22:case 23:return Kp(),null;case 24:return null;default:return null}}var ju=!1,Sn=!1,kk=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function fl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Cr(e,t,n)}else r.current=null}function dg(e,t,r){try{r()}catch(n){Cr(e,t,n)}}var Y2=!1;function bk(e,t){if(q1=Ef,e=z_(),kp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,u=-1,g=-1,p=0,m=0,v=e,_=null;t:for(;;){for(var E;v!==r||i!==0&&v.nodeType!==3||(u=l+i),v!==a||n!==0&&v.nodeType!==3||(g=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(E=v.firstChild)!==null;)_=v,v=E;for(;;){if(v===e)break t;if(_===r&&++p===i&&(u=l),_===a&&++m===n&&(g=l),(E=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=E}r=u===-1||g===-1?null:{start:u,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(Z1={focusedElem:e,selectionRange:r},Ef=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,I=A.memoizedState,b=t.stateNode,k=b.getSnapshotBeforeUpdate(t.elementType===t.type?C:Yi(t.type,C),I);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(B){Cr(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return A=Y2,Y2=!1,A}function Hc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&dg(t,r,a)}i=i.next}while(i!==n)}}function Lh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jE(e){var t=e.alternate;t!==null&&(e.alternate=null,jE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ws],delete t[w0],delete t[eg],delete t[uk],delete t[fk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function WE(e){return e.tag===5||e.tag===3||e.tag===4}function K2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||WE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sf));else if(n!==4&&(e=e.child,e!==null))for(pg(e,t,r),e=e.sibling;e!==null;)pg(e,t,r),e=e.sibling}function xg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xg(e,t,r),e=e.sibling;e!==null;)xg(e,t,r),e=e.sibling}var hn=null,Ki=!1;function ia(e,t,r){for(r=r.child;r!==null;)VE(e,t,r),r=r.sibling}function VE(e,t,r){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Rh,r)}catch{}switch(r.tag){case 5:Sn||fl(r,t);case 6:var n=hn,i=Ki;hn=null,ia(e,t,r),hn=n,Ki=i,hn!==null&&(Ki?(e=hn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hn.removeChild(r.stateNode));break;case 18:hn!==null&&(Ki?(e=hn,r=r.stateNode,e.nodeType===8?zd(e.parentNode,r):e.nodeType===1&&zd(e,r),d0(e)):zd(hn,r.stateNode));break;case 4:n=hn,i=Ki,hn=r.stateNode.containerInfo,Ki=!0,ia(e,t,r),hn=n,Ki=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&dg(r,t,l),i=i.next}while(i!==n)}ia(e,t,r);break;case 1:if(!Sn&&(fl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){Cr(r,t,u)}ia(e,t,r);break;case 21:ia(e,t,r);break;case 22:r.mode&1?(Sn=(n=Sn)||r.memoizedState!==null,ia(e,t,r),Sn=n):ia(e,t,r);break;default:ia(e,t,r)}}function q2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kk),t.forEach(function(n){var i=Bk.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:hn=u.stateNode,Ki=!1;break e;case 3:hn=u.stateNode.containerInfo,Ki=!0;break e;case 4:hn=u.stateNode.containerInfo,Ki=!0;break e}u=u.return}if(hn===null)throw Error(De(160));VE(a,l,i),hn=null,Ki=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(p){Cr(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HE(t,e),t=t.sibling}function HE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gi(t,e),ds(e),n&4){try{Hc(3,e,e.return),Lh(3,e)}catch(C){Cr(e,e.return,C)}try{Hc(5,e,e.return)}catch(C){Cr(e,e.return,C)}}break;case 1:Gi(t,e),ds(e),n&512&&r!==null&&fl(r,r.return);break;case 5:if(Gi(t,e),ds(e),n&512&&r!==null&&fl(r,r.return),e.flags&32){var i=e.stateNode;try{c0(i,"")}catch(C){Cr(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,u=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&f_(i,a),j1(u,l);var p=j1(u,a);for(l=0;l<g.length;l+=2){var m=g[l],v=g[l+1];m==="style"?x_(i,v):m==="dangerouslySetInnerHTML"?g_(i,v):m==="children"?c0(i,v):gp(i,m,v,p)}switch(u){case"input":P1(i,a);break;case"textarea":h_(i,a);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?xl(i,!!a.multiple,E,!1):_!==!!a.multiple&&(a.defaultValue!=null?xl(i,!!a.multiple,a.defaultValue,!0):xl(i,!!a.multiple,a.multiple?[]:"",!1))}i[w0]=a}catch(C){Cr(e,e.return,C)}}break;case 6:if(Gi(t,e),ds(e),n&4){if(e.stateNode===null)throw Error(De(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(C){Cr(e,e.return,C)}}break;case 3:if(Gi(t,e),ds(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{d0(t.containerInfo)}catch(C){Cr(e,e.return,C)}break;case 4:Gi(t,e),ds(e);break;case 13:Gi(t,e),ds(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||($p=Nr())),n&4&&q2(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(Sn=(p=Sn)||m,Gi(t,e),Sn=p):Gi(t,e),ds(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!m&&e.mode&1)for(Ke=e,m=e.child;m!==null;){for(v=Ke=m;Ke!==null;){switch(_=Ke,E=_.child,_.tag){case 0:case 11:case 14:case 15:Hc(4,_,_.return);break;case 1:fl(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){n=_,r=_.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(C){Cr(n,r,C)}}break;case 5:fl(_,_.return);break;case 22:if(_.memoizedState!==null){Q2(v);continue}}E!==null?(E.return=_,Ke=E):Q2(v)}m=m.sibling}e:for(m=null,v=e;;){if(v.tag===5){if(m===null){m=v;try{i=v.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=v.stateNode,g=v.memoizedProps.style,l=g!=null&&g.hasOwnProperty("display")?g.display:null,u.style.display=p_("display",l))}catch(C){Cr(e,e.return,C)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(C){Cr(e,e.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Gi(t,e),ds(e),n&4&&q2(e);break;case 21:break;default:Gi(t,e),ds(e)}}function ds(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(WE(r)){var n=r;break e}r=r.return}throw Error(De(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(c0(i,""),n.flags&=-33);var a=K2(e);xg(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,u=K2(e);pg(e,u,l);break;default:throw Error(De(161))}}catch(g){Cr(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ik(e,t,r){Ke=e,zE(e)}function zE(e,t,r){for(var n=(e.mode&1)!==0;Ke!==null;){var i=Ke,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||ju;if(!l){var u=i.alternate,g=u!==null&&u.memoizedState!==null||Sn;u=ju;var p=Sn;if(ju=l,(Sn=g)&&!p)for(Ke=i;Ke!==null;)l=Ke,g=l.child,l.tag===22&&l.memoizedState!==null?J2(i):g!==null?(g.return=l,Ke=g):J2(i);for(;a!==null;)Ke=a,zE(a),a=a.sibling;Ke=i,ju=u,Sn=p}Z2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ke=a):Z2(e)}}function Z2(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sn||Lh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Sn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Yi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&P2(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}P2(t,l,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&d0(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Sn||t.flags&512&&gg(t)}catch(_){Cr(t,t.return,_)}}if(t===e){Ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function Q2(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function J2(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Lh(4,t)}catch(g){Cr(t,r,g)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(g){Cr(t,i,g)}}var a=t.return;try{gg(t)}catch(g){Cr(t,a,g)}break;case 5:var l=t.return;try{gg(t)}catch(g){Cr(t,l,g)}}}catch(g){Cr(t,t.return,g)}if(t===e){Ke=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ke=u;break}Ke=t.return}}var Rk=Math.ceil,Mf=Ys.ReactCurrentDispatcher,Gp=Ys.ReactCurrentOwner,Mi=Ys.ReactCurrentBatchConfig,Ut=0,sn=null,jr=null,pn=0,hi=0,hl=Va(0),Yr=0,A0=null,vo=0,Uh=0,Xp=0,zc=null,ei=null,$p=0,Pl=1/0,Is=null,Bf=!1,mg=null,Aa=null,Wu=!1,ha=null,Lf=0,Gc=0,wg=null,hf=-1,df=0;function Wn(){return Ut&6?Nr():hf!==-1?hf:hf=Nr()}function Sa(e){return e.mode&1?Ut&2&&pn!==0?pn&-pn:dk.transition!==null?(df===0&&(df=b_()),df):(e=Xt,e!==0||(e=window.event,e=e===void 0?16:P_(e.type)),e):1}function ns(e,t,r,n){if(50<Gc)throw Gc=0,wg=null,Error(De(185));Y0(e,r,n),(!(Ut&2)||e!==sn)&&(e===sn&&(!(Ut&2)&&(Uh|=r),Yr===4&&ca(e,pn)),ai(e,n),r===1&&Ut===0&&!(t.mode&1)&&(Pl=Nr()+500,Ph&&Ha()))}function ai(e,t){var r=e.callbackNode;d8(e,t);var n=_f(e,e===sn?pn:0);if(n===0)r!==null&&l2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&l2(r),t===1)e.tag===0?hk(ew.bind(null,e)):eE(ew.bind(null,e)),lk(function(){!(Ut&6)&&Ha()}),r=null;else{switch(I_(n)){case 1:r=vp;break;case 4:r=T_;break;case 16:r=yf;break;case 536870912:r=k_;break;default:r=yf}r=QE(r,GE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function GE(e,t){if(hf=-1,df=0,Ut&6)throw Error(De(327));var r=e.callbackNode;if(_l()&&e.callbackNode!==r)return null;var n=_f(e,e===sn?pn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Uf(e,n);else{t=n;var i=Ut;Ut|=2;var a=$E();(sn!==e||pn!==t)&&(Is=null,Pl=Nr()+500,uo(e,t));do try{Dk();break}catch(u){XE(e,u)}while(!0);Op(),Mf.current=a,Ut=i,jr!==null?t=0:(sn=null,pn=0,t=Yr)}if(t!==0){if(t===2&&(i=G1(e),i!==0&&(n=i,t=vg(e,i))),t===1)throw r=A0,uo(e,0),ca(e,n),ai(e,Nr()),r;if(t===6)ca(e,n);else{if(i=e.current.alternate,!(n&30)&&!Nk(i)&&(t=Uf(e,n),t===2&&(a=G1(e),a!==0&&(n=a,t=vg(e,a))),t===1))throw r=A0,uo(e,0),ca(e,n),ai(e,Nr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(De(345));case 2:Qa(e,ei,Is);break;case 3:if(ca(e,n),(n&130023424)===n&&(t=$p+500-Nr(),10<t)){if(_f(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Wn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=J1(Qa.bind(null,e,ei,Is),t);break}Qa(e,ei,Is);break;case 4:if(ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-rs(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Nr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rk(n/1960))-n,10<n){e.timeoutHandle=J1(Qa.bind(null,e,ei,Is),n);break}Qa(e,ei,Is);break;case 5:Qa(e,ei,Is);break;default:throw Error(De(329))}}}return ai(e,Nr()),e.callbackNode===r?GE.bind(null,e):null}function vg(e,t){var r=zc;return e.current.memoizedState.isDehydrated&&(uo(e,t).flags|=256),e=Uf(e,t),e!==2&&(t=ei,ei=r,t!==null&&yg(t)),e}function yg(e){ei===null?ei=e:ei.push.apply(ei,e)}function Nk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!as(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t){for(t&=~Xp,t&=~Uh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rs(t),n=1<<r;e[r]=-1,t&=~n}}function ew(e){if(Ut&6)throw Error(De(327));_l();var t=_f(e,0);if(!(t&1))return ai(e,Nr()),null;var r=Uf(e,t);if(e.tag!==0&&r===2){var n=G1(e);n!==0&&(t=n,r=vg(e,n))}if(r===1)throw r=A0,uo(e,0),ca(e,t),ai(e,Nr()),r;if(r===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qa(e,ei,Is),ai(e,Nr()),null}function Yp(e,t){var r=Ut;Ut|=1;try{return e(t)}finally{Ut=r,Ut===0&&(Pl=Nr()+500,Ph&&Ha())}}function yo(e){ha!==null&&ha.tag===0&&!(Ut&6)&&_l();var t=Ut;Ut|=1;var r=Mi.transition,n=Xt;try{if(Mi.transition=null,Xt=1,e)return e()}finally{Xt=n,Mi.transition=r,Ut=t,!(Ut&6)&&Ha()}}function Kp(){hi=hl.current,hr(hl)}function uo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ok(r)),jr!==null)for(r=jr.return;r!==null;){var n=r;switch(Ip(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Tf();break;case 3:Dl(),hr(ii),hr(In),Lp();break;case 5:Bp(n);break;case 4:Dl();break;case 13:hr(wr);break;case 19:hr(wr);break;case 10:Dp(n.type._context);break;case 22:case 23:Kp()}r=r.return}if(sn=e,jr=e=Ta(e.current,null),pn=hi=t,Yr=0,A0=null,Xp=Uh=vo=0,ei=zc=null,io!==null){for(t=0;t<io.length;t++)if(r=io[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}io=null}return e}function XE(e,t){do{var r=jr;try{if(Op(),cf.current=Pf,Ff){for(var n=vr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ff=!1}if(wo=0,rn=Gr=vr=null,Vc=!1,_0=0,Gp.current=null,r===null||r.return===null){Yr=1,A0=t,jr=null;break}e:{var a=e,l=r.return,u=r,g=t;if(t=pn,u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,m=u,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=W2(l);if(E!==null){E.flags&=-257,V2(E,l,u,a,t),E.mode&1&&j2(a,p,t),t=E,g=p;var A=t.updateQueue;if(A===null){var C=new Set;C.add(g),t.updateQueue=C}else A.add(g);break e}else{if(!(t&1)){j2(a,p,t),qp();break e}g=Error(De(426))}}else if(xr&&u.mode&1){var I=W2(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),V2(I,l,u,a,t),Rp(Fl(g,u));break e}}a=g=Fl(g,u),Yr!==4&&(Yr=2),zc===null?zc=[a]:zc.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=IE(a,g,t);F2(a,b);break e;case 1:u=g;var k=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof k.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Aa===null||!Aa.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var B=RE(a,u,t);F2(a,B);break e}}a=a.return}while(a!==null)}KE(r)}catch(K){t=K,jr===r&&r!==null&&(jr=r=r.return);continue}break}while(!0)}function $E(){var e=Mf.current;return Mf.current=Pf,e===null?Pf:e}function qp(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),sn===null||!(vo&268435455)&&!(Uh&268435455)||ca(sn,pn)}function Uf(e,t){var r=Ut;Ut|=2;var n=$E();(sn!==e||pn!==t)&&(Is=null,uo(e,t));do try{Ok();break}catch(i){XE(e,i)}while(!0);if(Op(),Ut=r,Mf.current=n,jr!==null)throw Error(De(261));return sn=null,pn=0,Yr}function Ok(){for(;jr!==null;)YE(jr)}function Dk(){for(;jr!==null&&!i8();)YE(jr)}function YE(e){var t=ZE(e.alternate,e,hi);e.memoizedProps=e.pendingProps,t===null?KE(e):jr=t,Gp.current=null}function KE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Tk(r,t),r!==null){r.flags&=32767,jr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yr=6,jr=null;return}}else if(r=Sk(r,t,hi),r!==null){jr=r;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Yr===0&&(Yr=5)}function Qa(e,t,r){var n=Xt,i=Mi.transition;try{Mi.transition=null,Xt=1,Fk(e,t,r,n)}finally{Mi.transition=i,Xt=n}return null}function Fk(e,t,r,n){do _l();while(ha!==null);if(Ut&6)throw Error(De(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(g8(e,a),e===sn&&(jr=sn=null,pn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wu||(Wu=!0,QE(yf,function(){return _l(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Mi.transition,Mi.transition=null;var l=Xt;Xt=1;var u=Ut;Ut|=4,Gp.current=null,bk(e,r),HE(r,e),ek(Z1),Ef=!!q1,Z1=q1=null,e.current=r,Ik(r),s8(),Ut=u,Xt=l,Mi.transition=a}else e.current=r;if(Wu&&(Wu=!1,ha=e,Lf=i),a=e.pendingLanes,a===0&&(Aa=null),l8(r.stateNode),ai(e,Nr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,e=mg,mg=null,e;return Lf&1&&e.tag!==0&&_l(),a=e.pendingLanes,a&1?e===wg?Gc++:(Gc=0,wg=e):Gc=0,Ha(),null}function _l(){if(ha!==null){var e=I_(Lf),t=Mi.transition,r=Xt;try{if(Mi.transition=null,Xt=16>e?16:e,ha===null)var n=!1;else{if(e=ha,ha=null,Lf=0,Ut&6)throw Error(De(331));var i=Ut;for(Ut|=4,Ke=e.current;Ke!==null;){var a=Ke,l=a.child;if(Ke.flags&16){var u=a.deletions;if(u!==null){for(var g=0;g<u.length;g++){var p=u[g];for(Ke=p;Ke!==null;){var m=Ke;switch(m.tag){case 0:case 11:case 15:Hc(8,m,a)}var v=m.child;if(v!==null)v.return=m,Ke=v;else for(;Ke!==null;){m=Ke;var _=m.sibling,E=m.return;if(jE(m),m===p){Ke=null;break}if(_!==null){_.return=E,Ke=_;break}Ke=E}}}var A=a.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}Ke=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Ke=l;else e:for(;Ke!==null;){if(a=Ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ke=b;break e}Ke=a.return}}var k=e.current;for(Ke=k;Ke!==null;){l=Ke;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,Ke=S;else e:for(l=k;Ke!==null;){if(u=Ke,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Lh(9,u)}}catch(K){Cr(u,u.return,K)}if(u===l){Ke=null;break e}var B=u.sibling;if(B!==null){B.return=u.return,Ke=B;break e}Ke=u.return}}if(Ut=i,Ha(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Rh,e)}catch{}n=!0}return n}finally{Xt=r,Mi.transition=t}}return!1}function tw(e,t,r){t=Fl(r,t),t=IE(e,t,1),e=Ca(e,t,1),t=Wn(),e!==null&&(Y0(e,1,t),ai(e,t))}function Cr(e,t,r){if(e.tag===3)tw(e,e,r);else for(;t!==null;){if(t.tag===3){tw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Aa===null||!Aa.has(n))){e=Fl(r,e),e=RE(t,e,1),t=Ca(t,e,1),e=Wn(),t!==null&&(Y0(t,1,e),ai(t,e));break}}t=t.return}}function Pk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&r,sn===e&&(pn&r)===r&&(Yr===4||Yr===3&&(pn&130023424)===pn&&500>Nr()-$p?uo(e,0):Xp|=r),ai(e,t)}function qE(e,t){t===0&&(e.mode&1?(t=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):t=1);var r=Wn();e=Vs(e,t),e!==null&&(Y0(e,t,r),ai(e,r))}function Mk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qE(e,r)}function Bk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(De(314))}n!==null&&n.delete(t),qE(e,r)}var ZE;ZE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ii.current)ri=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ri=!1,Ak(e,t,r);ri=!!(e.flags&131072)}else ri=!1,xr&&t.flags&1048576&&tE(t,If,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ff(e,t),e=t.pendingProps;var i=Rl(t,In.current);yl(t,r),i=jp(null,t,n,e,i,r);var a=Wp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,si(n)?(a=!0,kf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pp(t),i.updater=Bh,t.stateNode=i,i._reactInternals=t,ag(t,n,e,r),t=cg(null,t,n,!0,a,r)):(t.tag=0,xr&&a&&bp(t),Mn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ff(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Uk(n),e=Yi(n,e),i){case 0:t=lg(null,t,n,e,r);break e;case 1:t=G2(null,t,n,e,r);break e;case 11:t=H2(null,t,n,e,r);break e;case 14:t=z2(null,t,n,Yi(n.type,e),r);break e}throw Error(De(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),lg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),G2(e,t,n,i,r);case 3:e:{if(FE(t),e===null)throw Error(De(387));n=t.pendingProps,a=t.memoizedState,i=a.element,oE(e,t),Of(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Fl(Error(De(423)),t),t=X2(e,t,n,r,i);break e}else if(n!==i){i=Fl(Error(De(424)),t),t=X2(e,t,n,r,i);break e}else for(pi=Ea(t.stateNode.containerInfo.firstChild),xi=t,xr=!0,qi=null,r=sE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nl(),n===i){t=Hs(e,t,r);break e}Mn(e,t,n,r)}t=t.child}return t;case 5:return lE(t),e===null&&ng(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Q1(n,i)?l=null:a!==null&&Q1(n,a)&&(t.flags|=32),DE(e,t),Mn(e,t,l,r),t.child;case 6:return e===null&&ng(t),null;case 13:return PE(e,t,r);case 4:return Mp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ol(t,null,n,r):Mn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),H2(e,t,n,i,r);case 7:return Mn(e,t,t.pendingProps,r),t.child;case 8:return Mn(e,t,t.pendingProps.children,r),t.child;case 12:return Mn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,sr(Rf,n._currentValue),n._currentValue=l,a!==null)if(as(a.value,l)){if(a.children===i.children&&!ii.current){t=Hs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){l=a.child;for(var g=u.firstContext;g!==null;){if(g.context===n){if(a.tag===1){g=Ps(-1,r&-r),g.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?g.next=g:(g.next=m.next,m.next=g),p.pending=g}}a.lanes|=r,g=a.alternate,g!==null&&(g.lanes|=r),ig(a.return,r,t),u.lanes|=r;break}g=g.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(De(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),ig(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Mn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,yl(t,r),i=Bi(i),n=n(i),t.flags|=1,Mn(e,t,n,r),t.child;case 14:return n=t.type,i=Yi(n,t.pendingProps),i=Yi(n.type,i),z2(e,t,n,i,r);case 15:return NE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),ff(e,t),t.tag=1,si(n)?(e=!0,kf(t)):e=!1,yl(t,r),bE(t,n,i),ag(t,n,i,r),cg(null,t,n,!0,e,r);case 19:return ME(e,t,r);case 22:return OE(e,t,r)}throw Error(De(156,t.tag))};function QE(e,t){return S_(e,t)}function Lk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,r,n){return new Lk(e,t,r,n)}function Zp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Uk(e){if(typeof e=="function")return Zp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xp)return 11;if(e===mp)return 14}return 2}function Ta(e,t){var r=e.alternate;return r===null?(r=Fi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gf(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")Zp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case rl:return fo(r.children,i,a,t);case pp:l=8,i|=8;break;case R1:return e=Fi(12,r,t,i|2),e.elementType=R1,e.lanes=a,e;case N1:return e=Fi(13,r,t,i),e.elementType=N1,e.lanes=a,e;case O1:return e=Fi(19,r,t,i),e.elementType=O1,e.lanes=a,e;case l_:return jh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case a_:l=10;break e;case o_:l=9;break e;case xp:l=11;break e;case mp:l=14;break e;case aa:l=16,n=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=Fi(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function fo(e,t,r,n){return e=Fi(7,e,n,t),e.lanes=r,e}function jh(e,t,r,n){return e=Fi(22,e,n,t),e.elementType=l_,e.lanes=r,e.stateNode={isHidden:!1},e}function Qd(e,t,r){return e=Fi(6,e,null,t),e.lanes=r,e}function Jd(e,t,r){return t=Fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jk(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dd(0),this.expirationTimes=Dd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dd(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qp(e,t,r,n,i,a,l,u,g){return e=new jk(e,t,r,u,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Fi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pp(a),e}function Wk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function JE(e){if(!e)return Fa;e=e._reactInternals;e:{if(No(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(si(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var r=e.type;if(si(r))return J_(e,r,t)}return t}function eC(e,t,r,n,i,a,l,u,g){return e=Qp(r,n,!0,e,i,a,l,u,g),e.context=JE(null),r=e.current,n=Wn(),i=Sa(r),a=Ps(n,i),a.callback=t??null,Ca(r,a,i),e.current.lanes=i,Y0(e,i,n),ai(e,n),e}function Wh(e,t,r,n){var i=t.current,a=Wn(),l=Sa(i);return r=JE(r),t.context===null?t.context=r:t.pendingContext=r,t=Ps(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ca(i,t,l),e!==null&&(ns(e,i,l,a),lf(e,i,l)),l}function jf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Jp(e,t){rw(e,t),(e=e.alternate)&&rw(e,t)}function Vk(){return null}var tC=typeof reportError=="function"?reportError:function(e){console.error(e)};function ex(e){this._internalRoot=e}Vh.prototype.render=ex.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));Wh(e,t,null,null)};Vh.prototype.unmount=ex.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yo(function(){Wh(null,e,null,null)}),t[Ws]=null}};function Vh(e){this._internalRoot=e}Vh.prototype.unstable_scheduleHydration=function(e){if(e){var t=O_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<la.length&&t!==0&&t<la[r].priority;r++);la.splice(r,0,e),r===0&&F_(e)}};function tx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nw(){}function Hk(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var p=jf(l);a.call(p)}}var l=eC(t,n,e,0,null,!1,!1,"",nw);return e._reactRootContainer=l,e[Ws]=l.current,x0(e.nodeType===8?e.parentNode:e),yo(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var p=jf(g);u.call(p)}}var g=Qp(e,0,!1,null,null,!1,!1,"",nw);return e._reactRootContainer=g,e[Ws]=g.current,x0(e.nodeType===8?e.parentNode:e),yo(function(){Wh(t,g,r,n)}),g}function zh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var u=i;i=function(){var g=jf(l);u.call(g)}}Wh(t,l,e,i)}else l=Hk(r,t,e,i,n);return jf(l)}R_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rc(t.pendingLanes);r!==0&&(yp(t,r|1),ai(t,Nr()),!(Ut&6)&&(Pl=Nr()+500,Ha()))}break;case 13:yo(function(){var n=Vs(e,1);if(n!==null){var i=Wn();ns(n,e,1,i)}}),Jp(e,1)}};_p=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var r=Wn();ns(t,e,134217728,r)}Jp(e,134217728)}};N_=function(e){if(e.tag===13){var t=Sa(e),r=Vs(e,t);if(r!==null){var n=Wn();ns(r,e,t,n)}Jp(e,t)}};O_=function(){return Xt};D_=function(e,t){var r=Xt;try{return Xt=e,t()}finally{Xt=r}};V1=function(e,t,r){switch(t){case"input":if(P1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Fh(n);if(!i)throw Error(De(90));u_(n),P1(n,i)}}}break;case"textarea":h_(e,r);break;case"select":t=r.value,t!=null&&xl(e,!!r.multiple,t,!1)}};v_=Yp;y_=yo;var zk={usingClientEntryPoint:!1,Events:[q0,al,Fh,m_,w_,Yp]},Cc={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gk={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C_(e),e===null?null:e.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||Vk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Rh=Vu.inject(Gk),vs=Vu}catch{}}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zk;_i.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tx(t))throw Error(De(200));return Wk(e,t,null,r)};_i.createRoot=function(e,t){if(!tx(e))throw Error(De(299));var r=!1,n="",i=tC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qp(e,1,!1,null,null,r,!1,n,i),e[Ws]=t.current,x0(e.nodeType===8?e.parentNode:e),new ex(t)};_i.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=C_(t),e=e===null?null:e.stateNode,e};_i.flushSync=function(e){return yo(e)};_i.hydrate=function(e,t,r){if(!Hh(t))throw Error(De(200));return zh(null,e,t,!0,r)};_i.hydrateRoot=function(e,t,r){if(!tx(e))throw Error(De(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=tC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=eC(t,null,e,1,r??null,i,!1,a,l),e[Ws]=t.current,x0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Vh(t)};_i.render=function(e,t,r){if(!Hh(t))throw Error(De(200));return zh(null,e,t,!1,r)};_i.unmountComponentAtNode=function(e){if(!Hh(e))throw Error(De(40));return e._reactRootContainer?(yo(function(){zh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ws]=null})}),!0):!1};_i.unstable_batchedUpdates=Yp;_i.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hh(r))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return zh(e,t,r,!1,n)};_i.version="18.3.1-next-f1338f8080-20240426";function rC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rC)}catch(e){console.error(e)}}rC(),r_.exports=_i;var Xk=r_.exports,iw=Xk;b1.createRoot=iw.createRoot,b1.hydrateRoot=iw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}var da;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(da||(da={}));const sw="popstate";function $k(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:u}=n.location;return _g("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Wf(i)}return Kk(t,r,null,e)}function Wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yk(){return Math.random().toString(36).substr(2,8)}function aw(e,t){return{usr:e.state,key:e.key,idx:t}}function _g(e,t,r,n){return r===void 0&&(r=null),S0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kl(t):t,{state:r,key:t&&t.key||n||Yk()})}function Wf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Kk(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,u=da.Pop,g=null,p=m();p==null&&(p=0,l.replaceState(S0({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){u=da.Pop;let I=m(),b=I==null?null:I-p;p=I,g&&g({action:u,location:C.location,delta:b})}function _(I,b){u=da.Push;let k=_g(C.location,I,b);p=m()+1;let S=aw(k,p),B=C.createHref(k);try{l.pushState(S,"",B)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(B)}a&&g&&g({action:u,location:C.location,delta:1})}function E(I,b){u=da.Replace;let k=_g(C.location,I,b);p=m();let S=aw(k,p),B=C.createHref(k);l.replaceState(S,"",B),a&&g&&g({action:u,location:C.location,delta:0})}function A(I){let b=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof I=="string"?I:Wf(I);return k=k.replace(/ $/,"%20"),Wr(b,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,b)}let C={get action(){return u},get location(){return e(i,l)},listen(I){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(sw,v),g=I,()=>{i.removeEventListener(sw,v),g=null}},createHref(I){return t(i,I)},createURL:A,encodeLocation(I){let b=A(I);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:E,go(I){return l.go(I)}};return C}var ow;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ow||(ow={}));function qk(e,t,r){return r===void 0&&(r="/"),Zk(e,t,r)}function Zk(e,t,r,n){let i=typeof t=="string"?Kl(t):t,a=rx(i.pathname||"/",r);if(a==null)return null;let l=iC(e);Qk(l);let u=null;for(let g=0;u==null&&g<l.length;++g){let p=ub(a);u=ob(l[g],p)}return u}function iC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,u)=>{let g={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};g.relativePath.startsWith("/")&&(Wr(g.relativePath.startsWith(n),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(n.length));let p=ka([n,g.relativePath]),m=r.concat(g);a.children&&a.children.length>0&&(Wr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),iC(a.children,t,m,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:sb(p,a.index),routesMeta:m})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let g of sC(a.path))i(a,l,g)}),t}function sC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=sC(n.join("/")),u=[];return u.push(...l.map(g=>g===""?a:[a,g].join("/"))),i&&u.push(...l),u.map(g=>e.startsWith("/")&&g===""?"/":g)}function Qk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ab(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Jk=/^:[\w-]+$/,eb=3,tb=2,rb=1,nb=10,ib=-2,lw=e=>e==="*";function sb(e,t){let r=e.split("/"),n=r.length;return r.some(lw)&&(n+=ib),t&&(n+=tb),r.filter(i=>!lw(i)).reduce((i,a)=>i+(Jk.test(a)?eb:a===""?rb:nb),n)}function ab(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function ob(e,t,r){let{routesMeta:n}=e,i={},a="/",l=[];for(let u=0;u<n.length;++u){let g=n[u],p=u===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",v=lb({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},m),_=g.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:ka([a,v.pathname]),pathnameBase:gb(ka([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ka([a,v.pathnameBase]))}return l}function lb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cb(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((p,m,v)=>{let{paramName:_,isOptional:E}=m;if(_==="*"){let C=u[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const A=u[v];return E&&!A?p[_]=void 0:p[_]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:e}}function cb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,g)=>(n.push({paramName:u,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function ub(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function fb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Kl(e):e;return{pathname:r?r.startsWith("/")?r:hb(r,t):t,search:pb(n),hash:xb(i)}}function hb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function e1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function db(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function aC(e,t){let r=db(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oC(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Kl(e):(i=S0({},e),Wr(!i.pathname||!i.pathname.includes("?"),e1("?","pathname","search",i)),Wr(!i.pathname||!i.pathname.includes("#"),e1("#","pathname","hash",i)),Wr(!i.search||!i.search.includes("#"),e1("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=r;else{let v=t.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}u=v>=0?t[v]:"/"}let g=fb(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||m)&&(g.pathname+="/"),g}const ka=e=>e.join("/").replace(/\/\/+/g,"/"),gb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lC=["post","put","patch","delete"];new Set(lC);const wb=["get",...lC];new Set(wb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}const nx=_e.createContext(null),vb=_e.createContext(null),Oo=_e.createContext(null),Gh=_e.createContext(null),Do=_e.createContext({outlet:null,matches:[],isDataRoute:!1}),cC=_e.createContext(null);function yb(e,t){let{relative:r}=t===void 0?{}:t;Q0()||Wr(!1);let{basename:n,navigator:i}=_e.useContext(Oo),{hash:a,pathname:l,search:u}=fC(e,{relative:r}),g=l;return n!=="/"&&(g=l==="/"?n:ka([n,l])),i.createHref({pathname:g,search:u,hash:a})}function Q0(){return _e.useContext(Gh)!=null}function J0(){return Q0()||Wr(!1),_e.useContext(Gh).location}function uC(e){_e.useContext(Oo).static||_e.useLayoutEffect(e)}function _b(){let{isDataRoute:e}=_e.useContext(Do);return e?Fb():Eb()}function Eb(){Q0()||Wr(!1);let e=_e.useContext(nx),{basename:t,future:r,navigator:n}=_e.useContext(Oo),{matches:i}=_e.useContext(Do),{pathname:a}=J0(),l=JSON.stringify(aC(i,r.v7_relativeSplatPath)),u=_e.useRef(!1);return uC(()=>{u.current=!0}),_e.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=oC(p,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ka([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,l,a,e])}function fC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_e.useContext(Oo),{matches:i}=_e.useContext(Do),{pathname:a}=J0(),l=JSON.stringify(aC(i,n.v7_relativeSplatPath));return _e.useMemo(()=>oC(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function Cb(e,t){return Ab(e,t)}function Ab(e,t,r,n){Q0()||Wr(!1);let{navigator:i}=_e.useContext(Oo),{matches:a}=_e.useContext(Do),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let g=l?l.pathnameBase:"/";l&&l.route;let p=J0(),m;if(t){var v;let I=typeof t=="string"?Kl(t):t;g==="/"||(v=I.pathname)!=null&&v.startsWith(g)||Wr(!1),m=I}else m=p;let _=m.pathname||"/",E=_;if(g!=="/"){let I=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=qk(e,{pathname:E}),C=Ib(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:ka([g,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:ka([g,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,r,n);return t&&C?_e.createElement(Gh.Provider,{value:{location:T0({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:da.Pop}},C):C}function Sb(){let e=Db(),t=mb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _e.createElement(_e.Fragment,null,_e.createElement("h2",null,"Unexpected Application Error!"),_e.createElement("h3",{style:{fontStyle:"italic"}},t),r?_e.createElement("pre",{style:i},r):null,null)}const Tb=_e.createElement(Sb,null);class kb extends _e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_e.createElement(Do.Provider,{value:this.props.routeContext},_e.createElement(cC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bb(e){let{routeContext:t,match:r,children:n}=e,i=_e.useContext(nx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_e.createElement(Do.Provider,{value:t},n)}function Ib(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);m>=0||Wr(!1),l=l.slice(0,Math.min(l.length,m+1))}let g=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:_,errors:E}=r,A=v.route.loader&&_[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||A){g=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let E,A=!1,C=null,I=null;r&&(E=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||Tb,g&&(p<0&&_===0?(Pb("route-fallback"),A=!0,I=null):p===_&&(A=!0,I=v.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,_+1)),k=()=>{let S;return E?S=C:A?S=I:v.route.Component?S=_e.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=m,_e.createElement(bb,{match:v,routeContext:{outlet:m,matches:b,isDataRoute:r!=null},children:S})};return r&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?_e.createElement(kb,{location:r.location,revalidation:r.revalidation,component:C,error:E,children:k(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):k()},null)}var hC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hC||{}),dC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dC||{});function Rb(e){let t=_e.useContext(nx);return t||Wr(!1),t}function Nb(e){let t=_e.useContext(vb);return t||Wr(!1),t}function Ob(e){let t=_e.useContext(Do);return t||Wr(!1),t}function gC(e){let t=Ob(),r=t.matches[t.matches.length-1];return r.route.id||Wr(!1),r.route.id}function Db(){var e;let t=_e.useContext(cC),r=Nb(),n=gC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Fb(){let{router:e}=Rb(hC.UseNavigateStable),t=gC(dC.UseNavigateStable),r=_e.useRef(!1);return uC(()=>{r.current=!0}),_e.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,T0({fromRouteId:t},a)))},[e,t])}const cw={};function Pb(e,t,r){cw[e]||(cw[e]=!0)}function Mb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pf(e){Wr(!1)}function Bb(e){let{basename:t="/",children:r=null,location:n,navigationType:i=da.Pop,navigator:a,static:l=!1,future:u}=e;Q0()&&Wr(!1);let g=t.replace(/^\/*/,"/"),p=_e.useMemo(()=>({basename:g,navigator:a,static:l,future:T0({v7_relativeSplatPath:!1},u)}),[g,u,a,l]);typeof n=="string"&&(n=Kl(n));let{pathname:m="/",search:v="",hash:_="",state:E=null,key:A="default"}=n,C=_e.useMemo(()=>{let I=rx(m,g);return I==null?null:{location:{pathname:I,search:v,hash:_,state:E,key:A},navigationType:i}},[g,m,v,_,E,A,i]);return C==null?null:_e.createElement(Oo.Provider,{value:p},_e.createElement(Gh.Provider,{children:r,value:C}))}function Lb(e){let{children:t,location:r}=e;return Cb(Eg(t),r)}new Promise(()=>{});function Eg(e,t){t===void 0&&(t=[]);let r=[];return _e.Children.forEach(e,(n,i)=>{if(!_e.isValidElement(n))return;let a=[...t,i];if(n.type===_e.Fragment){r.push.apply(r,Eg(n.props.children,a));return}n.type!==pf&&Wr(!1),!n.props.index||!n.props.children||Wr(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Eg(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}function Ub(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function jb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wb(e,t){return e.button===0&&(!t||t==="_self")&&!jb(e)}const Vb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hb="6";try{window.__reactRouterVersion=Hb}catch{}const zb="startTransition",uw=PT[zb];function Gb(e){let{basename:t,children:r,future:n,window:i}=e,a=_e.useRef();a.current==null&&(a.current=$k({window:i,v5Compat:!0}));let l=a.current,[u,g]=_e.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},m=_e.useCallback(v=>{p&&uw?uw(()=>g(v)):g(v)},[g,p]);return _e.useLayoutEffect(()=>l.listen(m),[l,m]),_e.useEffect(()=>Mb(n),[n]),_e.createElement(Bb,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const Xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fw=_e.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:u,target:g,to:p,preventScrollReset:m,viewTransition:v}=t,_=Ub(t,Vb),{basename:E}=_e.useContext(Oo),A,C=!1;if(typeof p=="string"&&$b.test(p)&&(A=p,Xb))try{let S=new URL(window.location.href),B=p.startsWith("//")?new URL(S.protocol+p):new URL(p),K=rx(B.pathname,E);B.origin===S.origin&&K!=null?p=K+B.search+B.hash:C=!0}catch{}let I=yb(p,{relative:i}),b=Yb(p,{replace:l,state:u,target:g,preventScrollReset:m,relative:i,viewTransition:v});function k(S){n&&n(S),S.defaultPrevented||b(S)}return _e.createElement("a",Cg({},_,{href:A||I,onClick:C||a?n:k,ref:r,target:g}))});var hw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hw||(hw={}));var dw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dw||(dw={}));function Yb(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}=t===void 0?{}:t,g=_b(),p=J0(),m=fC(e,{relative:l});return _e.useCallback(v=>{if(Wb(v,r)){v.preventDefault();let _=n!==void 0?n:Wf(p)===Wf(m);g(e,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,g,m,n,i,r,e,a,l,u])}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),On=(e,t)=>{const r=_e.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:g,...p},m)=>_e.createElement("svg",{ref:m,...Kb,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${qb(e)}`,u].join(" "),...p},[...t.map(([v,_])=>_e.createElement(v,_)),...Array.isArray(g)?g:[g]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=On("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=On("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=On("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=On("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=On("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=On("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=On("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=On("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=On("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=On("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=On("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=On("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=On("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=On("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=On("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=On("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve=function(e,t){if(!e)throw ql(t)},ql=function(e){return new Error("Firebase Database ("+mC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},rI=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],l=e[r++],u=e[r++],g=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(g>>10)),t[n++]=String.fromCharCode(56320+(g&1023))}else{const a=e[r++],l=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return t.join("")},sx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],l=i+1<e.length,u=l?e[i+1]:0,g=i+2<e.length,p=g?e[i+2]:0,m=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|p>>6,E=p&63;g||(E=64,l||(_=64)),n.push(r[m],r[v],r[_],r[E])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],u=i<e.length?r[e.charAt(i)]:0;++i;const p=i<e.length?r[e.charAt(i)]:64;++i;const v=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||u==null||p==null||v==null)throw new nI;const _=a<<2|u>>4;if(n.push(_),p!==64){const E=u<<4&240|p>>2;if(n.push(E),v!==64){const A=p<<6&192|v;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vC=function(e){const t=wC(e);return sx.encodeByteArray(t,!0)},Vf=function(e){return vC(e).replace(/\./g,"")},kg=function(e){try{return sx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(e){return yC(void 0,e)}function yC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!sI(r)||(e[r]=yC(e[r],t[r]));return e}function sI(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>aI().__FIREBASE_DEFAULTS__,lI=()=>{if(typeof process>"u"||typeof mw>"u")return;const e=mw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kg(e[1]);return t&&JSON.parse(t)},_C=()=>{try{return oI()||lI()||cI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uI=e=>{var t,r;return(r=(t=_C())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},fI=e=>{const t=uI(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},EC=()=>{var e;return(e=_C())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vf(JSON.stringify(r)),Vf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dI())}function gI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){return mC.NODE_ADMIN===!0}function AC(){try{return typeof indexedDB=="object"}catch{return!1}}function SC(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}function mI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="FirebaseError";class Fo extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=wI,Object.setPrototypeOf(this,Fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xh.prototype.create)}}class Xh{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],l=a?vI(a,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Fo(i,u,n)}}function vI(e,t){return e.replace(yI,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const yI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(e){return JSON.parse(e)}function $r(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(e){let t={},r={},n={},i="";try{const a=e.split(".");t=k0(kg(a[0])||""),r=k0(kg(a[1])||""),i=a[2],n=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:n,signature:i}},_I=function(e){const t=TC(e),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},EI=function(e){const t=TC(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ml(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ww(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hf(e,t,r){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=t.call(r,e[i],i,e));return n}function zf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],l=t[i];if(vw(a)&&vw(l)){if(!zf(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function vw(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const n=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)n[v]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)n[v]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let v=16;v<80;v++){const _=n[v-3]^n[v-8]^n[v-14]^n[v-16];n[v]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],g=this.chain_[4],p,m;for(let v=0;v<80;v++){v<40?v<20?(p=u^a&(l^u),m=1518500249):(p=a^l^u,m=1859775393):v<60?(p=a&l|u&(a|l),m=2400959708):(p=a^l^u,m=3395469782);const _=(i<<5|i>>>27)+p+g+m+n[v]&4294967295;g=u,u=l,l=(a<<30|a>>>2)&4294967295,a=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const n=r-this.blockSize;let i=0;const a=this.buf_;let l=this.inbuf_;for(;i<r;){if(l===0)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<r;)if(a[l]=t.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}else for(;i<r;)if(a[l]=t[i],++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)t[n]=this.chain_[i]>>a&255,++n;return t}}function $h(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>=55296&&i<=56319){const a=i-55296;n++,Ve(n<e.length,"Surrogate pair missing trail surrogate.");const l=e.charCodeAt(n)-56320;i=65536+(a<<10)+l}i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):i<65536?(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},Yh=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1e3,kI=2,bI=4*60*60*1e3,II=.5;function yw(e,t=TI,r=kI){const n=t*Math.pow(r,e),i=Math.round(II*n*(Math.random()-.5)*2);return Math.min(bI,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(e){return e&&e._delegate?e._delegate:e}class zs{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new eu;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OI(t))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ja){return this.instances.has(t)}getOptions(t=Ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:NI(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ja){return this.component?this.component.multipleInstances?t:Ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NI(e){return e===Ja?void 0:e}function OI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new RI(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nr||(nr={}));const FI={debug:nr.DEBUG,verbose:nr.VERBOSE,info:nr.INFO,warn:nr.WARN,error:nr.ERROR,silent:nr.SILENT},PI=nr.INFO,MI={[nr.DEBUG]:"log",[nr.VERBOSE]:"log",[nr.INFO]:"info",[nr.WARN]:"warn",[nr.ERROR]:"error"},BI=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=MI[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ax{constructor(t){this.name=t,this._logLevel=PI,this._logHandler=BI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?FI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nr.DEBUG,...t),this._logHandler(this,nr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nr.VERBOSE,...t),this._logHandler(this,nr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nr.INFO,...t),this._logHandler(this,nr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nr.WARN,...t),this._logHandler(this,nr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nr.ERROR,...t),this._logHandler(this,nr.ERROR,...t)}}const LI=(e,t)=>t.some(r=>e instanceof r);let _w,Ew;function UI(){return _w||(_w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jI(){return Ew||(Ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kC=new WeakMap,bg=new WeakMap,bC=new WeakMap,t1=new WeakMap,ox=new WeakMap;function WI(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{r(ba(e.result)),i()},l=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(r=>{r instanceof IDBCursor&&kC.set(r,e)}).catch(()=>{}),ox.set(t,e),t}function VI(e){if(bg.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});bg.set(e,t)}let Ig={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return bg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bC.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ba(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function HI(e){Ig=e(Ig)}function zI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(r1(this),t,...r);return bC.set(n,t.sort?t.sort():[t]),ba(n)}:jI().includes(e)?function(...t){return e.apply(r1(this),t),ba(kC.get(this))}:function(...t){return ba(e.apply(r1(this),t))}}function GI(e){return typeof e=="function"?zI(e):(e instanceof IDBTransaction&&VI(e),LI(e,UI())?new Proxy(e,Ig):e)}function ba(e){if(e instanceof IDBRequest)return WI(e);if(t1.has(e))return t1.get(e);const t=GI(e);return t!==e&&(t1.set(e,t),ox.set(t,e)),t}const r1=e=>ox.get(e);function IC(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(e,t),u=ba(l);return n&&l.addEventListener("upgradeneeded",g=>{n(ba(l.result),g.oldVersion,g.newVersion,ba(l.transaction),g)}),r&&l.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),u.then(g=>{a&&g.addEventListener("close",()=>a()),i&&g.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const XI=["get","getKey","getAll","getAllKeys","count"],$I=["put","add","delete","clear"],n1=new Map;function Cw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(n1.get(t))return n1.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=$I.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||XI.includes(r)))return;const a=async function(l,...u){const g=this.transaction(l,i?"readwrite":"readonly");let p=g.store;return n&&(p=p.index(u.shift())),(await Promise.all([p[r](...u),i&&g.done]))[0]};return n1.set(t,a),a}HI(e=>({...e,get:(t,r,n)=>Cw(t,r)||e.get(t,r,n),has:(t,r)=>!!Cw(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(KI(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function KI(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rg="@firebase/app",Aw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new ax("@firebase/app"),qI="@firebase/app-compat",ZI="@firebase/analytics-compat",QI="@firebase/analytics",JI="@firebase/app-check-compat",e6="@firebase/app-check",t6="@firebase/auth",r6="@firebase/auth-compat",n6="@firebase/database",i6="@firebase/data-connect",s6="@firebase/database-compat",a6="@firebase/functions",o6="@firebase/functions-compat",l6="@firebase/installations",c6="@firebase/installations-compat",u6="@firebase/messaging",f6="@firebase/messaging-compat",h6="@firebase/performance",d6="@firebase/performance-compat",g6="@firebase/remote-config",p6="@firebase/remote-config-compat",x6="@firebase/storage",m6="@firebase/storage-compat",w6="@firebase/firestore",v6="@firebase/vertexai-preview",y6="@firebase/firestore-compat",_6="firebase",E6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="[DEFAULT]",C6={[Rg]:"fire-core",[qI]:"fire-core-compat",[QI]:"fire-analytics",[ZI]:"fire-analytics-compat",[e6]:"fire-app-check",[JI]:"fire-app-check-compat",[t6]:"fire-auth",[r6]:"fire-auth-compat",[n6]:"fire-rtdb",[i6]:"fire-data-connect",[s6]:"fire-rtdb-compat",[a6]:"fire-fn",[o6]:"fire-fn-compat",[l6]:"fire-iid",[c6]:"fire-iid-compat",[u6]:"fire-fcm",[f6]:"fire-fcm-compat",[h6]:"fire-perf",[d6]:"fire-perf-compat",[g6]:"fire-rc",[p6]:"fire-rc-compat",[x6]:"fire-gcs",[m6]:"fire-gcs-compat",[w6]:"fire-fst",[y6]:"fire-fst-compat",[v6]:"fire-vertex","fire-js":"fire-js",[_6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,A6=new Map,Og=new Map;function Sw(e,t){try{e.container.addComponent(t)}catch(r){Gs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Pa(e){const t=e.name;if(Og.has(t))return Gs.debug(`There were multiple attempts to register component ${t}.`),!1;Og.set(t,e);for(const r of Gf.values())Sw(r,e);for(const r of A6.values())Sw(r,e);return!0}function tu(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ia=new Xh("app","Firebase",S6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=E6;function RC(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Ng,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw Ia.create("bad-app-name",{appName:String(i)});if(r||(r=EC()),!r)throw Ia.create("no-options");const a=Gf.get(i);if(a){if(zf(r,a.options)&&zf(n,a.config))return a;throw Ia.create("duplicate-app",{appName:i})}const l=new DI(i);for(const g of Og.values())l.addComponent(g);const u=new T6(r,n,l);return Gf.set(i,u),u}function NC(e=Ng){const t=Gf.get(e);if(!t&&e===Ng&&EC())return RC();if(!t)throw Ia.create("no-app",{appName:e});return t}function _s(e,t,r){var n;let i=(n=C6[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gs.warn(u.join(" "));return}Pa(new zs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firebase-heartbeat-database",I6=1,b0="firebase-heartbeat-store";let i1=null;function OC(){return i1||(i1=IC(b6,I6,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(b0)}catch(r){console.warn(r)}}}}).catch(e=>{throw Ia.create("idb-open",{originalErrorMessage:e.message})})),i1}async function R6(e){try{const r=(await OC()).transaction(b0),n=await r.objectStore(b0).get(DC(e));return await r.done,n}catch(t){if(t instanceof Fo)Gs.warn(t.message);else{const r=Ia.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gs.warn(r.message)}}}async function Tw(e,t){try{const n=(await OC()).transaction(b0,"readwrite");await n.objectStore(b0).put(t,DC(e)),await n.done}catch(r){if(r instanceof Fo)Gs.warn(r.message);else{const n=Ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Gs.warn(n.message)}}}function DC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=1024,O6=30*24*60*60*1e3;class D6{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new P6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kw();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=O6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Gs.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=kw(),{heartbeatsToSend:n,unsentEntries:i}=F6(this._heartbeatsCache.heartbeats),a=Vf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Gs.warn(r),""}}}function kw(){return new Date().toISOString().substring(0,10)}function F6(e,t=N6){const r=[];let n=e.slice();for(const i of e){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),bw(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),bw(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class P6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AC()?SC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await R6(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function bw(e){return Vf(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(e){Pa(new zs("platform-logger",t=>new YI(t),"PRIVATE")),Pa(new zs("heartbeat",t=>new D6(t),"PRIVATE")),_s(Rg,Aw,e),_s(Rg,Aw,"esm2017"),_s("fire-js","")}M6("");var Iw={};const Rw="@firebase/database",Nw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FC="";function B6(e){FC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),$r(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:k0(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return As(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new L6(t)}}catch{}return new U6},ao=PC("localStorage"),j6=PC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new ax("@firebase/database"),W6=function(){let e=1;return function(){return e++}}(),MC=function(e){const t=SI(e),r=new AI;r.update(t);const n=r.digest();return sx.encodeByteArray(n)},ru=function(...e){let t="";for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?t+=ru.apply(null,n):typeof n=="object"?t+=$r(n):t+=n,t+=" "}return t};let $c=null,Ow=!0;const V6=function(e,t){Ve(!0,"Can't turn on custom loggers persistently."),El.logLevel=nr.VERBOSE,$c=El.log.bind(El)},gn=function(...e){if(Ow===!0&&(Ow=!1,$c===null&&j6.get("logging_enabled")===!0&&V6()),$c){const t=ru.apply(null,e);$c(t)}},nu=function(e){return function(...t){gn(e,...t)}},Dg=function(...e){const t="FIREBASE INTERNAL ERROR: "+ru(...e);El.error(t)},Xs=function(...e){const t=`FIREBASE FATAL ERROR: ${ru(...e)}`;throw El.error(t),new Error(t)},Vn=function(...e){const t="FIREBASE WARNING: "+ru(...e);El.warn(t)},H6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lx=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},z6=function(e){if(document.readyState==="complete")e();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Bl="[MIN_NAME]",_o="[MAX_NAME]",Po=function(e,t){if(e===t)return 0;if(e===Bl||t===_o)return-1;if(t===Bl||e===_o)return 1;{const r=Dw(e),n=Dw(t);return r!==null?n!==null?r-n===0?e.length-t.length:r-n:-1:n!==null?1:e<t?-1:1}},G6=function(e,t){return e===t?0:e<t?-1:1},Ac=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$r(t))},cx=function(e){if(typeof e!="object"||e===null)return $r(e);const t=[];for(const n in e)t.push(n);t.sort();let r="{";for(let n=0;n<t.length;n++)n!==0&&(r+=","),r+=$r(t[n]),r+=":",r+=cx(e[t[n]]);return r+="}",r},BC=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let i=0;i<r;i+=t)i+t>r?n.push(e.substring(i,r)):n.push(e.substring(i,i+t));return n};function vn(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const LC=function(e){Ve(!lx(e),"Invalid JSON number");const t=11,r=52,n=(1<<t-1)-1;let i,a,l,u,g;e===0?(a=0,l=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(e)/Math.LN2),n),a=u+n,l=Math.round(e*Math.pow(2,r-u)-Math.pow(2,r))):(a=0,l=Math.round(e/Math.pow(2,1-n-r))));const p=[];for(g=r;g;g-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(g=t;g;g-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(i?1:0),p.reverse();const m=p.join("");let v="";for(g=0;g<64;g+=8){let _=parseInt(m.substr(g,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},X6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Y6(e,t){let r="Unknown Error";e==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?r="Client doesn't have permission to access the desired data.":e==="unavailable"&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}const K6=new RegExp("^-?(0*)\\d{1,10}$"),q6=-2147483648,Z6=2147483647,Dw=function(e){if(K6.test(e)){const t=Number(e);if(t>=q6&&t<=Z6)return t}return null},Zl=function(e){try{e()}catch(t){setTimeout(()=>{const r=t.stack||"";throw Vn("Exception was thrown by user callback.",r),t},Math.floor(0))}},Q6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yc=function(e,t){const r=setTimeout(e,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Vn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t,r,n){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(gn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vn(t)}}class xf{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}xf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="5",UC="v",jC="s",WC="r",VC="f",HC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zC="ls",GC="p",Fg="ac",XC="websocket",$C="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,r,n,i,a=!1,l="",u=!1,g=!1){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ao.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ao.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function t5(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function KC(e,t,r){Ve(typeof t=="string","typeof type must == string"),Ve(typeof r=="object","typeof params must == object");let n;if(t===XC)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===$C)n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);t5(e)&&(r.ns=e.namespace);const i=[];return vn(r,(a,l)=>{i.push(a+"="+l)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.counters_={}}incrementCounter(t,r=1){As(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return iI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={},a1={};function fx(e){const t=e.toString();return s1[t]||(s1[t]=new r5),s1[t]}function n5(e,t){const r=e.toString();return a1[r]||(a1[r]=t()),a1[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&Zl(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="start",s5="close",a5="pLPCommand",o5="pRTLPCB",qC="id",ZC="pw",QC="ser",l5="cb",c5="seg",u5="ts",f5="d",h5="dframe",JC=1870,e3=30,d5=JC-e3,g5=25e3,p5=3e4;class dl{constructor(t,r,n,i,a,l,u){this.connId=t,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nu(t),this.stats_=fx(r),this.urlFn=g=>(this.appCheckToken&&(g[Fg]=this.appCheckToken),KC(r,$C,g))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new i5(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(p5)),z6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hx((...a)=>{const[l,u,g,p,m]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Fw)this.id=u,this.password=g;else if(l===s5)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,u]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const n={};n[Fw]="t",n[QC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[l5]=this.scriptTagHolder.uniqueCallbackIdentifier),n[UC]=ux,this.transportSessionId&&(n[jC]=this.transportSessionId),this.lastSessionId&&(n[zC]=this.lastSessionId),this.applicationId&&(n[GC]=this.applicationId),this.appCheckToken&&(n[Fg]=this.appCheckToken),typeof location<"u"&&location.hostname&&HC.test(location.hostname)&&(n[WC]=VC);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dl.forceAllow_=!0}static forceDisallow(){dl.forceDisallow_=!0}static isAvailable(){return dl.forceAllow_?!0:!dl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!X6()&&!$6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=$r(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=vC(r),i=BC(n,d5);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[h5]="t",n[qC]=t,n[ZC]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=$r(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class hx{constructor(t,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=W6(),window[a5+this.uniqueCallbackIdentifier]=t,window[o5+this.uniqueCallbackIdentifier]=r,this.myIFrame=hx.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){gn("frame writing exception"),u.stack&&gn(u.stack),gn(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||gn("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[qC]=this.myID,t[ZC]=this.myPW,t[QC]=this.currentSerial;let r=this.urlFn(t),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+e3+n.length<=JC;){const l=this.pendingSegs.shift();n=n+"&"+c5+i+"="+l.seg+"&"+u5+i+"="+l.ts+"&"+f5+i+"="+l.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,n){this.pendingSegs.push({seg:t,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(g5)),a=()=>{clearTimeout(i),n()};this.addTag(t,a)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{gn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=16384,m5=45e3;let Xf=null;typeof MozWebSocket<"u"?Xf=MozWebSocket:typeof WebSocket<"u"&&(Xf=WebSocket);class Zi{constructor(t,r,n,i,a,l,u){this.connId=t,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nu(this.connId),this.stats_=fx(r),this.connURL=Zi.connectionURL_(r,l,u,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,n,i,a){const l={};return l[UC]=ux,typeof location<"u"&&location.hostname&&HC.test(location.hostname)&&(l[WC]=VC),r&&(l[jC]=r),n&&(l[zC]=n),i&&(l[Fg]=i),a&&(l[GC]=a),KC(t,XC,l)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ao.set("previous_websocket_failure",!0);try{let n;xI(),this.mySock=new Xf(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zi.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&Xf!==null&&!Zi.forceDisallow_}static previouslyFailed(){return ao.isInMemoryStorage||ao.get("previous_websocket_failure")===!0}markConnectionHealthy(){ao.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=k0(r);this.onMessage(n)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ve(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(t){this.resetKeepAlive();const r=$r(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=BC(r,x5);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(m5))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zi.responsesRequiredToBeHealthy=2;Zi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[dl,Zi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Zi&&Zi.isAvailable();let n=r&&!Zi.previouslyFailed();if(t.webSocketOnly&&(r||Vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Zi];else{const i=this.transports_=[];for(const a of I0.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);I0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}I0.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=6e4,v5=5e3,y5=10*1024,_5=100*1024,o1="t",Pw="d",E5="s",Mw="r",C5="e",Bw="o",Lw="a",Uw="n",jw="p",A5="h";class S5{constructor(t,r,n,i,a,l,u,g,p,m){this.id=t,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nu("c:"+this.id+":"),this.transportManager_=new I0(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>y5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(o1 in t){const r=t[o1];r===Lw?this.upgradeIfSecondaryHealthy_():r===Mw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Bw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ac("t",t),n=Ac("d",t);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Uw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ac("t",t),n=Ac("d",t);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ac(o1,t);if(Pw in t){const n=t[Pw];if(r===A5){const i=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===Uw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===E5?this.onConnectionShutdown_(n):r===Mw?this.onReset_(n):r===C5?Dg("Server Error: "+n):r===Bw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dg("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),ux!==n&&Vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),Yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(w5))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(v5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jw,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ao.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{put(t,r,n,i){}merge(t,r,n,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,n){}onDisconnectMerge(t,r,n){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r3=class{constructor(t){this.allowedEvents_=t,this.listeners_={},Ve(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(t,r,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:n});const i=this.getInitialEvent(t);i&&r.apply(n,i)}off(t,r,n){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===r&&(!n||n===i[a].context)){i.splice(a,1);return}}validateEventType_(t){Ve(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends r3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!CC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $f}getInitialEvent(t){return Ve(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=32,Vw=768;class qt{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function Wt(){return new qt("")}function Ot(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ma(e){return e.pieces_.length-e.pieceNum_}function ir(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new qt(e.pieces_,t)}function dx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function T5(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)e.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}function R0(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function n3(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new qt(t,0)}function Sr(e,t){const r=[];for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);if(t instanceof qt)for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);else{const n=t.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new qt(r,0)}function Tt(e){return e.pieceNum_>=e.pieces_.length}function Un(e,t){const r=Ot(e),n=Ot(t);if(r===null)return t;if(r===n)return Un(ir(e),ir(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function k5(e,t){const r=R0(e,0),n=R0(t,0);for(let i=0;i<r.length&&i<n.length;i++){const a=Po(r[i],n[i]);if(a!==0)return a}return r.length===n.length?0:r.length<n.length?-1:1}function i3(e,t){if(Ma(e)!==Ma(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function Pi(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(Ma(e)>Ma(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class b5{constructor(t,r){this.errorPrefix_=r,this.parts_=R0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Yh(this.parts_[n]);s3(this)}}function I5(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Yh(t),s3(e)}function R5(e){const t=e.parts_.pop();e.byteLength_-=Yh(t),e.parts_.length>0&&(e.byteLength_-=1)}function s3(e){if(e.byteLength_>Vw)throw new Error(e.errorPrefix_+"has a key path longer than "+Vw+" bytes ("+e.byteLength_+").");if(e.parts_.length>Ww)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ww+") or object contains a cycle "+eo(e))}function eo(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends r3{constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new gx}getInitialEvent(t){return Ve(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=1e3,N5=60*5*1e3,Hw=30*1e3,O5=1.3,D5=3e4,F5="server_kill",zw=3;class Ms extends t3{constructor(t,r,n,i,a,l,u,g){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=g,this.id=Ms.nextPersistentConnectionId_++,this.log_=nu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sc,this.maxReconnectDelay_=N5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gx.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&$f.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,n){const i=++this.requestNumber_,a={r:i,a:t,b:r};this.log_($r(a)),Ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[i]=n)}get(t){this.initConnection_();const r=new eu,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(t,r,n,i){this.initConnection_();const a=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),Ve(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ve(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:r,query:t,tag:n};this.listens.get(l).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(t){const r=t.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const a={p:n},l="q";t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(l,a,u=>{const g=u.d,p=u.s;Ms.warnOnListenWarnings_(g,r),(this.listens.get(n)&&this.listens.get(n).get(i))===t&&(this.log_("listen response",u),p!=="ok"&&this.removeListen_(n,i),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&As(t,"w")){const n=Ml(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||EI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hw)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=_I(t)?"auth":"gauth",n={cred:t};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const a=i.s,l=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,n=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(t,r){const n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),Ve(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,r)}sendUnlisten_(t,r,n,i){this.log_("Unlisten on "+t+" for "+r);const a={p:t},l="n";i&&(a.q=n,a.t=i),this.sendRequest(l,a)}onDisconnectPut(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:n})}onDisconnectMerge(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:n})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,n,i){const a={p:r,d:n};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(t,r,n,i){this.putInternal("p",t,r,n,i)}merge(t,r,n,i){this.putInternal("m",t,r,n,i)}putInternal(t,r,n,i,a){this.initConnection_();const l={p:r,d:n};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:t,request:l,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,n,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const a=n.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+$r(t));const r=t.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Dg("Unrecognized action received from server: "+$r(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>D5&&(this.reconnectDelay_=Sc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*O5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ms.nextConnectionId_++,a=this.lastSessionId;let l=!1,u=null;const g=function(){u?u.close():(l=!0,n())},p=function(v){Ve(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?gn("getToken() completed but was canceled"):(gn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,u=new S5(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,n,E=>{Vn(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(F5)},a))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&Vn(v),g())}}}interrupt(t){gn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){gn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ww(this.interruptReasons_)&&(this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let n;r?n=r.map(a=>cx(a)).join("$"):n="default";const i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,r){const n=new qt(t).toString();let i;if(this.listens.has(n)){const a=this.listens.get(n);i=a.get(r),a.delete(r),a.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(t,r){gn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zw&&(this.reconnectDelay_=Hw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){gn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+FC.replace(/\./g,"-")]=1,CC()?t["framework.cordova"]=1:pI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$f.getInstance().currentlyOnline();return ww(this.interruptReasons_)&&t}}Ms.nextPersistentConnectionId_=0;Ms.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new St(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const n=new St(Bl,t),i=new St(Bl,r);return this.compare(n,i)!==0}minPost(){return St.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class a3 extends Kh{static get __EMPTY_NODE(){return Hu}static set __EMPTY_NODE(t){Hu=t}compare(t,r){return Po(t.name,r.name)}isDefinedOn(t){throw ql("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return St.MIN}maxPost(){return new St(_o,Hu)}makePost(t,r){return Ve(typeof t=="string","KeyIndex indexValue must always be a string."),new St(t,Hu)}toString(){return".key"}}const Cl=new a3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,r,n,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(t=t,l=r?n(t.key,r):1,i&&(l*=-1),l<0)this.isReverse_?t=t.left:t=t.right;else if(l===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class nn{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??nn.RED,this.left=i??ni.EMPTY_NODE,this.right=a??ni.EMPTY_NODE}copy(t,r,n,i,a){return new nn(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ni.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let n,i;if(n=this,r(t,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(t,n.key)===0){if(n.right.isEmpty())return ni.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}nn.RED=!0;nn.BLACK=!1;class P5{copy(t,r,n,i,a){return this}insert(t,r,n){return new nn(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ni{constructor(t,r=ni.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ni(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,nn.BLACK,null,null))}remove(t){return new ni(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,nn.BLACK,null,null))}get(t){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(t,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(t){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(t,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new zu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new zu(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new zu(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new zu(this.root_,null,this.comparator_,!0,t)}}ni.EMPTY_NODE=new P5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(e,t){return Po(e.name,t.name)}function px(e,t){return Po(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg;function B5(e){Pg=e}const o3=function(e){return typeof e=="number"?"number:"+LC(e):"string:"+e},l3=function(e){if(e.isLeafNode()){const t=e.val();Ve(typeof t=="string"||typeof t=="number"||typeof t=="object"&&As(t,".sv"),"Priority must be a string or number.")}else Ve(e===Pg||e.isEmpty(),"priority of unexpected type.");Ve(e===Pg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gw;class en{constructor(t,r=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,Ve(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),l3(this.priorityNode_)}static set __childrenNodeConstructor(t){Gw=t}static get __childrenNodeConstructor(){return Gw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new en(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Tt(t)?this:Ot(t)===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const n=Ot(t);return n===null?r:r.isEmpty()&&n!==".priority"?this:(Ve(n!==".priority"||Ma(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(ir(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+o3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=LC(this.value_):t+=this.value_,this.lazyHash_=MC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===en.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof en.__childrenNodeConstructor?-1:(Ve(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,n=typeof this.value_,i=en.VALUE_TYPE_ORDER.indexOf(r),a=en.VALUE_TYPE_ORDER.indexOf(n);return Ve(i>=0,"Unknown leaf type: "+r),Ve(a>=0,"Unknown leaf type: "+n),i===a?n==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c3,u3;function L5(e){c3=e}function U5(e){u3=e}class j5 extends Kh{compare(t,r){const n=t.node.getPriority(),i=r.node.getPriority(),a=n.compareTo(i);return a===0?Po(t.name,r.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return St.MIN}maxPost(){return new St(_o,new en("[PRIORITY-POST]",u3))}makePost(t,r){const n=c3(t);return new St(r,new en("[PRIORITY-POST]",n))}toString(){return".priority"}}const Tr=new j5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=Math.log(2);class V5{constructor(t){const r=a=>parseInt(Math.log(a)/W5,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const i=n(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Yf=function(e,t,r,n){e.sort(t);const i=function(g,p){const m=p-g;let v,_;if(m===0)return null;if(m===1)return v=e[g],_=r?r(v):v,new nn(_,v.node,nn.BLACK,null,null);{const E=parseInt(m/2,10)+g,A=i(g,E),C=i(E+1,p);return v=e[E],_=r?r(v):v,new nn(_,v.node,nn.BLACK,A,C)}},a=function(g){let p=null,m=null,v=e.length;const _=function(A,C){const I=v-A,b=v;v-=A;const k=i(I+1,b),S=e[I],B=r?r(S):S;E(new nn(B,S.node,C,null,k))},E=function(A){p?(p.left=A,p=A):(m=A,p=A)};for(let A=0;A<g.count;++A){const C=g.nextBitIsOne(),I=Math.pow(2,g.count-(A+1));C?_(I,nn.BLACK):(_(I,nn.BLACK),_(I,nn.RED))}return m},l=new V5(e.length),u=a(l);return new ni(n||t,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1;const Qo={};class Ds{constructor(t,r){this.indexes_=t,this.indexSet_=r}static get Default(){return Ve(Qo&&Tr,"ChildrenNode.ts has not been loaded"),l1=l1||new Ds({".priority":Qo},{".priority":Tr}),l1}get(t){const r=Ml(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ni?r:null}hasIndex(t){return As(this.indexSet_,t.toString())}addIndex(t,r){Ve(t!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const a=r.getIterator(St.Wrap);let l=a.getNext();for(;l;)i=i||t.isDefinedOn(l.node),n.push(l),l=a.getNext();let u;i?u=Yf(n,t.getCompare()):u=Qo;const g=t.toString(),p=Object.assign({},this.indexSet_);p[g]=t;const m=Object.assign({},this.indexes_);return m[g]=u,new Ds(m,p)}addToIndexes(t,r){const n=Hf(this.indexes_,(i,a)=>{const l=Ml(this.indexSet_,a);if(Ve(l,"Missing index implementation for "+a),i===Qo)if(l.isDefinedOn(t.node)){const u=[],g=r.getIterator(St.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&u.push(p),p=g.getNext();return u.push(t),Yf(u,l.getCompare())}else return Qo;else{const u=r.get(t.name);let g=i;return u&&(g=g.remove(new St(t.name,u))),g.insert(t,t.node)}});return new Ds(n,this.indexSet_)}removeFromIndexes(t,r){const n=Hf(this.indexes_,i=>{if(i===Qo)return i;{const a=r.get(t.name);return a?i.remove(new St(t.name,a)):i}});return new Ds(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;class ot{constructor(t,r,n){this.children_=t,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&l3(this.priorityNode_),this.children_.isEmpty()&&Ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tc||(Tc=new ot(new ni(px),null,Ds.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tc}updatePriority(t){return this.children_.isEmpty()?this:new ot(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Tc:r}}getChild(t){const r=Ot(t);return r===null?this:this.getImmediateChild(r).getChild(ir(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(Ve(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const n=new St(t,r);let i,a;r.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(t,r),a=this.indexMap_.addToIndexes(n,this.children_));const l=i.isEmpty()?Tc:this.priorityNode_;return new ot(i,l,a)}}updateChild(t,r){const n=Ot(t);if(n===null)return r;{Ve(Ot(t)!==".priority"||Ma(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(ir(t),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let n=0,i=0,a=!0;if(this.forEachChild(Tr,(l,u)=>{r[l]=u.val(t),n++,a&&ot.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):a=!1}),!t&&a&&i<2*n){const l=[];for(const u in r)l[u]=r[u];return l}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+o3(this.getPriority().val())+":"),this.forEachChild(Tr,(r,n)=>{const i=n.hash();i!==""&&(t+=":"+r+":"+i)}),this.lazyHash_=t===""?"":MC(t)}return this.lazyHash_}getPredecessorChildName(t,r,n){const i=this.resolveIndex_(n);if(i){const a=i.getPredecessorKey(new St(t,r));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new St(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new St(r,this.children_.get(r)):null}forEachChild(t,r){const n=this.resolveIndex_(t);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,St.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,St.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===iu?-1:0}withIndex(t){if(t===Cl||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new ot(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Cl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(Tr),i=r.getIterator(Tr);let a=n.getNext(),l=i.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=n.getNext(),l=i.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(t){return t===Cl?null:this.indexMap_.get(t.toString())}}ot.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class H5 extends ot{constructor(){super(new ni(px),ot.EMPTY_NODE,Ds.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ot.EMPTY_NODE}isEmpty(){return!1}}const iu=new H5;Object.defineProperties(St,{MIN:{value:new St(Bl,ot.EMPTY_NODE)},MAX:{value:new St(_o,iu)}});a3.__EMPTY_NODE=ot.EMPTY_NODE;en.__childrenNodeConstructor=ot;B5(iu);U5(iu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=!0;function Xr(e,t=null){if(e===null)return ot.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Ve(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const r=e;return new en(r,Xr(t))}if(!(e instanceof Array)&&z5){const r=[];let n=!1;if(vn(e,(l,u)=>{if(l.substring(0,1)!=="."){const g=Xr(u);g.isEmpty()||(n=n||!g.getPriority().isEmpty(),r.push(new St(l,g)))}}),r.length===0)return ot.EMPTY_NODE;const a=Yf(r,M5,l=>l.name,px);if(n){const l=Yf(r,Tr.getCompare());return new ot(a,Xr(t),new Ds({".priority":l},{".priority":Tr}))}else return new ot(a,Xr(t),Ds.Default)}else{let r=ot.EMPTY_NODE;return vn(e,(n,i)=>{if(As(e,n)&&n.substring(0,1)!=="."){const a=Xr(i);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(n,a))}}),r.updatePriority(Xr(t))}}L5(Xr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5 extends Kh{constructor(t){super(),this.indexPath_=t,Ve(!Tt(t)&&Ot(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const n=this.extractChild(t.node),i=this.extractChild(r.node),a=n.compareTo(i);return a===0?Po(t.name,r.name):a}makePost(t,r){const n=Xr(t),i=ot.EMPTY_NODE.updateChild(this.indexPath_,n);return new St(r,i)}maxPost(){const t=ot.EMPTY_NODE.updateChild(this.indexPath_,iu);return new St(_o,t)}toString(){return R0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5 extends Kh{compare(t,r){const n=t.node.compareTo(r.node);return n===0?Po(t.name,r.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return St.MIN}maxPost(){return St.MAX}makePost(t,r){const n=Xr(t);return new St(r,n)}toString(){return".value"}}const $5=new X5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(e){return{type:"value",snapshotNode:e}}function Ll(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function N0(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function O0(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}function Y5(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t){this.index_=t}updateChild(t,r,n,i,a,l){Ve(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(r);return u.getChild(i).equals(n.getChild(i))&&u.isEmpty()===n.isEmpty()||(l!=null&&(n.isEmpty()?t.hasChild(r)?l.trackChildChange(N0(r,u)):Ve(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Ll(r,n)):l.trackChildChange(O0(r,n,u))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(t,r,n){return n!=null&&(t.isLeafNode()||t.forEachChild(Tr,(i,a)=>{r.hasChild(i)||n.trackChildChange(N0(i,a))}),r.isLeafNode()||r.forEachChild(Tr,(i,a)=>{if(t.hasChild(i)){const l=t.getImmediateChild(i);l.equals(a)||n.trackChildChange(O0(i,a,l))}else n.trackChildChange(Ll(i,a))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?ot.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t){this.indexedFilter_=new xx(t.getIndex()),this.index_=t.getIndex(),this.startPost_=D0.getStartPost_(t),this.endPost_=D0.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&n}updateChild(t,r,n,i,a,l){return this.matches(new St(r,n))||(n=ot.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,n,i,a,l)}updateFullNode(t,r,n){r.isLeafNode()&&(r=ot.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(ot.EMPTY_NODE);const a=this;return r.forEachChild(Tr,(l,u)=>{a.matches(new St(l,u))||(i=i.updateImmediateChild(l,ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new D0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,n,i,a,l){return this.rangedFilter_.matches(new St(r,n))||(n=ot.EMPTY_NODE),t.getImmediateChild(r).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,n,i,a,l):this.fullLimitUpdateChild_(t,r,n,a,l)}updateFullNode(t,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=ot.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=ot.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const u=a.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(ot.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let l=0;for(;a.hasNext();){const u=a.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:i=i.updateImmediateChild(u.name,ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,n,i,a){let l;if(this.reverse_){const v=this.index_.getCompare();l=(_,E)=>v(E,_)}else l=this.index_.getCompare();const u=t;Ve(u.numChildren()===this.limit_,"");const g=new St(r,n),p=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(g);if(u.hasChild(r)){const v=u.getImmediateChild(r);let _=i.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===r||u.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const E=_==null?1:l(_,g);if(m&&!n.isEmpty()&&E>=0)return a!=null&&a.trackChildChange(O0(r,n,v)),u.updateImmediateChild(r,n);{a!=null&&a.trackChildChange(N0(r,v));const C=u.updateImmediateChild(r,ot.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(a!=null&&a.trackChildChange(Ll(_.name,_.node)),C.updateImmediateChild(_.name,_.node)):C}}else return n.isEmpty()?t:m&&l(p,g)>=0?(a!=null&&(a.trackChildChange(N0(p.name,p.node)),a.trackChildChange(Ll(r,n))),u.updateImmediateChild(r,n).updateImmediateChild(p.name,ot.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bl}hasEnd(){return this.endSet_}getIndexEndValue(){return Ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_o}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tr}copy(){const t=new mx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function q5(e){return e.loadsAllData()?new xx(e.getIndex()):e.hasLimit()?new K5(e):new D0(e)}function Xw(e){const t={};if(e.isDefault())return t;let r;if(e.index_===Tr?r="$priority":e.index_===$5?r="$value":e.index_===Cl?r="$key":(Ve(e.index_ instanceof G5,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=$r(r),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=$r(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+$r(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=$r(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+$r(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function $w(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;r===""&&(e.isViewFromLeft()?r="l":r="r"),t.vf=r}return e.index_!==Tr&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends t3{constructor(t,r,n,i){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=nu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(Ve(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,r,n,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const l=Kf.getListenId_(t,n),u={};this.listens_[l]=u;const g=Xw(t._queryParams);this.restRequest_(a+".json",g,(p,m)=>{let v=m;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(a,v,!1,n),Ml(this.listens_,l)===u){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",i(_,null)}})}unlisten(t,r){const n=Kf.getListenId_(t,r);delete this.listens_[n]}get(t){const r=Xw(t._queryParams),n=t._path.toString(),i=new eu;return this.restRequest_(n+".json",r,(a,l)=>{let u=l;a===404&&(u=null,a=null),a===null?(this.onDataUpdate_(n,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(t){}restRequest_(t,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(r.auth=i.accessToken),a&&a.token&&(r.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+CI(r);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let g=null;if(u.status>=200&&u.status<300){try{g=k0(u.responseText)}catch{Vn("Failed to parse JSON response for "+l+": "+u.responseText)}n(null,g)}else u.status!==401&&u.status!==404&&Vn("Got unsuccessful REST response for "+l+" Status: "+u.status),n(u.status);n=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.rootNode_=ot.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(){return{value:null,children:new Map}}function h3(e,t,r){if(Tt(t))e.value=r,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,r);else{const n=Ot(t);e.children.has(n)||e.children.set(n,qf());const i=e.children.get(n);t=ir(t),h3(i,t,r)}}function Mg(e,t,r){e.value!==null?r(t,e.value):Q5(e,(n,i)=>{const a=new qt(t.toString()+"/"+n);Mg(i,a,r)})}function Q5(e,t){e.children.forEach((r,n)=>{t(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&vn(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=10*1e3,eR=30*1e3,tR=5*60*1e3;class rR{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new J5(t);const n=Yw+(eR-Yw)*Math.random();Yc(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),r={};let n=!1;vn(t,(i,a)=>{a>0&&As(this.statsToReport_,i)&&(r[i]=a,n=!0)}),n&&this.server_.reportStats(r),Yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*tR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ji||(Ji={}));function wx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function yx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t,r,n){this.path=t,this.affectedTree=r,this.revert=n,this.type=Ji.ACK_USER_WRITE,this.source=wx()}operationForChild(t){if(Tt(this.path)){if(this.affectedTree.value!=null)return Ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new qt(t));return new Zf(Wt(),r,this.revert)}}else return Ve(Ot(this.path)===t,"operationForChild called for unrelated child."),new Zf(ir(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,r){this.source=t,this.path=r,this.type=Ji.LISTEN_COMPLETE}operationForChild(t){return Tt(this.path)?new F0(this.source,Wt()):new F0(this.source,ir(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,r,n){this.source=t,this.path=r,this.snap=n,this.type=Ji.OVERWRITE}operationForChild(t){return Tt(this.path)?new Eo(this.source,Wt(),this.snap.getImmediateChild(t)):new Eo(this.source,ir(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,r,n){this.source=t,this.path=r,this.children=n,this.type=Ji.MERGE}operationForChild(t){if(Tt(this.path)){const r=this.children.subtree(new qt(t));return r.isEmpty()?null:r.value?new Eo(this.source,Wt(),r.value):new Ul(this.source,Wt(),r)}else return Ve(Ot(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ul(this.source,ir(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,r,n){this.node_=t,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tt(t))return this.isFullyInitialized()&&!this.filtered_;const r=Ot(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function iR(e,t,r,n){const i=[],a=[];return t.forEach(l=>{l.type==="child_changed"&&e.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(Y5(l.childName,l.snapshotNode))}),kc(e,i,"child_removed",t,n,r),kc(e,i,"child_added",t,n,r),kc(e,i,"child_moved",a,n,r),kc(e,i,"child_changed",t,n,r),kc(e,i,"value",t,n,r),i}function kc(e,t,r,n,i,a){const l=n.filter(u=>u.type===r);l.sort((u,g)=>aR(e,u,g)),l.forEach(u=>{const g=sR(e,u,a);i.forEach(p=>{p.respondsTo(u.type)&&t.push(p.createEvent(g,e.query_))})})}function sR(e,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function aR(e,t,r){if(t.childName==null||r.childName==null)throw ql("Should only compare child_ events.");const n=new St(t.childName,t.snapshotNode),i=new St(r.childName,r.snapshotNode);return e.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e,t){return{eventCache:e,serverCache:t}}function Kc(e,t,r,n){return qh(new Ba(t,r,n),e.serverCache)}function d3(e,t,r,n){return qh(e.eventCache,new Ba(t,r,n))}function Qf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Co(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1;const oR=()=>(c1||(c1=new ni(G6)),c1);class rr{constructor(t,r=oR()){this.value=t,this.children=r}static fromObject(t){let r=new rr(null);return vn(t,(n,i)=>{r=r.set(new qt(n),i)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:Wt(),value:this.value};if(Tt(t))return null;{const n=Ot(t),i=this.children.get(n);if(i!==null){const a=i.findRootMostMatchingPathAndValue(ir(t),r);return a!=null?{path:Sr(new qt(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tt(t))return this;{const r=Ot(t),n=this.children.get(r);return n!==null?n.subtree(ir(t)):new rr(null)}}set(t,r){if(Tt(t))return new rr(r,this.children);{const n=Ot(t),a=(this.children.get(n)||new rr(null)).set(ir(t),r),l=this.children.insert(n,a);return new rr(this.value,l)}}remove(t){if(Tt(t))return this.children.isEmpty()?new rr(null):new rr(null,this.children);{const r=Ot(t),n=this.children.get(r);if(n){const i=n.remove(ir(t));let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),this.value===null&&a.isEmpty()?new rr(null):new rr(this.value,a)}else return this}}get(t){if(Tt(t))return this.value;{const r=Ot(t),n=this.children.get(r);return n?n.get(ir(t)):null}}setTree(t,r){if(Tt(t))return r;{const n=Ot(t),a=(this.children.get(n)||new rr(null)).setTree(ir(t),r);let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),new rr(this.value,l)}}fold(t){return this.fold_(Wt(),t)}fold_(t,r){const n={};return this.children.inorderTraversal((i,a)=>{n[i]=a.fold_(Sr(t,i),r)}),r(t,this.value,n)}findOnPath(t,r){return this.findOnPath_(t,Wt(),r)}findOnPath_(t,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(Tt(t))return null;{const a=Ot(t),l=this.children.get(a);return l?l.findOnPath_(ir(t),Sr(r,a),n):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,Wt(),r)}foreachOnPath_(t,r,n){if(Tt(t))return this;{this.value&&n(r,this.value);const i=Ot(t),a=this.children.get(i);return a?a.foreachOnPath_(ir(t),Sr(r,i),n):new rr(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,r){this.children.inorderTraversal((n,i)=>{i.foreach_(Sr(t,n),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,n)=>{n.value&&t(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.writeTree_=t}static empty(){return new is(new rr(null))}}function qc(e,t,r){if(Tt(t))return new is(new rr(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(n!=null){const i=n.path;let a=n.value;const l=Un(i,t);return a=a.updateChild(l,r),new is(e.writeTree_.set(i,a))}else{const i=new rr(r),a=e.writeTree_.setTree(t,i);return new is(a)}}}function Bg(e,t,r){let n=e;return vn(r,(i,a)=>{n=qc(n,Sr(t,i),a)}),n}function Kw(e,t){if(Tt(t))return is.empty();{const r=e.writeTree_.setTree(t,new rr(null));return new is(r)}}function Lg(e,t){return Mo(e,t)!=null}function Mo(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return r!=null?e.writeTree_.get(r.path).getChild(Un(r.path,t)):null}function qw(e){const t=[],r=e.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Tr,(n,i)=>{t.push(new St(n,i))}):e.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&t.push(new St(n,i.value))}),t}function Ra(e,t){if(Tt(t))return e;{const r=Mo(e,t);return r!=null?new is(new rr(r)):new is(e.writeTree_.subtree(t))}}function Ug(e){return e.writeTree_.isEmpty()}function jl(e,t){return g3(Wt(),e.writeTree_,t)}function g3(e,t,r){if(t.value!=null)return r.updateChild(e,t.value);{let n=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(Ve(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):r=g3(Sr(e,i),a,r)}),!r.getChild(e).isEmpty()&&n!==null&&(r=r.updateChild(Sr(e,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e,t){return w3(t,e)}function lR(e,t,r,n,i){Ve(n>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:i}),i&&(e.visibleWrites=qc(e.visibleWrites,t,r)),e.lastWriteId=n}function cR(e,t,r,n){Ve(n>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:r,writeId:n,visible:!0}),e.visibleWrites=Bg(e.visibleWrites,t,r),e.lastWriteId=n}function uR(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}function fR(e,t){const r=e.allWrites.findIndex(u=>u.writeId===t);Ve(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let i=n.visible,a=!1,l=e.allWrites.length-1;for(;i&&l>=0;){const u=e.allWrites[l];u.visible&&(l>=r&&hR(u,n.path)?i=!1:Pi(n.path,u.path)&&(a=!0)),l--}if(i){if(a)return dR(e),!0;if(n.snap)e.visibleWrites=Kw(e.visibleWrites,n.path);else{const u=n.children;vn(u,g=>{e.visibleWrites=Kw(e.visibleWrites,Sr(n.path,g))})}return!0}else return!1}function hR(e,t){if(e.snap)return Pi(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&Pi(Sr(e.path,r),t))return!0;return!1}function dR(e){e.visibleWrites=p3(e.allWrites,gR,Wt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function gR(e){return e.visible}function p3(e,t,r){let n=is.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const l=a.path;let u;if(a.snap)Pi(r,l)?(u=Un(r,l),n=qc(n,u,a.snap)):Pi(l,r)&&(u=Un(l,r),n=qc(n,Wt(),a.snap.getChild(u)));else if(a.children){if(Pi(r,l))u=Un(r,l),n=Bg(n,u,a.children);else if(Pi(l,r))if(u=Un(l,r),Tt(u))n=Bg(n,Wt(),a.children);else{const g=Ml(a.children,Ot(u));if(g){const p=g.getChild(ir(u));n=qc(n,Wt(),p)}}}else throw ql("WriteRecord should have .snap or .children")}}return n}function x3(e,t,r,n,i){if(!n&&!i){const a=Mo(e.visibleWrites,t);if(a!=null)return a;{const l=Ra(e.visibleWrites,t);if(Ug(l))return r;if(r==null&&!Lg(l,Wt()))return null;{const u=r||ot.EMPTY_NODE;return jl(l,u)}}}else{const a=Ra(e.visibleWrites,t);if(!i&&Ug(a))return r;if(!i&&r==null&&!Lg(a,Wt()))return null;{const l=function(p){return(p.visible||i)&&(!n||!~n.indexOf(p.writeId))&&(Pi(p.path,t)||Pi(t,p.path))},u=p3(e.allWrites,l,t),g=r||ot.EMPTY_NODE;return jl(u,g)}}}function pR(e,t,r){let n=ot.EMPTY_NODE;const i=Mo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Tr,(a,l)=>{n=n.updateImmediateChild(a,l)}),n;if(r){const a=Ra(e.visibleWrites,t);return r.forEachChild(Tr,(l,u)=>{const g=jl(Ra(a,new qt(l)),u);n=n.updateImmediateChild(l,g)}),qw(a).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}else{const a=Ra(e.visibleWrites,t);return qw(a).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}}function xR(e,t,r,n,i){Ve(n||i,"Either existingEventSnap or existingServerSnap must exist");const a=Sr(t,r);if(Lg(e.visibleWrites,a))return null;{const l=Ra(e.visibleWrites,a);return Ug(l)?i.getChild(r):jl(l,i.getChild(r))}}function mR(e,t,r,n){const i=Sr(t,r),a=Mo(e.visibleWrites,i);if(a!=null)return a;if(n.isCompleteForChild(r)){const l=Ra(e.visibleWrites,i);return jl(l,n.getNode().getImmediateChild(r))}else return null}function wR(e,t){return Mo(e.visibleWrites,t)}function vR(e,t,r,n,i,a,l){let u;const g=Ra(e.visibleWrites,t),p=Mo(g,Wt());if(p!=null)u=p;else if(r!=null)u=jl(g,r);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const m=[],v=l.getCompare(),_=a?u.getReverseIteratorFrom(n,l):u.getIteratorFrom(n,l);let E=_.getNext();for(;E&&m.length<i;)v(E,n)!==0&&m.push(E),E=_.getNext();return m}else return[]}function yR(){return{visibleWrites:is.empty(),allWrites:[],lastWriteId:-1}}function Jf(e,t,r,n){return x3(e.writeTree,e.treePath,t,r,n)}function _x(e,t){return pR(e.writeTree,e.treePath,t)}function Zw(e,t,r,n){return xR(e.writeTree,e.treePath,t,r,n)}function eh(e,t){return wR(e.writeTree,Sr(e.treePath,t))}function _R(e,t,r,n,i,a){return vR(e.writeTree,e.treePath,t,r,n,i,a)}function Ex(e,t,r){return mR(e.writeTree,e.treePath,t,r)}function m3(e,t){return w3(Sr(e.treePath,t),e.writeTree)}function w3(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,n=t.childName;Ve(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),Ve(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const a=i.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(n,O0(n,t.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(n,N0(n,i.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(n,Ll(n,t.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(n,O0(n,t.snapshotNode,i.oldSnap));else throw ql("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{getCompleteChild(t){return null}getChildAfterChild(t,r,n){return null}}const v3=new CR;class Cx{constructor(t,r,n=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const n=this.optCompleteServerCache_!=null?new Ba(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ex(this.writes_,t,n)}}getChildAfterChild(t,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Co(this.viewCache_),a=_R(this.writes_,i,r,1,n,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e){return{filter:e}}function SR(e,t){Ve(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Ve(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function TR(e,t,r,n,i){const a=new ER;let l,u;if(r.type===Ji.OVERWRITE){const p=r;p.source.fromUser?l=jg(e,t,p.path,p.snap,n,i,a):(Ve(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered()&&!Tt(p.path),l=th(e,t,p.path,p.snap,n,i,u,a))}else if(r.type===Ji.MERGE){const p=r;p.source.fromUser?l=bR(e,t,p.path,p.children,n,i,a):(Ve(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered(),l=Wg(e,t,p.path,p.children,n,i,u,a))}else if(r.type===Ji.ACK_USER_WRITE){const p=r;p.revert?l=NR(e,t,p.path,n,i,a):l=IR(e,t,p.path,p.affectedTree,n,i,a)}else if(r.type===Ji.LISTEN_COMPLETE)l=RR(e,t,r.path,n,a);else throw ql("Unknown operation type: "+r.type);const g=a.getChanges();return kR(t,l,g),{viewCache:l,changes:g}}function kR(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=Qf(e);(r.length>0||!e.eventCache.isFullyInitialized()||i&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&r.push(f3(Qf(t)))}}function y3(e,t,r,n,i,a){const l=t.eventCache;if(eh(n,r)!=null)return t;{let u,g;if(Tt(r))if(Ve(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=Co(t),m=p instanceof ot?p:ot.EMPTY_NODE,v=_x(n,m);u=e.filter.updateFullNode(t.eventCache.getNode(),v,a)}else{const p=Jf(n,Co(t));u=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{const p=Ot(r);if(p===".priority"){Ve(Ma(r)===1,"Can't have a priority with additional path components");const m=l.getNode();g=t.serverCache.getNode();const v=Zw(n,r,m,g);v!=null?u=e.filter.updatePriority(m,v):u=l.getNode()}else{const m=ir(r);let v;if(l.isCompleteForChild(p)){g=t.serverCache.getNode();const _=Zw(n,r,l.getNode(),g);_!=null?v=l.getNode().getImmediateChild(p).updateChild(m,_):v=l.getNode().getImmediateChild(p)}else v=Ex(n,p,t.serverCache);v!=null?u=e.filter.updateChild(l.getNode(),p,v,m,i,a):u=l.getNode()}}return Kc(t,u,l.isFullyInitialized()||Tt(r),e.filter.filtersNodes())}}function th(e,t,r,n,i,a,l,u){const g=t.serverCache;let p;const m=l?e.filter:e.filter.getIndexedFilter();if(Tt(r))p=m.updateFullNode(g.getNode(),n,null);else if(m.filtersNodes()&&!g.isFiltered()){const E=g.getNode().updateChild(r,n);p=m.updateFullNode(g.getNode(),E,null)}else{const E=Ot(r);if(!g.isCompleteForPath(r)&&Ma(r)>1)return t;const A=ir(r),I=g.getNode().getImmediateChild(E).updateChild(A,n);E===".priority"?p=m.updatePriority(g.getNode(),I):p=m.updateChild(g.getNode(),E,I,A,v3,null)}const v=d3(t,p,g.isFullyInitialized()||Tt(r),m.filtersNodes()),_=new Cx(i,v,a);return y3(e,v,r,i,_,u)}function jg(e,t,r,n,i,a,l){const u=t.eventCache;let g,p;const m=new Cx(i,t,a);if(Tt(r))p=e.filter.updateFullNode(t.eventCache.getNode(),n,l),g=Kc(t,p,!0,e.filter.filtersNodes());else{const v=Ot(r);if(v===".priority")p=e.filter.updatePriority(t.eventCache.getNode(),n),g=Kc(t,p,u.isFullyInitialized(),u.isFiltered());else{const _=ir(r),E=u.getNode().getImmediateChild(v);let A;if(Tt(_))A=n;else{const C=m.getCompleteChild(v);C!=null?dx(_)===".priority"&&C.getChild(n3(_)).isEmpty()?A=C:A=C.updateChild(_,n):A=ot.EMPTY_NODE}if(E.equals(A))g=t;else{const C=e.filter.updateChild(u.getNode(),v,A,_,m,l);g=Kc(t,C,u.isFullyInitialized(),e.filter.filtersNodes())}}}return g}function Qw(e,t){return e.eventCache.isCompleteForChild(t)}function bR(e,t,r,n,i,a,l){let u=t;return n.foreach((g,p)=>{const m=Sr(r,g);Qw(t,Ot(m))&&(u=jg(e,u,m,p,i,a,l))}),n.foreach((g,p)=>{const m=Sr(r,g);Qw(t,Ot(m))||(u=jg(e,u,m,p,i,a,l))}),u}function Jw(e,t,r){return r.foreach((n,i)=>{t=t.updateChild(n,i)}),t}function Wg(e,t,r,n,i,a,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;Tt(r)?p=n:p=new rr(null).setTree(r,n);const m=t.serverCache.getNode();return p.children.inorderTraversal((v,_)=>{if(m.hasChild(v)){const E=t.serverCache.getNode().getImmediateChild(v),A=Jw(e,E,_);g=th(e,g,new qt(v),A,i,a,l,u)}}),p.children.inorderTraversal((v,_)=>{const E=!t.serverCache.isCompleteForChild(v)&&_.value===null;if(!m.hasChild(v)&&!E){const A=t.serverCache.getNode().getImmediateChild(v),C=Jw(e,A,_);g=th(e,g,new qt(v),C,i,a,l,u)}}),g}function IR(e,t,r,n,i,a,l){if(eh(i,r)!=null)return t;const u=t.serverCache.isFiltered(),g=t.serverCache;if(n.value!=null){if(Tt(r)&&g.isFullyInitialized()||g.isCompleteForPath(r))return th(e,t,r,g.getNode().getChild(r),i,a,u,l);if(Tt(r)){let p=new rr(null);return g.getNode().forEachChild(Cl,(m,v)=>{p=p.set(new qt(m),v)}),Wg(e,t,r,p,i,a,u,l)}else return t}else{let p=new rr(null);return n.foreach((m,v)=>{const _=Sr(r,m);g.isCompleteForPath(_)&&(p=p.set(m,g.getNode().getChild(_)))}),Wg(e,t,r,p,i,a,u,l)}}function RR(e,t,r,n,i){const a=t.serverCache,l=d3(t,a.getNode(),a.isFullyInitialized()||Tt(r),a.isFiltered());return y3(e,l,r,n,v3,i)}function NR(e,t,r,n,i,a){let l;if(eh(n,r)!=null)return t;{const u=new Cx(n,t,i),g=t.eventCache.getNode();let p;if(Tt(r)||Ot(r)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=Jf(n,Co(t));else{const v=t.serverCache.getNode();Ve(v instanceof ot,"serverChildren would be complete if leaf node"),m=_x(n,v)}m=m,p=e.filter.updateFullNode(g,m,a)}else{const m=Ot(r);let v=Ex(n,m,t.serverCache);v==null&&t.serverCache.isCompleteForChild(m)&&(v=g.getImmediateChild(m)),v!=null?p=e.filter.updateChild(g,m,v,ir(r),u,a):t.eventCache.getNode().hasChild(m)?p=e.filter.updateChild(g,m,ot.EMPTY_NODE,ir(r),u,a):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=Jf(n,Co(t)),l.isLeafNode()&&(p=e.filter.updateFullNode(p,l,a)))}return l=t.serverCache.isFullyInitialized()||eh(n,Wt())!=null,Kc(t,p,l,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new xx(n.getIndex()),a=q5(n);this.processor_=AR(a);const l=r.serverCache,u=r.eventCache,g=i.updateFullNode(ot.EMPTY_NODE,l.getNode(),null),p=a.updateFullNode(ot.EMPTY_NODE,u.getNode(),null),m=new Ba(g,l.isFullyInitialized(),i.filtersNodes()),v=new Ba(p,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=qh(v,m),this.eventGenerator_=new nR(this.query_)}get query(){return this.query_}}function DR(e){return e.viewCache_.serverCache.getNode()}function FR(e){return Qf(e.viewCache_)}function PR(e,t){const r=Co(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!Tt(t)&&!r.getImmediateChild(Ot(t)).isEmpty())?r.getChild(t):null}function ev(e){return e.eventRegistrations_.length===0}function MR(e,t){e.eventRegistrations_.push(t)}function tv(e,t,r){const n=[];if(r){Ve(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(r,i);l&&n.push(l)})}if(t){let i=[];for(let a=0;a<e.eventRegistrations_.length;++a){const l=e.eventRegistrations_[a];if(!l.matches(t))i.push(l);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return n}function rv(e,t,r,n){t.type===Ji.MERGE&&t.source.queryId!==null&&(Ve(Co(e.viewCache_),"We should always have a full cache before handling merges"),Ve(Qf(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=TR(e.processor_,i,t,r,n);return SR(e.processor_,a.viewCache),Ve(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,_3(e,a.changes,a.viewCache.eventCache.getNode(),null)}function BR(e,t){const r=e.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Tr,(a,l)=>{n.push(Ll(a,l))}),r.isFullyInitialized()&&n.push(f3(r.getNode())),_3(e,n,r.getNode(),t)}function _3(e,t,r,n){const i=n?[n]:e.eventRegistrations_;return iR(e.eventGenerator_,t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;class E3{constructor(){this.views=new Map}}function LR(e){Ve(!rh,"__referenceConstructor has already been defined"),rh=e}function UR(){return Ve(rh,"Reference.ts has not been loaded"),rh}function jR(e){return e.views.size===0}function Ax(e,t,r,n){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return Ve(a!=null,"SyncTree gave us an op for an invalid query."),rv(a,t,r,n)}else{let a=[];for(const l of e.views.values())a=a.concat(rv(l,t,r,n));return a}}function C3(e,t,r,n,i){const a=t._queryIdentifier,l=e.views.get(a);if(!l){let u=Jf(r,i?n:null),g=!1;u?g=!0:n instanceof ot?(u=_x(r,n),g=!1):(u=ot.EMPTY_NODE,g=!1);const p=qh(new Ba(u,g,!1),new Ba(n,i,!1));return new OR(t,p)}return l}function WR(e,t,r,n,i,a){const l=C3(e,t,n,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,l),MR(l,r),BR(l,r)}function VR(e,t,r,n){const i=t._queryIdentifier,a=[];let l=[];const u=La(e);if(i==="default")for(const[g,p]of e.views.entries())l=l.concat(tv(p,r,n)),ev(p)&&(e.views.delete(g),p.query._queryParams.loadsAllData()||a.push(p.query));else{const g=e.views.get(i);g&&(l=l.concat(tv(g,r,n)),ev(g)&&(e.views.delete(i),g.query._queryParams.loadsAllData()||a.push(g.query)))}return u&&!La(e)&&a.push(new(UR())(t._repo,t._path)),{removed:a,events:l}}function A3(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Na(e,t){let r=null;for(const n of e.views.values())r=r||PR(n,t);return r}function S3(e,t){if(t._queryParams.loadsAllData())return Qh(e);{const n=t._queryIdentifier;return e.views.get(n)}}function T3(e,t){return S3(e,t)!=null}function La(e){return Qh(e)!=null}function Qh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh;function HR(e){Ve(!nh,"__referenceConstructor has already been defined"),nh=e}function zR(){return Ve(nh,"Reference.ts has not been loaded"),nh}let GR=1;class nv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new rr(null),this.pendingWriteTree_=yR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function k3(e,t,r,n,i){return lR(e.pendingWriteTree_,t,r,n,i),i?Ql(e,new Eo(wx(),t,r)):[]}function XR(e,t,r,n){cR(e.pendingWriteTree_,t,r,n);const i=rr.fromObject(r);return Ql(e,new Ul(wx(),t,i))}function ga(e,t,r=!1){const n=uR(e.pendingWriteTree_,t);if(fR(e.pendingWriteTree_,t)){let a=new rr(null);return n.snap!=null?a=a.set(Wt(),!0):vn(n.children,l=>{a=a.set(new qt(l),!0)}),Ql(e,new Zf(n.path,a,r))}else return[]}function su(e,t,r){return Ql(e,new Eo(vx(),t,r))}function $R(e,t,r){const n=rr.fromObject(r);return Ql(e,new Ul(vx(),t,n))}function YR(e,t){return Ql(e,new F0(vx(),t))}function KR(e,t,r){const n=Tx(e,r);if(n){const i=kx(n),a=i.path,l=i.queryId,u=Un(a,t),g=new F0(yx(l),u);return bx(e,a,g)}else return[]}function b3(e,t,r,n,i=!1){const a=t._path,l=e.syncPointTree_.get(a);let u=[];if(l&&(t._queryIdentifier==="default"||T3(l,t))){const g=VR(l,t,r,n);jR(l)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const p=g.removed;if(u=g.events,!i){const m=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=e.syncPointTree_.findOnPath(a,(_,E)=>La(E));if(m&&!v){const _=e.syncPointTree_.subtree(a);if(!_.isEmpty()){const E=JR(_);for(let A=0;A<E.length;++A){const C=E[A],I=C.query,b=O3(e,C);e.listenProvider_.startListening(Zc(I),P0(e,I),b.hashFn,b.onComplete)}}}!v&&p.length>0&&!n&&(m?e.listenProvider_.stopListening(Zc(t),null):p.forEach(_=>{const E=e.queryToTagMap.get(Jh(_));e.listenProvider_.stopListening(Zc(_),E)}))}eN(e,p)}return u}function I3(e,t,r,n){const i=Tx(e,n);if(i!=null){const a=kx(i),l=a.path,u=a.queryId,g=Un(l,t),p=new Eo(yx(u),g,r);return bx(e,l,p)}else return[]}function qR(e,t,r,n){const i=Tx(e,n);if(i){const a=kx(i),l=a.path,u=a.queryId,g=Un(l,t),p=rr.fromObject(r),m=new Ul(yx(u),g,p);return bx(e,l,m)}else return[]}function ZR(e,t,r,n=!1){const i=t._path;let a=null,l=!1;e.syncPointTree_.foreachOnPath(i,(_,E)=>{const A=Un(_,i);a=a||Na(E,A),l=l||La(E)});let u=e.syncPointTree_.get(i);u?(l=l||La(u),a=a||Na(u,Wt())):(u=new E3,e.syncPointTree_=e.syncPointTree_.set(i,u));let g;a!=null?g=!0:(g=!1,a=ot.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((E,A)=>{const C=Na(A,Wt());C&&(a=a.updateImmediateChild(E,C))}));const p=T3(u,t);if(!p&&!t._queryParams.loadsAllData()){const _=Jh(t);Ve(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const E=tN();e.queryToTagMap.set(_,E),e.tagToQueryMap.set(E,_)}const m=Zh(e.pendingWriteTree_,i);let v=WR(u,t,r,m,a,g);if(!p&&!l&&!n){const _=S3(u,t);v=v.concat(rN(e,t,_))}return v}function Sx(e,t,r){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(l,u)=>{const g=Un(l,t),p=Na(u,g);if(p)return p});return x3(i,t,a,r,!0)}function QR(e,t){const r=t._path;let n=null;e.syncPointTree_.foreachOnPath(r,(p,m)=>{const v=Un(p,r);n=n||Na(m,v)});let i=e.syncPointTree_.get(r);i?n=n||Na(i,Wt()):(i=new E3,e.syncPointTree_=e.syncPointTree_.set(r,i));const a=n!=null,l=a?new Ba(n,!0,!1):null,u=Zh(e.pendingWriteTree_,t._path),g=C3(i,t,u,a?l.getNode():ot.EMPTY_NODE,a);return FR(g)}function Ql(e,t){return R3(t,e.syncPointTree_,null,Zh(e.pendingWriteTree_,Wt()))}function R3(e,t,r,n){if(Tt(e.path))return N3(e,t,r,n);{const i=t.get(Wt());r==null&&i!=null&&(r=Na(i,Wt()));let a=[];const l=Ot(e.path),u=e.operationForChild(l),g=t.children.get(l);if(g&&u){const p=r?r.getImmediateChild(l):null,m=m3(n,l);a=a.concat(R3(u,g,p,m))}return i&&(a=a.concat(Ax(i,e,n,r))),a}}function N3(e,t,r,n){const i=t.get(Wt());r==null&&i!=null&&(r=Na(i,Wt()));let a=[];return t.children.inorderTraversal((l,u)=>{const g=r?r.getImmediateChild(l):null,p=m3(n,l),m=e.operationForChild(l);m&&(a=a.concat(N3(m,u,g,p)))}),i&&(a=a.concat(Ax(i,e,n,r))),a}function O3(e,t){const r=t.query,n=P0(e,r);return{hashFn:()=>(DR(t)||ot.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?KR(e,r._path,n):YR(e,r._path);{const a=Y6(i,r);return b3(e,r,null,a)}}}}function P0(e,t){const r=Jh(t);return e.queryToTagMap.get(r)}function Jh(e){return e._path.toString()+"$"+e._queryIdentifier}function Tx(e,t){return e.tagToQueryMap.get(t)}function kx(e){const t=e.indexOf("$");return Ve(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new qt(e.substr(0,t))}}function bx(e,t,r){const n=e.syncPointTree_.get(t);Ve(n,"Missing sync point for query tag that we're tracking");const i=Zh(e.pendingWriteTree_,t);return Ax(n,r,i,null)}function JR(e){return e.fold((t,r,n)=>{if(r&&La(r))return[Qh(r)];{let i=[];return r&&(i=A3(r)),vn(n,(a,l)=>{i=i.concat(l)}),i}})}function Zc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(zR())(e._repo,e._path):e}function eN(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const i=Jh(n),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function tN(){return GR++}function rN(e,t,r){const n=t._path,i=P0(e,t),a=O3(e,r),l=e.listenProvider_.startListening(Zc(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(n);if(i)Ve(!La(u.value),"If we're adding a query, it shouldn't be shadowed");else{const g=u.fold((p,m,v)=>{if(!Tt(p)&&m&&La(m))return[Qh(m).query];{let _=[];return m&&(_=_.concat(A3(m).map(E=>E.query))),vn(v,(E,A)=>{_=_.concat(A)}),_}});for(let p=0;p<g.length;++p){const m=g[p];e.listenProvider_.stopListening(Zc(m),P0(e,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Ix(r)}node(){return this.node_}}class Rx{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Sr(this.path_,t);return new Rx(this.syncTree_,r)}node(){return Sx(this.syncTree_,this.path_)}}const nN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},iv=function(e,t,r){if(!e||typeof e!="object")return e;if(Ve(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return iN(e[".sv"],t,r);if(typeof e[".sv"]=="object")return sN(e[".sv"],t);Ve(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},iN=function(e,t,r){switch(e){case"timestamp":return r.timestamp;default:Ve(!1,"Unexpected server value: "+e)}},sN=function(e,t,r){e.hasOwnProperty("increment")||Ve(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;typeof n!="number"&&Ve(!1,"Unexpected increment value: "+n);const i=t.node();if(Ve(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const l=i.getValue();return typeof l!="number"?n:l+n},D3=function(e,t,r,n){return Nx(t,new Rx(r,e),n)},F3=function(e,t,r){return Nx(e,new Ix(t),r)};function Nx(e,t,r){const n=e.getPriority().val(),i=iv(n,t.getImmediateChild(".priority"),r);let a;if(e.isLeafNode()){const l=e,u=iv(l.getValue(),t,r);return u!==l.getValue()||i!==l.getPriority().val()?new en(u,Xr(i)):e}else{const l=e;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new en(i))),l.forEachChild(Tr,(u,g)=>{const p=Nx(g,t.getImmediateChild(u),r);p!==g&&(a=a.updateImmediateChild(u,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t="",r=null,n={children:{},childCount:0}){this.name=t,this.parent=r,this.node=n}}function Dx(e,t){let r=t instanceof qt?t:new qt(t),n=e,i=Ot(r);for(;i!==null;){const a=Ml(n.node.children,i)||{children:{},childCount:0};n=new Ox(i,n,a),r=ir(r),i=Ot(r)}return n}function Jl(e){return e.node.value}function P3(e,t){e.node.value=t,Vg(e)}function M3(e){return e.node.childCount>0}function aN(e){return Jl(e)===void 0&&!M3(e)}function ed(e,t){vn(e.node.children,(r,n)=>{t(new Ox(r,e,n))})}function B3(e,t,r,n){r&&t(e),ed(e,i=>{B3(i,t,!0)})}function oN(e,t,r){let n=e.parent;for(;n!==null;){if(t(n))return!0;n=n.parent}return!1}function au(e){return new qt(e.parent===null?e.name:au(e.parent)+"/"+e.name)}function Vg(e){e.parent!==null&&lN(e.parent,e.name,e)}function lN(e,t,r){const n=aN(r),i=As(e.node.children,t);n&&i?(delete e.node.children[t],e.node.childCount--,Vg(e)):!n&&!i&&(e.node.children[t]=r.node,e.node.childCount++,Vg(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/[\[\].#$\/\u0000-\u001F\u007F]/,uN=/[\[\].#$\u0000-\u001F\u007F]/,u1=10*1024*1024,Fx=function(e){return typeof e=="string"&&e.length!==0&&!cN.test(e)},L3=function(e){return typeof e=="string"&&e.length!==0&&!uN.test(e)},fN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),L3(e)},hN=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!lx(e)||e&&typeof e=="object"&&As(e,".sv")},U3=function(e,t,r,n){n&&t===void 0||td($h(e,"value"),t,r)},td=function(e,t,r){const n=r instanceof qt?new b5(r,e):r;if(t===void 0)throw new Error(e+"contains undefined "+eo(n));if(typeof t=="function")throw new Error(e+"contains a function "+eo(n)+" with contents = "+t.toString());if(lx(t))throw new Error(e+"contains "+t.toString()+" "+eo(n));if(typeof t=="string"&&t.length>u1/3&&Yh(t)>u1)throw new Error(e+"contains a string greater than "+u1+" utf8 bytes "+eo(n)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(vn(t,(l,u)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!Fx(l)))throw new Error(e+" contains an invalid key ("+l+") "+eo(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);I5(n,l),td(e,u,n),R5(n)}),i&&a)throw new Error(e+' contains ".value" child '+eo(n)+" in addition to actual children.")}},dN=function(e,t){let r,n;for(r=0;r<t.length;r++){n=t[r];const a=R0(n);for(let l=0;l<a.length;l++)if(!(a[l]===".priority"&&l===a.length-1)){if(!Fx(a[l]))throw new Error(e+"contains an invalid key ("+a[l]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(k5);let i=null;for(r=0;r<t.length;r++){if(n=t[r],i!==null&&Pi(i,n))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},gN=function(e,t,r,n){const i=$h(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const a=[];vn(t,(l,u)=>{const g=new qt(l);if(td(i,u,Sr(r,g)),dx(g)===".priority"&&!hN(u))throw new Error(i+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(g)}),dN(i,a)},j3=function(e,t,r,n){if(!L3(r))throw new Error($h(e,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pN=function(e,t,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),j3(e,t,r)},Px=function(e,t){if(Ot(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},xN=function(e,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Fx(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!fN(r))throw new Error($h(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mx(e,t){let r=null;for(let n=0;n<t.length;n++){const i=t[n],a=i.getPath();r!==null&&!i3(a,r.path)&&(e.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(i)}r&&e.eventLists_.push(r)}function Ui(e,t,r){Mx(e,r),wN(e,n=>Pi(n,t)||Pi(t,n))}function wN(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const i=e.eventLists_[n];if(i){const a=i.path;t(a)?(vN(e.eventLists_[n]),e.eventLists_[n]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function vN(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(r!==null){e.events[t]=null;const n=r.getEventRunner();$c&&gn("event: "+r.toString()),Zl(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="repo_interrupt",_N=25;class EN{constructor(t,r,n,i){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qf(),this.transactionQueueTree_=new Ox,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CN(e,t,r){if(e.stats_=fx(e.repoInfo_),e.forceRestClient_||Q6())e.server_=new Kf(e.repoInfo_,(n,i,a,l)=>{sv(e,n,i,a,l)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>av(e,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$r(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}e.persistentConnection_=new Ms(e.repoInfo_,t,(n,i,a,l)=>{sv(e,n,i,a,l)},n=>{av(e,n)},n=>{AN(e,n)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(n=>{e.server_.refreshAuthToken(n)}),e.appCheckProvider_.addTokenChangeListener(n=>{e.server_.refreshAppCheckToken(n.token)}),e.statsReporter_=n5(e.repoInfo_,()=>new rR(e.stats_,e.server_)),e.infoData_=new Z5,e.infoSyncTree_=new nv({startListening:(n,i,a,l)=>{let u=[];const g=e.infoData_.getNode(n._path);return g.isEmpty()||(u=su(e.infoSyncTree_,n._path,g),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),Bx(e,"connected",!1),e.serverSyncTree_=new nv({startListening:(n,i,a,l)=>(e.server_.listen(n,a,i,(u,g)=>{const p=l(u,g);Ui(e.eventQueue_,n._path,p)}),[]),stopListening:(n,i)=>{e.server_.unlisten(n,i)}})}function W3(e){const r=e.infoData_.getNode(new qt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function rd(e){return nN({timestamp:W3(e)})}function sv(e,t,r,n,i){e.dataUpdateCount++;const a=new qt(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let l=[];if(i)if(n){const g=Hf(r,p=>Xr(p));l=qR(e.serverSyncTree_,a,g,i)}else{const g=Xr(r);l=I3(e.serverSyncTree_,a,g,i)}else if(n){const g=Hf(r,p=>Xr(p));l=$R(e.serverSyncTree_,a,g)}else{const g=Xr(r);l=su(e.serverSyncTree_,a,g)}let u=a;l.length>0&&(u=Wl(e,a)),Ui(e.eventQueue_,u,l)}function av(e,t){Bx(e,"connected",t),t===!1&&bN(e)}function AN(e,t){vn(t,(r,n)=>{Bx(e,r,n)})}function Bx(e,t,r){const n=new qt("/.info/"+t),i=Xr(r);e.infoData_.updateSnapshot(n,i);const a=su(e.infoSyncTree_,n,i);Ui(e.eventQueue_,n,a)}function Lx(e){return e.nextWriteId_++}function SN(e,t,r){const n=QR(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(i=>{const a=Xr(i).withIndex(t._queryParams.getIndex());ZR(e.serverSyncTree_,t,r,!0);let l;if(t._queryParams.loadsAllData())l=su(e.serverSyncTree_,t._path,a);else{const u=P0(e.serverSyncTree_,t);l=I3(e.serverSyncTree_,t._path,a,u)}return Ui(e.eventQueue_,t._path,l),b3(e.serverSyncTree_,t,r,null,!0),a},i=>(ou(e,"get for query "+$r(t)+" failed: "+i),Promise.reject(new Error(i))))}function TN(e,t,r,n,i){ou(e,"set",{path:t.toString(),value:r,priority:n});const a=rd(e),l=Xr(r,n),u=Sx(e.serverSyncTree_,t),g=F3(l,u,a),p=Lx(e),m=k3(e.serverSyncTree_,t,g,p,!0);Mx(e.eventQueue_,m),e.server_.put(t.toString(),l.val(!0),(_,E)=>{const A=_==="ok";A||Vn("set at "+t+" failed: "+_);const C=ga(e.serverSyncTree_,p,!A);Ui(e.eventQueue_,t,C),Hg(e,i,_,E)});const v=jx(e,t);Wl(e,v),Ui(e.eventQueue_,v,[])}function kN(e,t,r,n){ou(e,"update",{path:t.toString(),value:r});let i=!0;const a=rd(e),l={};if(vn(r,(u,g)=>{i=!1,l[u]=D3(Sr(t,u),Xr(g),e.serverSyncTree_,a)}),i)gn("update() called with empty data.  Don't do anything."),Hg(e,n,"ok",void 0);else{const u=Lx(e),g=XR(e.serverSyncTree_,t,l,u);Mx(e.eventQueue_,g),e.server_.merge(t.toString(),r,(p,m)=>{const v=p==="ok";v||Vn("update at "+t+" failed: "+p);const _=ga(e.serverSyncTree_,u,!v),E=_.length>0?Wl(e,t):t;Ui(e.eventQueue_,E,_),Hg(e,n,p,m)}),vn(r,p=>{const m=jx(e,Sr(t,p));Wl(e,m)}),Ui(e.eventQueue_,t,[])}}function bN(e){ou(e,"onDisconnectEvents");const t=rd(e),r=qf();Mg(e.onDisconnect_,Wt(),(i,a)=>{const l=D3(i,a,e.serverSyncTree_,t);h3(r,i,l)});let n=[];Mg(r,Wt(),(i,a)=>{n=n.concat(su(e.serverSyncTree_,i,a));const l=jx(e,i);Wl(e,l)}),e.onDisconnect_=qf(),Ui(e.eventQueue_,Wt(),n)}function IN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yN)}function ou(e,...t){let r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),gn(r,...t)}function Hg(e,t,r,n){t&&Zl(()=>{if(r==="ok")t(null);else{const i=(r||"error").toUpperCase();let a=i;n&&(a+=": "+n);const l=new Error(a);l.code=i,t(l)}})}function V3(e,t,r){return Sx(e.serverSyncTree_,t,r)||ot.EMPTY_NODE}function Ux(e,t=e.transactionQueueTree_){if(t||nd(e,t),Jl(t)){const r=z3(e,t);Ve(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&RN(e,au(t),r)}else M3(t)&&ed(t,r=>{Ux(e,r)})}function RN(e,t,r){const n=r.map(p=>p.currentWriteId),i=V3(e,t,n);let a=i;const l=i.hash();for(let p=0;p<r.length;p++){const m=r[p];Ve(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=Un(t,m.path);a=a.updateChild(v,m.currentOutputSnapshotRaw)}const u=a.val(!0),g=t;e.server_.put(g.toString(),u,p=>{ou(e,"transaction put response",{path:g.toString(),status:p});let m=[];if(p==="ok"){const v=[];for(let _=0;_<r.length;_++)r[_].status=2,m=m.concat(ga(e.serverSyncTree_,r[_].currentWriteId)),r[_].onComplete&&v.push(()=>r[_].onComplete(null,!0,r[_].currentOutputSnapshotResolved)),r[_].unwatcher();nd(e,Dx(e.transactionQueueTree_,t)),Ux(e,e.transactionQueueTree_),Ui(e.eventQueue_,t,m);for(let _=0;_<v.length;_++)Zl(v[_])}else{if(p==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{Vn("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=p}Wl(e,t)}},l)}function Wl(e,t){const r=H3(e,t),n=au(r),i=z3(e,r);return NN(e,i,n),n}function NN(e,t,r){if(t.length===0)return;const n=[];let i=[];const l=t.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const g=t[u],p=Un(r,g.path);let m=!1,v;if(Ve(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)m=!0,v=g.abortReason,i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=_N)m=!0,v="maxretry",i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0));else{const _=V3(e,g.path,l);g.currentInputSnapshot=_;const E=t[u].update(_.val());if(E!==void 0){td("transaction failed: Data returned ",E,g.path);let A=Xr(E);typeof E=="object"&&E!=null&&As(E,".priority")||(A=A.updatePriority(_.getPriority()));const I=g.currentWriteId,b=rd(e),k=F3(A,_,b);g.currentOutputSnapshotRaw=A,g.currentOutputSnapshotResolved=k,g.currentWriteId=Lx(e),l.splice(l.indexOf(I),1),i=i.concat(k3(e.serverSyncTree_,g.path,k,g.currentWriteId,g.applyLocally)),i=i.concat(ga(e.serverSyncTree_,I,!0))}else m=!0,v="nodata",i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0))}Ui(e.eventQueue_,r,i),i=[],m&&(t[u].status=2,function(_){setTimeout(_,Math.floor(0))}(t[u].unwatcher),t[u].onComplete&&(v==="nodata"?n.push(()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot)):n.push(()=>t[u].onComplete(new Error(v),!1,null))))}nd(e,e.transactionQueueTree_);for(let u=0;u<n.length;u++)Zl(n[u]);Ux(e,e.transactionQueueTree_)}function H3(e,t){let r,n=e.transactionQueueTree_;for(r=Ot(t);r!==null&&Jl(n)===void 0;)n=Dx(n,r),t=ir(t),r=Ot(t);return n}function z3(e,t){const r=[];return G3(e,t,r),r.sort((n,i)=>n.order-i.order),r}function G3(e,t,r){const n=Jl(t);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);ed(t,i=>{G3(e,i,r)})}function nd(e,t){const r=Jl(t);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,P3(t,r.length>0?r:void 0)}ed(t,n=>{nd(e,n)})}function jx(e,t){const r=au(H3(e,t)),n=Dx(e.transactionQueueTree_,t);return oN(n,i=>{f1(e,i)}),f1(e,n),B3(n,i=>{f1(e,i)}),r}function f1(e,t){const r=Jl(t);if(r){const n=[];let i=[],a=-1;for(let l=0;l<r.length;l++)r[l].status===3||(r[l].status===1?(Ve(a===l-1,"All SENT items should be at beginning of queue."),a=l,r[l].status=3,r[l].abortReason="set"):(Ve(r[l].status===0,"Unexpected transaction status in abort"),r[l].unwatcher(),i=i.concat(ga(e.serverSyncTree_,r[l].currentWriteId,!0)),r[l].onComplete&&n.push(r[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?P3(t,void 0):r.length=a+1,Ui(e.eventQueue_,au(t),i);for(let l=0;l<n.length;l++)Zl(n[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(e){let t="";const r=e.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function DN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const r of e.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Vn(`Invalid query segment '${r}' in query '${e}'`)}return t}const ov=function(e,t){const r=FN(e),n=r.namespace;r.domain==="firebase.com"&&Xs(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||H6();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new YC(r.host,r.secure,n,i,t,"",n!==r.subdomain),path:new qt(r.pathString)}},FN=function(e){let t="",r="",n="",i="",a="",l=!0,u="https",g=443;if(typeof e=="string"){let p=e.indexOf("//");p>=0&&(u=e.substring(0,p-1),e=e.substring(p+2));let m=e.indexOf("/");m===-1&&(m=e.length);let v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(m,v)),m<v&&(i=ON(e.substring(m,v)));const _=DN(e.substring(Math.min(e.length,v)));p=t.indexOf(":"),p>=0?(l=u==="https"||u==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const E=t.slice(0,p);if(E.toLowerCase()==="localhost")r="localhost";else if(E.split(".").length<=2)r=E;else{const A=t.indexOf(".");n=t.substring(0,A).toLowerCase(),r=t.substring(A+1),a=n}"ns"in _&&(a=_.ns)}return{host:t,port:g,domain:r,subdomain:n,secure:l,scheme:u,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PN=function(){let e=0;const t=[];return function(r){const n=r===e;e=r;let i;const a=new Array(8);for(i=7;i>=0;i--)a[i]=lv.charAt(r%64),r=Math.floor(r/64);Ve(r===0,"Cannot push at time == 0");let l=a.join("");if(n){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)l+=lv.charAt(t[i]);return Ve(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,r,n,i){this.eventType=t,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$r(this.snapshot.exportVal())}}class BN{constructor(t,r,n){this.eventRegistration=t,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return Ve(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,r,n,i){this._repo=t,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return Tt(this._path)?null:dx(this._path)}get ref(){return new qs(this._repo,this._path)}get _queryIdentifier(){const t=$w(this._queryParams),r=cx(t);return r==="{}"?"default":r}get _queryObject(){return $w(this._queryParams)}isEqual(t){if(t=Ks(t),!(t instanceof Wx))return!1;const r=this._repo===t._repo,n=i3(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+T5(this._path)}}class qs extends Wx{constructor(t,r){super(t,r,new mx,!1)}get parent(){const t=n3(this._path);return t===null?null:new qs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class M0{constructor(t,r,n){this._node=t,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new qt(t),n=B0(this.ref,t);return new M0(this._node.getChild(r),n,Tr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>t(new M0(i,B0(this.ref,n),Tr)))}hasChild(t){const r=new qt(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ct(e,t){return e=Ks(e),e._checkNotDeleted("ref"),t!==void 0?B0(e._root,t):e._root}function B0(e,t){return e=Ks(e),Ot(e._path)===null?pN("child","path",t):j3("child","path",t),new qs(e._repo,Sr(e._path,t))}function oo(e,t){e=Ks(e),Px("push",e._path),U3("push",t,e._path,!0);const r=W3(e._repo),n=PN(r),i=B0(e,n),a=B0(e,n);let l;return l=Promise.resolve(a),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}function X3(e){return Px("remove",e._path),ti(e,null)}function ti(e,t){e=Ks(e),Px("set",e._path),U3("set",t,e._path,!1);const r=new eu;return TN(e._repo,e._path,t,null,r.wrapCallback(()=>{})),r.promise}function to(e,t){gN("update",t,e._path);const r=new eu;return kN(e._repo,e._path,t,r.wrapCallback(()=>{})),r.promise}function Br(e){e=Ks(e);const t=new LN(()=>{}),r=new Vx(t);return SN(e._repo,e,r).then(n=>new M0(n,new qs(e._repo,e._path),e._queryParams.getIndex()))}class Vx{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const n=r._queryParams.getIndex();return new MN("value",this,new M0(t.snapshotNode,new qs(r._repo,r._path),n))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new BN(this,t,r):null}matches(t){return t instanceof Vx?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}LR(qs);HR(qs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="FIREBASE_DATABASE_EMULATOR_HOST",zg={};let jN=!1;function WN(e,t,r,n){e.repoInfo_=new YC(`${t}:${r}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),n&&(e.authTokenProvider_=n)}function VN(e,t,r,n,i){let a=n||e.options.databaseURL;a===void 0&&(e.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gn("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l=ov(a,i),u=l.repoInfo,g;typeof process<"u"&&Iw&&(g=Iw[UN]),g?(a=`http://${g}?ns=${u.namespace}`,l=ov(a,i),u=l.repoInfo):l.repoInfo.secure;const p=new e5(e.name,e.options,t);xN("Invalid Firebase Database URL",l),Tt(l.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const m=zN(u,e,p,new J6(e.name,r));return new GN(m,e)}function HN(e,t){const r=zg[t];(!r||r[e.key]!==e)&&Xs(`Database ${t}(${e.repoInfo_}) has already been deleted.`),IN(e),delete r[e.key]}function zN(e,t,r,n){let i=zg[t.name];i||(i={},zg[t.name]=i);let a=i[e.toURLString()];return a&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new EN(e,jN,r,n),i[e.toURLString()]=a,a}class GN{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qs(this._repo,Wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xs("Cannot call "+t+" on a deleted database.")}}function XN(e=NC(),t){const r=tu(e,"database").getImmediate({identifier:t});if(!r._instanceStarted){const n=fI("database");n&&$N(r,...n)}return r}function $N(e,t,r,n={}){e=Ks(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Xs("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let a;if(i.repoInfo_.nodeAdmin)n.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new xf(xf.OWNER);else if(n.mockUserToken){const l=typeof n.mockUserToken=="string"?n.mockUserToken:hI(n.mockUserToken,e.app.options.projectId);a=new xf(l)}WN(i,t,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(e){B6(k6),Pa(new zs("database",(t,{instanceIdentifier:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return VN(n,i,a,r)},"PUBLIC").setMultipleInstances(!0)),_s(Rw,Nw,e),_s(Rw,Nw,"esm2017")}Ms.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ms.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};YN();var KN="firebase",qN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(KN,qN,"app");const $3="@firebase/installations",Hx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=1e4,K3=`w:${Hx}`,q3="FIS_v2",ZN="https://firebaseinstallations.googleapis.com/v1",QN=60*60*1e3,JN="installations",eO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ao=new Xh(JN,eO,tO);function Z3(e){return e instanceof Fo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3({projectId:e}){return`${ZN}/projects/${e}/installations`}function J3(e){return{token:e.token,requestStatus:2,expiresIn:nO(e.expiresIn),creationTime:Date.now()}}async function eA(e,t){const n=(await t.json()).error;return Ao.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function tA({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function rO(e,{refreshToken:t}){const r=tA(e);return r.append("Authorization",iO(t)),r}async function rA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function nO(e){return Number(e.replace("s","000"))}function iO(e){return`${q3} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=Q3(e),i=tA(e),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:r,authVersion:q3,appId:e.appId,sdkVersion:K3},u={method:"POST",headers:i,body:JSON.stringify(l)},g=await rA(()=>fetch(n,u));if(g.ok){const p=await g.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:J3(p.authToken)}}else throw await eA("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^[cdef][\w-]{21}$/,Gg="";function lO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=cO(e);return oO.test(r)?r:Gg}catch{return Gg}}function cO(e){return aO(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Map;function sA(e,t){const r=id(e);aA(r,t),uO(r,t)}function aA(e,t){const r=iA.get(e);if(r)for(const n of r)n(t)}function uO(e,t){const r=fO();r&&r.postMessage({key:e,fid:t}),hO()}let lo=null;function fO(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=e=>{aA(e.data.key,e.data.fid)}),lo}function hO(){iA.size===0&&lo&&(lo.close(),lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="firebase-installations-database",gO=1,So="firebase-installations-store";let h1=null;function zx(){return h1||(h1=IC(dO,gO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(So)}}})),h1}async function ih(e,t){const r=id(e),i=(await zx()).transaction(So,"readwrite"),a=i.objectStore(So),l=await a.get(r);return await a.put(t,r),await i.done,(!l||l.fid!==t.fid)&&sA(e,t.fid),t}async function oA(e){const t=id(e),n=(await zx()).transaction(So,"readwrite");await n.objectStore(So).delete(t),await n.done}async function sd(e,t){const r=id(e),i=(await zx()).transaction(So,"readwrite"),a=i.objectStore(So),l=await a.get(r),u=t(l);return u===void 0?await a.delete(r):await a.put(u,r),await i.done,u&&(!l||l.fid!==u.fid)&&sA(e,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(e){let t;const r=await sd(e.appConfig,n=>{const i=pO(n),a=xO(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===Gg?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function pO(e){const t=e||{fid:lO(),registrationStatus:0};return lA(t)}function xO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ao.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=mO(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:wO(e)}:{installationEntry:t}}async function mO(e,t){try{const r=await sO(e,t);return ih(e.appConfig,r)}catch(r){throw Z3(r)&&r.customData.serverCode===409?await oA(e.appConfig):await ih(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function wO(e){let t=await cv(e.appConfig);for(;t.registrationStatus===1;)await nA(100),t=await cv(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Gx(e);return n||r}return t}function cv(e){return sd(e,t=>{if(!t)throw Ao.create("installation-not-found");return lA(t)})}function lA(e){return vO(e)?{fid:e.fid,registrationStatus:0}:e}function vO(e){return e.registrationStatus===1&&e.registrationTime+Y3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO({appConfig:e,heartbeatServiceProvider:t},r){const n=_O(e,r),i=rO(e,r),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:K3,appId:e.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},g=await rA(()=>fetch(n,u));if(g.ok){const p=await g.json();return J3(p)}else throw await eA("Generate Auth Token",g)}function _O(e,{fid:t}){return`${Q3(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(e,t=!1){let r;const n=await sd(e.appConfig,a=>{if(!cA(a))throw Ao.create("not-registered");const l=a.authToken;if(!t&&AO(l))return a;if(l.requestStatus===1)return r=EO(e,t),a;{if(!navigator.onLine)throw Ao.create("app-offline");const u=TO(a);return r=CO(e,u),u}});return r?await r:n.authToken}async function EO(e,t){let r=await uv(e.appConfig);for(;r.authToken.requestStatus===1;)await nA(100),r=await uv(e.appConfig);const n=r.authToken;return n.requestStatus===0?Xx(e,t):n}function uv(e){return sd(e,t=>{if(!cA(t))throw Ao.create("not-registered");const r=t.authToken;return kO(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function CO(e,t){try{const r=await yO(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await ih(e.appConfig,n),r}catch(r){if(Z3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await oA(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ih(e.appConfig,n)}throw r}}function cA(e){return e!==void 0&&e.registrationStatus===2}function AO(e){return e.requestStatus===2&&!SO(e)}function SO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+QN}function TO(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function kO(e){return e.requestStatus===1&&e.requestTime+Y3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(e){const t=e,{installationEntry:r,registrationPromise:n}=await Gx(t);return n?n.catch(console.error):Xx(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(e,t=!1){const r=e;return await RO(r),(await Xx(r,t)).token}async function RO(e){const{registrationPromise:t}=await Gx(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(e){if(!e||!e.options)throw d1("App Configuration");if(!e.name)throw d1("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw d1(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function d1(e){return Ao.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="installations",OO="installations-internal",DO=e=>{const t=e.getProvider("app").getImmediate(),r=NO(t),n=tu(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},FO=e=>{const t=e.getProvider("app").getImmediate(),r=tu(t,uA).getImmediate();return{getId:()=>bO(r),getToken:i=>IO(r,i)}};function PO(){Pa(new zs(uA,DO,"PUBLIC")),Pa(new zs(OO,FO,"PRIVATE"))}PO();_s($3,Hx);_s($3,Hx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="analytics",MO="firebase_id",BO="origin",LO=60*1e3,UO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$x="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new ax("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mi=new Xh("analytics","Analytics",jO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e){if(!e.startsWith($x)){const t=mi.create("invalid-gtag-resource",{gtagURL:e});return oi.warn(t.message),""}return e}function fA(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function VO(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function HO(e,t){const r=VO("firebase-js-sdk-policy",{createScriptURL:WO}),n=document.createElement("script"),i=`${$x}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function zO(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function GO(e,t,r,n,i,a){const l=n[i];try{if(l)await t[l];else{const g=(await fA(r)).find(p=>p.measurementId===i);g&&await t[g.appId]}}catch(u){oi.error(u)}e("config",i,a)}async function XO(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await fA(r);for(const g of l){const p=u.find(v=>v.measurementId===g),m=p&&t[p.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){oi.error(a)}}function $O(e,t,r,n){async function i(a,...l){try{if(a==="event"){const[u,g]=l;await XO(e,t,r,u,g)}else if(a==="config"){const[u,g]=l;await GO(e,t,r,n,u,g)}else if(a==="consent"){const[u,g]=l;e("consent",u,g)}else if(a==="get"){const[u,g,p]=l;e("get",u,g,p)}else if(a==="set"){const[u]=l;e("set",u)}else e(a,...l)}catch(u){oi.error(u)}}return i}function YO(e,t,r,n,i){let a=function(...l){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=$O(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function KO(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes($x)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=30,ZO=1e3;class QO{constructor(t={},r=ZO){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const hA=new QO;function JO(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function e7(e){var t;const{appId:r,apiKey:n}=e,i={method:"GET",headers:JO(n)},a=UO.replace("{app-id}",r),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const g=await l.json();!((t=g.error)===null||t===void 0)&&t.message&&(u=g.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function t7(e,t=hA,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw mi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw mi.create("no-api-key")}const l=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new i7;return setTimeout(async()=>{u.abort()},LO),dA({appId:n,apiKey:i,measurementId:a},l,u,t)}async function dA(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=hA){var a;const{appId:l,measurementId:u}=e;try{await r7(n,t)}catch(g){if(u)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:u};throw g}try{const g=await e7(e);return i.deleteThrottleMetadata(l),g}catch(g){const p=g;if(!n7(p)){if(i.deleteThrottleMetadata(l),u)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:u};throw g}const m=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?yw(r,i.intervalMillis,qO):yw(r,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return i.setThrottleMetadata(l,v),oi.debug(`Calling attemptFetch again in ${m} millis`),dA(e,v,n,i)}}function r7(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(mi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function n7(e){if(!(e instanceof Fo)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class i7{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function s7(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,l=Object.assign(Object.assign({},n),{send_to:a});e("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(){if(AC())try{await SC()}catch(e){return oi.warn(mi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return oi.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function o7(e,t,r,n,i,a,l){var u;const g=t7(e);g.then(E=>{r[E.measurementId]=E.appId,e.options.measurementId&&E.measurementId!==e.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>oi.error(E)),t.push(g);const p=a7().then(E=>{if(E)return n.getId()}),[m,v]=await Promise.all([g,p]);KO(a)||HO(a,m.measurementId),i("js",new Date);const _=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return _[BO]="firebase",_.update=!0,v!=null&&(_[MO]=v),i("config",m.measurementId,_),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(t){this.app=t}_delete(){return delete Qc[this.app.options.appId],Promise.resolve()}}let Qc={},fv=[];const hv={};let g1="dataLayer",c7="gtag",dv,gA,gv=!1;function u7(){const e=[];if(gI()&&e.push("This is a browser extension environment."),mI()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=mi.create("invalid-analytics-context",{errorInfo:t});oi.warn(r.message)}}function f7(e,t,r){u7();const n=e.options.appId;if(!n)throw mi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mi.create("no-api-key");if(Qc[n]!=null)throw mi.create("already-exists",{id:n});if(!gv){zO(g1);const{wrappedGtag:a,gtagCore:l}=YO(Qc,fv,hv,g1,c7);gA=a,dv=l,gv=!0}return Qc[n]=o7(e,fv,hv,t,dv,g1,r),new l7(e)}function h7(e=NC()){e=Ks(e);const t=tu(e,sh);return t.isInitialized()?t.getImmediate():d7(e)}function d7(e,t={}){const r=tu(e,sh);if(r.isInitialized()){const i=r.getImmediate();if(zf(t,r.getOptions()))return i;throw mi.create("already-initialized")}return r.initialize({options:t})}function g7(e,t,r,n){e=Ks(e),s7(gA,Qc[e.app.options.appId],t,r,n).catch(i=>oi.error(i))}const pv="@firebase/analytics",xv="0.10.8";function p7(){Pa(new zs(sh,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return f7(n,i,r)},"PUBLIC")),Pa(new zs("analytics-internal",e,"PRIVATE")),_s(pv,xv),_s(pv,xv,"esm2017");function e(t){try{const r=t.getProvider(sh).getImmediate();return{logEvent:(n,i,a)=>g7(r,n,i,a)}}catch(r){throw mi.create("interop-component-reg-failed",{reason:r})}}}p7();const x7={apiKey:"AIzaSyBVLs9aP79sEfYy9EjtUan6J5jOX21AoNU",authDomain:"iqos-d3074.firebaseapp.com",databaseURL:"https://iqos-d3074-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"iqos-d3074",storageBucket:"iqos-d3074.firebasestorage.app",messagingSenderId:"928334092425",appId:"1:928334092425:web:3b6d5898ab46d835854e58",measurementId:"G-JN7DT8HRGN"},pA=RC(x7);h7(pA);const At=XN(pA),Jr={createProduct:async e=>{try{const t=Ct(At,"products"),r=oo(t),n=e.useBarcode!==!1,i={id:r.key,...e,stock:n?0:e.stock,createdAt:Date.now(),updatedAt:Date.now()};if(await ti(r,i),n){const a=Ct(At,`productUnits/${r.key}`);await ti(a,{})}return i}catch(t){throw new Error(`Error creating product: ${t.message}`)}},getUnitsWithBarcodeCount:async e=>{try{const t=Ct(At,`productUnits/${e}`),r=await Br(t);return r.exists()?Object.values(r.val()).filter(i=>i.barcode).length:0}catch(t){throw new Error(`Error getting units count: ${t.message}`)}},getReadyStock:async e=>{try{const t=Ct(At,`products/${e}`),r=await Br(t);if(!r.exists())return 0;const n=r.val();if(n.useBarcode===!1)return n.stock||0;const i=Ct(At,`productUnits/${e}`),a=await Br(i);return a.exists()?Object.values(a.val()).filter(u=>u.barcode&&u.status==="in_stock").length:0}catch(t){throw new Error(`Error getting ready stock: ${t.message}`)}},updateProductStockFromUnits:async e=>{try{const t=Ct(At,`productUnits/${e}`),r=await Br(t);let n=0;r.exists()&&(n=Object.values(r.val()).filter(l=>l&&l.status==="in_stock").length);const i=Ct(At,`products/${e}`);return await to(i,{stock:n,updatedAt:Date.now()}),n}catch(t){throw new Error(`Error updating product stock: ${t.message}`)}},getAllProducts:async()=>{try{const e=Ct(At,"products"),t=await Br(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching products: ${e.message}`)}},getProductById:async e=>{try{const t=Ct(At,`products/${e}`),r=await Br(t);return r.exists()?r.val():null}catch(t){throw new Error(`Error fetching product: ${t.message}`)}},getProductByBarcode:async e=>{try{const t=Ct(At,"products"),r=await Br(t);if(r.exists()){const n=Object.values(r.val());for(const i of n){const a=Ct(At,`productUnits/${i.id}`),l=await Br(a);if(l.exists()){const g=Object.values(l.val()).find(p=>p.barcode===e);if(g)return{...i,matchedUnitId:g.unitId}}}}return null}catch(t){throw new Error(`Error fetching product by barcode: ${t.message}`)}},addBarcodeToProduct:async(e,t)=>{try{if(!t)throw new Error("Barcode is required");const r=Ct(At,`products/${e}`),n=await Br(r);if(!n.exists())throw new Error("Product not found");if(n.val().useBarcode===!1)throw new Error("Product tidak menggunakan barcode");const a=await Br(Ct(At,"productUnits"));if(a.exists()){const p=Object.values(a.val());for(const m of p)if(Object.values(m||{}).some(_=>_&&_.barcode===t))throw new Error("Barcode sudah dipakai unit lain")}const l=Ct(At,`productUnits/${e}`),u=await Br(l);let g;if(u.exists()){const p=u.val(),m=Object.values(p).find(v=>v&&!v.barcode&&v.status==="in_stock");m&&(g=Ct(At,`productUnits/${e}/${m.unitId}`))}if(!g){const p=oo(l);await ti(p,{unitId:p.key,productId:e,barcode:null,status:"in_stock",createdAt:Date.now()}),g=p}return await to(g,{barcode:t,updatedAt:Date.now()}),await Jr.updateProductStockFromUnits(e),!0}catch(r){throw new Error(`Error adding barcode: ${r.message}`)}},updateProduct:async(e,t)=>{try{const r=Ct(At,`products/${e}`),n={...t,updatedAt:Date.now()};return await to(r,n),!0}catch(r){throw new Error(`Error updating product: ${r.message}`)}},deleteProduct:async e=>{try{const t=Ct(At,`products/${e}`);return await X3(t),!0}catch(t){throw new Error(`Error deleting product: ${t.message}`)}},updateStock:async(e,t,r,n)=>{try{const i=Ct(At,`products/${e}`),a=await Br(i);if(!a.exists())throw new Error("Product not found");const l=a.val(),u=l.stock+t;if(u<0)throw new Error("Insufficient stock");await to(i,{stock:u,updatedAt:Date.now()});const g=Ct(At,"stockMovements"),p=oo(g),m={id:p.key,productId:e,productName:l.name,type:t>0?"in":"out",quantity:Math.abs(t),reason:r,referenceId:n,createdAt:Date.now()};return await ti(p,m),!0}catch(i){throw new Error(`Error updating stock: ${i.message}`)}},updateStockAndMarkUnitsSold:async(e,t,r)=>{try{const n=Ct(At,`products/${e}`),i=await Br(n);if(!i.exists())throw new Error("Product not found");const a=i.val();if(a.useBarcode!==!1){const p=Ct(At,`productUnits/${e}`),m=await Br(p);if(m.exists()){const v=m.val(),_=Object.values(v).filter(A=>A.status==="in_stock");if(_.length<t)throw new Error(`Insufficient units available. Available: ${_.length}, Requested: ${t}`);let E=0;for(const[A,C]of Object.entries(v))C.status==="in_stock"&&E<t&&(await to(Ct(At,`productUnits/${e}/${A}`),{status:"sold",soldAt:Date.now(),saleId:r,updatedAt:Date.now()}),E++);await Jr.updateProductStockFromUnits(e)}}else{const p=a.stock-t;if(p<0)throw new Error("Insufficient stock");await to(n,{stock:p,updatedAt:Date.now()})}const l=Ct(At,"stockMovements"),u=oo(l),g={id:u.key,productId:e,productName:a.name,type:"out",quantity:t,reason:"sale",referenceId:r,createdAt:Date.now()};return await ti(u,g),!0}catch(n){throw new Error(`Error updating stock: ${n.message}`)}}},xA={createSale:async e=>{try{const t=Ct(At,"sales"),r=oo(t),n={id:r.key,...e,createdAt:Date.now(),status:"completed"};await ti(r,n);for(const i of e.items)await Jr.updateStockAndMarkUnitsSold(i.productId,i.quantity,r.key);return n}catch(t){throw new Error(`Error creating sale: ${t.message}`)}},getAllSales:async()=>{try{const e=Ct(At,"sales"),t=await Br(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching sales: ${e.message}`)}},getSaleById:async e=>{try{const t=Ct(At,`sales/${e}`),r=await Br(t);return r.exists()?r.val():null}catch(t){throw new Error(`Error fetching sale: ${t.message}`)}}},Gu={getAllCategories:async()=>{try{const e=Ct(At,"categories"),t=await Br(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching categories: ${e.message}`)}},createCategory:async e=>{try{const t=Ct(At,"categories"),r=oo(t),n={id:r.key,name:e.name,createdAt:Date.now(),updatedAt:Date.now()};return await ti(r,n),n}catch(t){throw new Error(`Error creating category: ${t.message}`)}},updateCategory:async(e,t)=>{try{const r=Ct(At,`categories/${e}`),n={...t,updatedAt:Date.now()};return await to(r,n),!0}catch(r){throw new Error(`Error updating category: ${r.message}`)}},deleteCategory:async e=>{try{const t=Ct(At,`categories/${e}`);return await X3(t),!0}catch(t){throw new Error(`Error deleting category: ${t.message}`)}},getCategoriesFromProducts:async()=>{try{const e=Ct(At,"products"),t=await Br(e);if(t.exists()){const r=Object.values(t.val());return[...new Set(r.map(i=>i.category).filter(Boolean))].map(i=>({name:i}))}return[]}catch(e){throw new Error(`Error fetching categories from products: ${e.message}`)}}};var $e;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($e||($e={}));var mv=new Map([[$e.QR_CODE,"QR_CODE"],[$e.AZTEC,"AZTEC"],[$e.CODABAR,"CODABAR"],[$e.CODE_39,"CODE_39"],[$e.CODE_93,"CODE_93"],[$e.CODE_128,"CODE_128"],[$e.DATA_MATRIX,"DATA_MATRIX"],[$e.MAXICODE,"MAXICODE"],[$e.ITF,"ITF"],[$e.EAN_13,"EAN_13"],[$e.EAN_8,"EAN_8"],[$e.PDF_417,"PDF_417"],[$e.RSS_14,"RSS_14"],[$e.RSS_EXPANDED,"RSS_EXPANDED"],[$e.UPC_A,"UPC_A"],[$e.UPC_E,"UPC_E"],[$e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),wv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(wv||(wv={}));function m7(e){return Object.values($e).includes(e)}var ah;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ah||(ah={}));var w7=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ah.SCAN_TYPE_CAMERA,ah.SCAN_TYPE_FILE],e}(),mA=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!mv.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,mv.get(t))},e}(),vv=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Xg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Xg||(Xg={}));var v7=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Xg.UNKWOWN_ERROR}},e}(),y7=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function bs(e){return typeof e>"u"||e===null}var gl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),wA=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),l=Object.keys(t),u=0,g=l;u<g.length;u++){var p=g[u];if(a.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),$g={exports:{}};(function(e,t){(function(r,n){n(t)})(pc,function(r){function n(R){return R==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,s){R.__proto__=s}||function(R,s){for(var o in s)s.hasOwnProperty(o)&&(R[o]=s[o])};function a(R,s){i(R,s);function o(){this.constructor=R}R.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function l(R,s){var o=Object.setPrototypeOf;o?o(R,s):R.__proto__=s}function u(R,s){s===void 0&&(s=R.constructor);var o=Error.captureStackTrace;o&&o(R,s)}var g=function(R){a(s,R);function s(o){var c=this.constructor,f=R.call(this,o)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),l(f,c.prototype),u(f),f}return s}(Error);class p extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class m extends p{}m.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,f){const h=this.binarizer.getLuminanceSource().crop(s,o,c,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends p{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(s,o,c,f,h){for(;h--;)c[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class I extends p{}I.kind="IndexOutOfBoundsException";class b extends I{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}b.kind="ArrayIndexOutOfBoundsException";class k{static fill(s,o){for(let c=0,f=s.length;c<f;c++)s[c]=o}static fillWithin(s,o,c,f){k.rangeCheck(s.length,o,c);for(let h=o;h<c;h++)s[h]=f}static rangeCheck(s,o,c){if(o>c)throw new v("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new b(o);if(c>s)throw new b(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(h=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(h=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const f=c-o,h=new Int32Array(f);return C.arraycopy(s,o,h,0,f),h}static binarySearch(s,o,c){c===void 0&&(c=k.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const d=h+f>>1,x=c(o,s[d]);if(x>0)f=d+1;else if(x<0)h=d-1;else return d}return-f-1}static numberComparator(s,o){return s-o}}class S{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=B.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=B.makeArray(s);C.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=c[f];h&=~((1<<(s&31))-1);const d=c.length;for(;h===0;){if(++f===d)return o;h=c[f]}const x=f*32+S.numberOfTrailingZeros(h);return x>o?o:x}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=~c[f];h&=~((1<<(s&31))-1);const d=c.length;for(;h===0;){if(++f===d)return o;h=~c[f]}const x=f*32+S.numberOfTrailingZeros(h);return x>o?o:x}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new v;if(o===s)return;o--;const c=Math.floor(s/32),f=Math.floor(o/32),h=this.bits;for(let d=c;d<=f;d++){const x=d>c?0:s&31,y=(2<<(d<f?31:o&31))-(1<<x);h[d]|=y}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new v;if(o===s)return!0;o--;const f=Math.floor(s/32),h=Math.floor(o/32),d=this.bits;for(let x=f;x<=h;x++){const w=x>f?0:s&31,T=(2<<(x<h?31:o&31))-(1<<w)&4294967295;if((d[x]&T)!==(c?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const o=this.bits;for(let c=0,f=o.length;c<f;c++)o[c]^=s.bits[c]}toBytes(s,o,c,f){for(let h=0;h<f;h++){let d=0;for(let x=0;x<8;x++)this.get(s)&&(d|=1<<7-x),s++;o[c+h]=d}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,f=this.bits;for(let h=0;h<c;h++){let d=f[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,s[o-h]=d}if(this.size!==c*32){const h=c*32-this.size;let d=s[0]>>>h;for(let x=1;x<c;x++){const w=s[x];d|=w<<32-h,s[x-1]=d,d=w>>>h}s[c-1]=d}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof B))return!1;const o=s;return this.size===o.size&&k.equals(this.bits,o.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new B(this.size,this.bits.slice())}}var K;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(K||(K={}));var G=K;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var q;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(q||(q={}));class W{constructor(s,o,c,...f){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,W.VALUE_IDENTIFIER_TO_ECI.set(s,this),W.NAME_TO_ECI.set(c,this);const h=this.values;for(let d=0,x=h.length;d!==x;d++){const w=h[d];W.VALUES_TO_ECI.set(w,this)}for(const d of f)W.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new F("incorect value");const o=W.VALUES_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}static getCharacterSetECIByName(s){const o=W.NAME_TO_ECI.get(s);if(o===void 0)throw new F("incorect value");return o}equals(s){if(!(s instanceof W))return!1;const o=s;return this.getName()===o.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(q.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(q.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(q.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(q.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(q.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(q.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(q.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(q.Big5,28,"Big5"),W.GB18030=new W(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(q.EUC_KR,30,"EUC_KR","EUC-KR");class ce extends p{}ce.kind="UnsupportedOperationException";class ue{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!ue.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof W?s:W.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(ue.isDecodeFallbackSupported(c)){let f="";for(let h=0,d=s.length;h<d;h++){let x=s[h].toString(16);x.length<2&&(x="0"+x),f+="%"+x}return decodeURIComponent(f)}if(c.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new ce(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(W.UTF8)||s.equals(W.ISO8859_1)||s.equals(W.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<c.length;h++)f.push(c[h].charCodeAt(0));return new Uint8Array(f)}}class Z{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return ue.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(G.CHARACTER_SET)!==void 0)return o.get(G.CHARACTER_SET).toString();const c=s.length;let f=!0,h=!0,d=!0,x=0,w=0,y=0,T=0,O=0,P=0,z=0,J=0,te=0,he=0,me=0;const Le=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let We=0;We<c&&(f||h||d);We++){const Ie=s[We]&255;d&&(x>0?Ie&128?x--:d=!1:Ie&128&&(Ie&64?(x++,Ie&32?(x++,Ie&16?(x++,Ie&8?d=!1:T++):y++):w++):d=!1)),f&&(Ie>127&&Ie<160?f=!1:Ie>159&&(Ie<192||Ie===215||Ie===247)&&me++),h&&(O>0?Ie<64||Ie===127||Ie>252?h=!1:O--:Ie===128||Ie===160||Ie>239?h=!1:Ie>160&&Ie<224?(P++,J=0,z++,z>te&&(te=z)):Ie>127?(O++,z=0,J++,J>he&&(he=J)):(z=0,J=0))}return d&&x>0&&(d=!1),h&&O>0&&(h=!1),d&&(Le||w+y+T>0)?Z.UTF8:h&&(Z.ASSUME_SHIFT_JIS||te>=3||he>=3)?Z.SHIFT_JIS:f&&h?te===2&&P===2||me*10>=c?Z.SHIFT_JIS:Z.ISO88591:f?Z.ISO88591:h?Z.SHIFT_JIS:d?Z.UTF8:Z.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function f(d,x,w,y,T,O){if(d==="%%")return"%";if(o[++c]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let P=T?parseInt(T.substr(1)):void 0,z;switch(O){case"s":z=o[c];break;case"c":z=o[c][0];break;case"f":z=parseFloat(o[c]).toFixed(d);break;case"p":z=parseFloat(o[c]).toPrecision(d);break;case"e":z=parseFloat(o[c]).toExponential(d);break;case"x":z=parseInt(o[c]).toString(P||16);break;case"d":z=parseFloat(parseInt(o[c],P||10).toPrecision(d)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(P);let J=parseInt(w),te=w&&w[0]+""=="0"?"0":" ";for(;z.length<J;)z=x!==void 0?z+te:te+z;return z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,o){return ue.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}Z.SHIFT_JIS=W.SJIS.getName(),Z.GB2312="GB2312",Z.ISO88591=W.ISO8859_1.getName(),Z.EUC_JP="EUC_JP",Z.UTF8=W.UTF8.getName(),Z.PLATFORM_DEFAULT_ENCODING=Z.UTF8,Z.ASSUME_SHIFT_JIS=!1;class Ee{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=Z.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let f=o;o<o+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class Se{constructor(s,o,c,f){if(this.width=s,this.height=o,this.rowSize=c,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new v("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,f=new Se(c,o);for(let h=0;h<o;h++){const d=s[h];for(let x=0;x<c;x++)d[x]&&f.set(x,h)}return f}static parseFromString(s,o,c){if(s===null)throw new v("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,d=0,x=-1,w=0,y=0;for(;y<s.length;)if(s.charAt(y)===`
`||s.charAt(y)==="\r"){if(h>d){if(x===-1)x=h-d;else if(h-d!==x)throw new v("row lengths do not match");d=h,w++}y++}else if(s.substring(y,y+o.length)===o)y+=o.length,f[h]=!0,h++;else if(s.substring(y,y+c.length)===c)y+=c.length,f[h]=!1,h++;else throw new v("illegal character encountered: "+s.substring(y));if(h>d){if(x===-1)x=h-d;else if(h-d!==x)throw new v("row lengths do not match");w++}const T=new Se(x,w);for(let O=0;O<h;O++)f[O]&&T.set(Math.floor(O%x),Math.floor(O/x));return T}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const o=new B(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let h=0,d=this.height;h<d;h++){const x=h*c,w=s.getRow(h,o).getBitArray();for(let y=0;y<c;y++)f[x+y]^=w[y]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,f){if(o<0||s<0)throw new v("Left and top must be nonnegative");if(f<1||c<1)throw new v("Height and width must be at least 1");const h=s+c,d=o+f;if(d>this.height||h>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,w=this.bits;for(let y=o;y<d;y++){const T=y*x;for(let O=s;O<h;O++)w[T+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new B(this.width):o.clear();const c=this.rowSize,f=this.bits,h=s*c;for(let d=0;d<c;d++)o.setBulk(d*32,f[h+d]);return o}setRow(s,o){C.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new B(s),f=new B(s);for(let h=0,d=Math.floor((o+1)/2);h<d;h++)c=this.getRow(h,c),f=this.getRow(o-1-h,f),c.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,f=this.bits;let h=s,d=o,x=-1,w=-1;for(let y=0;y<o;y++)for(let T=0;T<c;T++){const O=f[y*c+T];if(O!==0){if(y<d&&(d=y),y>w&&(w=y),T*32<h){let P=0;for(;!(O<<31-P&4294967295);)P++;T*32+P<h&&(h=T*32+P)}if(T*32+31>x){let P=31;for(;!(O>>>P);)P--;T*32+P>x&&(x=T*32+P)}}}return x<h||w<d?null:Int32Array.from([h,d,x-h+1,w-d+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const f=c/s;let h=c%s*32;const d=o[c];let x=0;for(;!(d<<31-x&4294967295);)x++;return h+=x,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let h=Math.floor(c%s)*32;const d=o[c];let x=31;for(;!(d>>>x);)x--;return h+=x,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Se))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&k.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+k.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let f=new Ee;for(let h=0,d=this.height;h<d;h++){for(let x=0,w=this.width;x<w;x++)f.append(this.get(x,h)?s:o);f.append(c)}return f.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends p{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Fe extends A{constructor(s){super(s),this.luminances=Fe.EMPTY,this.buckets=new Int32Array(Fe.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),f=c.getWidth();o==null||o.getSize()<f?o=new B(f):o.clear(),this.initArrays(f);const h=c.getRow(s,this.luminances),d=this.buckets;for(let w=0;w<f;w++)d[(h[w]&255)>>Fe.LUMINANCE_SHIFT]++;const x=Fe.estimateBlackPoint(d);if(f<3)for(let w=0;w<f;w++)(h[w]&255)<x&&o.set(w);else{let w=h[0]&255,y=h[1]&255;for(let T=1;T<f-1;T++){const O=h[T+1]&255;(y*4-w-O)/2<x&&o.set(T),w=y,y=O}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),f=new Se(o,c);this.initArrays(o);const h=this.buckets;for(let w=1;w<5;w++){const y=Math.floor(c*w/5),T=s.getRow(y,this.luminances),O=Math.floor(o*4/5);for(let P=Math.floor(o/5);P<O;P++){const z=T[P]&255;h[z>>Fe.LUMINANCE_SHIFT]++}}const d=Fe.estimateBlackPoint(h),x=s.getMatrix();for(let w=0;w<c;w++){const y=w*o;for(let T=0;T<o;T++)(x[y+T]&255)<d&&f.set(T,w)}return f}createBinarizer(s){return new Fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<Fe.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,f=0,h=0;for(let T=0;T<o;T++)s[T]>h&&(f=T,h=s[T]),s[T]>c&&(c=s[T]);let d=0,x=0;for(let T=0;T<o;T++){const O=T-f,P=s[T]*O*O;P>x&&(d=T,x=P)}if(f>d){const T=f;f=d,d=T}if(d-f<=o/16)throw new ee;let w=d-1,y=-1;for(let T=d-1;T>f;T--){const O=T-f,P=O*O*(d-T)*(c-s[T]);P>y&&(w=T,y=P)}return w<<Fe.LUMINANCE_SHIFT}}Fe.LUMINANCE_BITS=5,Fe.LUMINANCE_SHIFT=8-Fe.LUMINANCE_BITS,Fe.LUMINANCE_BUCKETS=1<<Fe.LUMINANCE_BITS,Fe.EMPTY=Uint8ClampedArray.from([0]);class Ce extends Fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=Ce.MINIMUM_DIMENSION&&c>=Ce.MINIMUM_DIMENSION){const f=s.getMatrix();let h=o>>Ce.BLOCK_SIZE_POWER;o&Ce.BLOCK_SIZE_MASK&&h++;let d=c>>Ce.BLOCK_SIZE_POWER;c&Ce.BLOCK_SIZE_MASK&&d++;const x=Ce.calculateBlackPoints(f,h,d,o,c),w=new Se(o,c);Ce.calculateThresholdForBlock(f,h,d,o,c,x,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Ce(s)}static calculateThresholdForBlock(s,o,c,f,h,d,x){const w=h-Ce.BLOCK_SIZE,y=f-Ce.BLOCK_SIZE;for(let T=0;T<c;T++){let O=T<<Ce.BLOCK_SIZE_POWER;O>w&&(O=w);const P=Ce.cap(T,2,c-3);for(let z=0;z<o;z++){let J=z<<Ce.BLOCK_SIZE_POWER;J>y&&(J=y);const te=Ce.cap(z,2,o-3);let he=0;for(let Le=-2;Le<=2;Le++){const We=d[P+Le];he+=We[te-2]+We[te-1]+We[te]+We[te+1]+We[te+2]}const me=he/25;Ce.thresholdBlock(s,J,O,me,f,x)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,f,h,d){for(let x=0,w=c*h+o;x<Ce.BLOCK_SIZE;x++,w+=h)for(let y=0;y<Ce.BLOCK_SIZE;y++)(s[w+y]&255)<=f&&d.set(o+y,c+x)}static calculateBlackPoints(s,o,c,f,h){const d=h-Ce.BLOCK_SIZE,x=f-Ce.BLOCK_SIZE,w=new Array(c);for(let y=0;y<c;y++){w[y]=new Int32Array(o);let T=y<<Ce.BLOCK_SIZE_POWER;T>d&&(T=d);for(let O=0;O<o;O++){let P=O<<Ce.BLOCK_SIZE_POWER;P>x&&(P=x);let z=0,J=255,te=0;for(let me=0,Le=T*f+P;me<Ce.BLOCK_SIZE;me++,Le+=f){for(let We=0;We<Ce.BLOCK_SIZE;We++){const Ie=s[Le+We]&255;z+=Ie,Ie<J&&(J=Ie),Ie>te&&(te=Ie)}if(te-J>Ce.MIN_DYNAMIC_RANGE)for(me++,Le+=f;me<Ce.BLOCK_SIZE;me++,Le+=f)for(let We=0;We<Ce.BLOCK_SIZE;We++)z+=s[Le+We]&255}let he=z>>Ce.BLOCK_SIZE_POWER*2;if(te-J<=Ce.MIN_DYNAMIC_RANGE&&(he=J/2,y>0&&O>0)){const me=(w[y-1][O]+2*w[y][O-1]+w[y-1][O-1])/4;J<me&&(he=me)}w[y][O]=he}}return w}}Ce.BLOCK_SIZE_POWER=3,Ce.BLOCK_SIZE=1<<Ce.BLOCK_SIZE_POWER,Ce.BLOCK_SIZE_MASK=Ce.BLOCK_SIZE-1,Ce.MINIMUM_DIMENSION=Ce.BLOCK_SIZE*5,Ce.MIN_DYNAMIC_RANGE=24;class ke{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,f){throw new ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ce("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new Ee;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let h=0;h<this.width;h++){const d=f[h]&255;let x;d<64?x="#":d<128?x="+":d<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class ne extends ke{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),f=this.getWidth();for(let h=0;h<f;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let f=0;f<o;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,f){return new ne(this.delegate.crop(s,o,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ne(this.delegate.rotateCounterClockwise45())}}class be extends ke{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return be.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const f=new Uint8ClampedArray(o*c);for(let h=0,d=0,x=s.length;h<x;h+=4,d++){let w;if(s[h+3]===0)w=255;else{const T=s[h],O=s[h+1],P=s[h+2];w=306*T+601*O+117*P+512>>10}f[d]=w}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return o===null?o=this.buffer.slice(f,f+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(f,f+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,f){return super.crop(s,o,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),f=s*be.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*d),w=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*d);return o.width=x,o.height=w,c.translate(x/2,w/2),c.rotate(f),c.drawImage(this.canvas,h/-2,d/-2),this.buffer=be.makeBufferFromCanvasImageData(o),this}invert(){return new ne(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class oe{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var U=(globalThis||pc||self||window||void 0)&&(globalThis||pc||self||window||void 0).__awaiter||function(R,s,o,c){function f(h){return h instanceof o?h:new o(function(d){d(h)})}return new(o||(o=Promise))(function(h,d){function x(T){try{y(c.next(T))}catch(O){d(O)}}function w(T){try{y(c.throw(T))}catch(O){d(O)}}function y(T){T.done?h(T.value):f(T.value).then(x,w)}y((c=c.apply(R,s||[])).next())})};class ae{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return U(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const h=c.deviceId||c.id,d=c.label||`Video device ${o.length+1}`,x=c.groupId,w={deviceId:h,label:d,kind:f,groupId:x};o.push(w)}return o})}getVideoInputDevices(){return U(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new oe(o.deviceId,o.label))})}findDeviceById(s){return U(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return U(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return U(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return U(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return U(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return U(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return U(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,c)})}decodeFromConstraints(s,o,c){return U(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,c)})}decodeFromStream(s,o,c){return U(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return U(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return U(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new m(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new m(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new m("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new m("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new m("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new m("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new m("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new m("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,o);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return U(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return U(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const f=(h,d)=>{if(this._stopAsyncDecode){d(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);h(x)}catch(x){const w=o&&x instanceof ee,T=(x instanceof E||x instanceof F)&&c;if(w||T)return setTimeout(f,this._timeBetweenDecodingAttempts,h,d);d(x)}};return new Promise((h,d)=>f(h,d))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof E||f instanceof F,d=f instanceof ee;(h||d)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new be(o),f=new Ce(c);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=f+"px",o.width=c,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Q{constructor(s,o,c=o==null?0:8*o.length,f,h,d=C.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=f,this.format=h,this.timestamp=d,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=f,this.format=h,this.resultMetadata=null,d==null?this.timestamp=C.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);C.arraycopy(o,0,c,0,o.length),C.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var re;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(re||(re={}));var ie=re,Pe;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Pe||(Pe={}));var Ae=Pe;class Me{constructor(s,o,c,f,h=-1,d=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Re{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class tt{constructor(s,o){if(o.length===0)throw new v;this.field=s;const c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let d=0,x=o.length;d!==x;d++){const w=o[d];c=Re.addOrSubtract(c,w)}return c}c=o[0];const f=o.length,h=this.field;for(let d=1;d<f;d++)c=Re.addOrSubtract(h.multiply(s,c),o[d]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const d=o;o=c,c=d}let f=new Int32Array(c.length);const h=c.length-o.length;C.arraycopy(c,0,f,0,h);for(let d=h;d<c.length;d++)f[d]=Re.addOrSubtract(o[d-h],c[d]);return new tt(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,d=new Int32Array(c+h-1),x=this.field;for(let w=0;w<c;w++){const y=o[w];for(let T=0;T<h;T++)d[w+T]=Re.addOrSubtract(d[w+T],x.multiply(y,f[T]))}return new tt(x,d)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,f=new Int32Array(o),h=this.coefficients;for(let d=0;d<o;d++)f[d]=c.multiply(h[d],s);return new tt(c,f)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return this.field.getZero();const c=this.coefficients,f=c.length,h=new Int32Array(f+s),d=this.field;for(let x=0;x<f;x++)h[x]=d.multiply(c[x],o);return new tt(d,h)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const o=this.field;let c=o.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),d=o.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const x=f.getDegree()-s.getDegree(),w=o.multiply(f.getCoefficient(f.getDegree()),d),y=s.multiplyByMonomial(x,w),T=o.buildMonomial(x,w);c=c.addOrSubtract(T),f=f.addOrSubtract(y)}return[c,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Y extends p{}Y.kind="ArithmeticException";class qe extends Re{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const f=new Int32Array(o);let h=1;for(let x=0;x<o;x++)f[x]=h,h*=2,h>=o&&(h^=s,h&=o-1);this.expTable=f;const d=new Int32Array(o);for(let x=0;x<o-1;x++)d[f[x]]=x;this.logTable=d,this.zero=new tt(this,Int32Array.from([0])),this.one=new tt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new tt(this,c)}inverse(s){if(s===0)throw new Y;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class mt extends p{}mt.kind="ReedSolomonException";class dt extends p{}dt.kind="IllegalStateException";class Ze{constructor(s){this.field=s}decode(s,o){const c=this.field,f=new tt(c,s),h=new Int32Array(o);let d=!0;for(let z=0;z<o;z++){const J=f.evaluateAt(c.exp(z+c.getGeneratorBase()));h[h.length-1-z]=J,J!==0&&(d=!1)}if(d)return;const x=new tt(c,h),w=this.runEuclideanAlgorithm(c.buildMonomial(o,1),x,o),y=w[0],T=w[1],O=this.findErrorLocations(y),P=this.findErrorMagnitudes(T,O);for(let z=0;z<O.length;z++){const J=s.length-1-c.log(O[z]);if(J<0)throw new mt("Bad error location");s[J]=qe.addOrSubtract(s[J],P[z])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const z=s;s=o,o=z}const f=this.field;let h=s,d=o,x=f.getZero(),w=f.getOne();for(;d.getDegree()>=(c/2|0);){let z=h,J=x;if(h=d,x=w,h.isZero())throw new mt("r_{i-1} was zero");d=z;let te=f.getZero();const he=h.getCoefficient(h.getDegree()),me=f.inverse(he);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const Le=d.getDegree()-h.getDegree(),We=f.multiply(d.getCoefficient(d.getDegree()),me);te=te.addOrSubtract(f.buildMonomial(Le,We)),d=d.addOrSubtract(h.multiplyByMonomial(Le,We))}if(w=te.multiply(x).addOrSubtract(J),d.getDegree()>=h.getDegree())throw new dt("Division algorithm failed to reduce polynomial?")}const y=w.getCoefficient(0);if(y===0)throw new mt("sigmaTilde(0) was zero");const T=f.inverse(y),O=w.multiplyScalar(T),P=d.multiplyScalar(T);return[O,P]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let f=0;const h=this.field;for(let d=1;d<h.getSize()&&f<o;d++)s.evaluateAt(d)===0&&(c[f]=h.inverse(d),f++);if(f!==o)throw new mt("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,f=new Int32Array(c),h=this.field;for(let d=0;d<c;d++){const x=h.inverse(o[d]);let w=1;for(let y=0;y<c;y++)if(d!==y){const T=h.multiply(o[y],x),O=T&1?T&-2:T|1;w=h.multiply(w,O)}f[d]=h.multiply(s.evaluateAt(x),h.inverse(w)),h.getGeneratorBase()!==0&&(f[d]=h.multiply(f[d],x))}return f}}var Ne;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(Ne||(Ne={}));class Je{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),f=this.correctBits(c),h=Je.convertBoolArrayToByteArray(f),d=Je.getEncodedData(f),x=new Me(h,d,null,null);return x.setNumBits(f.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=Ne.UPPER,f=Ne.UPPER,h="",d=0;for(;d<o;)if(f===Ne.BINARY){if(o-d<5)break;let x=Je.readCode(s,d,5);if(d+=5,x===0){if(o-d<11)break;x=Je.readCode(s,d,11)+31,d+=11}for(let w=0;w<x;w++){if(o-d<8){d=o;break}const y=Je.readCode(s,d,8);h+=Z.castAsNonUtf8Char(y),d+=8}f=c}else{let x=f===Ne.DIGIT?4:5;if(o-d<x)break;let w=Je.readCode(s,d,x);d+=x;let y=Je.getCharacter(f,w);y.startsWith("CTRL_")?(c=f,f=Je.getTable(y.charAt(5)),y.charAt(6)==="L"&&(c=f)):(h+=y,f=c)}return h}static getTable(s){switch(s){case"L":return Ne.LOWER;case"P":return Ne.PUNCT;case"M":return Ne.MIXED;case"D":return Ne.DIGIT;case"B":return Ne.BINARY;case"U":default:return Ne.UPPER}}static getCharacter(s,o){switch(s){case Ne.UPPER:return Je.UPPER_TABLE[o];case Ne.LOWER:return Je.LOWER_TABLE[o];case Ne.MIXED:return Je.MIXED_TABLE[o];case Ne.PUNCT:return Je.PUNCT_TABLE[o];case Ne.DIGIT:return Je.DIGIT_TABLE[o];default:throw new dt("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=qe.AZTEC_DATA_10):(c=12,o=qe.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/c;if(h<f)throw new F;let d=s.length%c,x=new Int32Array(h);for(let P=0;P<h;P++,d+=c)x[P]=Je.readCode(s,d,c);try{new Ze(o).decode(x,h-f)}catch(P){throw new F(P)}let w=(1<<c)-1,y=0;for(let P=0;P<f;P++){let z=x[P];if(z===0||z===w)throw new F;(z===1||z===w-1)&&y++}let T=new Array(f*c-y),O=0;for(let P=0;P<f;P++){let z=x[P];if(z===1||z===w-1)T.fill(z>1,O,O+c-1),O+=c-1;else for(let J=c-1;J>=0;--J)T[O++]=(z&1<<J)!==0}return T}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(o?11:14)+c*4,h=new Int32Array(f),d=new Array(this.totalBitsInLayer(c,o));if(o)for(let x=0;x<h.length;x++)h[x]=x;else{let x=f+1+2*S.truncDivision(S.truncDivision(f,2)-1,15),w=f/2,y=S.truncDivision(x,2);for(let T=0;T<w;T++){let O=T+S.truncDivision(T,15);h[w-T-1]=y-O-1,h[w+T]=y+O+1}}for(let x=0,w=0;x<c;x++){let y=(c-x)*4+(o?9:12),T=x*2,O=f-1-T;for(let P=0;P<y;P++){let z=P*2;for(let J=0;J<2;J++)d[w+z+J]=s.get(h[T+J],h[T+P]),d[w+2*y+z+J]=s.get(h[T+P],h[O-J]),d[w+4*y+z+J]=s.get(h[O-J],h[O-P]),d[w+6*y+z+J]=s.get(h[O-P],h[T+J])}w+=y*8}return d}static readCode(s,o,c){let f=0;for(let h=o;h<o+c;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,o){let c=s.length-o;return c>=8?Je.readCode(s,o,8):Je.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=Je.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Je.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Je.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Je.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Je.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Je.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,f){const h=s-c,d=o-f;return Math.sqrt(h*h+d*d)}static sum(s){let o=0;for(let c=0,f=s.length;c!==f;c++){const h=s[c];o+=h}return o}}class Dt{static floatToIntBits(s){return s}}Dt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ge{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ge){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Dt.floatToIntBits(this.x)+Dt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,d,x;if(c>=o&&c>=f?(d=s[0],h=s[1],x=s[2]):f>=c&&f>=o?(d=s[1],h=s[0],x=s[2]):(d=s[2],h=s[0],x=s[1]),this.crossProductZ(h,d,x)<0){const w=h;h=x,x=w}s[0]=h,s[1]=d,s[2]=x}static distance(s,o){return it.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const f=o.x,h=o.y;return(c.x-f)*(s.y-h)-(c.y-h)*(s.x-f)}}class Kn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Bt extends Kn{constructor(s,o,c,f,h){super(s,o),this.compact=c,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class $t{constructor(s,o,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=$t.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=o/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,f=this.downInit,h=!1,d=!0,x=!1,w=!1,y=!1,T=!1,O=!1;const P=this.width,z=this.height;for(;d;){d=!1;let J=!0;for(;(J||!w)&&o<P;)J=this.containsBlackPoint(c,f,o,!1),J?(o++,d=!0,w=!0):w||o++;if(o>=P){h=!0;break}let te=!0;for(;(te||!y)&&f<z;)te=this.containsBlackPoint(s,o,f,!0),te?(f++,d=!0,y=!0):y||f++;if(f>=z){h=!0;break}let he=!0;for(;(he||!T)&&s>=0;)he=this.containsBlackPoint(c,f,s,!1),he?(s--,d=!0,T=!0):T||s--;if(s<0){h=!0;break}let me=!0;for(;(me||!O)&&c>=0;)me=this.containsBlackPoint(s,o,c,!0),me?(c--,d=!0,O=!0):O||c--;if(c<0){h=!0;break}d&&(x=!0)}if(!h&&x){const J=o-s;let te=null;for(let We=1;te===null&&We<J;We++)te=this.getBlackPointOnSegment(s,f-We,s+We,f);if(te==null)throw new ee;let he=null;for(let We=1;he===null&&We<J;We++)he=this.getBlackPointOnSegment(s,c+We,s+We,c);if(he==null)throw new ee;let me=null;for(let We=1;me===null&&We<J;We++)me=this.getBlackPointOnSegment(o,c+We,o-We,c);if(me==null)throw new ee;let Le=null;for(let We=1;Le===null&&We<J;We++)Le=this.getBlackPointOnSegment(o,f-We,o-We,f);if(Le==null)throw new ee;return this.centerEdges(Le,te,me,he)}else throw new ee}getBlackPointOnSegment(s,o,c,f){const h=it.round(it.distance(s,o,c,f)),d=(c-s)/h,x=(f-o)/h,w=this.image;for(let y=0;y<h;y++){const T=it.round(s+y*d),O=it.round(o+y*x);if(w.get(T,O))return new Ge(T,O)}return null}centerEdges(s,o,c,f){const h=s.getX(),d=s.getY(),x=o.getX(),w=o.getY(),y=c.getX(),T=c.getY(),O=f.getX(),P=f.getY(),z=$t.CORR;return h<this.width/2?[new Ge(O-z,P+z),new Ge(x+z,w+z),new Ge(y-z,T-z),new Ge(h+z,d-z)]:[new Ge(O+z,P+z),new Ge(x+z,w-z),new Ge(y-z,T+z),new Ge(h-z,d-z)]}containsBlackPoint(s,o,c,f){const h=this.image;if(f){for(let d=s;d<=o;d++)if(h.get(d,c))return!0}else for(let d=s;d<=o;d++)if(h.get(c,d))return!0;return!1}}$t.INIT_SIZE=10,$t.CORR=1;class Dr{static checkAndNudgePoints(s,o){const c=s.getWidth(),f=s.getHeight();let h=!0;for(let d=0;d<o.length&&h;d+=2){const x=Math.floor(o[d]),w=Math.floor(o[d+1]);if(x<-1||x>c||w<-1||w>f)throw new ee;h=!1,x===-1?(o[d]=0,h=!0):x===c&&(o[d]=c-1,h=!0),w===-1?(o[d+1]=0,h=!0):w===f&&(o[d+1]=f-1,h=!0)}h=!0;for(let d=o.length-2;d>=0&&h;d-=2){const x=Math.floor(o[d]),w=Math.floor(o[d+1]);if(x<-1||x>c||w<-1||w>f)throw new ee;h=!1,x===-1?(o[d]=0,h=!0):x===c&&(o[d]=c-1,h=!0),w===-1?(o[d+1]=0,h=!0):w===f&&(o[d+1]=f-1,h=!0)}}}class dr{constructor(s,o,c,f,h,d,x,w,y){this.a11=s,this.a21=o,this.a31=c,this.a12=f,this.a22=h,this.a32=d,this.a13=x,this.a23=w,this.a33=y}static quadrilateralToQuadrilateral(s,o,c,f,h,d,x,w,y,T,O,P,z,J,te,he){const me=dr.quadrilateralToSquare(s,o,c,f,h,d,x,w);return dr.squareToQuadrilateral(y,T,O,P,z,J,te,he).times(me)}transformPoints(s){const o=s.length,c=this.a11,f=this.a12,h=this.a13,d=this.a21,x=this.a22,w=this.a23,y=this.a31,T=this.a32,O=this.a33;for(let P=0;P<o;P+=2){const z=s[P],J=s[P+1],te=h*z+w*J+O;s[P]=(c*z+d*J+y)/te,s[P+1]=(f*z+x*J+T)/te}}transformPointsWithValues(s,o){const c=this.a11,f=this.a12,h=this.a13,d=this.a21,x=this.a22,w=this.a23,y=this.a31,T=this.a32,O=this.a33,P=s.length;for(let z=0;z<P;z++){const J=s[z],te=o[z],he=h*J+w*te+O;s[z]=(c*J+d*te+y)/he,o[z]=(f*J+x*te+T)/he}}static squareToQuadrilateral(s,o,c,f,h,d,x,w){const y=s-c+h-x,T=o-f+d-w;if(y===0&&T===0)return new dr(c-s,h-c,s,f-o,d-f,o,0,0,1);{const O=c-h,P=x-h,z=f-d,J=w-d,te=O*J-P*z,he=(y*J-P*T)/te,me=(O*T-y*z)/te;return new dr(c-s+he*c,x-s+me*x,s,f-o+he*f,w-o+me*w,o,he,me,1)}}static quadrilateralToSquare(s,o,c,f,h,d,x,w){return dr.squareToQuadrilateral(s,o,c,f,h,d,x,w).buildAdjoint()}buildAdjoint(){return new dr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new dr(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Fn extends Dr{sampleGrid(s,o,c,f,h,d,x,w,y,T,O,P,z,J,te,he,me,Le,We){const Ie=dr.quadrilateralToQuadrilateral(f,h,d,x,w,y,T,O,P,z,J,te,he,me,Le,We);return this.sampleGridWithTransform(s,o,c,Ie)}sampleGridWithTransform(s,o,c,f){if(o<=0||c<=0)throw new ee;const h=new Se(o,c),d=new Float32Array(2*o);for(let x=0;x<c;x++){const w=d.length,y=x+.5;for(let T=0;T<w;T+=2)d[T]=T/2+.5,d[T+1]=y;f.transformPoints(d),Dr.checkAndNudgePoints(s,d);try{for(let T=0;T<w;T+=2)s.get(Math.floor(d[T]),Math.floor(d[T+1]))&&h.set(T/2,x)}catch{throw new ee}}return h}}class er{static setGridSampler(s){er.gridSampler=s}static getInstance(){return er.gridSampler}}er.gridSampler=new Fn;class Gt{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ut{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let d=c[0];c[0]=c[2],c[2]=d}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new Bt(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ee;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let f=0;for(let d=0;d<4;d++){let x=c[(this.shift+d)%4];this.compact?(f<<=7,f+=x>>1&127):(f<<=10,f+=(x>>2&992)+(x>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,o){let c=0;s.forEach((f,h,d)=>{let x=(f>>o-2<<1)+(f&1);c=(c<<3)+x}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(S.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ee}getCorrectedParameterData(s,o){let c,f;o?(c=7,f=2):(c=10,f=4);let h=c-f,d=new Int32Array(c);for(let w=c-1;w>=0;--w)d[w]=s&15,s>>=4;try{new Ze(qe.AZTEC_PARAM).decode(d,h)}catch{throw new ee}let x=0;for(let w=0;w<f;w++)x=(x<<4)+d[w];return x}getBullsEyeCorners(s){let o=s,c=s,f=s,h=s,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(o,d,1,-1),P=this.getFirstDifferent(c,d,1,1),z=this.getFirstDifferent(f,d,-1,1),J=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let te=this.distancePoint(J,O)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if(te<.75||te>1.25||!this.isWhiteOrBlackRectangle(O,P,z,J))break}o=O,c=P,f=z,h=J,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let x=new Ge(o.getX()+.5,o.getY()-.5),w=new Ge(c.getX()+.5,c.getY()+.5),y=new Ge(f.getX()-.5,f.getY()+.5),T=new Ge(h.getX()-.5,h.getY()-.5);return this.expandSquare([x,w,y,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,f;try{let x=new $t(this.image).detect();s=x[0],o=x[1],c=x[2],f=x[3]}catch{let w=this.image.getWidth()/2,y=this.image.getHeight()/2;s=this.getFirstDifferent(new Gt(w+7,y-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Gt(w+7,y+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Gt(w-7,y+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Gt(w-7,y-7),!1,-1,-1).toResultPoint()}let h=it.round((s.getX()+f.getX()+o.getX()+c.getX())/4),d=it.round((s.getY()+f.getY()+o.getY()+c.getY())/4);try{let x=new $t(this.image,15,h,d).detect();s=x[0],o=x[1],c=x[2],f=x[3]}catch{s=this.getFirstDifferent(new Gt(h+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Gt(h+7,d+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Gt(h-7,d+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Gt(h-7,d-7),!1,-1,-1).toResultPoint()}return h=it.round((s.getX()+f.getX()+o.getX()+c.getX())/4),d=it.round((s.getY()+f.getY()+o.getY()+c.getY())/4),new Gt(h,d)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,f,h){let d=er.getInstance(),x=this.getDimension(),w=x/2-this.nbCenterLayers,y=x/2+this.nbCenterLayers;return d.sampleGrid(s,x,x,w,w,y,w,y,y,w,y,o.getX(),o.getY(),c.getX(),c.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,o,c){let f=0,h=this.distanceResultPoint(s,o),d=h/c,x=s.getX(),w=s.getY(),y=d*(o.getX()-s.getX())/h,T=d*(o.getY()-s.getY())/h;for(let O=0;O<c;O++)this.image.get(it.round(x+O*y),it.round(w+O*T))&&(f|=1<<c-O-1);return f}isWhiteOrBlackRectangle(s,o,c,f){let h=3;s=new Gt(s.getX()-h,s.getY()+h),o=new Gt(o.getX()-h,o.getY()-h),c=new Gt(c.getX()+h,c.getY()-h),f=new Gt(f.getX()+h,f.getY()+h);let d=this.getColor(f,s);if(d===0)return!1;let x=this.getColor(s,o);return x!==d||(x=this.getColor(o,c),x!==d)?!1:(x=this.getColor(c,f),x===d)}getColor(s,o){let c=this.distancePoint(s,o),f=(o.getX()-s.getX())/c,h=(o.getY()-s.getY())/c,d=0,x=s.getX(),w=s.getY(),y=this.image.get(s.getX(),s.getY()),T=Math.ceil(c);for(let P=0;P<T;P++)x+=f,w+=h,this.image.get(it.round(x),it.round(w))!==y&&d++;let O=d/c;return O>.1&&O<.9?0:O<=.1===y?1:-1}getFirstDifferent(s,o,c,f){let h=s.getX()+c,d=s.getY()+f;for(;this.isValid(h,d)&&this.image.get(h,d)===o;)h+=c,d+=f;for(h-=c,d-=f;this.isValid(h,d)&&this.image.get(h,d)===o;)h+=c;for(h-=c;this.isValid(h,d)&&this.image.get(h,d)===o;)d+=f;return d-=f,new Gt(h,d)}expandSquare(s,o,c){let f=c/(2*o),h=s[0].getX()-s[2].getX(),d=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,w=(s[0].getY()+s[2].getY())/2,y=new Ge(x+f*h,w+f*d),T=new Ge(x-f*h,w-f*d);h=s[1].getX()-s[3].getX(),d=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,w=(s[1].getY()+s[3].getY())/2;let O=new Ge(x+f*h,w+f*d),P=new Ge(x-f*h,w-f*d);return[y,O,T,P]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=it.round(s.getX()),c=it.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return it.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return it.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}class Yt{decode(s,o=null){let c=null,f=new ut(s.getBlackMatrix()),h=null,d=null;try{let T=f.detectMirror(!1);h=T.getPoints(),this.reportFoundResultPoints(o,h),d=new Je().decode(T)}catch(T){c=T}if(d==null)try{let T=f.detectMirror(!0);h=T.getPoints(),this.reportFoundResultPoints(o,h),d=new Je().decode(T)}catch(T){throw c??T}let x=new Q(d.getText(),d.getRawBytes(),d.getNumBits(),h,ie.AZTEC,C.currentTimeMillis()),w=d.getByteSegments();w!=null&&x.putMetadata(Ae.BYTE_SEGMENTS,w);let y=d.getECLevel();return y!=null&&x.putMetadata(Ae.ERROR_CORRECTION_LEVEL,y),x}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(G.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((f,h,d)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class ln extends ae{constructor(s=500){super(new Yt,s)}}class gt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(G.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),d=this.doDecode(h,o),x=d.getResultMetadata();let w=270;x!==null&&x.get(Ae.ORIENTATION)===!0&&(w=w+x.get(Ae.ORIENTATION)%360),d.putMetadata(Ae.ORIENTATION,w);const y=d.getResultPoints();if(y!==null){const T=h.getHeight();for(let O=0;O<y.length;O++)y[O]=new Ge(T-y[O].getY()-1,y[O].getX())}return d}else throw new ee}}reset(){}doDecode(s,o){const c=s.getWidth(),f=s.getHeight();let h=new B(c);const d=o&&o.get(G.TRY_HARDER)===!0,x=Math.max(1,f>>(d?8:5));let w;d?w=f:w=15;const y=Math.trunc(f/2);for(let T=0;T<w;T++){const O=Math.trunc((T+1)/2),P=(T&1)===0,z=y+x*(P?O:-O);if(z<0||z>=f)break;try{h=s.getBlackRow(z,h)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(h.reverse(),o&&o.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const te=new Map;o.forEach((he,me)=>te.set(me,he)),te.delete(G.NEED_RESULT_POINT_CALLBACK),o=te}try{const te=this.decodeRow(z,h,o);if(J===1){te.putMetadata(Ae.ORIENTATION,180);const he=te.getResultPoints();he!==null&&(he[0]=new Ge(c-he[0].getX()-1,he[0].getY()),he[1]=new Ge(c-he[1].getX()-1,he[1].getY()))}return te}catch{}}}throw new ee}static recordPattern(s,o,c){const f=c.length;for(let y=0;y<f;y++)c[y]=0;const h=s.getSize();if(o>=h)throw new ee;let d=!s.get(o),x=0,w=o;for(;w<h;){if(s.get(w)!==d)c[x]++;else{if(++x===f)break;c[x]=1,d=!d}w++}if(!(x===f||x===f-1&&w===h))throw new ee}static recordPatternInReverse(s,o,c){let f=c.length,h=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new ee;gt.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const f=s.length;let h=0,d=0;for(let y=0;y<f;y++)h+=s[y],d+=o[y];if(h<d)return Number.POSITIVE_INFINITY;const x=h/d;c*=x;let w=0;for(let y=0;y<f;y++){const T=s[y],O=o[y]*x,P=T>O?T-O:O-T;if(P>c)return Number.POSITIVE_INFINITY;w+=P}return w/h}}class Ue extends gt{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),d=c,x=!1;const w=6;for(let y=c;y<o;y++)if(s.get(y)!==x)h[f]++;else{if(f===w-1){let T=Ue.MAX_AVG_VARIANCE,O=-1;for(let P=Ue.CODE_START_A;P<=Ue.CODE_START_C;P++){const z=gt.patternMatchVariance(h,Ue.CODE_PATTERNS[P],Ue.MAX_INDIVIDUAL_VARIANCE);z<T&&(T=z,O=P)}if(O>=0&&s.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,O]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,x=!x}throw new ee}static decodeCode(s,o,c){gt.recordPattern(s,c,o);let f=Ue.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<Ue.CODE_PATTERNS.length;d++){const x=Ue.CODE_PATTERNS[d],w=this.patternMatchVariance(o,x,Ue.MAX_INDIVIDUAL_VARIANCE);w<f&&(f=w,h=d)}if(h>=0)return h;throw new ee}decodeRow(s,o,c){const f=c&&c.get(G.ASSUME_GS1)===!0,h=Ue.findStartPattern(o),d=h[2];let x=0;const w=new Uint8Array(20);w[x++]=d;let y;switch(d){case Ue.CODE_START_A:y=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:y=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:y=Ue.CODE_CODE_C;break;default:throw new F}let T=!1,O=!1,P="",z=h[0],J=h[1];const te=Int32Array.from([0,0,0,0,0,0]);let he=0,me=0,Le=d,We=0,Ie=!0,Rt=!1,pt=!1;for(;!T;){const qo=O;switch(O=!1,he=me,me=Ue.decodeCode(o,te,J),w[x++]=me,me!==Ue.CODE_STOP&&(Ie=!0),me!==Ue.CODE_STOP&&(We++,Le+=We*me),z=J,J+=te.reduce((wT,vT)=>wT+vT,0),me){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new F}switch(y){case Ue.CODE_CODE_A:if(me<64)pt===Rt?P+=String.fromCharCode(32+me):P+=String.fromCharCode(32+me+128),pt=!1;else if(me<96)pt===Rt?P+=String.fromCharCode(me-64):P+=String.fromCharCode(me+64),pt=!1;else switch(me!==Ue.CODE_STOP&&(Ie=!1),me){case Ue.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!Rt&&pt?(Rt=!0,pt=!1):Rt&&pt?(Rt=!1,pt=!1):pt=!0;break;case Ue.CODE_SHIFT:O=!0,y=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:y=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:y=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:T=!0;break}break;case Ue.CODE_CODE_B:if(me<96)pt===Rt?P+=String.fromCharCode(32+me):P+=String.fromCharCode(32+me+128),pt=!1;else switch(me!==Ue.CODE_STOP&&(Ie=!1),me){case Ue.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!Rt&&pt?(Rt=!0,pt=!1):Rt&&pt?(Rt=!1,pt=!1):pt=!0;break;case Ue.CODE_SHIFT:O=!0,y=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:y=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:y=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:T=!0;break}break;case Ue.CODE_CODE_C:if(me<100)me<10&&(P+="0"),P+=me;else switch(me!==Ue.CODE_STOP&&(Ie=!1),me){case Ue.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Ue.CODE_CODE_A:y=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:y=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:T=!0;break}break}qo&&(y=y===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const Zn=J-z;if(J=o.getNextUnset(J),!o.isRange(J,Math.min(o.getSize(),J+(J-z)/2),!1))throw new ee;if(Le-=We*he,Le%103!==he)throw new E;const zi=P.length;if(zi===0)throw new ee;zi>0&&Ie&&(y===Ue.CODE_CODE_C?P=P.substring(0,zi-2):P=P.substring(0,zi-1));const Qn=(h[1]+h[0])/2,Jt=z+Zn/2,fn=w.length,ui=new Uint8Array(fn);for(let qo=0;qo<fn;qo++)ui[qo]=w[qo];const Ko=[new Ge(Qn,s),new Ge(Jt,s)];return new Q(P,ui,0,Ko,ie.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class gr extends gt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=gr.findAsteriskPattern(o,f),d=o.getNextSet(h[1]),x=o.getSize(),w,y;do{gr.recordPattern(o,d,f);let te=gr.toNarrowWidePattern(f);if(te<0)throw new ee;w=gr.patternToChar(te),this.decodeRowResult+=w,y=d;for(let he of f)d+=he;d=o.getNextSet(d)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let te of f)T+=te;let O=d-y-T;if(d!==x&&O*2<T)throw new ee;if(this.usingCheckDigit){let te=this.decodeRowResult.length-1,he=0;for(let me=0;me<te;me++)he+=gr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(me));if(this.decodeRowResult.charAt(te)!==gr.ALPHABET_STRING.charAt(he%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,te)}if(this.decodeRowResult.length===0)throw new ee;let P;this.extendedMode?P=gr.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let z=(h[1]+h[0])/2,J=y+T/2;return new Q(P,null,0,[new Ge(z,s),new Ge(J,s)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),f=s.getNextSet(0),h=0,d=f,x=!1,w=o.length;for(let y=f;y<c;y++)if(s.get(y)!==x)o[h]++;else{if(h===w-1){if(this.toNarrowWidePattern(o)===gr.ASTERISK_ENCODING&&s.isRange(Math.max(0,d-Math.floor((y-d)/2)),d,!1))return[d,y];d+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,x=!x}throw new ee}static toNarrowWidePattern(s){let o=s.length,c=0,f;do{let h=2147483647;for(let w of s)w<h&&w>c&&(h=w);c=h,f=0;let d=0,x=0;for(let w=0;w<o;w++){let y=s[w];y>c&&(x|=1<<o-1-w,f++,d+=y)}if(f===3){for(let w=0;w<o&&f>0;w++){let y=s[w];if(y>c&&(f--,y*2>=d))return-1}return x}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<gr.CHARACTER_ENCODINGS.length;o++)if(gr.CHARACTER_ENCODINGS[o]===s)return gr.ALPHABET_STRING.charAt(o);if(s===gr.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(s){let o=s.length,c="";for(let f=0;f<o;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=s.charAt(f+1),x="\0";switch(h){case"+":if(d>="A"&&d<="Z")x=String.fromCharCode(d.charCodeAt(0)+32);else throw new F;break;case"$":if(d>="A"&&d<="Z")x=String.fromCharCode(d.charCodeAt(0)-64);else throw new F;break;case"%":if(d>="A"&&d<="E")x=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")x=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")x=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")x=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")x="\0";else if(d==="V")x="@";else if(d==="W")x="`";else if(d==="X"||d==="Y"||d==="Z")x="";else throw new F;break;case"/":if(d>="A"&&d<="O")x=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")x=":";else throw new F;break}c+=x,f++}else c+=h}return c}}gr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",gr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],gr.ASTERISK_ENCODING=148;class Ht extends gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let f=this.decodeStart(o),h=this.decodeEnd(o),d=new Ee;Ht.decodeMiddle(o,f[1],h[0],d);let x=d.toString(),w=null;c!=null&&(w=c.get(G.ALLOWED_LENGTHS)),w==null&&(w=Ht.DEFAULT_ALLOWED_LENGTHS);let y=x.length,T=!1,O=0;for(let J of w){if(y===J){T=!0;break}J>O&&(O=J)}if(!T&&y>O&&(T=!0),!T)throw new F;const P=[new Ge(f[1],s),new Ge(h[0],s)];return new Q(x,null,0,P,ie.ITF,new Date().getTime())}static decodeMiddle(s,o,c,f){let h=new Int32Array(10),d=new Int32Array(5),x=new Int32Array(5);for(h.fill(0),d.fill(0),x.fill(0);o<c;){gt.recordPattern(s,o,h);for(let y=0;y<5;y++){let T=2*y;d[y]=h[T],x[y]=h[T+1]}let w=Ht.decodeDigit(d);f.append(w.toString()),w=this.decodeDigit(x),f.append(w.toString()),h.forEach(function(y){o+=y})}}decodeStart(s){let o=Ht.skipWhiteSpace(s),c=Ht.findGuardPattern(s,o,Ht.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let f=o-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new ee}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new ee;return c}decodeEnd(s){s.reverse();try{let o=Ht.skipWhiteSpace(s),c;try{c=Ht.findGuardPattern(s,o,Ht.END_PATTERN_REVERSED[0])}catch(h){h instanceof ee&&(c=Ht.findGuardPattern(s,o,Ht.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let f=c.length,h=new Int32Array(f),d=s.getSize(),x=!1,w=0,y=o;h.fill(0);for(let T=o;T<d;T++)if(s.get(T)!==x)h[w]++;else{if(w===f-1){if(gt.patternMatchVariance(h,c,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return[y,T];y+=h[0]+h[1],C.arraycopy(h,2,h,0,w-1),h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,x=!x}throw new ee}static decodeDigit(s){let o=Ht.MAX_AVG_VARIANCE,c=-1,f=Ht.PATTERNS.length;for(let h=0;h<f;h++){let d=Ht.PATTERNS[h],x=gt.patternMatchVariance(s,d,Ht.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,c=h):x===o&&(c=-1)}if(c>=0)return c%10;throw new ee}}Ht.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ht.MAX_AVG_VARIANCE=.38,Ht.MAX_INDIVIDUAL_VARIANCE=.5,Ht.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ht.START_PATTERN=Int32Array.from([1,1,1,1]),Ht.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Zt extends gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),c=Zt.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let d=c[0];f=c[1];let x=d-(f-d);x>=0&&(o=s.isRange(x,d,!1))}return c}static checkChecksum(s){return Zt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return Zt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new F;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new F;c+=h}return(1e3-c)%10}static decodeEnd(s,o){return Zt.findGuardPattern(s,o,!1,Zt.START_END_PATTERN,new Int32Array(Zt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,f){return this.findGuardPattern(s,o,c,f,new Int32Array(f.length))}static findGuardPattern(s,o,c,f,h){let d=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let x=0,w=o,y=f.length,T=c;for(let O=o;O<d;O++)if(s.get(O)!==T)h[x]++;else{if(x===y-1){if(gt.patternMatchVariance(h,f,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=h[0]+h[1];let P=h.slice(2,h.length-1);for(let z=0;z<x-1;z++)h[z]=P[z];h[x-1]=0,h[x]=0,x--}else x++;h[x]=1,T=!T}throw new ee}static decodeDigit(s,o,c,f){this.recordPattern(s,c,o);let h=this.MAX_AVG_VARIANCE,d=-1,x=f.length;for(let w=0;w<x;w++){let y=f[w],T=gt.patternMatchVariance(o,y,Zt.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,d=w)}if(d>=0)return d;throw new ee}}Zt.MAX_AVG_VARIANCE=.48,Zt.MAX_INDIVIDUAL_VARIANCE=.7,Zt.START_END_PATTERN=Int32Array.from([1,1,1]),Zt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Zt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class os{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),d=f.toString(),x=os.parseExtensionString(d),w=[new Ge((c[0]+c[1])/2,s),new Ge(h,s)],y=new Q(d,null,0,w,ie.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&y.putAllMetadata(x),y}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d=o[1],x=0;for(let y=0;y<5&&d<h;y++){let T=Zt.decodeDigit(s,f,d,Zt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)d+=O;T>=10&&(x|=1<<4-y),y!==4&&(d=s.getNextSet(d),d=s.getNextUnset(d))}if(c.length!==5)throw new ee;let w=this.determineCheckDigit(x);if(os.extensionChecksum(c.toString())!==w)throw new ee;return d}static extensionChecksum(s){let o=s.length,c=0;for(let f=o-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;c*=3;for(let f=o-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(s){if(s.length!==5)return null;let o=os.parseExtension5String(s);return o==null?null:new Map([[Ae.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),h=c%100,d=h<10?"0"+h:h.toString();return o+f+"."+d}}class ks{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),d=f.toString(),x=ks.parseExtensionString(d),w=[new Ge((c[0]+c[1])/2,s),new Ge(h,s)],y=new Q(d,null,0,w,ie.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&y.putAllMetadata(x),y}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d=o[1],x=0;for(let w=0;w<2&&d<h;w++){let y=Zt.decodeDigit(s,f,d,Zt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+y%10);for(let T of f)d+=T;y>=10&&(x|=1<<1-w),w!==1&&(d=s.getNextSet(d),d=s.getNextUnset(d))}if(c.length!==2)throw new ee;if(parseInt(c.toString())%4!==x)throw new ee;return d}static parseExtensionString(s){return s.length!==2?null:new Map([[Ae.ISSUE_NUMBER,parseInt(s)]])}}class Fr{static decodeRow(s,o,c){let f=Zt.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new os().decodeRow(s,o,f)}catch{return new ks().decodeRow(s,o,f)}}}Fr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class bt extends Zt{constructor(){super(),this.decodeRowStringBuffer="",bt.L_AND_G_PATTERNS=bt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=bt.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let f=0;f<o.length;f++)c[f]=o[o.length-f-1];bt.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let f=bt.findStartGuardPattern(o),h=c==null?null:c.get(G.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Ie=new Ge((f[0]+f[1])/2,s);h.foundPossibleResultPoint(Ie)}let d=this.decodeMiddle(o,f,this.decodeRowStringBuffer),x=d.rowOffset,w=d.resultString;if(h!=null){const Ie=new Ge(x,s);h.foundPossibleResultPoint(Ie)}let y=this.decodeEnd(o,x);if(h!=null){const Ie=new Ge((y[0]+y[1])/2,s);h.foundPossibleResultPoint(Ie)}let T=y[1],O=T+(T-y[0]);if(O>=o.getSize()||!o.isRange(T,O,!1))throw new ee;let P=w.toString();if(P.length<8)throw new F;if(!bt.checkChecksum(P))throw new E;let z=(f[1]+f[0])/2,J=(y[1]+y[0])/2,te=this.getBarcodeFormat(),he=[new Ge(z,s),new Ge(J,s)],me=new Q(P,null,0,he,te,new Date().getTime()),Le=0;try{let Ie=Fr.decodeRow(s,o,y[1]);me.putMetadata(Ae.UPC_EAN_EXTENSION,Ie.getText()),me.putAllMetadata(Ie.getResultMetadata()),me.addResultPoints(Ie.getResultPoints()),Le=Ie.getText().length}catch{}let We=c==null?null:c.get(G.ALLOWED_EAN_EXTENSIONS);if(We!=null){let Ie=!1;for(let Rt in We)if(Le.toString()===Rt){Ie=!0;break}if(!Ie)throw new ee}return me}decodeEnd(s,o){return bt.findGuardPattern(s,o,!1,bt.START_END_PATTERN,new Int32Array(bt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return bt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return bt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new F;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new F;c+=h}return(1e3-c)%10}}class Hi extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d=o[1],x=0;for(let y=0;y<6&&d<h;y++){let T=bt.decodeDigit(s,f,d,bt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)d+=O;T>=10&&(x|=1<<5-y)}c=Hi.determineFirstDigit(c,x),d=bt.findGuardPattern(s,d,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&d<h;y++){let T=bt.decodeDigit(s,f,d,bt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let O of f)d+=O}return{rowOffset:d,resultString:c}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new ee}}Hi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ls extends bt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d=o[1];for(let w=0;w<4&&d<h;w++){let y=bt.decodeDigit(s,f,d,bt.L_PATTERNS);c+=String.fromCharCode(48+y);for(let T of f)d+=T}d=bt.findGuardPattern(s,d,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&d<h;w++){let y=bt.decodeDigit(s,f,d,bt.L_PATTERNS);c+=String.fromCharCode(48+y);for(let T of f)d+=T}return{rowOffset:d,resultString:c}}getBarcodeFormat(){return ie.EAN_8}}class Go extends bt{constructor(){super(...arguments),this.ean13Reader=new Hi}getBarcodeFormat(){return ie.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new Q(o.substring(1),null,null,s.getResultPoints(),ie.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new ee}reset(){this.ean13Reader.reset()}}class Pn extends bt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters.map(y=>y);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let d=o[1],x=0;for(let y=0;y<6&&d<h;y++){const T=Pn.decodeDigit(s,f,d,Pn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)d+=O;T>=10&&(x|=1<<5-y)}let w=Pn.determineNumSysAndCheckDigit(c,x);return{rowOffset:d,resultString:w}}decodeEnd(s,o){return Pn.findGuardPatternWithoutCounters(s,o,!0,Pn.MIDDLE_END_PATTERN)}checkChecksum(s){return bt.checkChecksum(Pn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let h=String.fromCharCode(48+c),d=String.fromCharCode(48+f);return h+s+d}throw ee.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new Ee;c.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(f),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}Pn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ga extends gt{constructor(s){super();let o=s==null?null:s.get(G.POSSIBLE_FORMATS),c=[];n(o)?(c.push(new Hi),c.push(new Go),c.push(new ls),c.push(new Pn)):(o.indexOf(ie.EAN_13)>-1&&c.push(new Hi),o.indexOf(ie.UPC_A)>-1&&c.push(new Go),o.indexOf(ie.EAN_8)>-1&&c.push(new ls),o.indexOf(ie.UPC_E)>-1&&c.push(new Pn)),this.readers=c}decodeRow(s,o,c){for(let f of this.readers)try{const h=f.decodeRow(s,o,c),d=h.getBarcodeFormat()===ie.EAN_13&&h.getText().charAt(0)==="0",x=c==null?null:c.get(G.POSSIBLE_FORMATS),w=x==null||x.includes(ie.UPC_A);if(d&&w){const y=h.getRawBytes(),T=new Q(h.getText().substring(1),y,y?y.length:null,h.getResultPoints(),ie.UPC_A);return T.putAllMetadata(h.getResultMetadata()),T}return h}catch{}throw new ee}reset(){for(let s of this.readers)s.reset()}}class Pr extends gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(gt.patternMatchVariance(s,o[c],Pr.MAX_INDIVIDUAL_VARIANCE)<Pr.MAX_AVG_VARIANCE)return c;throw new ee}static count(s){return it.sum(new Int32Array(s))}static increment(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]>f&&(f=o[h],c=h);s[c]++}static decrement(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]<f&&(f=o[h],c=h);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],f=o/c;if(f>=Pr.MIN_FINDER_PATTERN_RATIO&&f<=Pr.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let x of s)x>d&&(d=x),x<h&&(h=x);return d<10*h}return!1}}Pr.MAX_AVG_VARIANCE=.2,Pr.MAX_INDIVIDUAL_VARIANCE=.45,Pr.MIN_FINDER_PATTERN_RATIO=9.5/12,Pr.MAX_FINDER_PATTERN_RATIO=12.5/14;class cs{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof cs))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Qs{constructor(s,o,c,f,h){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ge(c,h)),this.resultPoints.push(new Ge(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Qs))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class se{constructor(){}static getRSSvalue(s,o,c){let f=0;for(let w of s)f+=w;let h=0,d=0,x=s.length;for(let w=0;w<x-1;w++){let y;for(y=1,d|=1<<w;y<s[w];y++,d&=~(1<<w)){let T=se.combins(f-y-1,x-w-2);if(c&&d===0&&f-y-(x-w-1)>=x-w-1&&(T-=se.combins(f-y-(x-w),x-w-2)),x-w-1>1){let O=0;for(let P=f-y-(x-w-2);P>o;P--)O+=se.combins(f-y-P-1,x-w-3);T-=O*(x-1-w)}else f-y>o&&T--;h+=T}f-=y}return h}static combins(s,o){let c,f;s-o>o?(f=o,c=s-o):(f=s-o,c=o);let h=1,d=1;for(let x=s;x>c;x--)h*=x,d<=f&&(h/=d,d++);for(;d<=f;)h/=d,d++;return h}}class He{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,f=new B(c),h=0,x=s[0].getRightChar().getValue();for(let w=11;w>=0;--w)x&1<<w&&f.set(h),h++;for(let w=1;w<s.length;++w){let y=s[w],T=y.getLeftChar().getValue();for(let O=11;O>=0;--O)T&1<<O&&f.set(h),h++;if(y.getRightChar()!=null){let O=y.getRightChar().getValue();for(let P=11;P>=0;--P)O&1<<P&&f.set(h),h++}}return f}}class Xe{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Qe{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Ye extends Qe{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Ye.FNC1}}Ye.FNC1="$";class ht extends Qe{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class D extends Qe{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new F;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===D.FNC1}isSecondDigitFNC1(){return this.secondDigit===D.FNC1}isAnyFNC1(){return this.firstDigit===D.FNC1||this.secondDigit===D.FNC1}}D.FNC1=10;class M{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ee;let o=s.substring(0,2);for(let h of M.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===M.VARIABLE_LENGTH?M.processVariableAI(2,h[2],s):M.processFixedAI(2,h[1],s);if(s.length<3)throw new ee;let c=s.substring(0,3);for(let h of M.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===M.VARIABLE_LENGTH?M.processVariableAI(3,h[2],s):M.processFixedAI(3,h[1],s);for(let h of M.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===M.VARIABLE_LENGTH?M.processVariableAI(4,h[2],s):M.processFixedAI(4,h[1],s);if(s.length<4)throw new ee;let f=s.substring(0,4);for(let h of M.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===M.VARIABLE_LENGTH?M.processVariableAI(4,h[2],s):M.processFixedAI(4,h[1],s);throw new ee}static processFixedAI(s,o,c){if(c.length<s)throw new ee;let f=c.substring(0,s);if(c.length<s+o)throw new ee;let h=c.substring(s,s+o),d=c.substring(s+o),x="("+f+")"+h,w=M.parseFieldsInGeneralPurpose(d);return w==null?x:x+w}static processVariableAI(s,o,c){let f=c.substring(0,s),h;c.length<s+o?h=c.length:h=s+o;let d=c.substring(s,h),x=c.substring(h),w="("+f+")"+d,y=M.parseFieldsInGeneralPurpose(x);return y==null?w:w+y}}M.VARIABLE_LENGTH=[],M.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",M.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",M.VARIABLE_LENGTH,20],["22",M.VARIABLE_LENGTH,29],["30",M.VARIABLE_LENGTH,8],["37",M.VARIABLE_LENGTH,8],["90",M.VARIABLE_LENGTH,30],["91",M.VARIABLE_LENGTH,30],["92",M.VARIABLE_LENGTH,30],["93",M.VARIABLE_LENGTH,30],["94",M.VARIABLE_LENGTH,30],["95",M.VARIABLE_LENGTH,30],["96",M.VARIABLE_LENGTH,30],["97",M.VARIABLE_LENGTH,3],["98",M.VARIABLE_LENGTH,30],["99",M.VARIABLE_LENGTH,30]],M.THREE_DIGIT_DATA_LENGTH=[["240",M.VARIABLE_LENGTH,30],["241",M.VARIABLE_LENGTH,30],["242",M.VARIABLE_LENGTH,6],["250",M.VARIABLE_LENGTH,30],["251",M.VARIABLE_LENGTH,30],["253",M.VARIABLE_LENGTH,17],["254",M.VARIABLE_LENGTH,20],["400",M.VARIABLE_LENGTH,30],["401",M.VARIABLE_LENGTH,30],["402",17],["403",M.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",M.VARIABLE_LENGTH,20],["421",M.VARIABLE_LENGTH,15],["422",3],["423",M.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],M.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",M.VARIABLE_LENGTH,15],["391",M.VARIABLE_LENGTH,18],["392",M.VARIABLE_LENGTH,15],["393",M.VARIABLE_LENGTH,18],["703",M.VARIABLE_LENGTH,30]],M.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",M.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",M.VARIABLE_LENGTH,20],["8003",M.VARIABLE_LENGTH,30],["8004",M.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",M.VARIABLE_LENGTH,30],["8008",M.VARIABLE_LENGTH,12],["8018",18],["8020",M.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",M.VARIABLE_LENGTH,70],["8200",M.VARIABLE_LENGTH,70]];class L{constructor(s){this.buffer=new Ee,this.information=s}decodeAllCodes(s,o){let c=o,f=null;do{let h=this.decodeGeneralPurposeField(c,f),d=M.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&s.append(d),h.isRemaining()?f=""+h.getRemainingValue():f=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new D(this.information.getSize(),D.FNC1,D.FNC1):new D(this.information.getSize(),h-1,D.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,f=(o-8)%11;return new D(s+7,c,f)}extractNumericValueFromBitArray(s,o){return L.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let f=0;for(let h=0;h<c;++h)s.get(o+h)&&(f|=1<<c-h-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new ht(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new ht(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new ht(this.current.getPosition(),this.buffer.toString()):o=new ht(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Xe(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new ht(this.current.getPosition(),this.buffer.toString());return new Xe(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new ht(this.current.getPosition(),this.buffer.toString());return new Xe(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new ht(this.current.getPosition(),this.buffer.toString());return new Xe(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xe(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Ye(s+5,Ye.FNC1);if(o>=5&&o<15)return new Ye(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new Ye(s+7,""+(c+1));if(c>=90&&c<116)return new Ye(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new F}return new Ye(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Ye(s+5,Ye.FNC1);if(o>=5&&o<15)return new Ye(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new Ye(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new dt("Decoding invalid alphanumeric value: "+c)}return new Ye(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class j{constructor(s){this.information=s,this.generalDecoder=new L(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class H extends j{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}H.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let f=0;f<13;f++){let h=s.charAt(f+o).charCodeAt(0)-48;c+=f&1?h:3*h}c=10-c%10,c===10&&(c=0),s.append(c)}}H.GTIN_SIZE=40;class X extends H{constructor(s){super(s)}parseInformation(){let s=new Ee;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(X.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,X.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,X.HEADER_SIZE+44)}}X.HEADER_SIZE=4;class le extends j{constructor(s){super(s)}parseInformation(){let s=new Ee;return this.getGeneralDecoder().decodeAllCodes(s,le.HEADER_SIZE)}}le.HEADER_SIZE=5;class we extends H{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,f);let h=this.checkWeight(f),d=1e5;for(let x=0;x<5;++x)h/d===0&&s.append("0"),d/=10;s.append(h)}}class fe extends we{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=fe.HEADER_SIZE+we.GTIN_SIZE+fe.WEIGHT_SIZE)throw new ee;let s=new Ee;return this.encodeCompressedGtin(s,fe.HEADER_SIZE),this.encodeCompressedWeight(s,fe.HEADER_SIZE+we.GTIN_SIZE,fe.WEIGHT_SIZE),s.toString()}}fe.HEADER_SIZE=5,fe.WEIGHT_SIZE=15;class ge extends fe{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class pe extends fe{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Te extends H{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Te.HEADER_SIZE+H.GTIN_SIZE)throw new ee;let s=new Ee;this.encodeCompressedGtin(s,Te.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Te.HEADER_SIZE+H.GTIN_SIZE,Te.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Te.HEADER_SIZE+H.GTIN_SIZE+Te.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Te.HEADER_SIZE=8,Te.LAST_DIGIT_SIZE=2;class Oe extends H{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Oe.HEADER_SIZE+H.GTIN_SIZE)throw new ee;let s=new Ee;this.encodeCompressedGtin(s,Oe.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Oe.HEADER_SIZE+H.GTIN_SIZE,Oe.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Oe.HEADER_SIZE+H.GTIN_SIZE+Oe.LAST_DIGIT_SIZE,Oe.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Oe.HEADER_SIZE+H.GTIN_SIZE+Oe.LAST_DIGIT_SIZE+Oe.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}Oe.HEADER_SIZE=8,Oe.LAST_DIGIT_SIZE=2,Oe.FIRST_THREE_DIGITS_SIZE=10;class Be extends we{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Be.HEADER_SIZE+Be.GTIN_SIZE+Be.WEIGHT_SIZE+Be.DATE_SIZE)throw new ee;let s=new Ee;return this.encodeCompressedGtin(s,Be.HEADER_SIZE),this.encodeCompressedWeight(s,Be.HEADER_SIZE+Be.GTIN_SIZE,Be.WEIGHT_SIZE),this.encodeCompressedDate(s,Be.HEADER_SIZE+Be.GTIN_SIZE+Be.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Be.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let h=c%12+1;c/=12;let d=c;d/10==0&&s.append("0"),s.append(d),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Be.HEADER_SIZE=8,Be.WEIGHT_SIZE=20,Be.DATE_SIZE=16;function je(R){try{if(R.get(1))return new X(R);if(!R.get(2))return new le(R);switch(L.extractNumericValueFromBitArray(R,1,4)){case 4:return new ge(R);case 5:return new pe(R)}switch(L.extractNumericValueFromBitArray(R,1,5)){case 12:return new Te(R);case 13:return new Oe(R)}switch(L.extractNumericValueFromBitArray(R,1,7)){case 56:return new Be(R,"310","11");case 57:return new Be(R,"320","11");case 58:return new Be(R,"310","13");case 59:return new Be(R,"320","13");case 60:return new Be(R,"310","15");case 61:return new Be(R,"320","15");case 62:return new Be(R,"310","17");case 63:return new Be(R,"320","17")}}catch(s){throw console.log(s),new dt("unknown decoder: "+R)}}class ze{constructor(s,o,c,f){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof ze?ze.equalsOrNull(s.leftchar,o.leftchar)&&ze.equalsOrNull(s.rightchar,o.rightchar)&&ze.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:ze.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ct{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof ct?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((f,h)=>{o.forEach(d=>{f.getLeftChar().getValue()===d.getLeftChar().getValue()&&f.getRightChar().getValue()===d.getRightChar().getValue()&&f.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(c=!0)})}),c}}class ye extends Pr{constructor(s){super(...arguments),this.pairs=new Array(ye.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return ye.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,ye.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(h){if(h instanceof ee){if(!this.pairs.length)throw new ee;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ee}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let d of s)this.pairs.push(d.getPairs());if(this.pairs.push(f.getPairs()),!ye.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,c+1)}catch(d){this.verbose&&console.log(d)}}throw new ee}static isValidSequence(s){for(let o of ye.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,f=!1,h=!1;for(;c<this.rows.length;){let d=this.rows[c];if(d.getRowNumber()>s){h=d.isEquivalent(this.pairs);break}f=d.isEquivalent(this.pairs),c++}h||f||ye.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new ct(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let h of s)if(ze.equals(f,h))break}}static isPartialRow(s,o){for(let c of o){let f=!0;for(let h of s){let d=!1;for(let x of c.getPairs())if(h.equals(x)){d=!0;break}if(!d){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=He.buildBitArray(s),f=je(o).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),d=s[s.length-1].getFinderPattern().getResultPoints(),x=[h[0],h[1],d[0],d[1]];return new Q(f,null,null,x,ie.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),h=2;for(let x=1;x<this.pairs.size();++x){let w=this.pairs.get(x);f+=w.getLeftChar().getChecksumPortion(),h++;let y=w.getRightChar();y!=null&&(f+=y.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,d=!0,x=-1;do this.findNextPair(s,o,x),h=this.parseFoundFinderPattern(s,c,f),h==null?x=ye.getNextSecondBar(s,this.startEnd[0]):d=!1;while(d);let w=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let y;try{y=this.decodeDataCharacter(s,h,f,!1)}catch(T){y=null,this.verbose&&console.log(T)}return new ze(w,y,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d;c>=0?d=c:this.isEmptyPair(o)?d=0:d=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let w=!1;for(;d<h&&(w=!s.get(d),!!w);)d++;let y=0,T=d;for(let O=d;O<h;O++)if(s.get(O)!=w)f[y]++;else{if(y==3){if(x&&ye.reverseCounters(f),ye.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=O;return}x&&ye.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,y--}else y++;f[y]=1,w=!w}throw new ee}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let f=s[c];s[c]=s[o-c-1],s[o-c-1]=f}}parseFoundFinderPattern(s,o,c){let f,h,d;if(c){let y=this.startEnd[0]-1;for(;y>=0&&!s.get(y);)y--;y++,f=this.startEnd[0]-y,h=y,d=this.startEnd[1]}else h=this.startEnd[0],d=s.getNextUnset(this.startEnd[1]+1),f=d-this.startEnd[1];let x=this.getDecodeFinderCounters();C.arraycopy(x,0,x,1,x.length-1),x[0]=f;let w;try{w=this.parseFinderValue(x,ye.FINDER_PATTERNS)}catch{return null}return new Qs(w,[h,d],h,d,o)}decodeDataCharacter(s,o,c,f){let h=this.getDataCharacterCounters();for(let Jt=0;Jt<h.length;Jt++)h[Jt]=0;if(f)ye.recordPatternInReverse(s,o.getStartEnd()[0],h);else{ye.recordPattern(s,o.getStartEnd()[1],h);for(let Jt=0,fn=h.length-1;Jt<fn;Jt++,fn--){let ui=h[Jt];h[Jt]=h[fn],h[fn]=ui}}let d=17,x=it.sum(new Int32Array(h))/d,w=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-w)/w>.3)throw new ee;let y=this.getOddCounts(),T=this.getEvenCounts(),O=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Jt=0;Jt<h.length;Jt++){let fn=1*h[Jt]/x,ui=fn+.5;if(ui<1){if(fn<.3)throw new ee;ui=1}else if(ui>8){if(fn>8.7)throw new ee;ui=8}let Ko=Jt/2;Jt&1?(T[Ko]=ui,P[Ko]=fn-ui):(y[Ko]=ui,O[Ko]=fn-ui)}this.adjustOddEvenCounts(d);let z=4*o.getValue()+(c?0:2)+(f?0:1)-1,J=0,te=0;for(let Jt=y.length-1;Jt>=0;Jt--){if(ye.isNotA1left(o,c,f)){let fn=ye.WEIGHTS[z][2*Jt];te+=y[Jt]*fn}J+=y[Jt]}let he=0;for(let Jt=T.length-1;Jt>=0;Jt--)if(ye.isNotA1left(o,c,f)){let fn=ye.WEIGHTS[z][2*Jt+1];he+=T[Jt]*fn}let me=te+he;if(J&1||J>13||J<4)throw new ee;let Le=(13-J)/2,We=ye.SYMBOL_WIDEST[Le],Ie=9-We,Rt=se.getRSSvalue(y,We,!0),pt=se.getRSSvalue(T,Ie,!1),Zn=ye.EVEN_TOTAL_SUBSET[Le],zi=ye.GSUM[Le],Qn=Rt*Zn+pt+zi;return new cs(Qn,me)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=it.sum(new Int32Array(this.getOddCounts())),c=it.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let d=!1,x=!1;c>13?x=!0:c<4&&(d=!0);let w=o+c-s,y=(o&1)==1,T=(c&1)==0;if(w==1)if(y){if(T)throw new ee;h=!0}else{if(!T)throw new ee;x=!0}else if(w==-1)if(y){if(T)throw new ee;f=!0}else{if(!T)throw new ee;d=!0}else if(w==0){if(y){if(!T)throw new ee;o<c?(f=!0,x=!0):(h=!0,d=!0)}else if(T)throw new ee}else throw new ee;if(f){if(h)throw new ee;ye.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&ye.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(x)throw new ee;ye.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ye.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ye.SYMBOL_WIDEST=[7,5,4,3,1],ye.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ye.GSUM=[0,348,1388,2948,3988],ye.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ye.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ye.FINDER_PAT_A=0,ye.FINDER_PAT_B=1,ye.FINDER_PAT_C=2,ye.FINDER_PAT_D=3,ye.FINDER_PAT_E=4,ye.FINDER_PAT_F=5,ye.FINDER_PATTERN_SEQUENCES=[[ye.FINDER_PAT_A,ye.FINDER_PAT_A],[ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B],[ye.FINDER_PAT_A,ye.FINDER_PAT_C,ye.FINDER_PAT_B,ye.FINDER_PAT_D],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_C],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_D,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_E,ye.FINDER_PAT_B,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_D],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_E],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F],[ye.FINDER_PAT_A,ye.FINDER_PAT_A,ye.FINDER_PAT_B,ye.FINDER_PAT_B,ye.FINDER_PAT_C,ye.FINDER_PAT_D,ye.FINDER_PAT_D,ye.FINDER_PAT_E,ye.FINDER_PAT_E,ye.FINDER_PAT_F,ye.FINDER_PAT_F]],ye.MAX_PAIRS=11;class lr extends cs{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vt extends Pr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const f=this.decodePair(o,!1,s,c);vt.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,s,c);vt.addOrTally(this.possibleRightPairs,h),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&vt.checkChecksum(d,x))return vt.constructResult(d,x)}throw new ee}static addOrTally(s,o){if(o==null)return;let c=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),f=new String(c).toString(),h=new Ee;for(let y=13-f.length;y>0;y--)h.append("0");h.append(f);let d=0;for(let y=0;y<13;y++){let T=h.charAt(y).charCodeAt(0)-48;d+=y&1?T:3*T}d=10-d%10,d===10&&(d=0),h.append(d.toString());let x=s.getFinderPattern().getResultPoints(),w=o.getFinderPattern().getResultPoints();return new Q(h.toString(),null,0,[x[0],x[1],w[0],w[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,o,c,f){try{let h=this.findFinderPattern(s,o),d=this.parseFoundFinderPattern(s,c,o,h),x=f==null?null:f.get(G.NEED_RESULT_POINT_CALLBACK);if(x!=null){let T=(h[0]+h[1])/2;o&&(T=s.getSize()-1-T),x.foundPossibleResultPoint(new Ge(T,c))}let w=this.decodeDataCharacter(s,d,!0),y=this.decodeDataCharacter(s,d,!1);return new lr(1597*w.getValue()+y.getValue(),w.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(s,o,c){let f=this.getDataCharacterCounters();for(let he=0;he<f.length;he++)f[he]=0;if(c)gt.recordPatternInReverse(s,o.getStartEnd()[0],f);else{gt.recordPattern(s,o.getStartEnd()[1]+1,f);for(let he=0,me=f.length-1;he<me;he++,me--){let Le=f[he];f[he]=f[me],f[me]=Le}}let h=c?16:15,d=it.sum(new Int32Array(f))/h,x=this.getOddCounts(),w=this.getEvenCounts(),y=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let he=0;he<f.length;he++){let me=f[he]/d,Le=Math.floor(me+.5);Le<1?Le=1:Le>8&&(Le=8);let We=Math.floor(he/2);he&1?(w[We]=Le,T[We]=me-Le):(x[We]=Le,y[We]=me-Le)}this.adjustOddEvenCounts(c,h);let O=0,P=0;for(let he=x.length-1;he>=0;he--)P*=9,P+=x[he],O+=x[he];let z=0,J=0;for(let he=w.length-1;he>=0;he--)z*=9,z+=w[he],J+=w[he];let te=P+3*z;if(c){if(O&1||O>12||O<4)throw new ee;let he=(12-O)/2,me=vt.OUTSIDE_ODD_WIDEST[he],Le=9-me,We=se.getRSSvalue(x,me,!1),Ie=se.getRSSvalue(w,Le,!0),Rt=vt.OUTSIDE_EVEN_TOTAL_SUBSET[he],pt=vt.OUTSIDE_GSUM[he];return new cs(We*Rt+Ie+pt,te)}else{if(J&1||J>10||J<4)throw new ee;let he=(10-J)/2,me=vt.INSIDE_ODD_WIDEST[he],Le=9-me,We=se.getRSSvalue(x,me,!0),Ie=se.getRSSvalue(w,Le,!1),Rt=vt.INSIDE_ODD_TOTAL_SUBSET[he],pt=vt.INSIDE_GSUM[he];return new cs(Ie*Rt+We+pt,te)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),h=!1,d=0;for(;d<f&&(h=!s.get(d),o!==h);)d++;let x=0,w=d;for(let y=d;y<f;y++)if(s.get(y)!==h)c[x]++;else{if(x===3){if(Pr.isFinderPattern(c))return[w,y];w+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,x--}else x++;c[x]=1,h=!h}throw new ee}parseFoundFinderPattern(s,o,c,f){let h=s.get(f[0]),d=f[0]-1;for(;d>=0&&h!==s.get(d);)d--;d++;const x=f[0]-d,w=this.getDecodeFinderCounters(),y=new Int32Array(w.length);C.arraycopy(w,0,y,1,w.length-1),y[0]=x;const T=this.parseFinderValue(y,vt.FINDER_PATTERNS);let O=d,P=f[1];return c&&(O=s.getSize()-1-O,P=s.getSize()-1-P),new Qs(T,[d,f[1]],O,P,o)}adjustOddEvenCounts(s,o){let c=it.sum(new Int32Array(this.getOddCounts())),f=it.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,x=!1,w=!1;s?(c>12?d=!0:c<4&&(h=!0),f>12?w=!0:f<4&&(x=!0)):(c>11?d=!0:c<5&&(h=!0),f>10?w=!0:f<4&&(x=!0));let y=c+f-o,T=(c&1)===(s?1:0),O=(f&1)===1;if(y===1)if(T){if(O)throw new ee;d=!0}else{if(!O)throw new ee;w=!0}else if(y===-1)if(T){if(O)throw new ee;h=!0}else{if(!O)throw new ee;x=!0}else if(y===0){if(T){if(!O)throw new ee;c<f?(h=!0,w=!0):(d=!0,x=!0)}else if(O)throw new ee}else throw new ee;if(h){if(d)throw new ee;Pr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Pr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(w)throw new ee;Pr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Pr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vt.OUTSIDE_GSUM=[0,161,961,2015,2715],vt.INSIDE_GSUM=[0,336,1036,1516],vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vt.INSIDE_ODD_WIDEST=[2,4,6,8],vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Si extends gt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(G.POSSIBLE_FORMATS):null,f=s&&s.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(ie.EAN_13)||c.includes(ie.UPC_A)||c.includes(ie.EAN_8)||c.includes(ie.UPC_E))&&this.readers.push(new Ga(s)),c.includes(ie.CODE_39)&&this.readers.push(new gr(f)),c.includes(ie.CODE_128)&&this.readers.push(new Ue),c.includes(ie.ITF)&&this.readers.push(new Ht),c.includes(ie.RSS_14)&&this.readers.push(new vt),c.includes(ie.RSS_EXPANDED)&&this.readers.push(new ye(this.verbose))):(this.readers.push(new Ga(s)),this.readers.push(new gr),this.readers.push(new Ga(s)),this.readers.push(new Ue),this.readers.push(new Ht),this.readers.push(new vt),this.readers.push(new ye(this.verbose)))}decodeRow(s,o,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,c)}catch{}throw new ee}reset(){this.readers.forEach(s=>s.reset())}}class Xa extends ae{constructor(s=500,o){super(new Si(o),s,o)}}class It{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class yt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(s,o,c,f,h,d){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=d;let x=0;const w=d.getECCodewords(),y=d.getECBlocks();for(let T of y)x+=T.getCount()*(T.getDataCodewords()+w);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new F;for(let c of _t.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new _t(1,10,10,8,8,new It(5,new yt(1,3))),new _t(2,12,12,10,10,new It(7,new yt(1,5))),new _t(3,14,14,12,12,new It(10,new yt(1,8))),new _t(4,16,16,14,14,new It(12,new yt(1,12))),new _t(5,18,18,16,16,new It(14,new yt(1,18))),new _t(6,20,20,18,18,new It(18,new yt(1,22))),new _t(7,22,22,20,20,new It(20,new yt(1,30))),new _t(8,24,24,22,22,new It(24,new yt(1,36))),new _t(9,26,26,24,24,new It(28,new yt(1,44))),new _t(10,32,32,14,14,new It(36,new yt(1,62))),new _t(11,36,36,16,16,new It(42,new yt(1,86))),new _t(12,40,40,18,18,new It(48,new yt(1,114))),new _t(13,44,44,20,20,new It(56,new yt(1,144))),new _t(14,48,48,22,22,new It(68,new yt(1,174))),new _t(15,52,52,24,24,new It(42,new yt(2,102))),new _t(16,64,64,14,14,new It(56,new yt(2,140))),new _t(17,72,72,16,16,new It(36,new yt(4,92))),new _t(18,80,80,18,18,new It(48,new yt(4,114))),new _t(19,88,88,20,20,new It(56,new yt(4,144))),new _t(20,96,96,22,22,new It(68,new yt(4,174))),new _t(21,104,104,24,24,new It(56,new yt(6,136))),new _t(22,120,120,18,18,new It(68,new yt(6,175))),new _t(23,132,132,20,20,new It(62,new yt(8,163))),new _t(24,144,144,22,22,new It(62,new yt(8,156),new yt(2,155))),new _t(25,8,18,6,16,new It(7,new yt(1,5))),new _t(26,8,32,6,14,new It(11,new yt(1,10))),new _t(27,12,26,10,24,new It(14,new yt(1,16))),new _t(28,12,36,10,16,new It(18,new yt(1,22))),new _t(29,16,36,14,16,new It(24,new yt(1,32))),new _t(30,16,48,14,22,new It(28,new yt(1,49)))]}}_t.VERSIONS=_t.buildVersions();class ci{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new F;this.version=ci.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return _t.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,f=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let x=!1,w=!1,y=!1,T=!1;do if(c===h&&f===0&&!x)s[o++]=this.readCorner1(h,d)&255,c-=2,f+=2,x=!0;else if(c===h-2&&f===0&&d&3&&!w)s[o++]=this.readCorner2(h,d)&255,c-=2,f+=2,w=!0;else if(c===h+4&&f===2&&!(d&7)&&!y)s[o++]=this.readCorner3(h,d)&255,c-=2,f+=2,y=!0;else if(c===h-2&&f===0&&(d&7)===4&&!T)s[o++]=this.readCorner4(h,d)&255,c-=2,f+=2,T=!0;else{do c<h&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,d)&255),c-=2,f+=2;while(c>=0&&f<d);c+=1,f+=3;do c>=0&&f<d&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,d)&255),c+=2,f-=2;while(c<h&&f>=0);c+=3,f+=1}while(c<h||f<d);if(o!==this.version.getTotalCodewords())throw new F;return s}readModule(s,o,c,f){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,f){let h=0;return this.readModule(s-2,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-2,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o,c,f)&&(h|=1),h<<=1,this.readModule(s,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s,o,c,f)&&(h|=1),h}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=o/f|0,x=c/h|0,w=d*f,y=x*h,T=new Se(y,w);for(let O=0;O<d;++O){const P=O*f;for(let z=0;z<x;++z){const J=z*h;for(let te=0;te<f;++te){const he=O*(f+2)+1+te,me=P+te;for(let Le=0;Le<h;++Le){const We=z*(h+2)+1+Le;if(s.get(We,he)){const Ie=J+Le;T.set(Ie,me)}}}}}return T}}class pd{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let f=0;const h=c.getECBlocks();for(let te of h)f+=te.getCount();const d=new Array(f);let x=0;for(let te of h)for(let he=0;he<te.getCount();he++){const me=te.getDataCodewords(),Le=c.getECCodewords()+me;d[x++]=new pd(me,new Uint8Array(Le))}const y=d[0].codewords.length-c.getECCodewords(),T=y-1;let O=0;for(let te=0;te<T;te++)for(let he=0;he<x;he++)d[he].codewords[te]=s[O++];const P=o.getVersionNumber()===24,z=P?8:x;for(let te=0;te<z;te++)d[te].codewords[y-1]=s[O++];const J=d[0].codewords.length;for(let te=y;te<J;te++)for(let he=0;he<x;he++){const me=P?(he+8)%x:he,Le=P&&me>7?te-1:te;d[me].codewords[Le]=s[O++]}if(O!==s.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class xd{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let o=0,c=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(c>0){const d=8-c,x=s<d?s:d,w=d-x,y=255>>8-x<<w;o=(h[f]&y)>>w,s-=x,c+=x,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)o=o<<8|h[f]&255,f++,s-=8;if(s>0){const d=8-s,x=255>>d<<d;o=o<<s|(h[f]&x)>>d,c+=s}}return this.bitOffset=c,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vr;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vr||(Vr={}));class Js{static decode(s){const o=new xd(s),c=new Ee,f=new Ee,h=new Array;let d=Vr.ASCII_ENCODE;do if(d===Vr.ASCII_ENCODE)d=this.decodeAsciiSegment(o,c,f);else{switch(d){case Vr.C40_ENCODE:this.decodeC40Segment(o,c);break;case Vr.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case Vr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case Vr.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case Vr.BASE256_ENCODE:this.decodeBase256Segment(o,c,h);break;default:throw new F}d=Vr.ASCII_ENCODE}while(d!==Vr.PAD_ENCODE&&o.available()>0);return f.length()>0&&c.append(f.toString()),new Me(s,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,o,c){let f=!1;do{let h=s.readBits(8);if(h===0)throw new F;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),Vr.ASCII_ENCODE;if(h===129)return Vr.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&o.append("0"),o.append(""+d)}else switch(h){case 230:return Vr.C40_ENCODE;case 231:return Vr.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return Vr.ANSIX12_ENCODE;case 239:return Vr.TEXT_ENCODE;case 240:return Vr.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new F;break}}while(s.available()>0);return Vr.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const f=[];let h=0;do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(h){case 0:if(w<3)h=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else throw new F;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new F}h=0;break;case 3:c?(o.append(String.fromCharCode(w+224)),c=!1):o.append(String.fromCharCode(w+96)),h=0;break;default:throw new F}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,f=[],h=0;do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(h){case 0:if(w<3)h=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else throw new F;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new F}h=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y),h=0}else throw new F;break;default:throw new F}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let h=0;h<3;h++){const d=c[h];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else if(d<40)o.append(String.fromCharCode(d+51));else throw new F;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let f=(s<<8)+o-1,h=Math.floor(f/1600);c[0]=h,f-=h*1600,h=Math.floor(f/40),c[1]=h,c[2]=f-h*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let d;if(h===0?d=s.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),d<0)throw new F;const x=new Uint8Array(d);for(let w=0;w<d;w++){if(s.available()<8)throw new F;x[w]=this.unrandomize255State(s.readBits(8),f++)}c.push(x);try{o.append(ue.decode(x,Z.ISO88591))}catch(w){throw new dt("Platform does not support required encoding: "+w.message)}}static unrandomize255State(s,o){const c=149*o%255+1,f=s-c;return f>=0?f:f+256}}Js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Js.TEXT_SHIFT2_SET_CHARS=Js.C40_SHIFT2_SET_CHARS,Js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class KS{constructor(){this.rsDecoder=new Ze(qe.DATA_MATRIX_FIELD_256)}decode(s){const o=new ci(s),c=o.getVersion(),f=o.readCodewords(),h=pd.getDataBlocks(f,c);let d=0;for(let y of h)d+=y.getNumDataCodewords();const x=new Uint8Array(d),w=h.length;for(let y=0;y<w;y++){const T=h[y],O=T.getCodewords(),P=T.getNumDataCodewords();this.correctErrors(O,P);for(let z=0;z<P;z++)x[z*w+y]=O[z]}return Js.decode(x)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new E}for(let f=0;f<o;f++)s[f]=c[f]}}class br{constructor(s){this.image=s,this.rectangleDetector=new $t(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const c=o[0],f=o[1],h=o[2],d=o[3];let x=this.transitionsBetween(c,d)+1,w=this.transitionsBetween(h,d)+1;(x&1)===1&&(x+=1),(w&1)===1&&(w+=1),4*x<7*w&&4*w<7*x&&(x=w=Math.max(x,w));let y=br.sampleGrid(this.image,c,f,h,d,x,w);return new Kn(y,[c,f,h,d])}static shiftPoint(s,o,c){let f=(o.getX()-s.getX())/(c+1),h=(o.getY()-s.getY())/(c+1);return new Ge(s.getX()+f,s.getY()+h)}static moveAway(s,o,c){let f=s.getX(),h=s.getY();return f<o?f-=1:f+=1,h<c?h-=1:h+=1,new Ge(f,h)}detectSolid1(s){let o=s[0],c=s[1],f=s[3],h=s[2],d=this.transitionsBetween(o,c),x=this.transitionsBetween(c,f),w=this.transitionsBetween(f,h),y=this.transitionsBetween(h,o),T=d,O=[h,o,c,f];return T>x&&(T=x,O[0]=o,O[1]=c,O[2]=f,O[3]=h),T>w&&(T=w,O[0]=c,O[1]=f,O[2]=h,O[3]=o),T>y&&(O[0]=f,O[1]=h,O[2]=o,O[3]=c),O}detectSolid2(s){let o=s[0],c=s[1],f=s[2],h=s[3],d=this.transitionsBetween(o,h),x=br.shiftPoint(c,f,(d+1)*4),w=br.shiftPoint(f,c,(d+1)*4),y=this.transitionsBetween(x,o),T=this.transitionsBetween(w,h);return y<T?(s[0]=o,s[1]=c,s[2]=f,s[3]=h):(s[0]=c,s[1]=f,s[2]=h,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],f=s[2],h=s[3],d=this.transitionsBetween(o,h),x=this.transitionsBetween(c,h),w=br.shiftPoint(o,c,(x+1)*4),y=br.shiftPoint(f,c,(d+1)*4);d=this.transitionsBetween(w,h),x=this.transitionsBetween(y,h);let T=new Ge(h.getX()+(f.getX()-c.getX())/(d+1),h.getY()+(f.getY()-c.getY())/(d+1)),O=new Ge(h.getX()+(o.getX()-c.getX())/(x+1),h.getY()+(o.getY()-c.getY())/(x+1));if(!this.isValid(T))return this.isValid(O)?O:null;if(!this.isValid(O))return T;let P=this.transitionsBetween(w,T)+this.transitionsBetween(y,T),z=this.transitionsBetween(w,O)+this.transitionsBetween(y,O);return P>z?T:O}shiftToModuleCenter(s){let o=s[0],c=s[1],f=s[2],h=s[3],d=this.transitionsBetween(o,h)+1,x=this.transitionsBetween(f,h)+1,w=br.shiftPoint(o,c,x*4),y=br.shiftPoint(f,c,d*4);d=this.transitionsBetween(w,h)+1,x=this.transitionsBetween(y,h)+1,(d&1)===1&&(d+=1),(x&1)===1&&(x+=1);let T=(o.getX()+c.getX()+f.getX()+h.getX())/4,O=(o.getY()+c.getY()+f.getY()+h.getY())/4;o=br.moveAway(o,T,O),c=br.moveAway(c,T,O),f=br.moveAway(f,T,O),h=br.moveAway(h,T,O);let P,z;return w=br.shiftPoint(o,c,x*4),w=br.shiftPoint(w,h,d*4),P=br.shiftPoint(c,o,x*4),P=br.shiftPoint(P,f,d*4),y=br.shiftPoint(f,h,x*4),y=br.shiftPoint(y,c,d*4),z=br.shiftPoint(h,f,x*4),z=br.shiftPoint(z,o,d*4),[w,P,y,z]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,f,h,d,x){return er.getInstance().sampleGrid(s,d,x,.5,.5,d-.5,.5,d-.5,x-.5,.5,x-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(o.getX()),d=Math.trunc(o.getY()),x=Math.abs(d-f)>Math.abs(h-c);if(x){let te=c;c=f,f=te,te=h,h=d,d=te}let w=Math.abs(h-c),y=Math.abs(d-f),T=-w/2,O=f<d?1:-1,P=c<h?1:-1,z=0,J=this.image.get(x?f:c,x?c:f);for(let te=c,he=f;te!==h;te+=P){let me=this.image.get(x?he:te,x?te:he);if(me!==J&&(z++,J=me),T+=y,T>0){if(he===d)break;he+=O,T-=w}}return z}}class ea{constructor(){this.decoder=new KS}decode(s,o=null){let c,f;if(o!=null&&o.has(G.PURE_BARCODE)){const y=ea.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(y),f=ea.NO_POINTS}else{const y=new br(s.getBlackMatrix()).detect();c=this.decoder.decode(y.getBits()),f=y.getPoints()}const h=c.getRawBytes(),d=new Q(c.getText(),h,8*h.length,f,ie.DATA_MATRIX,C.currentTimeMillis()),x=c.getByteSegments();x!=null&&d.putMetadata(Ae.BYTE_SEGMENTS,x);const w=c.getECLevel();return w!=null&&d.putMetadata(Ae.ERROR_CORRECTION_LEVEL,w),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new ee;const f=this.moduleSize(o,s);let h=o[1];const d=c[1];let x=o[0];const y=(c[0]-x+1)/f,T=(d-h+1)/f;if(y<=0||T<=0)throw new ee;const O=f/2;h+=O,x+=O;const P=new Se(y,T);for(let z=0;z<T;z++){const J=h+z*f;for(let te=0;te<y;te++)s.get(x+te*f,J)&&P.set(te,z)}return P}static moduleSize(s,o){const c=o.getWidth();let f=s[0];const h=s[1];for(;f<c&&o.get(f,h);)f++;if(f===c)throw new ee;const d=f-s[0];if(d===0)throw new ee;return d}}ea.NO_POINTS=[];class qS extends ae{constructor(s=500){super(new ea,s)}}var Xo;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Xo||(Xo={}));class tr{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,tr.FOR_BITS.set(c,this),tr.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return tr.L;case"M":return tr.M;case"Q":return tr.Q;case"H":return tr.H;default:throw new m(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof tr))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=tr.FOR_BITS.size)throw new v;return tr.FOR_BITS.get(s)}}tr.FOR_BITS=new Map,tr.FOR_VALUE=new Map,tr.L=new tr(Xo.L,"L",1),tr.M=new tr(Xo.M,"M",0),tr.Q=new tr(Xo.Q,"Q",3),tr.H=new tr(Xo.H,"H",2);class yn{constructor(s){this.errorCorrectionLevel=tr.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return S.bitCount(s^o)}static decodeFormatInformation(s,o){const c=yn.doDecodeFormatInformation(s,o);return c!==null?c:yn.doDecodeFormatInformation(s^yn.FORMAT_INFO_MASK_QR,o^yn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,f=0;for(const h of yn.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===s||d===o)return new yn(h[1]);let x=yn.numBitsDiffering(s,d);x<c&&(f=h[1],c=x),s!==o&&(x=yn.numBitsDiffering(o,d),x<c&&(f=h[1],c=x))}return c<=3?new yn(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof yn))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}yn.FORMAT_INFO_MASK_QR=21522,yn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class de{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class V{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let f=0;const h=c[0].getECCodewordsPerBlock(),d=c[0].getECBlocks();for(const x of d)f+=x.getCount()*(x.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new F;try{return this.getVersionForNumber((s-17)/4)}catch{throw new F}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return et.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<et.VERSION_DECODE_INFO.length;f++){const h=et.VERSION_DECODE_INFO[f];if(h===s)return et.getVersionForNumber(f+7);const d=yn.numBitsDiffering(s,h);d<o&&(c=f+7,o=d)}return o<=3?et.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new Se(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const h=this.alignmentPatternCenters[f]-2;for(let d=0;d<c;d++)f===0&&(d===0||d===c-1)||f===c-1&&d===0||o.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),et.VERSIONS=[new et(1,new Int32Array(0),new de(7,new V(1,19)),new de(10,new V(1,16)),new de(13,new V(1,13)),new de(17,new V(1,9))),new et(2,Int32Array.from([6,18]),new de(10,new V(1,34)),new de(16,new V(1,28)),new de(22,new V(1,22)),new de(28,new V(1,16))),new et(3,Int32Array.from([6,22]),new de(15,new V(1,55)),new de(26,new V(1,44)),new de(18,new V(2,17)),new de(22,new V(2,13))),new et(4,Int32Array.from([6,26]),new de(20,new V(1,80)),new de(18,new V(2,32)),new de(26,new V(2,24)),new de(16,new V(4,9))),new et(5,Int32Array.from([6,30]),new de(26,new V(1,108)),new de(24,new V(2,43)),new de(18,new V(2,15),new V(2,16)),new de(22,new V(2,11),new V(2,12))),new et(6,Int32Array.from([6,34]),new de(18,new V(2,68)),new de(16,new V(4,27)),new de(24,new V(4,19)),new de(28,new V(4,15))),new et(7,Int32Array.from([6,22,38]),new de(20,new V(2,78)),new de(18,new V(4,31)),new de(18,new V(2,14),new V(4,15)),new de(26,new V(4,13),new V(1,14))),new et(8,Int32Array.from([6,24,42]),new de(24,new V(2,97)),new de(22,new V(2,38),new V(2,39)),new de(22,new V(4,18),new V(2,19)),new de(26,new V(4,14),new V(2,15))),new et(9,Int32Array.from([6,26,46]),new de(30,new V(2,116)),new de(22,new V(3,36),new V(2,37)),new de(20,new V(4,16),new V(4,17)),new de(24,new V(4,12),new V(4,13))),new et(10,Int32Array.from([6,28,50]),new de(18,new V(2,68),new V(2,69)),new de(26,new V(4,43),new V(1,44)),new de(24,new V(6,19),new V(2,20)),new de(28,new V(6,15),new V(2,16))),new et(11,Int32Array.from([6,30,54]),new de(20,new V(4,81)),new de(30,new V(1,50),new V(4,51)),new de(28,new V(4,22),new V(4,23)),new de(24,new V(3,12),new V(8,13))),new et(12,Int32Array.from([6,32,58]),new de(24,new V(2,92),new V(2,93)),new de(22,new V(6,36),new V(2,37)),new de(26,new V(4,20),new V(6,21)),new de(28,new V(7,14),new V(4,15))),new et(13,Int32Array.from([6,34,62]),new de(26,new V(4,107)),new de(22,new V(8,37),new V(1,38)),new de(24,new V(8,20),new V(4,21)),new de(22,new V(12,11),new V(4,12))),new et(14,Int32Array.from([6,26,46,66]),new de(30,new V(3,115),new V(1,116)),new de(24,new V(4,40),new V(5,41)),new de(20,new V(11,16),new V(5,17)),new de(24,new V(11,12),new V(5,13))),new et(15,Int32Array.from([6,26,48,70]),new de(22,new V(5,87),new V(1,88)),new de(24,new V(5,41),new V(5,42)),new de(30,new V(5,24),new V(7,25)),new de(24,new V(11,12),new V(7,13))),new et(16,Int32Array.from([6,26,50,74]),new de(24,new V(5,98),new V(1,99)),new de(28,new V(7,45),new V(3,46)),new de(24,new V(15,19),new V(2,20)),new de(30,new V(3,15),new V(13,16))),new et(17,Int32Array.from([6,30,54,78]),new de(28,new V(1,107),new V(5,108)),new de(28,new V(10,46),new V(1,47)),new de(28,new V(1,22),new V(15,23)),new de(28,new V(2,14),new V(17,15))),new et(18,Int32Array.from([6,30,56,82]),new de(30,new V(5,120),new V(1,121)),new de(26,new V(9,43),new V(4,44)),new de(28,new V(17,22),new V(1,23)),new de(28,new V(2,14),new V(19,15))),new et(19,Int32Array.from([6,30,58,86]),new de(28,new V(3,113),new V(4,114)),new de(26,new V(3,44),new V(11,45)),new de(26,new V(17,21),new V(4,22)),new de(26,new V(9,13),new V(16,14))),new et(20,Int32Array.from([6,34,62,90]),new de(28,new V(3,107),new V(5,108)),new de(26,new V(3,41),new V(13,42)),new de(30,new V(15,24),new V(5,25)),new de(28,new V(15,15),new V(10,16))),new et(21,Int32Array.from([6,28,50,72,94]),new de(28,new V(4,116),new V(4,117)),new de(26,new V(17,42)),new de(28,new V(17,22),new V(6,23)),new de(30,new V(19,16),new V(6,17))),new et(22,Int32Array.from([6,26,50,74,98]),new de(28,new V(2,111),new V(7,112)),new de(28,new V(17,46)),new de(30,new V(7,24),new V(16,25)),new de(24,new V(34,13))),new et(23,Int32Array.from([6,30,54,78,102]),new de(30,new V(4,121),new V(5,122)),new de(28,new V(4,47),new V(14,48)),new de(30,new V(11,24),new V(14,25)),new de(30,new V(16,15),new V(14,16))),new et(24,Int32Array.from([6,28,54,80,106]),new de(30,new V(6,117),new V(4,118)),new de(28,new V(6,45),new V(14,46)),new de(30,new V(11,24),new V(16,25)),new de(30,new V(30,16),new V(2,17))),new et(25,Int32Array.from([6,32,58,84,110]),new de(26,new V(8,106),new V(4,107)),new de(28,new V(8,47),new V(13,48)),new de(30,new V(7,24),new V(22,25)),new de(30,new V(22,15),new V(13,16))),new et(26,Int32Array.from([6,30,58,86,114]),new de(28,new V(10,114),new V(2,115)),new de(28,new V(19,46),new V(4,47)),new de(28,new V(28,22),new V(6,23)),new de(30,new V(33,16),new V(4,17))),new et(27,Int32Array.from([6,34,62,90,118]),new de(30,new V(8,122),new V(4,123)),new de(28,new V(22,45),new V(3,46)),new de(30,new V(8,23),new V(26,24)),new de(30,new V(12,15),new V(28,16))),new et(28,Int32Array.from([6,26,50,74,98,122]),new de(30,new V(3,117),new V(10,118)),new de(28,new V(3,45),new V(23,46)),new de(30,new V(4,24),new V(31,25)),new de(30,new V(11,15),new V(31,16))),new et(29,Int32Array.from([6,30,54,78,102,126]),new de(30,new V(7,116),new V(7,117)),new de(28,new V(21,45),new V(7,46)),new de(30,new V(1,23),new V(37,24)),new de(30,new V(19,15),new V(26,16))),new et(30,Int32Array.from([6,26,52,78,104,130]),new de(30,new V(5,115),new V(10,116)),new de(28,new V(19,47),new V(10,48)),new de(30,new V(15,24),new V(25,25)),new de(30,new V(23,15),new V(25,16))),new et(31,Int32Array.from([6,30,56,82,108,134]),new de(30,new V(13,115),new V(3,116)),new de(28,new V(2,46),new V(29,47)),new de(30,new V(42,24),new V(1,25)),new de(30,new V(23,15),new V(28,16))),new et(32,Int32Array.from([6,34,60,86,112,138]),new de(30,new V(17,115)),new de(28,new V(10,46),new V(23,47)),new de(30,new V(10,24),new V(35,25)),new de(30,new V(19,15),new V(35,16))),new et(33,Int32Array.from([6,30,58,86,114,142]),new de(30,new V(17,115),new V(1,116)),new de(28,new V(14,46),new V(21,47)),new de(30,new V(29,24),new V(19,25)),new de(30,new V(11,15),new V(46,16))),new et(34,Int32Array.from([6,34,62,90,118,146]),new de(30,new V(13,115),new V(6,116)),new de(28,new V(14,46),new V(23,47)),new de(30,new V(44,24),new V(7,25)),new de(30,new V(59,16),new V(1,17))),new et(35,Int32Array.from([6,30,54,78,102,126,150]),new de(30,new V(12,121),new V(7,122)),new de(28,new V(12,47),new V(26,48)),new de(30,new V(39,24),new V(14,25)),new de(30,new V(22,15),new V(41,16))),new et(36,Int32Array.from([6,24,50,76,102,128,154]),new de(30,new V(6,121),new V(14,122)),new de(28,new V(6,47),new V(34,48)),new de(30,new V(46,24),new V(10,25)),new de(30,new V(2,15),new V(64,16))),new et(37,Int32Array.from([6,28,54,80,106,132,158]),new de(30,new V(17,122),new V(4,123)),new de(28,new V(29,46),new V(14,47)),new de(30,new V(49,24),new V(10,25)),new de(30,new V(24,15),new V(46,16))),new et(38,Int32Array.from([6,32,58,84,110,136,162]),new de(30,new V(4,122),new V(18,123)),new de(28,new V(13,46),new V(32,47)),new de(30,new V(48,24),new V(14,25)),new de(30,new V(42,15),new V(32,16))),new et(39,Int32Array.from([6,26,54,82,110,138,166]),new de(30,new V(20,117),new V(4,118)),new de(28,new V(40,47),new V(7,48)),new de(30,new V(43,24),new V(22,25)),new de(30,new V(10,15),new V(67,16))),new et(40,Int32Array.from([6,30,58,86,114,142,170]),new de(30,new V(19,118),new V(6,119)),new de(28,new V(18,47),new V(31,48)),new de(30,new V(34,24),new V(34,25)),new de(30,new V(20,15),new V(61,16)))];var Zr;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(Zr||(Zr={}));class Ti{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let f=0;f<o;f++)this.isMasked(c,f)&&s.flip(f,c)}}Ti.values=new Map([[Zr.DATA_MASK_000,new Ti(Zr.DATA_MASK_000,(R,s)=>(R+s&1)===0)],[Zr.DATA_MASK_001,new Ti(Zr.DATA_MASK_001,(R,s)=>(R&1)===0)],[Zr.DATA_MASK_010,new Ti(Zr.DATA_MASK_010,(R,s)=>s%3===0)],[Zr.DATA_MASK_011,new Ti(Zr.DATA_MASK_011,(R,s)=>(R+s)%3===0)],[Zr.DATA_MASK_100,new Ti(Zr.DATA_MASK_100,(R,s)=>(Math.floor(R/2)+Math.floor(s/3)&1)===0)],[Zr.DATA_MASK_101,new Ti(Zr.DATA_MASK_101,(R,s)=>R*s%6===0)],[Zr.DATA_MASK_110,new Ti(Zr.DATA_MASK_110,(R,s)=>R*s%6<3)],[Zr.DATA_MASK_111,new Ti(Zr.DATA_MASK_111,(R,s)=>(R+s+R*s%3&1)===0)]]);class ZS{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new F;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const o=this.bitMatrix.getHeight();let c=0;const f=o-7;for(let h=o-1;h>=f;h--)c=this.copyBit(8,h,c);for(let h=o-8;h<o;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=yn.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return et.getVersionForNumber(o);let c=0;const f=s-11;for(let d=5;d>=0;d--)for(let x=s-9;x>=f;x--)c=this.copyBit(x,d,c);let h=et.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;c=0;for(let d=5;d>=0;d--)for(let x=s-9;x>=f;x--)c=this.copyBit(d,x,c);if(h=et.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new F}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=Ti.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let d=!0;const x=new Uint8Array(o.getTotalCodewords());let w=0,y=0,T=0;for(let O=f-1;O>0;O-=2){O===6&&O--;for(let P=0;P<f;P++){const z=d?f-1-P:P;for(let J=0;J<2;J++)h.get(O-J,z)||(T++,y<<=1,this.bitMatrix.get(O-J,z)&&(y|=1),T===8&&(x[w++]=y,T=0,y=0))}d=!d}if(w!==o.getTotalCodewords())throw new F;return x}remask(){if(this.parsedFormatInfo===null)return;const s=Ti.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let f=o+1,h=s.getHeight();f<h;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class md{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new v;const f=o.getECBlocksForLevel(c);let h=0;const d=f.getECBlocks();for(const J of d)h+=J.getCount();const x=new Array(h);let w=0;for(const J of d)for(let te=0;te<J.getCount();te++){const he=J.getDataCodewords(),me=f.getECCodewordsPerBlock()+he;x[w++]=new md(he,new Uint8Array(me))}const y=x[0].codewords.length;let T=x.length-1;for(;T>=0&&x[T].codewords.length!==y;)T--;T++;const O=y-f.getECCodewordsPerBlock();let P=0;for(let J=0;J<O;J++)for(let te=0;te<w;te++)x[te].codewords[J]=s[P++];for(let J=T;J<w;J++)x[J].codewords[O]=s[P++];const z=x[0].codewords.length;for(let J=O;J<z;J++)for(let te=0;te<w;te++){const he=te<T?J:J+1;x[te].codewords[he]=s[P++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ki;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(ki||(ki={}));class rt{constructor(s,o,c,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=f,rt.FOR_BITS.set(f,this),rt.FOR_VALUE.set(s,this)}static forBits(s){const o=rt.FOR_BITS.get(s);if(o===void 0)throw new v;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof rt))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(ki.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(ki.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(ki.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(ki.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(ki.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(ki.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(ki.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(ki.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(ki.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(ki.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class mr{static decode(s,o,c,f){const h=new xd(s);let d=new Ee;const x=new Array;let w=-1,y=-1;try{let T=null,O=!1,P;do{if(h.available()<4)P=rt.TERMINATOR;else{const z=h.readBits(4);P=rt.forBits(z)}switch(P){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:O=!0;break;case rt.STRUCTURED_APPEND:if(h.available()<16)throw new F;w=h.readBits(8),y=h.readBits(8);break;case rt.ECI:const z=mr.parseECIValue(h);if(T=W.getCharacterSetECIByValue(z),T===null)throw new F;break;case rt.HANZI:const J=h.readBits(4),te=h.readBits(P.getCharacterCountBits(o));J===mr.GB2312_SUBSET&&mr.decodeHanziSegment(h,d,te);break;default:const he=h.readBits(P.getCharacterCountBits(o));switch(P){case rt.NUMERIC:mr.decodeNumericSegment(h,d,he);break;case rt.ALPHANUMERIC:mr.decodeAlphanumericSegment(h,d,he,O);break;case rt.BYTE:mr.decodeByteSegment(h,d,he,T,x,f);break;case rt.KANJI:mr.decodeKanjiSegment(h,d,he);break;default:throw new F}break}}while(P!==rt.TERMINATOR)}catch{throw new F}return new Me(s,d.toString(),x.length===0?null:x,c===null?null:c.toString(),w,y)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new F;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const d=s.readBits(13);let x=d/96<<8&4294967295|d%96;x<959?x+=41377:x+=42657,f[h]=x>>8&255,f[h+1]=x&255,h+=2,c--}try{o.append(ue.decode(f,Z.GB2312))}catch(d){throw new F(d)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new F;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const d=s.readBits(13);let x=d/192<<8&4294967295|d%192;x<7936?x+=33088:x+=49472,f[h]=x>>8,f[h+1]=x,h+=2,c--}try{o.append(ue.decode(f,Z.SHIFT_JIS))}catch(d){throw new F(d)}}static decodeByteSegment(s,o,c,f,h,d){if(8*c>s.available())throw new F;const x=new Uint8Array(c);for(let y=0;y<c;y++)x[y]=s.readBits(8);let w;f===null?w=Z.guessEncoding(x,d):w=f.getName();try{o.append(ue.decode(x,w))}catch(y){throw new F(y)}h.push(x)}static toAlphaNumericChar(s){if(s>=mr.ALPHANUMERIC_CHARS.length)throw new F;return mr.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,f){const h=o.length();for(;c>1;){if(s.available()<11)throw new F;const d=s.readBits(11);o.append(mr.toAlphaNumericChar(Math.floor(d/45))),o.append(mr.toAlphaNumericChar(d%45)),c-=2}if(c===1){if(s.available()<6)throw new F;o.append(mr.toAlphaNumericChar(s.readBits(6)))}if(f)for(let d=h;d<o.length();d++)o.charAt(d)==="%"&&(d<o.length()-1&&o.charAt(d+1)==="%"?o.deleteCharAt(d+1):o.setCharAt(d,""))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new F;const f=s.readBits(10);if(f>=1e3)throw new F;o.append(mr.toAlphaNumericChar(Math.floor(f/100))),o.append(mr.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(mr.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new F;const f=s.readBits(7);if(f>=100)throw new F;o.append(mr.toAlphaNumericChar(Math.floor(f/10))),o.append(mr.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new F;const f=s.readBits(4);if(f>=10)throw new F;o.append(mr.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new F}}mr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",mr.GB2312_SUBSET=1;class Bm{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class QS{constructor(){this.rsDecoder=new Ze(qe.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(Se.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new ZS(s);let f=null;try{return this.decodeBitMatrixParser(c,o)}catch(h){f=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,o);return h.setOther(new Bm(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,o){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),d=md.getDataBlocks(h,c,f);let x=0;for(const T of d)x+=T.getNumDataCodewords();const w=new Uint8Array(x);let y=0;for(const T of d){const O=T.getCodewords(),P=T.getNumDataCodewords();this.correctErrors(O,P);for(let z=0;z<P;z++)w[y++]=O[z]}return mr.decode(w,c,f,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new E}for(let f=0;f<o;f++)s[f]=c[f]}}class wd extends Ge{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=(this.getX()+o)/2,h=(this.getY()+s)/2,d=(this.estimatedModuleSize+c)/2;return new wd(f,h,d)}}class yu{constructor(s,o,c,f,h,d,x){this.image=s,this.startX=o,this.startY=c,this.width=f,this.height=h,this.moduleSize=d,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,f=s+c,h=this.startY+o/2,d=new Int32Array(3),x=this.image;for(let w=0;w<o;w++){const y=h+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));d[0]=0,d[1]=0,d[2]=0;let T=s;for(;T<f&&!x.get(T,y);)T++;let O=0;for(;T<f;){if(x.get(T,y))if(O===1)d[1]++;else if(O===2){if(this.foundPatternCross(d)){const P=this.handlePossibleCenter(d,y,T);if(P!==null)return P}d[0]=d[2],d[1]=1,d[2]=0,O=1}else d[++O]++;else O===1&&O++,d[O]++;T++}if(this.foundPatternCross(d)){const P=this.handlePossibleCenter(d,y,f);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=c)return!1;return!0}crossCheckVertical(s,o,c,f){const h=this.image,d=h.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let w=s;for(;w>=0&&h.get(o,w)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&!h.get(o,w)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<d&&h.get(o,w)&&x[1]<=c;)x[1]++,w++;if(w===d||x[1]>c)return NaN;for(;w<d&&!h.get(o,w)&&x[2]<=c;)x[2]++,w++;if(x[2]>c)return NaN;const y=x[0]+x[1]+x[2];return 5*Math.abs(y-f)>=2*f?NaN:this.foundPatternCross(x)?yu.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,c){const f=s[0]+s[1]+s[2],h=yu.centerFromEnd(s,c),d=this.crossCheckVertical(o,h,2*s[1],f);if(!isNaN(d)){const x=(s[0]+s[1]+s[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(x,d,h))return y.combineEstimate(d,h,x);const w=new wd(h,d,x);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class vd extends Ge{constructor(s,o,c,f){super(s,o),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=this.count+1,h=(this.count*this.getX()+o)/f,d=(this.count*this.getY()+s)/f,x=(this.count*this.estimatedModuleSize+c)/f;return new vd(h,d,x,f)}}class JS{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Qr{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(G.TRY_HARDER)!==void 0,c=s!=null&&s.get(G.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),d=f.getWidth();let x=Math.floor(3*h/(4*Qr.MAX_MODULES));(x<Qr.MIN_SKIP||o)&&(x=Qr.MIN_SKIP);let w=!1;const y=new Int32Array(5);for(let O=x-1;O<h&&!w;O+=x){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let P=0;for(let z=0;z<d;z++)if(f.get(z,O))(P&1)===1&&P++,y[P]++;else if(P&1)y[P]++;else if(P===4)if(Qr.foundPatternCross(y)){if(this.handlePossibleCenter(y,O,z,c)===!0)if(x=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const te=this.findRowSkip();te>y[2]&&(O+=te-y[2]-x,z=d-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,P=3;continue}P=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,P=3;else y[++P]++;Qr.foundPatternCross(y)&&this.handlePossibleCenter(y,O,d,c)===!0&&(x=y[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return Ge.orderBestPatterns(T),new JS(T)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let h=0;h<5;h++){const d=s[h];if(d===0)return!1;o+=d}if(o<7)return!1;const c=o/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,f){const h=this.getCrossCheckStateCount();let d=0;const x=this.image;for(;s>=d&&o>=d&&x.get(o-d,s-d);)h[2]++,d++;if(s<d||o<d)return!1;for(;s>=d&&o>=d&&!x.get(o-d,s-d)&&h[1]<=c;)h[1]++,d++;if(s<d||o<d||h[1]>c)return!1;for(;s>=d&&o>=d&&x.get(o-d,s-d)&&h[0]<=c;)h[0]++,d++;if(h[0]>c)return!1;const w=x.getHeight(),y=x.getWidth();for(d=1;s+d<w&&o+d<y&&x.get(o+d,s+d);)h[2]++,d++;if(s+d>=w||o+d>=y)return!1;for(;s+d<w&&o+d<y&&!x.get(o+d,s+d)&&h[3]<c;)h[3]++,d++;if(s+d>=w||o+d>=y||h[3]>=c)return!1;for(;s+d<w&&o+d<y&&x.get(o+d,s+d)&&h[4]<c;)h[4]++,d++;if(h[4]>=c)return!1;const T=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(T-f)<2*f&&Qr.foundPatternCross(h)}crossCheckVertical(s,o,c,f){const h=this.image,d=h.getHeight(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&h.get(o,w);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(o,w)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&h.get(o,w)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<d&&h.get(o,w);)x[2]++,w++;if(w===d)return NaN;for(;w<d&&!h.get(o,w)&&x[3]<c;)x[3]++,w++;if(w===d||x[3]>=c)return NaN;for(;w<d&&h.get(o,w)&&x[4]<c;)x[4]++,w++;if(x[4]>=c)return NaN;const y=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(y-f)>=2*f?NaN:Qr.foundPatternCross(x)?Qr.centerFromEnd(x,w):NaN}crossCheckHorizontal(s,o,c,f){const h=this.image,d=h.getWidth(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&h.get(w,o);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(w,o)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&h.get(w,o)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<d&&h.get(w,o);)x[2]++,w++;if(w===d)return NaN;for(;w<d&&!h.get(w,o)&&x[3]<c;)x[3]++,w++;if(w===d||x[3]>=c)return NaN;for(;w<d&&h.get(w,o)&&x[4]<c;)x[4]++,w++;if(x[4]>=c)return NaN;const y=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(y-f)>=f?NaN:Qr.foundPatternCross(x)?Qr.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,c,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let d=Qr.centerFromEnd(s,c),x=this.crossCheckVertical(o,Math.floor(d),s[2],h);if(!isNaN(x)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(x),s[2],h),!isNaN(d)&&(!f||this.crossCheckDiagonal(Math.floor(x),Math.floor(d),s[2],h)))){const w=h/7;let y=!1;const T=this.possibleCenters;for(let O=0,P=T.length;O<P;O++){const z=T[O];if(z.aboutEquals(w,x,d)){T[O]=z.combineEstimate(x,d,w),y=!0;break}}if(!y){const O=new vd(d,x,w);T.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=Qr.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Qr.CENTER_QUORUM&&(s++,o+=d.getEstimatedModuleSize());if(s<3)return!1;const f=o/c;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ee;const o=this.possibleCenters;let c;if(s>3){let f=0,h=0;for(const w of this.possibleCenters){const y=w.getEstimatedModuleSize();f+=y,h+=y*y}c=f/s;let d=Math.sqrt(h/s-c*c);o.sort((w,y)=>{const T=Math.abs(y.getEstimatedModuleSize()-c),O=Math.abs(w.getEstimatedModuleSize()-c);return T<O?-1:T>O?1:0});const x=Math.max(.2*c,d);for(let w=0;w<o.length&&o.length>3;w++){const y=o[w];Math.abs(y.getEstimatedModuleSize()-c)>x&&(o.splice(w,1),w--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();c=f/o.length,o.sort((h,d)=>{if(d.getCount()===h.getCount()){const x=Math.abs(d.getEstimatedModuleSize()-c),w=Math.abs(h.getEstimatedModuleSize()-c);return x<w?1:x>w?-1:0}else return d.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Qr.CENTER_QUORUM=2,Qr.MIN_SKIP=3,Qr.MAX_MODULES=57;class oc{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(G.NEED_RESULT_POINT_CALLBACK);const c=new Qr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(o,c,f);if(h<1)throw new ee("No pattern found in proccess finder.");const d=oc.computeDimension(o,c,f,h),x=et.getProvisionalVersionForDimension(d),w=x.getDimensionForVersion()-7;let y=null;if(x.getAlignmentPatternCenters().length>0){const z=c.getX()-o.getX()+f.getX(),J=c.getY()-o.getY()+f.getY(),te=1-3/w,he=Math.floor(o.getX()+te*(z-o.getX())),me=Math.floor(o.getY()+te*(J-o.getY()));for(let Le=4;Le<=16;Le<<=1)try{y=this.findAlignmentInRegion(h,he,me,Le);break}catch(We){if(!(We instanceof ee))throw We}}const T=oc.createTransform(o,c,f,y,d),O=oc.sampleGrid(this.image,T,d);let P;return y===null?P=[f,o,c]:P=[f,o,c,y],new Kn(O,P)}static createTransform(s,o,c,f,h){const d=h-3.5;let x,w,y,T;return f!==null?(x=f.getX(),w=f.getY(),y=d-3,T=y):(x=o.getX()-s.getX()+c.getX(),w=o.getY()-s.getY()+c.getY(),y=d,T=d),dr.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,T,3.5,d,s.getX(),s.getY(),o.getX(),o.getY(),x,w,c.getX(),c.getY())}static sampleGrid(s,o,c){return er.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,f){const h=it.round(Ge.distance(s,o)/f),d=it.round(Ge.distance(s,c)/f);let x=Math.floor((h+d)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new ee("Dimensions could be not found.")}return x}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,f){let h=this.sizeOfBlackWhiteBlackRun(s,o,c,f),d=1,x=s-(c-s);x<0?(d=s/(s-x),x=0):x>=this.image.getWidth()&&(d=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let w=Math.floor(o-(f-o)*d);return d=1,w<0?(d=o/(o-w),w=0):w>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(w-o),w=this.image.getHeight()-1),x=Math.floor(s+(x-s)*d),h+=this.sizeOfBlackWhiteBlackRun(s,o,x,w),h-1}sizeOfBlackWhiteBlackRun(s,o,c,f){const h=Math.abs(f-o)>Math.abs(c-s);if(h){let z=s;s=o,o=z,z=c,c=f,f=z}const d=Math.abs(c-s),x=Math.abs(f-o);let w=-d/2;const y=s<c?1:-1,T=o<f?1:-1;let O=0;const P=c+y;for(let z=s,J=o;z!==P;z+=y){const te=h?J:z,he=h?z:J;if(O===1===this.image.get(te,he)){if(O===2)return it.distance(z,J,s,o);O++}if(w+=x,w>0){if(J===f)break;J+=T,w-=d}}return O===2?it.distance(c+y,f,s,o):NaN}findAlignmentInRegion(s,o,c,f){const h=Math.floor(f*s),d=Math.max(0,o-h),x=Math.min(this.image.getWidth()-1,o+h);if(x-d<s*3)throw new ee("Alignment top exceeds estimated module size.");const w=Math.max(0,c-h),y=Math.min(this.image.getHeight()-1,c+h);if(y-w<s*3)throw new ee("Alignment bottom exceeds estimated module size.");return new yu(this.image,d,w,x-d,y-w,s,this.resultPointCallback).find()}}class ta{constructor(){this.decoder=new QS}getDecoder(){return this.decoder}decode(s,o){let c,f;if(o!=null&&o.get(G.PURE_BARCODE)!==void 0){const w=ta.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(w,o),f=ta.NO_POINTS}else{const w=new oc(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(w.getBits(),o),f=w.getPoints()}c.getOther()instanceof Bm&&c.getOther().applyMirroredCorrection(f);const h=new Q(c.getText(),c.getRawBytes(),void 0,f,ie.QR_CODE,void 0),d=c.getByteSegments();d!==null&&h.putMetadata(Ae.BYTE_SEGMENTS,d);const x=c.getECLevel();return x!==null&&h.putMetadata(Ae.ERROR_CORRECTION_LEVEL,x),c.hasStructuredAppend()&&(h.putMetadata(Ae.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(Ae.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new ee;const f=this.moduleSize(o,s);let h=o[1],d=c[1],x=o[0],w=c[0];if(x>=w||h>=d)throw new ee;if(d-h!==w-x&&(w=x+(d-h),w>=s.getWidth()))throw new ee;const y=Math.round((w-x+1)/f),T=Math.round((d-h+1)/f);if(y<=0||T<=0)throw new ee;if(T!==y)throw new ee;const O=Math.floor(f/2);h+=O,x+=O;const P=x+Math.floor((y-1)*f)-w;if(P>0){if(P>O)throw new ee;x-=P}const z=h+Math.floor((T-1)*f)-d;if(z>0){if(z>O)throw new ee;h-=z}const J=new Se(y,T);for(let te=0;te<T;te++){const he=h+Math.floor(te*f);for(let me=0;me<y;me++)s.get(x+Math.floor(me*f),he)&&J.set(me,te)}return J}static moduleSize(s,o){const c=o.getHeight(),f=o.getWidth();let h=s[0],d=s[1],x=!0,w=0;for(;h<f&&d<c;){if(x!==o.get(h,d)){if(++w===5)break;x=!x}h++,d++}if(h===f||d===c)throw new ee;return(h-s[0])/7}}ta.NO_POINTS=new Array;class at{PDF417Common(){}static getBitCountSum(s){return it.sum(s)}static toIntArray(s){if(s==null||!s.length)return at.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const f of s)o[c++]=f;return o}static getCodeword(s){const o=k.binarySearch(at.SYMBOL_TABLE,s&262143);return o<0?-1:(at.CODEWORD_TABLE[o]-1)%at.NUMBER_OF_CODEWORDS}}at.NUMBER_OF_CODEWORDS=929,at.MAX_CODEWORDS_IN_BARCODE=at.NUMBER_OF_CODEWORDS-1,at.MIN_ROWS_IN_BARCODE=3,at.MAX_ROWS_IN_BARCODE=90,at.MODULES_IN_CODEWORD=17,at.MODULES_IN_STOP_PATTERN=18,at.BARS_IN_MODULE=8,at.EMPTY_INT_ARRAY=new Int32Array([]),at.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),at.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class eT{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class wt{static detectMultiple(s,o,c){let f=s.getBlackMatrix(),h=wt.detect(c,f);return h.length||(f=f.clone(),f.rotate180(),h=wt.detect(c,f)),new eT(f,h)}static detect(s,o){const c=new Array;let f=0,h=0,d=!1;for(;f<o.getHeight();){const x=wt.findVertices(o,f,h);if(x[0]==null&&x[3]==null){if(!d)break;d=!1,h=0;for(const w of c)w[1]!=null&&(f=Math.trunc(Math.max(f,w[1].getY()))),w[3]!=null&&(f=Math.max(f,Math.trunc(w[3].getY())));f+=wt.ROW_STEP;continue}if(d=!0,c.push(x),!s)break;x[2]!=null?(h=Math.trunc(x[2].getX()),f=Math.trunc(x[2].getY())):(h=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY()))}return c}static findVertices(s,o,c){const f=s.getHeight(),h=s.getWidth(),d=new Array(8);return wt.copyToResult(d,wt.findRowsWithPattern(s,f,h,o,c,wt.START_PATTERN),wt.INDEXES_START_PATTERN),d[4]!=null&&(c=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),wt.copyToResult(d,wt.findRowsWithPattern(s,f,h,o,c,wt.STOP_PATTERN),wt.INDEXES_STOP_PATTERN),d}static copyToResult(s,o,c){for(let f=0;f<c.length;f++)s[c[f]]=o[f]}static findRowsWithPattern(s,o,c,f,h,d){const x=new Array(4);let w=!1;const y=new Int32Array(d.length);for(;f<o;f+=wt.ROW_STEP){let O=wt.findGuardPattern(s,h,f,c,!1,d,y);if(O!=null){for(;f>0;){const P=wt.findGuardPattern(s,h,--f,c,!1,d,y);if(P!=null)O=P;else{f++;break}}x[0]=new Ge(O[0],f),x[1]=new Ge(O[1],f),w=!0;break}}let T=f+1;if(w){let O=0,P=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;T<o;T++){const z=wt.findGuardPattern(s,P[0],T,c,!1,d,y);if(z!=null&&Math.abs(P[0]-z[0])<wt.MAX_PATTERN_DRIFT&&Math.abs(P[1]-z[1])<wt.MAX_PATTERN_DRIFT)P=z,O=0;else{if(O>wt.SKIPPED_ROW_COUNT_MAX)break;O++}}T-=O+1,x[2]=new Ge(P[0],T),x[3]=new Ge(P[1],T)}return T-f<wt.BARCODE_MIN_HEIGHT&&k.fill(x,null),x}static findGuardPattern(s,o,c,f,h,d,x){k.fillWithin(x,0,x.length,0);let w=o,y=0;for(;s.get(w,c)&&w>0&&y++<wt.MAX_PIXEL_DRIFT;)w--;let T=w,O=0,P=d.length;for(let z=h;T<f;T++)if(s.get(T,c)!==z)x[O]++;else{if(O===P-1){if(wt.patternMatchVariance(x,d,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return new Int32Array([w,T]);w+=x[0]+x[1],C.arraycopy(x,2,x,0,O-1),x[O-1]=0,x[O]=0,O--}else O++;x[O]=1,z=!z}return O===P-1&&wt.patternMatchVariance(x,d,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE?new Int32Array([w,T-1]):null}static patternMatchVariance(s,o,c){let f=s.length,h=0,d=0;for(let y=0;y<f;y++)h+=s[y],d+=o[y];if(h<d)return 1/0;let x=h/d;c*=x;let w=0;for(let y=0;y<f;y++){let T=s[y],O=o[y]*x,P=T>O?T-O:O-T;if(P>c)return 1/0;w+=P}return w/h}}wt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),wt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),wt.MAX_AVG_VARIANCE=.42,wt.MAX_INDIVIDUAL_VARIANCE=.8,wt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),wt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),wt.MAX_PIXEL_DRIFT=3,wt.MAX_PATTERN_DRIFT=5,wt.SKIPPED_ROW_COUNT_MAX=25,wt.ROW_STEP=5,wt.BARCODE_MIN_HEIGHT=10;class cn{constructor(s,o){if(o.length===0)throw new v;this.field=s;let c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let d=o;o=c,c=d}let f=new Int32Array(c.length),h=c.length-o.length;C.arraycopy(c,0,f,0,h);for(let d=h;d<c.length;d++)f[d]=this.field.add(o[d-h],c[d]);return new cn(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof cn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new cn(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,d=new Int32Array(c+h-1);for(let x=0;x<c;x++){let w=o[x];for(let y=0;y<h;y++)d[x+y]=this.field.add(d[x+y],this.field.multiply(w,f[y]))}return new cn(this.field,d)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new cn(this.field,o)}multiplyScalar(s){if(s===0)return new cn(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new cn(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return new cn(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let h=0;h<c;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new cn(this.field,f)}toString(){let s=new Ee;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class tT{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new Y;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class yd extends tT{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new cn(this,new Int32Array([0])),this.one=new cn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new cn(this,c)}}yd.PDF417_GF=new yd(at.NUMBER_OF_CODEWORDS,3);class Lm{constructor(){this.field=yd.PDF417_GF}decode(s,o,c){let f=new cn(this.field,s),h=new Int32Array(o),d=!1;for(let J=o;J>0;J--){let te=f.evaluateAt(this.field.exp(J));h[o-J]=te,te!==0&&(d=!0)}if(!d)return 0;let x=this.field.getOne();if(c!=null)for(const J of c){let te=this.field.exp(s.length-1-J),he=new cn(this.field,new Int32Array([this.field.subtract(0,te),1]));x=x.multiply(he)}let w=new cn(this.field,h),y=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),w,o),T=y[0],O=y[1],P=this.findErrorLocations(T),z=this.findErrorMagnitudes(O,T,P);for(let J=0;J<P.length;J++){let te=s.length-1-this.field.log(P[J]);if(te<0)throw E.getChecksumInstance();s[te]=this.field.subtract(s[te],z[J])}return P.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let P=s;s=o,o=P}let f=s,h=o,d=this.field.getZero(),x=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let P=f,z=d;if(f=h,d=x,f.isZero())throw E.getChecksumInstance();h=P;let J=this.field.getZero(),te=f.getCoefficient(f.getDegree()),he=this.field.inverse(te);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let me=h.getDegree()-f.getDegree(),Le=this.field.multiply(h.getCoefficient(h.getDegree()),he);J=J.add(this.field.buildMonomial(me,Le)),h=h.subtract(f.multiplyByMonomial(me,Le))}x=J.multiply(d).subtract(z).negative()}let w=x.getCoefficient(0);if(w===0)throw E.getChecksumInstance();let y=this.field.inverse(w),T=x.multiply(y),O=h.multiply(y);return[T,O]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(c[f]=this.field.inverse(h),f++);if(f!==o)throw E.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let f=o.getDegree(),h=new Int32Array(f);for(let y=1;y<=f;y++)h[f-y]=this.field.multiply(y,o.getCoefficient(y));let d=new cn(this.field,h),x=c.length,w=new Int32Array(x);for(let y=0;y<x;y++){let T=this.field.inverse(c[y]),O=this.field.subtract(0,s.evaluateAt(T)),P=this.field.inverse(d.evaluateAt(T));w[y]=this.field.multiply(O,P)}return w}}class $a{constructor(s,o,c,f,h){s instanceof $a?this.constructor_2(s):this.constructor_1(s,o,c,f,h)}constructor_1(s,o,c,f,h){const d=o==null||c==null,x=f==null||h==null;if(d&&x)throw new ee;d?(o=new Ge(0,f.getY()),c=new Ge(0,h.getY())):x&&(f=new Ge(s.getWidth()-1,o.getY()),h=new Ge(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new $a(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let f=this.topLeft,h=this.bottomLeft,d=this.topRight,x=this.bottomRight;if(s>0){let w=c?this.topLeft:this.topRight,y=Math.trunc(w.getY()-s);y<0&&(y=0);let T=new Ge(w.getX(),y);c?f=T:d=T}if(o>0){let w=c?this.bottomLeft:this.bottomRight,y=Math.trunc(w.getY()+o);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let T=new Ge(w.getX(),y);c?h=T:x=T}return new $a(this.image,f,h,d,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class rT{constructor(s,o,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class lc{constructor(){this.buffer=""}static form(s,o){let c=-1;function f(d,x,w,y,T,O){if(d==="%%")return"%";if(o[++c]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let P=T?parseInt(T.substr(1)):void 0,z;switch(O){case"s":z=o[c];break;case"c":z=o[c][0];break;case"f":z=parseFloat(o[c]).toFixed(d);break;case"p":z=parseFloat(o[c]).toPrecision(d);break;case"e":z=parseFloat(o[c]).toExponential(d);break;case"x":z=parseInt(o[c]).toString(P||16);break;case"d":z=parseFloat(parseInt(o[c],P||10).toPrecision(d)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(P);let J=parseInt(w),te=w&&w[0]+""=="0"?"0":" ";for(;z.length<J;)z=x!==void 0?z+te:te+z;return z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...o){this.buffer+=lc.form(s,o)}toString(){return this.buffer}}class cc{constructor(s){this.boundingBox=new $a(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<cc.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new lc;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}cc.MAX_NEARBY_DISTANCE=5;class uc{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,f]of this.values.entries()){const h={getKey:()=>c,getValue:()=>f};h.getValue()>s?(s=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===s&&o.push(h.getKey())}return at.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Um extends cc{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=-1,y=1,T=0;for(let O=d;O<x;O++){if(o[O]==null)continue;let P=o[O],z=P.getRowNumber()-w;if(z===0)T++;else if(z===1)y=Math.max(y,T),T=1,w=P.getRowNumber();else if(z<0||P.getRowNumber()>=s.getRowCount()||z>O)o[O]=null;else{let J;y>2?J=(y-2)*z:J=z;let te=J>=O;for(let he=1;he<=J&&!te;he++)te=o[O-he]!=null;te?o[O]=null:(w=P.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),d=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.getCodewords(),w=-1;for(let y=h;y<d;y++){if(x[y]==null)continue;let T=x[y];T.setRowNumberAsRowIndicatorColumn();let O=T.getRowNumber()-w;O===0||(O===1?w=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?x[y]=null:w=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new uc,c=new uc,f=new uc,h=new uc;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let w=x.getValue()%30,y=x.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:c.setValue(w*3+1);break;case 1:h.setValue(w/3),f.setValue(w%3);break;case 2:o.setValue(w+1);break}}if(o.getValue().length===0||c.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<at.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>at.MAX_ROWS_IN_BARCODE)return null;let d=new rT(o.getValue()[0],c.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,d),d}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let h=f.getValue()%30,d=f.getRowNumber();if(d>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:h+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class fc{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=at.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[c];h!=null&&(h.setRowNumber(s[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let x=this.detectionResultColumns[d].getCodewords()[c];x!=null&&(h=fc.adjustRowNumberIfValid(f,h,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let x=this.detectionResultColumns[d].getCodewords()[c];x!=null&&(h=fc.adjustRowNumberIfValid(f,h,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let f=c[o],h=this.detectionResultColumns[s-1].getCodewords(),d=h;this.detectionResultColumns[s+1]!=null&&(d=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=h[o],x[3]=d[o],o>0&&(x[0]=c[o-1],x[4]=h[o-1],x[5]=d[o-1]),o>1&&(x[8]=c[o-2],x[10]=h[o-2],x[11]=d[o-2]),o<c.length-1&&(x[1]=c[o+1],x[6]=h[o+1],x[7]=d[o+1]),o<c.length-2&&(x[9]=c[o+2],x[12]=h[o+2],x[13]=d[o+2]);for(let w of x)if(fc.adjustRowNumber(f,w))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new lc;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[c];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class hc{constructor(s,o,c,f){this.rowNumber=hc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==hc.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}hc.BARCODE_ROW_UNKNOWN=-1;class qn{static initialize(){for(let s=0;s<at.SYMBOL_TABLE.length;s++){let o=at.SYMBOL_TABLE[s],c=o&1;for(let f=0;f<at.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===c;)h+=1,o>>=1;c=o&1,qn.RATIOS_TABLE[s]||(qn.RATIOS_TABLE[s]=new Array(at.BARS_IN_MODULE)),qn.RATIOS_TABLE[s][at.BARS_IN_MODULE-f-1]=Math.fround(h/at.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=qn.getDecodedCodewordValue(qn.sampleBitCounts(s));return o!==-1?o:qn.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=it.sum(s),c=new Int32Array(at.BARS_IN_MODULE),f=0,h=0;for(let d=0;d<at.MODULES_IN_CODEWORD;d++){let x=o/(2*at.MODULES_IN_CODEWORD)+d*o/at.MODULES_IN_CODEWORD;h+s[f]<=x&&(h+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let o=qn.getBitValue(s);return at.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=it.sum(s),c=new Array(at.BARS_IN_MODULE);if(o>1)for(let d=0;d<c.length;d++)c[d]=Math.fround(s[d]/o);let f=Dt.MAX_VALUE,h=-1;this.bSymbolTableReady||qn.initialize();for(let d=0;d<qn.RATIOS_TABLE.length;d++){let x=0,w=qn.RATIOS_TABLE[d];for(let y=0;y<at.BARS_IN_MODULE;y++){let T=Math.fround(w[y]-c[y]);if(x+=Math.fround(T*T),x>=f)break}x<f&&(f=x,h=at.SYMBOL_TABLE[d])}return h}}qn.bSymbolTableReady=!1,qn.RATIOS_TABLE=new Array(at.SYMBOL_TABLE.length).map(R=>new Array(at.BARS_IN_MODULE));class jm{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Wm{static parseLong(s,o=void 0){return parseInt(s,o)}}class Vm extends p{}Vm.kind="NullPointerException";class nT{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new Vm;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new I;if(c===0)return;for(let f=0;f<c;f++)this.write(s[o+f])}flush(){}close(){}}class iT extends p{}class sT extends nT{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new iT;c=S.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new I;this.ensureCapacity(this.count+c),C.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Kt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Kt||(Kt={}));function Hm(){if(typeof window<"u")return window.BigInt||null;if(typeof pc<"u")return pc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _u;function ra(R){if(typeof _u>"u"&&(_u=Hm()),_u===null)throw new Error("BigInt is not supported!");return _u(R)}function aT(){let R=[];R[0]=ra(1);let s=ra(900);R[1]=s;for(let o=2;o<16;o++)R[o]=R[o-1]*s;return R}class xe{static decode(s,o){let c=new Ee(""),f=W.ISO8859_1;c.enableDecoding(f);let h=1,d=s[h++],x=new jm;for(;h<s[0];){switch(d){case xe.TEXT_COMPACTION_MODE_LATCH:h=xe.textCompaction(s,h,c);break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:h=xe.byteCompaction(d,s,f,h,c);break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h++]);break;case xe.NUMERIC_COMPACTION_MODE_LATCH:h=xe.numericCompaction(s,h,c);break;case xe.ECI_CHARSET:W.getCharacterSetECIByValue(s[h++]);break;case xe.ECI_GENERAL_PURPOSE:h+=2;break;case xe.ECI_USER_DEFINED:h++;break;case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=xe.decodeMacroBlock(s,h,x);break;case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:throw new F;default:h--,h=xe.textCompaction(s,h,c);break}if(h<s.length)d=s[h++];else throw F.getFormatInstance()}if(c.length()===0)throw F.getFormatInstance();let w=new Me(null,c.toString(),null,o);return w.setOther(x),w}static decodeMacroBlock(s,o,c){if(o+xe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw F.getFormatInstance();let f=new Int32Array(xe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<xe.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)f[x]=s[o];c.setSegmentIndex(S.parseInt(xe.decodeBase900toBase10(f,xe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Ee;o=xe.textCompaction(s,o,h),c.setFileId(h.toString());let d=-1;for(s[o]===xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<s[0];)switch(s[o]){case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new Ee;o=xe.textCompaction(s,o+1,x),c.setFileName(x.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Ee;o=xe.textCompaction(s,o+1,w),c.setSender(w.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Ee;o=xe.textCompaction(s,o+1,y),c.setAddressee(y.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new Ee;o=xe.numericCompaction(s,o+1,T),c.setSegmentCount(S.parseInt(T.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new Ee;o=xe.numericCompaction(s,o+1,O),c.setTimestamp(Wm.parseLong(O.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new Ee;o=xe.numericCompaction(s,o+1,P),c.setChecksum(S.parseInt(P.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new Ee;o=xe.numericCompaction(s,o+1,z),c.setFileSize(Wm.parseLong(z.toString()));break;default:throw F.getFormatInstance()}break;case xe.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(d!==-1){let x=o-d;c.isLastSegment()&&x--,c.setOptionalData(k.copyOfRange(s,d,d+x))}return o}static textCompaction(s,o,c){let f=new Int32Array((s[0]-o)*2),h=new Int32Array((s[0]-o)*2),d=0,x=!1;for(;o<s[0]&&!x;){let w=s[o++];if(w<xe.TEXT_COMPACTION_MODE_LATCH)f[d]=w/30,f[d+1]=w%30,d+=2;else switch(w){case xe.TEXT_COMPACTION_MODE_LATCH:f[d++]=xe.TEXT_COMPACTION_MODE_LATCH;break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[d]=xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=s[o++],h[d]=w,d++;break}}return xe.decodeTextCompaction(f,h,d,c),o}static decodeTextCompaction(s,o,c,f){let h=Kt.ALPHA,d=Kt.ALPHA,x=0;for(;x<c;){let w=s[x],y="";switch(h){case Kt.ALPHA:if(w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case xe.LL:h=Kt.LOWER;break;case xe.ML:h=Kt.MIXED;break;case xe.PS:d=h,h=Kt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Kt.ALPHA;break}break;case Kt.LOWER:if(w<26)y=String.fromCharCode(97+w);else switch(w){case 26:y=" ";break;case xe.AS:d=h,h=Kt.ALPHA_SHIFT;break;case xe.ML:h=Kt.MIXED;break;case xe.PS:d=h,h=Kt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Kt.ALPHA;break}break;case Kt.MIXED:if(w<xe.PL)y=xe.MIXED_CHARS[w];else switch(w){case xe.PL:h=Kt.PUNCT;break;case 26:y=" ";break;case xe.LL:h=Kt.LOWER;break;case xe.AL:h=Kt.ALPHA;break;case xe.PS:d=h,h=Kt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Kt.ALPHA;break}break;case Kt.PUNCT:if(w<xe.PAL)y=xe.PUNCT_CHARS[w];else switch(w){case xe.PAL:h=Kt.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Kt.ALPHA;break}break;case Kt.ALPHA_SHIFT:if(h=d,w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Kt.ALPHA;break}break;case Kt.PUNCT_SHIFT:if(h=d,w<xe.PAL)y=xe.PUNCT_CHARS[w];else switch(w){case xe.PAL:h=Kt.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Kt.ALPHA;break}break}y!==""&&f.append(y),x++}}static byteCompaction(s,o,c,f,h){let d=new sT,x=0,w=0,y=!1;switch(s){case xe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),O=o[f++];for(;f<o[0]&&!y;)switch(T[x++]=O,w=900*w+O,O=o[f++],O){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:f--,y=!0;break;default:if(x%5===0&&x>0){for(let P=0;P<6;++P)d.write(Number(ra(w)>>ra(8*(5-P))));w=0,x=0}break}f===o[0]&&O<xe.TEXT_COMPACTION_MODE_LATCH&&(T[x++]=O);for(let P=0;P<x;P++)d.write(T[P]);break;case xe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!y;){let P=o[f++];if(P<xe.TEXT_COMPACTION_MODE_LATCH)x++,w=900*w+P;else switch(P){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:f--,y=!0;break}if(x%5===0&&x>0){for(let z=0;z<6;++z)d.write(Number(ra(w)>>ra(8*(5-z))));w=0,x=0}}break}return h.append(ue.decode(d.toByteArray(),c)),f}static numericCompaction(s,o,c){let f=0,h=!1,d=new Int32Array(xe.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!h;){let x=s[o++];if(o===s[0]&&(h=!0),x<xe.TEXT_COMPACTION_MODE_LATCH)d[f]=x,f++;else switch(x){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%xe.MAX_NUMERIC_CODEWORDS===0||x===xe.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(c.append(xe.decodeBase900toBase10(d,f)),f=0)}return o}static decodeBase900toBase10(s,o){let c=ra(0);for(let h=0;h<o;h++)c+=xe.EXP900[o-h-1]*ra(s[h]);let f=c.toString();if(f.charAt(0)!=="1")throw new F;return f.substring(1)}}xe.TEXT_COMPACTION_MODE_LATCH=900,xe.BYTE_COMPACTION_MODE_LATCH=901,xe.NUMERIC_COMPACTION_MODE_LATCH=902,xe.BYTE_COMPACTION_MODE_LATCH_6=924,xe.ECI_USER_DEFINED=925,xe.ECI_GENERAL_PURPOSE=926,xe.ECI_CHARSET=927,xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,xe.MACRO_PDF417_TERMINATOR=922,xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,xe.MAX_NUMERIC_CODEWORDS=15,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,xe.PL=25,xe.LL=27,xe.AS=27,xe.ML=28,xe.AL=28,xe.PS=29,xe.PAL=29,xe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,xe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",xe.EXP900=Hm()?aT():[],xe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Et{constructor(){}static decode(s,o,c,f,h,d,x){let w=new $a(s,o,c,f,h),y=null,T=null,O;for(let J=!0;;J=!1){if(o!=null&&(y=Et.getRowIndicatorColumn(s,w,o,!0,d,x)),f!=null&&(T=Et.getRowIndicatorColumn(s,w,f,!1,d,x)),O=Et.merge(y,T),O==null)throw ee.getNotFoundInstance();let te=O.getBoundingBox();if(J&&te!=null&&(te.getMinY()<w.getMinY()||te.getMaxY()>w.getMaxY()))w=te;else break}O.setBoundingBox(w);let P=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,y),O.setDetectionResultColumn(P,T);let z=y!=null;for(let J=1;J<=P;J++){let te=z?J:P-J;if(O.getDetectionResultColumn(te)!==void 0)continue;let he;te===0||te===P?he=new Um(w,te===0):he=new cc(w),O.setDetectionResultColumn(te,he);let me=-1,Le=me;for(let We=w.getMinY();We<=w.getMaxY();We++){if(me=Et.getStartColumn(O,te,We,z),me<0||me>w.getMaxX()){if(Le===-1)continue;me=Le}let Ie=Et.detectCodeword(s,w.getMinX(),w.getMaxX(),z,me,We,d,x);Ie!=null&&(he.setCodeword(We,Ie),Le=me,d=Math.min(d,Ie.getWidth()),x=Math.max(x,Ie.getWidth()))}}return Et.createDecoderResult(O)}static merge(s,o){if(s==null&&o==null)return null;let c=Et.getBarcodeMetadata(s,o);if(c==null)return null;let f=$a.merge(Et.adjustBoundingBox(s),Et.adjustBoundingBox(o));return new fc(c,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=Et.getMax(o),f=0;for(let x of o)if(f+=c-x,x>0)break;let h=s.getCodewords();for(let x=0;f>0&&h[x]==null;x++)f--;let d=0;for(let x=o.length-1;x>=0&&(d+=c-o[x],!(o[x]>0));x--);for(let x=h.length-1;d>0&&h[x]==null;x--)d--;return s.getBoundingBox().addMissingRows(f,d,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,f,h,d){let x=new Um(o,f);for(let w=0;w<2;w++){let y=w===0?1:-1,T=Math.trunc(Math.trunc(c.getX()));for(let O=Math.trunc(Math.trunc(c.getY()));O<=o.getMaxY()&&O>=o.getMinY();O+=y){let P=Et.detectCodeword(s,0,s.getWidth(),f,T,O,h,d);P!=null&&(x.setCodeword(O,P),f?T=P.getStartX():T=P.getEndX())}}return x}static adjustCodewordCount(s,o){let c=o[0][1],f=c.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Et.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>at.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();c.setValue(h)}else f[0]!==h&&c.setValue(h)}static createDecoderResult(s){let o=Et.createBarcodeMatrix(s);Et.adjustCodewordCount(s,o);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],d=new Array;for(let w=0;w<s.getBarcodeRowCount();w++)for(let y=0;y<s.getBarcodeColumnCount();y++){let T=o[w][y+1].getValue(),O=w*s.getBarcodeColumnCount()+y;T.length===0?c.push(O):T.length===1?f[O]=T[0]:(d.push(O),h.push(T))}let x=new Array(h.length);for(let w=0;w<x.length;w++)x[w]=h[w];return Et.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,at.toIntArray(c),at.toIntArray(d),x)}static createDecoderResultFromAmbiguousValues(s,o,c,f,h){let d=new Int32Array(f.length),x=100;for(;x-- >0;){for(let w=0;w<d.length;w++)o[f[w]]=h[w][d[w]];try{return Et.decodeCodewords(o,s,c)}catch(w){if(!(w instanceof E))throw w}if(d.length===0)throw E.getChecksumInstance();for(let w=0;w<d.length;w++)if(d[w]<h[w].length-1){d[w]++;break}else if(d[w]=0,w===d.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new uc;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][c].setValue(h.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,f){let h=f?1:-1,d=null;if(Et.isValidBarcodeColumn(s,o-h)&&(d=s.getDetectionResultColumn(o-h).getCodeword(c)),d!=null)return f?d.getEndX():d.getStartX();if(d=s.getDetectionResultColumn(o).getCodewordNearby(c),d!=null)return f?d.getStartX():d.getEndX();if(Et.isValidBarcodeColumn(s,o-h)&&(d=s.getDetectionResultColumn(o-h).getCodewordNearby(c)),d!=null)return f?d.getEndX():d.getStartX();let x=0;for(;Et.isValidBarcodeColumn(s,o-h);){o-=h;for(let w of s.getDetectionResultColumn(o).getCodewords())if(w!=null)return(f?w.getEndX():w.getStartX())+h*x*(w.getEndX()-w.getStartX());x++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,f,h,d,x,w){h=Et.adjustCodewordStartColumn(s,o,c,f,h,d);let y=Et.getModuleBitCount(s,o,c,f,h,d);if(y==null)return null;let T,O=it.sum(y);if(f)T=h+O;else{for(let J=0;J<y.length/2;J++){let te=y[J];y[J]=y[y.length-1-J],y[y.length-1-J]=te}T=h,h=T-O}if(!Et.checkCodewordSkew(O,x,w))return null;let P=qn.getDecodedValue(y),z=at.getCodeword(P);return z===-1?null:new hc(h,T,Et.getCodewordBucketNumber(P),z)}static getModuleBitCount(s,o,c,f,h,d){let x=h,w=new Int32Array(8),y=0,T=f?1:-1,O=f;for(;(f?x<c:x>=o)&&y<w.length;)s.get(x,d)===O?(w[y]++,x+=T):(y++,O=!O);return y===w.length||x===(f?c:o)&&y===w.length-1?w:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,f,h,d){let x=h,w=f?-1:1;for(let y=0;y<2;y++){for(;(f?x>=o:x<c)&&f===s.get(x,d);){if(Math.abs(h-x)>Et.CODEWORD_SKEW_SIZE)return h;x+=w}w=-w,f=!f}return x}static checkCodewordSkew(s,o,c){return o-Et.CODEWORD_SKEW_SIZE<=s&&s<=c+Et.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw F.getFormatInstance();let f=1<<o+1,h=Et.correctErrors(s,c,f);Et.verifyCodewordCount(s,f);let d=xe.decode(s,""+o);return d.setErrorsCorrected(h),d.setErasures(c.length),d}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+Et.MAX_ERRORS||c<0||c>Et.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Et.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw F.getFormatInstance();let c=s[0];if(c>s.length)throw F.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw F.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,f=o.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Et.getCodewordBucketNumber(Et.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new lc;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let h=s[c][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}Et.CODEWORD_SKEW_SIZE=2,Et.MAX_ERRORS=3,Et.MAX_EC_CODEWORDS=512,Et.errorCorrection=new Lm;class un{decode(s,o=null){let c=un.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw ee.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return un.decode(s,o,!0)}catch(c){throw c instanceof F||c instanceof E?ee.getNotFoundInstance():c}}static decode(s,o,c){const f=new Array,h=wt.detectMultiple(s,o,c);for(const d of h.getPoints()){const x=Et.decode(h.getBits(),d[4],d[5],d[6],d[7],un.getMinCodewordWidth(d),un.getMaxCodewordWidth(d)),w=new Q(x.getText(),x.getRawBytes(),void 0,d,ie.PDF_417);w.putMetadata(Ae.ERROR_CORRECTION_LEVEL,x.getECLevel());const y=x.getOther();y!=null&&w.putMetadata(Ae.PDF417_EXTRA_METADATA,y),f.push(w)}return f.map(d=>d)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?S.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(un.getMaxWidth(s[0],s[4]),un.getMaxWidth(s[6],s[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.max(un.getMaxWidth(s[1],s[5]),un.getMaxWidth(s[7],s[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(un.getMinWidth(s[0],s[4]),un.getMinWidth(s[6],s[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.min(un.getMinWidth(s[1],s[5]),un.getMinWidth(s[7],s[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}reset(){}}class Eu extends p{}Eu.kind="ReaderException";class zm{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!n(s)&&s.get(G.TRY_HARDER)===!0,c=n(s)?null:s.get(G.POSSIBLE_FORMATS),f=new Array;if(!n(c)){const h=c.some(d=>d===ie.UPC_A||d===ie.UPC_E||d===ie.EAN_13||d===ie.EAN_8||d===ie.CODABAR||d===ie.CODE_39||d===ie.CODE_93||d===ie.CODE_128||d===ie.ITF||d===ie.RSS_14||d===ie.RSS_EXPANDED);h&&!o&&f.push(new Si(s,this.verbose)),c.includes(ie.QR_CODE)&&f.push(new ta),c.includes(ie.DATA_MATRIX)&&f.push(new ea),c.includes(ie.AZTEC)&&f.push(new Yt),c.includes(ie.PDF_417)&&f.push(new un),h&&o&&f.push(new Si(s,this.verbose))}f.length===0&&(o||f.push(new Si(s,this.verbose)),f.push(new ta),f.push(new ea),f.push(new Yt),f.push(new un),o&&f.push(new Si(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Eu("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof Eu)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class oT extends ae{constructor(s=null,o=500){const c=new zm;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class lT extends ae{constructor(s=500){super(new un,s)}}class cT extends ae{constructor(s=500){super(new ta,s)}}var _d;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(_d||(_d={}));var Hr=_d;class Ed{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new tt(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const f=this.field;for(let h=o.length;h<=s;h++){const d=c.multiply(new tt(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(d),c=d}}return o[s]}encode(s,o){if(o===0)throw new v("No error correction bytes");const c=s.length-o;if(c<=0)throw new v("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(c);C.arraycopy(s,0,h,0,c);let d=new tt(this.field,h);d=d.multiplyByMonomial(o,1);const w=d.divide(f)[1].getCoefficients(),y=o-w.length;for(let T=0;T<y;T++)s[c+T]=0;C.arraycopy(w,0,s,c+y,w.length)}}class _r{constructor(){}static applyMaskPenaltyRule1(s){return _r.applyMaskPenaltyRule1Internal(s,!0)+_r.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let d=0;d<h-1;d++){const x=c[d];for(let w=0;w<f-1;w++){const y=x[w];y===x[w+1]&&y===c[d+1][w]&&y===c[d+1][w+1]&&o++}}return _r.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let d=0;d<h;d++)for(let x=0;x<f;x++){const w=c[d];x+6<f&&w[x]===1&&w[x+1]===0&&w[x+2]===1&&w[x+3]===1&&w[x+4]===1&&w[x+5]===0&&w[x+6]===1&&(_r.isWhiteHorizontal(w,x-4,x)||_r.isWhiteHorizontal(w,x+7,x+11))&&o++,d+6<h&&c[d][x]===1&&c[d+1][x]===0&&c[d+2][x]===1&&c[d+3][x]===1&&c[d+4][x]===1&&c[d+5][x]===0&&c[d+6][x]===1&&(_r.isWhiteVertical(c,x,d-4,d)||_r.isWhiteVertical(c,x,d+7,d+11))&&o++}return o*_r.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let f=o;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let h=c;h<f;h++)if(s[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let w=0;w<h;w++){const y=c[w];for(let T=0;T<f;T++)y[T]===1&&o++}const d=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-d)*10/d)*_r.N4}static getDataMaskBit(s,o,c){let f,h;switch(s){case 0:f=c+o&1;break;case 1:f=c&1;break;case 2:f=o%3;break;case 3:f=(c+o)%3;break;case 4:f=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:h=c*o,f=(h&1)+h%3;break;case 6:h=c*o,f=(h&1)+h%3&1;break;case 7:h=c*o,f=h%3+(c+o&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const f=o?s.getHeight():s.getWidth(),h=o?s.getWidth():s.getHeight(),d=s.getArray();for(let x=0;x<f;x++){let w=0,y=-1;for(let T=0;T<h;T++){const O=o?d[x][T]:d[T][x];O===y?w++:(w>=5&&(c+=_r.N1+(w-5)),w=1,y=O)}w>=5&&(c+=_r.N1+(w-5))}return c}}_r.N1=3,_r.N2=3,_r.N3=40,_r.N4=10;class Cu{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let f=0;f!==o;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)k.fill(o,s)}equals(s){if(!(s instanceof Cu))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,f=this.height;c<f;++c){const h=this.bytes[c],d=o.bytes[c];for(let x=0,w=this.width;x<w;++x)if(h[x]!==d[x])return!1}return!0}toString(){const s=new Ee;for(let o=0,c=this.height;o<c;++o){const f=this.bytes[o];for(let h=0,d=this.width;h<d;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Ya{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Ee;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Ya.NUM_MASK_PATTERNS}}Ya.NUM_MASK_PATTERNS=8;class Qt extends p{}Qt.kind="WriterException";class st{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,f,h){st.clearMatrix(h),st.embedBasicPatterns(c,h),st.embedTypeInfo(o,f,h),st.maybeEmbedVersionInfo(c,h),st.embedDataBits(s,f,h)}static embedBasicPatterns(s,o){st.embedPositionDetectionPatternsAndSeparators(o),st.embedDarkDotAtLeftBottomCorner(o),st.maybeEmbedPositionAdjustmentPatterns(s,o),st.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const f=new B;st.makeTypeInfoBits(s,o,f);for(let h=0,d=f.getSize();h<d;++h){const x=f.get(f.getSize()-1-h),w=st.TYPE_INFO_COORDINATES[h],y=w[0],T=w[1];if(c.setBoolean(y,T,x),h<8){const O=c.getWidth()-h-1;c.setBoolean(O,8,x)}else{const P=c.getHeight()-7+(h-8);c.setBoolean(8,P,x)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new B;st.makeVersionInfoBits(s,c);let f=6*3-1;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const x=c.get(f);f--,o.setBoolean(h,o.getHeight()-11+d,x),o.setBoolean(o.getHeight()-11+d,h,x)}}static embedDataBits(s,o,c){let f=0,h=-1,d=c.getWidth()-1,x=c.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);x>=0&&x<c.getHeight();){for(let w=0;w<2;++w){const y=d-w;if(!st.isEmpty(c.get(y,x)))continue;let T;f<s.getSize()?(T=s.get(f),++f):T=!1,o!==255&&_r.getDataMaskBit(o,y,x)&&(T=!T),c.setBoolean(y,x,T)}x+=h}h=-h,x+=h,d-=2}if(f!==s.getSize())throw new Qt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-S.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new v("0 polynomial");const c=st.findMSBSet(o);for(s<<=c-1;st.findMSBSet(s)>=c;)s^=o<<st.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!Ya.isValidMaskPattern(o))throw new Qt("Invalid mask pattern");const f=s.getBits()<<3|o;c.appendBits(f,5);const h=st.calculateBCHCode(f,st.TYPE_INFO_POLY);c.appendBits(h,10);const d=new B;if(d.appendBits(st.TYPE_INFO_MASK_PATTERN,15),c.xor(d),c.getSize()!==15)throw new Qt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=st.calculateBCHCode(s.getVersionNumber(),st.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new Qt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;st.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),st.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Qt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let f=0;f<8;++f){if(!st.isEmpty(c.get(s+f,o)))throw new Qt;c.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let f=0;f<7;++f){if(!st.isEmpty(c.get(s,o+f)))throw new Qt;c.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let f=0;f<5;++f){const h=st.POSITION_ADJUSTMENT_PATTERN[f];for(let d=0;d<5;++d)c.setNumber(s+d,o+f,h[d])}}static embedPositionDetectionPattern(s,o,c){for(let f=0;f<7;++f){const h=st.POSITION_DETECTION_PATTERN[f];for(let d=0;d<7;++d)c.setNumber(s+d,o+f,h[d])}}static embedPositionDetectionPatternsAndSeparators(s){const o=st.POSITION_DETECTION_PATTERN[0].length;st.embedPositionDetectionPattern(0,0,s),st.embedPositionDetectionPattern(s.getWidth()-o,0,s),st.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;st.embedHorizontalSeparationPattern(0,c-1,s),st.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),st.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;st.embedVerticalSeparationPattern(f,0,s),st.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),st.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=st.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,d=f.length;h!==d;h++){const x=f[h];if(x>=0)for(let w=0;w!==d;w++){const y=f[w];y>=0&&st.isEmpty(o.get(y,x))&&st.embedPositionAdjustmentPattern(y-2,x-2,o)}}}}st.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),st.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),st.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),st.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),st.VERSION_INFO_POLY=7973,st.TYPE_INFO_POLY=1335,st.TYPE_INFO_MASK_PATTERN=21522;class uT{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class cr{constructor(){}static calculateMaskPenalty(s){return _r.applyMaskPenaltyRule1(s)+_r.applyMaskPenaltyRule2(s)+_r.applyMaskPenaltyRule3(s)+_r.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let f=cr.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(Hr.CHARACTER_SET)!==void 0;h&&(f=c.get(Hr.CHARACTER_SET).toString());const d=this.chooseMode(s,f),x=new B;if(d===rt.BYTE&&(h||cr.DEFAULT_BYTE_MODE_ENCODING!==f)){const We=W.getCharacterSetECIByName(f);We!==void 0&&this.appendECI(We,x)}this.appendModeInfo(d,x);const w=new B;this.appendBytes(s,d,w,f);let y;if(c!==null&&c.get(Hr.QR_VERSION)!==void 0){const We=Number.parseInt(c.get(Hr.QR_VERSION).toString(),10);y=et.getVersionForNumber(We);const Ie=this.calculateBitsNeeded(d,x,w,y);if(!this.willFit(Ie,y,o))throw new Qt("Data too big for requested version")}else y=this.recommendVersion(o,d,x,w);const T=new B;T.appendBitArray(x);const O=d===rt.BYTE?w.getSizeInBytes():s.length;this.appendLengthInfo(O,y,d,T),T.appendBitArray(w);const P=y.getECBlocksForLevel(o),z=y.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(z,T);const J=this.interleaveWithECBytes(T,y.getTotalCodewords(),z,P.getNumBlocks()),te=new Ya;te.setECLevel(o),te.setMode(d),te.setVersion(y);const he=y.getDimensionForVersion(),me=new Cu(he,he),Le=this.chooseMaskPattern(J,o,y,me);return te.setMaskPattern(Le),st.buildMatrix(J,o,y,Le,me),te.setMatrix(me),te}static recommendVersion(s,o,c,f){const h=this.calculateBitsNeeded(o,c,f,et.getVersionForNumber(1)),d=this.chooseVersion(h,s),x=this.calculateBitsNeeded(o,c,f,d);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,o,c,f){return o.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<cr.ALPHANUMERIC_TABLE.length?cr.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(W.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return rt.KANJI;let c=!1,f=!1;for(let h=0,d=s.length;h<d;++h){const x=s.charAt(h);if(cr.isDigit(x))c=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)f=!0;else return rt.BYTE}return f?rt.ALPHANUMERIC:c?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=ue.encode(s,W.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,o,c,f){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let x=0;x<Ya.NUM_MASK_PATTERNS;x++){st.buildMatrix(s,o,c,x,f);let w=this.calculateMaskPenalty(f);w<h&&(h=w,d=x)}return d}static chooseVersion(s,o){for(let c=1;c<=40;c++){const f=et.getVersionForNumber(c);if(cr.willFit(s,f,o))return f}throw new Qt("Data too big")}static willFit(s,o,c){const f=o.getTotalCodewords(),d=o.getECBlocksForLevel(c).getTotalECCodewords(),x=f-d,w=(s+7)/8;return x>=w}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new Qt("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let d=0;d<4&&o.getSize()<c;++d)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let d=f;d<8;d++)o.appendBit(!1);const h=s-o.getSizeInBytes();for(let d=0;d<h;++d)o.appendBits(d&1?17:236,8);if(o.getSize()!==c)throw new Qt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,f,h,d){if(f>=c)throw new Qt("Block ID too large");const x=s%c,w=c-x,y=Math.floor(s/c),T=y+1,O=Math.floor(o/c),P=O+1,z=y-O,J=T-P;if(z!==J)throw new Qt("EC bytes mismatch");if(c!==w+x)throw new Qt("RS blocks mismatch");if(s!==(O+z)*w+(P+J)*x)throw new Qt("Total bytes mismatch");f<w?(h[0]=O,d[0]=z):(h[0]=P,d[0]=J)}static interleaveWithECBytes(s,o,c,f){if(s.getSizeInBytes()!==c)throw new Qt("Number of bits and data bytes does not match");let h=0,d=0,x=0;const w=new Array;for(let T=0;T<f;++T){const O=new Int32Array(1),P=new Int32Array(1);cr.getNumDataBytesAndNumECBytesForBlockID(o,c,f,T,O,P);const z=O[0],J=new Uint8Array(z);s.toBytes(8*h,J,0,z);const te=cr.generateECBytes(J,P[0]);w.push(new uT(J,te)),d=Math.max(d,z),x=Math.max(x,te.length),h+=O[0]}if(c!==h)throw new Qt("Data bytes does not match offset");const y=new B;for(let T=0;T<d;++T)for(const O of w){const P=O.getDataBytes();T<P.length&&y.appendBits(P[T],8)}for(let T=0;T<x;++T)for(const O of w){const P=O.getErrorCorrectionBytes();T<P.length&&y.appendBits(P[T],8)}if(o!==y.getSizeInBytes())throw new Qt("Interleaving error: "+o+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(s,o){const c=s.length,f=new Int32Array(c+o);for(let d=0;d<c;d++)f[d]=s[d]&255;new Ed(qe.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let d=0;d<o;d++)h[d]=f[c+d];return h}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,f){const h=c.getCharacterCountBits(o);if(s>=1<<h)throw new Qt(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,o,c,f){switch(o){case rt.NUMERIC:cr.appendNumericBytes(s,c);break;case rt.ALPHANUMERIC:cr.appendAlphanumericBytes(s,c);break;case rt.BYTE:cr.append8BitBytes(s,c,f);break;case rt.KANJI:cr.appendKanjiBytes(s,c);break;default:throw new Qt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=cr.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=cr.getDigit(s.charAt(f));if(f+2<c){const d=cr.getDigit(s.charAt(f+1)),x=cr.getDigit(s.charAt(f+2));o.appendBits(h*100+d*10+x,10),f+=3}else if(f+1<c){const d=cr.getDigit(s.charAt(f+1));o.appendBits(h*10+d,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=cr.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new Qt;if(f+1<c){const d=cr.getAlphanumericCode(s.charCodeAt(f+1));if(d===-1)throw new Qt;o.appendBits(h*45+d,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(s,o,c){let f;try{f=ue.encode(s,c)}catch(h){throw new Qt(h)}for(let h=0,d=f.length;h!==d;h++){const x=f[h];o.appendBits(x,8)}}static appendKanjiBytes(s,o){let c;try{c=ue.encode(s,W.SJIS)}catch(h){throw new Qt(h)}const f=c.length;for(let h=0;h<f;h+=2){const d=c[h]&255,x=c[h+1]&255,w=d<<8&4294967295|x;let y=-1;if(w>=33088&&w<=40956?y=w-33088:w>=57408&&w<=60351&&(y=w-49472),y===-1)throw new Qt("Invalid byte sequence");const T=(y>>8)*192+(y&255);o.appendBits(T,13)}}static appendECI(s,o){o.appendBits(rt.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}cr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),cr.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Ka{write(s,o,c,f=null){if(s.length===0)throw new v("Found empty contents");if(o<0||c<0)throw new v("Requested dimensions are too small: "+o+"x"+c);let h=tr.L,d=Ka.QUIET_ZONE_SIZE;f!==null&&(f.get(Hr.ERROR_CORRECTION)!==void 0&&(h=tr.fromString(f.get(Hr.ERROR_CORRECTION).toString())),f.get(Hr.MARGIN)!==void 0&&(d=Number.parseInt(f.get(Hr.MARGIN).toString(),10)));const x=cr.encode(s,h,f);return this.renderResult(x,o,c,d)}writeToDom(s,o,c,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const d=this.write(o,c,f,h);s&&s.appendChild(d)}renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new dt;const d=h.getWidth(),x=h.getHeight(),w=d+f*2,y=x+f*2,T=Math.max(o,w),O=Math.max(c,y),P=Math.min(Math.floor(T/w),Math.floor(O/y)),z=Math.floor((T-d*P)/2),J=Math.floor((O-x*P)/2),te=this.createSVGElement(T,O);for(let he=0,me=J;he<x;he++,me+=P)for(let Le=0,We=z;Le<d;Le++,We+=P)if(h.get(Le,he)===1){const Ie=this.createSvgRectElement(We,me,P,P);te.appendChild(Ie)}return te}createSVGElement(s,o){const c=document.createElementNS(Ka.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,f){const h=document.createElementNS(Ka.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Ka.QUIET_ZONE_SIZE=4,Ka.SVG_NS="http://www.w3.org/2000/svg";class $o{encode(s,o,c,f,h){if(s.length===0)throw new v("Found empty contents");if(o!==ie.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(c<0||f<0)throw new v(`Requested dimensions are too small: ${c}x${f}`);let d=tr.L,x=$o.QUIET_ZONE_SIZE;h!==null&&(h.get(Hr.ERROR_CORRECTION)!==void 0&&(d=tr.fromString(h.get(Hr.ERROR_CORRECTION).toString())),h.get(Hr.MARGIN)!==void 0&&(x=Number.parseInt(h.get(Hr.MARGIN).toString(),10)));const w=cr.encode(s,d,h);return $o.renderResult(w,c,f,x)}static renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new dt;const d=h.getWidth(),x=h.getHeight(),w=d+f*2,y=x+f*2,T=Math.max(o,w),O=Math.max(c,y),P=Math.min(Math.floor(T/w),Math.floor(O/y)),z=Math.floor((T-d*P)/2),J=Math.floor((O-x*P)/2),te=new Se(T,O);for(let he=0,me=J;he<x;he++,me+=P)for(let Le=0,We=z;Le<d;Le++,We+=P)h.get(Le,he)===1&&te.setRegion(We,me,P,P);return te}}$o.QUIET_ZONE_SIZE=4;class fT{encode(s,o,c,f,h){let d;switch(o){case ie.QR_CODE:d=new $o;break;default:throw new v("No encoder available for format "+o)}return d.encode(s,o,c,f,h)}}class us extends ke{constructor(s,o,c,f,h,d,x,w){if(super(d,x),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=f,this.top=h,f+d>o||h+x>c)throw new v("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(d,x)}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return C.arraycopy(this.yuvData,h,f,0,c),f;for(let d=0;d<o;d++){const x=d*s;C.arraycopy(this.yuvData,h,f,x,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new us(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,f,!1)}renderThumbnail(){const s=this.getWidth()/us.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/us.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<o;d++){const x=d*s;for(let w=0;w<s;w++){const y=f[h+w*us.THUMBNAIL_SCALE_FACTOR]&255;c[x+w]=4278190080|y*65793}h+=this.dataWidth*us.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/us.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/us.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const d=h+s/2;for(let x=h,w=h+s-1;x<d;x++,w--){const y=c[x];c[x]=c[w],c[w]=y}}}invert(){return new ne(this)}}us.THUMBNAIL_SCALE_FACTOR=2;class Cd extends ke{constructor(s,o,c,f,h,d,x){if(super(o,c),this.dataWidth=f,this.dataHeight=h,this.left=d,this.top=x,s.BYTES_PER_ELEMENT===4){const w=o*c,y=new Uint8ClampedArray(w);for(let T=0;T<w;T++){const O=s[T],P=O>>16&255,z=O>>7&510,J=O&255;y[T]=(P+z+J)/4&255}this.luminances=y}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=c),d===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return C.arraycopy(this.luminances,h,f,0,c),f;for(let d=0;d<o;d++){const x=d*s;C.arraycopy(this.luminances,h,f,x,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new Cd(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new ne(this)}}class Gm extends W{static forName(s){return this.getCharacterSetECIByName(s)}}class Ad{}Ad.ISO_8859_1=W.ISO8859_1;class Xm{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class $m{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class hT{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Yo extends hT{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Yo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+S.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Sd extends Yo{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new Sd(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function dT(R,s,o){return new Sd(R,s,o)}function dc(R,s,o){return new Yo(R,s,o)}const gT=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],na=0,Au=1,bi=2,Ym=3,fs=4,pT=new Yo(null,0,0),Td=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function xT(R){for(let s of R)k.fill(s,-1);return R[na][fs]=0,R[Au][fs]=0,R[Au][na]=28,R[Ym][fs]=0,R[bi][fs]=0,R[bi][na]=15,R}const Km=xT(k.createInt32Array(6,6));class hs{constructor(s,o,c,f){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,f=this.token;if(s!==this.mode){let d=Td[this.mode][s];f=dc(f,d&65535,d>>16),c+=d>>16}let h=s===bi?4:5;return f=dc(f,o,h),new hs(f,s,0,c+h)}shiftAndAppend(s,o){let c=this.token,f=this.mode===bi?4:5;return c=dc(c,Km[this.mode][s],f),c=dc(c,o,5),new hs(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,f=this.bitCount;if(this.mode===fs||this.mode===bi){let x=Td[c][na];o=dc(o,x&65535,x>>16),f+=x>>16,c=na}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new hs(o,c,this.binaryShiftByteCount+1,f+h);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(s+1)),d}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=dT(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new hs(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Td[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=hs.calculateBinaryShiftCost(s)-hs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let c=new B;for(const f of o)f.appendTo(c,s);return c}toString(){return Z.format("%s bits=%d bytes=%d",gT[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}hs.INITIAL_STATE=new hs(pT,na,0,0);function mT(R){const s=Z.getCharCode(" "),o=Z.getCharCode("."),c=Z.getCharCode(",");R[na][s]=1;const f=Z.getCharCode("Z"),h=Z.getCharCode("A");for(let P=h;P<=f;P++)R[na][P]=P-h+2;R[Au][s]=1;const d=Z.getCharCode("z"),x=Z.getCharCode("a");for(let P=x;P<=d;P++)R[Au][P]=P-x+2;R[bi][s]=1;const w=Z.getCharCode("9"),y=Z.getCharCode("0");for(let P=y;P<=w;P++)R[bi][P]=P-y+2;R[bi][c]=12,R[bi][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<T.length;P++)R[Ym][Z.getCharCode(T[P])]=P;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<O.length;P++)Z.getCharCode(O[P])>0&&(R[fs][Z.getCharCode(O[P])]=P);return R}const kd=mT(k.createInt32Array(5,256));class gc{constructor(s){this.text=s}encode(){const s=Z.getCharCode(" "),o=Z.getCharCode(`
`);let c=$m.singletonList(hs.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,x=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case Z.getCharCode("\r"):d=x===o?2:0;break;case Z.getCharCode("."):d=x===s?3:0;break;case Z.getCharCode(","):d=x===s?4:0;break;case Z.getCharCode(":"):d=x===s?5:0;break;default:d=0}d>0?(c=gc.updateStateListForPair(c,h,d),h++):c=this.updateStateListForChar(c,h)}return $m.min(c,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let f of s)this.updateStateForChar(f,o,c);return gc.simplifyStates(c)}updateStateForChar(s,o,c){let f=this.text[o]&255,h=kd[s.getMode()][f]>0,d=null;for(let x=0;x<=fs;x++){let w=kd[x][f];if(w>0){if(d==null&&(d=s.endBinaryShift(o)),!h||x===s.getMode()||x===bi){const y=d.latchAndAppend(x,w);c.push(y)}if(!h&&Km[s.getMode()][x]>=0){const y=d.shiftAndAppend(x,w);c.push(y)}}}if(s.getBinaryShiftByteCount()>0||kd[s.getMode()][f]===0){let x=s.addBinaryShiftChar(o);c.push(x)}}static updateStateListForPair(s,o,c){const f=[];for(let h of s)this.updateStateForPair(h,o,c,f);return this.simplifyStates(f)}static updateStateForPair(s,o,c,f){let h=s.endBinaryShift(o);if(f.push(h.latchAndAppend(fs,c)),s.getMode()!==fs&&f.push(h.shiftAndAppend(fs,c)),c===3||c===4){let d=h.latchAndAppend(bi,16-c).latchAndAppend(bi,1);f.push(d)}if(s.getBinaryShiftByteCount()>0){let d=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(d)}}static simplifyStates(s){let o=[];for(const c of s){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(h)&&(o=o.filter(d=>d!==h))}f&&o.push(c)}return o}}class Lt{constructor(){}static encodeBytes(s){return Lt.encode(s,Lt.DEFAULT_EC_PERCENT,Lt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let f=new gc(s).encode(),h=S.truncDivision(f.getSize()*o,100)+11,d=f.getSize()+h,x,w,y,T,O;if(c!==Lt.DEFAULT_AZTEC_LAYERS){if(x=c<0,w=Math.abs(c),w>(x?Lt.MAX_NB_BITS_COMPACT:Lt.MAX_NB_BITS))throw new v(Z.format("Illegal value %s for layers",c));y=Lt.totalBitsInLayer(w,x),T=Lt.WORD_SIZE[w];let Ie=y-y%T;if(O=Lt.stuffBits(f,T),O.getSize()+h>Ie)throw new v("Data to large for user specified layer");if(x&&O.getSize()>T*64)throw new v("Data to large for user specified layer")}else{T=0,O=null;for(let Ie=0;;Ie++){if(Ie>Lt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=Ie<=3,w=x?Ie+1:Ie,y=Lt.totalBitsInLayer(w,x),d>y)continue;(O==null||T!==Lt.WORD_SIZE[w])&&(T=Lt.WORD_SIZE[w],O=Lt.stuffBits(f,T));let Rt=y-y%T;if(!(x&&O.getSize()>T*64)&&O.getSize()+h<=Rt)break}}let P=Lt.generateCheckWords(O,y,T),z=O.getSize()/T,J=Lt.generateModeMessage(x,w,z),te=(x?11:14)+w*4,he=new Int32Array(te),me;if(x){me=te;for(let Ie=0;Ie<he.length;Ie++)he[Ie]=Ie}else{me=te+1+2*S.truncDivision(S.truncDivision(te,2)-1,15);let Ie=S.truncDivision(te,2),Rt=S.truncDivision(me,2);for(let pt=0;pt<Ie;pt++){let Zn=pt+S.truncDivision(pt,15);he[Ie-pt-1]=Rt-Zn-1,he[Ie+pt]=Rt+Zn+1}}let Le=new Se(me);for(let Ie=0,Rt=0;Ie<w;Ie++){let pt=(w-Ie)*4+(x?9:12);for(let Zn=0;Zn<pt;Zn++){let zi=Zn*2;for(let Qn=0;Qn<2;Qn++)P.get(Rt+zi+Qn)&&Le.set(he[Ie*2+Qn],he[Ie*2+Zn]),P.get(Rt+pt*2+zi+Qn)&&Le.set(he[Ie*2+Zn],he[te-1-Ie*2-Qn]),P.get(Rt+pt*4+zi+Qn)&&Le.set(he[te-1-Ie*2-Qn],he[te-1-Ie*2-Zn]),P.get(Rt+pt*6+zi+Qn)&&Le.set(he[te-1-Ie*2-Zn],he[Ie*2+Qn])}Rt+=pt*8}if(Lt.drawModeMessage(Le,x,me,J),x)Lt.drawBullsEye(Le,S.truncDivision(me,2),5);else{Lt.drawBullsEye(Le,S.truncDivision(me,2),7);for(let Ie=0,Rt=0;Ie<S.truncDivision(te,2)-1;Ie+=15,Rt+=16)for(let pt=S.truncDivision(me,2)&1;pt<me;pt+=2)Le.set(S.truncDivision(me,2)-Rt,pt),Le.set(S.truncDivision(me,2)+Rt,pt),Le.set(pt,S.truncDivision(me,2)-Rt),Le.set(pt,S.truncDivision(me,2)+Rt)}let We=new Xm;return We.setCompact(x),We.setSize(me),We.setLayers(w),We.setCodeWords(z),We.setMatrix(Le),We}static drawBullsEye(s,o,c){for(let f=0;f<c;f+=2)for(let h=o-f;h<=o+f;h++)s.set(h,o-f),s.set(h,o+f),s.set(o-f,h),s.set(o+f,h);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let f=new B;return s?(f.appendBits(o-1,2),f.appendBits(c-1,6),f=Lt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(c-1,11),f=Lt.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,c,f){let h=S.truncDivision(c,2);if(o)for(let d=0;d<7;d++){let x=h-3+d;f.get(d)&&s.set(x,h-5),f.get(d+7)&&s.set(h+5,x),f.get(20-d)&&s.set(x,h+5),f.get(27-d)&&s.set(h-5,x)}else for(let d=0;d<10;d++){let x=h-5+d+S.truncDivision(d,5);f.get(d)&&s.set(x,h-7),f.get(d+10)&&s.set(h+7,x),f.get(29-d)&&s.set(x,h+7),f.get(39-d)&&s.set(h-7,x)}}static generateCheckWords(s,o,c){let f=s.getSize()/c,h=new Ed(Lt.getGF(c)),d=S.truncDivision(o,c),x=Lt.bitsToWords(s,c,d);h.encode(x,d-f);let w=o%c,y=new B;y.appendBits(0,w);for(const T of Array.from(x))y.appendBits(T,c);return y}static bitsToWords(s,o,c){let f=new Int32Array(c),h,d;for(h=0,d=s.getSize()/o;h<d;h++){let x=0;for(let w=0;w<o;w++)x|=s.get(h*o+w)?1<<o-w-1:0;f[h]=x}return f}static getGF(s){switch(s){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,o){let c=new B,f=s.getSize(),h=(1<<o)-2;for(let d=0;d<f;d+=o){let x=0;for(let w=0;w<o;w++)(d+w>=f||s.get(d+w))&&(x|=1<<o-1-w);(x&h)===h?(c.appendBits(x&h,o),d--):x&h?c.appendBits(x,o):(c.appendBits(x|1,o),d--)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Lt.DEFAULT_EC_PERCENT=33,Lt.DEFAULT_AZTEC_LAYERS=0,Lt.MAX_NB_BITS=32,Lt.MAX_NB_BITS_COMPACT=4,Lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Su{encode(s,o,c,f){return this.encodeWithHints(s,o,c,f,null)}encodeWithHints(s,o,c,f,h){let d=Ad.ISO_8859_1,x=Lt.DEFAULT_EC_PERCENT,w=Lt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Hr.CHARACTER_SET)&&(d=Gm.forName(h.get(Hr.CHARACTER_SET).toString())),h.has(Hr.ERROR_CORRECTION)&&(x=S.parseInt(h.get(Hr.ERROR_CORRECTION).toString())),h.has(Hr.AZTEC_LAYERS)&&(w=S.parseInt(h.get(Hr.AZTEC_LAYERS).toString()))),Su.encodeLayers(s,o,c,f,d,x,w)}static encodeLayers(s,o,c,f,h,d,x){if(o!==ie.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let w=Lt.encode(Z.getBytes(s,h),d,x);return Su.renderResult(w,c,f)}static renderResult(s,o,c){let f=s.getMatrix();if(f==null)throw new dt;let h=f.getWidth(),d=f.getHeight(),x=Math.max(o,h),w=Math.max(c,d),y=Math.min(x/h,w/d),T=(x-h*y)/2,O=(w-d*y)/2,P=new Se(x,w);for(let z=0,J=O;z<d;z++,J+=y)for(let te=0,he=T;te<h;te++,he+=y)f.get(te,z)&&P.setRegion(he,J,y,y);return P}}r.AbstractExpandedDecoder=j,r.ArgumentException=m,r.ArithmeticException=Y,r.AztecCode=Xm,r.AztecCodeReader=Yt,r.AztecCodeWriter=Su,r.AztecDecoder=Je,r.AztecDetector=ut,r.AztecDetectorResult=Bt,r.AztecEncoder=Lt,r.AztecHighLevelEncoder=gc,r.AztecPoint=Gt,r.BarcodeFormat=ie,r.Binarizer=A,r.BinaryBitmap=_,r.BitArray=B,r.BitMatrix=Se,r.BitSource=xd,r.BrowserAztecCodeReader=ln,r.BrowserBarcodeReader=Xa,r.BrowserCodeReader=ae,r.BrowserDatamatrixCodeReader=qS,r.BrowserMultiFormatReader=oT,r.BrowserPDF417Reader=lT,r.BrowserQRCodeReader=cT,r.BrowserQRCodeSvgWriter=Ka,r.CharacterSetECI=W,r.ChecksumException=E,r.Code128Reader=Ue,r.Code39Reader=gr,r.DataMatrixDecodedBitStreamParser=Js,r.DataMatrixReader=ea,r.DecodeHintType=G,r.DecoderResult=Me,r.DefaultGridSampler=Fn,r.DetectorResult=Kn,r.EAN13Reader=Hi,r.EncodeHintType=Hr,r.Exception=p,r.FormatException=F,r.GenericGF=qe,r.GenericGFPoly=tt,r.GlobalHistogramBinarizer=Fe,r.GridSampler=Dr,r.GridSamplerInstance=er,r.HTMLCanvasElementLuminanceSource=be,r.HybridBinarizer=Ce,r.ITFReader=Ht,r.IllegalArgumentException=v,r.IllegalStateException=dt,r.InvertedLuminanceSource=ne,r.LuminanceSource=ke,r.MathUtils=it,r.MultiFormatOneDReader=Si,r.MultiFormatReader=zm,r.MultiFormatWriter=fT,r.NotFoundException=ee,r.OneDReader=gt,r.PDF417DecodedBitStreamParser=xe,r.PDF417DecoderErrorCorrection=Lm,r.PDF417Reader=un,r.PDF417ResultMetadata=jm,r.PerspectiveTransform=dr,r.PlanarYUVLuminanceSource=us,r.QRCodeByteMatrix=Cu,r.QRCodeDataMask=Ti,r.QRCodeDecodedBitStreamParser=mr,r.QRCodeDecoderErrorCorrectionLevel=tr,r.QRCodeDecoderFormatInformation=yn,r.QRCodeEncoder=cr,r.QRCodeEncoderQRCode=Ya,r.QRCodeMaskUtil=_r,r.QRCodeMatrixUtil=st,r.QRCodeMode=rt,r.QRCodeReader=ta,r.QRCodeVersion=et,r.QRCodeWriter=$o,r.RGBLuminanceSource=Cd,r.RSS14Reader=vt,r.RSSExpandedReader=ye,r.ReaderException=Eu,r.ReedSolomonDecoder=Ze,r.ReedSolomonEncoder=Ed,r.ReedSolomonException=mt,r.Result=Q,r.ResultMetadataType=Ae,r.ResultPoint=Ge,r.StringUtils=Z,r.UnsupportedOperationException=ce,r.VideoInputDevice=oe,r.WhiteRectangleDetector=$t,r.WriterException=Qt,r.ZXingArrays=k,r.ZXingCharset=Gm,r.ZXingInteger=S,r.ZXingStandardCharsets=Ad,r.ZXingStringBuilder=Ee,r.ZXingStringEncoding=ue,r.ZXingSystem=C,r.createAbstractExpandedDecoder=je,Object.defineProperty(r,"__esModule",{value:!0})})})($g,$g.exports);var fr=$g.exports;const _7=Hy(fr),E7=Vy({__proto__:null,default:_7},[fr]);var yv=function(){function e(t,r,n){if(this.formatMap=new Map([[$e.QR_CODE,fr.BarcodeFormat.QR_CODE],[$e.AZTEC,fr.BarcodeFormat.AZTEC],[$e.CODABAR,fr.BarcodeFormat.CODABAR],[$e.CODE_39,fr.BarcodeFormat.CODE_39],[$e.CODE_93,fr.BarcodeFormat.CODE_93],[$e.CODE_128,fr.BarcodeFormat.CODE_128],[$e.DATA_MATRIX,fr.BarcodeFormat.DATA_MATRIX],[$e.MAXICODE,fr.BarcodeFormat.MAXICODE],[$e.ITF,fr.BarcodeFormat.ITF],[$e.EAN_13,fr.BarcodeFormat.EAN_13],[$e.EAN_8,fr.BarcodeFormat.EAN_8],[$e.PDF_417,fr.BarcodeFormat.PDF_417],[$e.RSS_14,fr.BarcodeFormat.RSS_14],[$e.RSS_EXPANDED,fr.BarcodeFormat.RSS_EXPANDED],[$e.UPC_A,fr.BarcodeFormat.UPC_A],[$e.UPC_E,fr.BarcodeFormat.UPC_E],[$e.UPC_EAN_EXTENSION,fr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!E7)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(fr.DecodeHintType.POSSIBLE_FORMATS,i),a.set(fr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new fr.MultiFormatReader(this.verbose,this.hints),n=new fr.HTMLCanvasElementLuminanceSource(t),i=new fr.BinaryBitmap(new fr.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:mA.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),C7=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},A7=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},_v=function(){function e(t,r,n){if(this.formatMap=new Map([[$e.QR_CODE,"qr_code"],[$e.AZTEC,"aztec"],[$e.CODABAR,"codabar"],[$e.CODE_39,"code_39"],[$e.CODE_93,"code_93"],[$e.CODE_128,"code_128"],[$e.DATA_MATRIX,"data_matrix"],[$e.ITF,"itf"],[$e.EAN_13,"ean_13"],[$e.EAN_8,"ean_8"],[$e.PDF_417,"pdf417"],[$e.UPC_A,"upc_a"],[$e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return C7(this,void 0,void 0,function(){var r,n;return A7(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:mA.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var l=a[i],u=l.boundingBox.width*l.boundingBox.height;u>n&&(n=u,r=l)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Ev=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},Cv=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},S7=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&_v.isSupported()?(this.primaryDecoder=new _v(t,n,i),this.secondaryDecoder=new yv(t,n,i)):this.primaryDecoder=new yv(t,n,i)}return e.prototype.decodeAsync=function(t){return Ev(this,void 0,void 0,function(){var r;return Cv(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Ev(this,void 0,void 0,function(){var r,n;return Cv(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Yx=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oh=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},lh=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},vA=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),T7=function(e){Yx(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(vA),k7=function(e){Yx(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(T7),b7=function(e){Yx(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(vA),I7=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new k7(this.track)},e.prototype.torchFeature=function(){return new b7(this.track)},e}(),R7=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return oh(this,void 0,void 0,function(){var a,l;return lh(this,function(u){switch(u.label){case 0:return a=new e(t,r,i),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return oh(this,void 0,void 0,function(){return lh(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,l=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++l,l>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new I7(this.getFirstTrackOrFail())},e}(),N7=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return oh(this,void 0,void 0,function(){return lh(this,function(i){return[2,R7.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return oh(this,void 0,void 0,function(){var r,n;return lh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),Av=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},Sv=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},O7=function(){function e(){}return e.failIfNotSupported=function(){return Av(this,void 0,void 0,function(){return Sv(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Av(this,void 0,void 0,function(){return Sv(this,function(r){return[2,N7.create(t)]})})},e}(),D7=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},F7=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},P7=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=gl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=gl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return D7(this,void 0,void 0,function(){var t,r,n,i,a,l,u;return F7(this,function(g){switch(g.label){case 0:return t=function(p){for(var m=p.getVideoTracks(),v=0,_=m;v<_.length;v++){var E=_[v];E.enabled=!1,E.stop(),p.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),i=[],a=0,l=n;a<l.length;a++)u=l[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var l=[],u=0,g=a;u<g.length;u++){var p=g[u];p.kind==="video"&&l.push({id:p.id,label:p.label})}t(l)},i=MediaStreamTrack;i.getSources(n)})},e}(),Er;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Er||(Er={}));var M7=function(){function e(){this.state=Er.NOT_STARTED,this.onGoingTransactionNewState=Er.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Er.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Er.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Er.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Er.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Er.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Er.UNKNOWN:throw"Transition from unknown is not allowed";case Er.NOT_STARTED:this.failIfNewStateIs(t,[Er.PAUSED]);break;case Er.SCANNING:break;case Er.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),B7=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Er.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Er.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Er.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Er.PAUSED},e}(),L7=function(){function e(){}return e.create=function(){return new B7(new M7)},e}(),U7=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fi=function(e){U7(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(w7),j7=function(){function e(t,r){this.logger=r,this.fps=fi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=fi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?wA.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!bs(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Tv=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new y7(this.verbose),this.qrcode=new S7(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=L7.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var u=j7.create(r,this.logger);this.clearElement();var g=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:fi.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var v=this,_=this.stateManagerProxy.startTransition(Er.SCANNING);return new Promise(function(E,A){var C=p?u.videoConstraints:v.createVideoConstraints(t);if(!C){_.cancel(),A("videoConstraints should be defined");return}var I={};(!p||u.aspectRatio)&&(I.aspectRatio=u.aspectRatio);var b={onRenderSurfaceReady:function(k,S){v.setupUi(k,S,u),v.isScanning=!0,v.foreverScan(u,n,l)}};O7.failIfNotSupported().then(function(k){k.create(C).then(function(S){return S.render(a.element,I,b).then(function(B){v.renderedCamera=B,_.execute(),E(null)}).catch(function(B){_.cancel(),A(B)})}).catch(function(S){_.cancel(),A(gl.errorGettingUserMedia(S))})}).catch(function(k){_.cancel(),A(gl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Er.PAUSED),this.showPausedState(),(bs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Er.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Er.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(fi.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bs(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var l=new Image;l.onload=function(){var u=l.width,g=l.height,p=document.getElementById(n.elementId),m=p.clientWidth?p.clientWidth:fi.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:g,fi.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(u,g,m,v);if(r){var E=n.createCanvasElement(m,v,"qr-canvas-visible");E.style.display="inline-block",p.appendChild(E);var A=E.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=m,A.canvas.height=v,A.drawImage(l,0,0,u,g,_.x,_.y,_.width,_.height)}var C=fi.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(l.width,_.width),b=Math.max(l.height,_.height),k=I+2*C,S=b+2*C,B=n.createCanvasElement(k,S);p.appendChild(B);var K=B.getContext("2d");if(!K)throw"Unable to get 2d context from canvas";K.canvas.width=k,K.canvas.height=S,K.drawImage(l,0,0,u,g,C,C,I,b);try{n.qrcode.decodeRobustlyAsync(B).then(function(G){i(vv.createFromQrcodeResult(G))}).catch(a)}catch(G){a("QR code parse error, error = ".concat(G))}},l.onerror=a,l.onabort=a,l.onstalled=a,l.onsuspend=a,l.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return P7.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!wA.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[$e.QR_CODE,$e.AZTEC,$e.CODABAR,$e.CODE_39,$e.CODE_93,$e.CODE_128,$e.DATA_MATRIX,$e.MAXICODE,$e.ITF,$e.EAN_13,$e.EAN_8,$e.PDF_417,$e.RSS_14,$e.RSS_EXPANDED,$e.UPC_A,$e.UPC_E,$e.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var l=a[i];m7(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(bs(t))return!0;if(!bs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(bs(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return bs(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,r,a),u=function(p){if(p<fi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fi.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};u(l.width),u(l.height),l.width=g(l.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=bs(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&a.height<=r,u={x:0,y:0,width:t,height:r},g=l?this.getShadedRegionBounds(t,r,a):u,p=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},v=p.getContext("2d",m);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=gl.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,vv.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=gl.codeParseError(i);return r(a,v7.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),l=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*l,p=this.qrRegion.height*u,m=this.qrRegion.x*l,v=this.qrRegion.y*u;this.context.drawImage(a,m,v,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){_()})):_()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",l=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var g=Object.keys(t)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var p=t.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(l(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof p;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof v;throw"Invalid type of 'deviceId' = ".concat(_)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,l=(i-r)/2;return{x:a,y:l,width:t,height:r}}else{var u=t,g=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(g)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?fi.BORDER_SHADER_MATCH_COLOR:fi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(a,"px"),l.style.display="none",l.id=bs(n)?"qr-canvas":n,l},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var l=(r-i.width)/2,u=(n-i.height)/2;if(a.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(fi.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(a,p,g,-g,null,0,!0),this.insertShaderBorders(a,p,g,-g,null,0,!1),this.insertShaderBorders(a,p,g,null,-g,0,!0),this.insertShaderBorders(a,p,g,null,-g,0,!1),this.insertShaderBorders(a,g,p+g,-g,null,-g,!0),this.insertShaderBorders(a,g,p+g,null,-g,-g,!0),this.insertShaderBorders(a,g,p+g,-g,null,-g,!1),this.insertShaderBorders(a,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,l,u){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=fi.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),u?g.style.left="".concat(l,"px"):g.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),kv;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(kv||(kv={}));const yA=({onScan:e,onClose:t,isOpen:r})=>{const[n,i]=_e.useState(!1),[a,l]=_e.useState(""),[u,g]=_e.useState(""),[p,m]=_e.useState(!1),[v,_]=_e.useState(""),E=_e.useRef(null),A=_e.useRef(`html5qr-${Math.random().toString(36).slice(2)}`);_e.useEffect(()=>(r&&C(),()=>{I()}),[r]);const C=async()=>{try{g(""),m(!1),E.current||(E.current=new Tv(A.current,!1));const S=await Tv.getCameras();if(!S||S.length===0){g("Kamera tidak ditemukan.");return}const B=S.find(G=>/back|rear|environment/i.test(G.label))||S[0],K={fps:10,qrbox:{width:280,height:200},aspectRatio:1.777,rememberLastUsedCamera:!0,focusMode:"continuous",focusDistance:0,formatsToSupport:[$e.CODE_128,$e.EAN_13,$e.EAN_8,$e.UPC_A,$e.UPC_E,$e.QR_CODE]};await E.current.start(B.id,K,G=>{G&&(l(G),e(G),I())},G=>{}),m(!0),i(!0)}catch(S){console.error("Scanner init error:",S),g("Tidak dapat memulai pemindai: "+((S==null?void 0:S.message)||String(S)))}},I=async()=>{i(!1);try{E.current&&(await E.current.stop(),await E.current.clear())}catch{}},b=()=>{I(),t()},k=()=>{g(""),l(""),C()};return r?N.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:[N.jsxs("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",width:"100%",maxWidth:"28rem",maxHeight:"90vh",overflow:"auto"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Scan Barcode"}),N.jsx("button",{onClick:b,style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:N.jsx(tI,{size:24})})]}),N.jsx("div",{style:{position:"relative",width:"100%",height:"320px",backgroundColor:"#000",borderRadius:"0.5rem",overflow:"hidden",marginBottom:"1rem"},children:N.jsx("div",{id:A.current,style:{width:"100%",height:"100%"}})}),u&&N.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center"},children:[N.jsx(Zb,{size:20,style:{color:"#dc2626",marginRight:"0.5rem"}}),N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#991b1b",margin:0},children:u}),N.jsx("button",{onClick:k,style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#dc2626",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Coba Lagi"})]})]}),a&&N.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center"},children:[N.jsx(pC,{size:20,style:{color:"#059669",marginRight:"0.5rem"}}),N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#065f46",margin:0},children:"Barcode berhasil dipindai!"}),N.jsx("p",{style:{fontSize:"0.75rem",color:"#059669",marginTop:"0.25rem",margin:0},children:a})]})]}),N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem",display:"block"},children:"Atau masukkan barcode secara manual:"}),N.jsx("input",{type:"text",value:v,onChange:S=>_(S.target.value),placeholder:"Masukkan kode barcode",style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem"}}),v&&N.jsx("button",{onClick:()=>{e(v),b()},style:{marginTop:"0.5rem",width:"100%",backgroundColor:"#10b981",color:"white",padding:"0.5rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Gunakan Kode Manual"})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:b,style:{flex:1,backgroundColor:"#6b7280",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Tutup"}),a&&N.jsx("button",{onClick:()=>{e(a),b()},style:{flex:1,backgroundColor:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Gunakan"})]})]}),N.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `})]}):null};/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function _A(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function W7(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bv(e,t){return e.get(_A(e,t))}function V7(e,t,r){W7(e,t),t.set(e,r)}function H7(e,t,r){return e.set(_A(e,t),r),r}const z7=100,nt={},G7=()=>{nt.previousActiveElement instanceof HTMLElement?(nt.previousActiveElement.focus(),nt.previousActiveElement=null):document.body&&document.body.focus()},X7=e=>new Promise(t=>{if(!e)return t();const r=window.scrollX,n=window.scrollY;nt.restoreFocusTimeout=setTimeout(()=>{G7(),t()},z7),window.scrollTo(r,n)}),EA="swal2-",$7=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],ve=$7.reduce((e,t)=>(e[t]=EA+t,e),{}),Y7=["success","warning","info","question","error"],ch=Y7.reduce((e,t)=>(e[t]=EA+t,e),{}),CA="SweetAlert2:",Kx=e=>e.charAt(0).toUpperCase()+e.slice(1),zn=e=>{console.warn(`${CA} ${typeof e=="object"?e.join(" "):e}`)},Bo=e=>{console.error(`${CA} ${e}`)},Iv=[],K7=e=>{Iv.includes(e)||(Iv.push(e),zn(e))},AA=(e,t=null)=>{K7(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},ad=e=>typeof e=="function"?e():e,qx=e=>e&&typeof e.toPromise=="function",lu=e=>qx(e)?e.toPromise():Promise.resolve(e),Zx=e=>e&&Promise.resolve(e)===e,Yn=()=>document.body.querySelector(`.${ve.container}`),cu=e=>{const t=Yn();return t?t.querySelector(e):null},Ci=e=>cu(`.${e}`),Vt=()=>Ci(ve.popup),ec=()=>Ci(ve.icon),q7=()=>Ci(ve["icon-content"]),SA=()=>Ci(ve.title),Qx=()=>Ci(ve["html-container"]),TA=()=>Ci(ve.image),Jx=()=>Ci(ve["progress-steps"]),od=()=>Ci(ve["validation-message"]),Es=()=>cu(`.${ve.actions} .${ve.confirm}`),tc=()=>cu(`.${ve.actions} .${ve.cancel}`),Lo=()=>cu(`.${ve.actions} .${ve.deny}`),Z7=()=>Ci(ve["input-label"]),rc=()=>cu(`.${ve.loader}`),uu=()=>Ci(ve.actions),kA=()=>Ci(ve.footer),ld=()=>Ci(ve["timer-progress-bar"]),em=()=>Ci(ve.close),Q7=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,tm=()=>{const e=Vt();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(t).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),g=parseInt(l.getAttribute("tabindex")||"0");return u>g?1:u<g?-1:0}),n=e.querySelectorAll(Q7),i=Array.from(n).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(a=>li(a))},rm=()=>Bs(document.body,ve.shown)&&!Bs(document.body,ve["toast-shown"])&&!Bs(document.body,ve["no-backdrop"]),cd=()=>{const e=Vt();return e?Bs(e,ve.toast):!1},J7=()=>{const e=Vt();return e?e.hasAttribute("data-loading"):!1},Ai=(e,t)=>{if(e.textContent="",t){const n=new DOMParser().parseFromString(t,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{e.appendChild(l)});const a=n.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?e.appendChild(l.cloneNode(!0)):e.appendChild(l)})}},Bs=(e,t)=>{if(!t)return!1;const r=t.split(/\s+/);for(let n=0;n<r.length;n++)if(!e.classList.contains(r[n]))return!1;return!0},eD=(e,t)=>{Array.from(e.classList).forEach(r=>{!Object.values(ve).includes(r)&&!Object.values(ch).includes(r)&&!Object.values(t.showClass||{}).includes(r)&&e.classList.remove(r)})},vi=(e,t,r)=>{if(eD(e,t),!t.customClass)return;const n=t.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){zn(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}zt(e,n)}},ud=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${ve.popup} > .${ve[t]}`);case"checkbox":return e.querySelector(`.${ve.popup} > .${ve.checkbox} input`);case"radio":return e.querySelector(`.${ve.popup} > .${ve.radio} input:checked`)||e.querySelector(`.${ve.popup} > .${ve.radio} input:first-child`);case"range":return e.querySelector(`.${ve.popup} > .${ve.range} input`);default:return e.querySelector(`.${ve.popup} > .${ve.input}`)}},bA=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},IA=(e,t,r)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(e)?e.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?e.classList.add(n):e.classList.remove(n)}))},zt=(e,t)=>{IA(e,t,!0)},ji=(e,t)=>{IA(e,t,!1)},pa=(e,t)=>{const r=Array.from(e.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&Bs(i,t))return i}},ho=(e,t,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?e.style.setProperty(t,typeof r=="number"?`${r}px`:r):e.style.removeProperty(t)},on=(e,t="flex")=>{e&&(e.style.display=t)},Rn=e=>{e&&(e.style.display="none")},nm=(e,t="block")=>{e&&new MutationObserver(()=>{fu(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Rv=(e,t,r,n)=>{const i=e.querySelector(t);i&&i.style.setProperty(r,n)},fu=(e,t,r="flex")=>{t?on(e,r):Rn(e)},li=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),tD=()=>!li(Es())&&!li(Lo())&&!li(tc()),Yg=e=>e.scrollHeight>e.clientHeight,rD=(e,t)=>{let r=e;for(;r&&r!==t;){if(Yg(r))return!0;r=r.parentElement}return!1},RA=e=>{const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||n>0},im=(e,t=!1)=>{const r=ld();r&&li(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},nD=()=>{const e=ld();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const r=parseInt(window.getComputedStyle(e).width),n=t/r*100;e.style.width=`${n}%`},iD=()=>typeof window>"u"||typeof document>"u",sD=`
 <div aria-labelledby="${ve.title}" aria-describedby="${ve["html-container"]}" class="${ve.popup}" tabindex="-1">
   <button type="button" class="${ve.close}"></button>
   <ul class="${ve["progress-steps"]}"></ul>
   <div class="${ve.icon}"></div>
   <img class="${ve.image}" />
   <h2 class="${ve.title}" id="${ve.title}"></h2>
   <div class="${ve["html-container"]}" id="${ve["html-container"]}"></div>
   <input class="${ve.input}" id="${ve.input}" />
   <input type="file" class="${ve.file}" />
   <div class="${ve.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${ve.select}" id="${ve.select}"></select>
   <div class="${ve.radio}"></div>
   <label class="${ve.checkbox}">
     <input type="checkbox" id="${ve.checkbox}" />
     <span class="${ve.label}"></span>
   </label>
   <textarea class="${ve.textarea}" id="${ve.textarea}"></textarea>
   <div class="${ve["validation-message"]}" id="${ve["validation-message"]}"></div>
   <div class="${ve.actions}">
     <div class="${ve.loader}"></div>
     <button type="button" class="${ve.confirm}"></button>
     <button type="button" class="${ve.deny}"></button>
     <button type="button" class="${ve.cancel}"></button>
   </div>
   <div class="${ve.footer}"></div>
   <div class="${ve["timer-progress-bar-container"]}">
     <div class="${ve["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),aD=()=>{const e=Yn();return e?(e.remove(),ji([document.documentElement,document.body],[ve["no-backdrop"],ve["toast-shown"],ve["has-column"]]),!0):!1},qa=()=>{nt.currentInstance.resetValidationMessage()},oD=()=>{const e=Vt(),t=pa(e,ve.input),r=pa(e,ve.file),n=e.querySelector(`.${ve.range} input`),i=e.querySelector(`.${ve.range} output`),a=pa(e,ve.select),l=e.querySelector(`.${ve.checkbox} input`),u=pa(e,ve.textarea);t.oninput=qa,r.onchange=qa,a.onchange=qa,l.onchange=qa,u.oninput=qa,n.oninput=()=>{qa(),i.value=n.value},n.onchange=()=>{qa(),i.value=n.value}},lD=e=>typeof e=="string"?document.querySelector(e):e,cD=e=>{const t=Vt();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},uD=e=>{window.getComputedStyle(e).direction==="rtl"&&zt(Yn(),ve.rtl)},fD=e=>{const t=aD();if(iD()){Bo("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=ve.container,t&&zt(r,ve["no-transition"]),Ai(r,sD),r.dataset.swal2Theme=e.theme;const n=lD(e.target);n.appendChild(r),e.topLayer&&(r.setAttribute("popover",""),r.showPopover()),cD(e),uD(n),oD()},sm=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?hD(e,t):e&&Ai(t,e)},hD=(e,t)=>{e.jquery?dD(t,e):Ai(t,e.toString())},dD=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},gD=(e,t)=>{const r=uu(),n=rc();!r||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Rn(r):on(r),vi(r,t,"actions"),pD(r,n,t),Ai(n,t.loaderHtml||""),vi(n,t,"loader"))};function pD(e,t,r){const n=Es(),i=Lo(),a=tc();!n||!i||!a||(x1(n,"confirm",r),x1(i,"deny",r),x1(a,"cancel",r),xD(n,i,a,r),r.reverseButtons&&(r.toast?(e.insertBefore(a,n),e.insertBefore(i,n)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(n,t))))}function xD(e,t,r,n){if(!n.buttonsStyling){ji([e,t,r],ve.styled);return}zt([e,t,r],ve.styled),n.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),p1(e),p1(t),p1(r)}function p1(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function x1(e,t,r){const n=Kx(t);fu(e,r[`show${n}Button`],"inline-block"),Ai(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=ve[t],vi(e,r,`${t}Button`)}const mD=(e,t)=>{const r=em();r&&(Ai(r,t.closeButtonHtml||""),vi(r,t,"closeButton"),fu(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},wD=(e,t)=>{const r=Yn();r&&(vD(r,t.backdrop),yD(r,t.position),_D(r,t.grow),vi(r,t,"container"))};function vD(e,t){typeof t=="string"?e.style.background=t:t||zt([document.documentElement,document.body],ve["no-backdrop"])}function yD(e,t){t&&(t in ve?zt(e,ve[t]):(zn('The "position" parameter is not valid, defaulting to "center"'),zt(e,ve.center)))}function _D(e,t){t&&zt(e,ve[`grow-${t}`])}var or={innerParams:new WeakMap,domCache:new WeakMap};const ED=["input","file","range","select","radio","checkbox","textarea"],CD=(e,t)=>{const r=Vt();if(!r)return;const n=or.innerParams.get(e),i=!n||t.input!==n.input;ED.forEach(a=>{const l=pa(r,ve[a]);l&&(TD(a,t.inputAttributes),l.className=ve[a],i&&Rn(l))}),t.input&&(i&&AD(t),kD(t))},AD=e=>{if(!e.input)return;if(!Rr[e.input]){Bo(`Unexpected type of input! Expected ${Object.keys(Rr).join(" | ")}, got "${e.input}"`);return}const t=NA(e.input);if(!t)return;const r=Rr[e.input](t,e);on(t),e.inputAutoFocus&&setTimeout(()=>{bA(r)})},SD=e=>{for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},TD=(e,t)=>{const r=Vt();if(!r)return;const n=ud(r,e);if(n){SD(n);for(const i in t)n.setAttribute(i,t[i])}},kD=e=>{if(!e.input)return;const t=NA(e.input);t&&vi(t,e,"input")},am=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},hu=(e,t,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=ve["input-label"];n.setAttribute("for",e.id),n.className=i,typeof r.customClass=="object"&&zt(n,r.customClass.inputLabel),n.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",n)}},NA=e=>{const t=Vt();if(t)return pa(t,ve[e]||ve.input)},uh=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:Zx(t)||zn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Rr={};Rr.text=Rr.email=Rr.password=Rr.number=Rr.tel=Rr.url=Rr.search=Rr.date=Rr["datetime-local"]=Rr.time=Rr.week=Rr.month=(e,t)=>(uh(e,t.inputValue),hu(e,e,t),am(e,t),e.type=t.input,e);Rr.file=(e,t)=>(hu(e,e,t),am(e,t),e);Rr.range=(e,t)=>{const r=e.querySelector("input"),n=e.querySelector("output");return uh(r,t.inputValue),r.type=t.input,uh(n,t.inputValue),hu(r,e,t),e};Rr.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const r=document.createElement("option");Ai(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return hu(e,e,t),e};Rr.radio=e=>(e.textContent="",e);Rr.checkbox=(e,t)=>{const r=ud(Vt(),"checkbox");r.value="1",r.checked=!!t.inputValue;const n=e.querySelector("span");return Ai(n,t.inputPlaceholder||t.inputLabel),r};Rr.textarea=(e,t)=>{uh(e,t.inputValue),am(e,t),hu(e,e,t);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Vt()).width),i=()=>{if(!document.body.contains(e))return;const a=e.offsetWidth+r(e);a>n?Vt().style.width=`${a}px`:ho(Vt(),"width",t.width)};new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const bD=(e,t)=>{const r=Qx();r&&(nm(r),vi(r,t,"htmlContainer"),t.html?(sm(t.html,r),on(r,"block")):t.text?(r.textContent=t.text,on(r,"block")):Rn(r),CD(e,t))},ID=(e,t)=>{const r=kA();r&&(nm(r),fu(r,!!t.footer,"block"),t.footer&&sm(t.footer,r),vi(r,t,"footer"))},RD=(e,t)=>{const r=or.innerParams.get(e),n=ec();if(!n)return;if(r&&t.icon===r.icon){Ov(n,t),Nv(n,t);return}if(!t.icon&&!t.iconHtml){Rn(n);return}if(t.icon&&Object.keys(ch).indexOf(t.icon)===-1){Bo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Rn(n);return}on(n),Ov(n,t),Nv(n,t),zt(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",OA)},Nv=(e,t)=>{for(const[r,n]of Object.entries(ch))t.icon!==r&&ji(e,n);zt(e,t.icon&&ch[t.icon]),DD(e,t),OA(),vi(e,t,"icon")},OA=()=>{const e=Vt();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=t},ND=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,OD=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ov=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,n="";t.iconHtml?n=Dv(t.iconHtml):t.icon==="success"?(n=ND(t),r=r.replace(/ style=".*?"/g,"")):t.icon==="error"?n=OD:t.icon&&(n=Dv({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==n.trim()&&Ai(e,n)},DD=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Rv(e,r,"background-color",t.iconColor);Rv(e,".swal2-success-ring","border-color",t.iconColor)}},Dv=e=>`<div class="${ve["icon-content"]}">${e}</div>`,FD=(e,t)=>{const r=TA();if(r){if(!t.imageUrl){Rn(r);return}on(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),ho(r,"width",t.imageWidth),ho(r,"height",t.imageHeight),r.className=ve.image,vi(r,t,"image")}};let om=!1,DA=0,FA=0,PA=0,MA=0;const PD=e=>{e.addEventListener("mousedown",fh),document.body.addEventListener("mousemove",hh),e.addEventListener("mouseup",dh),e.addEventListener("touchstart",fh),document.body.addEventListener("touchmove",hh),e.addEventListener("touchend",dh)},MD=e=>{e.removeEventListener("mousedown",fh),document.body.removeEventListener("mousemove",hh),e.removeEventListener("mouseup",dh),e.removeEventListener("touchstart",fh),document.body.removeEventListener("touchmove",hh),e.removeEventListener("touchend",dh)},fh=e=>{const t=Vt();if(e.target===t||ec().contains(e.target)){om=!0;const r=BA(e);DA=r.clientX,FA=r.clientY,PA=parseInt(t.style.insetInlineStart)||0,MA=parseInt(t.style.insetBlockStart)||0,zt(t,"swal2-dragging")}},hh=e=>{const t=Vt();if(om){let{clientX:r,clientY:n}=BA(e);t.style.insetInlineStart=`${PA+(r-DA)}px`,t.style.insetBlockStart=`${MA+(n-FA)}px`}},dh=()=>{const e=Vt();om=!1,ji(e,"swal2-dragging")},BA=e=>{let t=0,r=0;return e.type.startsWith("mouse")?(t=e.clientX,r=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,r=e.touches[0].clientY),{clientX:t,clientY:r}},BD=(e,t)=>{const r=Yn(),n=Vt();if(!(!r||!n)){if(t.toast){ho(r,"width",t.width),n.style.width="100%";const i=rc();i&&n.insertBefore(i,ec())}else ho(n,"width",t.width);ho(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),Rn(od()),LD(n,t),t.draggable&&!t.toast?(zt(n,ve.draggable),PD(n)):(ji(n,ve.draggable),MD(n))}},LD=(e,t)=>{const r=t.showClass||{};e.className=`${ve.popup} ${li(e)?r.popup:""}`,t.toast?(zt([document.documentElement,document.body],ve["toast-shown"]),zt(e,ve.toast)):zt(e,ve.modal),vi(e,t,"popup"),typeof t.customClass=="string"&&zt(e,t.customClass),t.icon&&zt(e,ve[`icon-${t.icon}`])},UD=(e,t)=>{const r=Jx();if(!r)return;const{progressSteps:n,currentProgressStep:i}=t;if(!n||n.length===0||i===void 0){Rn(r);return}on(r),r.textContent="",i>=n.length&&zn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((a,l)=>{const u=jD(a);if(r.appendChild(u),l===i&&zt(u,ve["active-progress-step"]),l!==n.length-1){const g=WD(t);r.appendChild(g)}})},jD=e=>{const t=document.createElement("li");return zt(t,ve["progress-step"]),Ai(t,e),t},WD=e=>{const t=document.createElement("li");return zt(t,ve["progress-step-line"]),e.progressStepsDistance&&ho(t,"width",e.progressStepsDistance),t},VD=(e,t)=>{const r=SA();r&&(nm(r),fu(r,!!(t.title||t.titleText),"block"),t.title&&sm(t.title,r),t.titleText&&(r.innerText=t.titleText),vi(r,t,"title"))},LA=(e,t)=>{BD(e,t),wD(e,t),UD(e,t),RD(e,t),FD(e,t),VD(e,t),mD(e,t),bD(e,t),gD(e,t),ID(e,t);const r=Vt();typeof t.didRender=="function"&&r&&t.didRender(r),nt.eventEmitter.emit("didRender",r)},HD=()=>li(Vt()),UA=()=>{var e;return(e=Es())===null||e===void 0?void 0:e.click()},zD=()=>{var e;return(e=Lo())===null||e===void 0?void 0:e.click()},GD=()=>{var e;return(e=tc())===null||e===void 0?void 0:e.click()},nc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),jA=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},XD=(e,t,r)=>{jA(e),t.toast||(e.keydownHandler=n=>YD(t,n,r),e.keydownTarget=t.keydownListenerCapture?window:Vt(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Kg=(e,t)=>{var r;const n=tm();if(n.length){e=e+t,e===-2&&(e=n.length-1),e===n.length?e=0:e===-1&&(e=n.length-1),n[e].focus();return}(r=Vt())===null||r===void 0||r.focus()},WA=["ArrowRight","ArrowDown"],$D=["ArrowLeft","ArrowUp"],YD=(e,t,r)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?KD(t,e):t.key==="Tab"?qD(t):[...WA,...$D].includes(t.key)?ZD(t.key):t.key==="Escape"&&QD(t,e,r)))},KD=(e,t)=>{if(!ad(t.allowEnterKey))return;const r=ud(Vt(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;UA(),e.preventDefault()}},qD=e=>{const t=e.target,r=tm();let n=-1;for(let i=0;i<r.length;i++)if(t===r[i]){n=i;break}e.shiftKey?Kg(n,-1):Kg(n,1),e.stopPropagation(),e.preventDefault()},ZD=e=>{const t=uu(),r=Es(),n=Lo(),i=tc();if(!t||!r||!n||!i)return;const a=[r,n,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=WA.includes(e)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let g=0;g<t.children.length;g++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&li(u))break}u instanceof HTMLButtonElement&&u.focus()}},QD=(e,t,r)=>{e.preventDefault(),ad(t.allowEscapeKey)&&r(nc.esc)};var Vl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const JD=()=>{const e=Yn();Array.from(document.body.children).forEach(r=>{r.contains(e)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},VA=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},HA=typeof window<"u"&&!!window.GestureEvent,eF=()=>{if(HA&&!Bs(document.body,ve.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,zt(document.body,ve.iosfix),tF()}},tF=()=>{const e=Yn();if(!e)return;let t;e.ontouchstart=r=>{t=rF(r)},e.ontouchmove=r=>{t&&(r.preventDefault(),r.stopPropagation())}},rF=e=>{const t=e.target,r=Yn(),n=Qx();return!r||!n||nF(e)||iF(e)?!1:t===r||!Yg(r)&&t instanceof HTMLElement&&!rD(t,n)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Yg(n)&&n.contains(t))},nF=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",iF=e=>e.touches&&e.touches.length>1,sF=()=>{if(Bs(document.body,ve.iosfix)){const e=parseInt(document.body.style.top,10);ji(document.body,ve.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},aF=()=>{const e=document.createElement("div");e.className=ve["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Al=null;const oF=e=>{Al===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Al=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Al+aF()}px`)},lF=()=>{Al!==null&&(document.body.style.paddingRight=`${Al}px`,Al=null)};function zA(e,t,r,n){cd()?Fv(e,n):(X7(r).then(()=>Fv(e,n)),jA(nt)),HA?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),rm()&&(lF(),sF(),VA()),cF()}function cF(){ji([document.documentElement,document.body],[ve.shown,ve["height-auto"],ve["no-backdrop"],ve["toast-shown"]])}function xa(e){e=fF(e);const t=Vl.swalPromiseResolve.get(this),r=uF(this);this.isAwaitingPromise?e.isDismissed||(du(this),t(e)):r&&t(e)}const uF=e=>{const t=Vt();if(!t)return!1;const r=or.innerParams.get(e);if(!r||Bs(t,r.hideClass.popup))return!1;ji(t,r.showClass.popup),zt(t,r.hideClass.popup);const n=Yn();return ji(n,r.showClass.backdrop),zt(n,r.hideClass.backdrop),hF(e,t,r),!0};function GA(e){const t=Vl.swalPromiseReject.get(this);du(this),t&&t(e)}const du=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,or.innerParams.get(e)||e._destroy())},fF=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),hF=(e,t,r)=>{var n;const i=Yn(),a=RA(t);typeof r.willClose=="function"&&r.willClose(t),(n=nt.eventEmitter)===null||n===void 0||n.emit("willClose",t),a?dF(e,t,i,r.returnFocus,r.didClose):zA(e,i,r.returnFocus,r.didClose)},dF=(e,t,r,n,i)=>{nt.swalCloseEventFinishedCallback=zA.bind(null,e,r,n,i);const a=function(l){if(l.target===t){var u;(u=nt.swalCloseEventFinishedCallback)===null||u===void 0||u.call(nt),delete nt.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a)}};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},Fv=(e,t)=>{setTimeout(()=>{var r;typeof t=="function"&&t.bind(e.params)(),(r=nt.eventEmitter)===null||r===void 0||r.emit("didClose"),e._destroy&&e._destroy()})},Hl=e=>{let t=Vt();if(t||new Nt,t=Vt(),!t)return;const r=rc();cd()?Rn(ec()):gF(t,e),on(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},gF=(e,t)=>{const r=uu(),n=rc();!r||!n||(!t&&li(Es())&&(t=Es()),on(r),t&&(Rn(t),n.setAttribute("data-button-to-replace",t.className),r.insertBefore(n,t)),zt([e,r],ve.loading))},pF=(e,t)=>{t.input==="select"||t.input==="radio"?yF(e,t):["text","email","number","tel","textarea"].some(r=>r===t.input)&&(qx(t.inputValue)||Zx(t.inputValue))&&(Hl(Es()),_F(e,t))},xF=(e,t)=>{const r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return mF(r);case"radio":return wF(r);case"file":return vF(r);default:return t.inputAutoTrim?r.value.trim():r.value}},mF=e=>e.checked?1:0,wF=e=>e.checked?e.value:null,vF=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,yF=(e,t)=>{const r=Vt();if(!r)return;const n=i=>{t.input==="select"?EF(r,gh(i),t):t.input==="radio"&&CF(r,gh(i),t)};qx(t.inputOptions)||Zx(t.inputOptions)?(Hl(Es()),lu(t.inputOptions).then(i=>{e.hideLoading(),n(i)})):typeof t.inputOptions=="object"?n(t.inputOptions):Bo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},_F=(e,t)=>{const r=e.getInput();r&&(Rn(r),lu(t.inputValue).then(n=>{r.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,on(r),r.focus(),e.hideLoading()}).catch(n=>{Bo(`Error in inputValue promise: ${n}`),r.value="",on(r),r.focus(),e.hideLoading()}))};function EF(e,t,r){const n=pa(e,ve.select);if(!n)return;const i=(a,l,u)=>{const g=document.createElement("option");g.value=u,Ai(g,l),g.selected=XA(u,r.inputValue),a.appendChild(g)};t.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const g=document.createElement("optgroup");g.label=l,g.disabled=!1,n.appendChild(g),u.forEach(p=>i(g,p[1],p[0]))}else i(n,u,l)}),n.focus()}function CF(e,t,r){const n=pa(e,ve.radio);if(!n)return;t.forEach(a=>{const l=a[0],u=a[1],g=document.createElement("input"),p=document.createElement("label");g.type="radio",g.name=ve.radio,g.value=l,XA(l,r.inputValue)&&(g.checked=!0);const m=document.createElement("span");Ai(m,u),m.className=ve.label,p.appendChild(g),p.appendChild(m),n.appendChild(p)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const gh=e=>{const t=[];return e instanceof Map?e.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=gh(i)),t.push([n,i])}):Object.keys(e).forEach(r=>{let n=e[r];typeof n=="object"&&(n=gh(n)),t.push([r,n])}),t},XA=(e,t)=>!!t&&t.toString()===e.toString(),AF=e=>{const t=or.innerParams.get(e);e.disableButtons(),t.input?$A(e,"confirm"):cm(e,!0)},SF=e=>{const t=or.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?$A(e,"deny"):lm(e,!1)},TF=(e,t)=>{e.disableButtons(),t(nc.cancel)},$A=(e,t)=>{const r=or.innerParams.get(e);if(!r.input){Bo(`The "input" parameter is needed to be set when using returnInputValueOn${Kx(t)}`);return}const n=e.getInput(),i=xF(e,r);r.inputValidator?kF(e,i,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||n.validationMessage)):t==="deny"?lm(e,i):cm(e,i)},kF=(e,t,r)=>{const n=or.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>lu(n.inputValidator(t,n.validationMessage))).then(a=>{e.enableButtons(),e.enableInput(),a?e.showValidationMessage(a):r==="deny"?lm(e,t):cm(e,t)})},lm=(e,t)=>{const r=or.innerParams.get(e||void 0);r.showLoaderOnDeny&&Hl(Lo()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>lu(r.preDeny(t,r.validationMessage))).then(i=>{i===!1?(e.hideLoading(),du(e)):e.close({isDenied:!0,value:typeof i>"u"?t:i})}).catch(i=>YA(e||void 0,i))):e.close({isDenied:!0,value:t})},Pv=(e,t)=>{e.close({isConfirmed:!0,value:t})},YA=(e,t)=>{e.rejectPromise(t)},cm=(e,t)=>{const r=or.innerParams.get(e||void 0);r.showLoaderOnConfirm&&Hl(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>lu(r.preConfirm(t,r.validationMessage))).then(i=>{li(od())||i===!1?(e.hideLoading(),du(e)):Pv(e,typeof i>"u"?t:i)}).catch(i=>YA(e||void 0,i))):Pv(e,t)};function ph(){const e=or.innerParams.get(this);if(!e)return;const t=or.domCache.get(this);Rn(t.loader),cd()?e.icon&&on(ec()):bF(t),ji([t.popup,t.actions],ve.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const bF=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?on(t[0],"inline-block"):tD()&&Rn(e.actions)};function KA(){const e=or.innerParams.get(this),t=or.domCache.get(this);return t?ud(t.popup,e.input):null}function qA(e,t,r){const n=or.domCache.get(e);t.forEach(i=>{n[i].disabled=r})}function ZA(e,t){const r=Vt();if(!(!r||!e))if(e.type==="radio"){const n=r.querySelectorAll(`[name="${ve.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=t}else e.disabled=t}function QA(){qA(this,["confirmButton","denyButton","cancelButton"],!1)}function JA(){qA(this,["confirmButton","denyButton","cancelButton"],!0)}function e4(){ZA(this.getInput(),!1)}function t4(){ZA(this.getInput(),!0)}function r4(e){const t=or.domCache.get(this),r=or.innerParams.get(this);Ai(t.validationMessage,e),t.validationMessage.className=ve["validation-message"],r.customClass&&r.customClass.validationMessage&&zt(t.validationMessage,r.customClass.validationMessage),on(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",ve["validation-message"]),bA(n),zt(n,ve.inputerror))}function n4(){const e=or.domCache.get(this);e.validationMessage&&Rn(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ji(t,ve.inputerror))}const Sl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},IF=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],RF={allowEnterKey:void 0},NF=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],i4=e=>Object.prototype.hasOwnProperty.call(Sl,e),s4=e=>IF.indexOf(e)!==-1,a4=e=>RF[e],OF=e=>{i4(e)||zn(`Unknown parameter "${e}"`)},DF=e=>{NF.includes(e)&&zn(`The parameter "${e}" is incompatible with toasts`)},FF=e=>{const t=a4(e);t&&AA(e,t)},o4=e=>{e.backdrop===!1&&e.allowOutsideClick&&zn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&zn(`Invalid theme "${e.theme}"`);for(const t in e)OF(t),e.toast&&DF(t),FF(t)};function l4(e){const t=Yn(),r=Vt(),n=or.innerParams.get(this);if(!r||Bs(r,n.hideClass.popup)){zn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=PF(e),a=Object.assign({},n,i);o4(a),t.dataset.swal2Theme=a.theme,LA(this,a),or.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const PF=e=>{const t={};return Object.keys(e).forEach(r=>{s4(r)?t[r]=e[r]:zn(`Invalid parameter to update: ${r}`)}),t};function c4(){const e=or.domCache.get(this),t=or.innerParams.get(this);if(!t){u4(this);return}e.popup&&nt.swalCloseEventFinishedCallback&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),nt.eventEmitter.emit("didDestroy"),MF(this)}const MF=e=>{u4(e),delete e.params,delete nt.keydownHandler,delete nt.keydownTarget,delete nt.currentInstance},u4=e=>{e.isAwaitingPromise?(m1(or,e),e.isAwaitingPromise=!0):(m1(Vl,e),m1(or,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},m1=(e,t)=>{for(const r in e)e[r].delete(t)};var BF=Object.freeze({__proto__:null,_destroy:c4,close:xa,closeModal:xa,closePopup:xa,closeToast:xa,disableButtons:JA,disableInput:t4,disableLoading:ph,enableButtons:QA,enableInput:e4,getInput:KA,handleAwaitingPromise:du,hideLoading:ph,rejectPromise:GA,resetValidationMessage:n4,showValidationMessage:r4,update:l4});const LF=(e,t,r)=>{e.toast?UF(e,t,r):(WF(t),VF(t),HF(e,t,r))},UF=(e,t,r)=>{t.popup.onclick=()=>{e&&(jF(e)||e.timer||e.input)||r(nc.close)}},jF=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let xh=!1;const WF=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(xh=!0)}}},VF=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(r){e.popup.onmouseup=()=>{},(r.target===e.popup||r.target instanceof HTMLElement&&e.popup.contains(r.target))&&(xh=!0)}}},HF=(e,t,r)=>{t.container.onclick=n=>{if(xh){xh=!1;return}n.target===t.container&&ad(e.allowOutsideClick)&&r(nc.backdrop)}},zF=e=>typeof e=="object"&&e.jquery,Mv=e=>e instanceof Element||zF(e),GF=e=>{const t={};return typeof e[0]=="object"&&!Mv(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((r,n)=>{const i=e[n];typeof i=="string"||Mv(i)?t[r]=i:i!==void 0&&Bo(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),t};function XF(...e){return new this(...e)}function $F(e){class t extends this{_main(n,i){return super._main(n,Object.assign({},e,i))}}return t}const YF=()=>nt.timeout&&nt.timeout.getTimerLeft(),f4=()=>{if(nt.timeout)return nD(),nt.timeout.stop()},h4=()=>{if(nt.timeout){const e=nt.timeout.start();return im(e),e}},KF=()=>{const e=nt.timeout;return e&&(e.running?f4():h4())},qF=e=>{if(nt.timeout){const t=nt.timeout.increase(e);return im(t,!0),t}},ZF=()=>!!(nt.timeout&&nt.timeout.isRunning());let Bv=!1;const qg={};function QF(e="data-swal-template"){qg[e]=this,Bv||(document.body.addEventListener("click",JF),Bv=!0)}const JF=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const r in qg){const n=t.getAttribute(r);if(n){qg[r].fire({template:n});return}}};class e9{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,r){const n=this._getHandlersByEventName(t);n.includes(r)||n.push(r)}once(t,r){const n=(...i)=>{this.removeListener(t,n),r.apply(this,i)};this.on(t,n)}emit(t,...r){this._getHandlersByEventName(t).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(t,r){const n=this._getHandlersByEventName(t),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}nt.eventEmitter=new e9;const t9=(e,t)=>{nt.eventEmitter.on(e,t)},r9=(e,t)=>{nt.eventEmitter.once(e,t)},n9=(e,t)=>{if(!e){nt.eventEmitter.reset();return}t?nt.eventEmitter.removeListener(e,t):nt.eventEmitter.removeAllListeners(e)};var i9=Object.freeze({__proto__:null,argsToParams:GF,bindClickHandler:QF,clickCancel:GD,clickConfirm:UA,clickDeny:zD,enableLoading:Hl,fire:XF,getActions:uu,getCancelButton:tc,getCloseButton:em,getConfirmButton:Es,getContainer:Yn,getDenyButton:Lo,getFocusableElements:tm,getFooter:kA,getHtmlContainer:Qx,getIcon:ec,getIconContent:q7,getImage:TA,getInputLabel:Z7,getLoader:rc,getPopup:Vt,getProgressSteps:Jx,getTimerLeft:YF,getTimerProgressBar:ld,getTitle:SA,getValidationMessage:od,increaseTimer:qF,isDeprecatedParameter:a4,isLoading:J7,isTimerRunning:ZF,isUpdatableParameter:s4,isValidParameter:i4,isVisible:HD,mixin:$F,off:n9,on:t9,once:r9,resumeTimer:h4,showLoading:Hl,stopTimer:f4,toggleTimer:KF});class s9{constructor(t,r){this.callback=t,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const r=this.running;return r&&this.stop(),this.remaining+=t,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const d4=["swal-title","swal-html","swal-footer"],a9=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const r=t.content;return g9(r),Object.assign(o9(r),l9(r),c9(r),u9(r),f9(r),h9(r),d9(r,d4))},o9=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(n=>{To(n,["name","value"]);const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(typeof Sl[i]=="boolean"?t[i]=a!=="false":typeof Sl[i]=="object"?t[i]=JSON.parse(a):t[i]=a)}),t},l9=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(t[i]=new Function(`return ${a}`)())}),t},c9=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(n=>{To(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(t[`${i}ButtonText`]=n.innerHTML,t[`show${Kx(i)}Button`]=!0,n.hasAttribute("color")&&(t[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},u9=e=>{const t={},r=e.querySelector("swal-image");return r&&(To(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},f9=e=>{const t={},r=e.querySelector("swal-icon");return r&&(To(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},h9=e=>{const t={},r=e.querySelector("swal-input");r&&(To(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(i=>{To(i,["value"]);const a=i.getAttribute("value");if(!a)return;const l=i.innerHTML;t.inputOptions[a]=l})),t},d9=(e,t)=>{const r={};for(const n in t){const i=t[n],a=e.querySelector(i);a&&(To(a,[]),r[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return r},g9=e=>{const t=d4.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(r=>{const n=r.tagName.toLowerCase();t.includes(n)||zn(`Unrecognized element <${n}>`)})},To=(e,t)=>{Array.from(e.attributes).forEach(r=>{t.indexOf(r.name)===-1&&zn([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},g4=10,p9=e=>{const t=Yn(),r=Vt();typeof e.willOpen=="function"&&e.willOpen(r),nt.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;w9(t,r,e),setTimeout(()=>{x9(t,r)},g4),rm()&&(m9(t,e.scrollbarPadding,i),JD()),!cd()&&!nt.previousActiveElement&&(nt.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(r)),nt.eventEmitter.emit("didOpen",r)},mh=e=>{const t=Vt();if(e.target!==t)return;const r=Yn();t.removeEventListener("animationend",mh),t.removeEventListener("transitionend",mh),r.style.overflowY="auto",ji(r,ve["no-transition"])},x9=(e,t)=>{RA(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",mh),t.addEventListener("transitionend",mh)):e.style.overflowY="auto"},m9=(e,t,r)=>{eF(),t&&r!=="hidden"&&oF(r),setTimeout(()=>{e.scrollTop=0})},w9=(e,t,r)=>{zt(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),on(t,"grid"),setTimeout(()=>{zt(t,r.showClass.popup),t.style.removeProperty("opacity")},g4)):on(t,"grid"),zt([document.documentElement,document.body],ve.shown),r.heightAuto&&r.backdrop&&!r.toast&&zt([document.documentElement,document.body],ve["height-auto"])};var Lv={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function v9(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Lv.email),e.input==="url"&&(e.inputValidator=Lv.url))}function y9(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(zn('Target parameter is not valid, defaulting to "body"'),e.target="body")}function _9(e){v9(e),e.showLoaderOnConfirm&&!e.preConfirm&&zn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),y9(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),fD(e)}let ms;var Xu=new WeakMap;class Or{constructor(...t){if(V7(this,Xu,void 0),typeof window>"u")return;ms=this;const r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,H7(Xu,this,this._main(ms.params))}_main(t,r={}){if(o4(Object.assign({},r,t)),nt.currentInstance){const a=Vl.swalPromiseResolve.get(nt.currentInstance),{isAwaitingPromise:l}=nt.currentInstance;nt.currentInstance._destroy(),l||a({isDismissed:!0}),rm()&&VA()}nt.currentInstance=ms;const n=C9(t,r);_9(n),Object.freeze(n),nt.timeout&&(nt.timeout.stop(),delete nt.timeout),clearTimeout(nt.restoreFocusTimeout);const i=A9(ms);return LA(ms,n),or.innerParams.set(ms,n),E9(ms,i,n)}then(t){return bv(Xu,this).then(t)}finally(t){return bv(Xu,this).finally(t)}}const E9=(e,t,r)=>new Promise((n,i)=>{const a=l=>{e.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};Vl.swalPromiseResolve.set(e,n),Vl.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{AF(e)},t.denyButton.onclick=()=>{SF(e)},t.cancelButton.onclick=()=>{TF(e,a)},t.closeButton.onclick=()=>{a(nc.close)},LF(r,t,a),XD(nt,r,a),pF(e,r),p9(r),S9(nt,r,a),T9(t,r),setTimeout(()=>{t.container.scrollTop=0})}),C9=(e,t)=>{const r=a9(e),n=Object.assign({},Sl,t,r,e);return n.showClass=Object.assign({},Sl.showClass,n.showClass),n.hideClass=Object.assign({},Sl.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},A9=e=>{const t={popup:Vt(),container:Yn(),actions:uu(),confirmButton:Es(),denyButton:Lo(),cancelButton:tc(),loader:rc(),closeButton:em(),validationMessage:od(),progressSteps:Jx()};return or.domCache.set(e,t),t},S9=(e,t,r)=>{const n=ld();Rn(n),t.timer&&(e.timeout=new s9(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(on(n),vi(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&im(t.timer)})))},T9=(e,t)=>{if(!t.toast){if(!ad(t.allowEnterKey)){AA("allowEnterKey"),I9();return}k9(e)||b9(e,t)||Kg(-1,1)}},k9=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const r of t)if(r instanceof HTMLElement&&li(r))return r.focus(),!0;return!1},b9=(e,t)=>t.focusDeny&&li(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&li(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&li(e.confirmButton)?(e.confirmButton.focus(),!0):!1,I9=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Or.prototype.disableButtons=JA;Or.prototype.enableButtons=QA;Or.prototype.getInput=KA;Or.prototype.disableInput=t4;Or.prototype.enableInput=e4;Or.prototype.hideLoading=ph;Or.prototype.disableLoading=ph;Or.prototype.showValidationMessage=r4;Or.prototype.resetValidationMessage=n4;Or.prototype.close=xa;Or.prototype.closePopup=xa;Or.prototype.closeModal=xa;Or.prototype.closeToast=xa;Or.prototype.rejectPromise=GA;Or.prototype.update=l4;Or.prototype._destroy=c4;Object.assign(Or,i9);Object.keys(BF).forEach(e=>{Or[e]=function(...t){return ms&&ms[e]?ms[e](...t):null}});Or.DismissReason=nc;Or.version="11.26.3";const Nt=Or;Nt.default=Nt;typeof document<"u"&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch{r.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var p4=1252,R9=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],um={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},fm=function(e){R9.indexOf(e)!=-1&&(p4=um[0]=e)};function N9(){fm(1252)}var es=function(e){fm(e)};function x4(){es(1200),N9()}function Uv(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function O9(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function m4(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Dc=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?O9(e.slice(2)):t==254&&r==255?m4(e.slice(2)):t==65279?e.slice(1):e},$u=function(t){return String.fromCharCode(t)},jv=function(t){return String.fromCharCode(t)},L0,ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Wv(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0,g=0,p=0;p<e.length;)r=e.charCodeAt(p++),a=r>>2,n=e.charCodeAt(p++),l=(r&3)<<4|n>>4,i=e.charCodeAt(p++),u=(n&15)<<2|i>>6,g=i&63,isNaN(n)?u=g=64:isNaN(i)&&(g=64),t+=ma.charAt(a)+ma.charAt(l)+ma.charAt(u)+ma.charAt(g);return t}function yi(e){var t="",r=0,n=0,i=0,a=0,l=0,u=0,g=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<e.length;)a=ma.indexOf(e.charAt(p++)),l=ma.indexOf(e.charAt(p++)),r=a<<2|l>>4,t+=String.fromCharCode(r),u=ma.indexOf(e.charAt(p++)),n=(l&15)<<4|u>>2,u!==64&&(t+=String.fromCharCode(n)),g=ma.indexOf(e.charAt(p++)),i=(u&3)<<6|g,g!==64&&(t+=String.fromCharCode(i));return t}var Ft=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Uo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ua(e){return Ft?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Vv(e){return Ft?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Qi=function(t){return Ft?Uo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function jo(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function hm(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return hm(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ua=Ft?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Uo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function D9(e){for(var t=[],r=0,n=e.length+250,i=Ua(e.length+255),a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=e.charCodeAt(++a)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|u>>6&15|(l&3)<<4,i[r++]=128|u&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Ua(65535),n=65530)}return t.push(i.slice(0,r)),ua(t)}var Hn=/\u0000/g,Fc=/[\u0001-\u0006]/g;function Tl(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ts(e,t){var r=""+e;return r.length>=t?r:Ar("0",t-r.length)+r}function dm(e,t){var r=""+e;return r.length>=t?r:Ar(" ",t-r.length)+r}function wh(e,t){var r=""+e;return r.length>=t?r:r+Ar(" ",t-r.length)}function F9(e,t){var r=""+Math.round(e);return r.length>=t?r:Ar("0",t-r.length)+r}function P9(e,t){var r=""+e;return r.length>=t?r:Ar("0",t-r.length)+r}var Hv=Math.pow(2,32);function Jo(e,t){if(e>Hv||e<-Hv)return F9(e,t);var r=Math.round(e);return P9(r,t)}function vh(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var zv=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],w1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function M9(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var xt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Gv={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},B9={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function yh(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,l=1,u=0,g=1,p=0,m=0,v=Math.floor(i);p<t&&(v=Math.floor(i),u=v*l+a,m=v*p+g,!(i-v<5e-8));)i=1/(i-v),a=l,l=u,g=p,p=m;if(m>t&&(p>t?(m=g,u=a):(m=p,u=l)),!r)return[0,n*u,m];var _=Math.floor(n*u/m);return[_,n*u-_*m,m]}function co(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,l=[],u={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++n,++u.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var g=new Date(1900,0,1);g.setDate(g.getDate()+n-1),l=[g.getFullYear(),g.getMonth()+1,g.getDate()],a=g.getDay(),n<60&&(a=(a+6)%7),r&&(a=H9(g,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=a,u}var w4=new Date(1899,11,31,0,0,0),L9=w4.getTime(),U9=new Date(1900,2,1,0,0,0);function v4(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=U9&&(r+=24*60*60*1e3),(r-(L9+(e.getTimezoneOffset()-w4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function gm(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function j9(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function W9(e){var t=e<0?12:11,r=gm(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function V9(e){var t=gm(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function U0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=W9(e):t===10?r=e.toFixed(10).substr(0,12):r=V9(e),gm(j9(r.toUpperCase()))}function ko(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):U0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Wi(14,v4(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function H9(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function z9(e,t,r,n){var i="",a=0,l=0,u=r.y,g,p=0;switch(e){case 98:u=r.y+543;case 121:switch(t.length){case 1:case 2:g=u%100,p=2;break;default:g=u%1e4,p=4;break}break;case 109:switch(t.length){case 1:case 2:g=r.m,p=t.length;break;case 3:return w1[r.m-1][1];case 5:return w1[r.m-1][0];default:return w1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:g=r.d,p=t.length;break;case 3:return zv[r.q][0];default:return zv[r.q][1]}break;case 104:switch(t.length){case 1:case 2:g=1+(r.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:g=r.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:g=r.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ts(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),t==="s"?a===0?"0":""+a/l:(i=ts(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":g=r.D*24+r.H;break;case"[m]":case"[mm]":g=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":g=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}p=t.length===3?1:2;break;case 101:g=u,p=1;break}var m=p>0?ts(g,p):"";return m}function wa(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var y4=/%/g;function G9(e,t,r){var n=t.replace(y4,""),i=t.length-n.length;return Ls(e,n,r*Math.pow(10,2*i))+Ar("%",i)}function X9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ls(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_4(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,g,p,m){return g+p+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var E4=/# (\?+)( ?)\/( ?)(\d+)/;function $9(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),l=i-a*n,u=n;return r+(a===0?"":""+a)+" "+(l===0?Ar(" ",e[1].length+1+e[4].length):dm(l,e[1].length)+e[2]+"/"+e[3]+ts(u,e[4].length))}function Y9(e,t,r){return r+(t===0?"":""+t)+Ar(" ",e[1].length+2+e[4].length)}var C4=/^#*0*\.([0#]+)/,A4=/\).*[0#]/,S4=/\(###\) ###\\?-####/;function Bn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Xv(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function $v(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function K9(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function q9(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ri(e,t,r){if(e.charCodeAt(0)===40&&!t.match(A4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ri("n",n,r):"("+Ri("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return X9(e,t,r);if(t.indexOf("%")!==-1)return G9(e,t,r);if(t.indexOf("E")!==-1)return _4(t,r);if(t.charCodeAt(0)===36)return"$"+Ri(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,g=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+Jo(g,t.length);if(t.match(/^[#?]+$/))return i=Jo(r,0),i==="0"&&(i=""),i.length>t.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(E4))return $9(a,g,p);if(t.match(/^#+0+$/))return p+Jo(g,t.length-t.indexOf("0"));if(a=t.match(C4))return i=Xv(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])).replace(/\.(\d*)$/,function(A,C){return"."+C+Ar("0",Bn(a[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+Xv(g,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+wa(Jo(g,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ri(e,t,-r):wa(""+(Math.floor(r)+K9(r,a[1].length)))+"."+ts($v(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ri(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tl(Ri(e,t.replace(/[\\-]/g,""),r)),l=0,Tl(Tl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(S4))return i=Ri(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=yh(g,Math.pow(10,l)-1,!1),i=""+p,m=Ls("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=wh(u[2],l),m.length<a[4].length&&(m=Bn(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=yh(g,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?dm(u[1],l)+a[2]+"/"+a[3]+wh(u[2],l):Ar(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Jo(r,0),t.length<=i.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,_=t.length-i.length-v;return Bn(t.substr(0,v)+i+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return l=$v(r,a[1].length),r<0?"-"+Ri(e,t,-r):wa(q9(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?ts(0,3-A.length):"")+A})+"."+ts(l,a[1].length);switch(t){case"###,##0.00":return Ri(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var E=wa(Jo(g,0));return E!=="0"?p+E:"";case"###,###.00":return Ri(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ri(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Z9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ls(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Q9(e,t,r){var n=t.replace(y4,""),i=t.length-n.length;return Ls(e,n,r*Math.pow(10,2*i))+Ar("%",i)}function T4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+T4(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,g,p,m){return g+p+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ps(e,t,r){if(e.charCodeAt(0)===40&&!t.match(A4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ps("n",n,r):"("+ps("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Z9(e,t,r);if(t.indexOf("%")!==-1)return Q9(e,t,r);if(t.indexOf("E")!==-1)return T4(t,r);if(t.charCodeAt(0)===36)return"$"+ps(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,g=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+ts(g,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(E4))return Y9(a,g,p);if(t.match(/^#+0+$/))return p+ts(g,t.length-t.indexOf("0"));if(a=t.match(C4))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])),i=i.replace(/\.(\d*)$/,function(A,C){return"."+C+Ar("0",Bn(a[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+(""+g).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+wa(""+g);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):wa(""+r)+"."+Ar("0",a[1].length);if(a=t.match(/^#,#*,#0/))return ps(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tl(ps(e,t.replace(/[\\-]/g,""),r)),l=0,Tl(Tl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(S4))return i=ps(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=yh(g,Math.pow(10,l)-1,!1),i=""+p,m=Ls("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=wh(u[2],l),m.length<a[4].length&&(m=Bn(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=yh(g,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?dm(u[1],l)+a[2]+"/"+a[3]+wh(u[2],l):Ar(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,_=t.length-i.length-v;return Bn(t.substr(0,v)+i+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):wa(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?ts(0,3-A.length):"")+A})+"."+ts(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var E=wa(""+g);return E!=="0"?p+E:"";default:if(t.match(/\.[0#?]*$/))return ps(e,t.slice(0,t.lastIndexOf(".")),r)+Bn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ls(e,t,r){return(r|0)===r?ps(e,t,r):Ri(e,t,r)}function J9(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var k4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ic(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":vh(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(k4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function eP(e,t,r,n){for(var i=[],a="",l=0,u="",g="t",p,m,v,_="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!vh(e,l))throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(v=e.charCodeAt(++l))!==34&&l<e.length;)a+=String.fromCharCode(v);i[i.length]={t:"t",v:a},++l;break;case"\\":var E=e.charAt(++l),A=E==="("||E===")"?E:"t";i[i.length]={t:A,v:E},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(p==null&&(p=co(t,r,e.charAt(l+1)==="2"),p==null))return"";i[i.length]={t:"X",v:e.substr(l,2)},g=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||p==null&&(p=co(t,r),p==null))return"";for(a=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&g.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=_),i[i.length]={t:u,v:a},g=u;break;case"A":case"a":case"":var C={t:u,v:u};if(p==null&&(p=co(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(p!=null&&(C.v=p.H>=12?"P":"A"),C.t="T",_="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(p!=null&&(C.v=p.H>=12?"PM":"AM"),C.t="T",l+=5,_="h"):e.substr(l,5).toUpperCase()==="/"?(p!=null&&(C.v=p.H>=12?"":""),C.t="T",l+=5,_="h"):(C.t="t",++l),p==null&&C.t==="T")return"";i[i.length]=C,g=u;break;case"[":for(a=u;e.charAt(l++)!=="]"&&l<e.length;)a+=e.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(k4)){if(p==null&&(p=co(t,r),p==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},g=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",ic(e)||(i[i.length]={t:"t",v:a}));break;case".":if(p!=null){for(a=u;++l<e.length&&(u=e.charAt(l))==="0";)a+=u;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)a+=u;i[i.length]={t:"n",v:a};break;case"?":for(a=u;e.charAt(++l)===u;)a+=u;i[i.length]={t:u,v:a},g=u;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)a+=e.charAt(l);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:u,v:u},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"t",v:u},++l;break}var I=0,b=0,k;for(l=i.length-1,g="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=_,g="h",I<1&&(I=1);break;case"s":(k=i[l].v.match(/\.0+$/))&&(b=Math.max(b,k[0].length-1)),I<3&&(I=3);case"d":case"y":case"M":case"e":g=i[l].t;break;case"m":g==="s"&&(i[l].t="M",I<2&&(I=2));break;case"X":break;case"Z":I<1&&i[l].v.match(/[Hh]/)&&(I=1),I<2&&i[l].v.match(/[Mm]/)&&(I=2),I<3&&i[l].v.match(/[Ss]/)&&(I=3)}switch(I){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var S="",B;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=z9(i[l].t.charCodeAt(0),i[l].v,p,b),i[l].t="t";break;case"n":case"?":for(B=l+1;i[B]!=null&&((u=i[B].t)==="?"||u==="D"||(u===" "||u==="t")&&i[B+1]!=null&&(i[B+1].t==="?"||i[B+1].t==="t"&&i[B+1].v==="/")||i[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[B].v==="/"||i[B].v===" "&&i[B+1]!=null&&i[B+1].t=="?"));)i[l].v+=i[B].v,i[B]={v:"",t:";"},++B;S+=i[l].v,l=B-1;break;case"G":i[l].t="t",i[l].v=ko(t,r);break}var K="",G,F;if(S.length>0){S.charCodeAt(0)==40?(G=t<0&&S.charCodeAt(0)===45?-t:t,F=Ls("n",S,G)):(G=t<0&&n>1?-t:t,F=Ls("n",S,G),G<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),B=F.length-1;var q=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){q=l;break}var W=i.length;if(q===i.length&&F.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(B>=i[l].v.length-1?(B-=i[l].v.length,i[l].v=F.substr(B+1,i[l].v.length)):B<0?i[l].v="":(i[l].v=F.substr(0,B+1),B=-1),i[l].t="t",W=l);B>=0&&W<i.length&&(i[W].v=F.substr(0,B+1)+i[W].v)}else if(q!==i.length&&F.indexOf("E")===-1){for(B=F.indexOf(".")-1,l=q;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(m=i[l].v.indexOf(".")>-1&&l===q?i[l].v.indexOf(".")-1:i[l].v.length-1,K=i[l].v.substr(m+1);m>=0;--m)B>=0&&(i[l].v.charAt(m)==="0"||i[l].v.charAt(m)==="#")&&(K=F.charAt(B--)+K);i[l].v=K,i[l].t="t",W=l}for(B>=0&&W<i.length&&(i[W].v=F.substr(0,B+1)+i[W].v),B=F.indexOf(".")+1,l=q;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==q)){for(m=i[l].v.indexOf(".")>-1&&l===q?i[l].v.indexOf(".")+1:0,K=i[l].v.substr(0,m);m<i[l].v.length;++m)B<F.length&&(K+=F.charAt(B++));i[l].v=K,i[l].t="t",W=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(G=n>1&&t<0&&l>0&&i[l-1].v==="-"?-t:t,i[l].v=Ls(i[l].t,i[l].v,G),i[l].t="t");var ce="";for(l=0;l!==i.length;++l)i[l]!=null&&(ce+=i[l].v);return ce}var Yv=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Kv(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function tP(e,t){var r=J9(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(Yv),u=r[1].match(Yv);return Kv(t,l)?[n,r[0]]:Kv(t,u)?[n,r[1]]:[n,r[l!=null&&u!=null?2:1]]}return[n,a]}function Wi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:xt)[e],n==null&&(n=r.table&&r.table[Gv[e]]||xt[Gv[e]]),n==null&&(n=B9[e]||"General");break}if(vh(n,0))return ko(t,r);t instanceof Date&&(t=v4(t,r.date1904));var i=tP(n,t);if(vh(i[1]))return ko(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return eP(i[1],t,r,i[0])}function go(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(xt[r]==null){t<0&&(t=r);continue}if(xt[r]==e){t=r;break}}t<0&&(t=391)}return xt[t]=e,t}function b4(){xt=M9()}var rP={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},I4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nP(e){var t=typeof e=="number"?xt[e]:e;return t=t.replace(I4,"(\\d+)"),new RegExp("^"+t+"$")}function iP(e,t,r){var n=-1,i=-1,a=-1,l=-1,u=-1,g=-1;(t.match(I4)||[]).forEach(function(v,_){var E=parseInt(r[_+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=E;break;case"d":a=E;break;case"h":l=E;break;case"s":g=E;break;case"m":l>=0?u=E:i=E;break}}),g>=0&&u==-1&&i>=0&&(u=i,i=-1);var p=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2);return l==-1&&u==-1&&g==-1?p:n==-1&&i==-1&&a==-1?m:p+"T"+m}var sP=function(){var e={};e.version="1.2.0";function t(){for(var F=0,q=new Array(256),W=0;W!=256;++W)F=W,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,q[W]=F;return typeof Int32Array<"u"?new Int32Array(q):q}var r=t();function n(F){var q=0,W=0,ce=0,ue=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ce=0;ce!=256;++ce)ue[ce]=F[ce];for(ce=0;ce!=256;++ce)for(W=F[ce],q=256+ce;q<4096;q+=256)W=ue[q]=W>>>8^F[W&255];var Z=[];for(ce=1;ce!=16;++ce)Z[ce-1]=typeof Int32Array<"u"?ue.subarray(ce*256,ce*256+256):ue.slice(ce*256,ce*256+256);return Z}var i=n(r),a=i[0],l=i[1],u=i[2],g=i[3],p=i[4],m=i[5],v=i[6],_=i[7],E=i[8],A=i[9],C=i[10],I=i[11],b=i[12],k=i[13],S=i[14];function B(F,q){for(var W=q^-1,ce=0,ue=F.length;ce<ue;)W=W>>>8^r[(W^F.charCodeAt(ce++))&255];return~W}function K(F,q){for(var W=q^-1,ce=F.length-15,ue=0;ue<ce;)W=S[F[ue++]^W&255]^k[F[ue++]^W>>8&255]^b[F[ue++]^W>>16&255]^I[F[ue++]^W>>>24]^C[F[ue++]]^A[F[ue++]]^E[F[ue++]]^_[F[ue++]]^v[F[ue++]]^m[F[ue++]]^p[F[ue++]]^g[F[ue++]]^u[F[ue++]]^l[F[ue++]]^a[F[ue++]]^r[F[ue++]];for(ce+=15;ue<ce;)W=W>>>8^r[(W^F[ue++])&255];return~W}function G(F,q){for(var W=q^-1,ce=0,ue=F.length,Z=0,Ee=0;ce<ue;)Z=F.charCodeAt(ce++),Z<128?W=W>>>8^r[(W^Z)&255]:Z<2048?(W=W>>>8^r[(W^(192|Z>>6&31))&255],W=W>>>8^r[(W^(128|Z&63))&255]):Z>=55296&&Z<57344?(Z=(Z&1023)+64,Ee=F.charCodeAt(ce++)&1023,W=W>>>8^r[(W^(240|Z>>8&7))&255],W=W>>>8^r[(W^(128|Z>>2&63))&255],W=W>>>8^r[(W^(128|Ee>>6&15|(Z&3)<<4))&255],W=W>>>8^r[(W^(128|Ee&63))&255]):(W=W>>>8^r[(W^(224|Z>>12&15))&255],W=W>>>8^r[(W^(128|Z>>6&63))&255],W=W>>>8^r[(W^(128|Z&63))&255]);return~W}return e.table=r,e.bstr=B,e.buf=K,e.str=G,e}(),Pt=function(){var t={};t.version="1.2.1";function r(D,M){for(var L=D.split("/"),j=M.split("/"),H=0,X=0,le=Math.min(L.length,j.length);H<le;++H){if(X=L[H].length-j[H].length)return X;if(L[H]!=j[H])return L[H]<j[H]?-1:1}return L.length-j.length}function n(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:n(D.slice(0,-1));var M=D.lastIndexOf("/");return M===-1?D:D.slice(0,M+1)}function i(D){if(D.charAt(D.length-1)=="/")return i(D.slice(0,-1));var M=D.lastIndexOf("/");return M===-1?D:D.slice(M+1)}function a(D,M){typeof M=="string"&&(M=new Date(M));var L=M.getHours();L=L<<6|M.getMinutes(),L=L<<5|M.getSeconds()>>>1,D.write_shift(2,L);var j=M.getFullYear()-1980;j=j<<4|M.getMonth()+1,j=j<<5|M.getDate(),D.write_shift(2,j)}function l(D){var M=D.read_shift(2)&65535,L=D.read_shift(2)&65535,j=new Date,H=L&31;L>>>=5;var X=L&15;L>>>=4,j.setMilliseconds(0),j.setFullYear(L+1980),j.setMonth(X-1),j.setDate(H);var le=M&31;M>>>=5;var we=M&63;return M>>>=6,j.setHours(M),j.setMinutes(we),j.setSeconds(le<<1),j}function u(D){dn(D,0);for(var M={},L=0;D.l<=D.length-4;){var j=D.read_shift(2),H=D.read_shift(2),X=D.l+H,le={};switch(j){case 21589:L=D.read_shift(1),L&1&&(le.mtime=D.read_shift(4)),H>5&&(L&2&&(le.atime=D.read_shift(4)),L&4&&(le.ctime=D.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}D.l=X,M[j]=le}return M}var g;function p(){return g||(g={})}function m(D,M){if(D[0]==80&&D[1]==75)return Fr(D,M);if((D[0]|32)==109&&(D[1]|32)==105)return Qs(D,M);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var L=3,j=512,H=0,X=0,le=0,we=0,fe=0,ge=[],pe=D.slice(0,512);dn(pe,0);var Te=v(pe);switch(L=Te[0],L){case 3:j=512;break;case 4:j=4096;break;case 0:if(Te[1]==0)return Fr(D,M);default:throw new Error("Major Version: Expected 3 or 4 saw "+L)}j!==512&&(pe=D.slice(0,j),dn(pe,28));var Oe=D.slice(0,j);_(pe,L);var Be=pe.read_shift(4,"i");if(L===3&&Be!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Be);pe.l+=4,le=pe.read_shift(4,"i"),pe.l+=4,pe.chk("00100000","Mini Stream Cutoff Size: "),we=pe.read_shift(4,"i"),H=pe.read_shift(4,"i"),fe=pe.read_shift(4,"i"),X=pe.read_shift(4,"i");for(var je=-1,ze=0;ze<109&&(je=pe.read_shift(4,"i"),!(je<0));++ze)ge[ze]=je;var ct=E(D,j);I(fe,X,ct,j,ge);var ye=k(ct,le,ge,j);ye[le].name="!Directory",H>0&&we!==Ee&&(ye[we].name="!MiniFAT"),ye[ge[0]].name="!FAT",ye.fat_addrs=ge,ye.ssz=j;var lr={},vt=[],Si=[],Xa=[];S(le,ye,ct,vt,H,lr,Si,we),A(Si,Xa,vt),vt.shift();var It={FileIndex:Si,FullPaths:Xa};return M&&M.raw&&(It.raw={header:Oe,sectors:ct}),It}function v(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(Se,"Header Signature: "),D.l+=16;var M=D.read_shift(2,"u");return[D.read_shift(2,"u"),M]}function _(D,M){var L=9;switch(D.l+=2,L=D.read_shift(2)){case 9:if(M!=3)throw new Error("Sector Shift: Expected 9 saw "+L);break;case 12:if(M!=4)throw new Error("Sector Shift: Expected 12 saw "+L);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+L)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function E(D,M){for(var L=Math.ceil(D.length/M)-1,j=[],H=1;H<L;++H)j[H-1]=D.slice(H*M,(H+1)*M);return j[L-1]=D.slice(L*M),j}function A(D,M,L){for(var j=0,H=0,X=0,le=0,we=0,fe=L.length,ge=[],pe=[];j<fe;++j)ge[j]=pe[j]=j,M[j]=L[j];for(;we<pe.length;++we)j=pe[we],H=D[j].L,X=D[j].R,le=D[j].C,ge[j]===j&&(H!==-1&&ge[H]!==H&&(ge[j]=ge[H]),X!==-1&&ge[X]!==X&&(ge[j]=ge[X])),le!==-1&&(ge[le]=j),H!==-1&&j!=ge[j]&&(ge[H]=ge[j],pe.lastIndexOf(H)<we&&pe.push(H)),X!==-1&&j!=ge[j]&&(ge[X]=ge[j],pe.lastIndexOf(X)<we&&pe.push(X));for(j=1;j<fe;++j)ge[j]===j&&(X!==-1&&ge[X]!==X?ge[j]=ge[X]:H!==-1&&ge[H]!==H&&(ge[j]=ge[H]));for(j=1;j<fe;++j)if(D[j].type!==0){if(we=j,we!=ge[we])do we=ge[we],M[j]=M[we]+"/"+M[j];while(we!==0&&ge[we]!==-1&&we!=ge[we]);ge[j]=-1}for(M[0]+="/",j=1;j<fe;++j)D[j].type!==2&&(M[j]+="/")}function C(D,M,L){for(var j=D.start,H=D.size,X=[],le=j;L&&H>0&&le>=0;)X.push(M.slice(le*Z,le*Z+Z)),H-=Z,le=ro(L,le*4);return X.length===0?zr(0):ua(X).slice(0,D.size)}function I(D,M,L,j,H){var X=Ee;if(D===Ee){if(M!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var le=L[D],we=(j>>>2)-1;if(!le)return;for(var fe=0;fe<we&&(X=ro(le,fe*4))!==Ee;++fe)H.push(X);I(ro(le,j-4),M-1,L,j,H)}}function b(D,M,L,j,H){var X=[],le=[];H||(H=[]);var we=j-1,fe=0,ge=0;for(fe=M;fe>=0;){H[fe]=!0,X[X.length]=fe,le.push(D[fe]);var pe=L[Math.floor(fe*4/j)];if(ge=fe*4&we,j<4+ge)throw new Error("FAT boundary crossed: "+fe+" 4 "+j);if(!D[pe])break;fe=ro(D[pe],ge)}return{nodes:X,data:sy([le])}}function k(D,M,L,j){var H=D.length,X=[],le=[],we=[],fe=[],ge=j-1,pe=0,Te=0,Oe=0,Be=0;for(pe=0;pe<H;++pe)if(we=[],Oe=pe+M,Oe>=H&&(Oe-=H),!le[Oe]){fe=[];var je=[];for(Te=Oe;Te>=0;){je[Te]=!0,le[Te]=!0,we[we.length]=Te,fe.push(D[Te]);var ze=L[Math.floor(Te*4/j)];if(Be=Te*4&ge,j<4+Be)throw new Error("FAT boundary crossed: "+Te+" 4 "+j);if(!D[ze]||(Te=ro(D[ze],Be),je[Te]))break}X[Oe]={nodes:we,data:sy([fe])}}return X}function S(D,M,L,j,H,X,le,we){for(var fe=0,ge=j.length?2:0,pe=M[D].data,Te=0,Oe=0,Be;Te<pe.length;Te+=128){var je=pe.slice(Te,Te+128);dn(je,64),Oe=je.read_shift(2),Be=vm(je,0,Oe-ge),j.push(Be);var ze={name:Be,type:je.read_shift(1),color:je.read_shift(1),L:je.read_shift(4,"i"),R:je.read_shift(4,"i"),C:je.read_shift(4,"i"),clsid:je.read_shift(16),state:je.read_shift(4,"i"),start:0,size:0},ct=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);ct!==0&&(ze.ct=B(je,je.l-8));var ye=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);ye!==0&&(ze.mt=B(je,je.l-8)),ze.start=je.read_shift(4,"i"),ze.size=je.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=Ee,ze.name=""),ze.type===5?(fe=ze.start,H>0&&fe!==Ee&&(M[fe].name="!StreamData")):ze.size>=4096?(ze.storage="fat",M[ze.start]===void 0&&(M[ze.start]=b(L,ze.start,M.fat_addrs,M.ssz)),M[ze.start].name=ze.name,ze.content=M[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:fe!==Ee&&ze.start!==Ee&&M[fe]&&(ze.content=C(ze,M[fe].data,(M[we]||{}).data))),ze.content&&dn(ze.content,0),X[Be]=ze,le.push(ze)}}function B(D,M){return new Date((di(D,M+4)/1e7*Math.pow(2,32)+di(D,M)/1e7-11644473600)*1e3)}function K(D,M){return p(),m(g.readFileSync(D),M)}function G(D,M){var L=M&&M.type;switch(L||Ft&&Buffer.isBuffer(D)&&(L="buffer"),L||"base64"){case"file":return K(D,M);case"base64":return m(Qi(yi(D)),M);case"binary":return m(Qi(D),M)}return m(D,M)}function F(D,M){var L=M||{},j=L.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=j+"/",D.FileIndex[0]={name:j,type:5}),L.CLSID&&(D.FileIndex[0].clsid=L.CLSID),q(D)}function q(D){var M="Sh33tJ5";if(!Pt.find(D,"/"+M)){var L=zr(4);L[0]=55,L[1]=L[3]=50,L[2]=54,D.FileIndex.push({name:M,type:2,content:L,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+M),W(D)}}function W(D,M){F(D);for(var L=!1,j=!1,H=D.FullPaths.length-1;H>=0;--H){var X=D.FileIndex[H];switch(X.type){case 0:j?L=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(X.R*X.L*X.C)&&(L=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(L=!0);break;default:L=!0;break}}if(!(!L&&!M)){var le=new Date(1987,1,19),we=0,fe=Object.create?Object.create(null):{},ge=[];for(H=0;H<D.FullPaths.length;++H)fe[D.FullPaths[H]]=!0,D.FileIndex[H].type!==0&&ge.push([D.FullPaths[H],D.FileIndex[H]]);for(H=0;H<ge.length;++H){var pe=n(ge[H][0]);j=fe[pe],j||(ge.push([pe,{name:i(pe).replace("/",""),type:1,clsid:Fe,ct:le,mt:le,content:null}]),fe[pe]=!0)}for(ge.sort(function(Be,je){return r(Be[0],je[0])}),D.FullPaths=[],D.FileIndex=[],H=0;H<ge.length;++H)D.FullPaths[H]=ge[H][0],D.FileIndex[H]=ge[H][1];for(H=0;H<ge.length;++H){var Te=D.FileIndex[H],Oe=D.FullPaths[H];if(Te.name=i(Oe).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||Fe,H===0)Te.C=ge.length>1?1:-1,Te.size=0,Te.type=5;else if(Oe.slice(-1)=="/"){for(we=H+1;we<ge.length&&n(D.FullPaths[we])!=Oe;++we);for(Te.C=we>=ge.length?-1:we,we=H+1;we<ge.length&&n(D.FullPaths[we])!=n(Oe);++we);Te.R=we>=ge.length?-1:we,Te.type=1}else n(D.FullPaths[H+1]||"")==n(Oe)&&(Te.R=H+1),Te.type=2}}}function ce(D,M){var L=M||{};if(L.fileType=="mad")return se(D,L);switch(W(D),L.fileType){case"zip":return Hi(D,L)}var j=function(Be){for(var je=0,ze=0,ct=0;ct<Be.FileIndex.length;++ct){var ye=Be.FileIndex[ct];if(ye.content){var lr=ye.content.length;lr>0&&(lr<4096?je+=lr+63>>6:ze+=lr+511>>9)}}for(var vt=Be.FullPaths.length+3>>2,Si=je+7>>3,Xa=je+127>>7,It=Si+ze+vt+Xa,yt=It+127>>7,_t=yt<=109?0:Math.ceil((yt-109)/127);It+yt+_t+127>>7>yt;)_t=++yt<=109?0:Math.ceil((yt-109)/127);var ci=[1,_t,yt,Xa,vt,ze,je,0];return Be.FileIndex[0].size=je<<6,ci[7]=(Be.FileIndex[0].start=ci[0]+ci[1]+ci[2]+ci[3]+ci[4]+ci[5])+(ci[6]+7>>3),ci}(D),H=zr(j[7]<<9),X=0,le=0;{for(X=0;X<8;++X)H.write_shift(1,ee[X]);for(X=0;X<8;++X)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),X=0;X<3;++X)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,j[2]),H.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:Ee),H.write_shift(4,j[3]),H.write_shift(-4,j[1]?j[0]-1:Ee),H.write_shift(4,j[1]),X=0;X<109;++X)H.write_shift(-4,X<j[2]?j[1]+X:-1)}if(j[1])for(le=0;le<j[1];++le){for(;X<236+le*127;++X)H.write_shift(-4,X<j[2]?j[1]+X:-1);H.write_shift(-4,le===j[1]-1?Ee:le+1)}var we=function(Be){for(le+=Be;X<le-1;++X)H.write_shift(-4,X+1);Be&&(++X,H.write_shift(-4,Ee))};for(le=X=0,le+=j[1];X<le;++X)H.write_shift(-4,Ce.DIFSECT);for(le+=j[2];X<le;++X)H.write_shift(-4,Ce.FATSECT);we(j[3]),we(j[4]);for(var fe=0,ge=0,pe=D.FileIndex[0];fe<D.FileIndex.length;++fe)pe=D.FileIndex[fe],pe.content&&(ge=pe.content.length,!(ge<4096)&&(pe.start=le,we(ge+511>>9)));for(we(j[6]+7>>3);H.l&511;)H.write_shift(-4,Ce.ENDOFCHAIN);for(le=X=0,fe=0;fe<D.FileIndex.length;++fe)pe=D.FileIndex[fe],pe.content&&(ge=pe.content.length,!(!ge||ge>=4096)&&(pe.start=le,we(ge+63>>6)));for(;H.l&511;)H.write_shift(-4,Ce.ENDOFCHAIN);for(X=0;X<j[4]<<2;++X){var Te=D.FullPaths[X];if(!Te||Te.length===0){for(fe=0;fe<17;++fe)H.write_shift(4,0);for(fe=0;fe<3;++fe)H.write_shift(4,-1);for(fe=0;fe<12;++fe)H.write_shift(4,0);continue}pe=D.FileIndex[X],X===0&&(pe.start=pe.size?pe.start-1:Ee);var Oe=X===0&&L.root||pe.name;if(ge=2*(Oe.length+1),H.write_shift(64,Oe,"utf16le"),H.write_shift(2,ge),H.write_shift(1,pe.type),H.write_shift(1,pe.color),H.write_shift(-4,pe.L),H.write_shift(-4,pe.R),H.write_shift(-4,pe.C),pe.clsid)H.write_shift(16,pe.clsid,"hex");else for(fe=0;fe<4;++fe)H.write_shift(4,0);H.write_shift(4,pe.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,pe.start),H.write_shift(4,pe.size),H.write_shift(4,0)}for(X=1;X<D.FileIndex.length;++X)if(pe=D.FileIndex[X],pe.size>=4096)if(H.l=pe.start+1<<9,Ft&&Buffer.isBuffer(pe.content))pe.content.copy(H,H.l,0,pe.size),H.l+=pe.size+511&-512;else{for(fe=0;fe<pe.size;++fe)H.write_shift(1,pe.content[fe]);for(;fe&511;++fe)H.write_shift(1,0)}for(X=1;X<D.FileIndex.length;++X)if(pe=D.FileIndex[X],pe.size>0&&pe.size<4096)if(Ft&&Buffer.isBuffer(pe.content))pe.content.copy(H,H.l,0,pe.size),H.l+=pe.size+63&-64;else{for(fe=0;fe<pe.size;++fe)H.write_shift(1,pe.content[fe]);for(;fe&63;++fe)H.write_shift(1,0)}if(Ft)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function ue(D,M){var L=D.FullPaths.map(function(fe){return fe.toUpperCase()}),j=L.map(function(fe){var ge=fe.split("/");return ge[ge.length-(fe.slice(-1)=="/"?2:1)]}),H=!1;M.charCodeAt(0)===47?(H=!0,M=L[0].slice(0,-1)+M):H=M.indexOf("/")!==-1;var X=M.toUpperCase(),le=H===!0?L.indexOf(X):j.indexOf(X);if(le!==-1)return D.FileIndex[le];var we=!X.match(Fc);for(X=X.replace(Hn,""),we&&(X=X.replace(Fc,"!")),le=0;le<L.length;++le)if((we?L[le].replace(Fc,"!"):L[le]).replace(Hn,"")==X||(we?j[le].replace(Fc,"!"):j[le]).replace(Hn,"")==X)return D.FileIndex[le];return null}var Z=64,Ee=-2,Se="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],Fe="00000000000000000000000000000000",Ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Ee,FREESECT:-1,HEADER_SIGNATURE:Se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Fe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ke(D,M,L){p();var j=ce(D,L);g.writeFileSync(M,j)}function ne(D){for(var M=new Array(D.length),L=0;L<D.length;++L)M[L]=String.fromCharCode(D[L]);return M.join("")}function be(D,M){var L=ce(D,M);switch(M&&M.type||"buffer"){case"file":return p(),g.writeFileSync(M.filename,L),L;case"binary":return typeof L=="string"?L:ne(L);case"base64":return Wv(typeof L=="string"?L:ne(L));case"buffer":if(Ft)return Buffer.isBuffer(L)?L:Uo(L);case"array":return typeof L=="string"?Qi(L):L}return L}var oe;function U(D){try{var M=D.InflateRaw,L=new M;if(L._processChunk(new Uint8Array([3,0]),L._finishFlushFlag),L.bytesRead)oe=D;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function ae(D,M){if(!oe)return os(D,M);var L=oe.InflateRaw,j=new L,H=j._processChunk(D.slice(D.l),j._finishFlushFlag);return D.l+=j.bytesRead,H}function Q(D){return oe?oe.deflateRawSync(D):ut(D)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ae(D){var M=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(M>>16|M>>8|M)&255}for(var Me=typeof Uint8Array<"u",Re=Me?new Uint8Array(256):[],tt=0;tt<256;++tt)Re[tt]=Ae(tt);function Y(D,M){var L=Re[D&255];return M<=8?L>>>8-M:(L=L<<8|Re[D>>8&255],M<=16?L>>>16-M:(L=L<<8|Re[D>>16&255],L>>>24-M))}function qe(D,M){var L=M&7,j=M>>>3;return(D[j]|(L<=6?0:D[j+1]<<8))>>>L&3}function mt(D,M){var L=M&7,j=M>>>3;return(D[j]|(L<=5?0:D[j+1]<<8))>>>L&7}function dt(D,M){var L=M&7,j=M>>>3;return(D[j]|(L<=4?0:D[j+1]<<8))>>>L&15}function Ze(D,M){var L=M&7,j=M>>>3;return(D[j]|(L<=3?0:D[j+1]<<8))>>>L&31}function Ne(D,M){var L=M&7,j=M>>>3;return(D[j]|(L<=1?0:D[j+1]<<8))>>>L&127}function Je(D,M,L){var j=M&7,H=M>>>3,X=(1<<L)-1,le=D[H]>>>j;return L<8-j||(le|=D[H+1]<<8-j,L<16-j)||(le|=D[H+2]<<16-j,L<24-j)||(le|=D[H+3]<<24-j),le&X}function it(D,M,L){var j=M&7,H=M>>>3;return j<=5?D[H]|=(L&7)<<j:(D[H]|=L<<j&255,D[H+1]=(L&7)>>8-j),M+3}function Dt(D,M,L){var j=M&7,H=M>>>3;return L=(L&1)<<j,D[H]|=L,M+1}function Ge(D,M,L){var j=M&7,H=M>>>3;return L<<=j,D[H]|=L&255,L>>>=8,D[H+1]=L,M+8}function Kn(D,M,L){var j=M&7,H=M>>>3;return L<<=j,D[H]|=L&255,L>>>=8,D[H+1]=L&255,D[H+2]=L>>>8,M+16}function Bt(D,M){var L=D.length,j=2*L>M?2*L:M+5,H=0;if(L>=M)return D;if(Ft){var X=Vv(j);if(D.copy)D.copy(X);else for(;H<D.length;++H)X[H]=D[H];return X}else if(Me){var le=new Uint8Array(j);if(le.set)le.set(D);else for(;H<L;++H)le[H]=D[H];return le}return D.length=j,D}function $t(D){for(var M=new Array(D),L=0;L<D;++L)M[L]=0;return M}function Dr(D,M,L){var j=1,H=0,X=0,le=0,we=0,fe=D.length,ge=Me?new Uint16Array(32):$t(32);for(X=0;X<32;++X)ge[X]=0;for(X=fe;X<L;++X)D[X]=0;fe=D.length;var pe=Me?new Uint16Array(fe):$t(fe);for(X=0;X<fe;++X)ge[H=D[X]]++,j<H&&(j=H),pe[X]=0;for(ge[0]=0,X=1;X<=j;++X)ge[X+16]=we=we+ge[X-1]<<1;for(X=0;X<fe;++X)we=D[X],we!=0&&(pe[X]=ge[we+16]++);var Te=0;for(X=0;X<fe;++X)if(Te=D[X],Te!=0)for(we=Y(pe[X],j)>>j-Te,le=(1<<j+4-Te)-1;le>=0;--le)M[we|le<<Te]=Te&15|X<<4;return j}var dr=Me?new Uint16Array(512):$t(512),Fn=Me?new Uint16Array(32):$t(32);if(!Me){for(var er=0;er<512;++er)dr[er]=0;for(er=0;er<32;++er)Fn[er]=0}(function(){for(var D=[],M=0;M<32;M++)D.push(5);Dr(D,Fn,32);var L=[];for(M=0;M<=143;M++)L.push(8);for(;M<=255;M++)L.push(9);for(;M<=279;M++)L.push(7);for(;M<=287;M++)L.push(8);Dr(L,dr,288)})();var Gt=function(){for(var M=Me?new Uint8Array(32768):[],L=0,j=0;L<Pe.length-1;++L)for(;j<Pe[L+1];++j)M[j]=L;for(;j<32768;++j)M[j]=29;var H=Me?new Uint8Array(259):[];for(L=0,j=0;L<ie.length-1;++L)for(;j<ie[L+1];++j)H[j]=L;function X(we,fe){for(var ge=0;ge<we.length;){var pe=Math.min(65535,we.length-ge),Te=ge+pe==we.length;for(fe.write_shift(1,+Te),fe.write_shift(2,pe),fe.write_shift(2,~pe&65535);pe-- >0;)fe[fe.l++]=we[ge++]}return fe.l}function le(we,fe){for(var ge=0,pe=0,Te=Me?new Uint16Array(32768):[];pe<we.length;){var Oe=Math.min(65535,we.length-pe);if(Oe<10){for(ge=it(fe,ge,+(pe+Oe==we.length)),ge&7&&(ge+=8-(ge&7)),fe.l=ge/8|0,fe.write_shift(2,Oe),fe.write_shift(2,~Oe&65535);Oe-- >0;)fe[fe.l++]=we[pe++];ge=fe.l*8;continue}ge=it(fe,ge,+(pe+Oe==we.length)+2);for(var Be=0;Oe-- >0;){var je=we[pe];Be=(Be<<5^je)&32767;var ze=-1,ct=0;if((ze=Te[Be])&&(ze|=pe&-32768,ze>pe&&(ze-=32768),ze<pe))for(;we[ze+ct]==we[pe+ct]&&ct<250;)++ct;if(ct>2){je=H[ct],je<=22?ge=Ge(fe,ge,Re[je+1]>>1)-1:(Ge(fe,ge,3),ge+=5,Ge(fe,ge,Re[je-23]>>5),ge+=3);var ye=je<8?0:je-4>>2;ye>0&&(Kn(fe,ge,ct-ie[je]),ge+=ye),je=M[pe-ze],ge=Ge(fe,ge,Re[je]>>3),ge-=3;var lr=je<4?0:je-2>>1;lr>0&&(Kn(fe,ge,pe-ze-Pe[je]),ge+=lr);for(var vt=0;vt<ct;++vt)Te[Be]=pe&32767,Be=(Be<<5^we[pe])&32767,++pe;Oe-=ct-1}else je<=143?je=je+48:ge=Dt(fe,ge,1),ge=Ge(fe,ge,Re[je]),Te[Be]=pe&32767,++pe}ge=Ge(fe,ge,0)-1}return fe.l=(ge+7)/8|0,fe.l}return function(fe,ge){return fe.length<8?X(fe,ge):le(fe,ge)}}();function ut(D){var M=zr(50+Math.floor(D.length*1.1)),L=Gt(D,M);return M.slice(0,L)}var Yt=Me?new Uint16Array(32768):$t(32768),ln=Me?new Uint16Array(32768):$t(32768),gt=Me?new Uint16Array(128):$t(128),Ue=1,gr=1;function Ht(D,M){var L=Ze(D,M)+257;M+=5;var j=Ze(D,M)+1;M+=5;var H=dt(D,M)+4;M+=4;for(var X=0,le=Me?new Uint8Array(19):$t(19),we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fe=1,ge=Me?new Uint8Array(8):$t(8),pe=Me?new Uint8Array(8):$t(8),Te=le.length,Oe=0;Oe<H;++Oe)le[re[Oe]]=X=mt(D,M),fe<X&&(fe=X),ge[X]++,M+=3;var Be=0;for(ge[0]=0,Oe=1;Oe<=fe;++Oe)pe[Oe]=Be=Be+ge[Oe-1]<<1;for(Oe=0;Oe<Te;++Oe)(Be=le[Oe])!=0&&(we[Oe]=pe[Be]++);var je=0;for(Oe=0;Oe<Te;++Oe)if(je=le[Oe],je!=0){Be=Re[we[Oe]]>>8-je;for(var ze=(1<<7-je)-1;ze>=0;--ze)gt[Be|ze<<je]=je&7|Oe<<3}var ct=[];for(fe=1;ct.length<L+j;)switch(Be=gt[Ne(D,M)],M+=Be&7,Be>>>=3){case 16:for(X=3+qe(D,M),M+=2,Be=ct[ct.length-1];X-- >0;)ct.push(Be);break;case 17:for(X=3+mt(D,M),M+=3;X-- >0;)ct.push(0);break;case 18:for(X=11+Ne(D,M),M+=7;X-- >0;)ct.push(0);break;default:ct.push(Be),fe<Be&&(fe=Be);break}var ye=ct.slice(0,L),lr=ct.slice(L);for(Oe=L;Oe<286;++Oe)ye[Oe]=0;for(Oe=j;Oe<30;++Oe)lr[Oe]=0;return Ue=Dr(ye,Yt,286),gr=Dr(lr,ln,30),M}function Zt(D,M){if(D[0]==3&&!(D[1]&3))return[Ua(M),2];for(var L=0,j=0,H=Vv(M||1<<18),X=0,le=H.length>>>0,we=0,fe=0;!(j&1);){if(j=mt(D,L),L+=3,j>>>1)j>>1==1?(we=9,fe=5):(L=Ht(D,L),we=Ue,fe=gr);else{L&7&&(L+=8-(L&7));var ge=D[L>>>3]|D[(L>>>3)+1]<<8;if(L+=32,ge>0)for(!M&&le<X+ge&&(H=Bt(H,X+ge),le=H.length);ge-- >0;)H[X++]=D[L>>>3],L+=8;continue}for(;;){!M&&le<X+32767&&(H=Bt(H,X+32767),le=H.length);var pe=Je(D,L,we),Te=j>>>1==1?dr[pe]:Yt[pe];if(L+=Te&15,Te>>>=4,!(Te>>>8&255))H[X++]=Te;else{if(Te==256)break;Te-=257;var Oe=Te<8?0:Te-4>>2;Oe>5&&(Oe=0);var Be=X+ie[Te];Oe>0&&(Be+=Je(D,L,Oe),L+=Oe),pe=Je(D,L,fe),Te=j>>>1==1?Fn[pe]:ln[pe],L+=Te&15,Te>>>=4;var je=Te<4?0:Te-2>>1,ze=Pe[Te];for(je>0&&(ze+=Je(D,L,je),L+=je),!M&&le<Be&&(H=Bt(H,Be+100),le=H.length);X<Be;)H[X]=H[X-ze],++X}}}return M?[H,L+7>>>3]:[H.slice(0,X),L+7>>>3]}function os(D,M){var L=D.slice(D.l||0),j=Zt(L,M);return D.l+=j[1],j[0]}function ks(D,M){if(D)typeof console<"u"&&console.error(M);else throw new Error(M)}function Fr(D,M){var L=D;dn(L,0);var j=[],H=[],X={FileIndex:j,FullPaths:H};F(X,{root:M.root});for(var le=L.length-4;(L[le]!=80||L[le+1]!=75||L[le+2]!=5||L[le+3]!=6)&&le>=0;)--le;L.l=le+4,L.l+=4;var we=L.read_shift(2);L.l+=6;var fe=L.read_shift(4);for(L.l=fe,le=0;le<we;++le){L.l+=20;var ge=L.read_shift(4),pe=L.read_shift(4),Te=L.read_shift(2),Oe=L.read_shift(2),Be=L.read_shift(2);L.l+=8;var je=L.read_shift(4),ze=u(L.slice(L.l+Te,L.l+Te+Oe));L.l+=Te+Oe+Be;var ct=L.l;L.l=je+4,bt(L,ge,pe,X,ze),L.l=ct}return X}function bt(D,M,L,j,H){D.l+=2;var X=D.read_shift(2),le=D.read_shift(2),we=l(D);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var fe=D.read_shift(4),ge=D.read_shift(4),pe=D.read_shift(4),Te=D.read_shift(2),Oe=D.read_shift(2),Be="",je=0;je<Te;++je)Be+=String.fromCharCode(D[D.l++]);if(Oe){var ze=u(D.slice(D.l,D.l+Oe));(ze[21589]||{}).mt&&(we=ze[21589].mt),((H||{})[21589]||{}).mt&&(we=H[21589].mt)}D.l+=Oe;var ct=D.slice(D.l,D.l+ge);switch(le){case 8:ct=ae(D,pe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var ye=!1;X&8&&(fe=D.read_shift(4),fe==134695760&&(fe=D.read_shift(4),ye=!0),ge=D.read_shift(4),pe=D.read_shift(4)),ge!=M&&ks(ye,"Bad compressed size: "+M+" != "+ge),pe!=L&&ks(ye,"Bad uncompressed size: "+L+" != "+pe),Xe(j,Be,ct,{unsafe:!0,mt:we})}function Hi(D,M){var L=M||{},j=[],H=[],X=zr(1),le=L.compression?8:0,we=0,fe=0,ge=0,pe=0,Te=0,Oe=D.FullPaths[0],Be=Oe,je=D.FileIndex[0],ze=[],ct=0;for(fe=1;fe<D.FullPaths.length;++fe)if(Be=D.FullPaths[fe].slice(Oe.length),je=D.FileIndex[fe],!(!je.size||!je.content||Be=="Sh33tJ5")){var ye=pe,lr=zr(Be.length);for(ge=0;ge<Be.length;++ge)lr.write_shift(1,Be.charCodeAt(ge)&127);lr=lr.slice(0,lr.l),ze[Te]=sP.buf(je.content,0);var vt=je.content;le==8&&(vt=Q(vt)),X=zr(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,we),X.write_shift(2,le),je.mt?a(X,je.mt):X.write_shift(4,0),X.write_shift(-4,ze[Te]),X.write_shift(4,vt.length),X.write_shift(4,je.content.length),X.write_shift(2,lr.length),X.write_shift(2,0),pe+=X.length,j.push(X),pe+=lr.length,j.push(lr),pe+=vt.length,j.push(vt),X=zr(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,we),X.write_shift(2,le),X.write_shift(4,0),X.write_shift(-4,ze[Te]),X.write_shift(4,vt.length),X.write_shift(4,je.content.length),X.write_shift(2,lr.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,ye),ct+=X.l,H.push(X),ct+=lr.length,H.push(lr),++Te}return X=zr(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Te),X.write_shift(2,Te),X.write_shift(4,ct),X.write_shift(4,pe),X.write_shift(2,0),ua([ua(j),ua(H),X])}var ls={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Go(D,M){if(D.ctype)return D.ctype;var L=D.name||"",j=L.match(/\.([^\.]+)$/);return j&&ls[j[1]]||M&&(j=(L=M).match(/[\.\\]([^\.\\])+$/),j&&ls[j[1]])?ls[j[1]]:"application/octet-stream"}function Pn(D){for(var M=Wv(D),L=[],j=0;j<M.length;j+=76)L.push(M.slice(j,j+76));return L.join(`\r
`)+`\r
`}function Ga(D){var M=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var pe=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(pe.length==1?"0"+pe:pe)});M=M.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),M.charAt(0)==`
`&&(M="=0D"+M.slice(1)),M=M.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var L=[],j=M.split(`\r
`),H=0;H<j.length;++H){var X=j[H];if(X.length==0){L.push("");continue}for(var le=0;le<X.length;){var we=76,fe=X.slice(le,le+we);fe.charAt(we-1)=="="?we--:fe.charAt(we-2)=="="?we-=2:fe.charAt(we-3)=="="&&(we-=3),fe=X.slice(le,le+we),le+=we,le<X.length&&(fe+="="),L.push(fe)}}return L.join(`\r
`)}function Pr(D){for(var M=[],L=0;L<D.length;++L){for(var j=D[L];L<=D.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+D[++L];M.push(j)}for(var H=0;H<M.length;++H)M[H]=M[H].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return Qi(M.join(`\r
`))}function cs(D,M,L){for(var j="",H="",X="",le,we=0;we<10;++we){var fe=M[we];if(!fe||fe.match(/^\s*$/))break;var ge=fe.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":j=ge[2].trim();break;case"content-type":X=ge[2].trim();break;case"content-transfer-encoding":H=ge[2].trim();break}}switch(++we,H.toLowerCase()){case"base64":le=Qi(yi(M.slice(we).join("")));break;case"quoted-printable":le=Pr(M.slice(we));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var pe=Xe(D,j.slice(L.length),le,{unsafe:!0});X&&(pe.ctype=X)}function Qs(D,M){if(ne(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var L=M&&M.root||"",j=(Ft&&Buffer.isBuffer(D)?D.toString("binary"):ne(D)).split(`\r
`),H=0,X="";for(H=0;H<j.length;++H)if(X=j[H],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),L||(L=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,L.length)!=L))for(;L.length>0&&(L=L.slice(0,L.length-1),L=L.slice(0,L.lastIndexOf("/")+1),X.slice(0,L.length)!=L););var le=(j[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var we="--"+(le[1]||""),fe=[],ge=[],pe={FileIndex:fe,FullPaths:ge};F(pe);var Te,Oe=0;for(H=0;H<j.length;++H){var Be=j[H];Be!==we&&Be!==we+"--"||(Oe++&&cs(pe,j.slice(Te,H),L),Te=H)}return pe}function se(D,M){var L=M||{},j=L.boundary||"SheetJS";j="------="+j;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],X=D.FullPaths[0],le=X,we=D.FileIndex[0],fe=1;fe<D.FullPaths.length;++fe)if(le=D.FullPaths[fe].slice(X.length),we=D.FileIndex[fe],!(!we.size||!we.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var ge=we.content,pe=Ft&&Buffer.isBuffer(ge)?ge.toString("binary"):ne(ge),Te=0,Oe=Math.min(1024,pe.length),Be=0,je=0;je<=Oe;++je)(Be=pe.charCodeAt(je))>=32&&Be<128&&++Te;var ze=Te>=Oe*4/5;H.push(j),H.push("Content-Location: "+(L.root||"file:///C:/SheetJS/")+le),H.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),H.push("Content-Type: "+Go(we,le)),H.push(""),H.push(ze?Ga(pe):Pn(pe))}return H.push(j+`--\r
`),H.join(`\r
`)}function He(D){var M={};return F(M,D),M}function Xe(D,M,L,j){var H=j&&j.unsafe;H||F(D);var X=!H&&Pt.find(D,M);if(!X){var le=D.FullPaths[0];M.slice(0,le.length)==le?le=M:(le.slice(-1)!="/"&&(le+="/"),le=(le+M).replace("//","/")),X={name:i(M),type:2},D.FileIndex.push(X),D.FullPaths.push(le),H||Pt.utils.cfb_gc(D)}return X.content=L,X.size=L?L.length:0,j&&(j.CLSID&&(X.clsid=j.CLSID),j.mt&&(X.mt=j.mt),j.ct&&(X.ct=j.ct)),X}function Qe(D,M){F(D);var L=Pt.find(D,M);if(L){for(var j=0;j<D.FileIndex.length;++j)if(D.FileIndex[j]==L)return D.FileIndex.splice(j,1),D.FullPaths.splice(j,1),!0}return!1}function Ye(D,M,L){F(D);var j=Pt.find(D,M);if(j){for(var H=0;H<D.FileIndex.length;++H)if(D.FileIndex[H]==j)return D.FileIndex[H].name=i(L),D.FullPaths[H]=L,!0}return!1}function ht(D){W(D,!0)}return t.find=ue,t.read=G,t.parse=m,t.write=be,t.writeFile=ke,t.utils={cfb_new:He,cfb_add:Xe,cfb_del:Qe,cfb_mov:Ye,cfb_gc:ht,ReadShift:Jc,CheckField:Z4,prep_blob:dn,bconcat:ua,use_zlib:U,_deflateRaw:ut,_inflateRaw:os,consts:Ce},t}();function aP(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Cs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function pm(e){for(var t=[],r=Cs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var _h=new Date(1899,11,30,0,0,0);function Gn(e,t){var r=e.getTime(),n=_h.getTime()+(e.getTimezoneOffset()-_h.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var R4=new Date,oP=_h.getTime()+(R4.getTimezoneOffset()-_h.getTimezoneOffset())*6e4,qv=R4.getTimezoneOffset();function fd(e){var t=new Date;return t.setTime(e*24*60*60*1e3+oP),t.getTimezoneOffset()!==qv&&t.setTime(t.getTime()+(t.getTimezoneOffset()-qv)*6e4),t}function lP(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var Zv=new Date("2017-02-19T19:06:09.000Z"),N4=isNaN(Zv.getFullYear())?new Date("2/19/17"):Zv,cP=N4.getFullYear()==2017;function an(e,t){var r=new Date(e);if(cP)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(N4.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function bo(e,t){if(Ft&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Mc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Mc(m4(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Mc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Mc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function xn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=xn(e[r]));return t}function Ar(e,t){for(var r="";r.length<t;)r+=e;return r}function ss(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var uP=["january","february","march","april","may","june","july","august","september","october","november","december"];function zl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&uP.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var fP=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),l=[a[0]],u=1;u<a.length;++u)l.push(i),l.push(a[u]);return l}}();function O4(e){return e?e.content&&e.type?bo(e.content,!0):e.data?Dc(e.data):e.asNodeBuffer&&Ft?Dc(e.asNodeBuffer().toString("binary")):e.asBinary?Dc(e.asBinary()):e._data&&e._data.getContent?Dc(bo(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function D4(e){if(!e)return null;if(e.data)return Uv(e.data);if(e.asNodeBuffer&&Ft)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Uv(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function hP(e){return e&&e.name.slice(-4)===".bin"?D4(e):O4(e)}function Ni(e,t){for(var r=e.FullPaths||Cs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var l=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||i==l)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function xm(e,t){var r=Ni(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Lr(e,t,r){if(!r)return hP(xm(e,t));if(!t)return null;try{return Lr(e,t)}catch{return null}}function gi(e,t,r){if(!r)return O4(xm(e,t));if(!t)return null;try{return gi(e,t)}catch{return null}}function dP(e,t,r){return D4(xm(e,t))}function Qv(e){for(var t=e.FullPaths||Cs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function gP(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ft?n=Uo(r):n=D9(r),Pt.utils.cfb_add(e,t,n)}Pt.utils.cfb_add(e,t,r)}else e.file(t,r)}function F4(e,t){switch(t.type){case"base64":return Pt.read(e,{type:"base64"});case"binary":return Pt.read(e,{type:"binary"});case"buffer":case"array":return Pt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Pc(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var P4=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,pP=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Jv=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,xP=/<[^>]*>/g,Dn=P4.match(Jv)?Jv:xP,mP=/<\w*:/,wP=/<(\/?)\w+:/;function lt(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var l=e.match(pP),u=0,g="",p=0,m="",v="",_=1;if(l)for(p=0;p!=l.length;++p){for(v=l[p],a=0;a!=v.length&&v.charCodeAt(a)!==61;++a);for(m=v.slice(0,a).trim();v.charCodeAt(a+1)==32;)++a;for(_=(i=v.charCodeAt(a+1))==34||i==39?1:0,g=v.slice(a+1+_,v.length-_),u=0;u!=m.length&&m.charCodeAt(u)!==58;++u);if(u===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=g,n[m.toLowerCase()]=g;else{var E=(u===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(u+1);if(n[E]&&m.slice(u-3,u)=="ext")continue;n[E]=g,n[E.toLowerCase()]=g}}return n}function Ss(e){return e.replace(wP,"<$1")}var M4={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vP=pm(M4),jt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(u,g){return M4[u]||String.fromCharCode(parseInt(g,u.indexOf("x")>-1?16:10))||u}).replace(t,function(u,g){return String.fromCharCode(parseInt(g,16))});var l=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,l)+r(i.slice(l+3))}}(),yP=/[&<>'"]/g,_P=/[\u0000-\u001f]/g;function mm(e){var t=e+"";return t.replace(yP,function(r){return vP[r]}).replace(/\n/g,"<br/>").replace(_P,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var ey=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function pr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function v1(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=i&63,t+=String.fromCharCode(l);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}l=e.charCodeAt(r++),u=((n&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(u&1023))}return t}function ty(e){var t=Ua(2*e.length),r,n,i=1,a=0,l=0,u;for(n=0;n<e.length;n+=i)i=1,(u=e.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(e.charCodeAt(n+1)&63),i=2):u<240?(r=(u&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(u&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[a++]=l&255,t[a++]=l>>>8,l=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function ry(e){return Uo(e,"binary").toString("utf8")}var Yu="foo bar baz",ar=Ft&&(ry(Yu)==v1(Yu)&&ry||ty(Yu)==v1(Yu)&&ty)||v1,Mc=Ft?function(e){return Uo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},j0=function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),B4=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),EP=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),CP=/<\/?(?:vt:)?variant>/g,AP=/<(?:vt:)([^>]*)>([\s\S]*)</;function ny(e,t){var r=lt(e),n=e.match(EP(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var l=a.replace(CP,"").match(AP);l&&i.push({v:ar(l[2]),t:l[1]})}),i}var SP=/(^\s|\s$|\n)/;function TP(e){return Cs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function kP(e,t,r){return"<"+e+(r!=null?TP(r):"")+(t!=null?(t.match(SP)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function wm(e){if(Ft&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ar(jo(hm(e)));throw new Error("Bad input format: expected Buffer or string")}var W0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,bP={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},IP=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function RP(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function NP(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,l=n?-t:t;isFinite(l)?l==0?i=a=0:(i=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var u=0;u<=5;++u,a/=256)e[r+u]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var iy=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},sy=Ft?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Uo(t)})):iy(e)}:iy,ay=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Fs(e,i)));return n.join("").replace(Hn,"")},vm=Ft?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Hn,""):ay(e,t,r)}:ay,oy=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},L4=Ft?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):oy(e,t,r)}:oy,ly=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(el(e,i)));return n.join("")},gu=Ft?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):ly(t,r,n)}:ly,U4=function(e,t){var r=di(e,t);return r>0?gu(e,t+4,t+4+r-1):""},j4=U4,W4=function(e,t){var r=di(e,t);return r>0?gu(e,t+4,t+4+r-1):""},V4=W4,H4=function(e,t){var r=2*di(e,t);return r>0?gu(e,t+4,t+4+r-1):""},z4=H4,G4=function(t,r){var n=di(t,r);return n>0?vm(t,r+4,r+4+n):""},X4=G4,$4=function(e,t){var r=di(e,t);return r>0?gu(e,t+4,t+4+r):""},Y4=$4,K4=function(e,t){return RP(e,t)},Eh=K4,q4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ft&&(j4=function(t,r){if(!Buffer.isBuffer(t))return U4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},V4=function(t,r){if(!Buffer.isBuffer(t))return W4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},z4=function(t,r){if(!Buffer.isBuffer(t))return H4(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},X4=function(t,r){if(!Buffer.isBuffer(t))return G4(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Y4=function(t,r){if(!Buffer.isBuffer(t))return $4(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Eh=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):K4(t,r)},q4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var el=function(e,t){return e[t]},Fs=function(e,t){return e[t+1]*256+e[t]},OP=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},di=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ro=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},DP=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Jc(e,t){var r="",n,i,a=[],l,u,g,p;switch(t){case"dbcs":if(p=this.l,Ft&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(g=0;g<e;++g)r+=String.fromCharCode(Fs(this,p)),p+=2;e*=2;break;case"utf8":r=gu(this,this.l,this.l+e);break;case"utf16le":e*=2,r=vm(this,this.l,this.l+e);break;case"wstr":return Jc.call(this,e,"dbcs");case"lpstr-ansi":r=j4(this,this.l),e=4+di(this,this.l);break;case"lpstr-cp":r=V4(this,this.l),e=4+di(this,this.l);break;case"lpwstr":r=z4(this,this.l),e=4+2*di(this,this.l);break;case"lpp4":e=4+di(this,this.l),r=X4(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+di(this,this.l),r=Y4(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=el(this,this.l+e++))!==0;)a.push($u(l));r=a.join("");break;case"_wstr":for(e=0,r="";(l=Fs(this,this.l+e))!==0;)a.push($u(l)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",p=this.l,g=0;g<e;++g){if(this.lens&&this.lens.indexOf(p)!==-1)return l=el(this,p),this.l=p+1,u=Jc.call(this,e-g,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push($u(Fs(this,p))),p+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",p=this.l,g=0;g!=e;++g){if(this.lens&&this.lens.indexOf(p)!==-1)return l=el(this,p),this.l=p+1,u=Jc.call(this,e-g,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push($u(el(this,p))),p+=1}r=a.join("");break;default:switch(e){case 1:return n=el(this,this.l),this.l++,n;case 2:return n=(t==="i"?OP:Fs)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?ro:DP)(this,this.l),this.l+=4,n):(i=di(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=Eh(this,this.l):i=Eh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=L4(this,this.l,e);break}}return this.l+=e,r}var FP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},PP=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},MP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function BP(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)MP(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,FP(this,t,this.l);break;case 8:if(n=8,r==="f"){NP(this,t,this.l);break}case 16:break;case-4:n=4,PP(this,t,this.l);break}return this.l+=n,this}function Z4(e,t){var r=L4(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function dn(e,t){e.l=t,e.read_shift=Jc,e.chk=Z4,e.write_shift=BP}function Nn(e,t){e.l+=t}function zr(e){var t=Ua(e);return dn(t,0),t}function Zs(e,t,r){if(e){var n,i,a;dn(e,e.l||0);for(var l=e.length,u=0,g=0;e.l<l;){u=e.read_shift(1),u&128&&(u=(u&127)+((e.read_shift(1)&127)<<7));var p=bh[u]||bh[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;g=e.l+a;var m=p.f&&p.f(e,a,r);if(e.l=g,t(m,p,u))return}}}function Zg(){var e=[],t=Ft?256:2048,r=function(p){var m=zr(p);return dn(m,0),m},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(p){return n&&p<n.length-n.l?n:(i(),n=r(Math.max(p+1,t)))},l=function(){return i(),ua(e)},u=function(p){i(),n=p,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:u,end:l,_bufs:e}}function e0(e,t,r){var n=xn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function cy(e,t,r){var n=xn(e);return n.s=e0(n.s,t.s,r),n.e=e0(n.e,t.s,r),n}function t0(e,t){if(e.cRel&&e.c<0)for(e=xn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=xn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ft(e);return!e.cRel&&e.cRel!=null&&(r=jP(r)),!e.rRel&&e.rRel!=null&&(r=LP(r)),r}function y1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Kr(e.s.c)+":"+(e.e.cRel?"":"$")+Kr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+mn(e.s.r)+":"+(e.e.rRel?"":"$")+mn(e.e.r):t0(e.s,t.biff)+":"+t0(e.e,t.biff)}function ym(e){return parseInt(UP(e),10)-1}function mn(e){return""+(e+1)}function LP(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function UP(e){return e.replace(/\$(\d+)$/,"$1")}function _m(e){for(var t=WP(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Kr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function jP(e){return e.replace(/^([A-Z])/,"$$$1")}function WP(e){return e.replace(/^\$([A-Z])/,"$1")}function VP(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jn(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function ft(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function sc(e){var t=e.indexOf(":");return t==-1?{s:jn(e),e:jn(e)}:{s:jn(e.slice(0,t)),e:jn(e.slice(t+1))}}function Mt(e,t){return typeof t>"u"||typeof t=="number"?Mt(e.s,e.e):(typeof e!="string"&&(e=ft(e)),typeof t!="string"&&(t=ft(t)),e==t?e:e+":"+t)}function kr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function uy(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Wi(e.z,r?Gn(t):t)}catch{}try{return e.w=Wi((e.XF||{}).numFmtId||(r?14:0),r?Gn(t):t)}catch{return""+t}}function $s(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ho[e.v]||e.v:t==null?uy(e,e.v):uy(e,t))}function za(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Q4(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),l=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?jn(n.origin):n.origin;l=g.r,u=g.c}a["!ref"]||(a["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var m=kr(a["!ref"]);p.s.c=m.s.c,p.s.r=m.s.r,p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(p.e.r=l=m.e.r+1)}for(var v=0;v!=t.length;++v)if(t[v]){if(!Array.isArray(t[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=t[v].length;++_)if(!(typeof t[v][_]>"u")){var E={v:t[v][_]},A=l+v,C=u+_;if(p.s.r>A&&(p.s.r=A),p.s.c>C&&(p.s.c=C),p.e.r<A&&(p.e.r=A),p.e.c<C&&(p.e.c=C),t[v][_]&&typeof t[v][_]=="object"&&!Array.isArray(t[v][_])&&!(t[v][_]instanceof Date))E=t[v][_];else if(Array.isArray(E.v)&&(E.f=t[v][_][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(n.nullError)E.t="e",E.v=0;else if(n.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=n.dateNF||xt[14],n.cellDates?(E.t="d",E.w=Wi(E.z,Gn(E.v))):(E.t="n",E.v=Gn(E.v),E.w=Wi(E.z,E.v))):E.t="s";if(i)a[A]||(a[A]=[]),a[A][C]&&a[A][C].z&&(E.z=a[A][C].z),a[A][C]=E;else{var I=ft({c:C,r:A});a[I]&&a[I].z&&(E.z=a[I].z),a[I]=E}}}return p.s.c<1e7&&(a["!ref"]=Mt(p)),a}function ac(e,t){return Q4(null,e,t)}function HP(e){return e.read_shift(4,"i")}function bn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function zP(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Em(e,t){var r=e.l,n=e.read_shift(1),i=bn(e),a=[],l={t:i,h:i};if(n&1){for(var u=e.read_shift(4),g=0;g!=u;++g)a.push(zP(e));l.r=a}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}var GP=Em;function Vi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Wo(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var XP=bn;function Cm(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var $P=bn,Qg=Cm;function Am(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?Eh([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ro(t,0)>>2;return r?i/100:i}function J4(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Vo=J4;function Tn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function YP(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),l=e.read_shift(1),u=e.read_shift(1),g=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var p=po[i];p&&(t.rgb=H0(p));break;case 2:t.rgb=H0([l,u,g]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function KP(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function eS(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function qP(e){return eS(e,1)}function ZP(e){return eS(e,2)}var Sm=2,Jn=3,Ku=11,fy=12,Ch=19,qu=64,QP=65,JP=71,eM=4108,tM=4126,tn=80,tS=81,rM=[tn,tS],nM={1:{n:"CodePage",t:Sm},2:{n:"Category",t:tn},3:{n:"PresentationFormat",t:tn},4:{n:"ByteCount",t:Jn},5:{n:"LineCount",t:Jn},6:{n:"ParagraphCount",t:Jn},7:{n:"SlideCount",t:Jn},8:{n:"NoteCount",t:Jn},9:{n:"HiddenCount",t:Jn},10:{n:"MultimediaClipCount",t:Jn},11:{n:"ScaleCrop",t:Ku},12:{n:"HeadingPairs",t:eM},13:{n:"TitlesOfParts",t:tM},14:{n:"Manager",t:tn},15:{n:"Company",t:tn},16:{n:"LinksUpToDate",t:Ku},17:{n:"CharacterCount",t:Jn},19:{n:"SharedDoc",t:Ku},22:{n:"HyperlinksChanged",t:Ku},23:{n:"AppVersion",t:Jn,p:"version"},24:{n:"DigSig",t:QP},26:{n:"ContentType",t:tn},27:{n:"ContentStatus",t:tn},28:{n:"Language",t:tn},29:{n:"Version",t:tn},255:{},2147483648:{n:"Locale",t:Ch},2147483651:{n:"Behavior",t:Ch},1919054434:{}},iM={1:{n:"CodePage",t:Sm},2:{n:"Title",t:tn},3:{n:"Subject",t:tn},4:{n:"Author",t:tn},5:{n:"Keywords",t:tn},6:{n:"Comments",t:tn},7:{n:"Template",t:tn},8:{n:"LastAuthor",t:tn},9:{n:"RevNumber",t:tn},10:{n:"EditTime",t:qu},11:{n:"LastPrinted",t:qu},12:{n:"CreatedDate",t:qu},13:{n:"ModifiedDate",t:qu},14:{n:"PageCount",t:Jn},15:{n:"WordCount",t:Jn},16:{n:"CharCount",t:Jn},17:{n:"Thumbnail",t:JP},18:{n:"Application",t:tn},19:{n:"DocSecurity",t:Jn},255:{},2147483648:{n:"Locale",t:Ch},2147483651:{n:"Behavior",t:Ch},1919054434:{}},hy={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},sM=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function aM(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var oM=aM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),po=xn(oM),Ho={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},rS={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},dy={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function lM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cM(e){var t=lM();if(!e||!e.match)return t;var r={};if((e.match(Dn)||[]).forEach(function(n){var i=lt(n);switch(i[0].replace(mP,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[dy[i.ContentType]]!==void 0&&t[dy[i.ContentType]].push(i.PartName);break}}),t.xmlns!==bP.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var pl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Jg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function r0(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Dn)||[]).forEach(function(i){var a=lt(i);if(a[0]==="<Relationship"){var l={};l.Type=a.Type,l.Target=a.Target,l.Id=a.Id,a.TargetMode&&(l.TargetMode=a.TargetMode);var u=a.TargetMode==="External"?a.Target:Pc(a.Target,t);r[u]=l,n[a.Id]=l}}),r["!id"]=n,r}var uM="application/vnd.oasis.opendocument.spreadsheet";function fM(e,t){for(var r=wm(e),n,i;n=W0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=lt(n[0],!1),i.path=="/"&&i.type!==uM)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var n0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],hM=function(){for(var e=new Array(n0.length),t=0;t<n0.length;++t){var r=n0[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function nS(e){var t={};e=ar(e);for(var r=0;r<n0.length;++r){var n=n0[r],i=e.match(hM[r]);i!=null&&i.length>0&&(t[n[1]]=jt(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=an(t[n[1]]))}return t}var dM=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function iS(e,t,r,n){var i=[];if(typeof e=="string")i=ny(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(m){return{v:m}}));var l=typeof t=="string"?ny(t,n).map(function(m){return m.v}):t,u=0,g=0;if(l.length>0)for(var p=0;p!==i.length;p+=2){switch(g=+i[p+1].v,i[p].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=g,r.SheetNames=l.slice(u,u+g);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=g,r.DefinedNames=l.slice(u,u+g);break;case"Charts":case"Diagramme":r.Chartsheets=g,r.ChartNames=l.slice(u,u+g);break}u+=g}}function gM(e,t,r){var n={};return t||(t={}),e=ar(e),dM.forEach(function(i){var a=(e.match(j0(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=jt(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var l=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(n[i[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&iS(n.HeadingPairs,n.TitlesOfParts,t,r),t}var pM=/<[^>]+>[^<]*/g;function xM(e,t){var r={},n="",i=e.match(pM);if(i)for(var a=0;a!=i.length;++a){var l=i[a],u=lt(l);switch(u[0]){case"<?xml":break;case"<Properties":break;case"<property":n=jt(u.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var g=l.split(">"),p=g[0].slice(4),m=g[1];switch(p){case"lpstr":case"bstr":case"lpwstr":r[n]=jt(m);break;case"bool":r[n]=pr(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=an(m);break;case"cy":case"error":r[n]=jt(m);break;default:if(p.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,p,g)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}var mM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},_1;function wM(e,t,r){_1||(_1=pm(mM)),t=_1[t]||t,e[t]=r}function Tm(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function sS(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function aS(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function oS(e,t,r){return t===31?aS(e):sS(e,t,r)}function ep(e,t,r){return oS(e,t,r===!1?0:4)}function vM(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return oS(e,t,0)}function yM(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Hn,""),e.l-i&2&&(e.l+=2)}return r}function _M(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Hn,"");return r}function EM(e){var t=e.l,r=Ah(e,tS);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Ah(e,Jn);return[r,n]}function CM(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(EM(e));return r}function gy(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),l=e.read_shift(4);n[a]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(Hn,"").replace(Fc,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function lS(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function AM(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Ah(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==fy&&n!==t&&rM.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===fy?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return sS(e,n,4).replace(Hn,"");case 31:return aS(e);case 64:return Tm(e);case 65:return lS(e);case 71:return AM(e);case 80:return ep(e,n,!a.raw).replace(Hn,"");case 81:return vM(e,n).replace(Hn,"");case 4108:return CM(e);case 4126:case 4127:return n==4127?yM(e):_M(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function py(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0,u=0,g=-1,p={};for(l=0;l!=i;++l){var m=e.read_shift(4),v=e.read_shift(4);a[l]=[m,v+r]}a.sort(function(k,S){return k[1]-S[1]});var _={};for(l=0;l!=i;++l){if(e.l!==a[l][1]){var E=!0;if(l>0&&t)switch(t[a[l-1][0]].t){case 2:e.l+2===a[l][1]&&(e.l+=2,E=!1);break;case 80:e.l<=a[l][1]&&(e.l=a[l][1],E=!1);break;case 4108:e.l<=a[l][1]&&(e.l=a[l][1],E=!1);break}if((!t||l==0)&&e.l<=a[l][1]&&(E=!1,e.l=a[l][1]),E)throw new Error("Read Error: Expected address "+a[l][1]+" at "+e.l+" :"+l)}if(t){var A=t[a[l][0]];if(_[A.n]=Ah(e,A.t,{raw:!0}),A.p==="version"&&(_[A.n]=String(_[A.n]>>16)+"."+("0000"+String(_[A.n]&65535)).slice(-4)),A.n=="CodePage")switch(_[A.n]){case 0:_[A.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:es(u=_[A.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+_[A.n])}}else if(a[l][0]===1){if(u=_.CodePage=Ah(e,Sm),es(u),g!==-1){var C=e.l;e.l=a[g][1],p=gy(e,u),e.l=C}}else if(a[l][0]===0){if(u===0){g=l,e.l=a[l+1][1];continue}p=gy(e,u)}else{var I=p[a[l][0]],b;switch(e[e.l]){case 65:e.l+=4,b=lS(e);break;case 30:e.l+=4,b=ep(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=ep(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=Ir(e,4);break;case 64:e.l+=4,b=an(Tm(e));break;default:throw new Error("unparsed value: "+e[e.l])}_[I]=b}}return e.l=r+n,_}function xy(e,t,r){var n=e.content;if(!n)return{};dn(n,0);var i,a,l,u,g=0;n.chk("feff","Byte Order: "),n.read_shift(2);var p=n.read_shift(4),m=n.read_shift(16);if(m!==Pt.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),u=n.read_shift(4),i===1&&u!==n.l)throw new Error("Length mismatch: "+u+" !== "+n.l);i===2&&(l=n.read_shift(16),g=n.read_shift(4));var v=py(n,t),_={SystemIdentifier:p};for(var E in v)_[E]=v[E];if(_.FMTID=a,i===1)return _;if(g-n.l==2&&(n.l+=2),n.l!==g)throw new Error("Length mismatch 2: "+n.l+" !== "+g);var A;try{A=py(n,null)}catch{}for(E in A)_[E]=A[E];return _.FMTID=[a,l],_}function sa(e,t){return e.read_shift(t),null}function SM(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Ir(e,t){return e.read_shift(t)===1}function Ur(e){return e.read_shift(2,"u")}function cS(e,t){return SM(e,t,Ur)}function TM(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function pu(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=n?e.read_shift(n,i):"";return l}function kM(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),l=0,u,g={};i&&(l=e.read_shift(2)),n&&(u=e.read_shift(4));var p=a==2?"dbcs-cont":"sbcs-cont",m=t===0?"":e.read_shift(t,p);return i&&(e.l+=4*l),n&&(e.l+=u),g.t=m,i||(g.raw="<t>"+g.t+"</t>",g.r=g.t),g}function Io(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function xu(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Io(e,n,r)}function zo(e,t,r){if(r.biff>5)return xu(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function bM(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function IM(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Hn,"");return n&&(e.l+=24),i}function RM(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(a>>1,"utf16le").replace(Hn,"");return r+l}function NM(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return IM(e);case"0303000000000000c000000000000046":return RM(e);default:throw new Error("Unsupported Moniker "+r)}}function Zu(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Hn,""):"";return r}function OM(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,l,u,g,p="",m,v;i&16&&(a=Zu(e,r-e.l)),i&128&&(l=Zu(e,r-e.l)),(i&257)===257&&(u=Zu(e,r-e.l)),(i&257)===1&&(g=NM(e,r-e.l)),i&8&&(p=Zu(e,r-e.l)),i&32&&(m=e.read_shift(16)),i&64&&(v=Tm(e)),e.l=r;var _=l||u||g||"";_&&p&&(_+="#"+p),_||(_="#"+p),i&2&&_.charAt(0)=="/"&&_.charAt(1)!="/"&&(_="file://"+_);var E={Target:_};return m&&(E.guid=m),v&&(E.time=v),a&&(E.Tooltip=a),E}function uS(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function fS(e,t){var r=uS(e);return r[3]=0,r}function Ts(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function DM(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function FM(e,t,r){return t===0?"":zo(e,t,r)}function PM(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[i,a,l]}function hS(e){var t=e.read_shift(2),r=Am(e);return[t,r]}function MM(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=pu(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function hd(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function dS(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var BM=dS;function gS(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function LM(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function UM(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Cn(e){e.l+=2,e.l+=e.read_shift(2)}var jM={0:Cn,4:Cn,5:Cn,6:Cn,7:UM,8:Cn,9:Cn,10:Cn,11:Cn,12:Cn,13:LM,14:Cn,15:Cn,16:Cn,17:Cn,18:Cn,19:Cn,20:Cn,21:gS};function WM(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(jM[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Qu(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function VM(e,t){return t===0||e.read_shift(2),1200}function HM(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=zo(e,0,r);return e.read_shift(t+n-e.l),i}function zM(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function GM(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var l=pu(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:i,dt:a,name:l}}function XM(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0;l!=i&&e.l<r;++l)a.push(kM(e));return a.Count=n,a.Unique=i,a}function $M(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function YM(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function KM(e){var t=DM(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function qM(e){return e.read_shift(2),e.read_shift(4)}function my(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function ZM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),g=e.read_shift(2),p=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:l,FirstTab:u,Selected:g,TabRatio:p}}function QM(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function JM(){}function eB(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=pu(e,0,r),n}function tB(e){var t=Ts(e);return t.isst=e.read_shift(4),t}function rB(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=Ts(e);r.biff==2&&e.l++;var a=xu(e,n-e.l,r);return i.val=a,i}function nB(e,t,r){var n=e.read_shift(2),i=zo(e,0,r);return[n,i]}var iB=zo;function wy(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),l=e.read_shift(i),u=e.read_shift(2),g=e.read_shift(2);return e.l=n,{s:{r:a,c:u},e:{r:l,c:g}}}function sB(e){var t=e.read_shift(2),r=e.read_shift(2),n=hS(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function aB(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(hS(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:l,rkrec:a}}function oB(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:l,ixfe:a}}function lB(e,t,r,n){var i={},a=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(4),g=e.read_shift(2);return i.patternType=sM[u>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=u&127,i.icvBottom=u>>7&127,i.icvDiag=u>>14&127,i.dgDiag=u>>21&15,i.icvFore=g&127,i.icvBack=g>>7&127,i.fsxButton=g>>14&1),i}function cB(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=lB(e,t,n.fStyle,r),n}function uB(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function vy(e,t,r){var n=Ts(e);(r.biff==2||t==9)&&++e.l;var i=TM(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function fB(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ts(e),i=Tn(e);return n.val=i,n}var yy=FM;function hB(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var l=Io(e,a),u=[];n>e.l;)u.push(xu(e));return[a,i,l,u]}function _y(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=MM(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var dB=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Ey(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(r&&r.biff==2?1:2),g=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),g=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var p=Io(e,l,r);i&32&&(p=dB[p.charCodeAt(0)]);var m=n-e.l;r&&r.biff==2&&--m;var v=n==e.l||u===0||!(m>0)?[]:Yj(e,m,r,u);return{chKey:a,Name:p,itab:g,rgce:v}}function pS(e,t,r){if(r.biff<8)return gB(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(PM(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function gB(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=pu(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function pB(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=Io(e,n,r),l=Io(e,i,r);return[a,l]}function xB(e,t,r){var n=dS(e);e.l++;var i=e.read_shift(1);return t-=8,[Kj(e,t,r),i,n]}function Cy(e,t,r){var n=BM(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Xj(e,t,r)]}function mB(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function wB(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=zo(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},u,l,a]}}function vB(e,t,r){return wB(e,t,r)}function yB(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(hd(e));return r}function _B(e,t,r){if(r&&r.biff<8)return CB(e,t,r);var n=gS(e),i=WM(e,t-22,n[1]);return{cmo:n,ft:i}}var EB={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function CB(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((EB[n]||Nn)(e,t,r)),{cmo:[i,n,a],ft:l}}function AB(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:l=bM(e,6,r);var u=e.read_shift(2);e.read_shift(2),Ur(e,2);var g=e.read_shift(2);e.l+=g;for(var p=1;p<e.lens.length-1;++p){if(e.l-n!=e.lens[p])throw new Error("TxO: bad continue record");var m=e[e.l],v=Io(e,e.lens[p+1]-e.lens[p]-1);if(i+=v,i.length>=(m?u:2*u))break}if(i.length!==u&&i.length!==u*2)throw new Error("cchText: "+u+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function SB(e,t){var r=hd(e);e.l+=16;var n=OM(e,t-24);return[r,n]}function TB(e,t){e.read_shift(2);var r=hd(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Hn,""),[r,n]}function kB(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=hy[r]||r,r=e.read_shift(2),t[1]=hy[r]||r,t}function bB(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(fS(e));return r}function IB(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(fS(e));return r}function RB(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function xS(e,t,r){if(!r.cellStyles)return Nn(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(n),g=e.read_shift(2);n==2&&(e.l+=2);var p={s:i,e:a,w:l,ixfe:u,flags:g};return(r.biff>=5||!r.biff)&&(p.level=g>>8&7),p}function NB(e,t){var r={};return t<32||(e.l+=16,r.header=Tn(e),r.footer=Tn(e),e.l+=2),r}function OB(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var DB=Ts,FB=cS,PB=xu;function MB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function BB(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ts(e);++e.l;var i=zo(e,t-7,r);return n.t="str",n.val=i,n}function LB(e){var t=Ts(e);++e.l;var r=Tn(e);return t.t="n",t.val=r,t}function UB(e){var t=Ts(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function jB(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function WB(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function VB(e,t,r){var n=e.l+t,i=Ts(e),a=e.read_shift(2),l=Io(e,a,r);return e.l=n,i.t="str",i.val=l,i}var HB=[2,3,48,49,131,139,140,245],Ay=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=pm({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,g){var p=[],m=Ua(1);switch(g.type){case"base64":m=Qi(yi(u));break;case"binary":m=Qi(u);break;case"buffer":case"array":m=u;break}dn(m,0);var v=m.read_shift(1),_=!!(v&136),E=!1,A=!1;switch(v){case 2:break;case 3:break;case 48:E=!0,_=!0;break;case 49:E=!0,_=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var C=0,I=521;v==2&&(C=m.read_shift(2)),m.l+=3,v!=2&&(C=m.read_shift(4)),C>1048576&&(C=1e6),v!=2&&(I=m.read_shift(2));var b=m.read_shift(2),k=g.codepage||1252;v!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(k=e[m[m.l]]),m.l+=1,m.l+=2),A&&(m.l+=36);for(var S=[],B={},K=Math.min(m.length,v==2?521:I-10-(E?264:0)),G=A?32:11;m.l<K&&m[m.l]!=13;)switch(B={},B.name=L0.utils.decode(k,m.slice(m.l,m.l+G)).replace(/[\u0000\r\n].*$/g,""),m.l+=G,B.type=String.fromCharCode(m.read_shift(1)),v!=2&&!A&&(B.offset=m.read_shift(4)),B.len=m.read_shift(1),v==2&&(B.offset=m.read_shift(2)),B.dec=m.read_shift(1),B.name.length&&S.push(B),v!=2&&(m.l+=A?13:14),B.type){case"B":(!E||B.len!=8)&&g.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":g.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(m[m.l]!==13&&(m.l=I-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=I;var F=0,q=0;for(p[0]=[],q=0;q!=S.length;++q)p[0][q]=S[q].name;for(;C-- >0;){if(m[m.l]===42){m.l+=b;continue}for(++m.l,p[++F]=[],q=0,q=0;q!=S.length;++q){var W=m.slice(m.l,m.l+S[q].len);m.l+=S[q].len,dn(W,0);var ce=L0.utils.decode(k,W);switch(S[q].type){case"C":ce.trim().length&&(p[F][q]=ce.replace(/\s+$/,""));break;case"D":ce.length===8?p[F][q]=new Date(+ce.slice(0,4),+ce.slice(4,6)-1,+ce.slice(6,8)):p[F][q]=ce;break;case"F":p[F][q]=parseFloat(ce.trim());break;case"+":case"I":p[F][q]=A?W.read_shift(-4,"i")^2147483648:W.read_shift(4,"i");break;case"L":switch(ce.trim().toUpperCase()){case"Y":case"T":p[F][q]=!0;break;case"N":case"F":p[F][q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ce+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));p[F][q]="##MEMO##"+(A?parseInt(ce.trim(),10):W.read_shift(4));break;case"N":ce=ce.replace(/\u0000/g,"").trim(),ce&&ce!="."&&(p[F][q]=+ce||0);break;case"@":p[F][q]=new Date(W.read_shift(-8,"f")-621356832e5);break;case"T":p[F][q]=new Date((W.read_shift(4)-2440588)*864e5+W.read_shift(4));break;case"Y":p[F][q]=W.read_shift(4,"i")/1e4+W.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[F][q]=-W.read_shift(-8,"f");break;case"B":if(E&&S[q].len==8){p[F][q]=W.read_shift(8,"f");break}case"G":case"P":W.l+=S[q].len;break;case"0":if(S[q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[q].type)}}}if(v!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return g&&g.sheetRows&&(p=p.slice(0,g.sheetRows)),g.DBF=S,p}function n(u,g){var p=g||{};p.dateNF||(p.dateNF="yyyymmdd");var m=ac(r(u,p),p);return m["!cols"]=p.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete p.DBF,m}function i(u,g){try{return za(n(u,g),g)}catch(p){if(g&&g.WTF)throw p}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,g){var p=g||{};if(+p.codepage>=0&&es(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var m=Zg(),v=op(u,{header:1,raw:!0,cellDates:!0}),_=v[0],E=v.slice(1),A=u["!cols"]||[],C=0,I=0,b=0,k=1;for(C=0;C<_.length;++C){if(((A[C]||{}).DBF||{}).name){_[C]=A[C].DBF.name,++b;continue}if(_[C]!=null){if(++b,typeof _[C]=="number"&&(_[C]=_[C].toString(10)),typeof _[C]!="string")throw new Error("DBF Invalid column name "+_[C]+" |"+typeof _[C]+"|");if(_.indexOf(_[C])!==C){for(I=0;I<1024;++I)if(_.indexOf(_[C]+"_"+I)==-1){_[C]+="_"+I;break}}}}var S=kr(u["!ref"]),B=[],K=[],G=[];for(C=0;C<=S.e.c-S.s.c;++C){var F="",q="",W=0,ce=[];for(I=0;I<E.length;++I)E[I][C]!=null&&ce.push(E[I][C]);if(ce.length==0||_[C]==null){B[C]="?";continue}for(I=0;I<ce.length;++I){switch(typeof ce[I]){case"number":q="B";break;case"string":q="C";break;case"boolean":q="L";break;case"object":q=ce[I]instanceof Date?"D":"C";break;default:q="C"}W=Math.max(W,String(ce[I]).length),F=F&&F!=q?"C":q}W>250&&(W=250),q=((A[C]||{}).DBF||{}).type,q=="C"&&A[C].DBF.len>W&&(W=A[C].DBF.len),F=="B"&&q=="N"&&(F="N",G[C]=A[C].DBF.dec,W=A[C].DBF.len),K[C]=F=="C"||q=="N"?W:a[F]||0,k+=K[C],B[C]=F}var ue=m.next(32);for(ue.write_shift(4,318902576),ue.write_shift(4,E.length),ue.write_shift(2,296+32*b),ue.write_shift(2,k),C=0;C<4;++C)ue.write_shift(4,0);for(ue.write_shift(4,0|(+t[p4]||3)<<8),C=0,I=0;C<_.length;++C)if(_[C]!=null){var Z=m.next(32),Ee=(_[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Z.write_shift(1,Ee,"sbcs"),Z.write_shift(1,B[C]=="?"?"C":B[C],"sbcs"),Z.write_shift(4,I),Z.write_shift(1,K[C]||a[B[C]]||0),Z.write_shift(1,G[C]||0),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(1,0),Z.write_shift(4,0),Z.write_shift(4,0),I+=K[C]||a[B[C]]||0}var Se=m.next(264);for(Se.write_shift(4,13),C=0;C<65;++C)Se.write_shift(4,0);for(C=0;C<E.length;++C){var ee=m.next(k);for(ee.write_shift(1,0),I=0;I<_.length;++I)if(_[I]!=null)switch(B[I]){case"L":ee.write_shift(1,E[C][I]==null?63:E[C][I]?84:70);break;case"B":ee.write_shift(8,E[C][I]||0,"f");break;case"N":var Fe="0";for(typeof E[C][I]=="number"&&(Fe=E[C][I].toFixed(G[I]||0)),b=0;b<K[I]-Fe.length;++b)ee.write_shift(1,32);ee.write_shift(1,Fe,"sbcs");break;case"D":E[C][I]?(ee.write_shift(4,("0000"+E[C][I].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(E[C][I].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+E[C][I].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var Ce=String(E[C][I]!=null?E[C][I]:"").slice(0,K[I]);for(ee.write_shift(1,Ce,"sbcs"),b=0;b<K[I]-Ce.length;++b)ee.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}}(),zB=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Cs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(_,E){var A=e[E];return typeof A=="number"?jv(A):A},n=function(_,E,A){var C=E.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return C==59?_:jv(C)};e["|"]=254;function i(_,E){switch(E.type){case"base64":return a(yi(_),E);case"binary":return a(_,E);case"buffer":return a(Ft&&Buffer.isBuffer(_)?_.toString("binary"):jo(_),E);case"array":return a(bo(_),E)}throw new Error("Unrecognized type "+E.type)}function a(_,E){var A=_.split(/[\n\r]+/),C=-1,I=-1,b=0,k=0,S=[],B=[],K=null,G={},F=[],q=[],W=[],ce=0,ue;for(+E.codepage>=0&&es(+E.codepage);b!==A.length;++b){ce=0;var Z=A[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),Ee=Z.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),Se=Ee[0],ee;if(Z.length>0)switch(Se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Ee[1].charAt(0)=="P"&&B.push(Z.slice(3).replace(/;;/g,";"));break;case"C":var Fe=!1,Ce=!1,ke=!1,ne=!1,be=-1,oe=-1;for(k=1;k<Ee.length;++k)switch(Ee[k].charAt(0)){case"A":break;case"X":I=parseInt(Ee[k].slice(1))-1,Ce=!0;break;case"Y":for(C=parseInt(Ee[k].slice(1))-1,Ce||(I=0),ue=S.length;ue<=C;++ue)S[ue]=[];break;case"K":ee=Ee[k].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(ss(ee))?isNaN(zl(ee).getDate())||(ee=an(ee)):(ee=ss(ee),K!==null&&ic(K)&&(ee=fd(ee))),Fe=!0;break;case"E":ne=!0;var U=kl(Ee[k].slice(1),{r:C,c:I});S[C][I]=[S[C][I],U];break;case"S":ke=!0,S[C][I]=[S[C][I],"S5S"];break;case"G":break;case"R":be=parseInt(Ee[k].slice(1))-1;break;case"C":oe=parseInt(Ee[k].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Z)}if(Fe&&(S[C][I]&&S[C][I].length==2?S[C][I][0]=ee:S[C][I]=ee,K=null),ke){if(ne)throw new Error("SYLK shared formula cannot have own formula");var ae=be>-1&&S[be][oe];if(!ae||!ae[1])throw new Error("SYLK shared formula cannot find base");S[C][I][1]=TS(ae[1],{r:C-be,c:I-oe})}break;case"F":var Q=0;for(k=1;k<Ee.length;++k)switch(Ee[k].charAt(0)){case"X":I=parseInt(Ee[k].slice(1))-1,++Q;break;case"Y":for(C=parseInt(Ee[k].slice(1))-1,ue=S.length;ue<=C;++ue)S[ue]=[];break;case"M":ce=parseInt(Ee[k].slice(1))/20;break;case"F":break;case"G":break;case"P":K=B[parseInt(Ee[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(W=Ee[k].slice(1).split(" "),ue=parseInt(W[0],10);ue<=parseInt(W[1],10);++ue)ce=parseInt(W[2],10),q[ue-1]=ce===0?{hidden:!0}:{wch:ce},Gl(q[ue-1]);break;case"C":I=parseInt(Ee[k].slice(1))-1,q[I]||(q[I]={});break;case"R":C=parseInt(Ee[k].slice(1))-1,F[C]||(F[C]={}),ce>0?(F[C].hpt=ce,F[C].hpx=z0(ce)):ce===0&&(F[C].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Z)}Q<1&&(K=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Z)}}return F.length>0&&(G["!rows"]=F),q.length>0&&(G["!cols"]=q),E&&E.sheetRows&&(S=S.slice(0,E.sheetRows)),[S,G]}function l(_,E){var A=i(_,E),C=A[0],I=A[1],b=ac(C,E);return Cs(I).forEach(function(k){b[k]=I[k]}),b}function u(_,E){return za(l(_,E),E)}function g(_,E,A,C){var I="C;Y"+(A+1)+";X"+(C+1)+";K";switch(_.t){case"n":I+=_.v||0,_.f&&!_.F&&(I+=";E"+RU(_.f,{r:A,c:C}));break;case"b":I+=_.v?"TRUE":"FALSE";break;case"e":I+=_.w||_.v;break;case"d":I+='"'+(_.w||_.v)+'"';break;case"s":I+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return I}function p(_,E){E.forEach(function(A,C){var I="F;W"+(C+1)+" "+(C+1)+" ";A.hidden?I+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=Th(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=kh(A.wpx)),typeof A.wch=="number"&&(I+=Math.round(A.wch))),I.charAt(I.length-1)!=" "&&_.push(I)})}function m(_,E){E.forEach(function(A,C){var I="F;";A.hidden?I+="M0;":A.hpt?I+="M"+20*A.hpt+";":A.hpx&&(I+="M"+20*CS(A.hpx)+";"),I.length>2&&_.push(I+"R"+(C+1))})}function v(_,E){var A=["ID;PWXL;N;E"],C=[],I=kr(_["!ref"]),b,k=Array.isArray(_),S=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),_["!cols"]&&p(A,_["!cols"]),_["!rows"]&&m(A,_["!rows"]),A.push("B;Y"+(I.e.r-I.s.r+1)+";X"+(I.e.c-I.s.c+1)+";D"+[I.s.c,I.s.r,I.e.c,I.e.r].join(" "));for(var B=I.s.r;B<=I.e.r;++B)for(var K=I.s.c;K<=I.e.c;++K){var G=ft({r:B,c:K});b=k?(_[B]||[])[K]:_[G],!(!b||b.v==null&&(!b.f||b.F))&&C.push(g(b,_,B,K))}return A.join(S)+S+C.join(S)+S+"E"+S}return{to_workbook:u,to_sheet:l,from_sheet:v}}(),GB=function(){function e(a,l){switch(l.type){case"base64":return t(yi(a),l);case"binary":return t(a,l);case"buffer":return t(Ft&&Buffer.isBuffer(a)?a.toString("binary"):jo(a),l);case"array":return t(bo(a),l)}throw new Error("Unrecognized type "+l.type)}function t(a,l){for(var u=a.split(`
`),g=-1,p=-1,m=0,v=[];m!==u.length;++m){if(u[m].trim()==="BOT"){v[++g]=[],p=0;continue}if(!(g<0)){var _=u[m].trim().split(","),E=_[0],A=_[1];++m;for(var C=u[m]||"";(C.match(/["]/g)||[]).length&1&&m<u.length-1;)C+=`
`+u[++m];switch(C=C.trim(),+E){case-1:if(C==="BOT"){v[++g]=[],p=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?v[g][p]=!0:C==="FALSE"?v[g][p]=!1:isNaN(ss(A))?isNaN(zl(A).getDate())?v[g][p]=A:v[g][p]=an(A):v[g][p]=ss(A),++p;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),v[g][p++]=C!==""?C:null;break}if(C==="EOD")break}}return l&&l.sheetRows&&(v=v.slice(0,l.sheetRows)),v}function r(a,l){return ac(e(a,l),l)}function n(a,l){return za(r(a,l),l)}var i=function(){var a=function(g,p,m,v,_){g.push(p),g.push(m+","+v),g.push('"'+_.replace(/"/g,'""')+'"')},l=function(g,p,m,v){g.push(p+","+m),g.push(p==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(g){var p=[],m=kr(g["!ref"]),v,_=Array.isArray(g);a(p,"TABLE",0,1,"sheetjs"),a(p,"VECTORS",0,m.e.r-m.s.r+1,""),a(p,"TUPLES",0,m.e.c-m.s.c+1,""),a(p,"DATA",0,0,"");for(var E=m.s.r;E<=m.e.r;++E){l(p,-1,0,"BOT");for(var A=m.s.c;A<=m.e.c;++A){var C=ft({r:E,c:A});if(v=_?(g[E]||[])[A]:g[C],!v){l(p,1,0,"");continue}switch(v.t){case"n":var I=v.w;!I&&v.v!=null&&(I=v.v),I==null?v.f&&!v.F?l(p,1,0,"="+v.f):l(p,1,0,""):l(p,0,I,"V");break;case"b":l(p,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":l(p,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Wi(v.z||xt[14],Gn(an(v.v)))),l(p,0,v.w,"V");break;default:l(p,1,0,"")}}}l(p,-1,0,"EOD");var b=`\r
`,k=p.join(b);return k}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),XB=function(){function e(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,_){for(var E=v.split(`
`),A=-1,C=-1,I=0,b=[];I!==E.length;++I){var k=E[I].trim().split(":");if(k[0]==="cell"){var S=jn(k[1]);if(b.length<=S.r)for(A=b.length;A<=S.r;++A)b[A]||(b[A]=[]);switch(A=S.r,C=S.c,k[2]){case"t":b[A][C]=e(k[3]);break;case"v":b[A][C]=+k[3];break;case"vtf":var B=k[k.length-1];case"vtc":switch(k[3]){case"nl":b[A][C]=!!+k[4];break;default:b[A][C]=+k[4];break}k[2]=="vtf"&&(b[A][C]=[b[A][C],B])}}}return _&&_.sheetRows&&(b=b.slice(0,_.sheetRows)),b}function n(v,_){return ac(r(v,_),_)}function i(v,_){return za(n(v,_),_)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),g="--SocialCalcSpreadsheetControlSave--";function p(v){if(!v||!v["!ref"])return"";for(var _=[],E=[],A,C="",I=sc(v["!ref"]),b=Array.isArray(v),k=I.s.r;k<=I.e.r;++k)for(var S=I.s.c;S<=I.e.c;++S)if(C=ft({r:k,c:S}),A=b?(v[k]||[])[S]:v[C],!(!A||A.v==null||A.t==="z")){switch(E=["cell",C,"t"],A.t){case"s":case"str":E.push(t(A.v));break;case"n":A.f?(E[2]="vtf",E[3]="n",E[4]=A.v,E[5]=t(A.f)):(E[2]="v",E[3]=A.v);break;case"b":E[2]="vt"+(A.f?"f":"c"),E[3]="nl",E[4]=A.v?"1":"0",E[5]=t(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var B=Gn(an(A.v));E[2]="vtc",E[3]="nd",E[4]=""+B,E[5]=A.w||Wi(A.z||xt[14],B);break;case"e":continue}_.push(E.join(":"))}return _.push("sheet:c:"+(I.e.c-I.s.c+1)+":r:"+(I.e.r-I.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function m(v){return[a,l,u,l,p(v),g].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:m}}(),V0=function(){function e(m,v,_,E,A){A.raw?v[_][E]=m:m===""||(m==="TRUE"?v[_][E]=!0:m==="FALSE"?v[_][E]=!1:isNaN(ss(m))?isNaN(zl(m).getDate())?v[_][E]=m:v[_][E]=an(m):v[_][E]=ss(m))}function t(m,v){var _=v||{},E=[];if(!m||m.length===0)return E;for(var A=m.split(/[\r\n]/),C=A.length-1;C>=0&&A[C].length===0;)--C;for(var I=10,b=0,k=0;k<=C;++k)b=A[k].indexOf(" "),b==-1?b=A[k].length:b++,I=Math.max(I,b);for(k=0;k<=C;++k){E[k]=[];var S=0;for(e(A[k].slice(0,I).trim(),E,k,S,_),S=1;S<=(A[k].length-I)/10+1;++S)e(A[k].slice(I+(S-1)*10,I+S*10).trim(),E,k,S,_)}return _.sheetRows&&(E=E.slice(0,_.sheetRows)),E}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(m){for(var v={},_=!1,E=0,A=0;E<m.length;++E)(A=m.charCodeAt(E))==34?_=!_:!_&&A in r&&(v[A]=(v[A]||0)+1);A=[];for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&A.push([v[E],E]);if(!A.length){v=n;for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&A.push([v[E],E])}return A.sort(function(C,I){return C[0]-I[0]||n[C[1]]-n[I[1]]}),r[A.pop()[1]]||44}function a(m,v){var _=v||{},E="",A=_.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(E=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(E=m.charAt(4),m=m.slice(6)):E=i(m.slice(0,1024)):_&&_.FS?E=_.FS:E=i(m.slice(0,1024));var I=0,b=0,k=0,S=0,B=0,K=E.charCodeAt(0),G=!1,F=0,q=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var W=_.dateNF!=null?nP(_.dateNF):null;function ce(){var ue=m.slice(S,B),Z={};if(ue.charAt(0)=='"'&&ue.charAt(ue.length-1)=='"'&&(ue=ue.slice(1,-1).replace(/""/g,'"')),ue.length===0)Z.t="z";else if(_.raw)Z.t="s",Z.v=ue;else if(ue.trim().length===0)Z.t="s",Z.v=ue;else if(ue.charCodeAt(0)==61)ue.charCodeAt(1)==34&&ue.charCodeAt(ue.length-1)==34?(Z.t="s",Z.v=ue.slice(2,-1).replace(/""/g,'"')):OU(ue)?(Z.t="n",Z.f=ue.slice(1)):(Z.t="s",Z.v=ue);else if(ue=="TRUE")Z.t="b",Z.v=!0;else if(ue=="FALSE")Z.t="b",Z.v=!1;else if(!isNaN(k=ss(ue)))Z.t="n",_.cellText!==!1&&(Z.w=ue),Z.v=k;else if(!isNaN(zl(ue).getDate())||W&&ue.match(W)){Z.z=_.dateNF||xt[14];var Ee=0;W&&ue.match(W)&&(ue=iP(ue,_.dateNF,ue.match(W)||[]),Ee=1),_.cellDates?(Z.t="d",Z.v=an(ue,Ee)):(Z.t="n",Z.v=Gn(an(ue,Ee))),_.cellText!==!1&&(Z.w=Wi(Z.z,Z.v instanceof Date?Gn(Z.v):Z.v)),_.cellNF||delete Z.z}else Z.t="s",Z.v=ue;if(Z.t=="z"||(_.dense?(A[I]||(A[I]=[]),A[I][b]=Z):A[ft({c:b,r:I})]=Z),S=B+1,q=m.charCodeAt(S),C.e.c<b&&(C.e.c=b),C.e.r<I&&(C.e.r=I),F==K)++b;else if(b=0,++I,_.sheetRows&&_.sheetRows<=I)return!0}e:for(;B<m.length;++B)switch(F=m.charCodeAt(B)){case 34:q===34&&(G=!G);break;case K:case 10:case 13:if(!G&&ce())break e;break}return B-S>0&&ce(),A["!ref"]=Mt(C),A}function l(m,v){return!(v&&v.PRN)||v.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?a(m,v):ac(t(m,v),v)}function u(m,v){var _="",E=v.type=="string"?[0,0,0,0]:Fm(m,v);switch(v.type){case"base64":_=yi(m);break;case"binary":_=m;break;case"buffer":v.codepage==65001?_=m.toString("utf8"):v.codepage&&typeof L0<"u"||(_=Ft&&Buffer.isBuffer(m)?m.toString("binary"):jo(m));break;case"array":_=bo(m);break;case"string":_=m;break;default:throw new Error("Unrecognized type "+v.type)}return E[0]==239&&E[1]==187&&E[2]==191?_=ar(_.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?_=ar(_):v.type=="binary"&&typeof L0<"u",_.slice(0,19)=="socialcalc:version:"?XB.to_sheet(v.type=="string"?_:ar(_),v):l(_,v)}function g(m,v){return za(u(m,v),v)}function p(m){for(var v=[],_=kr(m["!ref"]),E,A=Array.isArray(m),C=_.s.r;C<=_.e.r;++C){for(var I=[],b=_.s.c;b<=_.e.c;++b){var k=ft({r:C,c:b});if(E=A?(m[C]||[])[b]:m[k],!E||E.v==null){I.push("          ");continue}for(var S=(E.w||($s(E),E.w)||"").slice(0,10);S.length<10;)S+=" ";I.push(S+(b===0?" ":""))}v.push(I.join(""))}return v.join(`
`)}return{to_workbook:g,to_sheet:u,from_sheet:p}}();function $B(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=zB.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return V0.to_workbook(e,t)}}var i0=function(){function e(U,ae,Q){if(U){dn(U,U.l||0);for(var re=Q.Enum||be;U.l<U.length;){var ie=U.read_shift(2),Pe=re[ie]||re[65535],Ae=U.read_shift(2),Me=U.l+Ae,Re=Pe.f&&Pe.f(U,Ae,Q);if(U.l=Me,ae(Re,Pe,ie))return}}}function t(U,ae){switch(ae.type){case"base64":return r(Qi(yi(U)),ae);case"binary":return r(Qi(U),ae);case"buffer":case"array":return r(U,ae)}throw"Unsupported type "+ae.type}function r(U,ae){if(!U)return U;var Q=ae||{},re=Q.dense?[]:{},ie="Sheet1",Pe="",Ae=0,Me={},Re=[],tt=[],Y={s:{r:0,c:0},e:{r:0,c:0}},qe=Q.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)Q.Enum=be,e(U,function(Ne,Je,it){switch(it){case 0:Q.vers=Ne,Ne>=4096&&(Q.qpro=!0);break;case 6:Y=Ne;break;case 204:Ne&&(Pe=Ne);break;case 222:Pe=Ne;break;case 15:case 51:Q.qpro||(Ne[1].v=Ne[1].v.slice(1));case 13:case 14:case 16:it==14&&(Ne[2]&112)==112&&(Ne[2]&15)>1&&(Ne[2]&15)<15&&(Ne[1].z=Q.dateNF||xt[14],Q.cellDates&&(Ne[1].t="d",Ne[1].v=fd(Ne[1].v))),Q.qpro&&Ne[3]>Ae&&(re["!ref"]=Mt(Y),Me[ie]=re,Re.push(ie),re=Q.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Ae=Ne[3],ie=Pe||"Sheet"+(Ae+1),Pe="");var Dt=Q.dense?(re[Ne[0].r]||[])[Ne[0].c]:re[ft(Ne[0])];if(Dt){Dt.t=Ne[1].t,Dt.v=Ne[1].v,Ne[1].z!=null&&(Dt.z=Ne[1].z),Ne[1].f!=null&&(Dt.f=Ne[1].f);break}Q.dense?(re[Ne[0].r]||(re[Ne[0].r]=[]),re[Ne[0].r][Ne[0].c]=Ne[1]):re[ft(Ne[0])]=Ne[1];break}},Q);else if(U[2]==26||U[2]==14)Q.Enum=oe,U[2]==14&&(Q.qpro=!0,U.l=0),e(U,function(Ne,Je,it){switch(it){case 204:ie=Ne;break;case 22:Ne[1].v=Ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ne[3]>Ae&&(re["!ref"]=Mt(Y),Me[ie]=re,Re.push(ie),re=Q.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Ae=Ne[3],ie="Sheet"+(Ae+1)),qe>0&&Ne[0].r>=qe)break;Q.dense?(re[Ne[0].r]||(re[Ne[0].r]=[]),re[Ne[0].r][Ne[0].c]=Ne[1]):re[ft(Ne[0])]=Ne[1],Y.e.c<Ne[0].c&&(Y.e.c=Ne[0].c),Y.e.r<Ne[0].r&&(Y.e.r=Ne[0].r);break;case 27:Ne[14e3]&&(tt[Ne[14e3][0]]=Ne[14e3][1]);break;case 1537:tt[Ne[0]]=Ne[1],Ne[0]==Ae&&(ie=Ne[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(re["!ref"]=Mt(Y),Me[Pe||ie]=re,Re.push(Pe||ie),!tt.length)return{SheetNames:Re,Sheets:Me};for(var mt={},dt=[],Ze=0;Ze<tt.length;++Ze)Me[Re[Ze]]?(dt.push(tt[Ze]||Re[Ze]),mt[tt[Ze]]=Me[tt[Ze]]||Me[Re[Ze]]):(dt.push(tt[Ze]),mt[tt[Ze]]={"!ref":"A1"});return{SheetNames:dt,Sheets:mt}}function n(U,ae){var Q=ae||{};if(+Q.codepage>=0&&es(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var re=Zg(),ie=kr(U["!ref"]),Pe=Array.isArray(U),Ae=[];$i(re,0,a(1030)),$i(re,6,g(ie));for(var Me=Math.min(ie.e.r,8191),Re=ie.s.r;Re<=Me;++Re)for(var tt=mn(Re),Y=ie.s.c;Y<=ie.e.c;++Y){Re===ie.s.r&&(Ae[Y]=Kr(Y));var qe=Ae[Y]+tt,mt=Pe?(U[Re]||[])[Y]:U[qe];if(!(!mt||mt.t=="z"))if(mt.t=="n")(mt.v|0)==mt.v&&mt.v>=-32768&&mt.v<=32767?$i(re,13,E(Re,Y,mt.v)):$i(re,14,C(Re,Y,mt.v));else{var dt=$s(mt);$i(re,15,v(Re,Y,dt.slice(0,239)))}}return $i(re,1),re.end()}function i(U,ae){var Q=ae||{};if(+Q.codepage>=0&&es(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var re=Zg();$i(re,0,l(U));for(var ie=0,Pe=0;ie<U.SheetNames.length;++ie)(U.Sheets[U.SheetNames[ie]]||{})["!ref"]&&$i(re,27,ne(U.SheetNames[ie],Pe++));var Ae=0;for(ie=0;ie<U.SheetNames.length;++ie){var Me=U.Sheets[U.SheetNames[ie]];if(!(!Me||!Me["!ref"])){for(var Re=kr(Me["!ref"]),tt=Array.isArray(Me),Y=[],qe=Math.min(Re.e.r,8191),mt=Re.s.r;mt<=qe;++mt)for(var dt=mn(mt),Ze=Re.s.c;Ze<=Re.e.c;++Ze){mt===Re.s.r&&(Y[Ze]=Kr(Ze));var Ne=Y[Ze]+dt,Je=tt?(Me[mt]||[])[Ze]:Me[Ne];if(!(!Je||Je.t=="z"))if(Je.t=="n")$i(re,23,ce(mt,Ze,Ae,Je.v));else{var it=$s(Je);$i(re,22,F(mt,Ze,Ae,it.slice(0,239)))}}++Ae}}return $i(re,1),re.end()}function a(U){var ae=zr(2);return ae.write_shift(2,U),ae}function l(U){var ae=zr(26);ae.write_shift(2,4096),ae.write_shift(2,4),ae.write_shift(4,0);for(var Q=0,re=0,ie=0,Pe=0;Pe<U.SheetNames.length;++Pe){var Ae=U.SheetNames[Pe],Me=U.Sheets[Ae];if(!(!Me||!Me["!ref"])){++ie;var Re=sc(Me["!ref"]);Q<Re.e.r&&(Q=Re.e.r),re<Re.e.c&&(re=Re.e.c)}}return Q>8191&&(Q=8191),ae.write_shift(2,Q),ae.write_shift(1,ie),ae.write_shift(1,re),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(1,1),ae.write_shift(1,2),ae.write_shift(4,0),ae.write_shift(4,0),ae}function u(U,ae,Q){var re={s:{c:0,r:0},e:{c:0,r:0}};return ae==8&&Q.qpro?(re.s.c=U.read_shift(1),U.l++,re.s.r=U.read_shift(2),re.e.c=U.read_shift(1),U.l++,re.e.r=U.read_shift(2),re):(re.s.c=U.read_shift(2),re.s.r=U.read_shift(2),ae==12&&Q.qpro&&(U.l+=2),re.e.c=U.read_shift(2),re.e.r=U.read_shift(2),ae==12&&Q.qpro&&(U.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function g(U){var ae=zr(8);return ae.write_shift(2,U.s.c),ae.write_shift(2,U.s.r),ae.write_shift(2,U.e.c),ae.write_shift(2,U.e.r),ae}function p(U,ae,Q){var re=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(re[0].c=U.read_shift(1),re[3]=U.read_shift(1),re[0].r=U.read_shift(2),U.l+=2):(re[2]=U.read_shift(1),re[0].c=U.read_shift(2),re[0].r=U.read_shift(2)),re}function m(U,ae,Q){var re=U.l+ae,ie=p(U,ae,Q);if(ie[1].t="s",Q.vers==20768){U.l++;var Pe=U.read_shift(1);return ie[1].v=U.read_shift(Pe,"utf8"),ie}return Q.qpro&&U.l++,ie[1].v=U.read_shift(re-U.l,"cstr"),ie}function v(U,ae,Q){var re=zr(7+Q.length);re.write_shift(1,255),re.write_shift(2,ae),re.write_shift(2,U),re.write_shift(1,39);for(var ie=0;ie<re.length;++ie){var Pe=Q.charCodeAt(ie);re.write_shift(1,Pe>=128?95:Pe)}return re.write_shift(1,0),re}function _(U,ae,Q){var re=p(U,ae,Q);return re[1].v=U.read_shift(2,"i"),re}function E(U,ae,Q){var re=zr(7);return re.write_shift(1,255),re.write_shift(2,ae),re.write_shift(2,U),re.write_shift(2,Q,"i"),re}function A(U,ae,Q){var re=p(U,ae,Q);return re[1].v=U.read_shift(8,"f"),re}function C(U,ae,Q){var re=zr(13);return re.write_shift(1,255),re.write_shift(2,ae),re.write_shift(2,U),re.write_shift(8,Q,"f"),re}function I(U,ae,Q){var re=U.l+ae,ie=p(U,ae,Q);if(ie[1].v=U.read_shift(8,"f"),Q.qpro)U.l=re;else{var Pe=U.read_shift(2);B(U.slice(U.l,U.l+Pe),ie),U.l+=Pe}return ie}function b(U,ae,Q){var re=ae&32768;return ae&=-32769,ae=(re?U:0)+(ae>=8192?ae-16384:ae),(re?"":"$")+(Q?Kr(ae):mn(ae))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(U,ae){dn(U,0);for(var Q=[],re=0,ie="",Pe="",Ae="",Me="";U.l<U.length;){var Re=U[U.l++];switch(Re){case 0:Q.push(U.read_shift(8,"f"));break;case 1:Pe=b(ae[0].c,U.read_shift(2),!0),ie=b(ae[0].r,U.read_shift(2),!1),Q.push(Pe+ie);break;case 2:{var tt=b(ae[0].c,U.read_shift(2),!0),Y=b(ae[0].r,U.read_shift(2),!1);Pe=b(ae[0].c,U.read_shift(2),!0),ie=b(ae[0].r,U.read_shift(2),!1),Q.push(tt+Y+":"+Pe+ie)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(U.read_shift(2));break;case 6:{for(var qe="";Re=U[U.l++];)qe+=String.fromCharCode(Re);Q.push('"'+qe.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:Me=Q.pop(),Ae=Q.pop(),Q.push(["AND","OR"][Re-20]+"("+Ae+","+Me+")");break;default:if(Re<32&&S[Re])Me=Q.pop(),Ae=Q.pop(),Q.push(Ae+S[Re]+Me);else if(k[Re]){if(re=k[Re][1],re==69&&(re=U[U.l++]),re>Q.length){console.error("WK1 bad formula parse 0x"+Re.toString(16)+":|"+Q.join("|")+"|");return}var mt=Q.slice(-re);Q.length-=re,Q.push(k[Re][0]+"("+mt.join(",")+")")}else return Re<=7?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=24?console.error("WK1 unsupported op "+Re.toString(16)):Re<=30?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=115?console.error("WK1 unsupported function opcode "+Re.toString(16)):console.error("WK1 unrecognized opcode "+Re.toString(16))}}Q.length==1?ae[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function K(U){var ae=[{c:0,r:0},{t:"n",v:0},0];return ae[0].r=U.read_shift(2),ae[3]=U[U.l++],ae[0].c=U[U.l++],ae}function G(U,ae){var Q=K(U);return Q[1].t="s",Q[1].v=U.read_shift(ae-4,"cstr"),Q}function F(U,ae,Q,re){var ie=zr(6+re.length);ie.write_shift(2,U),ie.write_shift(1,Q),ie.write_shift(1,ae),ie.write_shift(1,39);for(var Pe=0;Pe<re.length;++Pe){var Ae=re.charCodeAt(Pe);ie.write_shift(1,Ae>=128?95:Ae)}return ie.write_shift(1,0),ie}function q(U,ae){var Q=K(U);Q[1].v=U.read_shift(2);var re=Q[1].v>>1;if(Q[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return Q[1].v=re,Q}function W(U,ae){var Q=K(U),re=U.read_shift(4),ie=U.read_shift(4),Pe=U.read_shift(2);if(Pe==65535)return re===0&&ie===3221225472?(Q[1].t="e",Q[1].v=15):re===0&&ie===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var Ae=Pe&32768;return Pe=(Pe&32767)-16446,Q[1].v=(1-Ae*2)*(ie*Math.pow(2,Pe+32)+re*Math.pow(2,Pe)),Q}function ce(U,ae,Q,re){var ie=zr(14);if(ie.write_shift(2,U),ie.write_shift(1,Q),ie.write_shift(1,ae),re==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var Pe=0,Ae=0,Me=0,Re=0;return re<0&&(Pe=1,re=-re),Ae=Math.log2(re)|0,re/=Math.pow(2,Ae-31),Re=re>>>0,Re&2147483648||(re/=2,++Ae,Re=re>>>0),re-=Re,Re|=2147483648,Re>>>=0,re*=Math.pow(2,32),Me=re>>>0,ie.write_shift(4,Me),ie.write_shift(4,Re),Ae+=16383+(Pe?32768:0),ie.write_shift(2,Ae),ie}function ue(U,ae){var Q=W(U);return U.l+=ae-14,Q}function Z(U,ae){var Q=K(U),re=U.read_shift(4);return Q[1].v=re>>6,Q}function Ee(U,ae){var Q=K(U),re=U.read_shift(8,"f");return Q[1].v=re,Q}function Se(U,ae){var Q=Ee(U);return U.l+=ae-10,Q}function ee(U,ae){return U[U.l+ae-1]==0?U.read_shift(ae,"cstr"):""}function Fe(U,ae){var Q=U[U.l++];Q>ae-1&&(Q=ae-1);for(var re="";re.length<Q;)re+=String.fromCharCode(U[U.l++]);return re}function Ce(U,ae,Q){if(!(!Q.qpro||ae<21)){var re=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var ie=U.read_shift(ae-21,"cstr");return[re,ie]}}function ke(U,ae){for(var Q={},re=U.l+ae;U.l<re;){var ie=U.read_shift(2);if(ie==14e3){for(Q[ie]=[0,""],Q[ie][0]=U.read_shift(2);U[U.l];)Q[ie][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return Q}function ne(U,ae){var Q=zr(5+U.length);Q.write_shift(2,14e3),Q.write_shift(2,ae);for(var re=0;re<U.length;++re){var ie=U.charCodeAt(re);Q[Q.l++]=ie>127?95:ie}return Q[Q.l++]=0,Q}var be={0:{n:"BOF",f:Ur},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:I},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:Fe},65535:{n:""}},oe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:W},24:{n:"NUMBER18",f:q},25:{n:"FORMULA19",f:ue},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ke},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Z},38:{n:"??"},39:{n:"NUMBER27",f:Ee},40:{n:"FORMULA28",f:Se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function YB(e){var t={},r=e.match(Dn),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=lt(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=um[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var KB=function(){var e=j0("t"),t=j0("rPr");function r(a){var l=a.match(e);if(!l)return{t:"s",v:""};var u={t:"s",v:jt(l[1])},g=a.match(t);return g&&(u.s=YB(g[1])),u}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(i).map(r).filter(function(u){return u.v})}}(),qB=function(){var t=/(\r\n|\n)/g;function r(i,a,l){var u=[];i.u&&u.push("text-decoration: underline;"),i.uval&&u.push("text-underline-style:"+i.uval+";"),i.sz&&u.push("font-size:"+i.sz+"pt;"),i.outline&&u.push("text-effect: outline;"),i.shadow&&u.push("text-shadow: auto;"),a.push('<span style="'+u.join("")+'">'),i.b&&(a.push("<b>"),l.push("</b>")),i.i&&(a.push("<i>"),l.push("</i>")),i.strike&&(a.push("<s>"),l.push("</s>"));var g=i.valign||"";return g=="superscript"||g=="super"?g="sup":g=="subscript"&&(g="sub"),g!=""&&(a.push("<"+g+">"),l.push("</"+g+">")),l.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),ZB=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,QB=/<(?:\w+:)?r>/,JB=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function km(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=jt(ar(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ar(e),r&&(n.h=mm(n.t))):e.match(QB)&&(n.r=ar(e),n.t=jt(ar((e.replace(JB,"").match(ZB)||[]).join("").replace(Dn,""))),r&&(n.h=qB(KB(n.r)))),n):{t:""}}var eL=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,tL=/<(?:\w+:)?(?:si|sstItem)>/g,rL=/<\/(?:\w+:)?(?:si|sstItem)>/;function nL(e,t){var r=[],n="";if(!e)return r;var i=e.match(eL);if(i){n=i[2].replace(tL,"").split(rL);for(var a=0;a!=n.length;++a){var l=km(n[a].trim(),t);l!=null&&(r[r.length]=l)}i=lt(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function iL(e){return[e.read_shift(4),e.read_shift(4)]}function sL(e,t){var r=[],n=!1;return Zs(e,function(a,l,u){switch(u){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function mS(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Us(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function aL(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function oL(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function lL(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(oL(e));return t}function cL(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function uL(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function fL(e){var t=uL(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function wS(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function vS(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function hL(e){var t=Us(e);switch(t.Minor){case 2:return[t.Minor,dL(e)];case 3:return[t.Minor,gL()];case 4:return[t.Minor,pL(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function dL(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=wS(e,r),i=vS(e,e.length-e.l);return{t:"Std",h:n,v:i}}function gL(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pL(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Dn,function(a){var l=lt(a);switch(Ss(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(u){n[u]=l[u]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function xL(e,t){var r={},n=r.EncryptionVersionInfo=Us(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=wS(e,i),t-=i,r.EncryptionVerifier=vS(e,t),r}function mL(e){var t={},r=t.EncryptionVersionInfo=Us(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function wL(e){var t=0,r,n=mS(e),i=n.length+1,a,l,u,g,p;for(r=Ua(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)l=r[a],u=t&16384?1:0,g=t<<1&32767,p=u|g,t=p^l;return t^52811}var yS=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},i=function(l,u){return n(l^u)},a=function(l){for(var u=t[l.length-1],g=104,p=l.length-1;p>=0;--p)for(var m=l[p],v=0;v!=7;++v)m&64&&(u^=r[g]),m*=2,--g;return u};return function(l){for(var u=mS(l),g=a(u),p=u.length,m=Ua(16),v=0;v!=16;++v)m[v]=0;var _,E,A;for((p&1)===1&&(_=g>>8,m[p]=i(e[0],_),--p,_=g&255,E=u[u.length-1],m[p]=i(E,_));p>0;)--p,_=g>>8,m[p]=i(u[p],_),--p,_=g&255,m[p]=i(u[p],_);for(p=15,A=15-u.length;A>0;)_=g>>8,m[p]=i(e[A],_),--p,--A,_=g&255,m[p]=i(u[p],_),--p,--A;return m}}(),vL=function(e,t,r,n,i){i||(i=t),n||(n=yS(e));var a,l;for(a=0;a!=t.length;++a)l=t[a],l^=n[r],l=(l>>5|l<<3)&255,i[a]=l,++r;return[i,r,n]},yL=function(e){var t=0,r=yS(e);return function(n){var i=vL("",n,t,r);return t=i[1],i[0]}};function _L(e,t,r,n){var i={key:Ur(e),verificationBytes:Ur(e)};return r.password&&(i.verifier=wL(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=yL(r.password)),i}function EL(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=mL(e):n.Data=xL(e,t),n}function CL(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?EL(e,t-2,n):_L(e,r.biff>=8?t:t-2,r,n),n}var AL=function(){function e(i,a){switch(a.type){case"base64":return t(yi(i),a);case"binary":return t(i,a);case"buffer":return t(Ft&&Buffer.isBuffer(i)?i.toString("binary"):jo(i),a);case"array":return t(bo(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var l=a||{},u=l.dense?[]:{},g=i.match(/\\trowd.*?\\row\b/g);if(!g.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:g.length-1}};return g.forEach(function(m,v){Array.isArray(u)&&(u[v]=[]);for(var _=/\\\w+\b/g,E=0,A,C=-1;A=_.exec(m);){switch(A[0]){case"\\cell":var I=m.slice(E,_.lastIndex-A[0].length);if(I[0]==" "&&(I=I.slice(1)),++C,I.length){var b={v:I,t:"s"};Array.isArray(u)?u[v][C]=b:u[ft({r:v,c:C})]=b}break}E=_.lastIndex}C>p.e.c&&(p.e.c=C)}),u["!ref"]=Mt(p),u}function r(i,a){return za(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],l=kr(i["!ref"]),u,g=Array.isArray(i),p=l.s.r;p<=l.e.r;++p){a.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)a.push("\\cellx"+(m+1));for(a.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var v=ft({r:p,c:m});u=g?(i[p]||[])[m]:i[v],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||($s(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function SL(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function H0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function TL(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),l=i-a;if(l===0)return[0,0,t];var u=0,g=0,p=i+a;switch(g=l/(p>1?2-p:p),i){case t:u=((r-n)/l+6)%6;break;case r:u=(n-t)/l+2;break;case n:u=(t-r)/l+4;break}return[u/6,g,p/2]}function kL(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,l=[a,a,a],u=6*t,g;if(r!==0)switch(u|0){case 0:case 6:g=i*u,l[0]+=i,l[1]+=g;break;case 1:g=i*(2-u),l[0]+=g,l[1]+=i;break;case 2:g=i*(u-2),l[1]+=i,l[2]+=g;break;case 3:g=i*(4-u),l[1]+=g,l[2]+=i;break;case 4:g=i*(u-4),l[2]+=i,l[0]+=g;break;case 5:g=i*(6-u),l[2]+=g,l[0]+=i;break}for(var p=0;p!=3;++p)l[p]=Math.round(l[p]*255);return l}function Sh(e,t){if(t===0)return e;var r=TL(SL(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),H0(kL(r))}var _S=6,bL=15,IL=1,Ln=_S;function Th(e){return Math.floor((e+Math.round(128/Ln)/256)*Ln)}function kh(e){return Math.floor((e-5)/Ln*100+.5)/100}function tp(e){return Math.round((e*Ln+5)/Ln*256)/256}function E1(e){return tp(kh(Th(e)))}function bm(e){var t=Math.abs(e-E1(e)),r=Ln;if(t>.005)for(Ln=IL;Ln<bL;++Ln)Math.abs(e-E1(e))<=t&&(t=Math.abs(e-E1(e)),r=Ln);Ln=r}function Gl(e){e.width?(e.wpx=Th(e.width),e.wch=kh(e.wpx),e.MDW=Ln):e.wpx?(e.wch=kh(e.wpx),e.width=tp(e.wch),e.MDW=Ln):typeof e.wch=="number"&&(e.width=tp(e.wch),e.wpx=Th(e.width),e.MDW=Ln),e.customWidth&&delete e.customWidth}var RL=96,ES=RL;function CS(e){return e*96/ES}function z0(e){return e*ES/96}var NL={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function OL(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Dn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},u.diagonalUp&&(i.diagonalUp=pr(u.diagonalUp)),u.diagonalDown&&(i.diagonalDown=pr(u.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in borders")}})}function DL(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Dn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":u.patternType&&(i.patternType=u.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),u.indexed&&(i.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(i.bgColor.theme=parseInt(u.theme,10)),u.tint&&(i.bgColor.tint=parseFloat(u.tint)),u.rgb&&(i.bgColor.rgb=u.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),u.theme&&(i.fgColor.theme=parseInt(u.theme,10)),u.tint&&(i.fgColor.tint=parseFloat(u.tint)),u.rgb!=null&&(i.fgColor.rgb=u.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fills")}})}function FL(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Dn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":u.val&&(i.name=ar(u.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=u.val?pr(u.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=u.val?pr(u.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(u.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=u.val?pr(u.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=u.val?pr(u.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=u.val?pr(u.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=u.val?pr(u.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=u.val?pr(u.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":u.val&&(i.sz=+u.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":u.val&&(i.vertAlign=u.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":u.val&&(i.family=parseInt(u.val,10));break;case"<family/>":case"</family>":break;case"<scheme":u.val&&(i.scheme=u.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(u.val=="1")break;u.codepage=um[parseInt(u.val,10)];break;case"<color":if(i.color||(i.color={}),u.auto&&(i.color.auto=pr(u.auto)),u.rgb)i.color.rgb=u.rgb.slice(-6);else if(u.indexed){i.color.index=parseInt(u.indexed,10);var g=po[i.color.index];i.color.index==81&&(g=po[1]),g||(g=po[1]),i.color.rgb=g[0].toString(16)+g[1].toString(16)+g[2].toString(16)}else u.theme&&(i.color.theme=parseInt(u.theme,10),u.tint&&(i.color.tint=parseFloat(u.tint)),u.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=Sh(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fonts")}})}function PL(e,t,r){t.NumberFmt=[];for(var n=Cs(xt),i=0;i<n.length;++i)t.NumberFmt[n[i]]=xt[n[i]];var a=e[0].match(Dn);if(a)for(i=0;i<a.length;++i){var l=lt(a[i]);switch(Ss(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var u=jt(ar(l.formatCode)),g=parseInt(l.numFmtId,10);if(t.NumberFmt[g]=u,g>0){if(g>392){for(g=392;g>60&&t.NumberFmt[g]!=null;--g);t.NumberFmt[g]=u}go(u,g)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var Ju=["numFmtId","fillId","fontId","borderId","xfId"],ef=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function ML(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Dn)||[]).forEach(function(a){var l=lt(a),u=0;switch(Ss(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],u=0;u<Ju.length;++u)n[Ju[u]]&&(n[Ju[u]]=parseInt(n[Ju[u]],10));for(u=0;u<ef.length;++u)n[ef[u]]&&(n[ef[u]]=pr(n[ef[u]]));if(t.NumberFmt&&n.numFmtId>392){for(u=392;u>60;--u)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[u]){n.numFmtId=u;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var g={};l.vertical&&(g.vertical=l.vertical),l.horizontal&&(g.horizontal=l.horizontal),l.textRotation!=null&&(g.textRotation=l.textRotation),l.indent&&(g.indent=l.indent),l.wrapText&&(g.wrapText=pr(l.wrapText)),n.alignment=g;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var BL=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,g,p){var m={};if(!u)return m;u=u.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var v;return(v=u.match(t))&&PL(v,m,p),(v=u.match(i))&&FL(v,m,g,p),(v=u.match(n))&&DL(v,m,g,p),(v=u.match(a))&&OL(v,m,g,p),(v=u.match(r))&&ML(v,m,p),m}}();function LL(e,t){var r=e.read_shift(2),n=bn(e);return[r,n]}function UL(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=KP(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var u=e.read_shift(1);u>0&&(n.family=u);var g=e.read_shift(1);switch(g>0&&(n.charset=g),e.l++,n.color=YP(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=bn(e),n}var jL=Nn;function WL(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var VL=Nn;function HL(e,t,r){var n={};n.NumberFmt=[];for(var i in xt)n.NumberFmt[i]=xt[i];n.CellXf=[],n.Fonts=[];var a=[],l=!1;return Zs(e,function(g,p,m){switch(m){case 44:n.NumberFmt[g[0]]=g[1],go(g[1],g[0]);break;case 43:n.Fonts.push(g),g.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(g.color.rgb=Sh(t.themeElements.clrScheme[g.color.theme].rgb,g.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(g);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:a.push(m),l=!0;break;case 38:a.pop(),l=!1;break;default:if(p.T>0)a.push(m);else if(p.T<0)a.pop();else if(!l||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}var zL=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function GL(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Dn)||[]).forEach(function(i){var a=lt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[zL.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function XL(){}function $L(){}var YL=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,KL=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,qL=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ZL(e,t,r){t.themeElements={};var n;[["clrScheme",YL,GL],["fontScheme",KL,XL],["fmtScheme",qL,$L]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var QL=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function AS(e,t){(!e||e.length===0)&&(e=JL());var r,n={};if(!(r=e.match(QL)))throw new Error("themeElements not found in theme");return ZL(r[0],n,t),n.raw=e,n}function JL(e,t){var r=[P4];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function eU(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var l;try{l=F4(a,{type:"array"})}catch{return}var u=gi(l,"theme/theme/theme1.xml",!0);if(u)return AS(u,r)}}function tU(e){return e.read_shift(4)}function rU(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=nU(e,4);break;case 2:t.xclrValue=uS(e);break;case 3:t.xclrValue=tU(e);break;case 4:e.l+=4;break}return e.l+=8,t}function nU(e,t){return Nn(e,t)}function iU(e,t){return Nn(e,t)}function sU(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=rU(e);break;case 6:n[1]=iU(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function aU(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(sU(e,r-e.l));return{ixfe:n,ext:a}}function oU(e,t){t.forEach(function(r){switch(r[0]){}})}function lU(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:bn(e)}}function cU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function uU(e){return e.l+=4,e.read_shift(4)!=0}function fU(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],l=!1,u=2;return Zs(e,function(g,p,m){switch(m){case 335:n.Types.push({name:g.name});break;case 51:g.forEach(function(v){u==1?n.Cell.push({type:n.Types[v[0]-1].name,index:v[1]}):u==0&&n.Value.push({type:n.Types[v[0]-1].name,index:v[1]})});break;case 337:u=g?1:0;break;case 338:u=2;break;case 35:a.push(m),l=!0;break;case 36:a.pop(),l=!1;break;default:if(!p.T){if(!l||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function hU(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,l;return e.replace(Dn,function(u){var g=lt(u);switch(Ss(g[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:g.name});break;case"</metadataType>":break;case"<futureMetadata":for(var p=0;p<n.Types.length;++p)n.Types[p].name==g.name&&(l=n.Types[p]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[g.t-1].name,index:+g.v}):a==0&&n.Value.push({type:n.Types[g.t-1].name,index:+g.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+g.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+g[0]+" in metadata")}return u}),n}function dU(e){var t=[];if(!e)return t;var r=1;return(e.match(Dn)||[]).forEach(function(n){var i=lt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function gU(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ft(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function pU(e,t,r){var n=[];return Zs(e,function(a,l,u){switch(u){case 63:n.push(a);break;default:if(!l.T)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function xU(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Zs(e,function(u,g,p){switch(p){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!g.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}},i)}function mU(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function Sy(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(l){var u=jn(l.ref);if(i?(e[u.r]||(e[u.r]=[]),a=e[u.r][u.c]):a=e[l.ref],!a){a={t:"z"},i?e[u.r][u.c]=a:e[l.ref]=a;var g=kr(e["!ref"]||"BDWGO1000001:A1");g.s.r>u.r&&(g.s.r=u.r),g.e.r<u.r&&(g.e.r=u.r),g.s.c>u.c&&(g.s.c=u.c),g.e.c<u.c&&(g.e.c=u.c);var p=Mt(g);p!==e["!ref"]&&(e["!ref"]=p)}a.c||(a.c=[]);var m={a:l.author,t:l.t,r:l.r,T:r};l.h&&(m.h=l.h);for(var v=a.c.length-1;v>=0;--v){if(!r&&a.c[v].T)return;r&&!a.c[v].T&&a.c.splice(v,1)}if(r&&n){for(v=0;v<n.length;++v)if(m.a==n[v].id){m.a=n[v].name||m.a;break}}a.c.push(m)})}function wU(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&r.push(u[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?comment[^>]*>/);if(u){var g=lt(u[0]),p={author:g.authorId&&r[g.authorId]||"sheetjsghost",ref:g.ref,guid:g.guid},m=jn(g.ref);if(!(t.sheetRows&&t.sheetRows<=m.r)){var v=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),_=!!v&&!!v[1]&&km(v[1])||{r:"",t:"",h:""};p.r=_.r,_.r=="<t></t>"&&(_.t=_.h=""),p.t=(_.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(p.h=_.h),n.push(p)}}}}),n}function vU(e,t){var r=[],n=!1,i={},a=0;return e.replace(Dn,function(u,g){var p=lt(u);switch(Ss(p[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:p.personId,guid:p.id,ref:p.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=g+u.length;break;case"</text>":i.t=e.slice(a,g).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+p[0]+" in threaded comments")}return u}),r}function yU(e,t){var r=[],n=!1;return e.replace(Dn,function(a){var l=lt(a);switch(Ss(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),r}function _U(e){var t={};t.iauthor=e.read_shift(4);var r=Vo(e);return t.rfx=r.s,t.ref=ft(r.s),e.l+=16,t}var EU=bn;function CU(e,t){var r=[],n=[],i={},a=!1;return Zs(e,function(u,g,p){switch(p){case 632:n.push(u);break;case 635:i=u;break;case 637:i.t=u.t,i.h=u.h,i.r=u.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!g.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}),r}var AU="application/vnd.ms-office.vbaProject";function SU(e){var t=Pt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pt.utils.cfb_add(t,i,e.FileIndex[n].content)}}),Pt.write(t)}function TU(){return{"!type":"dialog"}}function kU(){return{"!type":"dialog"}}function bU(){return{"!type":"macro"}}function IU(){return{"!type":"macro"}}var kl=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,l){var u=!1,g=!1;a.length==0?g=!0:a.charAt(0)=="["&&(g=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var p=a.length>0?parseInt(a,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return u?m+=t.c:--m,g?p+=t.r:--p,i+(u?"":"$")+Kr(m)+(g?"":"$")+mn(p)}return function(i,a){return t=a,i.replace(e,r)}}(),SS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,RU=function(){return function(t,r){return t.replace(SS,function(n,i,a,l,u,g){var p=_m(l)-(a?0:r.c),m=ym(g)-(u?0:r.r),v=m==0?"":u?m+1:"["+m+"]",_=p==0?"":a?p+1:"["+p+"]";return i+"R"+v+"C"+_})}}();function TS(e,t){return e.replace(SS,function(r,n,i,a,l,u){return n+(i=="$"?i+a:Kr(_m(a)+t.c))+(l=="$"?l+u:mn(ym(u)+t.r))})}function NU(e,t,r){var n=sc(t),i=n.s,a=jn(r),l={r:a.r-i.r,c:a.c-i.c};return TS(e,l)}function OU(e){return e.length!=1}function Ty(e){return e.replace(/_xlfn\./g,"")}function Mr(e){e.l+=1}function ja(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function kS(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return bS(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),l=ja(e),u=ja(e);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function bS(e){var t=ja(e),r=ja(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function DU(e,t,r){if(r.biff<8)return bS(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=ja(e),l=ja(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function IS(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return FU(e);var n=e.read_shift(r&&r.biff==12?4:2),i=ja(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function FU(e){var t=ja(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function PU(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function MU(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return BU(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;i>524287;)i-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:l,rRel:u}}function BU(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function LU(e,t,r){var n=(e[e.l++]&96)>>5,i=kS(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function UU(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var l=kS(e,a,r);return[n,i,l]}function jU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function WU(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function VU(e,t,r){var n=(e[e.l++]&96)>>5,i=DU(e,t-1,r);return[n,i]}function HU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ky(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function zU(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function GU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function XU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function $U(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function YU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function RS(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function KU(e){return e.read_shift(2),RS(e)}function qU(e){return e.read_shift(2),RS(e)}function ZU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=IS(e,0,r);return[n,i]}function QU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=MU(e,0,r);return[n,i]}function JU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=IS(e,0,r);return[n,i,a]}function ej(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[tW[i],DS[i],n]}function tj(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:rj(e);return[i,(a[0]===0?DS:eW)[a[1]]]}function rj(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nj(e,t,r){e.l+=r&&r.biff==2?3:4}function ij(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function sj(e){return e.l++,Ho[e.read_shift(1)]}function aj(e){return e.l++,e.read_shift(2)}function oj(e){return e.l++,e.read_shift(1)!==0}function lj(e){return e.l++,Tn(e)}function cj(e,t,r){return e.l++,pu(e,t-1,r)}function uj(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ir(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ho[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Tn(e);break;case 2:r[1]=zo(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fj(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Vo:hd)(e));return i}function hj(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var u=0;u!=i;++u)l[a][u]=uj(e,r.biff);return l}function dj(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function gj(e,t,r){if(r.biff==5)return pj(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function pj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function xj(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function mj(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function wj(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function vj(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var yj=Nn,_j=Nn,Ej=Nn;function mu(e,t,r){return e.l+=2,[PU(e)]}function Im(e){return e.l+=6,[]}var Cj=mu,Aj=Im,Sj=Im,Tj=mu;function NS(e){return e.l+=2,[Ur(e),e.read_shift(2)&1]}var kj=mu,bj=NS,Ij=Im,Rj=mu,Nj=mu,Oj=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Dj(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),l=Oj[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:i,C:a}}function Fj(e){return e.l+=2,[e.read_shift(4)]}function Pj(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Mj(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Bj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Lj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Uj(e){return e.l+=4,[0,0]}var by={1:{n:"PtgExp",f:ij},2:{n:"PtgTbl",f:Ej},3:{n:"PtgAdd",f:Mr},4:{n:"PtgSub",f:Mr},5:{n:"PtgMul",f:Mr},6:{n:"PtgDiv",f:Mr},7:{n:"PtgPower",f:Mr},8:{n:"PtgConcat",f:Mr},9:{n:"PtgLt",f:Mr},10:{n:"PtgLe",f:Mr},11:{n:"PtgEq",f:Mr},12:{n:"PtgGe",f:Mr},13:{n:"PtgGt",f:Mr},14:{n:"PtgNe",f:Mr},15:{n:"PtgIsect",f:Mr},16:{n:"PtgUnion",f:Mr},17:{n:"PtgRange",f:Mr},18:{n:"PtgUplus",f:Mr},19:{n:"PtgUminus",f:Mr},20:{n:"PtgPercent",f:Mr},21:{n:"PtgParen",f:Mr},22:{n:"PtgMissArg",f:Mr},23:{n:"PtgStr",f:cj},26:{n:"PtgSheet",f:Pj},27:{n:"PtgEndSheet",f:Mj},28:{n:"PtgErr",f:sj},29:{n:"PtgBool",f:oj},30:{n:"PtgInt",f:aj},31:{n:"PtgNum",f:lj},32:{n:"PtgArray",f:HU},33:{n:"PtgFunc",f:ej},34:{n:"PtgFuncVar",f:tj},35:{n:"PtgName",f:dj},36:{n:"PtgRef",f:ZU},37:{n:"PtgArea",f:LU},38:{n:"PtgMemArea",f:xj},39:{n:"PtgMemErr",f:yj},40:{n:"PtgMemNoMem",f:_j},41:{n:"PtgMemFunc",f:mj},42:{n:"PtgRefErr",f:wj},43:{n:"PtgAreaErr",f:jU},44:{n:"PtgRefN",f:QU},45:{n:"PtgAreaN",f:VU},46:{n:"PtgMemAreaN",f:Bj},47:{n:"PtgMemNoMemN",f:Lj},57:{n:"PtgNameX",f:gj},58:{n:"PtgRef3d",f:JU},59:{n:"PtgArea3d",f:UU},60:{n:"PtgRefErr3d",f:vj},61:{n:"PtgAreaErr3d",f:WU},255:{}},jj={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Wj={1:{n:"PtgElfLel",f:NS},2:{n:"PtgElfRw",f:Rj},3:{n:"PtgElfCol",f:Cj},6:{n:"PtgElfRwV",f:Nj},7:{n:"PtgElfColV",f:Tj},10:{n:"PtgElfRadical",f:kj},11:{n:"PtgElfRadicalS",f:Ij},13:{n:"PtgElfColS",f:Aj},15:{n:"PtgElfColSV",f:Sj},16:{n:"PtgElfRadicalLel",f:bj},25:{n:"PtgList",f:Dj},29:{n:"PtgSxName",f:Fj},255:{}},Vj={0:{n:"PtgAttrNoop",f:Uj},1:{n:"PtgAttrSemi",f:YU},2:{n:"PtgAttrIf",f:XU},4:{n:"PtgAttrChoose",f:zU},8:{n:"PtgAttrGoto",f:GU},16:{n:"PtgAttrSum",f:nj},32:{n:"PtgAttrBaxcel",f:ky},33:{n:"PtgAttrBaxcel",f:ky},64:{n:"PtgAttrSpace",f:KU},65:{n:"PtgAttrSpaceSemi",f:qU},128:{n:"PtgAttrIfError",f:$U},255:{}};function wu(e,t,r,n){if(n.biff<8)return Nn(e,t);for(var i=e.l+t,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=hj(e,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=fj(e,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=i-e.l,t!==0&&a.push(Nn(e,t)),a}function vu(e,t,r){for(var n=e.l+t,i,a,l=[];n!=e.l;)t=n-e.l,a=e[e.l],i=by[a]||by[jj[a]],(a===24||a===25)&&(i=(a===24?Wj:Vj)[e[e.l+1]]),!i||!i.f?Nn(e,t):l.push([i.n,i.f(e,t,r)]);return l}function Hj(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var zj={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Gj(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function OS(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Iy(e,t,r){var n=OS(e,t,r);return n=="#REF"?n:Gj(n,r)}function An(e,t,r,n,i){var a=i&&i.biff||8,l={s:{c:0,r:0}},u=[],g,p,m,v=0,_=0,E,A="";if(!e[0]||!e[0][0])return"";for(var C=-1,I="",b=0,k=e[0].length;b<k;++b){var S=e[0][b];switch(S[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(g=u.pop(),p=u.pop(),C>=0){switch(e[0][C][1][0]){case 0:I=Ar(" ",e[0][C][1][1]);break;case 1:I=Ar("\r",e[0][C][1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}p=p+I,C=-1}u.push(p+zj[S[0]]+g);break;case"PtgIsect":g=u.pop(),p=u.pop(),u.push(p+" "+g);break;case"PtgUnion":g=u.pop(),p=u.pop(),u.push(p+","+g);break;case"PtgRange":g=u.pop(),p=u.pop(),u.push(p+":"+g);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=e0(S[1][1],l,i),u.push(t0(m,a));break;case"PtgRefN":m=r?e0(S[1][1],r,i):S[1][1],u.push(t0(m,a));break;case"PtgRef3d":v=S[1][1],m=e0(S[1][2],l,i),A=Iy(n,v,i),u.push(A+"!"+t0(m,a));break;case"PtgFunc":case"PtgFuncVar":var B=S[1][0],K=S[1][1];B||(B=0),B&=127;var G=B==0?[]:u.slice(-B);u.length-=B,K==="User"&&(K=G.shift()),u.push(K+"("+G.join(",")+")");break;case"PtgBool":u.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(S[1]);break;case"PtgNum":u.push(String(S[1]));break;case"PtgStr":u.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(S[1]);break;case"PtgAreaN":E=cy(S[1][1],r?{s:r}:l,i),u.push(y1(E,i));break;case"PtgArea":E=cy(S[1][1],l,i),u.push(y1(E,i));break;case"PtgArea3d":v=S[1][1],E=S[1][2],A=Iy(n,v,i),u.push(A+"!"+y1(E,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=S[1][2];var F=(n.names||[])[_-1]||(n[0]||[])[_],q=F?F.Name:"SH33TJSNAME"+String(_);q&&q.slice(0,6)=="_xlfn."&&!i.xlfn&&(q=q.slice(6)),u.push(q);break;case"PtgNameX":var W=S[1][1];_=S[1][2];var ce;if(i.biff<=5)W<0&&(W=-W),n[W]&&(ce=n[W][_]);else{var ue="";if(((n[W]||[])[0]||[])[0]==14849||(((n[W]||[])[0]||[])[0]==1025?n[W][_]&&n[W][_].itab>0&&(ue=n.SheetNames[n[W][_].itab-1]+"!"):ue=n.SheetNames[_-1]+"!"),n[W]&&n[W][_])ue+=n[W][_].Name;else if(n[0]&&n[0][_])ue+=n[0][_].Name;else{var Z=(OS(n,W,i)||"").split(";;");Z[_-1]?ue=Z[_-1]:ue+="SH33TJSERRX"}u.push(ue);break}ce||(ce={Name:"SH33TJSERRY"}),u.push(ce.Name);break;case"PtgParen":var Ee="(",Se=")";if(C>=0){switch(I="",e[0][C][1][0]){case 2:Ee=Ar(" ",e[0][C][1][1])+Ee;break;case 3:Ee=Ar("\r",e[0][C][1][1])+Ee;break;case 4:Se=Ar(" ",e[0][C][1][1])+Se;break;case 5:Se=Ar("\r",e[0][C][1][1])+Se;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}C=-1}u.push(Ee+u.pop()+Se);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:S[1][1],r:S[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[ft(m)]){var Fe=n.sharedf[ft(m)];u.push(An(Fe,l,ee,n,i))}else{var Ce=!1;for(g=0;g!=n.arrayf.length;++g)if(p=n.arrayf[g],!(m.c<p[0].s.c||m.c>p[0].e.c)&&!(m.r<p[0].s.r||m.r>p[0].e.r)){u.push(An(p[1],l,ee,n,i)),Ce=!0;break}Ce||u.push(S[1])}break;case"PtgArray":u.push("{"+Hj(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var ke=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&C>=0&&ke.indexOf(e[0][b][0])==-1){S=e[0][C];var ne=!0;switch(S[1][0]){case 4:ne=!1;case 0:I=Ar(" ",S[1][1]);break;case 5:ne=!1;case 1:I=Ar("\r",S[1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}u.push((ne?I:"")+u.pop()+(ne?"":I)),C=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function Xj(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],Nn(e,t-2)];var u=vu(e,l,r);return t!==l+i&&(a=wu(e,t-l-i,u,r)),e.l=n,[u,a]}function $j(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],Nn(e,t-2)];var u=vu(e,l,r);return t!==l+i&&(a=wu(e,t-l-i,u,r)),e.l=n,[u,a]}function Yj(e,t,r,n){var i=e.l+t,a=vu(e,n,r),l;return i!==e.l&&(l=wu(e,i-e.l,a,r)),[a,l]}function Kj(e,t,r){var n=e.l+t,i,a=e.read_shift(2),l=vu(e,a,r);return a==65535?[[],Nn(e,t-2)]:(t!==a+2&&(i=wu(e,n-a-2,l,r)),[l,i])}function qj(e){var t;if(Fs(e,e.l+6)!==65535)return[Tn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function C1(e,t,r){var n=e.l+t,i=Ts(e);r.biff==2&&++e.l;var a=qj(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var u=$j(e,n-e.l,r);return{cell:i,val:a[0],formula:u,shared:l>>3&1,tt:a[1]}}function dd(e,t,r){var n=e.read_shift(4),i=vu(e,n,r),a=e.read_shift(4),l=a>0?wu(e,a,i,r):null;return[i,l]}var Zj=dd,gd=dd,Qj=dd,Jj=dd,eW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},DS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Ry(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function A1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var s0={},bl={};function a0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function FS(e,t,r,n,i,a){try{n.cellNF&&(e.z=xt[t])}catch(u){if(n.WTF)throw u}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=an(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(xt[t]==null&&go(rP[t]||"General",t),e.t==="e")e.w=e.w||Ho[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v);else if(e.t==="d"){var l=Gn(e.v);(l|0)===l?e.w=l.toString(10):e.w=U0(l)}else{if(e.v===void 0)return"";e.w=ko(e.v,bl)}else e.t==="d"?e.w=Wi(t,Gn(e.v),bl):e.w=Wi(t,e.v,bl)}catch(u){if(n.WTF)throw u}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Sh(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Sh(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(n.WTF&&a.Fills)throw u}}}function rW(e,t){var r=kr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Mt(r))}var nW=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,iW=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,sW=/<(?:\w:)?hyperlink [^>]*>/mg,aW=/"(\w*:\w*)"/,oW=/<(?:\w:)?col\b[^>]*[\/]?>/g,lW=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,cW=/<(?:\w:)?pageMargins[^>]*\/>/g,PS=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,uW=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,fW=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function hW(e,t,r,n,i,a,l){if(!e)return e;n||(n={"!id":{}});var u=t.dense?[]:{},g={s:{r:2e6,c:2e6},e:{r:0,c:0}},p="",m="",v=e.match(iW);v?(p=e.slice(0,v.index),m=e.slice(v.index+v[0].length)):p=m=e;var _=p.match(PS);_?Rm(_[0],u,i,r):(_=p.match(uW))&&dW(_[0],_[1]||"",u,i,r);var E=(p.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(E>0){var A=p.slice(E,E+50).match(aW);A&&rW(u,A[1])}var C=p.match(fW);C&&C[1]&&vW(C[1],i);var I=[];if(t.cellStyles){var b=p.match(oW);b&&xW(I,b)}v&&yW(v[1],u,t,g,a,l);var k=m.match(lW);k&&(u["!autofilter"]=mW(k[0]));var S=[],B=m.match(nW);if(B)for(E=0;E!=B.length;++E)S[E]=kr(B[E].slice(B[E].indexOf('"')+1));var K=m.match(sW);K&&gW(u,K,n);var G=m.match(cW);if(G&&(u["!margins"]=pW(lt(G[0]))),!u["!ref"]&&g.e.c>=g.s.c&&g.e.r>=g.s.r&&(u["!ref"]=Mt(g)),t.sheetRows>0&&u["!ref"]){var F=kr(u["!ref"]);t.sheetRows<=+F.e.r&&(F.e.r=t.sheetRows-1,F.e.r>g.e.r&&(F.e.r=g.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>g.e.c&&(F.e.c=g.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Mt(F))}return I.length>0&&(u["!cols"]=I),S.length>0&&(u["!merges"]=S),u}function Rm(e,t,r,n){var i=lt(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=jt(ar(i.codeName)))}function dW(e,t,r,n,i){Rm(e.slice(0,e.indexOf(">")),r,n,i)}function gW(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=lt(ar(t[i]),!0);if(!a.ref)return;var l=((r||{})["!id"]||[])[a.id];l?(a.Target=l.Target,a.location&&(a.Target+="#"+jt(a.location))):(a.Target="#"+jt(a.location),l={Target:a.Target,TargetMode:"Internal"}),a.Rel=l,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var u=kr(a.ref),g=u.s.r;g<=u.e.r;++g)for(var p=u.s.c;p<=u.e.c;++p){var m=ft({c:p,r:g});n?(e[g]||(e[g]=[]),e[g][p]||(e[g][p]={t:"z",v:void 0}),e[g][p].l=a):(e[m]||(e[m]={t:"z",v:void 0}),e[m].l=a)}}}function pW(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function xW(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=lt(t[n],!0);i.hidden&&(i.hidden=pr(i.hidden));var a=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,bm(i.width)),Gl(i);a<=l;)e[a++]=xn(i)}}function mW(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var wW=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function vW(e,t){t.Views||(t.Views=[{}]),(e.match(wW)||[]).forEach(function(r,n){var i=lt(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),pr(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var yW=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=j0("v"),l=j0("f");return function(g,p,m,v,_,E){for(var A=0,C="",I=[],b=[],k=0,S=0,B=0,K="",G,F,q=0,W=0,ce,ue,Z=0,Ee=0,Se=Array.isArray(E.CellXf),ee,Fe=[],Ce=[],ke=Array.isArray(p),ne=[],be={},oe=!1,U=!!m.sheetStubs,ae=g.split(t),Q=0,re=ae.length;Q!=re;++Q){C=ae[Q].trim();var ie=C.length;if(ie!==0){var Pe=0;e:for(A=0;A<ie;++A)switch(C[A]){case">":if(C[A-1]!="/"){++A;break e}if(m&&m.cellStyles){if(F=lt(C.slice(Pe,A),!0),q=F.r!=null?parseInt(F.r,10):q+1,W=-1,m.sheetRows&&m.sheetRows<q)continue;be={},oe=!1,F.ht&&(oe=!0,be.hpt=parseFloat(F.ht),be.hpx=z0(be.hpt)),F.hidden=="1"&&(oe=!0,be.hidden=!0),F.outlineLevel!=null&&(oe=!0,be.level=+F.outlineLevel),oe&&(ne[q-1]=be)}break;case"<":Pe=A;break}if(Pe>=A)break;if(F=lt(C.slice(Pe,A),!0),q=F.r!=null?parseInt(F.r,10):q+1,W=-1,!(m.sheetRows&&m.sheetRows<q)){v.s.r>q-1&&(v.s.r=q-1),v.e.r<q-1&&(v.e.r=q-1),m&&m.cellStyles&&(be={},oe=!1,F.ht&&(oe=!0,be.hpt=parseFloat(F.ht),be.hpx=z0(be.hpt)),F.hidden=="1"&&(oe=!0,be.hidden=!0),F.outlineLevel!=null&&(oe=!0,be.level=+F.outlineLevel),oe&&(ne[q-1]=be)),I=C.slice(A).split(e);for(var Ae=0;Ae!=I.length&&I[Ae].trim().charAt(0)=="<";++Ae);for(I=I.slice(Ae),A=0;A!=I.length;++A)if(C=I[A].trim(),C.length!==0){if(b=C.match(r),k=A,S=0,B=0,C="<c "+(C.slice(0,1)=="<"?">":"")+C,b!=null&&b.length===2){for(k=0,K=b[1],S=0;S!=K.length&&!((B=K.charCodeAt(S)-64)<1||B>26);++S)k=26*k+B;--k,W=k}else++W;for(S=0;S!=C.length&&C.charCodeAt(S)!==62;++S);if(++S,F=lt(C.slice(0,S),!0),F.r||(F.r=ft({r:q-1,c:W})),K=C.slice(S),G={t:""},(b=K.match(a))!=null&&b[1]!==""&&(G.v=jt(b[1])),m.cellFormula){if((b=K.match(l))!=null&&b[1]!==""){if(G.f=jt(ar(b[1])).replace(/\r\n/g,`
`),m.xlfn||(G.f=Ty(G.f)),b[0].indexOf('t="array"')>-1)G.F=(K.match(i)||[])[1],G.F.indexOf(":")>-1&&Fe.push([kr(G.F),G.F]);else if(b[0].indexOf('t="shared"')>-1){ue=lt(b[0]);var Me=jt(ar(b[1]));m.xlfn||(Me=Ty(Me)),Ce[parseInt(ue.si,10)]=[ue,Me,F.r]}}else(b=K.match(/<f[^>]*\/>/))&&(ue=lt(b[0]),Ce[ue.si]&&(G.f=NU(Ce[ue.si][1],Ce[ue.si][2],F.r)));var Re=jn(F.r);for(S=0;S<Fe.length;++S)Re.r>=Fe[S][0].s.r&&Re.r<=Fe[S][0].e.r&&Re.c>=Fe[S][0].s.c&&Re.c<=Fe[S][0].e.c&&(G.F=Fe[S][1])}if(F.t==null&&G.v===void 0)if(G.f||G.F)G.v=0,G.t="n";else if(U)G.t="z";else continue;else G.t=F.t||"n";switch(v.s.c>W&&(v.s.c=W),v.e.c<W&&(v.e.c=W),G.t){case"n":if(G.v==""||G.v==null){if(!U)continue;G.t="z"}else G.v=parseFloat(G.v);break;case"s":if(typeof G.v>"u"){if(!U)continue;G.t="z"}else ce=s0[parseInt(G.v,10)],G.v=ce.t,G.r=ce.r,m.cellHTML&&(G.h=ce.h);break;case"str":G.t="s",G.v=G.v!=null?ar(G.v):"",m.cellHTML&&(G.h=mm(G.v));break;case"inlineStr":b=K.match(n),G.t="s",b!=null&&(ce=km(b[1]))?(G.v=ce.t,m.cellHTML&&(G.h=ce.h)):G.v="";break;case"b":G.v=pr(G.v);break;case"d":m.cellDates?G.v=an(G.v,1):(G.v=Gn(an(G.v,1)),G.t="n");break;case"e":(!m||m.cellText!==!1)&&(G.w=G.v),G.v=rS[G.v];break}if(Z=Ee=0,ee=null,Se&&F.s!==void 0&&(ee=E.CellXf[F.s],ee!=null&&(ee.numFmtId!=null&&(Z=ee.numFmtId),m.cellStyles&&ee.fillId!=null&&(Ee=ee.fillId))),FS(G,Z,Ee,m,_,E),m.cellDates&&Se&&G.t=="n"&&ic(xt[Z])&&(G.t="d",G.v=fd(G.v)),F.cm&&m.xlmeta){var tt=(m.xlmeta.Cell||[])[+F.cm-1];tt&&tt.type=="XLDAPR"&&(G.D=!0)}if(ke){var Y=jn(F.r);p[Y.r]||(p[Y.r]=[]),p[Y.r][Y.c]=G}else p[F.r]=G}}}}ne.length>0&&(p["!rows"]=ne)}}();function _W(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var EW=Vo;function CW(){}function AW(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=XP(e),r}function SW(e){var t=Vi(e);return[t]}function TW(e){var t=Wo(e);return[t]}function kW(e){var t=Vi(e),r=e.read_shift(1);return[t,r,"b"]}function bW(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"b"]}function IW(e){var t=Vi(e),r=e.read_shift(1);return[t,r,"e"]}function RW(e){var t=Wo(e),r=e.read_shift(1);return[t,r,"e"]}function NW(e){var t=Vi(e),r=e.read_shift(4);return[t,r,"s"]}function OW(e){var t=Wo(e),r=e.read_shift(4);return[t,r,"s"]}function DW(e){var t=Vi(e),r=Tn(e);return[t,r,"n"]}function MS(e){var t=Wo(e),r=Tn(e);return[t,r,"n"]}function FW(e){var t=Vi(e),r=Am(e);return[t,r,"n"]}function PW(e){var t=Wo(e),r=Am(e);return[t,r,"n"]}function MW(e){var t=Vi(e),r=Em(e);return[t,r,"is"]}function BW(e){var t=Vi(e),r=bn(e);return[t,r,"str"]}function LW(e){var t=Wo(e),r=bn(e);return[t,r,"str"]}function UW(e,t,r){var n=e.l+t,i=Vi(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"b"];if(r.cellFormula){e.l+=2;var u=gd(e,n-e.l,r);l[3]=An(u,null,i,r.supbooks,r)}else e.l=n;return l}function jW(e,t,r){var n=e.l+t,i=Vi(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"e"];if(r.cellFormula){e.l+=2;var u=gd(e,n-e.l,r);l[3]=An(u,null,i,r.supbooks,r)}else e.l=n;return l}function WW(e,t,r){var n=e.l+t,i=Vi(e);i.r=r["!row"];var a=Tn(e),l=[i,a,"n"];if(r.cellFormula){e.l+=2;var u=gd(e,n-e.l,r);l[3]=An(u,null,i,r.supbooks,r)}else e.l=n;return l}function VW(e,t,r){var n=e.l+t,i=Vi(e);i.r=r["!row"];var a=bn(e),l=[i,a,"str"];if(r.cellFormula){e.l+=2;var u=gd(e,n-e.l,r);l[3]=An(u,null,i,r.supbooks,r)}else e.l=n;return l}var HW=Vo;function zW(e,t){var r=e.l+t,n=Vo(e),i=Cm(e),a=bn(e),l=bn(e),u=bn(e);e.l=r;var g={rfx:n,relId:i,loc:a,display:u};return l&&(g.Tooltip=l),g}function GW(){}function XW(e,t,r){var n=e.l+t,i=J4(e),a=e.read_shift(1),l=[i];if(l[2]=a,r.cellFormula){var u=Zj(e,n-e.l,r);l[1]=u}else e.l=n;return l}function $W(e,t,r){var n=e.l+t,i=Vo(e),a=[i];if(r.cellFormula){var l=Jj(e,n-e.l,r);a[1]=l,e.l=n}else e.l=n;return a}var YW=["left","right","top","bottom","header","footer"];function KW(e){var t={};return YW.forEach(function(r){t[r]=Tn(e)}),t}function qW(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ZW(){}function QW(){}function JW(e,t,r,n,i,a,l){if(!e)return e;var u=t||{};n||(n={"!id":{}});var g=u.dense?[]:{},p,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=!1,_=!1,E,A,C,I,b,k,S,B,K,G=[];u.biff=12,u["!row"]=0;var F=0,q=!1,W=[],ce={},ue=u.supbooks||i.supbooks||[[]];if(ue.sharedf=ce,ue.arrayf=W,ue.SheetNames=i.SheetNames||i.Sheets.map(function(ke){return ke.name}),!u.supbooks&&(u.supbooks=ue,i.Names))for(var Z=0;Z<i.Names.length;++Z)ue[0][Z+1]=i.Names[Z];var Ee=[],Se=[],ee=!1;bh[16]={n:"BrtShortReal",f:MS};var Fe;if(Zs(e,function(ne,be,oe){if(!_)switch(oe){case 148:p=ne;break;case 0:E=ne,u.sheetRows&&u.sheetRows<=E.r&&(_=!0),B=mn(I=E.r),u["!row"]=E.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=z0(ne.hpt)),Se[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(A={t:ne[2]},ne[2]){case"n":A.v=ne[1];break;case"s":S=s0[ne[1]],A.v=S.t,A.r=S.r;break;case"b":A.v=!!ne[1];break;case"e":A.v=ne[1],u.cellText!==!1&&(A.w=Ho[A.v]);break;case"str":A.t="s",A.v=ne[1];break;case"is":A.t="s",A.v=ne[1].t;break}if((C=l.CellXf[ne[0].iStyleRef])&&FS(A,C.numFmtId,null,u,a,l),b=ne[0].c==-1?b+1:ne[0].c,u.dense?(g[I]||(g[I]=[]),g[I][b]=A):g[Kr(b)+B]=A,u.cellFormula){for(q=!1,F=0;F<W.length;++F){var U=W[F];E.r>=U[0].s.r&&E.r<=U[0].e.r&&b>=U[0].s.c&&b<=U[0].e.c&&(A.F=Mt(U[0]),q=!0)}!q&&ne.length>3&&(A.f=ne[3])}if(m.s.r>E.r&&(m.s.r=E.r),m.s.c>b&&(m.s.c=b),m.e.r<E.r&&(m.e.r=E.r),m.e.c<b&&(m.e.c=b),u.cellDates&&C&&A.t=="n"&&ic(xt[C.numFmtId])){var ae=co(A.v);ae&&(A.t="d",A.v=new Date(ae.y,ae.m-1,ae.d,ae.H,ae.M,ae.S,ae.u))}Fe&&(Fe.type=="XLDAPR"&&(A.D=!0),Fe=void 0);break;case 1:case 12:if(!u.sheetStubs||v)break;A={t:"z",v:void 0},b=ne[0].c==-1?b+1:ne[0].c,u.dense?(g[I]||(g[I]=[]),g[I][b]=A):g[Kr(b)+B]=A,m.s.r>E.r&&(m.s.r=E.r),m.s.c>b&&(m.s.c=b),m.e.r<E.r&&(m.e.r=E.r),m.e.c<b&&(m.e.c=b),Fe&&(Fe.type=="XLDAPR"&&(A.D=!0),Fe=void 0);break;case 176:G.push(ne);break;case 49:Fe=((u.xlmeta||{}).Cell||[])[ne-1];break;case 494:var Q=n["!id"][ne.relId];for(Q?(ne.Target=Q.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=Q):ne.relId==""&&(ne.Target="#"+ne.loc),I=ne.rfx.s.r;I<=ne.rfx.e.r;++I)for(b=ne.rfx.s.c;b<=ne.rfx.e.c;++b)u.dense?(g[I]||(g[I]=[]),g[I][b]||(g[I][b]={t:"z",v:void 0}),g[I][b].l=ne):(k=ft({c:b,r:I}),g[k]||(g[k]={t:"z",v:void 0}),g[k].l=ne);break;case 426:if(!u.cellFormula)break;W.push(ne),K=u.dense?g[I][b]:g[Kr(b)+B],K.f=An(ne[1],m,{r:E.r,c:b},ue,u),K.F=Mt(ne[0]);break;case 427:if(!u.cellFormula)break;ce[ft(ne[0].s)]=ne[1],K=u.dense?g[I][b]:g[Kr(b)+B],K.f=An(ne[1],m,{r:E.r,c:b},ue,u);break;case 60:if(!u.cellStyles)break;for(;ne.e>=ne.s;)Ee[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},ee||(ee=!0,bm(ne.w/256)),Gl(Ee[ne.e+1]);break;case 161:g["!autofilter"]={ref:Mt(ne)};break;case 476:g["!margins"]=ne;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ne.name&&(i.Sheets[r].CodeName=ne.name),(ne.above||ne.left)&&(g["!outline"]={above:ne.above,left:ne.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ne.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:v=!0;break;case 36:v=!1;break;case 37:v=!0;break;case 38:v=!1;break;default:if(!be.T){if(!v||u.WTF)throw new Error("Unexpected record 0x"+oe.toString(16))}}},u),delete u.supbooks,delete u["!row"],!g["!ref"]&&(m.s.r<2e6||p&&(p.e.r>0||p.e.c>0||p.s.r>0||p.s.c>0))&&(g["!ref"]=Mt(p||m)),u.sheetRows&&g["!ref"]){var Ce=kr(g["!ref"]);u.sheetRows<=+Ce.e.r&&(Ce.e.r=u.sheetRows-1,Ce.e.r>m.e.r&&(Ce.e.r=m.e.r),Ce.e.r<Ce.s.r&&(Ce.s.r=Ce.e.r),Ce.e.c>m.e.c&&(Ce.e.c=m.e.c),Ce.e.c<Ce.s.c&&(Ce.s.c=Ce.e.c),g["!fullref"]=g["!ref"],g["!ref"]=Mt(Ce))}return G.length>0&&(g["!merges"]=G),Ee.length>0&&(g["!cols"]=Ee),Se.length>0&&(g["!rows"]=Se),g}function eV(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var l=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var i=jt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function tV(e,t,r,n,i,a){var l=a||{"!type":"chart"};if(!e)return a;var u=0,g=0,p="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(v){var _=eV(v);m.s.r=m.s.c=0,m.e.c=u,p=Kr(u),_[0].forEach(function(E,A){l[p+mn(A)]={t:"n",v:E,z:_[1]},g=A}),m.e.r<g&&(m.e.r=g),++u}),u>0&&(l["!ref"]=Mt(m)),l}function rV(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l,u=e.match(PS);return u&&Rm(u[0],a,i,r),(l=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=l[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function nV(e,t){e.l+=10;var r=bn(e);return{name:r}}function iV(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Zs(e,function(g,p,m){switch(m){case 550:a["!rel"]=g;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),g.name&&(i.Sheets[r].CodeName=g.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(p.T>0)){if(!(p.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var BS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sV=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],aV=[],oV=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Ny(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=pr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function Oy(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=pr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function LS(e){Oy(e.WBProps,BS),Oy(e.CalcPr,oV),Ny(e.WBView,sV),Ny(e.Sheets,aV),bl.date1904=pr(e.WBProps.date1904)}var lV="][*?/\\".split("");function cV(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return lV.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var uV=/<\w+:workbook/;function fV(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},l=0;if(e.replace(Dn,function(g,p){var m=lt(g);switch(Ss(m[0])){case"<?xml":break;case"<workbook":g.match(uV)&&(i="xmlns"+g.match(/<(\w+):/)[1]),r.xmlns=m[i];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":BS.forEach(function(v){if(m[v[0]]!=null)switch(v[2]){case"bool":r.WBProps[v[0]]=pr(m[v[0]]);break;case"int":r.WBProps[v[0]]=parseInt(m[v[0]],10);break;default:r.WBProps[v[0]]=m[v[0]]}}),m.codeName&&(r.WBProps.CodeName=ar(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=jt(ar(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=ar(m.name),m.comment&&(a.Comment=m.comment),m.localSheetId&&(a.Sheet=+m.localSheetId),pr(m.hidden||"0")&&(a.Hidden=!0),l=p+g.length;break;case"</definedName>":a.Ref=jt(ar(e.slice(l,p))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return g}),IP.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return LS(r),r}function hV(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Qg(e),r.name=bn(e),r}function dV(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?bn(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function gV(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function pV(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=$P(e),l=Qj(e,0,r),u=Cm(e);e.l=n;var g={Name:a,Ptg:l};return i<268435455&&(g.Sheet=i),u&&(g.Comment=u),g}function xV(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],l=[[]];return l.SheetNames=[],l.XTI=[],bh[16]={n:"BrtFRTArchID$",f:gV},Zs(e,function(g,p,m){switch(m){case 156:l.SheetNames.push(g.name),r.Sheets.push(g);break;case 153:r.WBProps=g;break;case 39:g.Sheet!=null&&(t.SID=g.Sheet),g.Ref=An(g.Ptg,null,null,l,t),delete t.SID,delete g.Ptg,a.push(g);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([m,g]):l[0]=[m,g],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(g),l.XTI=l.XTI.concat(g);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(m),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!p.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},t),LS(r),r.Names=a,r.supbooks=l,r}function mV(e,t,r){return t.slice(-4)===".bin"?xV(e,r):fV(e,r)}function wV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?JW(e,n,r,i,a,l,u):hW(e,n,r,i,a,l,u)}function vV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?iV(e,n,r,i,a):rV(e,n,r,i,a)}function yV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?bU():IU()}function _V(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?TU():kU()}function EV(e,t,r,n){return t.slice(-4)===".bin"?HL(e,r,n):BL(e,r,n)}function CV(e,t,r){return AS(e,r)}function AV(e,t,r){return t.slice(-4)===".bin"?sL(e,r):nL(e,r)}function SV(e,t,r){return t.slice(-4)===".bin"?CU(e,r):wU(e,r)}function TV(e,t,r){return t.slice(-4)===".bin"?pU(e):dU(e)}function kV(e,t,r,n){return r.slice(-4)===".bin"?xU(e,t,r,n):void 0}function bV(e,t,r){return t.slice(-4)===".bin"?fU(e,t,r):hU(e,t,r)}var US=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,jS=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Xi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(US),a,l,u,g;if(i)for(g=0;g!=i.length;++g)a=i[g].match(jS),(l=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?u="xmlns"+a[1].slice(6):u=a[1].slice(l+1),n[u]=a[2].slice(1,a[2].length-1));return n}function IV(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(US),i,a,l,u;if(n)for(u=0;u!=n.length;++u)i=n[u].match(jS),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),r[l]=i[2].slice(1,i[2].length-1));return r}var o0;function RV(e,t){var r=o0[e]||jt(e);return r==="General"?ko(t):Wi(r,t)}function NV(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=pr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=an(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[jt(t)]=i}function OV(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Ho[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v):e.w=ko(e.v):e.w=RV(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=o0[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&ic(n)){var i=co(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function DV(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=NL[n.Pattern]||n.Pattern)}e[t.ID]=t}function FV(e,t,r,n,i,a,l,u,g,p){var m="General",v=n.StyleID,_={};p=p||{};var E=[],A=0;for(v===void 0&&u&&(v=u.StyleID),v===void 0&&l&&(v=l.StyleID);a[v]!==void 0&&(a[v].nf&&(m=a[v].nf),a[v].Interior&&E.push(a[v].Interior),!!a[v].Parent);)v=a[v].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=pr(e);break;case"String":n.t="s",n.r=ey(jt(e)),n.v=e.indexOf("<")>-1?jt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(an(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=jt(e):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=rS[e],p.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=ey(t||e));break}if(OV(n,m,p),p.cellFormula!==!1)if(n.Formula){var C=jt(n.Formula);C.charCodeAt(0)==61&&(C=C.slice(1)),n.f=kl(C,i),delete n.Formula,n.ArrayRange=="RC"?n.F=kl("RC:RC",i):n.ArrayRange&&(n.F=kl(n.ArrayRange,i),g.push([kr(n.F),n.F]))}else for(A=0;A<g.length;++A)i.r>=g[A][0].s.r&&i.r<=g[A][0].e.r&&i.c>=g[A][0].s.c&&i.c<=g[A][0].e.c&&(n.F=g[A][1]);p.cellStyles&&(E.forEach(function(I){!_.patternType&&I.patternType&&(_.patternType=I.patternType)}),n.s=_),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function PV(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function S1(e,t){var r=t||{};b4();var n=Dc(wm(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ar(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=xn(r);return l.type="string",V0.to_workbook(n,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Je){i.indexOf("<"+Je)>=0&&(a=!0)}),a)return zV(n,r);o0={"General Number":"General","General Date":xt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":xt[15],"Short Date":xt[14],"Long Time":xt[19],"Medium Time":xt[18],"Short Time":xt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:xt[2],Standard:xt[4],Percent:xt[10],Scientific:xt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,g=[],p,m={},v=[],_=r.dense?[]:{},E="",A={},C={},I=Xi('<Data ss:Type="String">'),b=0,k=0,S=0,B={s:{r:2e6,c:2e6},e:{r:0,c:0}},K={},G={},F="",q=0,W=[],ce={},ue={},Z=0,Ee=[],Se=[],ee={},Fe=[],Ce,ke=!1,ne=[],be=[],oe={},U=0,ae=0,Q={Sheets:[],WBProps:{date1904:!1}},re={};W0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ie="";u=W0.exec(n);)switch(u[3]=(ie=u[3]).toLowerCase()){case"data":if(ie=="data"){if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break}if(g[g.length-1][1])break;u[1]==="/"?FV(n.slice(b,u.index),F,I,g[g.length-1][0]=="comment"?ee:A,{c:k,r:S},K,Fe[k],C,ne,r):(F="",I=Xi(u[0]),b=u.index+u[0].length);break;case"cell":if(u[1]==="/")if(Se.length>0&&(A.c=Se),(!r.sheetRows||r.sheetRows>S)&&A.v!==void 0&&(r.dense?(_[S]||(_[S]=[]),_[S][k]=A):_[Kr(k)+mn(S)]=A),A.HRef&&(A.l={Target:jt(A.HRef)},A.HRefScreenTip&&(A.l.Tooltip=A.HRefScreenTip),delete A.HRef,delete A.HRefScreenTip),(A.MergeAcross||A.MergeDown)&&(U=k+(parseInt(A.MergeAcross,10)|0),ae=S+(parseInt(A.MergeDown,10)|0),W.push({s:{c:k,r:S},e:{c:U,r:ae}})),!r.sheetStubs)A.MergeAcross?k=U+1:++k;else if(A.MergeAcross||A.MergeDown){for(var Pe=k;Pe<=U;++Pe)for(var Ae=S;Ae<=ae;++Ae)(Pe>k||Ae>S)&&(r.dense?(_[Ae]||(_[Ae]=[]),_[Ae][Pe]={t:"z"}):_[Kr(Pe)+mn(Ae)]={t:"z"});k=U+1}else++k;else A=IV(u[0]),A.Index&&(k=+A.Index-1),k<B.s.c&&(B.s.c=k),k>B.e.c&&(B.e.c=k),u[0].slice(-2)==="/>"&&++k,Se=[];break;case"row":u[1]==="/"||u[0].slice(-2)==="/>"?(S<B.s.r&&(B.s.r=S),S>B.e.r&&(B.e.r=S),u[0].slice(-2)==="/>"&&(C=Xi(u[0]),C.Index&&(S=+C.Index-1)),k=0,++S):(C=Xi(u[0]),C.Index&&(S=+C.Index-1),oe={},(C.AutoFitHeight=="0"||C.Height)&&(oe.hpx=parseInt(C.Height,10),oe.hpt=CS(oe.hpx),be[S]=oe),C.Hidden=="1"&&(oe.hidden=!0,be[S]=oe));break;case"worksheet":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));v.push(E),B.s.r<=B.e.r&&B.s.c<=B.e.c&&(_["!ref"]=Mt(B),r.sheetRows&&r.sheetRows<=B.e.r&&(_["!fullref"]=_["!ref"],B.e.r=r.sheetRows-1,_["!ref"]=Mt(B))),W.length&&(_["!merges"]=W),Fe.length>0&&(_["!cols"]=Fe),be.length>0&&(_["!rows"]=be),m[E]=_}else B={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=k=0,g.push([u[3],!1]),p=Xi(u[0]),E=jt(p.Name),_=r.dense?[]:{},W=[],ne=[],be=[],re={name:E,Hidden:0},Q.Sheets.push(re);break;case"table":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else{if(u[0].slice(-2)=="/>")break;g.push([u[3],!1]),Fe=[],ke=!1}break;case"style":u[1]==="/"?DV(K,G,r):G=Xi(u[0]);break;case"numberformat":G.nf=jt(Xi(u[0]).Format||"General"),o0[G.nf]&&(G.nf=o0[G.nf]);for(var Me=0;Me!=392&&xt[Me]!=G.nf;++Me);if(Me==392){for(Me=57;Me!=392;++Me)if(xt[Me]==null){go(G.nf,Me);break}}break;case"column":if(g[g.length-1][0]!=="table")break;if(Ce=Xi(u[0]),Ce.Hidden&&(Ce.hidden=!0,delete Ce.Hidden),Ce.Width&&(Ce.wpx=parseInt(Ce.Width,10)),!ke&&Ce.wpx>10){ke=!0,Ln=_S;for(var Re=0;Re<Fe.length;++Re)Fe[Re]&&Gl(Fe[Re])}ke&&Gl(Ce),Fe[Ce.Index-1||Fe.length]=Ce;for(var tt=0;tt<+Ce.Span;++tt)Fe[Fe.length]=xn(Ce);break;case"namedrange":if(u[1]==="/")break;Q.Names||(Q.Names=[]);var Y=lt(u[0]),qe={Name:Y.Name,Ref:kl(Y.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(qe.Sheet=Q.Sheets.length-1),Q.Names.push(qe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(u[0].slice(-2)==="/>")break;u[1]==="/"?F+=n.slice(q,u.index):q=u.index+u[0].length;break;case"interior":if(!r.cellStyles)break;G.Interior=Xi(u[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(u[0].slice(-2)==="/>")break;u[1]==="/"?wM(ce,ie,n.slice(Z,u.index)):Z=u.index+u[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else g.push([u[3],!1]);break;case"comment":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));PV(ee),Se.push(ee)}else g.push([u[3],!1]),p=Xi(u[0]),ee={a:p.Author};break;case"autofilter":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else if(u[0].charAt(u[0].length-2)!=="/"){var mt=Xi(u[0]);_["!autofilter"]={ref:kl(mt.Range).replace(/\$/g,"")},g.push([u[3],!0])}break;case"name":break;case"datavalidation":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break;case"null":break;default:if(g.length==0&&u[3]=="document"||g.length==0&&u[3]=="uof")return Ly(n,r);var dt=!0;switch(g[g.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:dt=!1}break;case"componentoptions":switch(u[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:dt=!1}break;case"excelworkbook":switch(u[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:dt=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":break;case"height":break;case"width":break;default:dt=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if(u[0].slice(-2)!=="/>")if(u[1]==="/")switch(n.slice(Z,u.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else Z=u.index+u[0].length;break;case"header":_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(_["!margins"].header=+lt(u[0]).Margin);break;case"footer":_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(_["!margins"].footer=+lt(u[0]).Margin);break;case"pagemargins":var Ze=lt(u[0]);_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+Ze.Top)||(_["!margins"].top=+Ze.Top),isNaN(+Ze.Left)||(_["!margins"].left=+Ze.Left),isNaN(+Ze.Right)||(_["!margins"].right=+Ze.Right),isNaN(+Ze.Bottom)||(_["!margins"].bottom=+Ze.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:dt=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:dt=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:dt=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:dt=!1}break;case"querytable":switch(u[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:dt=!1}break;case"datavalidation":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:dt=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:dt=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:dt=!1}break;case"smarttags":break;default:dt=!1;break}if(dt||u[3].match(/!\[CDATA/))break;if(!g[g.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+g.join("|");if(g[g.length-1][0]==="customdocumentproperties"){if(u[0].slice(-2)==="/>")break;u[1]==="/"?NV(ue,ie,Ee,n.slice(Z,u.index)):(Ee=u,Z=u.index+u[0].length);break}if(r.WTF)throw"Unrecognized tag: "+u[3]+"|"+g.join("|")}var Ne={};return!r.bookSheets&&!r.bookProps&&(Ne.Sheets=m),Ne.SheetNames=v,Ne.Workbook=Q,Ne.SSF=xn(xt),Ne.Props=ce,Ne.Custprops=ue,Ne}function rp(e,t){switch(Dm(t=t||{}),t.type||"base64"){case"base64":return S1(yi(e),t);case"binary":case"buffer":case"file":return S1(e,t);case"array":return S1(jo(e),t)}}function MV(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=qP(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=ZP(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var BV=[60,1084,2066,2165,2175];function LV(e,t,r,n,i){var a=n,l=[],u=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&u.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(u)}l.push(u),r.l+=a;for(var g=Fs(r,r.l),p=np[g],m=0;p!=null&&BV.indexOf(g)>-1;)a=Fs(r,r.l+2),m=r.l+4,g==2066?m+=4:(g==2165||g==2175)&&(m+=12),u=r.slice(m,r.l+4+a),l.push(u),r.l+=4+a,p=np[g=Fs(r,r.l)];var v=ua(l);dn(v,0);var _=0;v.lens=[];for(var E=0;E<l.length;++E)v.lens.push(_),_+=l[E].length;if(v.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+v.length+" < "+n;return t.f(v,v.length,i)}function gs(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=xt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Ho[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v):e.w=ko(e.v):e.w=Wi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&ic(xt[n]||String(n))){var i=co(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function tf(e,t,r){return{v:e,ixfe:t,t:r}}function UV(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},l={},u=null,g=[],p="",m={},v,_="",E,A,C,I,b={},k=[],S,B,K=[],G=[],F={Sheets:[],WBProps:{date1904:!1},Views:[{}]},q={},W=function(ut){return ut<8?po[ut]:ut<64&&G[ut-8]||po[ut]},ce=function(ut,Yt,ln){var gt=Yt.XF.data;if(!(!gt||!gt.patternType||!ln||!ln.cellStyles)){Yt.s={},Yt.s.patternType=gt.patternType;var Ue;(Ue=H0(W(gt.icvFore)))&&(Yt.s.fgColor={rgb:Ue}),(Ue=H0(W(gt.icvBack)))&&(Yt.s.bgColor={rgb:Ue})}},ue=function(ut,Yt,ln){if(!(oe>1)&&!(ln.sheetRows&&ut.r>=ln.sheetRows)){if(ln.cellStyles&&Yt.XF&&Yt.XF.data&&ce(ut,Yt,ln),delete Yt.ixfe,delete Yt.XF,v=ut,_=ft(ut),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),ut.r<l.s.r&&(l.s.r=ut.r),ut.c<l.s.c&&(l.s.c=ut.c),ut.r+1>l.e.r&&(l.e.r=ut.r+1),ut.c+1>l.e.c&&(l.e.c=ut.c+1),ln.cellFormula&&Yt.f){for(var gt=0;gt<k.length;++gt)if(!(k[gt][0].s.c>ut.c||k[gt][0].s.r>ut.r)&&!(k[gt][0].e.c<ut.c||k[gt][0].e.r<ut.r)){Yt.F=Mt(k[gt][0]),(k[gt][0].s.c!=ut.c||k[gt][0].s.r!=ut.r)&&delete Yt.f,Yt.f&&(Yt.f=""+An(k[gt][1],l,ut,ne,Z));break}}ln.dense?(i[ut.r]||(i[ut.r]=[]),i[ut.r][ut.c]=Yt):i[_]=Yt}},Z={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(Z.password=t.password);var Ee,Se=[],ee=[],Fe=[],Ce=[],ke=!1,ne=[];ne.SheetNames=Z.snames,ne.sharedf=Z.sharedf,ne.arrayf=Z.arrayf,ne.names=[],ne.XTI=[];var be=0,oe=0,U=0,ae=[],Q=[],re;Z.codepage=1200,es(1200);for(var ie=!1;e.l<e.length-1;){var Pe=e.l,Ae=e.read_shift(2);if(Ae===0&&be===10)break;var Me=e.l===e.length?0:e.read_shift(2),Re=np[Ae];if(Re&&Re.f){if(t.bookSheets&&be===133&&Ae!==133)break;if(be=Ae,Re.r===2||Re.r==12){var tt=e.read_shift(2);if(Me-=2,!Z.enc&&tt!==Ae&&((tt&255)<<8|tt>>8)!==Ae)throw new Error("rt mismatch: "+tt+"!="+Ae);Re.r==12&&(e.l+=10,Me-=10)}var Y={};if(Ae===10?Y=Re.f(e,Me,Z):Y=LV(Ae,Re,e,Me,Z),oe==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(Ae){case 34:r.opts.Date1904=F.WBProps.date1904=Y;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(Z.enc||(e.l=0),Z.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:Z.lastuser=Y;break;case 66:var qe=Number(Y);switch(qe){case 21010:qe=1200;break;case 32768:qe=1e4;break;case 32769:qe=1252;break}es(Z.codepage=qe),ie=!0;break;case 317:Z.rrtabid=Y;break;case 25:Z.winlocked=Y;break;case 439:r.opts.RefreshAll=Y;break;case 12:r.opts.CalcCount=Y;break;case 16:r.opts.CalcDelta=Y;break;case 17:r.opts.CalcIter=Y;break;case 13:r.opts.CalcMode=Y;break;case 14:r.opts.CalcPrecision=Y;break;case 95:r.opts.CalcSaveRecalc=Y;break;case 15:Z.CalcRefMode=Y;break;case 2211:r.opts.FullCalc=Y;break;case 129:Y.fDialog&&(i["!type"]="dialog"),Y.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Y.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:K.push(Y);break;case 430:ne.push([Y]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(Y);break;case 24:case 536:re={Name:Y.Name,Ref:An(Y.rgce,l,null,ne,Z)},Y.itab>0&&(re.Sheet=Y.itab-1),ne.names.push(re),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(Q[Y.itab-1]={ref:Mt(Y.rgce[0][0][1][2])});break;case 22:Z.ExternCount=Y;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(Y),ne.XTI=ne.XTI.concat(Y);break;case 2196:if(Z.biff<8)break;re!=null&&(re.Comment=Y[1]);break;case 18:i["!protect"]=Y;break;case 19:Y!==0&&Z.WTF&&console.error("Password verifier: "+Y);break;case 133:a[Y.pos]=Y,Z.snames.push(Y.name);break;case 10:{if(--oe)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=Mt(l),t.sheetRows&&t.sheetRows<=l.e.r){var mt=l.e.r;l.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Mt(l),l.e.r=mt}l.e.r++,l.e.c++}Se.length>0&&(i["!merges"]=Se),ee.length>0&&(i["!objects"]=ee),Fe.length>0&&(i["!cols"]=Fe),Ce.length>0&&(i["!rows"]=Ce),F.Sheets.push(q)}p===""?m=i:n[p]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Z.biff===8&&(Z.biff={9:2,521:3,1033:4}[Ae]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),Z.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(Z.biff=5,ie=!0,es(Z.codepage=28591)),Z.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(Z.biff=2),oe++)break;if(i=t.dense?[]:{},Z.biff<8&&!ie&&(ie=!0,es(Z.codepage=t.codepage||1252)),Z.biff<5||Y.BIFFVer==0&&Y.dt==4096){p===""&&(p="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var dt={pos:e.l-Me,name:p};a[dt.pos]=dt,Z.snames.push(p)}else p=(a[Pe]||{name:""}).name;Y.dt==32&&(i["!type"]="chart"),Y.dt==64&&(i["!type"]="macro"),Se=[],ee=[],Z.arrayf=k=[],Fe=[],Ce=[],ke=!1,q={Hidden:(a[Pe]||{hs:0}).hs,name:p}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[Y.r]||[])[Y.c]:i[ft({c:Y.c,r:Y.r})])&&++Y.c,S={ixfe:Y.ixfe,XF:K[Y.ixfe]||{},v:Y.val,t:"n"},U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue({c:Y.c,r:Y.r},S,t);break;case 5:case 517:S={ixfe:Y.ixfe,XF:K[Y.ixfe],v:Y.val,t:Y.t},U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue({c:Y.c,r:Y.r},S,t);break;case 638:S={ixfe:Y.ixfe,XF:K[Y.ixfe],v:Y.rknum,t:"n"},U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue({c:Y.c,r:Y.r},S,t);break;case 189:for(var Ze=Y.c;Ze<=Y.C;++Ze){var Ne=Y.rkrec[Ze-Y.c][0];S={ixfe:Ne,XF:K[Ne],v:Y.rkrec[Ze-Y.c][1],t:"n"},U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue({c:Ze,r:Y.r},S,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){u=Y;break}if(S=tf(Y.val,Y.cell.ixfe,Y.tt),S.XF=K[S.ixfe],t.cellFormula){var Je=Y.formula;if(Je&&Je[0]&&Je[0][0]&&Je[0][0][0]=="PtgExp"){var it=Je[0][0][1][0],Dt=Je[0][0][1][1],Ge=ft({r:it,c:Dt});b[Ge]?S.f=""+An(Y.formula,l,Y.cell,ne,Z):S.F=((t.dense?(i[it]||[])[Dt]:i[Ge])||{}).F}else S.f=""+An(Y.formula,l,Y.cell,ne,Z)}U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue(Y.cell,S,t),u=Y}break;case 7:case 519:if(u)u.val=Y,S=tf(Y,u.cell.ixfe,"s"),S.XF=K[S.ixfe],t.cellFormula&&(S.f=""+An(u.formula,l,u.cell,ne,Z)),U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue(u.cell,S,t),u=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(Y);var Kn=ft(Y[0].s);if(E=t.dense?(i[Y[0].s.r]||[])[Y[0].s.c]:i[Kn],t.cellFormula&&E){if(!u||!Kn||!E)break;E.f=""+An(Y[1],l,Y[0],ne,Z),E.F=Mt(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(_){if(!u)break;b[ft(u.cell)]=Y[0],E=t.dense?(i[u.cell.r]||[])[u.cell.c]:i[ft(u.cell)],(E||{}).f=""+An(Y[0],l,v,ne,Z)}}break;case 253:S=tf(g[Y.isst].t,Y.ixfe,"s"),g[Y.isst].h&&(S.h=g[Y.isst].h),S.XF=K[S.ixfe],U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue({c:Y.c,r:Y.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:Y.ixfe,XF:K[Y.ixfe],t:"z"},U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue({c:Y.c,r:Y.r},S,t));break;case 190:if(t.sheetStubs)for(var Bt=Y.c;Bt<=Y.C;++Bt){var $t=Y.ixfe[Bt-Y.c];S={ixfe:$t,XF:K[$t],t:"z"},U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue({c:Bt,r:Y.r},S,t)}break;case 214:case 516:case 4:S=tf(Y.val,Y.ixfe,"s"),S.XF=K[S.ixfe],U>0&&(S.z=ae[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),ue({c:Y.c,r:Y.r},S,t);break;case 0:case 512:oe===1&&(l=Y);break;case 252:g=Y;break;case 1054:if(Z.biff==4){ae[U++]=Y[1];for(var Dr=0;Dr<U+163&&xt[Dr]!=Y[1];++Dr);Dr>=163&&go(Y[1],U+163)}else go(Y[1],Y[0]);break;case 30:{ae[U++]=Y;for(var dr=0;dr<U+163&&xt[dr]!=Y;++dr);dr>=163&&go(Y,U+163)}break;case 229:Se=Se.concat(Y);break;case 93:ee[Y.cmo[0]]=Z.lastobj=Y;break;case 438:Z.lastobj.TxO=Y;break;case 127:Z.lastobj.ImData=Y;break;case 440:for(I=Y[0].s.r;I<=Y[0].e.r;++I)for(C=Y[0].s.c;C<=Y[0].e.c;++C)E=t.dense?(i[I]||[])[C]:i[ft({c:C,r:I})],E&&(E.l=Y[1]);break;case 2048:for(I=Y[0].s.r;I<=Y[0].e.r;++I)for(C=Y[0].s.c;C<=Y[0].e.c;++C)E=t.dense?(i[I]||[])[C]:i[ft({c:C,r:I})],E&&E.l&&(E.l.Tooltip=Y[1]);break;case 28:{if(Z.biff<=5&&Z.biff>=2)break;E=t.dense?(i[Y[0].r]||[])[Y[0].c]:i[ft(Y[0])];var Fn=ee[Y[2]];E||(t.dense?(i[Y[0].r]||(i[Y[0].r]=[]),E=i[Y[0].r][Y[0].c]={t:"z"}):E=i[ft(Y[0])]={t:"z"},l.e.r=Math.max(l.e.r,Y[0].r),l.s.r=Math.min(l.s.r,Y[0].r),l.e.c=Math.max(l.e.c,Y[0].c),l.s.c=Math.min(l.s.c,Y[0].c)),E.c||(E.c=[]),A={a:Y[1],t:Fn.TxO.t},E.c.push(A)}break;case 2173:oU(K[Y.ixfe],Y.ext);break;case 125:{if(!Z.cellStyles)break;for(;Y.e>=Y.s;)Fe[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},ke||(ke=!0,bm(Y.w/256)),Gl(Fe[Y.e+1])}break;case 520:{var er={};Y.level!=null&&(Ce[Y.r]=er,er.level=Y.level),Y.hidden&&(Ce[Y.r]=er,er.hidden=!0),Y.hpt&&(Ce[Y.r]=er,er.hpt=Y.hpt,er.hpx=z0(Y.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||a0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ae]]=Y;break;case 161:i["!margins"]||a0(i["!margins"]={}),i["!margins"].header=Y.header,i["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(F.Views[0].RTL=!0);break;case 146:G=Y;break;case 2198:Ee=Y;break;case 140:B=Y;break;case 442:p?q.CodeName=Y||q.name:F.WBProps.CodeName=Y||"ThisWorkbook";break}}else Re||console.error("Missing Info for XLS Record 0x"+Ae.toString(16)),e.l+=Me}return r.SheetNames=Cs(a).sort(function(Gt,ut){return Number(Gt)-Number(ut)}).map(function(Gt){return a[Gt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&Q.forEach(function(Gt,ut){r.Sheets[r.SheetNames[ut]]["!autofilter"]=Gt}),r.Strings=g,r.SSF=xn(xt),Z.enc&&(r.Encryption=Z.enc),Ee&&(r.Themes=Ee),r.Metadata={},B!==void 0&&(r.Metadata.Country=B),ne.names.length>0&&(F.Names=ne.names),r.Workbook=F,r}var Dy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function jV(e,t,r){var n=Pt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=xy(n,nM,Dy.DSI);for(var a in i)t[a]=i[a]}catch(p){if(r.WTF)throw p}var l=Pt.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var u=xy(l,iM,Dy.SI);for(var g in u)t[g]==null&&(t[g]=u[g])}catch(p){if(r.WTF)throw p}t.HeadingPairs&&t.TitlesOfParts&&(iS(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function WS(e,t){t||(t={}),Dm(t),x4(),t.codepage&&fm(t.codepage);var r,n;if(e.FullPaths){if(Pt.find(e,"/encryption"))throw new Error("File is password-protected");r=Pt.find(e,"!CompObj"),n=Pt.find(e,"/Workbook")||Pt.find(e,"/Book")}else{switch(t.type){case"base64":e=Qi(yi(e));break;case"binary":e=Qi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}dn(e,0),n={content:e}}var i,a;if(r&&MV(r),t.bookProps&&!t.bookSheets)i={};else{var l=Ft?"buffer":"array";if(n&&n.content)i=UV(n.content,t);else if((a=Pt.find(e,"PerfectOffice_MAIN"))&&a.content)i=i0.to_workbook(a.content,(t.type=l,t));else if((a=Pt.find(e,"NativeContent_MAIN"))&&a.content)i=i0.to_workbook(a.content,(t.type=l,t));else throw(a=Pt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Pt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=SU(e))}var u={};return e.FullPaths&&jV(e,u,t),i.Props=i.Custprops=u,t.bookFiles&&(i.cfb=e),i}var bh={0:{f:_W},1:{f:SW},2:{f:FW},3:{f:IW},4:{f:kW},5:{f:DW},6:{f:BW},7:{f:NW},8:{f:VW},9:{f:WW},10:{f:UW},11:{f:jW},12:{f:TW},13:{f:PW},14:{f:RW},15:{f:bW},16:{f:MS},17:{f:LW},18:{f:OW},19:{f:Em},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:pV},40:{},42:{},43:{f:UL},44:{f:LL},45:{f:jL},46:{f:VL},47:{f:WL},48:{},49:{f:HP},50:{},51:{f:cU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:xS},62:{f:MW},63:{f:gU},64:{f:ZW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Nn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:AW},148:{f:EW,p:16},151:{f:GW},152:{},153:{f:dV},154:{},155:{},156:{f:hV},157:{},158:{},159:{T:1,f:iL},160:{T:-1},161:{T:1,f:Vo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:HW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lU},336:{T:-1},337:{f:uU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Qg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:pS},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:XW},427:{f:$W},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:KW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:CW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Qg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:EU},633:{T:1},634:{T:-1},635:{T:1,f:_U},636:{T:-1},637:{f:GP},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nV},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},np={6:{f:C1},10:{f:sa},12:{f:Ur},13:{f:Ur},14:{f:Ir},15:{f:Ir},16:{f:Tn},17:{f:Ir},18:{f:Ir},19:{f:Ur},20:{f:yy},21:{f:yy},23:{f:pS},24:{f:Ey},25:{f:Ir},26:{},27:{},28:{f:vB},29:{},34:{f:Ir},35:{f:_y},38:{f:Tn},39:{f:Tn},40:{f:Tn},41:{f:Tn},42:{f:Ir},43:{f:Ir},47:{f:CL},49:{f:eB},51:{f:Ur},60:{},61:{f:ZM},64:{f:Ir},65:{f:JM},66:{f:Ur},77:{},80:{},81:{},82:{},85:{f:Ur},89:{},90:{},91:{},92:{f:HM},93:{f:_B},94:{},95:{f:Ir},96:{},97:{},99:{f:Ir},125:{f:xS},128:{f:uB},129:{f:zM},130:{f:Ur},131:{f:Ir},132:{f:Ir},133:{f:GM},134:{},140:{f:kB},141:{f:Ur},144:{},146:{f:IB},151:{},152:{},153:{},154:{},155:{},156:{f:Ur},157:{},158:{},160:{f:FB},161:{f:NB},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:aB},190:{f:oB},193:{f:sa},197:{},198:{},199:{},200:{},201:{},202:{f:Ir},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ur},220:{},221:{f:Ir},222:{},224:{f:cB},225:{f:VM},226:{f:sa},227:{},229:{f:yB},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:XM},253:{f:tB},255:{f:$M},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:cS},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ir},353:{f:sa},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:hB},431:{f:Ir},432:{},433:{},434:{},437:{},438:{f:AB},439:{f:Ir},440:{f:SB},441:{},442:{f:xu},443:{},444:{f:Ur},445:{},446:{},448:{f:sa},449:{f:qM,r:2},450:{f:sa},512:{f:wy},513:{f:DB},515:{f:fB},516:{f:rB},517:{f:vy},519:{f:PB},520:{f:YM},523:{},545:{f:Cy},549:{f:my},566:{},574:{f:QM},638:{f:sB},659:{},1048:{},1054:{f:nB},1084:{},1212:{f:xB},2048:{f:TB},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Qu},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:sa},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:RB,r:12},2173:{f:aU,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ir,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:pB,r:12},2197:{},2198:{f:eU,r:12},2199:{},2200:{},2201:{},2202:{f:mB,r:12},2203:{f:sa},2204:{},2205:{},2206:{},2207:{},2211:{f:KM},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ur},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:OB},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:bB},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:wy},1:{},2:{f:UB},3:{f:LB},4:{f:BB},5:{f:vy},7:{f:jB},8:{},9:{f:Qu},11:{},22:{f:Ur},30:{f:iB},31:{},32:{},33:{f:Cy},36:{},37:{f:my},50:{f:WB},62:{},52:{},67:{},68:{f:Ur},69:{},86:{},126:{},127:{f:MB},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:VB},223:{},234:{},354:{},421:{},518:{f:C1},521:{f:Qu},536:{f:Ey},547:{f:_y},561:{},579:{},1030:{f:C1},1033:{f:Qu},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $i(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,l=e.next(4);l.write_shift(2,i),l.write_shift(2,a),a>0&&q4(r)&&e.push(r)}}function Fy(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),l=i.index,u=a&&a.index||e.length,g=fP(e.slice(l,u),/(:?<tr[^>]*>)/i,"<tr>"),p=-1,m=0,v=0,_=0,E={s:{r:1e7,c:1e7},e:{r:0,c:0}},A=[];for(l=0;l<g.length;++l){var C=g[l].trim(),I=C.slice(0,3).toLowerCase();if(I=="<tr"){if(++p,r.sheetRows&&r.sheetRows<=p){--p;break}m=0;continue}if(!(I!="<td"&&I!="<th")){var b=C.split(/<\/t[dh]>/i);for(u=0;u<b.length;++u){var k=b[u].trim();if(k.match(/<t[dh]/i)){for(var S=k,B=0;S.charAt(0)=="<"&&(B=S.indexOf(">"))>-1;)S=S.slice(B+1);for(var K=0;K<A.length;++K){var G=A[K];G.s.c==m&&G.s.r<p&&p<=G.e.r&&(m=G.e.c+1,K=-1)}var F=lt(k.slice(0,k.indexOf(">")));_=F.colspan?+F.colspan:1,((v=+F.rowspan)>1||_>1)&&A.push({s:{r:p,c:m},e:{r:p+(v||1)-1,c:m+_-1}});var q=F.t||F["data-t"]||"";if(!S.length){m+=_;continue}if(S=B4(S),E.s.r>p&&(E.s.r=p),E.e.r<p&&(E.e.r=p),E.s.c>m&&(E.s.c=m),E.e.c<m&&(E.e.c=m),!S.length){m+=_;continue}var W={t:"s",v:S};r.raw||!S.trim().length||q=="s"||(S==="TRUE"?W={t:"b",v:!0}:S==="FALSE"?W={t:"b",v:!1}:isNaN(ss(S))?isNaN(zl(S).getDate())||(W={t:"d",v:an(S)},r.cellDates||(W={t:"n",v:Gn(W.v)}),W.z=r.dateNF||xt[14]):W={t:"n",v:ss(S)}),r.dense?(n[p]||(n[p]=[]),n[p][m]=W):n[ft({r:p,c:m})]=W,m+=_}}}}return n["!ref"]=Mt(E),A.length&&(n["!merges"]=A),n}function WV(e,t,r,n){for(var i=e["!merges"]||[],a=[],l=t.s.c;l<=t.e.c;++l){for(var u=0,g=0,p=0;p<i.length;++p)if(!(i[p].s.r>r||i[p].s.c>l)&&!(i[p].e.r<r||i[p].e.c<l)){if(i[p].s.r<r||i[p].s.c<l){u=-1;break}u=i[p].e.r-i[p].s.r+1,g=i[p].e.c-i[p].s.c+1;break}if(!(u<0)){var m=ft({r,c:l}),v=n.dense?(e[r]||[])[l]:e[m],_=v&&v.v!=null&&(v.h||mm(v.w||($s(v),v.w)||""))||"",E={};u>1&&(E.rowspan=u),g>1&&(E.colspan=g),n.editable?_='<span contenteditable="true">'+_+"</span>":v&&(E["data-t"]=v&&v.t||"z",v.v!=null&&(E["data-v"]=v.v),v.z!=null&&(E["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+v.l.Target+'">'+_+"</a>")),E.id=(n.id||"sjs")+"-"+m,a.push(kP("td",_,E))}}var A="<tr>";return A+a.join("")+"</tr>"}var VV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HV="</body></html>";function zV(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return za(Fy(r[0],t),t);var n=Pm();return r.forEach(function(i,a){Mm(n,Fy(i,t),"Sheet"+(a+1))}),n}function GV(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function XV(e,t){var r=t||{},n=r.header!=null?r.header:VV,i=r.footer!=null?r.footer:HV,a=[n],l=sc(e["!ref"]);r.dense=Array.isArray(e),a.push(GV(e,l,r));for(var u=l.s.r;u<=l.e.r;++u)a.push(WV(e,l,u,r));return a.push("</table>"+i),a.join("")}function VS(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?jn(n.origin):n.origin;i=l.r,a=l.c}var u=t.getElementsByTagName("tr"),g=Math.min(n.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var m=sc(e["!ref"]);p.s.r=Math.min(p.s.r,m.s.r),p.s.c=Math.min(p.s.c,m.s.c),p.e.r=Math.max(p.e.r,m.e.r),p.e.c=Math.max(p.e.c,m.e.c),i==-1&&(p.e.r=i=m.e.r+1)}var v=[],_=0,E=e["!rows"]||(e["!rows"]=[]),A=0,C=0,I=0,b=0,k=0,S=0;for(e["!cols"]||(e["!cols"]=[]);A<u.length&&C<g;++A){var B=u[A];if(Py(B)){if(n.display)continue;E[C]={hidden:!0}}var K=B.children;for(I=b=0;I<K.length;++I){var G=K[I];if(!(n.display&&Py(G))){var F=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):B4(G.innerHTML),q=G.getAttribute("data-z")||G.getAttribute("z");for(_=0;_<v.length;++_){var W=v[_];W.s.c==b+a&&W.s.r<C+i&&C+i<=W.e.r&&(b=W.e.c+1-a,_=-1)}S=+G.getAttribute("colspan")||1,((k=+G.getAttribute("rowspan")||1)>1||S>1)&&v.push({s:{r:C+i,c:b+a},e:{r:C+i+(k||1)-1,c:b+a+(S||1)-1}});var ce={t:"s",v:F},ue=G.getAttribute("data-t")||G.getAttribute("t")||"";F!=null&&(F.length==0?ce.t=ue||"z":n.raw||F.trim().length==0||ue=="s"||(F==="TRUE"?ce={t:"b",v:!0}:F==="FALSE"?ce={t:"b",v:!1}:isNaN(ss(F))?isNaN(zl(F).getDate())||(ce={t:"d",v:an(F)},n.cellDates||(ce={t:"n",v:Gn(ce.v)}),ce.z=n.dateNF||xt[14]):ce={t:"n",v:ss(F)})),ce.z===void 0&&q!=null&&(ce.z=q);var Z="",Ee=G.getElementsByTagName("A");if(Ee&&Ee.length)for(var Se=0;Se<Ee.length&&!(Ee[Se].hasAttribute("href")&&(Z=Ee[Se].getAttribute("href"),Z.charAt(0)!="#"));++Se);Z&&Z.charAt(0)!="#"&&(ce.l={Target:Z}),n.dense?(e[C+i]||(e[C+i]=[]),e[C+i][b+a]=ce):e[ft({c:b+a,r:C+i})]=ce,p.e.c<b+a&&(p.e.c=b+a),b+=S}}++C}return v.length&&(e["!merges"]=(e["!merges"]||[]).concat(v)),p.e.r=Math.max(p.e.r,C-1+i),e["!ref"]=Mt(p),C>=g&&(e["!fullref"]=Mt((p.e.r=u.length-A+C-1+i,p))),e}function HS(e,t){var r=t||{},n=r.dense?[]:{};return VS(n,e,t)}function $V(e,t){return za(HS(e,t),t)}function Py(e){var t="",r=YV(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function YV(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function KV(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=jt(t.replace(/<[^>]*>/g,""));return[r]}var My={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function zS(e,t){var r=t||{},n=wm(e),i=[],a,l,u={name:""},g="",p=0,m,v,_={},E=[],A=r.dense?[]:{},C,I,b={value:""},k="",S=0,B=[],K=-1,G=-1,F={s:{r:1e6,c:1e7},e:{r:0,c:0}},q=0,W={},ce=[],ue={},Z=0,Ee=0,Se=[],ee=1,Fe=1,Ce=[],ke={Names:[]},ne={},be=["",""],oe=[],U={},ae="",Q=0,re=!1,ie=!1,Pe=0;for(W0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");C=W0.exec(n);)switch(C[3]=C[3].replace(/_.*$/,"")){case"table":case"":C[1]==="/"?(F.e.c>=F.s.c&&F.e.r>=F.s.r?A["!ref"]=Mt(F):A["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=F.e.r&&(A["!fullref"]=A["!ref"],F.e.r=r.sheetRows-1,A["!ref"]=Mt(F)),ce.length&&(A["!merges"]=ce),Se.length&&(A["!rows"]=Se),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),E.push(m.name),_[m.name]=A,ie=!1):C[0].charAt(C[0].length-2)!=="/"&&(m=lt(C[0],!1),K=G=-1,F.s.r=F.s.c=1e7,F.e.r=F.e.c=0,A=r.dense?[]:{},ce=[],Se=[],ie=!0);break;case"table-row-group":C[1]==="/"?--q:++q;break;case"table-row":case"":if(C[1]==="/"){K+=ee,ee=1;break}if(v=lt(C[0],!1),v.?K=v.-1:K==-1&&(K=0),ee=+v["number-rows-repeated"]||1,ee<10)for(Pe=0;Pe<ee;++Pe)q>0&&(Se[K+Pe]={level:q});G=-1;break;case"covered-table-cell":C[1]!=="/"&&++G,r.sheetStubs&&(r.dense?(A[K]||(A[K]=[]),A[K][G]={t:"z"}):A[ft({r:K,c:G})]={t:"z"}),k="",B=[];break;case"table-cell":case"":if(C[0].charAt(C[0].length-2)==="/")++G,b=lt(C[0],!1),Fe=parseInt(b["number-columns-repeated"]||"1",10),I={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(I.f=Ry(jt(b.formula))),(b.||b["value-type"])=="string"&&(I.t="s",I.v=jt(b["string-value"]||""),r.dense?(A[K]||(A[K]=[]),A[K][G]=I):A[ft({r:K,c:G})]=I),G+=Fe-1;else if(C[1]!=="/"){++G,k="",S=0,B=[],Fe=1;var Ae=ee?K+ee-1:K;if(G>F.e.c&&(F.e.c=G),G<F.s.c&&(F.s.c=G),K<F.s.r&&(F.s.r=K),Ae>F.e.r&&(F.e.r=Ae),b=lt(C[0],!1),oe=[],U={},I={t:b.||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=jt(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(Z=parseInt(b["number-matrix-rows-spanned"],10)||0,Ee=parseInt(b["number-matrix-columns-spanned"],10)||0,ue={s:{r:K,c:G},e:{r:K+Z-1,c:G+Ee-1}},I.F=Mt(ue),Ce.push([ue,I.F])),b.formula)I.f=Ry(b.formula);else for(Pe=0;Pe<Ce.length;++Pe)K>=Ce[Pe][0].s.r&&K<=Ce[Pe][0].e.r&&G>=Ce[Pe][0].s.c&&G<=Ce[Pe][0].e.c&&(I.F=Ce[Pe][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(Z=parseInt(b["number-rows-spanned"],10)||0,Ee=parseInt(b["number-columns-spanned"],10)||0,ue={s:{r:K,c:G},e:{r:K+Z-1,c:G+Ee-1}},ce.push(ue)),b["number-columns-repeated"]&&(Fe=parseInt(b["number-columns-repeated"],10)),I.t){case"boolean":I.t="b",I.v=pr(b["boolean-value"]);break;case"float":I.t="n",I.v=parseFloat(b.value);break;case"percentage":I.t="n",I.v=parseFloat(b.value);break;case"currency":I.t="n",I.v=parseFloat(b.value);break;case"date":I.t="d",I.v=an(b["date-value"]),r.cellDates||(I.t="n",I.v=Gn(I.v)),I.z="m/d/yy";break;case"time":I.t="n",I.v=lP(b["time-value"])/86400,r.cellDates&&(I.t="d",I.v=fd(I.v)),I.z="HH:MM:SS";break;case"number":I.t="n",I.v=parseFloat(b.);break;default:if(I.t==="string"||I.t==="text"||!I.t)I.t="s",b["string-value"]!=null&&(k=jt(b["string-value"]),B=[]);else throw new Error("Unsupported value type "+I.t)}}else{if(re=!1,I.t==="s"&&(I.v=k||"",B.length&&(I.R=B),re=S==0),ne.Target&&(I.l=ne),oe.length>0&&(I.c=oe,oe=[]),k&&r.cellText!==!1&&(I.w=k),re&&(I.t="z",delete I.v),(!re||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=K))for(var Me=0;Me<ee;++Me){if(Fe=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(A[K+Me]||(A[K+Me]=[]),A[K+Me][G]=Me==0?I:xn(I);--Fe>0;)A[K+Me][G+Fe]=xn(I);else for(A[ft({r:K+Me,c:G})]=I;--Fe>0;)A[ft({r:K+Me,c:G+Fe})]=xn(I);F.e.c<=G&&(F.e.c=G)}Fe=parseInt(b["number-columns-repeated"]||"1",10),G+=Fe-1,Fe=0,I={},k="",B=[]}ne={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!0]);break;case"annotation":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a;U.t=k,B.length&&(U.R=B),U.a=ae,oe.push(U)}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);ae="",Q=0,k="",S=0,B=[];break;case"creator":C[1]==="/"?ae=n.slice(Q,C.index):Q=C.index+C[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);k="",S=0,B=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(C[1]==="/"){if(W[u.name]=g,(a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&(g="",u=lt(C[0],!1),i.push([C[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=lt(C[0],!1),g+=My[C[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=lt(C[0],!1),g+=My[C[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(C[0].slice(-2)==="/>")break;if(C[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":g+=n.slice(p,C.index);break}else p=C.index+C[0].length;break;case"named-range":l=lt(C[0],!1),be=A1(l["cell-range-address"]);var Re={Name:l.name,Ref:be[0]+"!"+be[1]};ie&&(Re.Sheet=E.length),ke.Names.push(Re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(C[1]==="/"&&(!b||!b["string-value"])){var tt=KV(n.slice(S,C.index));k=(k.length>0?k+`
`:"")+tt[0]}else lt(C[0],!1),S=C.index+C[0].length;break;case"s":break;case"database-range":if(C[1]==="/")break;try{be=A1(lt(C[0])["target-range-address"]),_[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(C[1]!=="/"){if(ne=lt(C[0],!1),!ne.href)break;ne.Target=jt(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(be=A1(ne.Target.slice(1)),ne.Target="#"+be[0]+"!"+be[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(C[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(C)}}var Y={Sheets:_,SheetNames:E,Workbook:ke};return r.bookSheets&&delete Y.Sheets,Y}function By(e,t){t=t||{},Ni(e,"META-INF/manifest.xml")&&fM(Lr(e,"META-INF/manifest.xml"),t);var r=gi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=zS(ar(r),t);return Ni(e,"meta.xml")&&(n.Props=nS(Lr(e,"meta.xml"))),n}function Ly(e,t){return zS(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Nm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ip(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ar(jo(e))}function sp(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function Uy(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function qV(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function G0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function qr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function kn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=G0(e,r),a=i&7;i=Math.floor(i/8);var l=0,u;if(i==0)break;switch(a){case 0:{for(var g=r[0];e[r[0]++]>=128;);u=e.slice(g,r[0])}break;case 5:l=4,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=G0(e,r),u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var p={data:u,type:a};t[i]==null?t[i]=[p]:t[i].push(p)}return t}function Om(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function ZV(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=G0(e,n),a=kn(e.slice(n[0],n[0]+i));n[0]+=i;var l={id:qr(a[1][0].data),messages:[]};a[2].forEach(function(u){var g=kn(u.data),p=qr(g[3][0].data);l.messages.push({meta:g,data:e.slice(n[0],n[0]+p)}),n[0]+=p}),(t=a[3])!=null&&t[0]&&(l.merge=qr(a[3][0].data)>>>0>0),r.push(l)}return r}function QV(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=G0(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var u=l-59;l=t[r[0]],u>1&&(l|=t[r[0]+1]<<8),u>2&&(l|=t[r[0]+2]<<16),u>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=u}i.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var g=0,p=0;if(a==1?(p=(t[r[0]]>>2&7)+4,g=(t[r[0]++]&224)<<3,g|=t[r[0]++]):(p=(t[r[0]++]>>2)+1,a==2?(g=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(g=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[sp(i)],g==0)throw new Error("Invalid offset 0");if(g>i[0].length)throw new Error("Invalid offset beyond length");if(p>=g)for(i.push(i[0].slice(-g)),p-=g;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-g,-g+p))}}var m=sp(i);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function JV(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(QV(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return sp(t)}function eH(e,t,r,n){var i=Nm(e),a=i.getUint32(4,!0),l=(n>1?12:8)+Uy(a&(n>1?3470:398))*4,u=-1,g=-1,p=NaN,m=new Date(2001,0,1);a&512&&(u=i.getUint32(l,!0),l+=4),l+=Uy(a&(n>1?12288:4096))*4,a&16&&(g=i.getUint32(l,!0),l+=4),a&32&&(p=i.getFloat64(l,!0),l+=8),a&64&&(m.setTime(m.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var v;switch(e[2]){case 0:break;case 2:v={t:"n",v:p};break;case 3:v={t:"s",v:t[g]};break;case 5:v={t:"d",v:m};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(u>-1)v={t:"s",v:r[u]};else if(g>-1)v={t:"s",v:t[g]};else if(!isNaN(p))v={t:"n",v:p};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return v}function tH(e,t,r){var n=Nm(e),i=n.getUint32(8,!0),a=12,l=-1,u=-1,g=NaN,p=NaN,m=new Date(2001,0,1);i&1&&(g=qV(e,a),a+=16),i&2&&(p=n.getFloat64(a,!0),a+=8),i&4&&(m.setTime(m.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(u=n.getUint32(a,!0),a+=4),i&16&&(l=n.getUint32(a,!0),a+=4);var v;switch(e[1]){case 0:break;case 2:v={t:"n",v:g};break;case 3:v={t:"s",v:t[u]};break;case 5:v={t:"d",v:m};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(l>-1)v={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:v={t:"n",v:g};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return v}function rH(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return eH(e,t,r,e[0]);case 5:return tH(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Oa(e){var t=kn(e);return G0(t[1][0].data)}function jy(e,t){var r=kn(t.data),n=qr(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(l){var u=kn(l.data),g=qr(u[1][0].data)>>>0;switch(n){case 1:a[g]=ip(u[3][0].data);break;case 8:{var p=e[Oa(u[9][0].data)][0],m=kn(p.data),v=e[Oa(m[1][0].data)][0],_=qr(v.meta[1][0].data);if(_!=2001)throw new Error("2000 unexpected reference to ".concat(_));var E=kn(v.data);a[g]=E[3].map(function(A){return ip(A.data)}).join("")}break}}),a}function nH(e,t){var r,n,i,a,l,u,g,p,m,v,_,E,A,C,I=kn(e),b=qr(I[1][0].data)>>>0,k=qr(I[2][0].data)>>>0,S=((n=(r=I[8])==null?void 0:r[0])==null?void 0:n.data)&&qr(I[8][0].data)>0||!1,B,K;if((a=(i=I[7])==null?void 0:i[0])!=null&&a.data&&t!=0)B=(u=(l=I[7])==null?void 0:l[0])==null?void 0:u.data,K=(p=(g=I[6])==null?void 0:g[0])==null?void 0:p.data;else if((v=(m=I[4])==null?void 0:m[0])!=null&&v.data&&t!=1)B=(E=(_=I[4])==null?void 0:_[0])==null?void 0:E.data,K=(C=(A=I[3])==null?void 0:A[0])==null?void 0:C.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var G=S?4:1,F=Nm(B),q=[],W=0;W<B.length/2;++W){var ce=F.getUint16(W*2,!0);ce<65535&&q.push([W,ce])}if(q.length!=k)throw"Expected ".concat(k," cells, found ").concat(q.length);var ue=[];for(W=0;W<q.length-1;++W)ue[q[W][0]]=K.subarray(q[W][1]*G,q[W+1][1]*G);return q.length>=1&&(ue[q[q.length-1][0]]=K.subarray(q[q.length-1][1]*G)),{R:b,cells:ue}}function iH(e,t){var r,n=kn(t.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?qr(n[7][0].data)>>>0>0?1:0:-1,a=Om(n[5],function(l){return nH(l,i)});return{nrows:qr(n[4][0].data)>>>0,data:a.reduce(function(l,u){return l[u.R]||(l[u.R]=[]),u.cells.forEach(function(g,p){if(l[u.R][p])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(p));l[u.R][p]=g}),l},[])}}function sH(e,t,r){var n,i=kn(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(qr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(qr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Mt(a);var l=kn(i[4][0].data),u=jy(e,e[Oa(l[4][0].data)][0]),g=(n=l[17])!=null&&n[0]?jy(e,e[Oa(l[17][0].data)][0]):[],p=kn(l[3][0].data),m=0;p[1].forEach(function(v){var _=kn(v.data),E=e[Oa(_[2][0].data)][0],A=qr(E.meta[1][0].data);if(A!=6002)throw new Error("6001 unexpected reference to ".concat(A));var C=iH(e,E);C.data.forEach(function(I,b){I.forEach(function(k,S){var B=ft({r:m+b,c:S}),K=rH(k,u,g);K&&(r[B]=K)})}),m+=C.nrows})}function aH(e,t){var r=kn(t.data),n={"!ref":"A1"},i=e[Oa(r[2][0].data)],a=qr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return sH(e,i[0],n),n}function oH(e,t){var r,n=kn(t.data),i={name:(r=n[1])!=null&&r[0]?ip(n[1][0].data):"",sheets:[]},a=Om(n[2],Oa);return a.forEach(function(l){e[l].forEach(function(u){var g=qr(u.meta[1][0].data);g==6e3&&i.sheets.push(aH(e,u))})}),i}function lH(e,t){var r=Pm(),n=kn(t.data),i=Om(n[1],Oa);if(i.forEach(function(a){e[a].forEach(function(l){var u=qr(l.meta[1][0].data);if(u==2){var g=oH(e,l);g.sheets.forEach(function(p,m){Mm(r,p,m==0?g.name:g.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function T1(e){var t,r,n,i,a={},l=[];if(e.FullPaths.forEach(function(g){if(g.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(g){if(g.name.match(/\.iwa$/)){var p;try{p=JV(g.content)}catch(v){return console.log("?? "+g.content.length+" "+(v.message||v))}var m;try{m=ZV(p)}catch(v){return console.log("## "+(v.message||v))}m.forEach(function(v){a[v.id]=v.messages,l.push(v.id)})}}),!l.length)throw new Error("File has no messages");var u=((i=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&qr(a[1][0].meta[1][0].data)==1&&a[1][0];if(u||l.forEach(function(g){a[g].forEach(function(p){var m=qr(p.meta[1][0].data)>>>0;if(m==1)if(!u)u=p;else throw new Error("Document has multiple roots")})}),!u)throw new Error("Cannot find Document root");return lH(a,u)}function cH(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Dm(e){cH([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function uH(e){return pl.WS.indexOf(e)>-1?"sheet":e==pl.CS?"chart":e==pl.DS?"dialog":e==pl.MS?"macro":e&&e.length?e:"sheet"}function fH(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,uH(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function hH(e,t,r,n,i,a,l,u,g,p,m,v){try{a[n]=r0(gi(e,r,!0),t);var _=Lr(e,t),E;switch(u){case"sheet":E=wV(_,t,i,g,a[n],p,m,v);break;case"chart":if(E=vV(_,t,i,g,a[n],p,m,v),!E||!E["!drawel"])break;var A=Pc(E["!drawel"].Target,t),C=Jg(A),I=mU(gi(e,A,!0),r0(gi(e,C,!0),A)),b=Pc(I,A),k=Jg(b);E=tV(gi(e,b,!0),b,g,r0(gi(e,k,!0),b),p,E);break;case"macro":E=yV(_,t,i,g,a[n],p,m,v);break;case"dialog":E=_V(_,t,i,g,a[n],p,m,v);break;default:throw new Error("Unrecognized sheet type "+u)}l[n]=E;var S=[];a&&a[n]&&Cs(a[n]).forEach(function(B){var K="";if(a[n][B].Type==pl.CMNT){K=Pc(a[n][B].Target,t);var G=SV(Lr(e,K,!0),K,g);if(!G||!G.length)return;Sy(E,G,!1)}a[n][B].Type==pl.TCMNT&&(K=Pc(a[n][B].Target,t),S=S.concat(vU(Lr(e,K,!0),g)))}),S&&S.length&&Sy(E,S,!0,g.people||[])}catch(B){if(g.WTF)throw B}}function Ii(e){return e.charAt(0)=="/"?e.slice(1):e}function dH(e,t){if(b4(),t=t||{},Dm(t),Ni(e,"META-INF/manifest.xml")||Ni(e,"objectdata.xml"))return By(e,t);if(Ni(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof T1<"u"){if(e.FileIndex)return T1(e);var r=Pt.utils.cfb_new();return Qv(e).forEach(function(Se){gP(r,Se,dP(e,Se))}),T1(r)}throw new Error("Unsupported NUMBERS file")}if(!Ni(e,"[Content_Types].xml"))throw Ni(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ni(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Qv(e),i=cM(gi(e,"[Content_Types].xml")),a=!1,l,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",Lr(e,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!Lr(e,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var g={},p={};if(!t.bookSheets&&!t.bookProps){if(s0=[],i.sst)try{s0=AV(Lr(e,Ii(i.sst)),i.sst,t)}catch(Se){if(t.WTF)throw Se}t.cellStyles&&i.themes.length&&(g=CV(gi(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(p=EV(Lr(e,Ii(i.style)),i.style,g,t))}i.links.map(function(Se){try{var ee=r0(gi(e,Jg(Ii(Se))),Se);return kV(Lr(e,Ii(Se)),ee,Se,t)}catch{}});var m=mV(Lr(e,Ii(i.workbooks[0])),i.workbooks[0],t),v={},_="";i.coreprops.length&&(_=Lr(e,Ii(i.coreprops[0]),!0),_&&(v=nS(_)),i.extprops.length!==0&&(_=Lr(e,Ii(i.extprops[0]),!0),_&&gM(_,v,t)));var E={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(_=gi(e,Ii(i.custprops[0]),!0),_&&(E=xM(_,t)));var A={};if((t.bookSheets||t.bookProps)&&(m.Sheets?l=m.Sheets.map(function(ee){return ee.name}):v.Worksheets&&v.SheetNames.length>0&&(l=v.SheetNames),t.bookProps&&(A.Props=v,A.Custprops=E),t.bookSheets&&typeof l<"u"&&(A.SheetNames=l),t.bookSheets?A.SheetNames:t.bookProps))return A;l={};var C={};t.bookDeps&&i.calcchain&&(C=TV(Lr(e,Ii(i.calcchain)),i.calcchain));var I=0,b={},k,S;{var B=m.Sheets;v.Worksheets=B.length,v.SheetNames=[];for(var K=0;K!=B.length;++K)v.SheetNames[K]=B[K].name}var G=a?"bin":"xml",F=i.workbooks[0].lastIndexOf("/"),q=(i.workbooks[0].slice(0,F+1)+"_rels/"+i.workbooks[0].slice(F+1)+".rels").replace(/^\//,"");Ni(e,q)||(q="xl/_rels/workbook."+G+".rels");var W=r0(gi(e,q,!0),q.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=bV(Lr(e,Ii(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=yU(Lr(e,Ii(i.people[0])),t)),W&&(W=fH(W,m.Sheets));var ce=Lr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(I=0;I!=v.Worksheets;++I){var ue="sheet";if(W&&W[I]?(k="xl/"+W[I][1].replace(/[\/]?xl\//,""),Ni(e,k)||(k=W[I][1]),Ni(e,k)||(k=q.replace(/_rels\/.*$/,"")+W[I][1]),ue=W[I][2]):(k="xl/worksheets/sheet"+(I+1-ce)+"."+G,k=k.replace(/sheet0\./,"sheet.")),S=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(I!=t.sheets)continue e;break;case"string":if(v.SheetNames[I].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var Z=!1,Ee=0;Ee!=t.sheets.length;++Ee)typeof t.sheets[Ee]=="number"&&t.sheets[Ee]==I&&(Z=1),typeof t.sheets[Ee]=="string"&&t.sheets[Ee].toLowerCase()==v.SheetNames[I].toLowerCase()&&(Z=1);if(!Z)continue e}}hH(e,k,S,v.SheetNames[I],I,b,l,ue,t,m,g,p)}return A={Directory:i,Workbook:m,Props:v,Custprops:E,Deps:C,Sheets:l,SheetNames:v.SheetNames,Strings:s0,Styles:p,Themes:g,SSF:xn(xt)},t&&t.bookFiles&&(e.files?(A.keys=n,A.files=e.files):(A.keys=[],A.files={},e.FullPaths.forEach(function(Se,ee){Se=Se.replace(/^Root Entry[\/]/,""),A.keys.push(Se),A.files[Se]=e.FileIndex[ee]}))),t&&t.bookVBA&&(i.vba.length>0?A.vbaraw=Lr(e,Ii(i.vba[0]),!0):i.defaults&&i.defaults.bin===AU&&(A.vbaraw=Lr(e,"xl/vbaProject.bin",!0))),A}function gH(e,t){var r=t||{},n="Workbook",i=Pt.find(e,n);try{if(n="/!DataSpaces/Version",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(aL(i.content),n="/!DataSpaces/DataSpaceMap",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=lL(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=cL(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);fL(i.content)}catch{}if(n="/EncryptionInfo",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var u=hL(i.content);if(n="/EncryptedPackage",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(u[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(u[1],i.content,r.password||"",r);if(u[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(u[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Fm(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=yi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function pH(e,t){return Pt.find(e,"EncryptedPackage")?gH(e,t):WS(e,t)}function xH(e,t){var r,n=e,i=t||{};return i.type||(i.type=Ft&&Buffer.isBuffer(e)?"buffer":"base64"),r=F4(n,i),dH(r,i)}function GS(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return rp(e.slice(r),t);default:break e}return V0.to_workbook(e,t)}function mH(e,t){var r="",n=Fm(e,t);switch(t.type){case"base64":r=yi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=bo(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ar(r)),t.type="binary",GS(r,t)}function wH(e,t){var r=e;return t.type=="base64"&&(r=yi(r)),r=L0.utils.decode(1200,r.slice(2),"str"),t.type="binary",GS(r,t)}function vH(e){return e.match(/[^\x00-\x7F]/)?Mc(e):e}function k1(e,t,r,n){return n?(r.type="string",V0.to_workbook(e,r)):V0.to_workbook(t,r)}function ap(e,t){x4();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return ap(new Uint8Array(e),(r=xn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),bl={},r.dateNF&&(bl.dateNF=r.dateNF),r.type||(r.type=Ft&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ft?"buffer":"binary",n=aP(e),typeof Uint8Array<"u"&&!Ft&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=vH(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),u=new Uint8Array(l);if(u.foo="bar",!u.foo)return r=xn(r),r.type="array",ap(hm(n),r)}switch((i=Fm(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return pH(Pt.read(n,r),r);break;case 9:if(i[1]<=8)return WS(n,r);break;case 60:return rp(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return $B(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return GB.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?xH(n,r):k1(e,n,r,a);case 239:return i[3]===60?rp(n,r):k1(e,n,r,a);case 255:if(i[1]===254)return wH(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return i0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return i0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Ay.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return AL.to_workbook(n,r);break;case 10:case 13:case 32:return mH(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return HB.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Ay.to_workbook(n,r):k1(e,n,r,a)}function yH(e,t,r,n,i,a,l,u){var g=mn(r),p=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),v=!0,_=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:r,enumerable:!1})}catch{_.__rowNum__=r}else _.__rowNum__=r;if(!l||e[r])for(var E=t.s.c;E<=t.e.c;++E){var A=l?e[r][E]:e[n[E]+g];if(A===void 0||A.t===void 0){if(p===void 0)continue;a[E]!=null&&(_[a[E]]=p);continue}var C=A.v;switch(A.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(a[E]!=null){if(C==null)if(A.t=="e"&&C===null)_[a[E]]=null;else if(p!==void 0)_[a[E]]=p;else if(m&&C===null)_[a[E]]=null;else continue;else _[a[E]]=m&&(A.t!=="n"||A.t==="n"&&u.rawNumbers!==!1)?C:$s(A,C,u);C!=null&&(v=!1)}}return{row:_,isempty:v}}function op(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],l=0,u="",g={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},m=p.range!=null?p.range:e["!ref"];switch(p.header===1?n=1:p.header==="A"?n=2:Array.isArray(p.header)?n=3:p.header==null&&(n=0),typeof m){case"string":g=kr(m);break;case"number":g=kr(e["!ref"]),g.s.r=m;break;default:g=m}n>0&&(i=0);var v=mn(g.s.r),_=[],E=[],A=0,C=0,I=Array.isArray(e),b=g.s.r,k=0,S={};I&&!e[b]&&(e[b]=[]);var B=p.skipHidden&&e["!cols"]||[],K=p.skipHidden&&e["!rows"]||[];for(k=g.s.c;k<=g.e.c;++k)if(!(B[k]||{}).hidden)switch(_[k]=Kr(k),r=I?e[b][k]:e[_[k]+v],n){case 1:a[k]=k-g.s.c;break;case 2:a[k]=_[k];break;case 3:a[k]=p.header[k-g.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=l=$s(r,null,p),C=S[l]||0,!C)S[l]=1;else{do u=l+"_"+C++;while(S[u]);S[l]=C,S[u]=1}a[k]=u}for(b=g.s.r+i;b<=g.e.r;++b)if(!(K[b]||{}).hidden){var G=yH(e,g,b,_,n,a,I,p);(G.isempty===!1||(n===1?p.blankrows!==!1:p.blankrows))&&(E[A++]=G.row)}return E.length=A,E}var Wy=/"/g;function _H(e,t,r,n,i,a,l,u){for(var g=!0,p=[],m="",v=mn(r),_=t.s.c;_<=t.e.c;++_)if(n[_]){var E=u.dense?(e[r]||[])[_]:e[n[_]+v];if(E==null)m="";else if(E.v!=null){g=!1,m=""+(u.rawNumbers&&E.t=="n"?E.v:$s(E,null,u));for(var A=0,C=0;A!==m.length;++A)if((C=m.charCodeAt(A))===i||C===a||C===34||u.forceQuotes){m='"'+m.replace(Wy,'""')+'"';break}m=="ID"&&(m='"ID"')}else E.f!=null&&!E.F?(g=!1,m="="+E.f,m.indexOf(",")>=0&&(m='"'+m.replace(Wy,'""')+'"')):m="";p.push(m)}return u.blankrows===!1&&g?null:p.join(l)}function XS(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=kr(e["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,g=u.charCodeAt(0),p=new RegExp((a=="|"?"\\|":a)+"+$"),m="",v=[];n.dense=Array.isArray(e);for(var _=n.skipHidden&&e["!cols"]||[],E=n.skipHidden&&e["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(_[A]||{}).hidden||(v[A]=Kr(A));for(var C=0,I=i.s.r;I<=i.e.r;++I)(E[I]||{}).hidden||(m=_H(e,i,I,v,l,g,a,n),m!=null&&(n.strip&&(m=m.replace(p,"")),(m||n.blankrows!==!1)&&r.push((C++?u:"")+m)));return delete n.dense,r.join("")}function EH(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=XS(e,t);return r}function CH(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=kr(e["!ref"]),a="",l=[],u,g=[],p=Array.isArray(e);for(u=i.s.c;u<=i.e.c;++u)l[u]=Kr(u);for(var m=i.s.r;m<=i.e.r;++m)for(a=mn(m),u=i.s.c;u<=i.e.c;++u)if(t=l[u]+a,r=p?(e[m]||[])[u]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}g[g.length]=t+"="+n}return g}function $S(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},l=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?jn(n.origin):n.origin;l=g.r,u=g.c}var p,m={s:{c:0,r:0},e:{c:u,r:l+t.length-1+i}};if(a["!ref"]){var v=kr(a["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),l==-1&&(l=v.e.r+1,m.e.r=l+t.length-1+i)}else l==-1&&(l=0,m.e.r=t.length-1+i);var _=n.header||[],E=0;t.forEach(function(C,I){Cs(C).forEach(function(b){(E=_.indexOf(b))==-1&&(_[E=_.length]=b);var k=C[b],S="z",B="",K=ft({c:u+E,r:l+I+i});p=X0(a,K),k&&typeof k=="object"&&!(k instanceof Date)?a[K]=k:(typeof k=="number"?S="n":typeof k=="boolean"?S="b":typeof k=="string"?S="s":k instanceof Date?(S="d",n.cellDates||(S="n",k=Gn(k)),B=n.dateNF||xt[14]):k===null&&n.nullError&&(S="e",k=0),p?(p.t=S,p.v=k,delete p.w,delete p.R,B&&(p.z=B)):a[K]=p={t:S,v:k},B&&(p.z=B))})}),m.e.c=Math.max(m.e.c,u+_.length-1);var A=mn(l);if(i)for(E=0;E<_.length;++E)a[Kr(E+u)+A]={t:"s",v:_[E]};return a["!ref"]=Mt(m),a}function AH(e,t){return $S(null,e,t)}function X0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=jn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?X0(e,ft(t)):X0(e,ft({r:t,c:r||0}))}function SH(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Pm(){return{SheetNames:[],Sheets:{}}}function Mm(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var l=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=l+i)!=-1;++i);}if(cV(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function TH(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=SH(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function kH(e,t){return e.z=t,e}function YS(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function bH(e,t,r){return YS(e,"#"+t,r)}function IH(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function RH(e,t,r,n){for(var i=typeof t!="string"?t:kr(t),a=typeof t=="string"?t:Mt(t),l=i.s.r;l<=i.e.r;++l)for(var u=i.s.c;u<=i.e.c;++u){var g=X0(e,l,u);g.t="n",g.F=a,delete g.v,l==i.s.r&&u==i.s.c&&(g.f=r,n&&(g.D=!0))}return e}var NH={encode_col:Kr,encode_row:mn,encode_cell:ft,encode_range:Mt,decode_col:_m,decode_row:ym,split_cell:VP,decode_cell:jn,decode_range:sc,format_cell:$s,sheet_add_aoa:Q4,sheet_add_json:$S,sheet_add_dom:VS,aoa_to_sheet:ac,json_to_sheet:AH,table_to_sheet:HS,table_to_book:$V,sheet_to_csv:XS,sheet_to_txt:EH,sheet_to_json:op,sheet_to_html:XV,sheet_to_formulae:CH,sheet_to_row_object_array:op,sheet_get_cell:X0,book_new:Pm,book_append_sheet:Mm,book_set_sheet_visibility:TH,cell_set_number_format:kH,cell_set_hyperlink:YS,cell_set_internal_link:bH,cell_add_comment:IH,sheet_set_array_formula:RH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const OH=()=>{const[e,t]=_e.useState([]),[r,n]=_e.useState({}),[i,a]=_e.useState({}),[l,u]=_e.useState(!0),[g,p]=_e.useState(!1),[m,v]=_e.useState(!1),[_,E]=_e.useState(!1),[A,C]=_e.useState(!1),[I,b]=_e.useState(!1),[k,S]=_e.useState(null),[B,K]=_e.useState(null),[G,F]=_e.useState(""),[q,W]=_e.useState(null),[ce,ue]=_e.useState(""),[Z,Ee]=_e.useState([]),[Se,ee]=_e.useState(null),[Fe,Ce]=_e.useState([]),[ke,ne]=_e.useState(""),[be,oe]=_e.useState(!1),[U,ae]=_e.useState(new Date().toISOString().split("T")[0]),[Q,re]=_e.useState(new Date().toTimeString().slice(0,5)),[ie,Pe]=_e.useState([]),[Ae,Me]=_e.useState(null),[Re,tt]=_e.useState(null),[Y,qe]=_e.useState(!1),[mt,dt]=_e.useState(null),[Ze,Ne]=_e.useState([]),[Je,it]=_e.useState({current:0,total:0}),[Dt,Ge]=_e.useState(1),Kn=5,[Bt,$t]=_e.useState({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0});_e.useEffect(()=>{Dr(),dr()},[]);const Dr=async()=>{try{u(!0);const se=await Jr.getAllProducts();t(se);const He={},Xe={};for(const Ye of se)He[Ye.id]=await Jr.getUnitsWithBarcodeCount(Ye.id),Xe[Ye.id]=await Jr.getReadyStock(Ye.id);n(He),a(Xe);const Qe=se.filter(Ye=>Ye.stock<=Ye.minStock);Ee(Qe)}catch(se){console.error("Error loading products:",se)}finally{u(!1)}},dr=async()=>{try{const se=await Gu.getAllCategories(),He=await Gu.getCategoriesFromProducts(),Qe=[...se,...He].reduce((Ye,ht)=>(Ye.find(D=>D.name===ht.name)||Ye.push(ht),Ye),[]);Ce(Qe)}catch(se){console.error("Error loading categories:",se)}},Fn=se=>{const{name:He,value:Xe,type:Qe,checked:Ye}=se.target;$t(ht=>({...ht,[He]:Qe==="checkbox"?Ye:Xe}))},er=async se=>{se.preventDefault();try{let He=Bt.category;ke.trim()&&(He=ke.trim(),Fe.find(Ye=>Ye.name.toLowerCase()===He.toLowerCase())||(await Gu.createCategory({name:He}),await dr()));const Xe={...Bt,category:He,price:parseFloat(Bt.price),stock:Bt.useBarcode?0:parseInt(Bt.stock),minStock:parseInt(Bt.minStock)};m&&q?await Jr.updateProduct(q.id,Xe):await Jr.createProduct(Xe),p(!1),v(!1),ne(""),$t({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0}),Dr()}catch(He){console.error("Error saving product:",He)}},Gt=se=>{W(se),$t({name:se.name,category:se.category,price:se.price.toString(),stock:se.stock.toString(),minStock:se.minStock.toString(),useBarcode:se.useBarcode!==!1}),v(!0)},ut=async se=>{if((await Nt.fire({title:"Hapus Produk?",text:"Apakah Anda yakin ingin menghapus produk ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed)try{await Jr.deleteProduct(se),await Nt.fire({title:"Berhasil!",text:"Produk berhasil dihapus.",icon:"success",timer:2e3,showConfirmButton:!1}),Dr()}catch(Xe){console.error("Error deleting product:",Xe),await Nt.fire({title:"Error!",text:"Gagal menghapus produk.",icon:"error"})}},Yt=async se=>{try{const He=await Jr.getProductByBarcode(se);He?(ee(He),C(!0)):await Nt.fire({title:"Produk Tidak Ditemukan",text:"Barcode tidak terdaftar dalam sistem.",icon:"warning"})}catch(He){console.error("Error checking stock:",He),await Nt.fire({title:"Error!",text:"Gagal memeriksa stok.",icon:"error"})}E(!1),S(null)},ln=se=>{K(se),F(""),b(!0)},gt=async se=>{try{if(!B)return;await Jr.addBarcodeToProduct(B,se),await Nt.fire({title:"Berhasil!",text:"Barcode berhasil di-assign.",icon:"success",timer:2e3,showConfirmButton:!1}),K(null),S(null),E(!1),Dr()}catch(He){await Nt.fire({title:"Error!",text:He.message||"Gagal assign barcode",icon:"error"}),K(null),S(null),E(!1)}},Ue=async()=>{if(!G.trim()){await Nt.fire({title:"Perhatian!",text:"Masukkan barcode terlebih dahulu.",icon:"warning"});return}try{await Jr.addBarcodeToProduct(B,G.trim()),await Nt.fire({title:"Berhasil!",text:"Barcode berhasil di-assign.",icon:"success",timer:2e3,showConfirmButton:!1}),b(!1),K(null),F(""),Dr()}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal assign barcode"})}},gr=async()=>{try{const se=Ct(At,`stockAuditsByDate/${U}`),He=await Br(se);let Xe=[];if(He.exists()){const ht=(He.val()||{}).results||{};Xe=e.map(D=>{const M=ht[D.id],L=!!M;return{...D,physicalStock:(M==null?void 0:M.physicalStock)??null,databaseStock:D.stock,readyStock:i[D.id]||0,status:L?"completed":"pending"}})}else await ti(Ct(At,`stockAuditsByDate/${U}/meta`),{date:U,createdAt:Date.now()}),Xe=e.map(Ye=>({...Ye,physicalStock:null,databaseStock:Ye.stock,readyStock:i[Ye.id]||0,status:"pending"}));Pe(Xe);const Qe=Xe.find(Ye=>Ye.status==="pending")||null;Me(Qe),tt(Qe?Qe.useBarcode!==!1?"barcode":"manual":null)}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal memulai audit.",icon:"error"})}},Ht=async se=>{try{const He=await Jr.getProductByBarcode(se);if(!(He&&Ae&&He.id===Ae.id)){await Nt.fire({title:"Barcode Salah",text:"Barcode tidak sesuai produk yang diaudit.",icon:"warning"}),E(!1);return}const Xe=Ct(At,`productUnits/${He.id}`),Qe=await Br(Xe);if(!Qe.exists()){await Nt.fire({title:"Tidak Ada Unit",text:"Tidak ada unit untuk produk ini.",icon:"warning"}),E(!1);return}const Ye=Qe.val(),ht=Object.entries(Ye).find(([le,we])=>we.barcode===se&&we.status==="in_stock");if(!ht){await Nt.fire({title:"Unit Tidak Ditemukan",text:"Unit barcode tidak tersedia/in-stock.",icon:"warning"}),E(!1);return}const[D]=ht,M=ie.find(le=>le.id===Ae.id),L=Array.isArray(M==null?void 0:M.scannedUnits)?M.scannedUnits.slice():[];if(L.includes(D)){await Nt.fire({title:"Duplikat Scan",text:"Unit ini sudah discan untuk produk ini.",icon:"info"}),E(!1);return}L.push(D);const j=L.length,H={productId:He.id,name:He.name,useBarcode:He.useBarcode!==!1,databaseStock:Ae.databaseStock,readyStock:Ae.readyStock,physicalStock:j,scannedUnits:L,status:"pending",updatedAt:Date.now()};await ti(Ct(At,`stockAuditsByDate/${U}/results/${He.id}`),H);const X=ie.map(le=>le.id===Ae.id?{...le,physicalStock:j,scannedUnits:L,status:"pending"}:le);Pe(X),Me(le=>le&&le.id===He.id?{...le,physicalStock:j,scannedUnits:L}:le),await Nt.fire({title:"Tersimpan",text:`Ter-scan: ${j} unit`,icon:"success",timer:1200,showConfirmButton:!1})}catch(He){console.error("Error scanning barcode:",He),await Nt.fire({title:"Error!",text:"Gagal memindai barcode.",icon:"error"})}E(!1)},Zt=async(se,He)=>{try{const Xe=ie.find(D=>D.id===se);if(!Xe)return;const Qe={productId:se,name:Xe.name,useBarcode:Xe.useBarcode!==!1,databaseStock:Xe.databaseStock,readyStock:Xe.readyStock,physicalStock:parseInt(He),status:"completed",updatedAt:Date.now()};await ti(Ct(At,`stockAuditsByDate/${U}/results/${se}`),Qe);const Ye=ie.map(D=>D.id===se?{...D,physicalStock:parseInt(He),status:"completed"}:D);Pe(Ye);const ht=Ye.find(D=>D.status==="pending");ht?(Me(ht),tt(ht.useBarcode!==!1?"barcode":"manual")):(Me(null),tt(null))}catch(Xe){await Nt.fire({title:"Error!",text:Xe.message||"Gagal menyimpan hasil item.",icon:"error"})}},os=async()=>{try{if(!Ae)return;const se=ie.find(ht=>ht.id===Ae.id),He=Array.isArray(se==null?void 0:se.scannedUnits)?se.scannedUnits.length:(se==null?void 0:se.physicalStock)??0,Xe={productId:Ae.id,name:Ae.name,useBarcode:Ae.useBarcode!==!1,databaseStock:Ae.databaseStock,readyStock:Ae.readyStock,physicalStock:He,scannedUnits:Array.isArray(se==null?void 0:se.scannedUnits)?se.scannedUnits:[],status:"completed",updatedAt:Date.now()};await ti(Ct(At,`stockAuditsByDate/${U}/results/${Ae.id}`),Xe);const Qe=ie.map(ht=>ht.id===Ae.id?{...ht,physicalStock:He,status:"completed"}:ht);Pe(Qe);const Ye=Qe.find(ht=>ht.status==="pending");Ye?(Me(Ye),tt(Ye.useBarcode!==!1?"barcode":"manual")):(Me(null),tt(null))}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal menyelesaikan item.",icon:"error"})}},ks=e.filter(se=>{if(!se||!se.name||!se.category)return!1;const He=ce.toLowerCase(),Xe=se.name.toLowerCase().includes(He),Qe=se.category.toLowerCase().includes(He);return Xe||Qe}),Fr=Math.ceil(ks.length/Kn),bt=(Dt-1)*Kn,Hi=bt+Kn,ls=ks.slice(bt,Hi);if(_e.useEffect(()=>{Ge(1)},[ce]),l)return N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:N.jsx("div",{className:"spinner"})});const Go=async()=>{try{const se=Ct(At,"stockAudits"),He=oo(se),Xe={id:He.key,date:U,time:Q,createdAt:Date.now(),results:ie.map(Qe=>({productId:Qe.id,name:Qe.name,useBarcode:Qe.useBarcode!==!1,databaseStock:Qe.databaseStock,readyStock:Qe.readyStock,physicalStock:Qe.physicalStock,status:Qe.status}))};await ti(He,Xe),await Nt.fire({title:"Tersimpan!",text:"Laporan audit berhasil disimpan.",icon:"success",timer:2e3,showConfirmButton:!1})}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal menyimpan laporan audit.",icon:"error"})}},Pn=()=>{try{const se=`Laporan Stock Audit - ${U} ${Q}`,He=ie.map(Ye=>{const ht=Ye.physicalStock!==null?Ye.physicalStock-Ye.databaseStock:null,D=Ye.status==="completed"?ht===0?"Balance":`${ht>0?"+":""}${ht}`:"Pending",M=Ye.status==="completed"?ht===0||ht>0?"#10b981":"#ef4444":"#f59e0b",L=Ye.status==="completed"?ht===0||ht>0?"#10b98120":"#ef444420":"#f59e0b20";return`
          <tr>
            <td>${Ye.name||"-"}</td>
            <td style="text-align:center;">${Ye.useBarcode!==!1?"Barcode":"Manual"}</td>
            <td style="text-align:right;">${Ye.databaseStock??"-"}</td>
            <td style="text-align:right;">${Ye.physicalStock??"-"}</td>
            <td style="text-align:center;">
              <span style="background-color: ${L}; color: ${M}; padding: 4px 8px; border-radius: 4px; font-weight: 500;">
                ${D}
              </span>
            </td>
          </tr>
        `}).join(""),Xe=`
        <html>
          <head>
            <meta charset="utf-8" />
            <title>${se}</title>
            <style>
              body { font-family: Arial, Helvetica, sans-serif; color: #111827; padding: 24px; }
              h1 { font-size: 18px; margin: 0 0 4px 0; }
              p { margin: 0 0 16px 0; color: #6b7280; }
              table { width: 100%; border-collapse: collapse; }
              th, td { border: 1px solid #e5e7eb; padding: 8px; font-size: 12px; }
              th { background: #f3f4f6; text-align: left; }
              tfoot td { font-weight: 600; }
              .meta { margin-bottom: 16px; }
              @media print {
                @page { size: A4; margin: 16mm; }
              }
            </style>
          </head>
          <body>
            <h1>${se}</h1>
            <p class="meta">Total item selesai: ${ie.filter(Ye=>Ye.status==="completed").length}/${ie.length}</p>
            <table>
              <thead>
                <tr>
                  <th>Produk</th>
                  <th style="text-align:center;">Mode</th>
                  <th style="text-align:right;">Database Stock</th>
                  <th style="text-align:right;">Fisik Stock</th>
                  <th style="text-align:center;">Status</th>
                </tr>
              </thead>
              <tbody>
                ${He}
              </tbody>
            </table>
          </body>
        </html>
      `,Qe=window.open("","_blank","width=1024,height=768");if(!Qe)return;Qe.document.open(),Qe.document.write(Xe),Qe.document.close(),Qe.focus(),setTimeout(()=>{Qe.print()},300)}catch(se){Nt.fire({title:"Error!",text:se.message||"Gagal mengekspor PDF.",icon:"error"})}},Ga=se=>{const He=se.target.files[0];He&&(dt(He),Pr(He))},Pr=se=>{const He=new FileReader;He.onload=Xe=>{try{const Qe=new Uint8Array(Xe.target.result),Ye=ap(Qe,{type:"array"}),ht=Ye.SheetNames[0],D=Ye.Sheets[ht],L=NH.sheet_to_json(D,{header:1}).slice(1).map((j,H)=>{var le,we,fe;if(!j[0]||!j[1]||!j[2])return null;const X=((le=j[1])==null?void 0:le.toString().trim())||"";return{name:((we=j[0])==null?void 0:we.toString().trim())||"",category:X,price:parseFloat(j[2])||0,stock:parseInt(j[3])||0,minStock:parseInt(j[4])||0,useBarcode:((fe=j[5])==null?void 0:fe.toString().toLowerCase())==="true"||!1,rowIndex:H+2}}).filter(Boolean);Ne(L)}catch{Nt.fire({title:"Error!",text:"Gagal membaca file Excel.",icon:"error"})}},He.readAsArrayBuffer(se)},cs=se=>{const He=[];return se.forEach((Xe,Qe)=>{Xe.name||He.push(`Baris ${Xe.rowIndex}: Nama produk kosong`),Xe.category||He.push(`Baris ${Xe.rowIndex}: Kategori kosong`),Xe.price<=0&&He.push(`Baris ${Xe.rowIndex}: Harga harus lebih dari 0`),Xe.stock<0&&He.push(`Baris ${Xe.rowIndex}: Stock tidak boleh negatif`),Xe.minStock<0&&He.push(`Baris ${Xe.rowIndex}: Min stock tidak boleh negatif`)}),He},Qs=async()=>{try{const se=cs(Ze);if(se.length>0){await Nt.fire({title:"Data Tidak Valid!",html:se.slice(0,5).join("<br>")+(se.length>5?"<br>...dan lainnya":""),icon:"error"});return}it({current:0,total:Ze.length});const He=[...new Set(Ze.map(Xe=>Xe.category))];for(const Xe of He)Fe.find(Ye=>Ye.name.toLowerCase()===Xe.toLowerCase())||await Gu.createCategory({name:Xe});await dr();for(let Xe=0;Xe<Ze.length;Xe++){const Qe=Ze[Xe];await Jr.createProduct({name:Qe.name,category:Qe.category,price:Qe.price,stock:Qe.useBarcode?0:Qe.stock,minStock:Qe.minStock,useBarcode:Qe.useBarcode}),it({current:Xe+1,total:Ze.length})}await Nt.fire({title:"Berhasil!",text:`${Ze.length} produk berhasil diimpor.`,icon:"success"}),qe(!1),dt(null),Ne([]),it({current:0,total:0}),Dr()}catch(se){await Nt.fire({title:"Error!",text:se.message||"Gagal mengimpor produk.",icon:"error"})}};return N.jsxs("div",{style:{padding:"1.5rem"},children:[N.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"}}),Z.length>0&&N.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center"},children:[N.jsx(Ag,{size:20,style:{color:"#dc2626",marginRight:"0.5rem"}}),N.jsxs("div",{children:[N.jsx("h3",{style:{fontWeight:"500",color:"#991b1b",margin:0,fontSize:"0.875rem"},children:"Stok Rendah!"}),N.jsxs("p",{style:{fontSize:"0.75rem",color:"#dc2626",marginTop:"0.25rem",margin:0},children:[Z.length," produk memiliki stok di bawah minimum"]})]})]}),N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[N.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"1rem 1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",flexDirection:window.innerWidth<=768?"column":"row",alignItems:window.innerWidth<=768?"stretch":"center",justifyContent:"space-between",gap:"1rem"},children:[N.jsxs("div",{style:{position:"relative",flex:window.innerWidth<=768?"none":"1",maxWidth:window.innerWidth<=768?"none":"300px"},children:[N.jsx(xC,{size:20,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),N.jsx("input",{type:"text",placeholder:"Cari produk...",value:ce,onChange:se=>ue(se.target.value),style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",width:window.innerWidth<=768?"100%":"auto"},children:[N.jsxs("button",{onClick:()=>oe(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[N.jsx(pC,{size:20}),"Stock Audit"]}),N.jsxs("button",{onClick:()=>qe(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[N.jsx(Xc,{size:20}),"Import Excel"]}),N.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[N.jsx(Sg,{size:20}),"Produk"]})]})]}),N.jsxs("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch",display:window.innerWidth<=768?"none":"block"},children:[N.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[N.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:N.jsxs("tr",{children:[N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Produk"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Ready Stock"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Kategori"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Stok"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Harga"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Aksi"})]})}),N.jsx("tbody",{children:ls.map(se=>N.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[N.jsx("td",{style:{padding:"1rem 1.5rem"},children:N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx(Xc,{size:20,style:{color:"#9ca3af",marginRight:"0.75rem"}}),N.jsx("div",{children:N.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:se.name})})]})}),N.jsxs("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx("span",{style:{fontWeight:"600",color:(se.useBarcode===!1?se.stock:i[se.id]||0)>0?"#059669":"#dc2626"},children:se.useBarcode===!1?se.stock:i[se.id]||0}),N.jsxs("span",{style:{color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",se.stock," unit"]})]}),N.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:se.useBarcode!==!1?"Dengan barcode":"Tanpa barcode"})]}),N.jsx("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:se.category}),N.jsxs("td",{style:{padding:"1rem 1.5rem"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:se.stock<=se.minStock?"#dc2626":"#111827"},children:se.stock}),N.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",se.minStock," min"]})]}),N.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:se.useBarcode!==!1?"Dihitung dari unit":"Manual"})]}),N.jsxs("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:["Rp ",se.price.toLocaleString("id-ID")]}),N.jsx("td",{style:{padding:"1rem 1.5rem"},children:N.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[N.jsx("button",{onClick:()=>Gt(se),style:{color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:N.jsx(xw,{size:16})}),se.useBarcode!==!1&&N.jsx("button",{onClick:()=>ln(se.id),style:{color:"#10b981",background:"none",border:"1px dashed #10b981",borderRadius:"0.375rem",cursor:"pointer",padding:"0.25rem 0.5rem",fontSize:"0.75rem"},title:"Assign barcode via scan",children:N.jsx(Oc,{size:14})}),N.jsx("button",{onClick:()=>ut(se.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:N.jsx(Tg,{size:16})})]})})]},se.id))})]}),Fr>1&&N.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"1rem",padding:"1rem"},children:[N.jsx("button",{onClick:()=>Ge(se=>Math.max(se-1,1)),disabled:Dt===1,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:Dt===1?"#f9fafb":"white",color:Dt===1?"#9ca3af":"#374151",cursor:Dt===1?"not-allowed":"pointer",transition:"all 0.2s"},children:N.jsx(gw,{size:20})}),N.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",minWidth:"100px",textAlign:"center"},children:[Dt," / ",Fr]}),N.jsx("button",{onClick:()=>Ge(se=>Math.min(se+1,Fr)),disabled:Dt===Fr,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:Dt===Fr?"#f9fafb":"white",color:Dt===Fr?"#9ca3af":"#374151",cursor:Dt===Fr?"not-allowed":"pointer",transition:"all 0.2s"},children:N.jsx(pw,{size:20})})]})]}),N.jsxs("div",{style:{display:window.innerWidth<=768?"block":"none"},children:[ls.map(se=>N.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{style:{flex:1},children:[N.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:N.jsxs("div",{children:[N.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:se.name}),N.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:se.category})]})}),N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[N.jsxs("div",{children:[N.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:(se.useBarcode===!1?se.stock:i[se.id]||0)>0?"#059669":"#dc2626"},children:["Ready ",se.useBarcode===!1?se.stock:i[se.id]||0]}),N.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",se.stock]})]}),N.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Rp ",se.price.toLocaleString("id-ID")]})]}),N.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:se.useBarcode!==!1?"Dengan barcode":"Tanpa barcode"})]}),N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginLeft:"1rem"},children:[N.jsx("button",{onClick:()=>Gt(se),style:{color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Edit",children:N.jsx(xw,{size:14})}),se.useBarcode!==!1&&N.jsx("button",{onClick:()=>ln(se.id),style:{color:"#10b981",background:"none",border:"1px dashed #10b981",borderRadius:"0.25rem",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Assign Barcode",children:N.jsx(Oc,{size:14})}),N.jsx("button",{onClick:()=>ut(se.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Delete",children:N.jsx(Tg,{size:14})})]})]},se.id)),Fr>1&&N.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"1rem",padding:"1rem"},children:[N.jsx("button",{onClick:()=>Ge(se=>Math.max(se-1,1)),disabled:Dt===1,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:Dt===1?"#f9fafb":"white",color:Dt===1?"#9ca3af":"#374151",cursor:Dt===1?"not-allowed":"pointer",transition:"all 0.2s"},children:N.jsx(gw,{size:20})}),N.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",minWidth:"100px",textAlign:"center"},children:[Dt," / ",Fr]}),N.jsx("button",{onClick:()=>Ge(se=>Math.min(se+1,Fr)),disabled:Dt===Fr,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:Dt===Fr?"#f9fafb":"white",color:Dt===Fr?"#9ca3af":"#374151",cursor:Dt===Fr?"not-allowed":"pointer",transition:"all 0.2s"},children:N.jsx(pw,{size:20})})]})]})]}),(g||m)&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:g?"Tambah Produk":"Edit Produk"}),N.jsxs("form",{onSubmit:er,children:[N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Nama Produk"}),N.jsx("input",{type:"text",name:"name",value:Bt.name,onChange:Fn,required:!0,className:"form-input"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Kategori"}),N.jsxs("select",{name:"category",value:Bt.category,onChange:Fn,required:!0,className:"form-select",children:[N.jsx("option",{value:"",children:"Pilih Kategori"}),Fe.map(se=>N.jsx("option",{value:se.name,children:se.name},se.name)),N.jsx("option",{value:"custom",children:"+ Tambah Kategori Baru"})]}),Bt.category==="custom"&&N.jsx("div",{style:{marginTop:"0.5rem"},children:N.jsx("input",{type:"text",placeholder:"Masukkan nama kategori baru...",value:ke,onChange:se=>ne(se.target.value),className:"form-input",style:{marginTop:"0.5rem"}})})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Harga"}),N.jsx("input",{type:"number",name:"price",value:Bt.price,onChange:Fn,required:!0,min:"0",step:"0.01",className:"form-input",placeholder:"Harga jual produk"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Gunakan Barcode"}),N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.jsx("input",{type:"checkbox",name:"useBarcode",checked:Bt.useBarcode,onChange:Fn,style:{width:"1rem",height:"1rem"}}),N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Centang jika produk menggunakan barcode untuk tracking unit"})]}),Bt.useBarcode&&N.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#0369a1"},children:[N.jsx("strong",{children:"Info:"}),' Stok akan dihitung otomatis dari jumlah unit yang memiliki barcode. Field "Stok Awal" akan di-disable.']}),!Bt.useBarcode&&N.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#92400e"},children:[N.jsx("strong",{children:"Info:"}),' Produk tanpa barcode menggunakan input stok manual. Field "Stok Awal" akan di-enable untuk input manual.']})]}),N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Stok Awal"}),N.jsx("input",{type:"number",name:"stock",value:Bt.stock,onChange:Fn,required:!Bt.useBarcode,disabled:Bt.useBarcode,min:"0",className:"form-input",placeholder:Bt.useBarcode?"Dihitung otomatis":"Jumlah stok awal",style:{opacity:Bt.useBarcode?.6:1,backgroundColor:Bt.useBarcode?"#f9fafb":"white",cursor:Bt.useBarcode?"not-allowed":"text"}})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Stok Minimum"}),N.jsx("input",{type:"number",name:"minStock",value:Bt.minStock,onChange:Fn,required:!0,min:"0",className:"form-input",placeholder:"Minimum stock untuk alert"})]})]})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1.5rem"},children:[N.jsx("button",{type:"button",onClick:()=>{p(!1),v(!1),ne(""),$t({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0})},className:"btn btn-secondary",style:{flex:1},children:"Batal"}),N.jsx("button",{type:"submit",className:"btn btn-primary",style:{flex:1},children:g?"Tambah":"Update"})]})]})]})}),I&&B&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Assign Barcode ke Unit"}),N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsx("label",{className:"form-label",children:"Input Barcode Manual"}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("input",{type:"text",value:G,onChange:se=>F(se.target.value),placeholder:"Masukkan barcode...",className:"form-input",style:{flex:1}}),N.jsx("button",{onClick:Ue,className:"btn btn-primary",style:{padding:"0.5rem 1rem"},children:"Assign"})]})]}),N.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem",padding:"1rem",backgroundColor:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e5e7eb"},children:[N.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0 0 0.5rem 0"},children:"Atau scan barcode dengan kamera"}),N.jsxs("button",{onClick:()=>{b(!1),S("assign"),E(!0)},style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",margin:"0 auto"},children:[N.jsx(Oc,{size:16}),"Scan Barcode"]})]}),N.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:N.jsx("button",{onClick:()=>{b(!1),K(null),F("")},className:"btn btn-secondary",style:{flex:1},children:"Tutup"})})]})}),A&&Se&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Informasi Stok Produk"}),N.jsxs("div",{style:{backgroundColor:Se.stock<=Se.minStock?"#fef2f2":"#f0fdf4",border:`1px solid ${Se.stock<=Se.minStock?"#fecaca":"#bbf7d0"}`,borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[N.jsx(Xc,{size:20,style:{color:Se.stock<=Se.minStock?"#dc2626":"#059669",marginRight:"0.5rem"}}),N.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",color:Se.stock<=Se.minStock?"#991b1b":"#065f46",margin:0},children:Se.name})]}),N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Unit ID:"}),N.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:Se.matchedUnitId||"-"})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Kategori:"}),N.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:Se.category})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Stok Saat Ini:"}),N.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:Se.stock<=Se.minStock?"#dc2626":"#059669"},children:[Se.stock," unit"]})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Stok Minimum:"}),N.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:[Se.minStock," unit"]})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Harga:"}),N.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:["Rp ",Se.price.toLocaleString("id-ID")]})]})]}),Se.stock<=Se.minStock&&N.jsx("div",{style:{marginTop:"0.75rem",padding:"0.5rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.25rem"},children:N.jsxs("p",{style:{fontSize:"0.75rem",color:"#991b1b",margin:0,display:"flex",alignItems:"center"},children:[N.jsx(Ag,{size:14,style:{marginRight:"0.25rem"}}),"Stok rendah! Segera lakukan restocking."]})})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>{C(!1),ee(null)},className:"btn btn-secondary",style:{flex:1},children:"Tutup"}),N.jsx("button",{onClick:()=>{C(!1),ee(null),E(!0)},className:"btn btn-primary",style:{flex:1},children:"Scan Lagi"})]})]})}),be&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",style:{maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Stock Audit Report"}),N.jsxs("div",{className:"audit-inputs",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[N.jsxs("div",{style:{flex:1},children:[N.jsx("label",{className:"form-label",children:"Tanggal"}),N.jsx("input",{type:"date",value:U,onChange:se=>ae(se.target.value),className:"form-input",style:{fontSize:"0.875rem",padding:"0.5rem"}})]}),N.jsxs("div",{style:{flex:1},children:[N.jsx("label",{className:"form-label",children:"Waktu"}),N.jsx("input",{type:"time",value:Q,onChange:se=>re(se.target.value),className:"form-input",style:{fontSize:"0.875rem",padding:"0.5rem"}})]})]}),ie.length===0&&N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>oe(!1),className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Tutup"}),N.jsx("button",{onClick:gr,className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Mulai Stock Audit"})]}),Ae&&N.jsxs("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1.5rem"},children:[N.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem",margin:0},children:Ae.name}),N.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.5rem",margin:0},children:["Stock : ",Ae.databaseStock]}),Re==="manual"?N.jsx("div",{children:N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("input",{type:"number",min:"0",placeholder:"Jumlah stock fisik",className:"form-input",style:{flex:1},onKeyPress:se=>{if(se.key==="Enter"){const He=se.target.value;He&&(Zt(Ae.id,He),se.target.value="")}}}),N.jsx("button",{onClick:se=>{const He=se.target.previousElementSibling;He.value&&(Zt(Ae.id,He.value),He.value="")},className:"btn btn-primary",children:"Submit"})]})}):N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.5rem",margin:0},children:"Scan barcode untuk menghitung stock fisik"}),N.jsxs("button",{onClick:()=>E(!0),className:"btn btn-primary",style:{width:"100%"},children:[N.jsx(Oc,{size:20,style:{marginRight:"0.5rem"}}),"Scan Barcode"]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.5rem",fontSize:"0.75rem",color:"#6b7280"},children:[N.jsxs("span",{children:["Ter-scan: ",Array.isArray(Ae.scannedUnits)?Ae.scannedUnits.length:Ae.physicalStock??0," unit"]}),N.jsxs("span",{children:["Var: ",(()=>{const He=(Array.isArray(Ae.scannedUnits)?Ae.scannedUnits.length:Ae.physicalStock??0)-(Ae.databaseStock??0);return`${He>0?"+":""}${He}`})()]})]}),N.jsx("button",{onClick:os,className:"btn btn-secondary",style:{width:"100%",marginTop:"0.5rem"},children:"Selesaikan Item"})]})]}),ie.length>0&&N.jsxs("div",{children:[N.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:["Hasil Audit (",ie.filter(se=>se.status==="completed").length,"/",ie.length,")"]}),N.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:ie.map(se=>{const He=se.physicalStock!==null?se.physicalStock-se.databaseStock:null,Xe=se.physicalStock!==null?se.physicalStock-se.readyStock:null,Qe=He!==null&&He!==0,Ye=Xe!==null&&Xe!==0,ht=He!==null&&He<0||Xe!==null&&Xe<0;return N.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"0.5rem",backgroundColor:se.status==="completed"?ht?"#fef2f2":"#f0fdf4":"#fefce8",borderLeft:Qe||Ye?"4px solid #ef4444":"4px solid #10b981"},children:N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{children:[N.jsx("h5",{style:{fontSize:"0.875rem",fontWeight:"500",margin:0},children:se.name}),N.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:se.useBarcode!==!1?"Barcode":"Manual"})]}),N.jsxs("div",{style:{textAlign:"right"},children:[N.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Stock : ",se.databaseStock]}),se.status==="completed"?N.jsxs("div",{children:[N.jsxs("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#059669"},children:["Fisik: ",se.physicalStock]}),(Qe||Ye)&&N.jsx("div",{style:{fontSize:"0.7rem",marginTop:"0.25rem"},children:Ye&&N.jsxs("span",{style:{color:Xe>0?"#059669":"#ef4444",fontWeight:"500"},children:[Xe>0?"+":"",Xe]})})]}):N.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#f59e0b"},children:"Pending"})]})]})},se.id)})})]}),ie.length>0&&N.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[N.jsx("button",{onClick:()=>{oe(!1),Pe([]),Me(null),tt(null)},className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Tutup"}),N.jsx("button",{onClick:Pn,className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Export PDF"}),N.jsx("button",{onClick:async()=>{await ti(Ct(At,`stockAuditsByDate/${U}/meta/`),{date:U,updatedAt:Date.now()}),await Go()},className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Simpan Laporan"})]})]})}),Y&&N.jsx("div",{className:"modal-overlay",onClick:()=>qe(!1),children:N.jsxs("div",{className:"modal",style:{maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},onClick:se=>se.stopPropagation(),children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Import Produk dari Excel"}),N.jsxs("div",{style:{marginBottom:"1.5rem"},children:[N.jsx("label",{className:"form-label",children:"Format Excel:"}),N.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem"},children:"Kolom: Nama | Kategori | Harga | Stock | Min Stock | Use Barcode (true/false)"}),N.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Ga,className:"form-input",style:{padding:"0.5rem"}})]}),Ze.length>0&&N.jsxs("div",{style:{marginBottom:"1.5rem"},children:[N.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem"},children:["Preview Data (",Ze.length," produk)"]}),N.jsxs("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"0.5rem"},children:[N.jsxs("table",{style:{width:"100%",fontSize:"0.75rem"},children:[N.jsx("thead",{style:{backgroundColor:"#f3f4f6"},children:N.jsxs("tr",{children:[N.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Nama"}),N.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Kategori"}),N.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Harga"}),N.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Stock"}),N.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Barcode"})]})}),N.jsx("tbody",{children:Ze.slice(0,10).map((se,He)=>N.jsxs("tr",{children:[N.jsx("td",{style:{padding:"0.5rem"},children:se.name}),N.jsx("td",{style:{padding:"0.5rem"},children:se.category}),N.jsx("td",{style:{padding:"0.5rem",textAlign:"right"},children:se.price.toLocaleString()}),N.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:se.stock}),N.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:se.useBarcode?"Ya":"Tidak"})]},He))})]}),Ze.length>10&&N.jsxs("div",{style:{padding:"0.5rem",textAlign:"center",color:"#6b7280"},children:["...dan ",Ze.length-10," produk lainnya"]})]})]}),Je.total>0&&N.jsxs("div",{style:{marginBottom:"1.5rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[N.jsx("span",{style:{fontSize:"0.875rem"},children:"Progress Import"}),N.jsxs("span",{style:{fontSize:"0.875rem"},children:[Je.current,"/",Je.total]})]}),N.jsx("div",{style:{width:"100%",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",height:"8px"},children:N.jsx("div",{style:{width:`${Je.current/Je.total*100}%`,backgroundColor:"#10b981",height:"100%",borderRadius:"0.25rem",transition:"width 0.3s ease"}})})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>{qe(!1),dt(null),Ne([]),it({current:0,total:0})},className:"btn btn-secondary",style:{flex:1},children:"Batal"}),N.jsx("button",{onClick:Qs,disabled:Ze.length===0||Je.total>0,className:"btn btn-primary",style:{flex:1},children:Je.total>0?"Mengimpor...":"Import Produk"})]})]})}),N.jsx(yA,{isOpen:_,onScan:k==="assign"?gt:k==="check"?Yt:Ht,onClose:()=>{E(!1),S(null),K(null)}})]})},DH=()=>{const[e,t]=_e.useState([]),[r,n]=_e.useState({}),[i,a]=_e.useState([]),[l,u]=_e.useState(!0),[g,p]=_e.useState(!1),[m,v]=_e.useState(null),[_,E]=_e.useState(null),[A,C]=_e.useState(""),[I,b]=_e.useState("all"),[k,S]=_e.useState({name:"",phone:""}),[B,K]=_e.useState("cash"),[G,F]=_e.useState(!1),[q,W]=_e.useState(null);_e.useEffect(()=>{ce()},[]);const ce=async()=>{try{u(!0);const oe=await Jr.getAllProducts(),U={};for(const Q of oe)U[Q.id]=await Jr.getReadyStock(Q.id);n(U);const ae=oe.filter(Q=>U[Q.id]>0);t(ae)}catch(oe){console.error("Error loading products:",oe)}finally{u(!1)}},ue=async oe=>{try{const U=await Jr.getProductByBarcode(oe);U?m==="add"?Z(U):m==="increase"&&_?Se(_):Z(U):await Nt.fire({title:"Produk Tidak Ditemukan",text:"Barcode tidak terdaftar dalam sistem.",icon:"warning"})}catch(U){console.error("Error scanning barcode:",U),await Nt.fire({title:"Error!",text:"Gagal memindai barcode.",icon:"error"})}p(!1),v(null),E(null)},Z=oe=>{if(i.find(ae=>ae.productId===oe.id))Se(oe.id);else{if((r[oe.id]||0)<=0){Nt.fire({title:"Stok Habis",text:"Stok siap jual untuk produk ini habis.",icon:"warning"});return}a([...i,{productId:oe.id,productName:oe.name,quantity:1,price:oe.price,total:oe.price}])}},Ee=oe=>{a(i.filter(U=>U.productId!==oe))},Se=oe=>{if(!e.find(re=>re.id===oe))return;const ae=r[oe]||0,Q=i.find(re=>re.productId===oe);if(Q){if(Q.quantity>=ae){Nt.fire({title:"Stok Tidak Cukup",text:`Maksimal quantity: ${ae}`,icon:"warning"});return}const re=Q.quantity+1;a(i.map(ie=>ie.productId===oe?{...ie,quantity:re,total:re*ie.price}:ie))}},ee=(oe,U)=>{if(U<=0){Ee(oe);return}const ae=r[oe]||0;if(U>ae){Nt.fire({title:"Stok Tidak Cukup",text:`Maksimal quantity: ${ae}`,icon:"warning"});return}a(i.map(Q=>Q.productId===oe?{...Q,quantity:U,total:U*Q.price}:Q))},Fe=()=>i.reduce((oe,U)=>oe+U.total,0),Ce=oe=>{oe.useBarcode!==!1?(v("add"),E(oe.id),p(!0)):Z(oe)},ke=oe=>{const U=e.find(ae=>ae.id===oe);U&&U.useBarcode!==!1?(v("increase"),E(oe),p(!0)):Se(oe)},ne=async()=>{if(i.length===0){await Nt.fire({title:"Keranjang Kosong",text:"Tambahkan produk ke keranjang terlebih dahulu.",icon:"warning"});return}try{const oe={items:i,totalAmount:Fe(),customerName:k.name,customerPhone:k.phone,paymentMethod:B},U=await xA.createSale(oe);W(U),F(!0),a([]),S({name:"",phone:""}),K("cash"),ce()}catch(oe){console.error("Error creating sale:",oe),await Nt.fire({title:"Error!",text:"Gagal melakukan penjualan.",icon:"error"})}},be=e.filter(oe=>{if(!oe||!oe.name||!oe.category)return!1;const U=A.toLowerCase(),ae=oe.name.toLowerCase().includes(U),Q=oe.category.toLowerCase().includes(U),re=ae||Q;let ie=!0;return I==="barcode"?ie=oe.useBarcode!==!1:I==="manual"&&(ie=oe.useBarcode===!1),re&&ie});return l?N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:N.jsx("div",{className:"spinner"})}):N.jsxs("div",{style:{padding:"1.5rem"},children:[N.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"2fr 1fr",gap:"1rem"},children:[N.jsx("div",{children:N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[N.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Daftar Produk"}),N.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[N.jsx(Oc,{size:20}),"Scan Barcode"]})]}),N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsxs("div",{style:{position:"relative",marginBottom:"0.75rem"},children:[N.jsx(xC,{size:20,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),N.jsx("input",{type:"text",placeholder:"Cari produk...",value:A,onChange:oe=>C(oe.target.value),style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>b("all"),style:{backgroundColor:I==="all"?"#3b82f6":"#f3f4f6",color:I==="all"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Semua"}),N.jsx("button",{onClick:()=>b("barcode"),style:{backgroundColor:I==="barcode"?"#3b82f6":"#f3f4f6",color:I==="barcode"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Dengan Barcode"}),N.jsx("button",{onClick:()=>b("manual"),style:{backgroundColor:I==="manual"?"#3b82f6":"#f3f4f6",color:I==="manual"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Manual"})]})]}),N.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",maxHeight:window.innerWidth<=768?"20rem":"24rem",overflowY:"auto"},children:be.map(oe=>N.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem",transition:"box-shadow 0.2s"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[N.jsx("h3",{style:{fontWeight:"500",color:"#111827",margin:0,fontSize:"0.875rem"},children:oe.name}),N.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:oe.category})]}),N.jsxs("div",{style:{marginBottom:"0.5rem"},children:[N.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:["Barcode: ",oe.useBarcode!==!1?"Per unit":oe.barcode||"-"]}),N.jsx("span",{style:{fontSize:"0.625rem",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",backgroundColor:oe.useBarcode!==!1?"#dbeafe":"#f3f4f6",color:oe.useBarcode!==!1?"#1e40af":"#6b7280",fontWeight:"500"},children:oe.useBarcode!==!1?"Dengan Barcode":"Manual"})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("span",{style:{fontWeight:"600",color:"#2563eb",fontSize:"0.875rem"},children:["Rp ",oe.price.toLocaleString("id-ID")]}),N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.jsxs("span",{style:{fontSize:"0.75rem",color:(r[oe.id]||0)>0?"#059669":"#dc2626"},children:["Ready: ",r[oe.id]||0]}),N.jsx("button",{onClick:()=>Ce(oe),disabled:(r[oe.id]||0)<=0,style:{backgroundColor:(r[oe.id]||0)<=0?"#d1d5db":"#3b82f6",color:"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:(r[oe.id]||0)<=0?"not-allowed":"pointer",fontSize:"0.75rem"},title:(r[oe.id]||0)<=0?"Stok habis":oe.useBarcode!==!1?"Scan barcode untuk menambah":"Tambah ke keranjang",children:N.jsx(Sg,{size:16})})]})]})]},oe.id))})]})}),N.jsx("div",{children:N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[N.jsxs("h2",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0,display:"flex",alignItems:"center"},children:[N.jsx(ix,{size:20,style:{marginRight:"0.5rem"}}),"Keranjang"]}),N.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem",maxHeight:"16rem",overflowY:"auto"},children:i.map(oe=>N.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[N.jsx("h4",{style:{fontWeight:"500",fontSize:"0.75rem",color:"#111827",margin:0},children:oe.productName}),N.jsx("button",{onClick:()=>Ee(oe.productId),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:N.jsx(Tg,{size:14})})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>ee(oe.productId,oe.quantity-1),style:{backgroundColor:"#e5e7eb",color:"#374151",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:"pointer",fontSize:"0.75rem"},"aria-label":"Kurangi qty (akan menghapus item)",children:N.jsx(Jb,{size:12})}),N.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"500"},children:oe.quantity}),N.jsx("button",{onClick:()=>ke(oe.productId),disabled:oe.quantity>=(r[oe.productId]||0),style:{backgroundColor:oe.quantity>=(r[oe.productId]||0)?"#e5e7eb":"#3b82f6",color:oe.quantity>=(r[oe.productId]||0)?"#9ca3af":"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:oe.quantity>=(r[oe.productId]||0)?"not-allowed":"pointer",fontSize:"0.75rem"},title:oe.quantity>=(r[oe.productId]||0)?"Stok tidak cukup":"Tambah quantity",children:N.jsx(Sg,{size:12})})]}),N.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600"},children:["Rp ",oe.total.toLocaleString("id-ID")]})]})]},oe.productId))}),N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Nama"}),N.jsx("input",{type:"text",value:k.name,onChange:oe=>S(U=>({...U,name:oe.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"No. HP"}),N.jsx("input",{type:"text",value:k.phone,onChange:oe=>S(U=>({...U,phone:oe.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Metode Pembayaran"}),N.jsxs("select",{value:B,onChange:oe=>K(oe.target.value),className:"form-select",style:{fontSize:"0.75rem"},children:[N.jsx("option",{value:"cash",children:"Tunai"}),N.jsx("option",{value:"qris",children:"QRIS"}),N.jsx("option",{value:"card",children:"Kartu"}),N.jsx("option",{value:"transfer",children:"Transfer"})]})]})]}),N.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[N.jsx("span",{style:{fontSize:"1.125rem",fontWeight:"600"},children:"Total"}),N.jsxs("span",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#2563eb"},children:["Rp ",Fe().toLocaleString("id-ID")]})]}),N.jsx("button",{onClick:ne,disabled:i.length===0,style:{width:"100%",backgroundColor:i.length===0?"#d1d5db":"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:i.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:"Checkout"})]})]})})]}),N.jsx(yA,{isOpen:g,onScan:ue,onClose:()=>{p(!1),v(null),E(null)}}),G&&q&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Struk Penjualan"}),N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{children:"No. Transaksi:"}),N.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.75rem"},children:q.id})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{children:"Tanggal:"}),N.jsx("span",{children:new Date(q.createdAt).toLocaleString("id-ID")})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{children:"Pelanggan:"}),N.jsx("span",{children:q.customerName||"-"})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{children:"Pembayaran:"}),N.jsx("span",{style:{textTransform:"capitalize"},children:q.paymentMethod})]})]}),N.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem",marginBottom:"1rem"},children:[N.jsx("h4",{style:{fontWeight:"500",marginBottom:"0.5rem",margin:0},children:"Item:"}),q.items.map((oe,U)=>N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem"},children:[N.jsxs("span",{children:[oe.productName," x",oe.quantity]}),N.jsxs("span",{children:["Rp ",oe.total.toLocaleString("id-ID")]})]},U))]}),N.jsx("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem",marginBottom:"1rem"},children:N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600"},children:[N.jsx("span",{children:"Total:"}),N.jsxs("span",{children:["Rp ",q.totalAmount.toLocaleString("id-ID")]})]})}),N.jsx("button",{onClick:()=>F(!1),className:"btn btn-primary",style:{width:"100%"},children:"Tutup"})]})})]})},FH=()=>{const[e,t]=_e.useState(!1),[r,n]=_e.useState(!1),[i,a]=_e.useState(!1);return _e.useEffect(()=>{const l=()=>{const u=window.innerWidth;t(u<=768),n(u>768&&u<=1024),a(u>1024)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:e,isTablet:r,isDesktop:i}},PH=()=>{const{isMobile:e}=FH(),[t,r]=_e.useState({totalProducts:0,lowStockProducts:0,totalSales:0,totalRevenue:0}),[n,i]=_e.useState(!0),[a,l]=_e.useState([]);_e.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const[p,m]=await Promise.all([Jr.getAllProducts(),xA.getAllSales()]),v=p.filter(A=>A.stock<=A.minStock),_=m.reduce((A,C)=>A+C.totalAmount,0);r({totalProducts:p.length,lowStockProducts:v.length,totalSales:m.length,totalRevenue:_});const E=m.sort((A,C)=>C.createdAt-A.createdAt).slice(0,5);l(E)}catch(p){console.error("Error loading dashboard data:",p)}finally{i(!1)}},g=({title:p,value:m,icon:v,color:_})=>N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem",display:"flex",alignItems:"center"},children:[N.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:_+"20",marginRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:N.jsx(v,{size:24,style:{color:_}})}),N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",margin:0},children:p}),N.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#111827",margin:0},children:m})]})]});return n?N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:N.jsx("div",{className:"spinner"})}):N.jsxs("div",{style:{padding:"1.5rem"},children:[N.jsxs("div",{style:{display:"grid",gridTemplateColumns:e?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:e?"1rem":"1.5rem",marginBottom:"1.5rem"},children:[N.jsx(g,{title:"Total Produk",value:t.totalProducts,icon:Xc,color:"#3b82f6"}),N.jsx(g,{title:"Stok Rendah",value:t.lowStockProducts,icon:Ag,color:"#ef4444"}),N.jsx(g,{title:"Total Penjualan",value:t.totalSales,icon:ix,color:"#10b981"}),N.jsx(g,{title:"Total Revenue",value:`Rp ${t.totalRevenue.toLocaleString("id-ID")}`,icon:eI,color:"#8b5cf6"})]}),N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[N.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#111827",margin:0},children:"Penjualan Terbaru"})}),N.jsx("div",{style:{padding:"1.5rem"},children:a.length>0?N.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:a.map(p=>N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"0.5rem",borderBottom:"1px solid #f3f4f6"},children:[N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827",margin:0},children:p.customerName||"Pelanggan Umum"}),N.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:new Date(p.createdAt).toLocaleDateString("id-ID")})]}),N.jsxs("div",{style:{textAlign:"right"},children:[N.jsxs("p",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#059669",margin:0},children:["Rp ",p.totalAmount.toLocaleString("id-ID")]}),N.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:[p.items.length," item"]})]})]},p.id))}):N.jsx("p",{style:{color:"#6b7280",textAlign:"center",padding:"1rem",margin:0},children:"Belum ada penjualan"})})]})]})},MH=()=>{const e=J0(),t=[{path:"/",icon:Qb,label:"Dashboard"},{path:"/inventory",icon:Xc,label:"Inventory"},{path:"/sales",icon:ix,label:"Penjualan"}];return N.jsx("nav",{className:"nav",children:N.jsxs("div",{className:"nav-container",children:[N.jsx(fw,{to:"/",className:"nav-brand",children:N.jsx("span",{className:"mobile-hidden",children:"IQOS"})}),N.jsx("ul",{className:"nav-menu",children:t.map(r=>{const n=r.icon,i=e.pathname===r.path;return N.jsx("li",{children:N.jsxs(fw,{to:r.path,className:`nav-link ${i?"active":""}`,children:[N.jsx(n,{size:18}),r.label]})},r.path)})})]})})},BH=()=>N.jsx(Gb,{children:N.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb"},children:[N.jsx(MH,{}),N.jsx("main",{className:"container",children:N.jsxs(Lb,{children:[N.jsx(pf,{path:"/",element:N.jsx(PH,{})}),N.jsx(pf,{path:"/inventory",element:N.jsx(OH,{})}),N.jsx(pf,{path:"/sales",element:N.jsx(DH,{})})]})})]})});b1.createRoot(document.getElementById("root")).render(N.jsx(e_.StrictMode,{children:N.jsx(BH,{})}));
