function Wy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hy={exports:{}},bh={},zy={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=Symbol.for("react.element"),wT=Symbol.for("react.portal"),vT=Symbol.for("react.fragment"),yT=Symbol.for("react.strict_mode"),_T=Symbol.for("react.profiler"),ET=Symbol.for("react.provider"),CT=Symbol.for("react.context"),AT=Symbol.for("react.forward_ref"),ST=Symbol.for("react.suspense"),TT=Symbol.for("react.memo"),kT=Symbol.for("react.lazy"),Km=Symbol.iterator;function bT(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var Gy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xy=Object.assign,$y={};function Xl(e,t,r){this.props=e,this.context=t,this.refs=$y,this.updater=r||Gy}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yy(){}Yy.prototype=Xl.prototype;function op(e,t,r){this.props=e,this.context=t,this.refs=$y,this.updater=r||Gy}var lp=op.prototype=new Yy;lp.constructor=op;Xy(lp,Xl.prototype);lp.isPureReactComponent=!0;var qm=Array.isArray,Ky=Object.prototype.hasOwnProperty,cp={current:null},qy={key:!0,ref:!0,__self:!0,__source:!0};function Zy(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Ky.call(t,n)&&!qy.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var g=Array(u),p=0;p<u;p++)g[p]=arguments[p+2];i.children=g}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:$0,type:e,key:a,ref:l,props:i,_owner:cp.current}}function IT(e,t){return{$$typeof:$0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function up(e){return typeof e=="object"&&e!==null&&e.$$typeof===$0}function RT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zm=/\/+/g;function kd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RT(""+e.key):t.toString(36)}function tf(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case $0:case wT:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+kd(l,0):n,qm(i)?(r="",e!=null&&(r=e.replace(Zm,"$&/")+"/"),tf(i,t,r,"",function(p){return p})):i!=null&&(up(i)&&(i=IT(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Zm,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",qm(e))for(var u=0;u<e.length;u++){a=e[u];var g=n+kd(a,u);l+=tf(a,t,r,g,i)}else if(g=bT(e),typeof g=="function")for(e=g.call(e),u=0;!(a=e.next()).done;)a=a.value,g=n+kd(a,u++),l+=tf(a,t,r,g,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Tu(e,t,r){if(e==null)return e;var n=[],i=0;return tf(e,n,"","",function(a){return t.call(r,a,i++)}),n}function NT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},rf={transition:null},OT={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:rf,ReactCurrentOwner:cp};function Qy(){throw Error("act(...) is not supported in production builds of React.")}Tt.Children={map:Tu,forEach:function(e,t,r){Tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!up(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tt.Component=Xl;Tt.Fragment=vT;Tt.Profiler=_T;Tt.PureComponent=op;Tt.StrictMode=yT;Tt.Suspense=ST;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OT;Tt.act=Qy;Tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Xy({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=cp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(g in t)Ky.call(t,g)&&!qy.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&u!==void 0?u[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){u=Array(g);for(var p=0;p<g;p++)u[p]=arguments[p+2];n.children=u}return{$$typeof:$0,type:e.type,key:i,ref:a,props:n,_owner:l}};Tt.createContext=function(e){return e={$$typeof:CT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ET,_context:e},e.Consumer=e};Tt.createElement=Zy;Tt.createFactory=function(e){var t=Zy.bind(null,e);return t.type=e,t};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(e){return{$$typeof:AT,render:e}};Tt.isValidElement=up;Tt.lazy=function(e){return{$$typeof:kT,_payload:{_status:-1,_result:e},_init:NT}};Tt.memo=function(e,t){return{$$typeof:TT,type:e,compare:t===void 0?null:t}};Tt.startTransition=function(e){var t=rf.transition;rf.transition={};try{e()}finally{rf.transition=t}};Tt.unstable_act=Qy;Tt.useCallback=function(e,t){return Xn.current.useCallback(e,t)};Tt.useContext=function(e){return Xn.current.useContext(e)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};Tt.useEffect=function(e,t){return Xn.current.useEffect(e,t)};Tt.useId=function(){return Xn.current.useId()};Tt.useImperativeHandle=function(e,t,r){return Xn.current.useImperativeHandle(e,t,r)};Tt.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};Tt.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};Tt.useMemo=function(e,t){return Xn.current.useMemo(e,t)};Tt.useReducer=function(e,t,r){return Xn.current.useReducer(e,t,r)};Tt.useRef=function(e){return Xn.current.useRef(e)};Tt.useState=function(e){return Xn.current.useState(e)};Tt.useSyncExternalStore=function(e,t,r){return Xn.current.useSyncExternalStore(e,t,r)};Tt.useTransition=function(){return Xn.current.useTransition()};Tt.version="18.3.1";zy.exports=Tt;var Ee=zy.exports;const Jy=Vy(Ee),DT=Wy({__proto__:null,default:Jy},[Ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT=Ee,PT=Symbol.for("react.element"),MT=Symbol.for("react.fragment"),BT=Object.prototype.hasOwnProperty,LT=FT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UT={key:!0,ref:!0,__self:!0,__source:!0};function e_(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)BT.call(t,n)&&!UT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:PT,type:e,key:a,ref:l,props:i,_owner:LT.current}}bh.Fragment=MT;bh.jsx=e_;bh.jsxs=e_;Hy.exports=bh;var N=Hy.exports,k1={},t_={exports:{}},Ei={},r_={exports:{}},n_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Ae,ne){var ke=Ae.length;Ae.push(ne);e:for(;0<ke;){var ce=ke-1>>>1,B=Ae[ce];if(0<i(B,ne))Ae[ce]=ne,Ae[ke]=B,ke=ce;else break e}}function r(Ae){return Ae.length===0?null:Ae[0]}function n(Ae){if(Ae.length===0)return null;var ne=Ae[0],ke=Ae.pop();if(ke!==ne){Ae[0]=ke;e:for(var ce=0,B=Ae.length,se=B>>>1;ce<se;){var K=2*(ce+1)-1,te=Ae[K],ae=K+1,Oe=Ae[ae];if(0>i(te,ke))ae<B&&0>i(Oe,te)?(Ae[ce]=Oe,Ae[ae]=ke,ce=ae):(Ae[ce]=te,Ae[K]=ke,ce=K);else if(ae<B&&0>i(Oe,ke))Ae[ce]=Oe,Ae[ae]=ke,ce=ae;else break e}}return ne}function i(Ae,ne){var ke=Ae.sortIndex-ne.sortIndex;return ke!==0?ke:Ae.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var g=[],p=[],m=1,v=null,_=3,E=!1,A=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Ae){for(var ne=r(p);ne!==null;){if(ne.callback===null)n(p);else if(ne.startTime<=Ae)n(p),ne.sortIndex=ne.expirationTime,t(g,ne);else break;ne=r(p)}}function L(Ae){if(C=!1,S(Ae),!A)if(r(g)!==null)A=!0,Be(q);else{var ne=r(p);ne!==null&&Ce(L,ne.startTime-Ae)}}function q(Ae,ne){A=!1,C&&(C=!1,b(Z),Z=-1),E=!0;var ke=_;try{for(S(ne),v=r(g);v!==null&&(!(v.expirationTime>ne)||Ae&&!le());){var ce=v.callback;if(typeof ce=="function"){v.callback=null,_=v.priorityLevel;var B=ce(v.expirationTime<=ne);ne=e.unstable_now(),typeof B=="function"?v.callback=B:v===r(g)&&n(g),S(ne)}else n(g);v=r(g)}if(v!==null)var se=!0;else{var K=r(p);K!==null&&Ce(L,K.startTime-ne),se=!1}return se}finally{v=null,_=ke,E=!1}}var G=!1,D=null,Z=-1,j=5,oe=-1;function le(){return!(e.unstable_now()-oe<j)}function Q(){if(D!==null){var Ae=e.unstable_now();oe=Ae;var ne=!0;try{ne=D(!0,Ae)}finally{ne?ye():(G=!1,D=null)}}else G=!1}var ye;if(typeof k=="function")ye=function(){k(Q)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ee=Se.port2;Se.port1.onmessage=Q,ye=function(){ee.postMessage(null)}}else ye=function(){I(Q,0)};function Be(Ae){D=Ae,G||(G=!0,ye())}function Ce(Ae,ne){Z=I(function(){Ae(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ae){Ae.callback=null},e.unstable_continueExecution=function(){A||E||(A=!0,Be(q))},e.unstable_forceFrameRate=function(Ae){0>Ae||125<Ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Ae?Math.floor(1e3/Ae):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(Ae){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var ke=_;_=ne;try{return Ae()}finally{_=ke}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ae,ne){switch(Ae){case 1:case 2:case 3:case 4:case 5:break;default:Ae=3}var ke=_;_=Ae;try{return ne()}finally{_=ke}},e.unstable_scheduleCallback=function(Ae,ne,ke){var ce=e.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?ce+ke:ce):ke=ce,Ae){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ke+B,Ae={id:m++,callback:ne,priorityLevel:Ae,startTime:ke,expirationTime:B,sortIndex:-1},ke>ce?(Ae.sortIndex=ke,t(p,Ae),r(g)===null&&Ae===r(p)&&(C?(b(Z),Z=-1):C=!0,Ce(L,ke-ce))):(Ae.sortIndex=B,t(g,Ae),A||E||(A=!0,Be(q))),Ae},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(Ae){var ne=_;return function(){var ke=_;_=ne;try{return Ae.apply(this,arguments)}finally{_=ke}}}})(n_);r_.exports=n_;var jT=r_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=Ee,vi=jT;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i_=new Set,l0={};function bo(e,t){Il(e,t),Il(e+"Capture",t)}function Il(e,t){for(l0[e]=t,e=0;e<t.length;e++)i_.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b1=Object.prototype.hasOwnProperty,VT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qm={},Jm={};function HT(e){return b1.call(Jm,e)?!0:b1.call(Qm,e)?!1:VT.test(e)?Jm[e]=!0:(Qm[e]=!0,!1)}function zT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GT(e,t,r,n){if(t===null||typeof t>"u"||zT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $n(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vn[e]=new $n(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vn[t]=new $n(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vn[e]=new $n(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vn[e]=new $n(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vn[e]=new $n(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vn[e]=new $n(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vn[e]=new $n(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vn[e]=new $n(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vn[e]=new $n(e,5,!1,e.toLowerCase(),null,!1,!1)});var fp=/[\-:]([a-z])/g;function hp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fp,hp);vn[t]=new $n(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fp,hp);vn[t]=new $n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fp,hp);vn[t]=new $n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vn[e]=new $n(e,1,!1,e.toLowerCase(),null,!1,!1)});vn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vn[e]=new $n(e,1,!1,e.toLowerCase(),null,!0,!0)});function dp(e,t,r,n){var i=vn.hasOwnProperty(t)?vn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GT(t,r,i,n)&&(r=null),n||i===null?HT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ys=WT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),el=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),N1=Symbol.for("react.suspense_list"),xp=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),o_=Symbol.for("react.offscreen"),e2=Symbol.iterator;function xc(e){return e===null||typeof e!="object"?null:(e=e2&&e[e2]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,bd;function bc(e){if(bd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bd=t&&t[1]||""}return`
`+bd+e}var Id=!1;function Rd(e,t){if(!e||Id)return"";Id=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==a[u]){var g=`
`+i[l].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=l&&0<=u);break}}}finally{Id=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bc(e):""}function XT(e){switch(e.tag){case 5:return bc(e.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return e=Rd(e.type,!1),e;case 11:return e=Rd(e.type.render,!1),e;case 1:return e=Rd(e.type,!0),e;default:return""}}function O1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tl:return"Fragment";case el:return"Portal";case I1:return"Profiler";case gp:return"StrictMode";case R1:return"Suspense";case N1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case a_:return(e.displayName||"Context")+".Consumer";case s_:return(e._context.displayName||"Context")+".Provider";case pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xp:return t=e.displayName||null,t!==null?t:O1(e.type)||"Memo";case aa:t=e._payload,e=e._init;try{return O1(e(t))}catch{}}return null}function $T(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O1(t);case 8:return t===gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Da(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YT(e){var t=l_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bu(e){e._valueTracker||(e._valueTracker=YT(e))}function c_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=l_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function D1(e,t){var r=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function t2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Da(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function u_(e,t){t=t.checked,t!=null&&dp(e,"checked",t,!1)}function F1(e,t){u_(e,t);var r=Da(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?P1(e,t.type,r):t.hasOwnProperty("defaultValue")&&P1(e,t.type,Da(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function r2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function P1(e,t,r){(t!=="number"||xf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ic=Array.isArray;function xl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Da(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function M1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function n2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(De(92));if(Ic(r)){if(1<r.length)throw Error(De(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Da(r)}}function f_(e,t){var r=Da(t.value),n=Da(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function i2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function h_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?h_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Iu,d_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function c0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KT=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(e){KT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bc[t]=Bc[e]})});function g_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bc.hasOwnProperty(e)&&Bc[e]?(""+t).trim():t+"px"}function p_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=g_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var qT=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function L1(e,t){if(t){if(qT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function U1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j1=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W1=null,ml=null,wl=null;function s2(e){if(e=q0(e)){if(typeof W1!="function")throw Error(De(280));var t=e.stateNode;t&&(t=Dh(t),W1(e.stateNode,e.type,t))}}function x_(e){ml?wl?wl.push(e):wl=[e]:ml=e}function m_(){if(ml){var e=ml,t=wl;if(wl=ml=null,s2(e),t)for(e=0;e<t.length;e++)s2(t[e])}}function w_(e,t){return e(t)}function v_(){}var Nd=!1;function y_(e,t,r){if(Nd)return e(t,r);Nd=!0;try{return w_(e,t,r)}finally{Nd=!1,(ml!==null||wl!==null)&&(v_(),m_())}}function u0(e,t){var r=e.stateNode;if(r===null)return null;var n=Dh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(De(231,t,typeof r));return r}var V1=!1;if(js)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){V1=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{V1=!1}function ZT(e,t,r,n,i,a,l,u,g){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(m){this.onError(m)}}var Lc=!1,mf=null,wf=!1,H1=null,QT={onError:function(e){Lc=!0,mf=e}};function JT(e,t,r,n,i,a,l,u,g){Lc=!1,mf=null,ZT.apply(QT,arguments)}function e8(e,t,r,n,i,a,l,u,g){if(JT.apply(this,arguments),Lc){if(Lc){var p=mf;Lc=!1,mf=null}else throw Error(De(198));wf||(wf=!0,H1=p)}}function Io(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function __(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a2(e){if(Io(e)!==e)throw Error(De(188))}function t8(e){var t=e.alternate;if(!t){if(t=Io(e),t===null)throw Error(De(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return a2(i),e;if(a===n)return a2(i),t;a=a.sibling}throw Error(De(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,u=i.child;u;){if(u===r){l=!0,r=i,n=a;break}if(u===n){l=!0,n=i,r=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===r){l=!0,r=a,n=i;break}if(u===n){l=!0,n=a,r=i;break}u=u.sibling}if(!l)throw Error(De(189))}}if(r.alternate!==n)throw Error(De(190))}if(r.tag!==3)throw Error(De(188));return r.stateNode.current===r?e:t}function E_(e){return e=t8(e),e!==null?C_(e):null}function C_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=C_(e);if(t!==null)return t;e=e.sibling}return null}var A_=vi.unstable_scheduleCallback,o2=vi.unstable_cancelCallback,r8=vi.unstable_shouldYield,n8=vi.unstable_requestPaint,Or=vi.unstable_now,i8=vi.unstable_getCurrentPriorityLevel,wp=vi.unstable_ImmediatePriority,S_=vi.unstable_UserBlockingPriority,vf=vi.unstable_NormalPriority,s8=vi.unstable_LowPriority,T_=vi.unstable_IdlePriority,Ih=null,vs=null;function a8(e){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Ih,e,void 0,(e.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:c8,o8=Math.log,l8=Math.LN2;function c8(e){return e>>>=0,e===0?32:31-(o8(e)/l8|0)|0}var Ru=64,Nu=4194304;function Rc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var u=l&~i;u!==0?n=Rc(u):(a&=l,a!==0&&(n=Rc(a)))}else l=r&~i,l!==0?n=Rc(l):a!==0&&(n=Rc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ss(t),i=1<<r,n|=e[r],t&=~i;return n}function u8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-ss(a),u=1<<l,g=i[l];g===-1?(!(u&r)||u&n)&&(i[l]=u8(u,t)):g<=t&&(e.expiredLanes|=u),a&=~u}}function z1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k_(){var e=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),e}function Od(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Y0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ss(t),e[t]=r}function h8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ss(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function vp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ss(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Gt=0;function b_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I_,yp,R_,N_,O_,G1=!1,Ou=[],va=null,ya=null,_a=null,f0=new Map,h0=new Map,la=[],d8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l2(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":f0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":h0.delete(t.pointerId)}}function wc(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=q0(t),t!==null&&yp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function g8(e,t,r,n,i){switch(t){case"focusin":return va=wc(va,e,t,r,n,i),!0;case"dragenter":return ya=wc(ya,e,t,r,n,i),!0;case"mouseover":return _a=wc(_a,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return f0.set(a,wc(f0.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,h0.set(a,wc(h0.get(a)||null,e,t,r,n,i)),!0}return!1}function D_(e){var t=ro(e.target);if(t!==null){var r=Io(t);if(r!==null){if(t=r.tag,t===13){if(t=__(r),t!==null){e.blockedOn=t,O_(e.priority,function(){R_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=X1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);j1=n,r.target.dispatchEvent(n),j1=null}else return t=q0(r),t!==null&&yp(t),e.blockedOn=r,!1;t.shift()}return!0}function c2(e,t,r){nf(e)&&r.delete(t)}function p8(){G1=!1,va!==null&&nf(va)&&(va=null),ya!==null&&nf(ya)&&(ya=null),_a!==null&&nf(_a)&&(_a=null),f0.forEach(c2),h0.forEach(c2)}function vc(e,t){e.blockedOn===t&&(e.blockedOn=null,G1||(G1=!0,vi.unstable_scheduleCallback(vi.unstable_NormalPriority,p8)))}function d0(e){function t(i){return vc(i,e)}if(0<Ou.length){vc(Ou[0],e);for(var r=1;r<Ou.length;r++){var n=Ou[r];n.blockedOn===e&&(n.blockedOn=null)}}for(va!==null&&vc(va,e),ya!==null&&vc(ya,e),_a!==null&&vc(_a,e),f0.forEach(t),h0.forEach(t),r=0;r<la.length;r++)n=la[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<la.length&&(r=la[0],r.blockedOn===null);)D_(r),r.blockedOn===null&&la.shift()}var vl=Ys.ReactCurrentBatchConfig,_f=!0;function x8(e,t,r,n){var i=Gt,a=vl.transition;vl.transition=null;try{Gt=1,_p(e,t,r,n)}finally{Gt=i,vl.transition=a}}function m8(e,t,r,n){var i=Gt,a=vl.transition;vl.transition=null;try{Gt=4,_p(e,t,r,n)}finally{Gt=i,vl.transition=a}}function _p(e,t,r,n){if(_f){var i=X1(e,t,r,n);if(i===null)Vd(e,t,n,Ef,r),l2(e,n);else if(g8(i,e,t,r,n))n.stopPropagation();else if(l2(e,n),t&4&&-1<d8.indexOf(e)){for(;i!==null;){var a=q0(i);if(a!==null&&I_(a),a=X1(e,t,r,n),a===null&&Vd(e,t,n,Ef,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Vd(e,t,n,null,r)}}var Ef=null;function X1(e,t,r,n){if(Ef=null,e=mp(n),e=ro(e),e!==null)if(t=Io(e),t===null)e=null;else if(r=t.tag,r===13){if(e=__(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ef=e,null}function F_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i8()){case wp:return 1;case S_:return 4;case vf:case s8:return 16;case T_:return 536870912;default:return 16}default:return 16}}var fa=null,Ep=null,sf=null;function P_(){if(sf)return sf;var e,t=Ep,r=t.length,n,i="value"in fa?fa.value:fa.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return sf=i.slice(e,1<n?1-n:void 0)}function af(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Du(){return!0}function u2(){return!1}function Ci(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Du:u2,this.isPropagationStopped=u2,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),t}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cp=Ci($l),K0=yr({},$l,{view:0,detail:0}),w8=Ci(K0),Dd,Fd,yc,Rh=yr({},K0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yc&&(yc&&e.type==="mousemove"?(Dd=e.screenX-yc.screenX,Fd=e.screenY-yc.screenY):Fd=Dd=0,yc=e),Dd)},movementY:function(e){return"movementY"in e?e.movementY:Fd}}),f2=Ci(Rh),v8=yr({},Rh,{dataTransfer:0}),y8=Ci(v8),_8=yr({},K0,{relatedTarget:0}),Pd=Ci(_8),E8=yr({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),C8=Ci(E8),A8=yr({},$l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S8=Ci(A8),T8=yr({},$l,{data:0}),h2=Ci(T8),k8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I8[e])?!!t[e]:!1}function Ap(){return R8}var N8=yr({},K0,{key:function(e){if(e.key){var t=k8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=af(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(e){return e.type==="keypress"?af(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?af(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O8=Ci(N8),D8=yr({},Rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d2=Ci(D8),F8=yr({},K0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),P8=Ci(F8),M8=yr({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),B8=Ci(M8),L8=yr({},Rh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U8=Ci(L8),j8=[9,13,27,32],Sp=js&&"CompositionEvent"in window,Uc=null;js&&"documentMode"in document&&(Uc=document.documentMode);var W8=js&&"TextEvent"in window&&!Uc,M_=js&&(!Sp||Uc&&8<Uc&&11>=Uc),g2=" ",p2=!1;function B_(e,t){switch(e){case"keyup":return j8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function V8(e,t){switch(e){case"compositionend":return L_(t);case"keypress":return t.which!==32?null:(p2=!0,g2);case"textInput":return e=t.data,e===g2&&p2?null:e;default:return null}}function H8(e,t){if(rl)return e==="compositionend"||!Sp&&B_(e,t)?(e=P_(),sf=Ep=fa=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M_&&t.locale!=="ko"?null:t.data;default:return null}}var z8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z8[e.type]:t==="textarea"}function U_(e,t,r,n){x_(n),t=Cf(t,"onChange"),0<t.length&&(r=new Cp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jc=null,g0=null;function G8(e){q_(e,0)}function Nh(e){var t=sl(e);if(c_(t))return e}function X8(e,t){if(e==="change")return t}var j_=!1;if(js){var Md;if(js){var Bd="oninput"in document;if(!Bd){var m2=document.createElement("div");m2.setAttribute("oninput","return;"),Bd=typeof m2.oninput=="function"}Md=Bd}else Md=!1;j_=Md&&(!document.documentMode||9<document.documentMode)}function w2(){jc&&(jc.detachEvent("onpropertychange",W_),g0=jc=null)}function W_(e){if(e.propertyName==="value"&&Nh(g0)){var t=[];U_(t,g0,e,mp(e)),y_(G8,t)}}function $8(e,t,r){e==="focusin"?(w2(),jc=t,g0=r,jc.attachEvent("onpropertychange",W_)):e==="focusout"&&w2()}function Y8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nh(g0)}function K8(e,t){if(e==="click")return Nh(t)}function q8(e,t){if(e==="input"||e==="change")return Nh(t)}function Z8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:Z8;function p0(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!b1.call(t,i)||!cs(e[i],t[i]))return!1}return!0}function v2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y2(e,t){var r=v2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=v2(r)}}function V_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?V_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H_(){for(var e=window,t=xf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xf(e.document)}return t}function Tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q8(e){var t=H_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&V_(r.ownerDocument.documentElement,r)){if(n!==null&&Tp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=y2(r,a);var l=y2(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var J8=js&&"documentMode"in document&&11>=document.documentMode,nl=null,$1=null,Wc=null,Y1=!1;function _2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Y1||nl==null||nl!==xf(n)||(n=nl,"selectionStart"in n&&Tp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wc&&p0(Wc,n)||(Wc=n,n=Cf($1,"onSelect"),0<n.length&&(t=new Cp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nl)))}function Fu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var il={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Ld={},z_={};js&&(z_=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Oh(e){if(Ld[e])return Ld[e];if(!il[e])return e;var t=il[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in z_)return Ld[e]=t[r];return e}var G_=Oh("animationend"),X_=Oh("animationiteration"),$_=Oh("animationstart"),Y_=Oh("transitionend"),K_=new Map,E2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){K_.set(e,t),bo(t,[e])}for(var Ud=0;Ud<E2.length;Ud++){var jd=E2[Ud],ek=jd.toLowerCase(),tk=jd[0].toUpperCase()+jd.slice(1);Wa(ek,"on"+tk)}Wa(G_,"onAnimationEnd");Wa(X_,"onAnimationIteration");Wa($_,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(Y_,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function C2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,e8(n,t,void 0,e),e.currentTarget=null}function q_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var u=n[l],g=u.instance,p=u.currentTarget;if(u=u.listener,g!==a&&i.isPropagationStopped())break e;C2(i,u,p),a=g}else for(l=0;l<n.length;l++){if(u=n[l],g=u.instance,p=u.currentTarget,u=u.listener,g!==a&&i.isPropagationStopped())break e;C2(i,u,p),a=g}}}if(wf)throw e=H1,wf=!1,H1=null,e}function ur(e,t){var r=t[J1];r===void 0&&(r=t[J1]=new Set);var n=e+"__bubble";r.has(n)||(Z_(t,e,2,!1),r.add(n))}function Wd(e,t,r){var n=0;t&&(n|=4),Z_(r,e,n,t)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function x0(e){if(!e[Pu]){e[Pu]=!0,i_.forEach(function(r){r!=="selectionchange"&&(rk.has(r)||Wd(r,!1,e),Wd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pu]||(t[Pu]=!0,Wd("selectionchange",!1,t))}}function Z_(e,t,r,n){switch(F_(t)){case 1:var i=x8;break;case 4:i=m8;break;default:i=_p}r=i.bind(null,t,r,e),i=void 0,!V1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Vd(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var g=l.tag;if((g===3||g===4)&&(g=l.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;l=l.return}for(;u!==null;){if(l=ro(u),l===null)return;if(g=l.tag,g===5||g===6){n=a=l;continue e}u=u.parentNode}}n=n.return}y_(function(){var p=a,m=mp(r),v=[];e:{var _=K_.get(e);if(_!==void 0){var E=Cp,A=e;switch(e){case"keypress":if(af(r)===0)break e;case"keydown":case"keyup":E=O8;break;case"focusin":A="focus",E=Pd;break;case"focusout":A="blur",E=Pd;break;case"beforeblur":case"afterblur":E=Pd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=f2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=y8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=P8;break;case G_:case X_:case $_:E=C8;break;case Y_:E=B8;break;case"scroll":E=w8;break;case"wheel":E=U8;break;case"copy":case"cut":case"paste":E=S8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=d2}var C=(t&4)!==0,I=!C&&e==="scroll",b=C?_!==null?_+"Capture":null:_;C=[];for(var k=p,S;k!==null;){S=k;var L=S.stateNode;if(S.tag===5&&L!==null&&(S=L,b!==null&&(L=u0(k,b),L!=null&&C.push(m0(k,L,S)))),I)break;k=k.return}0<C.length&&(_=new E(_,A,null,r,m),v.push({event:_,listeners:C}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",_&&r!==j1&&(A=r.relatedTarget||r.fromElement)&&(ro(A)||A[Ws]))break e;if((E||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,E?(A=r.relatedTarget||r.toElement,E=p,A=A?ro(A):null,A!==null&&(I=Io(A),A!==I||A.tag!==5&&A.tag!==6)&&(A=null)):(E=null,A=p),E!==A)){if(C=f2,L="onMouseLeave",b="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(C=d2,L="onPointerLeave",b="onPointerEnter",k="pointer"),I=E==null?_:sl(E),S=A==null?_:sl(A),_=new C(L,k+"leave",E,r,m),_.target=I,_.relatedTarget=S,L=null,ro(m)===p&&(C=new C(b,k+"enter",A,r,m),C.target=S,C.relatedTarget=I,L=C),I=L,E&&A)t:{for(C=E,b=A,k=0,S=C;S;S=Ko(S))k++;for(S=0,L=b;L;L=Ko(L))S++;for(;0<k-S;)C=Ko(C),k--;for(;0<S-k;)b=Ko(b),S--;for(;k--;){if(C===b||b!==null&&C===b.alternate)break t;C=Ko(C),b=Ko(b)}C=null}else C=null;E!==null&&A2(v,_,E,C,!1),A!==null&&I!==null&&A2(v,I,A,C,!0)}}e:{if(_=p?sl(p):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var q=X8;else if(x2(_))if(j_)q=q8;else{q=Y8;var G=$8}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(q=K8);if(q&&(q=q(e,p))){U_(v,q,r,m);break e}G&&G(e,_,p),e==="focusout"&&(G=_._wrapperState)&&G.controlled&&_.type==="number"&&P1(_,"number",_.value)}switch(G=p?sl(p):window,e){case"focusin":(x2(G)||G.contentEditable==="true")&&(nl=G,$1=p,Wc=null);break;case"focusout":Wc=$1=nl=null;break;case"mousedown":Y1=!0;break;case"contextmenu":case"mouseup":case"dragend":Y1=!1,_2(v,r,m);break;case"selectionchange":if(J8)break;case"keydown":case"keyup":_2(v,r,m)}var D;if(Sp)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else rl?B_(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(M_&&r.locale!=="ko"&&(rl||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&rl&&(D=P_()):(fa=m,Ep="value"in fa?fa.value:fa.textContent,rl=!0)),G=Cf(p,Z),0<G.length&&(Z=new h2(Z,e,null,r,m),v.push({event:Z,listeners:G}),D?Z.data=D:(D=L_(r),D!==null&&(Z.data=D)))),(D=W8?V8(e,r):H8(e,r))&&(p=Cf(p,"onBeforeInput"),0<p.length&&(m=new h2("onBeforeInput","beforeinput",null,r,m),v.push({event:m,listeners:p}),m.data=D))}q_(v,t)})}function m0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Cf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=u0(e,r),a!=null&&n.unshift(m0(e,a,i)),a=u0(e,t),a!=null&&n.push(m0(e,a,i))),e=e.return}return n}function Ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function A2(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var u=r,g=u.alternate,p=u.stateNode;if(g!==null&&g===n)break;u.tag===5&&p!==null&&(u=p,i?(g=u0(r,a),g!=null&&l.unshift(m0(r,g,u))):i||(g=u0(r,a),g!=null&&l.push(m0(r,g,u)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var nk=/\r\n?/g,ik=/\u0000|\uFFFD/g;function S2(e){return(typeof e=="string"?e:""+e).replace(nk,`
`).replace(ik,"")}function Mu(e,t,r){if(t=S2(t),S2(e)!==t&&r)throw Error(De(425))}function Af(){}var K1=null,q1=null;function Z1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Q1=typeof setTimeout=="function"?setTimeout:void 0,sk=typeof clearTimeout=="function"?clearTimeout:void 0,T2=typeof Promise=="function"?Promise:void 0,ak=typeof queueMicrotask=="function"?queueMicrotask:typeof T2<"u"?function(e){return T2.resolve(null).then(e).catch(ok)}:Q1;function ok(e){setTimeout(function(){throw e})}function Hd(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),d0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);d0(t)}function Ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function k2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),ws="__reactFiber$"+Yl,w0="__reactProps$"+Yl,Ws="__reactContainer$"+Yl,J1="__reactEvents$"+Yl,lk="__reactListeners$"+Yl,ck="__reactHandles$"+Yl;function ro(e){var t=e[ws];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ws]||r[ws]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=k2(e);e!==null;){if(r=e[ws])return r;e=k2(e)}return t}e=r,r=e.parentNode}return null}function q0(e){return e=e[ws]||e[Ws],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function sl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function Dh(e){return e[w0]||null}var eg=[],al=-1;function Va(e){return{current:e}}function hr(e){0>al||(e.current=eg[al],eg[al]=null,al--)}function sr(e,t){al++,eg[al]=e.current,e.current=t}var Fa={},Nn=Va(Fa),ri=Va(!1),go=Fa;function Rl(e,t){var r=e.type.contextTypes;if(!r)return Fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ni(e){return e=e.childContextTypes,e!=null}function Sf(){hr(ri),hr(Nn)}function b2(e,t,r){if(Nn.current!==Fa)throw Error(De(168));sr(Nn,t),sr(ri,r)}function Q_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(De(108,$T(e)||"Unknown",i));return yr({},r,n)}function Tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fa,go=Nn.current,sr(Nn,e),sr(ri,ri.current),!0}function I2(e,t,r){var n=e.stateNode;if(!n)throw Error(De(169));r?(e=Q_(e,t,go),n.__reactInternalMemoizedMergedChildContext=e,hr(ri),hr(Nn),sr(Nn,e)):hr(ri),sr(ri,r)}var Rs=null,Fh=!1,zd=!1;function J_(e){Rs===null?Rs=[e]:Rs.push(e)}function uk(e){Fh=!0,J_(e)}function Ha(){if(!zd&&Rs!==null){zd=!0;var e=0,t=Gt;try{var r=Rs;for(Gt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rs=null,Fh=!1}catch(i){throw Rs!==null&&(Rs=Rs.slice(e+1)),A_(wp,Ha),i}finally{Gt=t,zd=!1}}return null}var ol=[],ll=0,kf=null,bf=0,Di=[],Fi=0,po=null,Ns=1,Os="";function Za(e,t){ol[ll++]=bf,ol[ll++]=kf,kf=e,bf=t}function eE(e,t,r){Di[Fi++]=Ns,Di[Fi++]=Os,Di[Fi++]=po,po=e;var n=Ns;e=Os;var i=32-ss(n)-1;n&=~(1<<i),r+=1;var a=32-ss(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Ns=1<<32-ss(t)+i|r<<i|n,Os=a+e}else Ns=1<<a|r<<i|n,Os=e}function kp(e){e.return!==null&&(Za(e,1),eE(e,1,0))}function bp(e){for(;e===kf;)kf=ol[--ll],ol[ll]=null,bf=ol[--ll],ol[ll]=null;for(;e===po;)po=Di[--Fi],Di[Fi]=null,Os=Di[--Fi],Di[Fi]=null,Ns=Di[--Fi],Di[Fi]=null}var mi=null,xi=null,pr=!1,Ji=null;function tE(e,t){var r=Pi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function R2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mi=e,xi=Ea(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mi=e,xi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=po!==null?{id:Ns,overflow:Os}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mi=e,xi=null,!0):!1;default:return!1}}function tg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rg(e){if(pr){var t=xi;if(t){var r=t;if(!R2(e,t)){if(tg(e))throw Error(De(418));t=Ea(r.nextSibling);var n=mi;t&&R2(e,t)?tE(n,r):(e.flags=e.flags&-4097|2,pr=!1,mi=e)}}else{if(tg(e))throw Error(De(418));e.flags=e.flags&-4097|2,pr=!1,mi=e}}}function N2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mi=e}function Bu(e){if(e!==mi)return!1;if(!pr)return N2(e),pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Z1(e.type,e.memoizedProps)),t&&(t=xi)){if(tg(e))throw rE(),Error(De(418));for(;t;)tE(e,t),t=Ea(t.nextSibling)}if(N2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xi=Ea(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xi=null}}else xi=mi?Ea(e.stateNode.nextSibling):null;return!0}function rE(){for(var e=xi;e;)e=Ea(e.nextSibling)}function Nl(){xi=mi=null,pr=!1}function Ip(e){Ji===null?Ji=[e]:Ji.push(e)}var fk=Ys.ReactCurrentBatchConfig;function _c(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(De(309));var n=r.stateNode}if(!n)throw Error(De(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var u=i.refs;l===null?delete u[a]:u[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(De(284));if(!r._owner)throw Error(De(290,e))}return e}function Lu(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function O2(e){var t=e._init;return t(e._payload)}function nE(e){function t(b,k){if(e){var S=b.deletions;S===null?(b.deletions=[k],b.flags|=16):S.push(k)}}function r(b,k){if(!e)return null;for(;k!==null;)t(b,k),k=k.sibling;return null}function n(b,k){for(b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function i(b,k){return b=Ta(b,k),b.index=0,b.sibling=null,b}function a(b,k,S){return b.index=S,e?(S=b.alternate,S!==null?(S=S.index,S<k?(b.flags|=2,k):S):(b.flags|=2,k)):(b.flags|=1048576,k)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,k,S,L){return k===null||k.tag!==6?(k=Zd(S,b.mode,L),k.return=b,k):(k=i(k,S),k.return=b,k)}function g(b,k,S,L){var q=S.type;return q===tl?m(b,k,S.props.children,L,S.key):k!==null&&(k.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===aa&&O2(q)===k.type)?(L=i(k,S.props),L.ref=_c(b,k,S),L.return=b,L):(L=df(S.type,S.key,S.props,null,b.mode,L),L.ref=_c(b,k,S),L.return=b,L)}function p(b,k,S,L){return k===null||k.tag!==4||k.stateNode.containerInfo!==S.containerInfo||k.stateNode.implementation!==S.implementation?(k=Qd(S,b.mode,L),k.return=b,k):(k=i(k,S.children||[]),k.return=b,k)}function m(b,k,S,L,q){return k===null||k.tag!==7?(k=co(S,b.mode,L,q),k.return=b,k):(k=i(k,S),k.return=b,k)}function v(b,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Zd(""+k,b.mode,S),k.return=b,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ku:return S=df(k.type,k.key,k.props,null,b.mode,S),S.ref=_c(b,null,k),S.return=b,S;case el:return k=Qd(k,b.mode,S),k.return=b,k;case aa:var L=k._init;return v(b,L(k._payload),S)}if(Ic(k)||xc(k))return k=co(k,b.mode,S,null),k.return=b,k;Lu(b,k)}return null}function _(b,k,S,L){var q=k!==null?k.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return q!==null?null:u(b,k,""+S,L);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:return S.key===q?g(b,k,S,L):null;case el:return S.key===q?p(b,k,S,L):null;case aa:return q=S._init,_(b,k,q(S._payload),L)}if(Ic(S)||xc(S))return q!==null?null:m(b,k,S,L,null);Lu(b,S)}return null}function E(b,k,S,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return b=b.get(S)||null,u(k,b,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ku:return b=b.get(L.key===null?S:L.key)||null,g(k,b,L,q);case el:return b=b.get(L.key===null?S:L.key)||null,p(k,b,L,q);case aa:var G=L._init;return E(b,k,S,G(L._payload),q)}if(Ic(L)||xc(L))return b=b.get(S)||null,m(k,b,L,q,null);Lu(k,L)}return null}function A(b,k,S,L){for(var q=null,G=null,D=k,Z=k=0,j=null;D!==null&&Z<S.length;Z++){D.index>Z?(j=D,D=null):j=D.sibling;var oe=_(b,D,S[Z],L);if(oe===null){D===null&&(D=j);break}e&&D&&oe.alternate===null&&t(b,D),k=a(oe,k,Z),G===null?q=oe:G.sibling=oe,G=oe,D=j}if(Z===S.length)return r(b,D),pr&&Za(b,Z),q;if(D===null){for(;Z<S.length;Z++)D=v(b,S[Z],L),D!==null&&(k=a(D,k,Z),G===null?q=D:G.sibling=D,G=D);return pr&&Za(b,Z),q}for(D=n(b,D);Z<S.length;Z++)j=E(D,b,Z,S[Z],L),j!==null&&(e&&j.alternate!==null&&D.delete(j.key===null?Z:j.key),k=a(j,k,Z),G===null?q=j:G.sibling=j,G=j);return e&&D.forEach(function(le){return t(b,le)}),pr&&Za(b,Z),q}function C(b,k,S,L){var q=xc(S);if(typeof q!="function")throw Error(De(150));if(S=q.call(S),S==null)throw Error(De(151));for(var G=q=null,D=k,Z=k=0,j=null,oe=S.next();D!==null&&!oe.done;Z++,oe=S.next()){D.index>Z?(j=D,D=null):j=D.sibling;var le=_(b,D,oe.value,L);if(le===null){D===null&&(D=j);break}e&&D&&le.alternate===null&&t(b,D),k=a(le,k,Z),G===null?q=le:G.sibling=le,G=le,D=j}if(oe.done)return r(b,D),pr&&Za(b,Z),q;if(D===null){for(;!oe.done;Z++,oe=S.next())oe=v(b,oe.value,L),oe!==null&&(k=a(oe,k,Z),G===null?q=oe:G.sibling=oe,G=oe);return pr&&Za(b,Z),q}for(D=n(b,D);!oe.done;Z++,oe=S.next())oe=E(D,b,Z,oe.value,L),oe!==null&&(e&&oe.alternate!==null&&D.delete(oe.key===null?Z:oe.key),k=a(oe,k,Z),G===null?q=oe:G.sibling=oe,G=oe);return e&&D.forEach(function(Q){return t(b,Q)}),pr&&Za(b,Z),q}function I(b,k,S,L){if(typeof S=="object"&&S!==null&&S.type===tl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ku:e:{for(var q=S.key,G=k;G!==null;){if(G.key===q){if(q=S.type,q===tl){if(G.tag===7){r(b,G.sibling),k=i(G,S.props.children),k.return=b,b=k;break e}}else if(G.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===aa&&O2(q)===G.type){r(b,G.sibling),k=i(G,S.props),k.ref=_c(b,G,S),k.return=b,b=k;break e}r(b,G);break}else t(b,G);G=G.sibling}S.type===tl?(k=co(S.props.children,b.mode,L,S.key),k.return=b,b=k):(L=df(S.type,S.key,S.props,null,b.mode,L),L.ref=_c(b,k,S),L.return=b,b=L)}return l(b);case el:e:{for(G=S.key;k!==null;){if(k.key===G)if(k.tag===4&&k.stateNode.containerInfo===S.containerInfo&&k.stateNode.implementation===S.implementation){r(b,k.sibling),k=i(k,S.children||[]),k.return=b,b=k;break e}else{r(b,k);break}else t(b,k);k=k.sibling}k=Qd(S,b.mode,L),k.return=b,b=k}return l(b);case aa:return G=S._init,I(b,k,G(S._payload),L)}if(Ic(S))return A(b,k,S,L);if(xc(S))return C(b,k,S,L);Lu(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,k!==null&&k.tag===6?(r(b,k.sibling),k=i(k,S),k.return=b,b=k):(r(b,k),k=Zd(S,b.mode,L),k.return=b,b=k),l(b)):r(b,k)}return I}var Ol=nE(!0),iE=nE(!1),If=Va(null),Rf=null,cl=null,Rp=null;function Np(){Rp=cl=Rf=null}function Op(e){var t=If.current;hr(If),e._currentValue=t}function ng(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yl(e,t){Rf=e,Rp=cl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ei=!0),e.firstContext=null)}function Li(e){var t=e._currentValue;if(Rp!==e)if(e={context:e,memoizedValue:t,next:null},cl===null){if(Rf===null)throw Error(De(308));cl=e,Rf.dependencies={lanes:0,firstContext:e}}else cl=cl.next=e;return t}var no=null;function Dp(e){no===null?no=[e]:no.push(e)}function sE(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Dp(t)):(r.next=i.next,i.next=r),t.interleaved=r,Vs(e,n)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var oa=!1;function Fp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Lt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Vs(e,r)}return i=n.interleaved,i===null?(t.next=t,Dp(n)):(t.next=i.next,i.next=t),n.interleaved=t,Vs(e,r)}function of(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vp(e,r)}}function D2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nf(e,t,r,n){var i=e.updateQueue;oa=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var g=u,p=g.next;g.next=null,l===null?a=p:l.next=p,l=g;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=p:u.next=p,m.lastBaseUpdate=g))}if(a!==null){var v=i.baseState;l=0,m=p=g=null,u=a;do{var _=u.lane,E=u.eventTime;if((n&_)===_){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,C=u;switch(_=t,E=r,C.tag){case 1:if(A=C.payload,typeof A=="function"){v=A.call(E,v,_);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,_=typeof A=="function"?A.call(E,v,_):A,_==null)break e;v=yr({},v,_);break e;case 2:oa=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[u]:_.push(u))}else E={eventTime:E,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(p=m=E,g=v):m=m.next=E,l|=_;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;_=u,u=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(g=v),i.baseState=g,i.firstBaseUpdate=p,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);mo|=l,e.lanes=l,e.memoizedState=v}}function F2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(De(191,i));i.call(n)}}}var Z0={},ys=Va(Z0),v0=Va(Z0),y0=Va(Z0);function io(e){if(e===Z0)throw Error(De(174));return e}function Pp(e,t){switch(sr(y0,t),sr(v0,e),sr(ys,Z0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:B1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=B1(t,e)}hr(ys),sr(ys,t)}function Dl(){hr(ys),hr(v0),hr(y0)}function oE(e){io(y0.current);var t=io(ys.current),r=B1(t,e.type);t!==r&&(sr(v0,e),sr(ys,r))}function Mp(e){v0.current===e&&(hr(ys),hr(v0))}var wr=Va(0);function Of(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gd=[];function Bp(){for(var e=0;e<Gd.length;e++)Gd[e]._workInProgressVersionPrimary=null;Gd.length=0}var lf=Ys.ReactCurrentDispatcher,Xd=Ys.ReactCurrentBatchConfig,xo=0,vr=null,Hr=null,rn=null,Df=!1,Vc=!1,_0=0,hk=0;function Cn(){throw Error(De(321))}function Lp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cs(e[r],t[r]))return!1;return!0}function Up(e,t,r,n,i,a){if(xo=a,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lf.current=e===null||e.memoizedState===null?xk:mk,e=r(n,i),Vc){a=0;do{if(Vc=!1,_0=0,25<=a)throw Error(De(301));a+=1,rn=Hr=null,t.updateQueue=null,lf.current=wk,e=r(n,i)}while(Vc)}if(lf.current=Ff,t=Hr!==null&&Hr.next!==null,xo=0,rn=Hr=vr=null,Df=!1,t)throw Error(De(300));return e}function jp(){var e=_0!==0;return _0=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?vr.memoizedState=rn=e:rn=rn.next=e,rn}function Ui(){if(Hr===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Hr.next;var t=rn===null?vr.memoizedState:rn.next;if(t!==null)rn=t,Hr=e;else{if(e===null)throw Error(De(310));Hr=e,e={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},rn===null?vr.memoizedState=rn=e:rn=rn.next=e}return rn}function E0(e,t){return typeof t=="function"?t(e):t}function $d(e){var t=Ui(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=e;var n=Hr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var u=l=null,g=null,p=a;do{var m=p.lane;if((xo&m)===m)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var v={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(u=g=v,l=n):g=g.next=v,vr.lanes|=m,mo|=m}p=p.next}while(p!==null&&p!==a);g===null?l=n:g.next=u,cs(n,t.memoizedState)||(ei=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=g,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,vr.lanes|=a,mo|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yd(e){var t=Ui(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);cs(a,t.memoizedState)||(ei=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function lE(){}function cE(e,t){var r=vr,n=Ui(),i=t(),a=!cs(n.memoizedState,i);if(a&&(n.memoizedState=i,ei=!0),n=n.queue,Wp(hE.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||rn!==null&&rn.memoizedState.tag&1){if(r.flags|=2048,C0(9,fE.bind(null,r,n,i,t),void 0,null),sn===null)throw Error(De(349));xo&30||uE(r,t,i)}return i}function uE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fE(e,t,r,n){t.value=r,t.getSnapshot=n,dE(t)&&gE(e)}function hE(e,t,r){return r(function(){dE(t)&&gE(e)})}function dE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cs(e,r)}catch{return!0}}function gE(e){var t=Vs(e,1);t!==null&&as(t,e,1,-1)}function P2(e){var t=xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:e},t.queue=e,e=e.dispatch=pk.bind(null,vr,e),[t.memoizedState,e]}function C0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pE(){return Ui().memoizedState}function cf(e,t,r,n){var i=xs();vr.flags|=e,i.memoizedState=C0(1|t,r,void 0,n===void 0?null:n)}function Ph(e,t,r,n){var i=Ui();n=n===void 0?null:n;var a=void 0;if(Hr!==null){var l=Hr.memoizedState;if(a=l.destroy,n!==null&&Lp(n,l.deps)){i.memoizedState=C0(t,r,a,n);return}}vr.flags|=e,i.memoizedState=C0(1|t,r,a,n)}function M2(e,t){return cf(8390656,8,e,t)}function Wp(e,t){return Ph(2048,8,e,t)}function xE(e,t){return Ph(4,2,e,t)}function mE(e,t){return Ph(4,4,e,t)}function wE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vE(e,t,r){return r=r!=null?r.concat([e]):null,Ph(4,4,wE.bind(null,t,e),r)}function Vp(){}function yE(e,t){var r=Ui();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _E(e,t){var r=Ui();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function EE(e,t,r){return xo&21?(cs(r,t)||(r=k_(),vr.lanes|=r,mo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ei=!0),e.memoizedState=r)}function dk(e,t){var r=Gt;Gt=r!==0&&4>r?r:4,e(!0);var n=Xd.transition;Xd.transition={};try{e(!1),t()}finally{Gt=r,Xd.transition=n}}function CE(){return Ui().memoizedState}function gk(e,t,r){var n=Sa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},AE(e))SE(t,r);else if(r=sE(e,t,r,n),r!==null){var i=Wn();as(r,e,n,i),TE(r,t,n)}}function pk(e,t,r){var n=Sa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(AE(e))SE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,u=a(l,r);if(i.hasEagerState=!0,i.eagerState=u,cs(u,l)){var g=t.interleaved;g===null?(i.next=i,Dp(t)):(i.next=g.next,g.next=i),t.interleaved=i;return}}catch{}finally{}r=sE(e,t,i,n),r!==null&&(i=Wn(),as(r,e,n,i),TE(r,t,n))}}function AE(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function SE(e,t){Vc=Df=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function TE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vp(e,r)}}var Ff={readContext:Li,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},xk={readContext:Li,useCallback:function(e,t){return xs().memoizedState=[e,t===void 0?null:t],e},useContext:Li,useEffect:M2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,cf(4194308,4,wE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return cf(4194308,4,e,t)},useInsertionEffect:function(e,t){return cf(4,2,e,t)},useMemo:function(e,t){var r=xs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gk.bind(null,vr,e),[n.memoizedState,e]},useRef:function(e){var t=xs();return e={current:e},t.memoizedState=e},useState:P2,useDebugValue:Vp,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=P2(!1),t=e[0];return e=dk.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vr,i=xs();if(pr){if(r===void 0)throw Error(De(407));r=r()}else{if(r=t(),sn===null)throw Error(De(349));xo&30||uE(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,M2(hE.bind(null,n,a,e),[e]),n.flags|=2048,C0(9,fE.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=xs(),t=sn.identifierPrefix;if(pr){var r=Os,n=Ns;r=(n&~(1<<32-ss(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=_0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mk={readContext:Li,useCallback:yE,useContext:Li,useEffect:Wp,useImperativeHandle:vE,useInsertionEffect:xE,useLayoutEffect:mE,useMemo:_E,useReducer:$d,useRef:pE,useState:function(){return $d(E0)},useDebugValue:Vp,useDeferredValue:function(e){var t=Ui();return EE(t,Hr.memoizedState,e)},useTransition:function(){var e=$d(E0)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:lE,useSyncExternalStore:cE,useId:CE,unstable_isNewReconciler:!1},wk={readContext:Li,useCallback:yE,useContext:Li,useEffect:Wp,useImperativeHandle:vE,useInsertionEffect:xE,useLayoutEffect:mE,useMemo:_E,useReducer:Yd,useRef:pE,useState:function(){return Yd(E0)},useDebugValue:Vp,useDeferredValue:function(e){var t=Ui();return Hr===null?t.memoizedState=e:EE(t,Hr.memoizedState,e)},useTransition:function(){var e=Yd(E0)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:lE,useSyncExternalStore:cE,useId:CE,unstable_isNewReconciler:!1};function Zi(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ig(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mh={isMounted:function(e){return(e=e._reactInternals)?Io(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wn(),i=Sa(e),a=Ps(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,i),t!==null&&(as(t,e,i,n),of(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wn(),i=Sa(e),a=Ps(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,i),t!==null&&(as(t,e,i,n),of(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wn(),n=Sa(e),i=Ps(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ca(e,i,n),t!==null&&(as(t,e,n,r),of(t,e,n))}};function B2(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!p0(r,n)||!p0(i,a):!0}function kE(e,t,r){var n=!1,i=Fa,a=t.contextType;return typeof a=="object"&&a!==null?a=Li(a):(i=ni(t)?go:Nn.current,n=t.contextTypes,a=(n=n!=null)?Rl(e,i):Fa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function L2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mh.enqueueReplaceState(t,t.state,null)}function sg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Fp(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Li(a):(a=ni(t)?go:Nn.current,i.context=Rl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ig(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Mh.enqueueReplaceState(i,i.state,null),Nf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fl(e,t){try{var r="",n=t;do r+=XT(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Kd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ag(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vk=typeof WeakMap=="function"?WeakMap:Map;function bE(e,t,r){r=Ps(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mf||(Mf=!0,xg=n),ag(e,t)},r}function IE(e,t,r){r=Ps(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ag(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ag(e,t),typeof n!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function U2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vk;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Dk.bind(null,e,t,r),t.then(e,e))}function j2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function W2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ps(-1,1),t.tag=2,Ca(r,t,1))),r.lanes|=1),e)}var yk=Ys.ReactCurrentOwner,ei=!1;function Mn(e,t,r,n){t.child=e===null?iE(t,null,r,n):Ol(t,e.child,r,n)}function V2(e,t,r,n,i){r=r.render;var a=t.ref;return yl(t,i),n=Up(e,t,r,n,a,i),r=jp(),e!==null&&!ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(pr&&r&&kp(t),t.flags|=1,Mn(e,t,n,i),t.child)}function H2(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!qp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,RE(e,t,a,n,i)):(e=df(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:p0,r(l,n)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,e=Ta(a,n),e.ref=t.ref,e.return=t,t.child=e}function RE(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(p0(a,n)&&e.ref===t.ref)if(ei=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ei=!0);else return t.lanes=e.lanes,Hs(e,t,i)}return og(e,t,r,n,i)}function NE(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(fl,hi),hi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(fl,hi),hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,sr(fl,hi),hi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,sr(fl,hi),hi|=n;return Mn(e,t,i,r),t.child}function OE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function og(e,t,r,n,i){var a=ni(r)?go:Nn.current;return a=Rl(t,a),yl(t,i),r=Up(e,t,r,n,a,i),n=jp(),e!==null&&!ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(pr&&n&&kp(t),t.flags|=1,Mn(e,t,r,i),t.child)}function z2(e,t,r,n,i){if(ni(r)){var a=!0;Tf(t)}else a=!1;if(yl(t,i),t.stateNode===null)uf(e,t),kE(t,r,n),sg(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var g=l.context,p=r.contextType;typeof p=="object"&&p!==null?p=Li(p):(p=ni(r)?go:Nn.current,p=Rl(t,p));var m=r.getDerivedStateFromProps,v=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||g!==p)&&L2(t,l,n,p),oa=!1;var _=t.memoizedState;l.state=_,Nf(t,n,l,i),g=t.memoizedState,u!==n||_!==g||ri.current||oa?(typeof m=="function"&&(ig(t,r,m,n),g=t.memoizedState),(u=oa||B2(t,r,u,n,_,g,p))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=p,n=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,aE(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:Zi(t.type,u),l.props=p,v=t.pendingProps,_=l.context,g=r.contextType,typeof g=="object"&&g!==null?g=Li(g):(g=ni(r)?go:Nn.current,g=Rl(t,g));var E=r.getDerivedStateFromProps;(m=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==v||_!==g)&&L2(t,l,n,g),oa=!1,_=t.memoizedState,l.state=_,Nf(t,n,l,i);var A=t.memoizedState;u!==v||_!==A||ri.current||oa?(typeof E=="function"&&(ig(t,r,E,n),A=t.memoizedState),(p=oa||B2(t,r,p,n,_,A,g)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,A,g),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,A,g)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),l.props=n,l.state=A,l.context=g,n=p):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),n=!1)}return lg(e,t,r,n,a,i)}function lg(e,t,r,n,i,a){OE(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&I2(t,r,!1),Hs(e,t,a);n=t.stateNode,yk.current=t;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Ol(t,e.child,null,a),t.child=Ol(t,null,u,a)):Mn(e,t,u,a),t.memoizedState=n.state,i&&I2(t,r,!0),t.child}function DE(e){var t=e.stateNode;t.pendingContext?b2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b2(e,t.context,!1),Pp(e,t.containerInfo)}function G2(e,t,r,n,i){return Nl(),Ip(i),t.flags|=256,Mn(e,t,r,n),t.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function ug(e){return{baseLanes:e,cachePool:null,transitions:null}}function FE(e,t,r){var n=t.pendingProps,i=wr.current,a=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),sr(wr,i&1),e===null)return rg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Uh(l,n,0,null),e=co(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ug(r),t.memoizedState=cg,e):Hp(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return _k(e,t,l,n,u,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,u=i.sibling;var g={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=g,t.deletions=null):(n=Ta(i,g),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=Ta(u,a):(a=co(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?ug(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=cg,n}return a=e.child,e=a.sibling,n=Ta(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Hp(e,t){return t=Uh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uu(e,t,r,n){return n!==null&&Ip(n),Ol(t,e.child,null,r),e=Hp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _k(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=Kd(Error(De(422))),Uu(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Uh({mode:"visible",children:n.children},i,0,null),a=co(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ol(t,e.child,null,l),t.child.memoizedState=ug(l),t.memoizedState=cg,a);if(!(t.mode&1))return Uu(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,a=Error(De(419)),n=Kd(a,n,void 0),Uu(e,t,l,n)}if(u=(l&e.childLanes)!==0,ei||u){if(n=sn,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Vs(e,i),as(n,e,i,-1))}return Kp(),n=Kd(Error(De(421))),Uu(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Fk.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xi=Ea(i.nextSibling),mi=t,pr=!0,Ji=null,e!==null&&(Di[Fi++]=Ns,Di[Fi++]=Os,Di[Fi++]=po,Ns=e.id,Os=e.overflow,po=t),t=Hp(t,n.children),t.flags|=4096,t)}function X2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ng(e.return,t,r)}function qd(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function PE(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Mn(e,t,n.children,r),n=wr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&X2(e,r,t);else if(e.tag===19)X2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(sr(wr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Of(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),qd(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Of(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}qd(t,!0,r,null,a);break;case"together":qd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,r=Ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ek(e,t,r){switch(t.tag){case 3:DE(t),Nl();break;case 5:oE(t);break;case 1:ni(t.type)&&Tf(t);break;case 4:Pp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;sr(If,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(sr(wr,wr.current&1),t.flags|=128,null):r&t.child.childLanes?FE(e,t,r):(sr(wr,wr.current&1),e=Hs(e,t,r),e!==null?e.sibling:null);sr(wr,wr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return PE(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sr(wr,wr.current),n)break;return null;case 22:case 23:return t.lanes=0,NE(e,t,r)}return Hs(e,t,r)}var ME,fg,BE,LE;ME=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fg=function(){};BE=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,io(ys.current);var a=null;switch(r){case"input":i=D1(e,i),n=D1(e,n),a=[];break;case"select":i=yr({},i,{value:void 0}),n=yr({},n,{value:void 0}),a=[];break;case"textarea":i=M1(e,i),n=M1(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Af)}L1(r,n);var l;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l0.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var g=n[p];if(u=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&g!==u&&(g!=null||u!=null))if(p==="style")if(u){for(l in u)!u.hasOwnProperty(l)||g&&g.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in g)g.hasOwnProperty(l)&&u[l]!==g[l]&&(r||(r={}),r[l]=g[l])}else r||(a||(a=[]),a.push(p,r)),r=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,u=u?u.__html:void 0,g!=null&&u!==g&&(a=a||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(l0.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&ur("scroll",e),a||u===g||(a=[])):(a=a||[]).push(p,g))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};LE=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ec(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function An(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ck(e,t,r){var n=t.pendingProps;switch(bp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(t),null;case 1:return ni(t.type)&&Sf(),An(t),null;case 3:return n=t.stateNode,Dl(),hr(ri),hr(Nn),Bp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ji!==null&&(vg(Ji),Ji=null))),fg(e,t),An(t),null;case 5:Mp(t);var i=io(y0.current);if(r=t.type,e!==null&&t.stateNode!=null)BE(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(De(166));return An(t),null}if(e=io(ys.current),Bu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ws]=t,n[w0]=a,e=(t.mode&1)!==0,r){case"dialog":ur("cancel",n),ur("close",n);break;case"iframe":case"object":case"embed":ur("load",n);break;case"video":case"audio":for(i=0;i<Nc.length;i++)ur(Nc[i],n);break;case"source":ur("error",n);break;case"img":case"image":case"link":ur("error",n),ur("load",n);break;case"details":ur("toggle",n);break;case"input":t2(n,a),ur("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ur("invalid",n);break;case"textarea":n2(n,a),ur("invalid",n)}L1(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="children"?typeof u=="string"?n.textContent!==u&&(a.suppressHydrationWarning!==!0&&Mu(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Mu(n.textContent,u,e),i=["children",""+u]):l0.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ur("scroll",n)}switch(r){case"input":bu(n),r2(n,a,!0);break;case"textarea":bu(n),i2(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Af)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=h_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ws]=t,e[w0]=n,ME(e,t,!1,!1),t.stateNode=e;e:{switch(l=U1(r,n),r){case"dialog":ur("cancel",e),ur("close",e),i=n;break;case"iframe":case"object":case"embed":ur("load",e),i=n;break;case"video":case"audio":for(i=0;i<Nc.length;i++)ur(Nc[i],e);i=n;break;case"source":ur("error",e),i=n;break;case"img":case"image":case"link":ur("error",e),ur("load",e),i=n;break;case"details":ur("toggle",e),i=n;break;case"input":t2(e,n),i=D1(e,n),ur("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=yr({},n,{value:void 0}),ur("invalid",e);break;case"textarea":n2(e,n),i=M1(e,n),ur("invalid",e);break;default:i=n}L1(r,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var g=u[a];a==="style"?p_(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&d_(e,g)):a==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&c0(e,g):typeof g=="number"&&c0(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(l0.hasOwnProperty(a)?g!=null&&a==="onScroll"&&ur("scroll",e):g!=null&&dp(e,a,g,l))}switch(r){case"input":bu(e),r2(e,n,!1);break;case"textarea":bu(e),i2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Da(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?xl(e,!!n.multiple,a,!1):n.defaultValue!=null&&xl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Af)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return An(t),null;case 6:if(e&&t.stateNode!=null)LE(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(De(166));if(r=io(y0.current),io(ys.current),Bu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ws]=t,(a=n.nodeValue!==r)&&(e=mi,e!==null))switch(e.tag){case 3:Mu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ws]=t,t.stateNode=n}return An(t),null;case 13:if(hr(wr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pr&&xi!==null&&t.mode&1&&!(t.flags&128))rE(),Nl(),t.flags|=98560,a=!1;else if(a=Bu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(De(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(De(317));a[ws]=t}else Nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;An(t),a=!1}else Ji!==null&&(vg(Ji),Ji=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wr.current&1?Xr===0&&(Xr=3):Kp())),t.updateQueue!==null&&(t.flags|=4),An(t),null);case 4:return Dl(),fg(e,t),e===null&&x0(t.stateNode.containerInfo),An(t),null;case 10:return Op(t.type._context),An(t),null;case 17:return ni(t.type)&&Sf(),An(t),null;case 19:if(hr(wr),a=t.memoizedState,a===null)return An(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)Ec(a,!1);else{if(Xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Of(e),l!==null){for(t.flags|=128,Ec(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return sr(wr,wr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Or()>Pl&&(t.flags|=128,n=!0,Ec(a,!1),t.lanes=4194304)}else{if(!n)if(e=Of(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ec(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!pr)return An(t),null}else 2*Or()-a.renderingStartTime>Pl&&r!==1073741824&&(t.flags|=128,n=!0,Ec(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Or(),t.sibling=null,r=wr.current,sr(wr,n?r&1|2:r&1),t):(An(t),null);case 22:case 23:return Yp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hi&1073741824&&(An(t),t.subtreeFlags&6&&(t.flags|=8192)):An(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function Ak(e,t){switch(bp(t),t.tag){case 1:return ni(t.type)&&Sf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dl(),hr(ri),hr(Nn),Bp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mp(t),null;case 13:if(hr(wr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));Nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hr(wr),null;case 4:return Dl(),null;case 10:return Op(t.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var ju=!1,kn=!1,Sk=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function ul(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ar(e,t,n)}else r.current=null}function hg(e,t,r){try{r()}catch(n){Ar(e,t,n)}}var $2=!1;function Tk(e,t){if(K1=_f,e=H_(),Tp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,u=-1,g=-1,p=0,m=0,v=e,_=null;t:for(;;){for(var E;v!==r||i!==0&&v.nodeType!==3||(u=l+i),v!==a||n!==0&&v.nodeType!==3||(g=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(E=v.firstChild)!==null;)_=v,v=E;for(;;){if(v===e)break t;if(_===r&&++p===i&&(u=l),_===a&&++m===n&&(g=l),(E=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=E}r=u===-1||g===-1?null:{start:u,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(q1={focusedElem:e,selectionRange:r},_f=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,I=A.memoizedState,b=t.stateNode,k=b.getSnapshotBeforeUpdate(t.elementType===t.type?C:Zi(t.type,C),I);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(L){Ar(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return A=$2,$2=!1,A}function Hc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&hg(t,r,a)}i=i.next}while(i!==n)}}function Bh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function dg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function UE(e){var t=e.alternate;t!==null&&(e.alternate=null,UE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ws],delete t[w0],delete t[J1],delete t[lk],delete t[ck])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jE(e){return e.tag===5||e.tag===3||e.tag===4}function Y2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Af));else if(n!==4&&(e=e.child,e!==null))for(gg(e,t,r),e=e.sibling;e!==null;)gg(e,t,r),e=e.sibling}function pg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(pg(e,t,r),e=e.sibling;e!==null;)pg(e,t,r),e=e.sibling}var dn=null,Qi=!1;function ia(e,t,r){for(r=r.child;r!==null;)WE(e,t,r),r=r.sibling}function WE(e,t,r){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Ih,r)}catch{}switch(r.tag){case 5:kn||ul(r,t);case 6:var n=dn,i=Qi;dn=null,ia(e,t,r),dn=n,Qi=i,dn!==null&&(Qi?(e=dn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dn.removeChild(r.stateNode));break;case 18:dn!==null&&(Qi?(e=dn,r=r.stateNode,e.nodeType===8?Hd(e.parentNode,r):e.nodeType===1&&Hd(e,r),d0(e)):Hd(dn,r.stateNode));break;case 4:n=dn,i=Qi,dn=r.stateNode.containerInfo,Qi=!0,ia(e,t,r),dn=n,Qi=i;break;case 0:case 11:case 14:case 15:if(!kn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&hg(r,t,l),i=i.next}while(i!==n)}ia(e,t,r);break;case 1:if(!kn&&(ul(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){Ar(r,t,u)}ia(e,t,r);break;case 21:ia(e,t,r);break;case 22:r.mode&1?(kn=(n=kn)||r.memoizedState!==null,ia(e,t,r),kn=n):ia(e,t,r);break;default:ia(e,t,r)}}function K2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sk),t.forEach(function(n){var i=Pk.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Yi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:dn=u.stateNode,Qi=!1;break e;case 3:dn=u.stateNode.containerInfo,Qi=!0;break e;case 4:dn=u.stateNode.containerInfo,Qi=!0;break e}u=u.return}if(dn===null)throw Error(De(160));WE(a,l,i),dn=null,Qi=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(p){Ar(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)VE(t,e),t=t.sibling}function VE(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yi(t,e),ds(e),n&4){try{Hc(3,e,e.return),Bh(3,e)}catch(C){Ar(e,e.return,C)}try{Hc(5,e,e.return)}catch(C){Ar(e,e.return,C)}}break;case 1:Yi(t,e),ds(e),n&512&&r!==null&&ul(r,r.return);break;case 5:if(Yi(t,e),ds(e),n&512&&r!==null&&ul(r,r.return),e.flags&32){var i=e.stateNode;try{c0(i,"")}catch(C){Ar(e,e.return,C)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,u=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&u_(i,a),U1(u,l);var p=U1(u,a);for(l=0;l<g.length;l+=2){var m=g[l],v=g[l+1];m==="style"?p_(i,v):m==="dangerouslySetInnerHTML"?d_(i,v):m==="children"?c0(i,v):dp(i,m,v,p)}switch(u){case"input":F1(i,a);break;case"textarea":f_(i,a);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?xl(i,!!a.multiple,E,!1):_!==!!a.multiple&&(a.defaultValue!=null?xl(i,!!a.multiple,a.defaultValue,!0):xl(i,!!a.multiple,a.multiple?[]:"",!1))}i[w0]=a}catch(C){Ar(e,e.return,C)}}break;case 6:if(Yi(t,e),ds(e),n&4){if(e.stateNode===null)throw Error(De(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(C){Ar(e,e.return,C)}}break;case 3:if(Yi(t,e),ds(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{d0(t.containerInfo)}catch(C){Ar(e,e.return,C)}break;case 4:Yi(t,e),ds(e);break;case 13:Yi(t,e),ds(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Xp=Or())),n&4&&K2(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(kn=(p=kn)||m,Yi(t,e),kn=p):Yi(t,e),ds(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!m&&e.mode&1)for(Ke=e,m=e.child;m!==null;){for(v=Ke=m;Ke!==null;){switch(_=Ke,E=_.child,_.tag){case 0:case 11:case 14:case 15:Hc(4,_,_.return);break;case 1:ul(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){n=_,r=_.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(C){Ar(n,r,C)}}break;case 5:ul(_,_.return);break;case 22:if(_.memoizedState!==null){Z2(v);continue}}E!==null?(E.return=_,Ke=E):Z2(v)}m=m.sibling}e:for(m=null,v=e;;){if(v.tag===5){if(m===null){m=v;try{i=v.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=v.stateNode,g=v.memoizedProps.style,l=g!=null&&g.hasOwnProperty("display")?g.display:null,u.style.display=g_("display",l))}catch(C){Ar(e,e.return,C)}}}else if(v.tag===6){if(m===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(C){Ar(e,e.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Yi(t,e),ds(e),n&4&&K2(e);break;case 21:break;default:Yi(t,e),ds(e)}}function ds(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(jE(r)){var n=r;break e}r=r.return}throw Error(De(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(c0(i,""),n.flags&=-33);var a=Y2(e);pg(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Y2(e);gg(e,u,l);break;default:throw Error(De(161))}}catch(g){Ar(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kk(e,t,r){Ke=e,HE(e)}function HE(e,t,r){for(var n=(e.mode&1)!==0;Ke!==null;){var i=Ke,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||ju;if(!l){var u=i.alternate,g=u!==null&&u.memoizedState!==null||kn;u=ju;var p=kn;if(ju=l,(kn=g)&&!p)for(Ke=i;Ke!==null;)l=Ke,g=l.child,l.tag===22&&l.memoizedState!==null?Q2(i):g!==null?(g.return=l,Ke=g):Q2(i);for(;a!==null;)Ke=a,HE(a),a=a.sibling;Ke=i,ju=u,kn=p}q2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ke=a):q2(e)}}function q2(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kn||Bh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Zi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&F2(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}F2(t,l,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var v=m.dehydrated;v!==null&&d0(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}kn||t.flags&512&&dg(t)}catch(_){Ar(t,t.return,_)}}if(t===e){Ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function Z2(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function Q2(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bh(4,t)}catch(g){Ar(t,r,g)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(g){Ar(t,i,g)}}var a=t.return;try{dg(t)}catch(g){Ar(t,a,g)}break;case 5:var l=t.return;try{dg(t)}catch(g){Ar(t,l,g)}}}catch(g){Ar(t,t.return,g)}if(t===e){Ke=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ke=u;break}Ke=t.return}}var bk=Math.ceil,Pf=Ys.ReactCurrentDispatcher,zp=Ys.ReactCurrentOwner,Bi=Ys.ReactCurrentBatchConfig,Lt=0,sn=null,Lr=null,xn=0,hi=0,fl=Va(0),Xr=0,A0=null,mo=0,Lh=0,Gp=0,zc=null,Jn=null,Xp=0,Pl=1/0,Is=null,Mf=!1,xg=null,Aa=null,Wu=!1,ha=null,Bf=0,Gc=0,mg=null,ff=-1,hf=0;function Wn(){return Lt&6?Or():ff!==-1?ff:ff=Or()}function Sa(e){return e.mode&1?Lt&2&&xn!==0?xn&-xn:fk.transition!==null?(hf===0&&(hf=k_()),hf):(e=Gt,e!==0||(e=window.event,e=e===void 0?16:F_(e.type)),e):1}function as(e,t,r,n){if(50<Gc)throw Gc=0,mg=null,Error(De(185));Y0(e,r,n),(!(Lt&2)||e!==sn)&&(e===sn&&(!(Lt&2)&&(Lh|=r),Xr===4&&ca(e,xn)),ii(e,n),r===1&&Lt===0&&!(t.mode&1)&&(Pl=Or()+500,Fh&&Ha()))}function ii(e,t){var r=e.callbackNode;f8(e,t);var n=yf(e,e===sn?xn:0);if(n===0)r!==null&&o2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&o2(r),t===1)e.tag===0?uk(J2.bind(null,e)):J_(J2.bind(null,e)),ak(function(){!(Lt&6)&&Ha()}),r=null;else{switch(b_(n)){case 1:r=wp;break;case 4:r=S_;break;case 16:r=vf;break;case 536870912:r=T_;break;default:r=vf}r=ZE(r,zE.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zE(e,t){if(ff=-1,hf=0,Lt&6)throw Error(De(327));var r=e.callbackNode;if(_l()&&e.callbackNode!==r)return null;var n=yf(e,e===sn?xn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Lf(e,n);else{t=n;var i=Lt;Lt|=2;var a=XE();(sn!==e||xn!==t)&&(Is=null,Pl=Or()+500,lo(e,t));do try{Nk();break}catch(u){GE(e,u)}while(!0);Np(),Pf.current=a,Lt=i,Lr!==null?t=0:(sn=null,xn=0,t=Xr)}if(t!==0){if(t===2&&(i=z1(e),i!==0&&(n=i,t=wg(e,i))),t===1)throw r=A0,lo(e,0),ca(e,n),ii(e,Or()),r;if(t===6)ca(e,n);else{if(i=e.current.alternate,!(n&30)&&!Ik(i)&&(t=Lf(e,n),t===2&&(a=z1(e),a!==0&&(n=a,t=wg(e,a))),t===1))throw r=A0,lo(e,0),ca(e,n),ii(e,Or()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(De(345));case 2:Qa(e,Jn,Is);break;case 3:if(ca(e,n),(n&130023424)===n&&(t=Xp+500-Or(),10<t)){if(yf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Wn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Q1(Qa.bind(null,e,Jn,Is),t);break}Qa(e,Jn,Is);break;case 4:if(ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-ss(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Or()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bk(n/1960))-n,10<n){e.timeoutHandle=Q1(Qa.bind(null,e,Jn,Is),n);break}Qa(e,Jn,Is);break;case 5:Qa(e,Jn,Is);break;default:throw Error(De(329))}}}return ii(e,Or()),e.callbackNode===r?zE.bind(null,e):null}function wg(e,t){var r=zc;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=Lf(e,t),e!==2&&(t=Jn,Jn=r,t!==null&&vg(t)),e}function vg(e){Jn===null?Jn=e:Jn.push.apply(Jn,e)}function Ik(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!cs(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ca(e,t){for(t&=~Gp,t&=~Lh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ss(t),n=1<<r;e[r]=-1,t&=~n}}function J2(e){if(Lt&6)throw Error(De(327));_l();var t=yf(e,0);if(!(t&1))return ii(e,Or()),null;var r=Lf(e,t);if(e.tag!==0&&r===2){var n=z1(e);n!==0&&(t=n,r=wg(e,n))}if(r===1)throw r=A0,lo(e,0),ca(e,t),ii(e,Or()),r;if(r===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qa(e,Jn,Is),ii(e,Or()),null}function $p(e,t){var r=Lt;Lt|=1;try{return e(t)}finally{Lt=r,Lt===0&&(Pl=Or()+500,Fh&&Ha())}}function wo(e){ha!==null&&ha.tag===0&&!(Lt&6)&&_l();var t=Lt;Lt|=1;var r=Bi.transition,n=Gt;try{if(Bi.transition=null,Gt=1,e)return e()}finally{Gt=n,Bi.transition=r,Lt=t,!(Lt&6)&&Ha()}}function Yp(){hi=fl.current,hr(fl)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sk(r)),Lr!==null)for(r=Lr.return;r!==null;){var n=r;switch(bp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sf();break;case 3:Dl(),hr(ri),hr(Nn),Bp();break;case 5:Mp(n);break;case 4:Dl();break;case 13:hr(wr);break;case 19:hr(wr);break;case 10:Op(n.type._context);break;case 22:case 23:Yp()}r=r.return}if(sn=e,Lr=e=Ta(e.current,null),xn=hi=t,Xr=0,A0=null,Gp=Lh=mo=0,Jn=zc=null,no!==null){for(t=0;t<no.length;t++)if(r=no[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}no=null}return e}function GE(e,t){do{var r=Lr;try{if(Np(),lf.current=Ff,Df){for(var n=vr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Df=!1}if(xo=0,rn=Hr=vr=null,Vc=!1,_0=0,zp.current=null,r===null||r.return===null){Xr=1,A0=t,Lr=null;break}e:{var a=e,l=r.return,u=r,g=t;if(t=xn,u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,m=u,v=m.tag;if(!(m.mode&1)&&(v===0||v===11||v===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=j2(l);if(E!==null){E.flags&=-257,W2(E,l,u,a,t),E.mode&1&&U2(a,p,t),t=E,g=p;var A=t.updateQueue;if(A===null){var C=new Set;C.add(g),t.updateQueue=C}else A.add(g);break e}else{if(!(t&1)){U2(a,p,t),Kp();break e}g=Error(De(426))}}else if(pr&&u.mode&1){var I=j2(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),W2(I,l,u,a,t),Ip(Fl(g,u));break e}}a=g=Fl(g,u),Xr!==4&&(Xr=2),zc===null?zc=[a]:zc.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=bE(a,g,t);D2(a,b);break e;case 1:u=g;var k=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof k.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Aa===null||!Aa.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var L=IE(a,u,t);D2(a,L);break e}}a=a.return}while(a!==null)}YE(r)}catch(q){t=q,Lr===r&&r!==null&&(Lr=r=r.return);continue}break}while(!0)}function XE(){var e=Pf.current;return Pf.current=Ff,e===null?Ff:e}function Kp(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),sn===null||!(mo&268435455)&&!(Lh&268435455)||ca(sn,xn)}function Lf(e,t){var r=Lt;Lt|=2;var n=XE();(sn!==e||xn!==t)&&(Is=null,lo(e,t));do try{Rk();break}catch(i){GE(e,i)}while(!0);if(Np(),Lt=r,Pf.current=n,Lr!==null)throw Error(De(261));return sn=null,xn=0,Xr}function Rk(){for(;Lr!==null;)$E(Lr)}function Nk(){for(;Lr!==null&&!r8();)$E(Lr)}function $E(e){var t=qE(e.alternate,e,hi);e.memoizedProps=e.pendingProps,t===null?YE(e):Lr=t,zp.current=null}function YE(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ak(r,t),r!==null){r.flags&=32767,Lr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xr=6,Lr=null;return}}else if(r=Ck(r,t,hi),r!==null){Lr=r;return}if(t=t.sibling,t!==null){Lr=t;return}Lr=t=e}while(t!==null);Xr===0&&(Xr=5)}function Qa(e,t,r){var n=Gt,i=Bi.transition;try{Bi.transition=null,Gt=1,Ok(e,t,r,n)}finally{Bi.transition=i,Gt=n}return null}function Ok(e,t,r,n){do _l();while(ha!==null);if(Lt&6)throw Error(De(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(h8(e,a),e===sn&&(Lr=sn=null,xn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wu||(Wu=!0,ZE(vf,function(){return _l(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Bi.transition,Bi.transition=null;var l=Gt;Gt=1;var u=Lt;Lt|=4,zp.current=null,Tk(e,r),VE(r,e),Q8(q1),_f=!!K1,q1=K1=null,e.current=r,kk(r),n8(),Lt=u,Gt=l,Bi.transition=a}else e.current=r;if(Wu&&(Wu=!1,ha=e,Bf=i),a=e.pendingLanes,a===0&&(Aa=null),a8(r.stateNode),ii(e,Or()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mf)throw Mf=!1,e=xg,xg=null,e;return Bf&1&&e.tag!==0&&_l(),a=e.pendingLanes,a&1?e===mg?Gc++:(Gc=0,mg=e):Gc=0,Ha(),null}function _l(){if(ha!==null){var e=b_(Bf),t=Bi.transition,r=Gt;try{if(Bi.transition=null,Gt=16>e?16:e,ha===null)var n=!1;else{if(e=ha,ha=null,Bf=0,Lt&6)throw Error(De(331));var i=Lt;for(Lt|=4,Ke=e.current;Ke!==null;){var a=Ke,l=a.child;if(Ke.flags&16){var u=a.deletions;if(u!==null){for(var g=0;g<u.length;g++){var p=u[g];for(Ke=p;Ke!==null;){var m=Ke;switch(m.tag){case 0:case 11:case 15:Hc(8,m,a)}var v=m.child;if(v!==null)v.return=m,Ke=v;else for(;Ke!==null;){m=Ke;var _=m.sibling,E=m.return;if(UE(m),m===p){Ke=null;break}if(_!==null){_.return=E,Ke=_;break}Ke=E}}}var A=a.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}Ke=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Ke=l;else e:for(;Ke!==null;){if(a=Ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Hc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ke=b;break e}Ke=a.return}}var k=e.current;for(Ke=k;Ke!==null;){l=Ke;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,Ke=S;else e:for(l=k;Ke!==null;){if(u=Ke,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Bh(9,u)}}catch(q){Ar(u,u.return,q)}if(u===l){Ke=null;break e}var L=u.sibling;if(L!==null){L.return=u.return,Ke=L;break e}Ke=u.return}}if(Lt=i,Ha(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Ih,e)}catch{}n=!0}return n}finally{Gt=r,Bi.transition=t}}return!1}function ew(e,t,r){t=Fl(r,t),t=bE(e,t,1),e=Ca(e,t,1),t=Wn(),e!==null&&(Y0(e,1,t),ii(e,t))}function Ar(e,t,r){if(e.tag===3)ew(e,e,r);else for(;t!==null;){if(t.tag===3){ew(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Aa===null||!Aa.has(n))){e=Fl(r,e),e=IE(t,e,1),t=Ca(t,e,1),e=Wn(),t!==null&&(Y0(t,1,e),ii(t,e));break}}t=t.return}}function Dk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&r,sn===e&&(xn&r)===r&&(Xr===4||Xr===3&&(xn&130023424)===xn&&500>Or()-Xp?lo(e,0):Gp|=r),ii(e,t)}function KE(e,t){t===0&&(e.mode&1?(t=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):t=1);var r=Wn();e=Vs(e,t),e!==null&&(Y0(e,t,r),ii(e,r))}function Fk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KE(e,r)}function Pk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(De(314))}n!==null&&n.delete(t),KE(e,r)}var qE;qE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ri.current)ei=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ei=!1,Ek(e,t,r);ei=!!(e.flags&131072)}else ei=!1,pr&&t.flags&1048576&&eE(t,bf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;uf(e,t),e=t.pendingProps;var i=Rl(t,Nn.current);yl(t,r),i=Up(null,t,n,e,i,r);var a=jp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ni(n)?(a=!0,Tf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fp(t),i.updater=Mh,t.stateNode=i,i._reactInternals=t,sg(t,n,e,r),t=lg(null,t,n,!0,a,r)):(t.tag=0,pr&&a&&kp(t),Mn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(uf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Bk(n),e=Zi(n,e),i){case 0:t=og(null,t,n,e,r);break e;case 1:t=z2(null,t,n,e,r);break e;case 11:t=V2(null,t,n,e,r);break e;case 14:t=H2(null,t,n,Zi(n.type,e),r);break e}throw Error(De(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),og(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),z2(e,t,n,i,r);case 3:e:{if(DE(t),e===null)throw Error(De(387));n=t.pendingProps,a=t.memoizedState,i=a.element,aE(e,t),Nf(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Fl(Error(De(423)),t),t=G2(e,t,n,r,i);break e}else if(n!==i){i=Fl(Error(De(424)),t),t=G2(e,t,n,r,i);break e}else for(xi=Ea(t.stateNode.containerInfo.firstChild),mi=t,pr=!0,Ji=null,r=iE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nl(),n===i){t=Hs(e,t,r);break e}Mn(e,t,n,r)}t=t.child}return t;case 5:return oE(t),e===null&&rg(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Z1(n,i)?l=null:a!==null&&Z1(n,a)&&(t.flags|=32),OE(e,t),Mn(e,t,l,r),t.child;case 6:return e===null&&rg(t),null;case 13:return FE(e,t,r);case 4:return Pp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ol(t,null,n,r):Mn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),V2(e,t,n,i,r);case 7:return Mn(e,t,t.pendingProps,r),t.child;case 8:return Mn(e,t,t.pendingProps.children,r),t.child;case 12:return Mn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,sr(If,n._currentValue),n._currentValue=l,a!==null)if(cs(a.value,l)){if(a.children===i.children&&!ri.current){t=Hs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){l=a.child;for(var g=u.firstContext;g!==null;){if(g.context===n){if(a.tag===1){g=Ps(-1,r&-r),g.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?g.next=g:(g.next=m.next,m.next=g),p.pending=g}}a.lanes|=r,g=a.alternate,g!==null&&(g.lanes|=r),ng(a.return,r,t),u.lanes|=r;break}g=g.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(De(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),ng(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Mn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,yl(t,r),i=Li(i),n=n(i),t.flags|=1,Mn(e,t,n,r),t.child;case 14:return n=t.type,i=Zi(n,t.pendingProps),i=Zi(n.type,i),H2(e,t,n,i,r);case 15:return RE(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zi(n,i),uf(e,t),t.tag=1,ni(n)?(e=!0,Tf(t)):e=!1,yl(t,r),kE(t,n,i),sg(t,n,i,r),lg(null,t,n,!0,e,r);case 19:return PE(e,t,r);case 22:return NE(e,t,r)}throw Error(De(156,t.tag))};function ZE(e,t){return A_(e,t)}function Mk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(e,t,r,n){return new Mk(e,t,r,n)}function qp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bk(e){if(typeof e=="function")return qp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pp)return 11;if(e===xp)return 14}return 2}function Ta(e,t){var r=e.alternate;return r===null?(r=Pi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function df(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")qp(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case tl:return co(r.children,i,a,t);case gp:l=8,i|=8;break;case I1:return e=Pi(12,r,t,i|2),e.elementType=I1,e.lanes=a,e;case R1:return e=Pi(13,r,t,i),e.elementType=R1,e.lanes=a,e;case N1:return e=Pi(19,r,t,i),e.elementType=N1,e.lanes=a,e;case o_:return Uh(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s_:l=10;break e;case a_:l=9;break e;case pp:l=11;break e;case xp:l=14;break e;case aa:l=16,n=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=Pi(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function co(e,t,r,n){return e=Pi(7,e,n,t),e.lanes=r,e}function Uh(e,t,r,n){return e=Pi(22,e,n,t),e.elementType=o_,e.lanes=r,e.stateNode={isHidden:!1},e}function Zd(e,t,r){return e=Pi(6,e,null,t),e.lanes=r,e}function Qd(e,t,r){return t=Pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lk(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Od(0),this.expirationTimes=Od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zp(e,t,r,n,i,a,l,u,g){return e=new Lk(e,t,r,u,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Pi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(a),e}function Uk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:el,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function QE(e){if(!e)return Fa;e=e._reactInternals;e:{if(Io(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var r=e.type;if(ni(r))return Q_(e,r,t)}return t}function JE(e,t,r,n,i,a,l,u,g){return e=Zp(r,n,!0,e,i,a,l,u,g),e.context=QE(null),r=e.current,n=Wn(),i=Sa(r),a=Ps(n,i),a.callback=t??null,Ca(r,a,i),e.current.lanes=i,Y0(e,i,n),ii(e,n),e}function jh(e,t,r,n){var i=t.current,a=Wn(),l=Sa(i);return r=QE(r),t.context===null?t.context=r:t.pendingContext=r,t=Ps(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ca(i,t,l),e!==null&&(as(e,i,l,a),of(e,i,l)),l}function Uf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Qp(e,t){tw(e,t),(e=e.alternate)&&tw(e,t)}function jk(){return null}var eC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jp(e){this._internalRoot=e}Wh.prototype.render=Jp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));jh(e,t,null,null)};Wh.prototype.unmount=Jp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wo(function(){jh(null,e,null,null)}),t[Ws]=null}};function Wh(e){this._internalRoot=e}Wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=N_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<la.length&&t!==0&&t<la[r].priority;r++);la.splice(r,0,e),r===0&&D_(e)}};function ex(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rw(){}function Wk(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var p=Uf(l);a.call(p)}}var l=JE(t,n,e,0,null,!1,!1,"",rw);return e._reactRootContainer=l,e[Ws]=l.current,x0(e.nodeType===8?e.parentNode:e),wo(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var p=Uf(g);u.call(p)}}var g=Zp(e,0,!1,null,null,!1,!1,"",rw);return e._reactRootContainer=g,e[Ws]=g.current,x0(e.nodeType===8?e.parentNode:e),wo(function(){jh(t,g,r,n)}),g}function Hh(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var u=i;i=function(){var g=Uf(l);u.call(g)}}jh(t,l,e,i)}else l=Wk(r,t,e,i,n);return Uf(l)}I_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rc(t.pendingLanes);r!==0&&(vp(t,r|1),ii(t,Or()),!(Lt&6)&&(Pl=Or()+500,Ha()))}break;case 13:wo(function(){var n=Vs(e,1);if(n!==null){var i=Wn();as(n,e,1,i)}}),Qp(e,1)}};yp=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var r=Wn();as(t,e,134217728,r)}Qp(e,134217728)}};R_=function(e){if(e.tag===13){var t=Sa(e),r=Vs(e,t);if(r!==null){var n=Wn();as(r,e,t,n)}Qp(e,t)}};N_=function(){return Gt};O_=function(e,t){var r=Gt;try{return Gt=e,t()}finally{Gt=r}};W1=function(e,t,r){switch(t){case"input":if(F1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Dh(n);if(!i)throw Error(De(90));c_(n),F1(n,i)}}}break;case"textarea":f_(e,r);break;case"select":t=r.value,t!=null&&xl(e,!!r.multiple,t,!1)}};w_=$p;v_=wo;var Vk={usingClientEntryPoint:!1,Events:[q0,sl,Dh,x_,m_,$p]},Cc={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hk={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=E_(e),e===null?null:e.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Ih=Vu.inject(Hk),vs=Vu}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vk;Ei.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ex(t))throw Error(De(200));return Uk(e,t,null,r)};Ei.createRoot=function(e,t){if(!ex(e))throw Error(De(299));var r=!1,n="",i=eC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Zp(e,1,!1,null,null,r,!1,n,i),e[Ws]=t.current,x0(e.nodeType===8?e.parentNode:e),new Jp(t)};Ei.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=E_(t),e=e===null?null:e.stateNode,e};Ei.flushSync=function(e){return wo(e)};Ei.hydrate=function(e,t,r){if(!Vh(t))throw Error(De(200));return Hh(null,e,t,!0,r)};Ei.hydrateRoot=function(e,t,r){if(!ex(e))throw Error(De(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=eC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=JE(t,null,e,1,r??null,i,!1,a,l),e[Ws]=t.current,x0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Wh(t)};Ei.render=function(e,t,r){if(!Vh(t))throw Error(De(200));return Hh(null,e,t,!1,r)};Ei.unmountComponentAtNode=function(e){if(!Vh(e))throw Error(De(40));return e._reactRootContainer?(wo(function(){Hh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ws]=null})}),!0):!1};Ei.unstable_batchedUpdates=$p;Ei.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vh(r))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return Hh(e,t,r,!1,n)};Ei.version="18.3.1-next-f1338f8080-20240426";function tC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tC)}catch(e){console.error(e)}}tC(),t_.exports=Ei;var zk=t_.exports,nw=zk;k1.createRoot=nw.createRoot,k1.hydrateRoot=nw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}var da;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(da||(da={}));const iw="popstate";function Gk(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:u}=n.location;return yg("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:jf(i)}return $k(t,r,null,e)}function Ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xk(){return Math.random().toString(36).substr(2,8)}function sw(e,t){return{usr:e.state,key:e.key,idx:t}}function yg(e,t,r,n){return r===void 0&&(r=null),S0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kl(t):t,{state:r,key:t&&t.key||n||Xk()})}function jf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $k(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,u=da.Pop,g=null,p=m();p==null&&(p=0,l.replaceState(S0({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function v(){u=da.Pop;let I=m(),b=I==null?null:I-p;p=I,g&&g({action:u,location:C.location,delta:b})}function _(I,b){u=da.Push;let k=yg(C.location,I,b);p=m()+1;let S=sw(k,p),L=C.createHref(k);try{l.pushState(S,"",L)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(L)}a&&g&&g({action:u,location:C.location,delta:1})}function E(I,b){u=da.Replace;let k=yg(C.location,I,b);p=m();let S=sw(k,p),L=C.createHref(k);l.replaceState(S,"",L),a&&g&&g({action:u,location:C.location,delta:0})}function A(I){let b=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof I=="string"?I:jf(I);return k=k.replace(/ $/,"%20"),Ur(b,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,b)}let C={get action(){return u},get location(){return e(i,l)},listen(I){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(iw,v),g=I,()=>{i.removeEventListener(iw,v),g=null}},createHref(I){return t(i,I)},createURL:A,encodeLocation(I){let b=A(I);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:E,go(I){return l.go(I)}};return C}var aw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aw||(aw={}));function Yk(e,t,r){return r===void 0&&(r="/"),Kk(e,t,r)}function Kk(e,t,r,n){let i=typeof t=="string"?Kl(t):t,a=tx(i.pathname||"/",r);if(a==null)return null;let l=nC(e);qk(l);let u=null;for(let g=0;u==null&&g<l.length;++g){let p=lb(a);u=sb(l[g],p)}return u}function nC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,u)=>{let g={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};g.relativePath.startsWith("/")&&(Ur(g.relativePath.startsWith(n),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(n.length));let p=ka([n,g.relativePath]),m=r.concat(g);a.children&&a.children.length>0&&(Ur(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),nC(a.children,t,m,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:nb(p,a.index),routesMeta:m})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let g of iC(a.path))i(a,l,g)}),t}function iC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=iC(n.join("/")),u=[];return u.push(...l.map(g=>g===""?a:[a,g].join("/"))),i&&u.push(...l),u.map(g=>e.startsWith("/")&&g===""?"/":g)}function qk(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ib(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Zk=/^:[\w-]+$/,Qk=3,Jk=2,eb=1,tb=10,rb=-2,ow=e=>e==="*";function nb(e,t){let r=e.split("/"),n=r.length;return r.some(ow)&&(n+=rb),t&&(n+=Jk),r.filter(i=>!ow(i)).reduce((i,a)=>i+(Zk.test(a)?Qk:a===""?eb:tb),n)}function ib(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function sb(e,t,r){let{routesMeta:n}=e,i={},a="/",l=[];for(let u=0;u<n.length;++u){let g=n[u],p=u===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",v=ab({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},m),_=g.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:ka([a,v.pathname]),pathnameBase:hb(ka([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=ka([a,v.pathnameBase]))}return l}function ab(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ob(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((p,m,v)=>{let{paramName:_,isOptional:E}=m;if(_==="*"){let C=u[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const A=u[v];return E&&!A?p[_]=void 0:p[_]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:e}}function ob(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),rC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,g)=>(n.push({paramName:u,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function lb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function cb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Kl(e):e;return{pathname:r?r.startsWith("/")?r:ub(r,t):t,search:db(n),hash:gb(i)}}function ub(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Jd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sC(e,t){let r=fb(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function aC(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Kl(e):(i=S0({},e),Ur(!i.pathname||!i.pathname.includes("?"),Jd("?","pathname","search",i)),Ur(!i.pathname||!i.pathname.includes("#"),Jd("#","pathname","hash",i)),Ur(!i.search||!i.search.includes("#"),Jd("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=r;else{let v=t.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}u=v>=0?t[v]:"/"}let g=cb(i,u),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||m)&&(g.pathname+="/"),g}const ka=e=>e.join("/").replace(/\/\/+/g,"/"),hb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),db=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const oC=["post","put","patch","delete"];new Set(oC);const xb=["get",...oC];new Set(xb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}const rx=Ee.createContext(null),mb=Ee.createContext(null),Ro=Ee.createContext(null),zh=Ee.createContext(null),No=Ee.createContext({outlet:null,matches:[],isDataRoute:!1}),lC=Ee.createContext(null);function wb(e,t){let{relative:r}=t===void 0?{}:t;Q0()||Ur(!1);let{basename:n,navigator:i}=Ee.useContext(Ro),{hash:a,pathname:l,search:u}=uC(e,{relative:r}),g=l;return n!=="/"&&(g=l==="/"?n:ka([n,l])),i.createHref({pathname:g,search:u,hash:a})}function Q0(){return Ee.useContext(zh)!=null}function J0(){return Q0()||Ur(!1),Ee.useContext(zh).location}function cC(e){Ee.useContext(Ro).static||Ee.useLayoutEffect(e)}function vb(){let{isDataRoute:e}=Ee.useContext(No);return e?Ob():yb()}function yb(){Q0()||Ur(!1);let e=Ee.useContext(rx),{basename:t,future:r,navigator:n}=Ee.useContext(Ro),{matches:i}=Ee.useContext(No),{pathname:a}=J0(),l=JSON.stringify(sC(i,r.v7_relativeSplatPath)),u=Ee.useRef(!1);return cC(()=>{u.current=!0}),Ee.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){n.go(p);return}let v=aC(p,JSON.parse(l),a,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ka([t,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[t,n,l,a,e])}function uC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=Ee.useContext(Ro),{matches:i}=Ee.useContext(No),{pathname:a}=J0(),l=JSON.stringify(sC(i,n.v7_relativeSplatPath));return Ee.useMemo(()=>aC(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function _b(e,t){return Eb(e,t)}function Eb(e,t,r,n){Q0()||Ur(!1);let{navigator:i}=Ee.useContext(Ro),{matches:a}=Ee.useContext(No),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let g=l?l.pathnameBase:"/";l&&l.route;let p=J0(),m;if(t){var v;let I=typeof t=="string"?Kl(t):t;g==="/"||(v=I.pathname)!=null&&v.startsWith(g)||Ur(!1),m=I}else m=p;let _=m.pathname||"/",E=_;if(g!=="/"){let I=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=Yk(e,{pathname:E}),C=kb(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:ka([g,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:ka([g,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),a,r,n);return t&&C?Ee.createElement(zh.Provider,{value:{location:T0({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:da.Pop}},C):C}function Cb(){let e=Nb(),t=pb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ee.createElement(Ee.Fragment,null,Ee.createElement("h2",null,"Unexpected Application Error!"),Ee.createElement("h3",{style:{fontStyle:"italic"}},t),r?Ee.createElement("pre",{style:i},r):null,null)}const Ab=Ee.createElement(Cb,null);class Sb extends Ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Ee.createElement(No.Provider,{value:this.props.routeContext},Ee.createElement(lC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tb(e){let{routeContext:t,match:r,children:n}=e,i=Ee.useContext(rx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),Ee.createElement(No.Provider,{value:t},n)}function kb(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);m>=0||Ur(!1),l=l.slice(0,Math.min(l.length,m+1))}let g=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let v=l[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=m),v.route.id){let{loaderData:_,errors:E}=r,A=v.route.loader&&_[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||A){g=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,v,_)=>{let E,A=!1,C=null,I=null;r&&(E=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||Ab,g&&(p<0&&_===0?(Db("route-fallback"),A=!0,I=null):p===_&&(A=!0,I=v.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,_+1)),k=()=>{let S;return E?S=C:A?S=I:v.route.Component?S=Ee.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=m,Ee.createElement(Tb,{match:v,routeContext:{outlet:m,matches:b,isDataRoute:r!=null},children:S})};return r&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?Ee.createElement(Sb,{location:r.location,revalidation:r.revalidation,component:C,error:E,children:k(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):k()},null)}var fC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fC||{}),hC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hC||{});function bb(e){let t=Ee.useContext(rx);return t||Ur(!1),t}function Ib(e){let t=Ee.useContext(mb);return t||Ur(!1),t}function Rb(e){let t=Ee.useContext(No);return t||Ur(!1),t}function dC(e){let t=Rb(),r=t.matches[t.matches.length-1];return r.route.id||Ur(!1),r.route.id}function Nb(){var e;let t=Ee.useContext(lC),r=Ib(),n=dC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Ob(){let{router:e}=bb(fC.UseNavigateStable),t=dC(hC.UseNavigateStable),r=Ee.useRef(!1);return cC(()=>{r.current=!0}),Ee.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,T0({fromRouteId:t},a)))},[e,t])}const lw={};function Db(e,t,r){lw[e]||(lw[e]=!0)}function Fb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gf(e){Ur(!1)}function Pb(e){let{basename:t="/",children:r=null,location:n,navigationType:i=da.Pop,navigator:a,static:l=!1,future:u}=e;Q0()&&Ur(!1);let g=t.replace(/^\/*/,"/"),p=Ee.useMemo(()=>({basename:g,navigator:a,static:l,future:T0({v7_relativeSplatPath:!1},u)}),[g,u,a,l]);typeof n=="string"&&(n=Kl(n));let{pathname:m="/",search:v="",hash:_="",state:E=null,key:A="default"}=n,C=Ee.useMemo(()=>{let I=tx(m,g);return I==null?null:{location:{pathname:I,search:v,hash:_,state:E,key:A},navigationType:i}},[g,m,v,_,E,A,i]);return C==null?null:Ee.createElement(Ro.Provider,{value:p},Ee.createElement(zh.Provider,{children:r,value:C}))}function Mb(e){let{children:t,location:r}=e;return _b(_g(t),r)}new Promise(()=>{});function _g(e,t){t===void 0&&(t=[]);let r=[];return Ee.Children.forEach(e,(n,i)=>{if(!Ee.isValidElement(n))return;let a=[...t,i];if(n.type===Ee.Fragment){r.push.apply(r,_g(n.props.children,a));return}n.type!==gf&&Ur(!1),!n.props.index||!n.props.children||Ur(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=_g(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}function Bb(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Lb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ub(e,t){return e.button===0&&(!t||t==="_self")&&!Lb(e)}const jb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wb="6";try{window.__reactRouterVersion=Wb}catch{}const Vb="startTransition",cw=DT[Vb];function Hb(e){let{basename:t,children:r,future:n,window:i}=e,a=Ee.useRef();a.current==null&&(a.current=Gk({window:i,v5Compat:!0}));let l=a.current,[u,g]=Ee.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},m=Ee.useCallback(v=>{p&&cw?cw(()=>g(v)):g(v)},[g,p]);return Ee.useLayoutEffect(()=>l.listen(m),[l,m]),Ee.useEffect(()=>Fb(n),[n]),Ee.createElement(Pb,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uw=Ee.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:u,target:g,to:p,preventScrollReset:m,viewTransition:v}=t,_=Bb(t,jb),{basename:E}=Ee.useContext(Ro),A,C=!1;if(typeof p=="string"&&Gb.test(p)&&(A=p,zb))try{let S=new URL(window.location.href),L=p.startsWith("//")?new URL(S.protocol+p):new URL(p),q=tx(L.pathname,E);L.origin===S.origin&&q!=null?p=q+L.search+L.hash:C=!0}catch{}let I=wb(p,{relative:i}),b=Xb(p,{replace:l,state:u,target:g,preventScrollReset:m,relative:i,viewTransition:v});function k(S){n&&n(S),S.defaultPrevented||b(S)}return Ee.createElement("a",Eg({},_,{href:A||I,onClick:C||a?n:k,ref:r,target:g}))});var fw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var hw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hw||(hw={}));function Xb(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}=t===void 0?{}:t,g=vb(),p=J0(),m=uC(e,{relative:l});return Ee.useCallback(v=>{if(Ub(v,r)){v.preventDefault();let _=n!==void 0?n:jf(p)===jf(m);g(e,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,g,m,n,i,r,e,a,l,u])}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fn=(e,t)=>{const r=Ee.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:g,...p},m)=>Ee.createElement("svg",{ref:m,...$b,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Yb(e)}`,u].join(" "),...p},[...t.map(([v,_])=>Ee.createElement(v,_)),...Array.isArray(g)?g:[g]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Fn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Fn("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Fn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Fn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Fn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Fn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Fn("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Fn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Fn("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Fn("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Fn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Fn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Fn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Fn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Fn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Fn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=function(e,t){if(!e)throw ql(t)},ql=function(e){return new Error("Firebase Database ("+xC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},eI=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],l=e[r++],u=e[r++],g=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[n++]=String.fromCharCode(55296+(g>>10)),t[n++]=String.fromCharCode(56320+(g&1023))}else{const a=e[r++],l=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return t.join("")},ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],l=i+1<e.length,u=l?e[i+1]:0,g=i+2<e.length,p=g?e[i+2]:0,m=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|p>>6,E=p&63;g||(E=64,l||(_=64)),n.push(r[m],r[v],r[_],r[E])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],u=i<e.length?r[e.charAt(i)]:0;++i;const p=i<e.length?r[e.charAt(i)]:64;++i;const v=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||u==null||p==null||v==null)throw new tI;const _=a<<2|u>>4;if(n.push(_),p!==64){const E=u<<4&240|p>>2;if(n.push(E),v!==64){const A=p<<6&192|v;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wC=function(e){const t=mC(e);return ix.encodeByteArray(t,!0)},Wf=function(e){return wC(e).replace(/\./g,"")},Tg=function(e){try{return ix.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e){return vC(void 0,e)}function vC(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!nI(r)||(e[r]=vC(e[r],t[r]));return e}function nI(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=()=>iI().__FIREBASE_DEFAULTS__,aI=()=>{if(typeof process>"u"||typeof xw>"u")return;const e=xw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},oI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Tg(e[1]);return t&&JSON.parse(t)},yC=()=>{try{return sI()||aI()||oI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},lI=e=>{var t,r;return(r=(t=yC())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},cI=e=>{const t=lI(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},_C=()=>{var e;return(e=yC())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wf(JSON.stringify(r)),Wf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fI())}function hI(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function dI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gI(){return xC.NODE_ADMIN===!0}function CC(){try{return typeof indexedDB=="object"}catch{return!1}}function AC(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}function pI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="FirebaseError";class Oo extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=xI,Object.setPrototypeOf(this,Oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gh.prototype.create)}}class Gh{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],l=a?mI(a,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Oo(i,u,n)}}function mI(e,t){return e.replace(wI,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const wI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(e){return JSON.parse(e)}function Gr(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=function(e){let t={},r={},n={},i="";try{const a=e.split(".");t=k0(Tg(a[0])||""),r=k0(Tg(a[1])||""),i=a[2],n=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:n,signature:i}},vI=function(e){const t=SC(e),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},yI=function(e){const t=SC(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ml(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function mw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Vf(e,t,r){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=t.call(r,e[i],i,e));return n}function Hf(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],l=t[i];if(ww(a)&&ww(l)){if(!Hf(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function ww(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const n=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)n[v]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)n[v]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let v=16;v<80;v++){const _=n[v-3]^n[v-8]^n[v-14]^n[v-16];n[v]=(_<<1|_>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],g=this.chain_[4],p,m;for(let v=0;v<80;v++){v<40?v<20?(p=u^a&(l^u),m=1518500249):(p=a^l^u,m=1859775393):v<60?(p=a&l|u&(a|l),m=2400959708):(p=a^l^u,m=3395469782);const _=(i<<5|i>>>27)+p+g+m+n[v]&4294967295;g=u,u=l,l=(a<<30|a>>>2)&4294967295,a=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const n=r-this.blockSize;let i=0;const a=this.buf_;let l=this.inbuf_;for(;i<r;){if(l===0)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<r;)if(a[l]=t.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}else for(;i<r;)if(a[l]=t[i],++l,++i,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)t[n]=this.chain_[i]>>a&255,++n;return t}}function Xh(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>=55296&&i<=56319){const a=i-55296;n++,He(n<e.length,"Surrogate pair missing trail surrogate.");const l=e.charCodeAt(n)-56320;i=65536+(a<<10)+l}i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):i<65536?(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},$h=function(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t++:n<2048?t+=2:n>=55296&&n<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1e3,SI=2,TI=4*60*60*1e3,kI=.5;function vw(e,t=AI,r=SI){const n=t*Math.pow(r,e),i=Math.round(kI*n*(Math.random()-.5)*2);return Math.min(TI,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(e){return e&&e._delegate?e._delegate:e}class zs{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new eu;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RI(t))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ja){return this.instances.has(t)}getOptions(t=Ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:II(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ja){return this.component?this.component.multipleInstances?t:Ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function II(e){return e===Ja?void 0:e}function RI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new bI(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nr||(nr={}));const OI={debug:nr.DEBUG,verbose:nr.VERBOSE,info:nr.INFO,warn:nr.WARN,error:nr.ERROR,silent:nr.SILENT},DI=nr.INFO,FI={[nr.DEBUG]:"log",[nr.VERBOSE]:"log",[nr.INFO]:"info",[nr.WARN]:"warn",[nr.ERROR]:"error"},PI=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=FI[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sx{constructor(t){this.name=t,this._logLevel=DI,this._logHandler=PI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nr.DEBUG,...t),this._logHandler(this,nr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nr.VERBOSE,...t),this._logHandler(this,nr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nr.INFO,...t),this._logHandler(this,nr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nr.WARN,...t),this._logHandler(this,nr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nr.ERROR,...t),this._logHandler(this,nr.ERROR,...t)}}const MI=(e,t)=>t.some(r=>e instanceof r);let yw,_w;function BI(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LI(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TC=new WeakMap,kg=new WeakMap,kC=new WeakMap,e1=new WeakMap,ax=new WeakMap;function UI(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{r(ba(e.result)),i()},l=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(r=>{r instanceof IDBCursor&&TC.set(r,e)}).catch(()=>{}),ax.set(t,e),t}function jI(e){if(kg.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});kg.set(e,t)}let bg={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return kg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||kC.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ba(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function WI(e){bg=e(bg)}function VI(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(t1(this),t,...r);return kC.set(n,t.sort?t.sort():[t]),ba(n)}:LI().includes(e)?function(...t){return e.apply(t1(this),t),ba(TC.get(this))}:function(...t){return ba(e.apply(t1(this),t))}}function HI(e){return typeof e=="function"?VI(e):(e instanceof IDBTransaction&&jI(e),MI(e,BI())?new Proxy(e,bg):e)}function ba(e){if(e instanceof IDBRequest)return UI(e);if(e1.has(e))return e1.get(e);const t=HI(e);return t!==e&&(e1.set(e,t),ax.set(t,e)),t}const t1=e=>ax.get(e);function bC(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(e,t),u=ba(l);return n&&l.addEventListener("upgradeneeded",g=>{n(ba(l.result),g.oldVersion,g.newVersion,ba(l.transaction),g)}),r&&l.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),u.then(g=>{a&&g.addEventListener("close",()=>a()),i&&g.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const zI=["get","getKey","getAll","getAllKeys","count"],GI=["put","add","delete","clear"],r1=new Map;function Ew(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(r1.get(t))return r1.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=GI.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||zI.includes(r)))return;const a=async function(l,...u){const g=this.transaction(l,i?"readwrite":"readonly");let p=g.store;return n&&(p=p.index(u.shift())),(await Promise.all([p[r](...u),i&&g.done]))[0]};return r1.set(t,a),a}WI(e=>({...e,get:(t,r,n)=>Ew(t,r)||e.get(t,r,n),has:(t,r)=>!!Ew(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($I(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function $I(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ig="@firebase/app",Cw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new sx("@firebase/app"),YI="@firebase/app-compat",KI="@firebase/analytics-compat",qI="@firebase/analytics",ZI="@firebase/app-check-compat",QI="@firebase/app-check",JI="@firebase/auth",e6="@firebase/auth-compat",t6="@firebase/database",r6="@firebase/data-connect",n6="@firebase/database-compat",i6="@firebase/functions",s6="@firebase/functions-compat",a6="@firebase/installations",o6="@firebase/installations-compat",l6="@firebase/messaging",c6="@firebase/messaging-compat",u6="@firebase/performance",f6="@firebase/performance-compat",h6="@firebase/remote-config",d6="@firebase/remote-config-compat",g6="@firebase/storage",p6="@firebase/storage-compat",x6="@firebase/firestore",m6="@firebase/vertexai-preview",w6="@firebase/firestore-compat",v6="firebase",y6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="[DEFAULT]",_6={[Ig]:"fire-core",[YI]:"fire-core-compat",[qI]:"fire-analytics",[KI]:"fire-analytics-compat",[QI]:"fire-app-check",[ZI]:"fire-app-check-compat",[JI]:"fire-auth",[e6]:"fire-auth-compat",[t6]:"fire-rtdb",[r6]:"fire-data-connect",[n6]:"fire-rtdb-compat",[i6]:"fire-fn",[s6]:"fire-fn-compat",[a6]:"fire-iid",[o6]:"fire-iid-compat",[l6]:"fire-fcm",[c6]:"fire-fcm-compat",[u6]:"fire-perf",[f6]:"fire-perf-compat",[h6]:"fire-rc",[d6]:"fire-rc-compat",[g6]:"fire-gcs",[p6]:"fire-gcs-compat",[x6]:"fire-fst",[w6]:"fire-fst-compat",[m6]:"fire-vertex","fire-js":"fire-js",[v6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,E6=new Map,Ng=new Map;function Aw(e,t){try{e.container.addComponent(t)}catch(r){Gs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Pa(e){const t=e.name;if(Ng.has(t))return Gs.debug(`There were multiple attempts to register component ${t}.`),!1;Ng.set(t,e);for(const r of zf.values())Aw(r,e);for(const r of E6.values())Aw(r,e);return!0}function tu(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ia=new Gh("app","Firebase",C6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=y6;function IC(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Rg,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw Ia.create("bad-app-name",{appName:String(i)});if(r||(r=_C()),!r)throw Ia.create("no-options");const a=zf.get(i);if(a){if(Hf(r,a.options)&&Hf(n,a.config))return a;throw Ia.create("duplicate-app",{appName:i})}const l=new NI(i);for(const g of Ng.values())l.addComponent(g);const u=new A6(r,n,l);return zf.set(i,u),u}function RC(e=Rg){const t=zf.get(e);if(!t&&e===Rg&&_C())return IC();if(!t)throw Ia.create("no-app",{appName:e});return t}function _s(e,t,r){var n;let i=(n=_6[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gs.warn(u.join(" "));return}Pa(new zs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="firebase-heartbeat-database",k6=1,b0="firebase-heartbeat-store";let n1=null;function NC(){return n1||(n1=bC(T6,k6,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(b0)}catch(r){console.warn(r)}}}}).catch(e=>{throw Ia.create("idb-open",{originalErrorMessage:e.message})})),n1}async function b6(e){try{const r=(await NC()).transaction(b0),n=await r.objectStore(b0).get(OC(e));return await r.done,n}catch(t){if(t instanceof Oo)Gs.warn(t.message);else{const r=Ia.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gs.warn(r.message)}}}async function Sw(e,t){try{const n=(await NC()).transaction(b0,"readwrite");await n.objectStore(b0).put(t,OC(e)),await n.done}catch(r){if(r instanceof Oo)Gs.warn(r.message);else{const n=Ia.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Gs.warn(n.message)}}}function OC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=1024,R6=30*24*60*60*1e3;class N6{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new D6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Tw();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=R6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Gs.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Tw(),{heartbeatsToSend:n,unsentEntries:i}=O6(this._heartbeatsCache.heartbeats),a=Wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Gs.warn(r),""}}}function Tw(){return new Date().toISOString().substring(0,10)}function O6(e,t=I6){const r=[];let n=e.slice();for(const i of e){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),kw(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),kw(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class D6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CC()?AC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await b6(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function kw(e){return Wf(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(e){Pa(new zs("platform-logger",t=>new XI(t),"PRIVATE")),Pa(new zs("heartbeat",t=>new N6(t),"PRIVATE")),_s(Ig,Cw,e),_s(Ig,Cw,"esm2017"),_s("fire-js","")}F6("");var bw={};const Iw="@firebase/database",Rw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DC="";function P6(e){DC=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Gr(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:k0(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return As(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new M6(t)}}catch{}return new B6},so=FC("localStorage"),L6=FC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new sx("@firebase/database"),U6=function(){let e=1;return function(){return e++}}(),PC=function(e){const t=CI(e),r=new EI;r.update(t);const n=r.digest();return ix.encodeByteArray(n)},ru=function(...e){let t="";for(let r=0;r<e.length;r++){const n=e[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?t+=ru.apply(null,n):typeof n=="object"?t+=Gr(n):t+=n,t+=" "}return t};let $c=null,Nw=!0;const j6=function(e,t){He(!0,"Can't turn on custom loggers persistently."),El.logLevel=nr.VERBOSE,$c=El.log.bind(El)},pn=function(...e){if(Nw===!0&&(Nw=!1,$c===null&&L6.get("logging_enabled")===!0&&j6()),$c){const t=ru.apply(null,e);$c(t)}},nu=function(e){return function(...t){pn(e,...t)}},Og=function(...e){const t="FIREBASE INTERNAL ERROR: "+ru(...e);El.error(t)},Xs=function(...e){const t=`FIREBASE FATAL ERROR: ${ru(...e)}`;throw El.error(t),new Error(t)},Vn=function(...e){const t="FIREBASE WARNING: "+ru(...e);El.warn(t)},W6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ox=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},V6=function(e){if(document.readyState==="complete")e();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Bl="[MIN_NAME]",vo="[MAX_NAME]",Do=function(e,t){if(e===t)return 0;if(e===Bl||t===vo)return-1;if(t===Bl||e===vo)return 1;{const r=Ow(e),n=Ow(t);return r!==null?n!==null?r-n===0?e.length-t.length:r-n:-1:n!==null?1:e<t?-1:1}},H6=function(e,t){return e===t?0:e<t?-1:1},Ac=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Gr(t))},lx=function(e){if(typeof e!="object"||e===null)return Gr(e);const t=[];for(const n in e)t.push(n);t.sort();let r="{";for(let n=0;n<t.length;n++)n!==0&&(r+=","),r+=Gr(t[n]),r+=":",r+=lx(e[t[n]]);return r+="}",r},MC=function(e,t){const r=e.length;if(r<=t)return[e];const n=[];for(let i=0;i<r;i+=t)i+t>r?n.push(e.substring(i,r)):n.push(e.substring(i,i+t));return n};function yn(e,t){for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])}const BC=function(e){He(!ox(e),"Invalid JSON number");const t=11,r=52,n=(1<<t-1)-1;let i,a,l,u,g;e===0?(a=0,l=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-n)?(u=Math.min(Math.floor(Math.log(e)/Math.LN2),n),a=u+n,l=Math.round(e*Math.pow(2,r-u)-Math.pow(2,r))):(a=0,l=Math.round(e/Math.pow(2,1-n-r))));const p=[];for(g=r;g;g-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(g=t;g;g-=1)p.push(a%2?1:0),a=Math.floor(a/2);p.push(i?1:0),p.reverse();const m=p.join("");let v="";for(g=0;g<64;g+=8){let _=parseInt(m.substr(g,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},z6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},G6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function X6(e,t){let r="Unknown Error";e==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?r="Client doesn't have permission to access the desired data.":e==="unavailable"&&(r="The service is unavailable");const n=new Error(e+" at "+t._path.toString()+": "+r);return n.code=e.toUpperCase(),n}const $6=new RegExp("^-?(0*)\\d{1,10}$"),Y6=-2147483648,K6=2147483647,Ow=function(e){if($6.test(e)){const t=Number(e);if(t>=Y6&&t<=K6)return t}return null},Zl=function(e){try{e()}catch(t){setTimeout(()=>{const r=t.stack||"";throw Vn("Exception was thrown by user callback.",r),t},Math.floor(0))}},q6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yc=function(e,t){const r=setTimeout(e,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Vn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(t,r,n){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(pn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,n):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vn(t)}}class pf{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}pf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="5",LC="v",UC="s",jC="r",WC="f",VC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,HC="ls",zC="p",Dg="ac",GC="websocket",XC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t,r,n,i,a=!1,l="",u=!1,g=!1){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=so.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&so.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function J6(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function YC(e,t,r){He(typeof t=="string","typeof type must == string"),He(typeof r=="object","typeof params must == object");let n;if(t===GC)n=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===XC)n=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);J6(e)&&(r.ns=e.namespace);const i=[];return yn(r,(a,l)=>{i.push(a+"="+l)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.counters_={}}incrementCounter(t,r=1){As(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return rI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={},s1={};function ux(e){const t=e.toString();return i1[t]||(i1[t]=new e5),i1[t]}function t5(e,t){const r=e.toString();return s1[r]||(s1[r]=t()),s1[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&Zl(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="start",n5="close",i5="pLPCommand",s5="pRTLPCB",KC="id",qC="pw",ZC="ser",a5="cb",o5="seg",l5="ts",c5="d",u5="dframe",QC=1870,JC=30,f5=QC-JC,h5=25e3,d5=3e4;class hl{constructor(t,r,n,i,a,l,u){this.connId=t,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nu(t),this.stats_=ux(r),this.urlFn=g=>(this.appCheckToken&&(g[Dg]=this.appCheckToken),YC(r,XC,g))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new r5(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(d5)),V6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fx((...a)=>{const[l,u,g,p,m]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Dw)this.id=u,this.password=g;else if(l===n5)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,u]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const n={};n[Dw]="t",n[ZC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[a5]=this.scriptTagHolder.uniqueCallbackIdentifier),n[LC]=cx,this.transportSessionId&&(n[UC]=this.transportSessionId),this.lastSessionId&&(n[HC]=this.lastSessionId),this.applicationId&&(n[zC]=this.applicationId),this.appCheckToken&&(n[Dg]=this.appCheckToken),typeof location<"u"&&location.hostname&&VC.test(location.hostname)&&(n[jC]=WC);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hl.forceAllow_=!0}static forceDisallow(){hl.forceDisallow_=!0}static isAvailable(){return hl.forceAllow_?!0:!hl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!z6()&&!G6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Gr(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=wC(r),i=MC(n,f5);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[u5]="t",n[KC]=t,n[qC]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Gr(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class fx{constructor(t,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=U6(),window[i5+this.uniqueCallbackIdentifier]=t,window[s5+this.uniqueCallbackIdentifier]=r,this.myIFrame=fx.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){pn("frame writing exception"),u.stack&&pn(u.stack),pn(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||pn("No IE domain setting required")}catch{const n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[KC]=this.myID,t[qC]=this.myPW,t[ZC]=this.currentSerial;let r=this.urlFn(t),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+JC+n.length<=QC;){const l=this.pendingSegs.shift();n=n+"&"+o5+i+"="+l.seg+"&"+l5+i+"="+l.ts+"&"+c5+i+"="+l.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,n){this.pendingSegs.push({seg:t,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(h5)),a=()=>{clearTimeout(i),n()};this.addTag(t,a)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=t,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{pn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=16384,p5=45e3;let Gf=null;typeof MozWebSocket<"u"?Gf=MozWebSocket:typeof WebSocket<"u"&&(Gf=WebSocket);class es{constructor(t,r,n,i,a,l,u){this.connId=t,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nu(this.connId),this.stats_=ux(r),this.connURL=es.connectionURL_(r,l,u,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,n,i,a){const l={};return l[LC]=cx,typeof location<"u"&&location.hostname&&VC.test(location.hostname)&&(l[jC]=WC),r&&(l[UC]=r),n&&(l[HC]=n),i&&(l[Dg]=i),a&&(l[zC]=a),YC(t,GC,l)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,so.set("previous_websocket_failure",!0);try{let n;gI(),this.mySock=new Gf(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){es.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&Gf!==null&&!es.forceDisallow_}static previouslyFailed(){return so.isInMemoryStorage||so.get("previous_websocket_failure")===!0}markConnectionHealthy(){so.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=k0(r);this.onMessage(n)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(He(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(t){this.resetKeepAlive();const r=Gr(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=MC(r,g5);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(p5))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}es.responsesRequiredToBeHealthy=2;es.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[hl,es]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=es&&es.isAvailable();let n=r&&!es.previouslyFailed();if(t.webSocketOnly&&(r||Vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[es];else{const i=this.transports_=[];for(const a of I0.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);I0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}I0.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=6e4,m5=5e3,w5=10*1024,v5=100*1024,a1="t",Fw="d",y5="s",Pw="r",_5="e",Mw="o",Bw="a",Lw="n",Uw="p",E5="h";class C5{constructor(t,r,n,i,a,l,u,g,p,m){this.id=t,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nu("c:"+this.id+":"),this.transportManager_=new I0(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>v5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>w5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(a1 in t){const r=t[a1];r===Bw?this.upgradeIfSecondaryHealthy_():r===Pw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Mw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ac("t",t),n=Ac("d",t);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Uw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Bw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Lw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ac("t",t),n=Ac("d",t);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ac(a1,t);if(Fw in t){const n=t[Fw];if(r===E5){const i=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===Lw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===y5?this.onConnectionShutdown_(n):r===Pw?this.onReset_(n):r===_5?Og("Server Error: "+n):r===Mw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Og("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),cx!==n&&Vn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),Yc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(x5))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(m5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Uw,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(so.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{put(t,r,n,i){}merge(t,r,n,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,n){}onDisconnectMerge(t,r,n){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t3=class{constructor(t){this.allowedEvents_=t,this.listeners_={},He(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const n=[...this.listeners_[t]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(t,r,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:n});const i=this.getInitialEvent(t);i&&r.apply(n,i)}off(t,r,n){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===r&&(!n||n===i[a].context)){i.splice(a,1);return}}validateEventType_(t){He(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends t3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!EC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xf}getInitialEvent(t){return He(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=32,Ww=768;class Kt{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function Wt(){return new Kt("")}function Rt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ma(e){return e.pieces_.length-e.pieceNum_}function ir(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Kt(e.pieces_,t)}function hx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function A5(e){let t="";for(let r=e.pieceNum_;r<e.pieces_.length;r++)e.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[r])));return t||"/"}function R0(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function r3(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let r=e.pieceNum_;r<e.pieces_.length-1;r++)t.push(e.pieces_[r]);return new Kt(t,0)}function Tr(e,t){const r=[];for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);if(t instanceof Kt)for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);else{const n=t.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new Kt(r,0)}function St(e){return e.pieceNum_>=e.pieces_.length}function Un(e,t){const r=Rt(e),n=Rt(t);if(r===null)return t;if(r===n)return Un(ir(e),ir(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function S5(e,t){const r=R0(e,0),n=R0(t,0);for(let i=0;i<r.length&&i<n.length;i++){const a=Do(r[i],n[i]);if(a!==0)return a}return r.length===n.length?0:r.length<n.length?-1:1}function n3(e,t){if(Ma(e)!==Ma(t))return!1;for(let r=e.pieceNum_,n=t.pieceNum_;r<=e.pieces_.length;r++,n++)if(e.pieces_[r]!==t.pieces_[n])return!1;return!0}function Mi(e,t){let r=e.pieceNum_,n=t.pieceNum_;if(Ma(e)>Ma(t))return!1;for(;r<e.pieces_.length;){if(e.pieces_[r]!==t.pieces_[n])return!1;++r,++n}return!0}class T5{constructor(t,r){this.errorPrefix_=r,this.parts_=R0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=$h(this.parts_[n]);i3(this)}}function k5(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$h(t),i3(e)}function b5(e){const t=e.parts_.pop();e.byteLength_-=$h(t),e.parts_.length>0&&(e.byteLength_-=1)}function i3(e){if(e.byteLength_>Ww)throw new Error(e.errorPrefix_+"has a key path longer than "+Ww+" bytes ("+e.byteLength_+").");if(e.parts_.length>jw)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jw+") or object contains a cycle "+eo(e))}function eo(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends t3{constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}static getInstance(){return new dx}getInitialEvent(t){return He(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=1e3,I5=60*5*1e3,Vw=30*1e3,R5=1.3,N5=3e4,O5="server_kill",Hw=3;class Ms extends e3{constructor(t,r,n,i,a,l,u,g){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=g,this.id=Ms.nextPersistentConnectionId_++,this.log_=nu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sc,this.maxReconnectDelay_=I5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dx.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Xf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,n){const i=++this.requestNumber_,a={r:i,a:t,b:r};this.log_(Gr(a)),He(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[i]=n)}get(t){this.initConnection_();const r=new eu,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(t,r,n,i){this.initConnection_();const a=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),He(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),He(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:r,query:t,tag:n};this.listens.get(l).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(t){const r=t.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const a={p:n},l="q";t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(l,a,u=>{const g=u.d,p=u.s;Ms.warnOnListenWarnings_(g,r),(this.listens.get(n)&&this.listens.get(n).get(i))===t&&(this.log_("listen response",u),p!=="ok"&&this.removeListen_(n,i),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&As(t,"w")){const n=Ml(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Vn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||yI(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Vw)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=vI(t)?"auth":"gauth",n={cred:t};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const a=i.s,l=i.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,n=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(t,r){const n=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),He(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t._queryObject,r)}sendUnlisten_(t,r,n,i){this.log_("Unlisten on "+t+" for "+r);const a={p:t},l="n";i&&(a.q=n,a.t=i),this.sendRequest(l,a)}onDisconnectPut(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:n})}onDisconnectMerge(t,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:n})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,n,i){const a={p:r,d:n};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(t,r,n,i){this.putInternal("p",t,r,n,i)}merge(t,r,n,i){this.putInternal("m",t,r,n,i)}putInternal(t,r,n,i,a){this.initConnection_();const l={p:r,d:n};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:t,request:l,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,n=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,n,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const a=n.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Gr(t));const r=t.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Og("Unrecognized action received from server: "+Gr(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){He(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>N5&&(this.reconnectDelay_=Sc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*R5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ms.nextConnectionId_++,a=this.lastSessionId;let l=!1,u=null;const g=function(){u?u.close():(l=!0,n())},p=function(v){He(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?pn("getToken() completed but was canceled"):(pn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,u=new C5(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,n,E=>{Vn(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(O5)},a))}catch(v){this.log_("Failed to get token: "+v),l||(this.repoInfo_.nodeAdmin&&Vn(v),g())}}}interrupt(t){pn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){pn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],mw(this.interruptReasons_)&&(this.reconnectDelay_=Sc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let n;r?n=r.map(a=>lx(a)).join("$"):n="default";const i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,r){const n=new Kt(t).toString();let i;if(this.listens.has(n)){const a=this.listens.get(n);i=a.get(r),a.delete(r),a.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(t,r){pn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hw&&(this.reconnectDelay_=Vw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){pn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+DC.replace(/\./g,"-")]=1,EC()?t["framework.cordova"]=1:dI()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Xf.getInstance().currentlyOnline();return mw(this.interruptReasons_)&&t}}Ms.nextPersistentConnectionId_=0;Ms.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new Ct(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const n=new Ct(Bl,t),i=new Ct(Bl,r);return this.compare(n,i)!==0}minPost(){return Ct.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu;class s3 extends Yh{static get __EMPTY_NODE(){return Hu}static set __EMPTY_NODE(t){Hu=t}compare(t,r){return Do(t.name,r.name)}isDefinedOn(t){throw ql("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return Ct.MIN}maxPost(){return new Ct(vo,Hu)}makePost(t,r){return He(typeof t=="string","KeyIndex indexValue must always be a string."),new Ct(t,Hu)}toString(){return".key"}}const Cl=new s3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,r,n,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(t=t,l=r?n(t.key,r):1,i&&(l*=-1),l<0)this.isReverse_?t=t.left:t=t.right;else if(l===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class nn{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??nn.RED,this.left=i??ti.EMPTY_NODE,this.right=a??ti.EMPTY_NODE}copy(t,r,n,i,a){return new nn(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ti.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let n,i;if(n=this,r(t,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(t,n.key)===0){if(n.right.isEmpty())return ti.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}nn.RED=!0;nn.BLACK=!1;class D5{copy(t,r,n,i,a){return this}insert(t,r,n){return new nn(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ti{constructor(t,r=ti.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ti(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,nn.BLACK,null,null))}remove(t){return new ti(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,nn.BLACK,null,null))}get(t){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(t,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(t){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(t,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new zu(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new zu(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new zu(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new zu(this.root_,null,this.comparator_,!0,t)}}ti.EMPTY_NODE=new D5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(e,t){return Do(e.name,t.name)}function gx(e,t){return Do(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg;function P5(e){Fg=e}const a3=function(e){return typeof e=="number"?"number:"+BC(e):"string:"+e},o3=function(e){if(e.isLeafNode()){const t=e.val();He(typeof t=="string"||typeof t=="number"||typeof t=="object"&&As(t,".sv"),"Priority must be a string or number.")}else He(e===Fg||e.isEmpty(),"priority of unexpected type.");He(e===Fg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zw;class en{constructor(t,r=en.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,He(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),o3(this.priorityNode_)}static set __childrenNodeConstructor(t){zw=t}static get __childrenNodeConstructor(){return zw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new en(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return St(t)?this:Rt(t)===".priority"?this.priorityNode_:en.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:en.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const n=Rt(t);return n===null?r:r.isEmpty()&&n!==".priority"?this:(He(n!==".priority"||Ma(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,en.__childrenNodeConstructor.EMPTY_NODE.updateChild(ir(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+a3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=BC(this.value_):t+=this.value_,this.lazyHash_=PC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===en.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof en.__childrenNodeConstructor?-1:(He(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,n=typeof this.value_,i=en.VALUE_TYPE_ORDER.indexOf(r),a=en.VALUE_TYPE_ORDER.indexOf(n);return He(i>=0,"Unknown leaf type: "+r),He(a>=0,"Unknown leaf type: "+n),i===a?n==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}en.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l3,c3;function M5(e){l3=e}function B5(e){c3=e}class L5 extends Yh{compare(t,r){const n=t.node.getPriority(),i=r.node.getPriority(),a=n.compareTo(i);return a===0?Do(t.name,r.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return Ct.MIN}maxPost(){return new Ct(vo,new en("[PRIORITY-POST]",c3))}makePost(t,r){const n=l3(t);return new Ct(r,new en("[PRIORITY-POST]",n))}toString(){return".priority"}}const kr=new L5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=Math.log(2);class j5{constructor(t){const r=a=>parseInt(Math.log(a)/U5,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const i=n(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $f=function(e,t,r,n){e.sort(t);const i=function(g,p){const m=p-g;let v,_;if(m===0)return null;if(m===1)return v=e[g],_=r?r(v):v,new nn(_,v.node,nn.BLACK,null,null);{const E=parseInt(m/2,10)+g,A=i(g,E),C=i(E+1,p);return v=e[E],_=r?r(v):v,new nn(_,v.node,nn.BLACK,A,C)}},a=function(g){let p=null,m=null,v=e.length;const _=function(A,C){const I=v-A,b=v;v-=A;const k=i(I+1,b),S=e[I],L=r?r(S):S;E(new nn(L,S.node,C,null,k))},E=function(A){p?(p.left=A,p=A):(m=A,p=A)};for(let A=0;A<g.count;++A){const C=g.nextBitIsOne(),I=Math.pow(2,g.count-(A+1));C?_(I,nn.BLACK):(_(I,nn.BLACK),_(I,nn.RED))}return m},l=new j5(e.length),u=a(l);return new ti(n||t,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o1;const qo={};class Ds{constructor(t,r){this.indexes_=t,this.indexSet_=r}static get Default(){return He(qo&&kr,"ChildrenNode.ts has not been loaded"),o1=o1||new Ds({".priority":qo},{".priority":kr}),o1}get(t){const r=Ml(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ti?r:null}hasIndex(t){return As(this.indexSet_,t.toString())}addIndex(t,r){He(t!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const a=r.getIterator(Ct.Wrap);let l=a.getNext();for(;l;)i=i||t.isDefinedOn(l.node),n.push(l),l=a.getNext();let u;i?u=$f(n,t.getCompare()):u=qo;const g=t.toString(),p=Object.assign({},this.indexSet_);p[g]=t;const m=Object.assign({},this.indexes_);return m[g]=u,new Ds(m,p)}addToIndexes(t,r){const n=Vf(this.indexes_,(i,a)=>{const l=Ml(this.indexSet_,a);if(He(l,"Missing index implementation for "+a),i===qo)if(l.isDefinedOn(t.node)){const u=[],g=r.getIterator(Ct.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&u.push(p),p=g.getNext();return u.push(t),$f(u,l.getCompare())}else return qo;else{const u=r.get(t.name);let g=i;return u&&(g=g.remove(new Ct(t.name,u))),g.insert(t,t.node)}});return new Ds(n,this.indexSet_)}removeFromIndexes(t,r){const n=Vf(this.indexes_,i=>{if(i===qo)return i;{const a=r.get(t.name);return a?i.remove(new Ct(t.name,a)):i}});return new Ds(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;class at{constructor(t,r,n){this.children_=t,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&o3(this.priorityNode_),this.children_.isEmpty()&&He(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Tc||(Tc=new at(new ti(gx),null,Ds.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Tc}updatePriority(t){return this.children_.isEmpty()?this:new at(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Tc:r}}getChild(t){const r=Rt(t);return r===null?this:this.getImmediateChild(r).getChild(ir(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(He(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const n=new Ct(t,r);let i,a;r.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(t,r),a=this.indexMap_.addToIndexes(n,this.children_));const l=i.isEmpty()?Tc:this.priorityNode_;return new at(i,l,a)}}updateChild(t,r){const n=Rt(t);if(n===null)return r;{He(Rt(t)!==".priority"||Ma(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(ir(t),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let n=0,i=0,a=!0;if(this.forEachChild(kr,(l,u)=>{r[l]=u.val(t),n++,a&&at.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):a=!1}),!t&&a&&i<2*n){const l=[];for(const u in r)l[u]=r[u];return l}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+a3(this.getPriority().val())+":"),this.forEachChild(kr,(r,n)=>{const i=n.hash();i!==""&&(t+=":"+r+":"+i)}),this.lazyHash_=t===""?"":PC(t)}return this.lazyHash_}getPredecessorChildName(t,r,n){const i=this.resolveIndex_(n);if(i){const a=i.getPredecessorKey(new Ct(t,r));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ct(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ct(r,this.children_.get(r)):null}forEachChild(t,r){const n=this.resolveIndex_(t);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Ct.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,t)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Ct.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,t)>0;)i.getNext(),a=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===iu?-1:0}withIndex(t){if(t===Cl||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new at(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Cl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(kr),i=r.getIterator(kr);let a=n.getNext(),l=i.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=n.getNext(),l=i.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(t){return t===Cl?null:this.indexMap_.get(t.toString())}}at.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class W5 extends at{constructor(){super(new ti(gx),at.EMPTY_NODE,Ds.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return at.EMPTY_NODE}isEmpty(){return!1}}const iu=new W5;Object.defineProperties(Ct,{MIN:{value:new Ct(Bl,at.EMPTY_NODE)},MAX:{value:new Ct(vo,iu)}});s3.__EMPTY_NODE=at.EMPTY_NODE;en.__childrenNodeConstructor=at;P5(iu);B5(iu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=!0;function zr(e,t=null){if(e===null)return at.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),He(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const r=e;return new en(r,zr(t))}if(!(e instanceof Array)&&V5){const r=[];let n=!1;if(yn(e,(l,u)=>{if(l.substring(0,1)!=="."){const g=zr(u);g.isEmpty()||(n=n||!g.getPriority().isEmpty(),r.push(new Ct(l,g)))}}),r.length===0)return at.EMPTY_NODE;const a=$f(r,F5,l=>l.name,gx);if(n){const l=$f(r,kr.getCompare());return new at(a,zr(t),new Ds({".priority":l},{".priority":kr}))}else return new at(a,zr(t),Ds.Default)}else{let r=at.EMPTY_NODE;return yn(e,(n,i)=>{if(As(e,n)&&n.substring(0,1)!=="."){const a=zr(i);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(n,a))}}),r.updatePriority(zr(t))}}M5(zr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5 extends Yh{constructor(t){super(),this.indexPath_=t,He(!St(t)&&Rt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const n=this.extractChild(t.node),i=this.extractChild(r.node),a=n.compareTo(i);return a===0?Do(t.name,r.name):a}makePost(t,r){const n=zr(t),i=at.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ct(r,i)}maxPost(){const t=at.EMPTY_NODE.updateChild(this.indexPath_,iu);return new Ct(vo,t)}toString(){return R0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5 extends Yh{compare(t,r){const n=t.node.compareTo(r.node);return n===0?Do(t.name,r.name):n}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return Ct.MIN}maxPost(){return Ct.MAX}makePost(t,r){const n=zr(t);return new Ct(r,n)}toString(){return".value"}}const G5=new z5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(e){return{type:"value",snapshotNode:e}}function Ll(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function N0(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function O0(e,t,r){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:r}}function X5(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t){this.index_=t}updateChild(t,r,n,i,a,l){He(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(r);return u.getChild(i).equals(n.getChild(i))&&u.isEmpty()===n.isEmpty()||(l!=null&&(n.isEmpty()?t.hasChild(r)?l.trackChildChange(N0(r,u)):He(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Ll(r,n)):l.trackChildChange(O0(r,n,u))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(t,r,n){return n!=null&&(t.isLeafNode()||t.forEachChild(kr,(i,a)=>{r.hasChild(i)||n.trackChildChange(N0(i,a))}),r.isLeafNode()||r.forEachChild(kr,(i,a)=>{if(t.hasChild(i)){const l=t.getImmediateChild(i);l.equals(a)||n.trackChildChange(O0(i,a,l))}else n.trackChildChange(Ll(i,a))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?at.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t){this.indexedFilter_=new px(t.getIndex()),this.index_=t.getIndex(),this.startPost_=D0.getStartPost_(t),this.endPost_=D0.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,n=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&n}updateChild(t,r,n,i,a,l){return this.matches(new Ct(r,n))||(n=at.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,n,i,a,l)}updateFullNode(t,r,n){r.isLeafNode()&&(r=at.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(at.EMPTY_NODE);const a=this;return r.forEachChild(kr,(l,u)=>{a.matches(new Ct(l,u))||(i=i.updateImmediateChild(l,at.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new D0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,n,i,a,l){return this.rangedFilter_.matches(new Ct(r,n))||(n=at.EMPTY_NODE),t.getImmediateChild(r).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,n,i,a,l):this.fullLimitUpdateChild_(t,r,n,a,l)}updateFullNode(t,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=at.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=at.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const u=a.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(at.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let l=0;for(;a.hasNext();){const u=a.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:i=i.updateImmediateChild(u.name,at.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,n,i,a){let l;if(this.reverse_){const v=this.index_.getCompare();l=(_,E)=>v(E,_)}else l=this.index_.getCompare();const u=t;He(u.numChildren()===this.limit_,"");const g=new Ct(r,n),p=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(g);if(u.hasChild(r)){const v=u.getImmediateChild(r);let _=i.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===r||u.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const E=_==null?1:l(_,g);if(m&&!n.isEmpty()&&E>=0)return a!=null&&a.trackChildChange(O0(r,n,v)),u.updateImmediateChild(r,n);{a!=null&&a.trackChildChange(N0(r,v));const C=u.updateImmediateChild(r,at.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(a!=null&&a.trackChildChange(Ll(_.name,_.node)),C.updateImmediateChild(_.name,_.node)):C}}else return n.isEmpty()?t:m&&l(p,g)>=0?(a!=null&&(a.trackChildChange(N0(p.name,p.node)),a.trackChildChange(Ll(r,n))),u.updateImmediateChild(r,n).updateImmediateChild(p.name,at.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return He(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return He(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bl}hasEnd(){return this.endSet_}getIndexEndValue(){return He(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return He(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return He(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kr}copy(){const t=new xx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Y5(e){return e.loadsAllData()?new px(e.getIndex()):e.hasLimit()?new $5(e):new D0(e)}function Gw(e){const t={};if(e.isDefault())return t;let r;if(e.index_===kr?r="$priority":e.index_===G5?r="$value":e.index_===Cl?r="$key":(He(e.index_ instanceof H5,"Unrecognized index type!"),r=e.index_.toString()),t.orderBy=Gr(r),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Gr(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Gr(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Gr(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Gr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Xw(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let r=e.viewFrom_;r===""&&(e.isViewFromLeft()?r="l":r="r"),t.vf=r}return e.index_!==kr&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends e3{constructor(t,r,n,i){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=nu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(He(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,r,n,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const l=Yf.getListenId_(t,n),u={};this.listens_[l]=u;const g=Gw(t._queryParams);this.restRequest_(a+".json",g,(p,m)=>{let v=m;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(a,v,!1,n),Ml(this.listens_,l)===u){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",i(_,null)}})}unlisten(t,r){const n=Yf.getListenId_(t,r);delete this.listens_[n]}get(t){const r=Gw(t._queryParams),n=t._path.toString(),i=new eu;return this.restRequest_(n+".json",r,(a,l)=>{let u=l;a===404&&(u=null,a=null),a===null?(this.onDataUpdate_(n,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(t){}restRequest_(t,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(r.auth=i.accessToken),a&&a.token&&(r.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+_I(r);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(n&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let g=null;if(u.status>=200&&u.status<300){try{g=k0(u.responseText)}catch{Vn("Failed to parse JSON response for "+l+": "+u.responseText)}n(null,g)}else u.status!==401&&u.status!==404&&Vn("Got unsuccessful REST response for "+l+" Status: "+u.status),n(u.status);n=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){return{value:null,children:new Map}}function f3(e,t,r){if(St(t))e.value=r,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,r);else{const n=Rt(t);e.children.has(n)||e.children.set(n,Kf());const i=e.children.get(n);t=ir(t),f3(i,t,r)}}function Pg(e,t,r){e.value!==null?r(t,e.value):q5(e,(n,i)=>{const a=new Kt(t.toString()+"/"+n);Pg(i,a,r)})}function q5(e,t){e.children.forEach((r,n)=>{t(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&yn(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=10*1e3,Q5=30*1e3,J5=5*60*1e3;class eR{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Z5(t);const n=$w+(Q5-$w)*Math.random();Yc(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const t=this.statsListener_.get(),r={};let n=!1;yn(t,(i,a)=>{a>0&&As(this.statsToReport_,i)&&(r[i]=a,n=!0)}),n&&this.server_.reportStats(r),Yc(this.reportStats_.bind(this),Math.floor(Math.random()*2*J5))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rs||(rs={}));function mx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wx(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,r,n){this.path=t,this.affectedTree=r,this.revert=n,this.type=rs.ACK_USER_WRITE,this.source=mx()}operationForChild(t){if(St(this.path)){if(this.affectedTree.value!=null)return He(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Kt(t));return new qf(Wt(),r,this.revert)}}else return He(Rt(this.path)===t,"operationForChild called for unrelated child."),new qf(ir(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,r){this.source=t,this.path=r,this.type=rs.LISTEN_COMPLETE}operationForChild(t){return St(this.path)?new F0(this.source,Wt()):new F0(this.source,ir(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,r,n){this.source=t,this.path=r,this.snap=n,this.type=rs.OVERWRITE}operationForChild(t){return St(this.path)?new yo(this.source,Wt(),this.snap.getImmediateChild(t)):new yo(this.source,ir(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,r,n){this.source=t,this.path=r,this.children=n,this.type=rs.MERGE}operationForChild(t){if(St(this.path)){const r=this.children.subtree(new Kt(t));return r.isEmpty()?null:r.value?new yo(this.source,Wt(),r.value):new Ul(this.source,Wt(),r)}else return He(Rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ul(this.source,ir(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t,r,n){this.node_=t,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(St(t))return this.isFullyInitialized()&&!this.filtered_;const r=Rt(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function rR(e,t,r,n){const i=[],a=[];return t.forEach(l=>{l.type==="child_changed"&&e.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(X5(l.childName,l.snapshotNode))}),kc(e,i,"child_removed",t,n,r),kc(e,i,"child_added",t,n,r),kc(e,i,"child_moved",a,n,r),kc(e,i,"child_changed",t,n,r),kc(e,i,"value",t,n,r),i}function kc(e,t,r,n,i,a){const l=n.filter(u=>u.type===r);l.sort((u,g)=>iR(e,u,g)),l.forEach(u=>{const g=nR(e,u,a);i.forEach(p=>{p.respondsTo(u.type)&&t.push(p.createEvent(g,e.query_))})})}function nR(e,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function iR(e,t,r){if(t.childName==null||r.childName==null)throw ql("Should only compare child_ events.");const n=new Ct(t.childName,t.snapshotNode),i=new Ct(r.childName,r.snapshotNode);return e.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(e,t){return{eventCache:e,serverCache:t}}function Kc(e,t,r,n){return Kh(new Ba(t,r,n),e.serverCache)}function h3(e,t,r,n){return Kh(e.eventCache,new Ba(t,r,n))}function Zf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function _o(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l1;const sR=()=>(l1||(l1=new ti(H6)),l1);class rr{constructor(t,r=sR()){this.value=t,this.children=r}static fromObject(t){let r=new rr(null);return yn(t,(n,i)=>{r=r.set(new Kt(n),i)}),r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:Wt(),value:this.value};if(St(t))return null;{const n=Rt(t),i=this.children.get(n);if(i!==null){const a=i.findRootMostMatchingPathAndValue(ir(t),r);return a!=null?{path:Tr(new Kt(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(St(t))return this;{const r=Rt(t),n=this.children.get(r);return n!==null?n.subtree(ir(t)):new rr(null)}}set(t,r){if(St(t))return new rr(r,this.children);{const n=Rt(t),a=(this.children.get(n)||new rr(null)).set(ir(t),r),l=this.children.insert(n,a);return new rr(this.value,l)}}remove(t){if(St(t))return this.children.isEmpty()?new rr(null):new rr(null,this.children);{const r=Rt(t),n=this.children.get(r);if(n){const i=n.remove(ir(t));let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),this.value===null&&a.isEmpty()?new rr(null):new rr(this.value,a)}else return this}}get(t){if(St(t))return this.value;{const r=Rt(t),n=this.children.get(r);return n?n.get(ir(t)):null}}setTree(t,r){if(St(t))return r;{const n=Rt(t),a=(this.children.get(n)||new rr(null)).setTree(ir(t),r);let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),new rr(this.value,l)}}fold(t){return this.fold_(Wt(),t)}fold_(t,r){const n={};return this.children.inorderTraversal((i,a)=>{n[i]=a.fold_(Tr(t,i),r)}),r(t,this.value,n)}findOnPath(t,r){return this.findOnPath_(t,Wt(),r)}findOnPath_(t,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(St(t))return null;{const a=Rt(t),l=this.children.get(a);return l?l.findOnPath_(ir(t),Tr(r,a),n):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,Wt(),r)}foreachOnPath_(t,r,n){if(St(t))return this;{this.value&&n(r,this.value);const i=Rt(t),a=this.children.get(i);return a?a.foreachOnPath_(ir(t),Tr(r,i),n):new rr(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,r){this.children.inorderTraversal((n,i)=>{i.foreach_(Tr(t,n),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,n)=>{n.value&&t(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t){this.writeTree_=t}static empty(){return new os(new rr(null))}}function qc(e,t,r){if(St(t))return new os(new rr(r));{const n=e.writeTree_.findRootMostValueAndPath(t);if(n!=null){const i=n.path;let a=n.value;const l=Un(i,t);return a=a.updateChild(l,r),new os(e.writeTree_.set(i,a))}else{const i=new rr(r),a=e.writeTree_.setTree(t,i);return new os(a)}}}function Mg(e,t,r){let n=e;return yn(r,(i,a)=>{n=qc(n,Tr(t,i),a)}),n}function Yw(e,t){if(St(t))return os.empty();{const r=e.writeTree_.setTree(t,new rr(null));return new os(r)}}function Bg(e,t){return Fo(e,t)!=null}function Fo(e,t){const r=e.writeTree_.findRootMostValueAndPath(t);return r!=null?e.writeTree_.get(r.path).getChild(Un(r.path,t)):null}function Kw(e){const t=[],r=e.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(kr,(n,i)=>{t.push(new Ct(n,i))}):e.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&t.push(new Ct(n,i.value))}),t}function Ra(e,t){if(St(t))return e;{const r=Fo(e,t);return r!=null?new os(new rr(r)):new os(e.writeTree_.subtree(t))}}function Lg(e){return e.writeTree_.isEmpty()}function jl(e,t){return d3(Wt(),e.writeTree_,t)}function d3(e,t,r){if(t.value!=null)return r.updateChild(e,t.value);{let n=null;return t.children.inorderTraversal((i,a)=>{i===".priority"?(He(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):r=d3(Tr(e,i),a,r)}),!r.getChild(e).isEmpty()&&n!==null&&(r=r.updateChild(Tr(e,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(e,t){return m3(t,e)}function aR(e,t,r,n,i){He(n>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:r,writeId:n,visible:i}),i&&(e.visibleWrites=qc(e.visibleWrites,t,r)),e.lastWriteId=n}function oR(e,t,r,n){He(n>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:r,writeId:n,visible:!0}),e.visibleWrites=Mg(e.visibleWrites,t,r),e.lastWriteId=n}function lR(e,t){for(let r=0;r<e.allWrites.length;r++){const n=e.allWrites[r];if(n.writeId===t)return n}return null}function cR(e,t){const r=e.allWrites.findIndex(u=>u.writeId===t);He(r>=0,"removeWrite called with nonexistent writeId.");const n=e.allWrites[r];e.allWrites.splice(r,1);let i=n.visible,a=!1,l=e.allWrites.length-1;for(;i&&l>=0;){const u=e.allWrites[l];u.visible&&(l>=r&&uR(u,n.path)?i=!1:Mi(n.path,u.path)&&(a=!0)),l--}if(i){if(a)return fR(e),!0;if(n.snap)e.visibleWrites=Yw(e.visibleWrites,n.path);else{const u=n.children;yn(u,g=>{e.visibleWrites=Yw(e.visibleWrites,Tr(n.path,g))})}return!0}else return!1}function uR(e,t){if(e.snap)return Mi(e.path,t);for(const r in e.children)if(e.children.hasOwnProperty(r)&&Mi(Tr(e.path,r),t))return!0;return!1}function fR(e){e.visibleWrites=g3(e.allWrites,hR,Wt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function hR(e){return e.visible}function g3(e,t,r){let n=os.empty();for(let i=0;i<e.length;++i){const a=e[i];if(t(a)){const l=a.path;let u;if(a.snap)Mi(r,l)?(u=Un(r,l),n=qc(n,u,a.snap)):Mi(l,r)&&(u=Un(l,r),n=qc(n,Wt(),a.snap.getChild(u)));else if(a.children){if(Mi(r,l))u=Un(r,l),n=Mg(n,u,a.children);else if(Mi(l,r))if(u=Un(l,r),St(u))n=Mg(n,Wt(),a.children);else{const g=Ml(a.children,Rt(u));if(g){const p=g.getChild(ir(u));n=qc(n,Wt(),p)}}}else throw ql("WriteRecord should have .snap or .children")}}return n}function p3(e,t,r,n,i){if(!n&&!i){const a=Fo(e.visibleWrites,t);if(a!=null)return a;{const l=Ra(e.visibleWrites,t);if(Lg(l))return r;if(r==null&&!Bg(l,Wt()))return null;{const u=r||at.EMPTY_NODE;return jl(l,u)}}}else{const a=Ra(e.visibleWrites,t);if(!i&&Lg(a))return r;if(!i&&r==null&&!Bg(a,Wt()))return null;{const l=function(p){return(p.visible||i)&&(!n||!~n.indexOf(p.writeId))&&(Mi(p.path,t)||Mi(t,p.path))},u=g3(e.allWrites,l,t),g=r||at.EMPTY_NODE;return jl(u,g)}}}function dR(e,t,r){let n=at.EMPTY_NODE;const i=Fo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(kr,(a,l)=>{n=n.updateImmediateChild(a,l)}),n;if(r){const a=Ra(e.visibleWrites,t);return r.forEachChild(kr,(l,u)=>{const g=jl(Ra(a,new Kt(l)),u);n=n.updateImmediateChild(l,g)}),Kw(a).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}else{const a=Ra(e.visibleWrites,t);return Kw(a).forEach(l=>{n=n.updateImmediateChild(l.name,l.node)}),n}}function gR(e,t,r,n,i){He(n||i,"Either existingEventSnap or existingServerSnap must exist");const a=Tr(t,r);if(Bg(e.visibleWrites,a))return null;{const l=Ra(e.visibleWrites,a);return Lg(l)?i.getChild(r):jl(l,i.getChild(r))}}function pR(e,t,r,n){const i=Tr(t,r),a=Fo(e.visibleWrites,i);if(a!=null)return a;if(n.isCompleteForChild(r)){const l=Ra(e.visibleWrites,i);return jl(l,n.getNode().getImmediateChild(r))}else return null}function xR(e,t){return Fo(e.visibleWrites,t)}function mR(e,t,r,n,i,a,l){let u;const g=Ra(e.visibleWrites,t),p=Fo(g,Wt());if(p!=null)u=p;else if(r!=null)u=jl(g,r);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const m=[],v=l.getCompare(),_=a?u.getReverseIteratorFrom(n,l):u.getIteratorFrom(n,l);let E=_.getNext();for(;E&&m.length<i;)v(E,n)!==0&&m.push(E),E=_.getNext();return m}else return[]}function wR(){return{visibleWrites:os.empty(),allWrites:[],lastWriteId:-1}}function Qf(e,t,r,n){return p3(e.writeTree,e.treePath,t,r,n)}function yx(e,t){return dR(e.writeTree,e.treePath,t)}function qw(e,t,r,n){return gR(e.writeTree,e.treePath,t,r,n)}function Jf(e,t){return xR(e.writeTree,Tr(e.treePath,t))}function vR(e,t,r,n,i,a){return mR(e.writeTree,e.treePath,t,r,n,i,a)}function _x(e,t,r){return pR(e.writeTree,e.treePath,t,r)}function x3(e,t){return m3(Tr(e.treePath,t),e.writeTree)}function m3(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,n=t.childName;He(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),He(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const a=i.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(n,O0(n,t.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(n,N0(n,i.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(n,Ll(n,t.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(n,O0(n,t.snapshotNode,i.oldSnap));else throw ql("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(n,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{getCompleteChild(t){return null}getChildAfterChild(t,r,n){return null}}const w3=new _R;class Ex{constructor(t,r,n=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const n=this.optCompleteServerCache_!=null?new Ba(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _x(this.writes_,t,n)}}getChildAfterChild(t,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_o(this.viewCache_),a=vR(this.writes_,i,r,1,n,t);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(e){return{filter:e}}function CR(e,t){He(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),He(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function AR(e,t,r,n,i){const a=new yR;let l,u;if(r.type===rs.OVERWRITE){const p=r;p.source.fromUser?l=Ug(e,t,p.path,p.snap,n,i,a):(He(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered()&&!St(p.path),l=eh(e,t,p.path,p.snap,n,i,u,a))}else if(r.type===rs.MERGE){const p=r;p.source.fromUser?l=TR(e,t,p.path,p.children,n,i,a):(He(p.source.fromServer,"Unknown source."),u=p.source.tagged||t.serverCache.isFiltered(),l=jg(e,t,p.path,p.children,n,i,u,a))}else if(r.type===rs.ACK_USER_WRITE){const p=r;p.revert?l=IR(e,t,p.path,n,i,a):l=kR(e,t,p.path,p.affectedTree,n,i,a)}else if(r.type===rs.LISTEN_COMPLETE)l=bR(e,t,r.path,n,a);else throw ql("Unknown operation type: "+r.type);const g=a.getChanges();return SR(t,l,g),{viewCache:l,changes:g}}function SR(e,t,r){const n=t.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=Zf(e);(r.length>0||!e.eventCache.isFullyInitialized()||i&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&r.push(u3(Zf(t)))}}function v3(e,t,r,n,i,a){const l=t.eventCache;if(Jf(n,r)!=null)return t;{let u,g;if(St(r))if(He(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=_o(t),m=p instanceof at?p:at.EMPTY_NODE,v=yx(n,m);u=e.filter.updateFullNode(t.eventCache.getNode(),v,a)}else{const p=Qf(n,_o(t));u=e.filter.updateFullNode(t.eventCache.getNode(),p,a)}else{const p=Rt(r);if(p===".priority"){He(Ma(r)===1,"Can't have a priority with additional path components");const m=l.getNode();g=t.serverCache.getNode();const v=qw(n,r,m,g);v!=null?u=e.filter.updatePriority(m,v):u=l.getNode()}else{const m=ir(r);let v;if(l.isCompleteForChild(p)){g=t.serverCache.getNode();const _=qw(n,r,l.getNode(),g);_!=null?v=l.getNode().getImmediateChild(p).updateChild(m,_):v=l.getNode().getImmediateChild(p)}else v=_x(n,p,t.serverCache);v!=null?u=e.filter.updateChild(l.getNode(),p,v,m,i,a):u=l.getNode()}}return Kc(t,u,l.isFullyInitialized()||St(r),e.filter.filtersNodes())}}function eh(e,t,r,n,i,a,l,u){const g=t.serverCache;let p;const m=l?e.filter:e.filter.getIndexedFilter();if(St(r))p=m.updateFullNode(g.getNode(),n,null);else if(m.filtersNodes()&&!g.isFiltered()){const E=g.getNode().updateChild(r,n);p=m.updateFullNode(g.getNode(),E,null)}else{const E=Rt(r);if(!g.isCompleteForPath(r)&&Ma(r)>1)return t;const A=ir(r),I=g.getNode().getImmediateChild(E).updateChild(A,n);E===".priority"?p=m.updatePriority(g.getNode(),I):p=m.updateChild(g.getNode(),E,I,A,w3,null)}const v=h3(t,p,g.isFullyInitialized()||St(r),m.filtersNodes()),_=new Ex(i,v,a);return v3(e,v,r,i,_,u)}function Ug(e,t,r,n,i,a,l){const u=t.eventCache;let g,p;const m=new Ex(i,t,a);if(St(r))p=e.filter.updateFullNode(t.eventCache.getNode(),n,l),g=Kc(t,p,!0,e.filter.filtersNodes());else{const v=Rt(r);if(v===".priority")p=e.filter.updatePriority(t.eventCache.getNode(),n),g=Kc(t,p,u.isFullyInitialized(),u.isFiltered());else{const _=ir(r),E=u.getNode().getImmediateChild(v);let A;if(St(_))A=n;else{const C=m.getCompleteChild(v);C!=null?hx(_)===".priority"&&C.getChild(r3(_)).isEmpty()?A=C:A=C.updateChild(_,n):A=at.EMPTY_NODE}if(E.equals(A))g=t;else{const C=e.filter.updateChild(u.getNode(),v,A,_,m,l);g=Kc(t,C,u.isFullyInitialized(),e.filter.filtersNodes())}}}return g}function Zw(e,t){return e.eventCache.isCompleteForChild(t)}function TR(e,t,r,n,i,a,l){let u=t;return n.foreach((g,p)=>{const m=Tr(r,g);Zw(t,Rt(m))&&(u=Ug(e,u,m,p,i,a,l))}),n.foreach((g,p)=>{const m=Tr(r,g);Zw(t,Rt(m))||(u=Ug(e,u,m,p,i,a,l))}),u}function Qw(e,t,r){return r.foreach((n,i)=>{t=t.updateChild(n,i)}),t}function jg(e,t,r,n,i,a,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;St(r)?p=n:p=new rr(null).setTree(r,n);const m=t.serverCache.getNode();return p.children.inorderTraversal((v,_)=>{if(m.hasChild(v)){const E=t.serverCache.getNode().getImmediateChild(v),A=Qw(e,E,_);g=eh(e,g,new Kt(v),A,i,a,l,u)}}),p.children.inorderTraversal((v,_)=>{const E=!t.serverCache.isCompleteForChild(v)&&_.value===null;if(!m.hasChild(v)&&!E){const A=t.serverCache.getNode().getImmediateChild(v),C=Qw(e,A,_);g=eh(e,g,new Kt(v),C,i,a,l,u)}}),g}function kR(e,t,r,n,i,a,l){if(Jf(i,r)!=null)return t;const u=t.serverCache.isFiltered(),g=t.serverCache;if(n.value!=null){if(St(r)&&g.isFullyInitialized()||g.isCompleteForPath(r))return eh(e,t,r,g.getNode().getChild(r),i,a,u,l);if(St(r)){let p=new rr(null);return g.getNode().forEachChild(Cl,(m,v)=>{p=p.set(new Kt(m),v)}),jg(e,t,r,p,i,a,u,l)}else return t}else{let p=new rr(null);return n.foreach((m,v)=>{const _=Tr(r,m);g.isCompleteForPath(_)&&(p=p.set(m,g.getNode().getChild(_)))}),jg(e,t,r,p,i,a,u,l)}}function bR(e,t,r,n,i){const a=t.serverCache,l=h3(t,a.getNode(),a.isFullyInitialized()||St(r),a.isFiltered());return v3(e,l,r,n,w3,i)}function IR(e,t,r,n,i,a){let l;if(Jf(n,r)!=null)return t;{const u=new Ex(n,t,i),g=t.eventCache.getNode();let p;if(St(r)||Rt(r)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=Qf(n,_o(t));else{const v=t.serverCache.getNode();He(v instanceof at,"serverChildren would be complete if leaf node"),m=yx(n,v)}m=m,p=e.filter.updateFullNode(g,m,a)}else{const m=Rt(r);let v=_x(n,m,t.serverCache);v==null&&t.serverCache.isCompleteForChild(m)&&(v=g.getImmediateChild(m)),v!=null?p=e.filter.updateChild(g,m,v,ir(r),u,a):t.eventCache.getNode().hasChild(m)?p=e.filter.updateChild(g,m,at.EMPTY_NODE,ir(r),u,a):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=Qf(n,_o(t)),l.isLeafNode()&&(p=e.filter.updateFullNode(p,l,a)))}return l=t.serverCache.isFullyInitialized()||Jf(n,Wt())!=null,Kc(t,p,l,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new px(n.getIndex()),a=Y5(n);this.processor_=ER(a);const l=r.serverCache,u=r.eventCache,g=i.updateFullNode(at.EMPTY_NODE,l.getNode(),null),p=a.updateFullNode(at.EMPTY_NODE,u.getNode(),null),m=new Ba(g,l.isFullyInitialized(),i.filtersNodes()),v=new Ba(p,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=Kh(v,m),this.eventGenerator_=new tR(this.query_)}get query(){return this.query_}}function NR(e){return e.viewCache_.serverCache.getNode()}function OR(e){return Zf(e.viewCache_)}function DR(e,t){const r=_o(e.viewCache_);return r&&(e.query._queryParams.loadsAllData()||!St(t)&&!r.getImmediateChild(Rt(t)).isEmpty())?r.getChild(t):null}function Jw(e){return e.eventRegistrations_.length===0}function FR(e,t){e.eventRegistrations_.push(t)}function ev(e,t,r){const n=[];if(r){He(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(r,i);l&&n.push(l)})}if(t){let i=[];for(let a=0;a<e.eventRegistrations_.length;++a){const l=e.eventRegistrations_[a];if(!l.matches(t))i.push(l);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return n}function tv(e,t,r,n){t.type===rs.MERGE&&t.source.queryId!==null&&(He(_o(e.viewCache_),"We should always have a full cache before handling merges"),He(Zf(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,a=AR(e.processor_,i,t,r,n);return CR(e.processor_,a.viewCache),He(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,y3(e,a.changes,a.viewCache.eventCache.getNode(),null)}function PR(e,t){const r=e.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(kr,(a,l)=>{n.push(Ll(a,l))}),r.isFullyInitialized()&&n.push(u3(r.getNode())),y3(e,n,r.getNode(),t)}function y3(e,t,r,n){const i=n?[n]:e.eventRegistrations_;return rR(e.eventGenerator_,t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th;class _3{constructor(){this.views=new Map}}function MR(e){He(!th,"__referenceConstructor has already been defined"),th=e}function BR(){return He(th,"Reference.ts has not been loaded"),th}function LR(e){return e.views.size===0}function Cx(e,t,r,n){const i=t.source.queryId;if(i!==null){const a=e.views.get(i);return He(a!=null,"SyncTree gave us an op for an invalid query."),tv(a,t,r,n)}else{let a=[];for(const l of e.views.values())a=a.concat(tv(l,t,r,n));return a}}function E3(e,t,r,n,i){const a=t._queryIdentifier,l=e.views.get(a);if(!l){let u=Qf(r,i?n:null),g=!1;u?g=!0:n instanceof at?(u=yx(r,n),g=!1):(u=at.EMPTY_NODE,g=!1);const p=Kh(new Ba(u,g,!1),new Ba(n,i,!1));return new RR(t,p)}return l}function UR(e,t,r,n,i,a){const l=E3(e,t,n,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,l),FR(l,r),PR(l,r)}function jR(e,t,r,n){const i=t._queryIdentifier,a=[];let l=[];const u=La(e);if(i==="default")for(const[g,p]of e.views.entries())l=l.concat(ev(p,r,n)),Jw(p)&&(e.views.delete(g),p.query._queryParams.loadsAllData()||a.push(p.query));else{const g=e.views.get(i);g&&(l=l.concat(ev(g,r,n)),Jw(g)&&(e.views.delete(i),g.query._queryParams.loadsAllData()||a.push(g.query)))}return u&&!La(e)&&a.push(new(BR())(t._repo,t._path)),{removed:a,events:l}}function C3(e){const t=[];for(const r of e.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Na(e,t){let r=null;for(const n of e.views.values())r=r||DR(n,t);return r}function A3(e,t){if(t._queryParams.loadsAllData())return Zh(e);{const n=t._queryIdentifier;return e.views.get(n)}}function S3(e,t){return A3(e,t)!=null}function La(e){return Zh(e)!=null}function Zh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;function WR(e){He(!rh,"__referenceConstructor has already been defined"),rh=e}function VR(){return He(rh,"Reference.ts has not been loaded"),rh}let HR=1;class rv{constructor(t){this.listenProvider_=t,this.syncPointTree_=new rr(null),this.pendingWriteTree_=wR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function T3(e,t,r,n,i){return aR(e.pendingWriteTree_,t,r,n,i),i?Ql(e,new yo(mx(),t,r)):[]}function zR(e,t,r,n){oR(e.pendingWriteTree_,t,r,n);const i=rr.fromObject(r);return Ql(e,new Ul(mx(),t,i))}function ga(e,t,r=!1){const n=lR(e.pendingWriteTree_,t);if(cR(e.pendingWriteTree_,t)){let a=new rr(null);return n.snap!=null?a=a.set(Wt(),!0):yn(n.children,l=>{a=a.set(new Kt(l),!0)}),Ql(e,new qf(n.path,a,r))}else return[]}function su(e,t,r){return Ql(e,new yo(wx(),t,r))}function GR(e,t,r){const n=rr.fromObject(r);return Ql(e,new Ul(wx(),t,n))}function XR(e,t){return Ql(e,new F0(wx(),t))}function $R(e,t,r){const n=Sx(e,r);if(n){const i=Tx(n),a=i.path,l=i.queryId,u=Un(a,t),g=new F0(vx(l),u);return kx(e,a,g)}else return[]}function k3(e,t,r,n,i=!1){const a=t._path,l=e.syncPointTree_.get(a);let u=[];if(l&&(t._queryIdentifier==="default"||S3(l,t))){const g=jR(l,t,r,n);LR(l)&&(e.syncPointTree_=e.syncPointTree_.remove(a));const p=g.removed;if(u=g.events,!i){const m=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=e.syncPointTree_.findOnPath(a,(_,E)=>La(E));if(m&&!v){const _=e.syncPointTree_.subtree(a);if(!_.isEmpty()){const E=ZR(_);for(let A=0;A<E.length;++A){const C=E[A],I=C.query,b=N3(e,C);e.listenProvider_.startListening(Zc(I),P0(e,I),b.hashFn,b.onComplete)}}}!v&&p.length>0&&!n&&(m?e.listenProvider_.stopListening(Zc(t),null):p.forEach(_=>{const E=e.queryToTagMap.get(Qh(_));e.listenProvider_.stopListening(Zc(_),E)}))}QR(e,p)}return u}function b3(e,t,r,n){const i=Sx(e,n);if(i!=null){const a=Tx(i),l=a.path,u=a.queryId,g=Un(l,t),p=new yo(vx(u),g,r);return kx(e,l,p)}else return[]}function YR(e,t,r,n){const i=Sx(e,n);if(i){const a=Tx(i),l=a.path,u=a.queryId,g=Un(l,t),p=rr.fromObject(r),m=new Ul(vx(u),g,p);return kx(e,l,m)}else return[]}function KR(e,t,r,n=!1){const i=t._path;let a=null,l=!1;e.syncPointTree_.foreachOnPath(i,(_,E)=>{const A=Un(_,i);a=a||Na(E,A),l=l||La(E)});let u=e.syncPointTree_.get(i);u?(l=l||La(u),a=a||Na(u,Wt())):(u=new _3,e.syncPointTree_=e.syncPointTree_.set(i,u));let g;a!=null?g=!0:(g=!1,a=at.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((E,A)=>{const C=Na(A,Wt());C&&(a=a.updateImmediateChild(E,C))}));const p=S3(u,t);if(!p&&!t._queryParams.loadsAllData()){const _=Qh(t);He(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const E=JR();e.queryToTagMap.set(_,E),e.tagToQueryMap.set(E,_)}const m=qh(e.pendingWriteTree_,i);let v=UR(u,t,r,m,a,g);if(!p&&!l&&!n){const _=A3(u,t);v=v.concat(eN(e,t,_))}return v}function Ax(e,t,r){const i=e.pendingWriteTree_,a=e.syncPointTree_.findOnPath(t,(l,u)=>{const g=Un(l,t),p=Na(u,g);if(p)return p});return p3(i,t,a,r,!0)}function qR(e,t){const r=t._path;let n=null;e.syncPointTree_.foreachOnPath(r,(p,m)=>{const v=Un(p,r);n=n||Na(m,v)});let i=e.syncPointTree_.get(r);i?n=n||Na(i,Wt()):(i=new _3,e.syncPointTree_=e.syncPointTree_.set(r,i));const a=n!=null,l=a?new Ba(n,!0,!1):null,u=qh(e.pendingWriteTree_,t._path),g=E3(i,t,u,a?l.getNode():at.EMPTY_NODE,a);return OR(g)}function Ql(e,t){return I3(t,e.syncPointTree_,null,qh(e.pendingWriteTree_,Wt()))}function I3(e,t,r,n){if(St(e.path))return R3(e,t,r,n);{const i=t.get(Wt());r==null&&i!=null&&(r=Na(i,Wt()));let a=[];const l=Rt(e.path),u=e.operationForChild(l),g=t.children.get(l);if(g&&u){const p=r?r.getImmediateChild(l):null,m=x3(n,l);a=a.concat(I3(u,g,p,m))}return i&&(a=a.concat(Cx(i,e,n,r))),a}}function R3(e,t,r,n){const i=t.get(Wt());r==null&&i!=null&&(r=Na(i,Wt()));let a=[];return t.children.inorderTraversal((l,u)=>{const g=r?r.getImmediateChild(l):null,p=x3(n,l),m=e.operationForChild(l);m&&(a=a.concat(R3(m,u,g,p)))}),i&&(a=a.concat(Cx(i,e,n,r))),a}function N3(e,t){const r=t.query,n=P0(e,r);return{hashFn:()=>(NR(t)||at.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?$R(e,r._path,n):XR(e,r._path);{const a=X6(i,r);return k3(e,r,null,a)}}}}function P0(e,t){const r=Qh(t);return e.queryToTagMap.get(r)}function Qh(e){return e._path.toString()+"$"+e._queryIdentifier}function Sx(e,t){return e.tagToQueryMap.get(t)}function Tx(e){const t=e.indexOf("$");return He(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Kt(e.substr(0,t))}}function kx(e,t,r){const n=e.syncPointTree_.get(t);He(n,"Missing sync point for query tag that we're tracking");const i=qh(e.pendingWriteTree_,t);return Cx(n,r,i,null)}function ZR(e){return e.fold((t,r,n)=>{if(r&&La(r))return[Zh(r)];{let i=[];return r&&(i=C3(r)),yn(n,(a,l)=>{i=i.concat(l)}),i}})}function Zc(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(VR())(e._repo,e._path):e}function QR(e,t){for(let r=0;r<t.length;++r){const n=t[r];if(!n._queryParams.loadsAllData()){const i=Qh(n),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function JR(){return HR++}function eN(e,t,r){const n=t._path,i=P0(e,t),a=N3(e,r),l=e.listenProvider_.startListening(Zc(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(n);if(i)He(!La(u.value),"If we're adding a query, it shouldn't be shadowed");else{const g=u.fold((p,m,v)=>{if(!St(p)&&m&&La(m))return[Zh(m).query];{let _=[];return m&&(_=_.concat(C3(m).map(E=>E.query))),yn(v,(E,A)=>{_=_.concat(A)}),_}});for(let p=0;p<g.length;++p){const m=g[p];e.listenProvider_.stopListening(Zc(m),P0(e,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new bx(r)}node(){return this.node_}}class Ix{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Tr(this.path_,t);return new Ix(this.syncTree_,r)}node(){return Ax(this.syncTree_,this.path_)}}const tN=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},nv=function(e,t,r){if(!e||typeof e!="object")return e;if(He(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return rN(e[".sv"],t,r);if(typeof e[".sv"]=="object")return nN(e[".sv"],t);He(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},rN=function(e,t,r){switch(e){case"timestamp":return r.timestamp;default:He(!1,"Unexpected server value: "+e)}},nN=function(e,t,r){e.hasOwnProperty("increment")||He(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const n=e.increment;typeof n!="number"&&He(!1,"Unexpected increment value: "+n);const i=t.node();if(He(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const l=i.getValue();return typeof l!="number"?n:l+n},O3=function(e,t,r,n){return Rx(t,new Ix(r,e),n)},D3=function(e,t,r){return Rx(e,new bx(t),r)};function Rx(e,t,r){const n=e.getPriority().val(),i=nv(n,t.getImmediateChild(".priority"),r);let a;if(e.isLeafNode()){const l=e,u=nv(l.getValue(),t,r);return u!==l.getValue()||i!==l.getPriority().val()?new en(u,zr(i)):e}else{const l=e;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new en(i))),l.forEachChild(kr,(u,g)=>{const p=Rx(g,t.getImmediateChild(u),r);p!==g&&(a=a.updateImmediateChild(u,p))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t="",r=null,n={children:{},childCount:0}){this.name=t,this.parent=r,this.node=n}}function Ox(e,t){let r=t instanceof Kt?t:new Kt(t),n=e,i=Rt(r);for(;i!==null;){const a=Ml(n.node.children,i)||{children:{},childCount:0};n=new Nx(i,n,a),r=ir(r),i=Rt(r)}return n}function Jl(e){return e.node.value}function F3(e,t){e.node.value=t,Wg(e)}function P3(e){return e.node.childCount>0}function iN(e){return Jl(e)===void 0&&!P3(e)}function Jh(e,t){yn(e.node.children,(r,n)=>{t(new Nx(r,e,n))})}function M3(e,t,r,n){r&&t(e),Jh(e,i=>{M3(i,t,!0)})}function sN(e,t,r){let n=e.parent;for(;n!==null;){if(t(n))return!0;n=n.parent}return!1}function au(e){return new Kt(e.parent===null?e.name:au(e.parent)+"/"+e.name)}function Wg(e){e.parent!==null&&aN(e.parent,e.name,e)}function aN(e,t,r){const n=iN(r),i=As(e.node.children,t);n&&i?(delete e.node.children[t],e.node.childCount--,Wg(e)):!n&&!i&&(e.node.children[t]=r.node,e.node.childCount++,Wg(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=/[\[\].#$\/\u0000-\u001F\u007F]/,lN=/[\[\].#$\u0000-\u001F\u007F]/,c1=10*1024*1024,Dx=function(e){return typeof e=="string"&&e.length!==0&&!oN.test(e)},B3=function(e){return typeof e=="string"&&e.length!==0&&!lN.test(e)},cN=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),B3(e)},uN=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!ox(e)||e&&typeof e=="object"&&As(e,".sv")},L3=function(e,t,r,n){n&&t===void 0||ed(Xh(e,"value"),t,r)},ed=function(e,t,r){const n=r instanceof Kt?new T5(r,e):r;if(t===void 0)throw new Error(e+"contains undefined "+eo(n));if(typeof t=="function")throw new Error(e+"contains a function "+eo(n)+" with contents = "+t.toString());if(ox(t))throw new Error(e+"contains "+t.toString()+" "+eo(n));if(typeof t=="string"&&t.length>c1/3&&$h(t)>c1)throw new Error(e+"contains a string greater than "+c1+" utf8 bytes "+eo(n)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,a=!1;if(yn(t,(l,u)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!Dx(l)))throw new Error(e+" contains an invalid key ("+l+") "+eo(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);k5(n,l),ed(e,u,n),b5(n)}),i&&a)throw new Error(e+' contains ".value" child '+eo(n)+" in addition to actual children.")}},fN=function(e,t){let r,n;for(r=0;r<t.length;r++){n=t[r];const a=R0(n);for(let l=0;l<a.length;l++)if(!(a[l]===".priority"&&l===a.length-1)){if(!Dx(a[l]))throw new Error(e+"contains an invalid key ("+a[l]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(S5);let i=null;for(r=0;r<t.length;r++){if(n=t[r],i!==null&&Mi(i,n))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},hN=function(e,t,r,n){const i=Xh(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const a=[];yn(t,(l,u)=>{const g=new Kt(l);if(ed(i,u,Tr(r,g)),hx(g)===".priority"&&!uN(u))throw new Error(i+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(g)}),fN(i,a)},U3=function(e,t,r,n){if(!B3(r))throw new Error(Xh(e,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dN=function(e,t,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),U3(e,t,r)},Fx=function(e,t){if(Rt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},gN=function(e,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Dx(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!cN(r))throw new Error(Xh(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Px(e,t){let r=null;for(let n=0;n<t.length;n++){const i=t[n],a=i.getPath();r!==null&&!n3(a,r.path)&&(e.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(i)}r&&e.eventLists_.push(r)}function ji(e,t,r){Px(e,r),xN(e,n=>Mi(n,t)||Mi(t,n))}function xN(e,t){e.recursionDepth_++;let r=!0;for(let n=0;n<e.eventLists_.length;n++){const i=e.eventLists_[n];if(i){const a=i.path;t(a)?(mN(e.eventLists_[n]),e.eventLists_[n]=null):r=!1}}r&&(e.eventLists_=[]),e.recursionDepth_--}function mN(e){for(let t=0;t<e.events.length;t++){const r=e.events[t];if(r!==null){e.events[t]=null;const n=r.getEventRunner();$c&&pn("event: "+r.toString()),Zl(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="repo_interrupt",vN=25;class yN{constructor(t,r,n,i){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kf(),this.transactionQueueTree_=new Nx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _N(e,t,r){if(e.stats_=ux(e.repoInfo_),e.forceRestClient_||q6())e.server_=new Yf(e.repoInfo_,(n,i,a,l)=>{iv(e,n,i,a,l)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sv(e,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gr(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}e.persistentConnection_=new Ms(e.repoInfo_,t,(n,i,a,l)=>{iv(e,n,i,a,l)},n=>{sv(e,n)},n=>{EN(e,n)},e.authTokenProvider_,e.appCheckProvider_,r),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(n=>{e.server_.refreshAuthToken(n)}),e.appCheckProvider_.addTokenChangeListener(n=>{e.server_.refreshAppCheckToken(n.token)}),e.statsReporter_=t5(e.repoInfo_,()=>new eR(e.stats_,e.server_)),e.infoData_=new K5,e.infoSyncTree_=new rv({startListening:(n,i,a,l)=>{let u=[];const g=e.infoData_.getNode(n._path);return g.isEmpty()||(u=su(e.infoSyncTree_,n._path,g),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),Mx(e,"connected",!1),e.serverSyncTree_=new rv({startListening:(n,i,a,l)=>(e.server_.listen(n,a,i,(u,g)=>{const p=l(u,g);ji(e.eventQueue_,n._path,p)}),[]),stopListening:(n,i)=>{e.server_.unlisten(n,i)}})}function j3(e){const r=e.infoData_.getNode(new Kt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function td(e){return tN({timestamp:j3(e)})}function iv(e,t,r,n,i){e.dataUpdateCount++;const a=new Kt(t);r=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,r):r;let l=[];if(i)if(n){const g=Vf(r,p=>zr(p));l=YR(e.serverSyncTree_,a,g,i)}else{const g=zr(r);l=b3(e.serverSyncTree_,a,g,i)}else if(n){const g=Vf(r,p=>zr(p));l=GR(e.serverSyncTree_,a,g)}else{const g=zr(r);l=su(e.serverSyncTree_,a,g)}let u=a;l.length>0&&(u=Wl(e,a)),ji(e.eventQueue_,u,l)}function sv(e,t){Mx(e,"connected",t),t===!1&&TN(e)}function EN(e,t){yn(t,(r,n)=>{Mx(e,r,n)})}function Mx(e,t,r){const n=new Kt("/.info/"+t),i=zr(r);e.infoData_.updateSnapshot(n,i);const a=su(e.infoSyncTree_,n,i);ji(e.eventQueue_,n,a)}function Bx(e){return e.nextWriteId_++}function CN(e,t,r){const n=qR(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(i=>{const a=zr(i).withIndex(t._queryParams.getIndex());KR(e.serverSyncTree_,t,r,!0);let l;if(t._queryParams.loadsAllData())l=su(e.serverSyncTree_,t._path,a);else{const u=P0(e.serverSyncTree_,t);l=b3(e.serverSyncTree_,t._path,a,u)}return ji(e.eventQueue_,t._path,l),k3(e.serverSyncTree_,t,r,null,!0),a},i=>(ou(e,"get for query "+Gr(t)+" failed: "+i),Promise.reject(new Error(i))))}function AN(e,t,r,n,i){ou(e,"set",{path:t.toString(),value:r,priority:n});const a=td(e),l=zr(r,n),u=Ax(e.serverSyncTree_,t),g=D3(l,u,a),p=Bx(e),m=T3(e.serverSyncTree_,t,g,p,!0);Px(e.eventQueue_,m),e.server_.put(t.toString(),l.val(!0),(_,E)=>{const A=_==="ok";A||Vn("set at "+t+" failed: "+_);const C=ga(e.serverSyncTree_,p,!A);ji(e.eventQueue_,t,C),Vg(e,i,_,E)});const v=Ux(e,t);Wl(e,v),ji(e.eventQueue_,v,[])}function SN(e,t,r,n){ou(e,"update",{path:t.toString(),value:r});let i=!0;const a=td(e),l={};if(yn(r,(u,g)=>{i=!1,l[u]=O3(Tr(t,u),zr(g),e.serverSyncTree_,a)}),i)pn("update() called with empty data.  Don't do anything."),Vg(e,n,"ok",void 0);else{const u=Bx(e),g=zR(e.serverSyncTree_,t,l,u);Px(e.eventQueue_,g),e.server_.merge(t.toString(),r,(p,m)=>{const v=p==="ok";v||Vn("update at "+t+" failed: "+p);const _=ga(e.serverSyncTree_,u,!v),E=_.length>0?Wl(e,t):t;ji(e.eventQueue_,E,_),Vg(e,n,p,m)}),yn(r,p=>{const m=Ux(e,Tr(t,p));Wl(e,m)}),ji(e.eventQueue_,t,[])}}function TN(e){ou(e,"onDisconnectEvents");const t=td(e),r=Kf();Pg(e.onDisconnect_,Wt(),(i,a)=>{const l=O3(i,a,e.serverSyncTree_,t);f3(r,i,l)});let n=[];Pg(r,Wt(),(i,a)=>{n=n.concat(su(e.serverSyncTree_,i,a));const l=Ux(e,i);Wl(e,l)}),e.onDisconnect_=Kf(),ji(e.eventQueue_,Wt(),n)}function kN(e){e.persistentConnection_&&e.persistentConnection_.interrupt(wN)}function ou(e,...t){let r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),pn(r,...t)}function Vg(e,t,r,n){t&&Zl(()=>{if(r==="ok")t(null);else{const i=(r||"error").toUpperCase();let a=i;n&&(a+=": "+n);const l=new Error(a);l.code=i,t(l)}})}function W3(e,t,r){return Ax(e.serverSyncTree_,t,r)||at.EMPTY_NODE}function Lx(e,t=e.transactionQueueTree_){if(t||rd(e,t),Jl(t)){const r=H3(e,t);He(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&bN(e,au(t),r)}else P3(t)&&Jh(t,r=>{Lx(e,r)})}function bN(e,t,r){const n=r.map(p=>p.currentWriteId),i=W3(e,t,n);let a=i;const l=i.hash();for(let p=0;p<r.length;p++){const m=r[p];He(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const v=Un(t,m.path);a=a.updateChild(v,m.currentOutputSnapshotRaw)}const u=a.val(!0),g=t;e.server_.put(g.toString(),u,p=>{ou(e,"transaction put response",{path:g.toString(),status:p});let m=[];if(p==="ok"){const v=[];for(let _=0;_<r.length;_++)r[_].status=2,m=m.concat(ga(e.serverSyncTree_,r[_].currentWriteId)),r[_].onComplete&&v.push(()=>r[_].onComplete(null,!0,r[_].currentOutputSnapshotResolved)),r[_].unwatcher();rd(e,Ox(e.transactionQueueTree_,t)),Lx(e,e.transactionQueueTree_),ji(e.eventQueue_,t,m);for(let _=0;_<v.length;_++)Zl(v[_])}else{if(p==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{Vn("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=p}Wl(e,t)}},l)}function Wl(e,t){const r=V3(e,t),n=au(r),i=H3(e,r);return IN(e,i,n),n}function IN(e,t,r){if(t.length===0)return;const n=[];let i=[];const l=t.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const g=t[u],p=Un(r,g.path);let m=!1,v;if(He(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)m=!0,v=g.abortReason,i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=vN)m=!0,v="maxretry",i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0));else{const _=W3(e,g.path,l);g.currentInputSnapshot=_;const E=t[u].update(_.val());if(E!==void 0){ed("transaction failed: Data returned ",E,g.path);let A=zr(E);typeof E=="object"&&E!=null&&As(E,".priority")||(A=A.updatePriority(_.getPriority()));const I=g.currentWriteId,b=td(e),k=D3(A,_,b);g.currentOutputSnapshotRaw=A,g.currentOutputSnapshotResolved=k,g.currentWriteId=Bx(e),l.splice(l.indexOf(I),1),i=i.concat(T3(e.serverSyncTree_,g.path,k,g.currentWriteId,g.applyLocally)),i=i.concat(ga(e.serverSyncTree_,I,!0))}else m=!0,v="nodata",i=i.concat(ga(e.serverSyncTree_,g.currentWriteId,!0))}ji(e.eventQueue_,r,i),i=[],m&&(t[u].status=2,function(_){setTimeout(_,Math.floor(0))}(t[u].unwatcher),t[u].onComplete&&(v==="nodata"?n.push(()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot)):n.push(()=>t[u].onComplete(new Error(v),!1,null))))}rd(e,e.transactionQueueTree_);for(let u=0;u<n.length;u++)Zl(n[u]);Lx(e,e.transactionQueueTree_)}function V3(e,t){let r,n=e.transactionQueueTree_;for(r=Rt(t);r!==null&&Jl(n)===void 0;)n=Ox(n,r),t=ir(t),r=Rt(t);return n}function H3(e,t){const r=[];return z3(e,t,r),r.sort((n,i)=>n.order-i.order),r}function z3(e,t,r){const n=Jl(t);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);Jh(t,i=>{z3(e,i,r)})}function rd(e,t){const r=Jl(t);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,F3(t,r.length>0?r:void 0)}Jh(t,n=>{rd(e,n)})}function Ux(e,t){const r=au(V3(e,t)),n=Ox(e.transactionQueueTree_,t);return sN(n,i=>{u1(e,i)}),u1(e,n),M3(n,i=>{u1(e,i)}),r}function u1(e,t){const r=Jl(t);if(r){const n=[];let i=[],a=-1;for(let l=0;l<r.length;l++)r[l].status===3||(r[l].status===1?(He(a===l-1,"All SENT items should be at beginning of queue."),a=l,r[l].status=3,r[l].abortReason="set"):(He(r[l].status===0,"Unexpected transaction status in abort"),r[l].unwatcher(),i=i.concat(ga(e.serverSyncTree_,r[l].currentWriteId,!0)),r[l].onComplete&&n.push(r[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?F3(t,void 0):r.length=a+1,ji(e.eventQueue_,au(t),i);for(let l=0;l<n.length;l++)Zl(n[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(e){let t="";const r=e.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function NN(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const r of e.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?t[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Vn(`Invalid query segment '${r}' in query '${e}'`)}return t}const av=function(e,t){const r=ON(e),n=r.namespace;r.domain==="firebase.com"&&Xs(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Xs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||W6();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new $C(r.host,r.secure,n,i,t,"",n!==r.subdomain),path:new Kt(r.pathString)}},ON=function(e){let t="",r="",n="",i="",a="",l=!0,u="https",g=443;if(typeof e=="string"){let p=e.indexOf("//");p>=0&&(u=e.substring(0,p-1),e=e.substring(p+2));let m=e.indexOf("/");m===-1&&(m=e.length);let v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(m,v)),m<v&&(i=RN(e.substring(m,v)));const _=NN(e.substring(Math.min(e.length,v)));p=t.indexOf(":"),p>=0?(l=u==="https"||u==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const E=t.slice(0,p);if(E.toLowerCase()==="localhost")r="localhost";else if(E.split(".").length<=2)r=E;else{const A=t.indexOf(".");n=t.substring(0,A).toLowerCase(),r=t.substring(A+1),a=n}"ns"in _&&(a=_.ns)}return{host:t,port:g,domain:r,subdomain:n,secure:l,scheme:u,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",DN=function(){let e=0;const t=[];return function(r){const n=r===e;e=r;let i;const a=new Array(8);for(i=7;i>=0;i--)a[i]=ov.charAt(r%64),r=Math.floor(r/64);He(r===0,"Cannot push at time == 0");let l=a.join("");if(n){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)l+=ov.charAt(t[i]);return He(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t,r,n,i){this.eventType=t,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Gr(this.snapshot.exportVal())}}class PN{constructor(t,r,n){this.eventRegistration=t,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return He(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,r,n,i){this._repo=t,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return St(this._path)?null:hx(this._path)}get ref(){return new qs(this._repo,this._path)}get _queryIdentifier(){const t=Xw(this._queryParams),r=lx(t);return r==="{}"?"default":r}get _queryObject(){return Xw(this._queryParams)}isEqual(t){if(t=Ks(t),!(t instanceof jx))return!1;const r=this._repo===t._repo,n=n3(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+A5(this._path)}}class qs extends jx{constructor(t,r){super(t,r,new xx,!1)}get parent(){const t=r3(this._path);return t===null?null:new qs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class M0{constructor(t,r,n){this._node=t,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new Kt(t),n=B0(this.ref,t);return new M0(this._node.getChild(r),n,kr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>t(new M0(i,B0(this.ref,n),kr)))}hasChild(t){const r=new Kt(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dt(e,t){return e=Ks(e),e._checkNotDeleted("ref"),t!==void 0?B0(e._root,t):e._root}function B0(e,t){return e=Ks(e),Rt(e._path)===null?dN("child","path",t):U3("child","path",t),new qs(e._repo,Tr(e._path,t))}function dl(e,t){e=Ks(e),Fx("push",e._path),L3("push",t,e._path,!0);const r=j3(e._repo),n=DN(r),i=B0(e,n),a=B0(e,n);let l;return l=Promise.resolve(a),i.then=l.then.bind(l),i.catch=l.then.bind(l,void 0),i}function BN(e){return Fx("remove",e._path),di(e,null)}function di(e,t){e=Ks(e),Fx("set",e._path),L3("set",t,e._path,!1);const r=new eu;return AN(e._repo,e._path,t,null,r.wrapCallback(()=>{})),r.promise}function Zo(e,t){hN("update",t,e._path);const r=new eu;return SN(e._repo,e._path,t,r.wrapCallback(()=>{})),r.promise}function Qr(e){e=Ks(e);const t=new MN(()=>{}),r=new Wx(t);return CN(e._repo,e,r).then(n=>new M0(n,new qs(e._repo,e._path),e._queryParams.getIndex()))}class Wx{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const n=r._queryParams.getIndex();return new FN("value",this,new M0(t.snapshotNode,new qs(r._repo,r._path),n))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new PN(this,t,r):null}matches(t){return t instanceof Wx?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}MR(qs);WR(qs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="FIREBASE_DATABASE_EMULATOR_HOST",Hg={};let UN=!1;function jN(e,t,r,n){e.repoInfo_=new $C(`${t}:${r}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),n&&(e.authTokenProvider_=n)}function WN(e,t,r,n,i){let a=n||e.options.databaseURL;a===void 0&&(e.options.projectId||Xs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pn("Using default host for project ",e.options.projectId),a=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l=av(a,i),u=l.repoInfo,g;typeof process<"u"&&bw&&(g=bw[LN]),g?(a=`http://${g}?ns=${u.namespace}`,l=av(a,i),u=l.repoInfo):l.repoInfo.secure;const p=new Q6(e.name,e.options,t);gN("Invalid Firebase Database URL",l),St(l.path)||Xs("Database URL must point to the root of a Firebase Database (not including a child path).");const m=HN(u,e,p,new Z6(e.name,r));return new zN(m,e)}function VN(e,t){const r=Hg[t];(!r||r[e.key]!==e)&&Xs(`Database ${t}(${e.repoInfo_}) has already been deleted.`),kN(e),delete r[e.key]}function HN(e,t,r,n){let i=Hg[t.name];i||(i={},Hg[t.name]=i);let a=i[e.toURLString()];return a&&Xs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new yN(e,UN,r,n),i[e.toURLString()]=a,a}class zN{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_N(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qs(this._repo,Wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(VN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xs("Cannot call "+t+" on a deleted database.")}}function GN(e=RC(),t){const r=tu(e,"database").getImmediate({identifier:t});if(!r._instanceStarted){const n=cI("database");n&&XN(r,...n)}return r}function XN(e,t,r,n={}){e=Ks(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Xs("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let a;if(i.repoInfo_.nodeAdmin)n.mockUserToken&&Xs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new pf(pf.OWNER);else if(n.mockUserToken){const l=typeof n.mockUserToken=="string"?n.mockUserToken:uI(n.mockUserToken,e.app.options.projectId);a=new pf(l)}jN(i,t,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e){P6(S6),Pa(new zs("database",(t,{instanceIdentifier:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return WN(n,i,a,r)},"PUBLIC").setMultipleInstances(!0)),_s(Iw,Rw,e),_s(Iw,Rw,"esm2017")}Ms.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ms.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};$N();var YN="firebase",KN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(YN,KN,"app");const G3="@firebase/installations",Vx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=1e4,$3=`w:${Vx}`,Y3="FIS_v2",qN="https://firebaseinstallations.googleapis.com/v1",ZN=60*60*1e3,QN="installations",JN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Eo=new Gh(QN,JN,eO);function K3(e){return e instanceof Oo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3({projectId:e}){return`${qN}/projects/${e}/installations`}function Z3(e){return{token:e.token,requestStatus:2,expiresIn:rO(e.expiresIn),creationTime:Date.now()}}async function Q3(e,t){const n=(await t.json()).error;return Eo.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function J3({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function tO(e,{refreshToken:t}){const r=J3(e);return r.append("Authorization",nO(t)),r}async function eA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function rO(e){return Number(e.replace("s","000"))}function nO(e){return`${Y3} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=q3(e),i=J3(e),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:r,authVersion:Y3,appId:e.appId,sdkVersion:$3},u={method:"POST",headers:i,body:JSON.stringify(l)},g=await eA(()=>fetch(n,u));if(g.ok){const p=await g.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:Z3(p.authToken)}}else throw await Q3("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=/^[cdef][\w-]{21}$/,zg="";function oO(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=lO(e);return aO.test(r)?r:zg}catch{return zg}}function lO(e){return sO(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Map;function nA(e,t){const r=nd(e);iA(r,t),cO(r,t)}function iA(e,t){const r=rA.get(e);if(r)for(const n of r)n(t)}function cO(e,t){const r=uO();r&&r.postMessage({key:e,fid:t}),fO()}let ao=null;function uO(){return!ao&&"BroadcastChannel"in self&&(ao=new BroadcastChannel("[Firebase] FID Change"),ao.onmessage=e=>{iA(e.data.key,e.data.fid)}),ao}function fO(){rA.size===0&&ao&&(ao.close(),ao=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="firebase-installations-database",dO=1,Co="firebase-installations-store";let f1=null;function Hx(){return f1||(f1=bC(hO,dO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Co)}}})),f1}async function nh(e,t){const r=nd(e),i=(await Hx()).transaction(Co,"readwrite"),a=i.objectStore(Co),l=await a.get(r);return await a.put(t,r),await i.done,(!l||l.fid!==t.fid)&&nA(e,t.fid),t}async function sA(e){const t=nd(e),n=(await Hx()).transaction(Co,"readwrite");await n.objectStore(Co).delete(t),await n.done}async function id(e,t){const r=nd(e),i=(await Hx()).transaction(Co,"readwrite"),a=i.objectStore(Co),l=await a.get(r),u=t(l);return u===void 0?await a.delete(r):await a.put(u,r),await i.done,u&&(!l||l.fid!==u.fid)&&nA(e,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(e){let t;const r=await id(e.appConfig,n=>{const i=gO(n),a=pO(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===zg?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function gO(e){const t=e||{fid:oO(),registrationStatus:0};return aA(t)}function pO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Eo.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=xO(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:mO(e)}:{installationEntry:t}}async function xO(e,t){try{const r=await iO(e,t);return nh(e.appConfig,r)}catch(r){throw K3(r)&&r.customData.serverCode===409?await sA(e.appConfig):await nh(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function mO(e){let t=await lv(e.appConfig);for(;t.registrationStatus===1;)await tA(100),t=await lv(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await zx(e);return n||r}return t}function lv(e){return id(e,t=>{if(!t)throw Eo.create("installation-not-found");return aA(t)})}function aA(e){return wO(e)?{fid:e.fid,registrationStatus:0}:e}function wO(e){return e.registrationStatus===1&&e.registrationTime+X3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO({appConfig:e,heartbeatServiceProvider:t},r){const n=yO(e,r),i=tO(e,r),a=t.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:$3,appId:e.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},g=await eA(()=>fetch(n,u));if(g.ok){const p=await g.json();return Z3(p)}else throw await Q3("Generate Auth Token",g)}function yO(e,{fid:t}){return`${q3(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(e,t=!1){let r;const n=await id(e.appConfig,a=>{if(!oA(a))throw Eo.create("not-registered");const l=a.authToken;if(!t&&CO(l))return a;if(l.requestStatus===1)return r=_O(e,t),a;{if(!navigator.onLine)throw Eo.create("app-offline");const u=SO(a);return r=EO(e,u),u}});return r?await r:n.authToken}async function _O(e,t){let r=await cv(e.appConfig);for(;r.authToken.requestStatus===1;)await tA(100),r=await cv(e.appConfig);const n=r.authToken;return n.requestStatus===0?Gx(e,t):n}function cv(e){return id(e,t=>{if(!oA(t))throw Eo.create("not-registered");const r=t.authToken;return TO(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function EO(e,t){try{const r=await vO(e,t),n=Object.assign(Object.assign({},t),{authToken:r});return await nh(e.appConfig,n),r}catch(r){if(K3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await sA(e.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await nh(e.appConfig,n)}throw r}}function oA(e){return e!==void 0&&e.registrationStatus===2}function CO(e){return e.requestStatus===2&&!AO(e)}function AO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ZN}function SO(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function TO(e){return e.requestStatus===1&&e.requestTime+X3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(e){const t=e,{installationEntry:r,registrationPromise:n}=await zx(t);return n?n.catch(console.error):Gx(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(e,t=!1){const r=e;return await IO(r),(await Gx(r,t)).token}async function IO(e){const{registrationPromise:t}=await zx(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(e){if(!e||!e.options)throw h1("App Configuration");if(!e.name)throw h1("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw h1(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function h1(e){return Eo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="installations",NO="installations-internal",OO=e=>{const t=e.getProvider("app").getImmediate(),r=RO(t),n=tu(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},DO=e=>{const t=e.getProvider("app").getImmediate(),r=tu(t,lA).getImmediate();return{getId:()=>kO(r),getToken:i=>bO(r,i)}};function FO(){Pa(new zs(lA,OO,"PUBLIC")),Pa(new zs(NO,DO,"PRIVATE"))}FO();_s(G3,Vx);_s(G3,Vx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="analytics",PO="firebase_id",MO="origin",BO=60*1e3,LO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xx="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new sx("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wi=new Gh("analytics","Analytics",UO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(e){if(!e.startsWith(Xx)){const t=wi.create("invalid-gtag-resource",{gtagURL:e});return si.warn(t.message),""}return e}function cA(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function WO(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function VO(e,t){const r=WO("firebase-js-sdk-policy",{createScriptURL:jO}),n=document.createElement("script"),i=`${Xx}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function HO(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function zO(e,t,r,n,i,a){const l=n[i];try{if(l)await t[l];else{const g=(await cA(r)).find(p=>p.measurementId===i);g&&await t[g.appId]}}catch(u){si.error(u)}e("config",i,a)}async function GO(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await cA(r);for(const g of l){const p=u.find(v=>v.measurementId===g),m=p&&t[p.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){si.error(a)}}function XO(e,t,r,n){async function i(a,...l){try{if(a==="event"){const[u,g]=l;await GO(e,t,r,u,g)}else if(a==="config"){const[u,g]=l;await zO(e,t,r,n,u,g)}else if(a==="consent"){const[u,g]=l;e("consent",u,g)}else if(a==="get"){const[u,g,p]=l;e("get",u,g,p)}else if(a==="set"){const[u]=l;e("set",u)}else e(a,...l)}catch(u){si.error(u)}}return i}function $O(e,t,r,n,i){let a=function(...l){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=XO(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function YO(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(Xx)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=30,qO=1e3;class ZO{constructor(t={},r=qO){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const uA=new ZO;function QO(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function JO(e){var t;const{appId:r,apiKey:n}=e,i={method:"GET",headers:QO(n)},a=LO.replace("{app-id}",r),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const g=await l.json();!((t=g.error)===null||t===void 0)&&t.message&&(u=g.error.message)}catch{}throw wi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function e7(e,t=uA,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw wi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw wi.create("no-api-key")}const l=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new n7;return setTimeout(async()=>{u.abort()},BO),fA({appId:n,apiKey:i,measurementId:a},l,u,t)}async function fA(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=uA){var a;const{appId:l,measurementId:u}=e;try{await t7(n,t)}catch(g){if(u)return si.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:l,measurementId:u};throw g}try{const g=await JO(e);return i.deleteThrottleMetadata(l),g}catch(g){const p=g;if(!r7(p)){if(i.deleteThrottleMetadata(l),u)return si.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:u};throw g}const m=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?vw(r,i.intervalMillis,KO):vw(r,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+m,backoffCount:r+1};return i.setThrottleMetadata(l,v),si.debug(`Calling attemptFetch again in ${m} millis`),fA(e,v,n,i)}}function t7(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(wi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function r7(e){if(!(e instanceof Oo)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class n7{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function i7(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,l=Object.assign(Object.assign({},n),{send_to:a});e("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(){if(CC())try{await AC()}catch(e){return si.warn(wi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return si.warn(wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function a7(e,t,r,n,i,a,l){var u;const g=e7(e);g.then(E=>{r[E.measurementId]=E.appId,e.options.measurementId&&E.measurementId!==e.options.measurementId&&si.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>si.error(E)),t.push(g);const p=s7().then(E=>{if(E)return n.getId()}),[m,v]=await Promise.all([g,p]);YO(a)||VO(a,m.measurementId),i("js",new Date);const _=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return _[MO]="firebase",_.update=!0,v!=null&&(_[PO]=v),i("config",m.measurementId,_),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(t){this.app=t}_delete(){return delete Qc[this.app.options.appId],Promise.resolve()}}let Qc={},uv=[];const fv={};let d1="dataLayer",l7="gtag",hv,hA,dv=!1;function c7(){const e=[];if(hI()&&e.push("This is a browser extension environment."),pI()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=wi.create("invalid-analytics-context",{errorInfo:t});si.warn(r.message)}}function u7(e,t,r){c7();const n=e.options.appId;if(!n)throw wi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)si.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wi.create("no-api-key");if(Qc[n]!=null)throw wi.create("already-exists",{id:n});if(!dv){HO(d1);const{wrappedGtag:a,gtagCore:l}=$O(Qc,uv,fv,d1,l7);hA=a,hv=l,dv=!0}return Qc[n]=a7(e,uv,fv,t,hv,d1,r),new o7(e)}function f7(e=RC()){e=Ks(e);const t=tu(e,ih);return t.isInitialized()?t.getImmediate():h7(e)}function h7(e,t={}){const r=tu(e,ih);if(r.isInitialized()){const i=r.getImmediate();if(Hf(t,r.getOptions()))return i;throw wi.create("already-initialized")}return r.initialize({options:t})}function d7(e,t,r,n){e=Ks(e),i7(hA,Qc[e.app.options.appId],t,r,n).catch(i=>si.error(i))}const gv="@firebase/analytics",pv="0.10.8";function g7(){Pa(new zs(ih,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return u7(n,i,r)},"PUBLIC")),Pa(new zs("analytics-internal",e,"PRIVATE")),_s(gv,pv),_s(gv,pv,"esm2017");function e(t){try{const r=t.getProvider(ih).getImmediate();return{logEvent:(n,i,a)=>d7(r,n,i,a)}}catch(r){throw wi.create("interop-component-reg-failed",{reason:r})}}}g7();const p7={apiKey:"AIzaSyBVLs9aP79sEfYy9EjtUan6J5jOX21AoNU",authDomain:"iqos-d3074.firebaseapp.com",databaseURL:"https://iqos-d3074-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"iqos-d3074",storageBucket:"iqos-d3074.firebasestorage.app",messagingSenderId:"928334092425",appId:"1:928334092425:web:3b6d5898ab46d835854e58",measurementId:"G-JN7DT8HRGN"},dA=IC(p7);f7(dA);const Ft=GN(dA),Jr={createProduct:async e=>{try{const t=Dt(Ft,"products"),r=dl(t),n=e.useBarcode!==!1,i={id:r.key,...e,stock:n?0:e.stock,createdAt:Date.now(),updatedAt:Date.now()};if(await di(r,i),n){const a=Dt(Ft,`productUnits/${r.key}`);await di(a,{})}return i}catch(t){throw new Error(`Error creating product: ${t.message}`)}},getUnitsWithBarcodeCount:async e=>{try{const t=Dt(Ft,`productUnits/${e}`),r=await Qr(t);return r.exists()?Object.values(r.val()).filter(i=>i.barcode).length:0}catch(t){throw new Error(`Error getting units count: ${t.message}`)}},getReadyStock:async e=>{try{const t=Dt(Ft,`products/${e}`),r=await Qr(t);if(!r.exists())return 0;const n=r.val();if(n.useBarcode===!1)return n.stock||0;const i=Dt(Ft,`productUnits/${e}`),a=await Qr(i);return a.exists()?Object.values(a.val()).filter(u=>u.barcode&&u.status==="in_stock").length:0}catch(t){throw new Error(`Error getting ready stock: ${t.message}`)}},updateProductStockFromUnits:async e=>{try{const t=Dt(Ft,`productUnits/${e}`),r=await Qr(t);let n=0;r.exists()&&(n=Object.values(r.val()).filter(l=>l&&l.status==="in_stock").length);const i=Dt(Ft,`products/${e}`);return await Zo(i,{stock:n,updatedAt:Date.now()}),n}catch(t){throw new Error(`Error updating product stock: ${t.message}`)}},getAllProducts:async()=>{try{const e=Dt(Ft,"products"),t=await Qr(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching products: ${e.message}`)}},getProductById:async e=>{try{const t=Dt(Ft,`products/${e}`),r=await Qr(t);return r.exists()?r.val():null}catch(t){throw new Error(`Error fetching product: ${t.message}`)}},getProductByBarcode:async e=>{try{const t=Dt(Ft,"products"),r=await Qr(t);if(r.exists()){const n=Object.values(r.val());for(const i of n){const a=Dt(Ft,`productUnits/${i.id}`),l=await Qr(a);if(l.exists()){const g=Object.values(l.val()).find(p=>p.barcode===e);if(g)return{...i,matchedUnitId:g.unitId}}}}return null}catch(t){throw new Error(`Error fetching product by barcode: ${t.message}`)}},addBarcodeToProduct:async(e,t)=>{try{if(!t)throw new Error("Barcode is required");const r=Dt(Ft,`products/${e}`),n=await Qr(r);if(!n.exists())throw new Error("Product not found");if(n.val().useBarcode===!1)throw new Error("Product tidak menggunakan barcode");const a=await Qr(Dt(Ft,"productUnits"));if(a.exists()){const p=Object.values(a.val());for(const m of p)if(Object.values(m||{}).some(_=>_&&_.barcode===t))throw new Error("Barcode sudah dipakai unit lain")}const l=Dt(Ft,`productUnits/${e}`),u=await Qr(l);let g;if(u.exists()){const p=u.val(),m=Object.values(p).find(v=>v&&!v.barcode&&v.status==="in_stock");m&&(g=Dt(Ft,`productUnits/${e}/${m.unitId}`))}if(!g){const p=dl(l);await di(p,{unitId:p.key,productId:e,barcode:null,status:"in_stock",createdAt:Date.now()}),g=p}return await Zo(g,{barcode:t,updatedAt:Date.now()}),await Jr.updateProductStockFromUnits(e),!0}catch(r){throw new Error(`Error adding barcode: ${r.message}`)}},updateProduct:async(e,t)=>{try{const r=Dt(Ft,`products/${e}`),n={...t,updatedAt:Date.now()};return await Zo(r,n),!0}catch(r){throw new Error(`Error updating product: ${r.message}`)}},deleteProduct:async e=>{try{const t=Dt(Ft,`products/${e}`);return await BN(t),!0}catch(t){throw new Error(`Error deleting product: ${t.message}`)}},updateStock:async(e,t,r,n)=>{try{const i=Dt(Ft,`products/${e}`),a=await Qr(i);if(!a.exists())throw new Error("Product not found");const l=a.val(),u=l.stock+t;if(u<0)throw new Error("Insufficient stock");await Zo(i,{stock:u,updatedAt:Date.now()});const g=Dt(Ft,"stockMovements"),p=dl(g),m={id:p.key,productId:e,productName:l.name,type:t>0?"in":"out",quantity:Math.abs(t),reason:r,referenceId:n,createdAt:Date.now()};return await di(p,m),!0}catch(i){throw new Error(`Error updating stock: ${i.message}`)}},updateStockAndMarkUnitsSold:async(e,t,r)=>{try{const n=Dt(Ft,`products/${e}`),i=await Qr(n);if(!i.exists())throw new Error("Product not found");const a=i.val();if(a.useBarcode!==!1){const p=Dt(Ft,`productUnits/${e}`),m=await Qr(p);if(m.exists()){const v=m.val(),_=Object.values(v).filter(A=>A.status==="in_stock");if(_.length<t)throw new Error(`Insufficient units available. Available: ${_.length}, Requested: ${t}`);let E=0;for(const[A,C]of Object.entries(v))C.status==="in_stock"&&E<t&&(await Zo(Dt(Ft,`productUnits/${e}/${A}`),{status:"sold",soldAt:Date.now(),saleId:r,updatedAt:Date.now()}),E++);await Jr.updateProductStockFromUnits(e)}}else{const p=a.stock-t;if(p<0)throw new Error("Insufficient stock");await Zo(n,{stock:p,updatedAt:Date.now()})}const l=Dt(Ft,"stockMovements"),u=dl(l),g={id:u.key,productId:e,productName:a.name,type:"out",quantity:t,reason:"sale",referenceId:r,createdAt:Date.now()};return await di(u,g),!0}catch(n){throw new Error(`Error updating stock: ${n.message}`)}}},gA={createSale:async e=>{try{const t=Dt(Ft,"sales"),r=dl(t),n={id:r.key,...e,createdAt:Date.now(),status:"completed"};await di(r,n);for(const i of e.items)await Jr.updateStockAndMarkUnitsSold(i.productId,i.quantity,r.key);return n}catch(t){throw new Error(`Error creating sale: ${t.message}`)}},getAllSales:async()=>{try{const e=Dt(Ft,"sales"),t=await Qr(e);return t.exists()?Object.values(t.val()):[]}catch(e){throw new Error(`Error fetching sales: ${e.message}`)}},getSaleById:async e=>{try{const t=Dt(Ft,`sales/${e}`),r=await Qr(t);return r.exists()?r.val():null}catch(t){throw new Error(`Error fetching sale: ${t.message}`)}}};var $e;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($e||($e={}));var xv=new Map([[$e.QR_CODE,"QR_CODE"],[$e.AZTEC,"AZTEC"],[$e.CODABAR,"CODABAR"],[$e.CODE_39,"CODE_39"],[$e.CODE_93,"CODE_93"],[$e.CODE_128,"CODE_128"],[$e.DATA_MATRIX,"DATA_MATRIX"],[$e.MAXICODE,"MAXICODE"],[$e.ITF,"ITF"],[$e.EAN_13,"EAN_13"],[$e.EAN_8,"EAN_8"],[$e.PDF_417,"PDF_417"],[$e.RSS_14,"RSS_14"],[$e.RSS_EXPANDED,"RSS_EXPANDED"],[$e.UPC_A,"UPC_A"],[$e.UPC_E,"UPC_E"],[$e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),mv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(mv||(mv={}));function x7(e){return Object.values($e).includes(e)}var sh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(sh||(sh={}));var m7=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[sh.SCAN_TYPE_CAMERA,sh.SCAN_TYPE_FILE],e}(),pA=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!xv.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,xv.get(t))},e}(),wv=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Gg;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gg||(Gg={}));var w7=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Gg.UNKWOWN_ERROR}},e}(),v7=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function bs(e){return typeof e>"u"||e===null}var gl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),xA=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),l=Object.keys(t),u=0,g=l;u<g.length;u++){var p=g[u];if(a.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),Xg={exports:{}};(function(e,t){(function(r,n){n(t)})(pc,function(r){function n(R){return R==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,s){R.__proto__=s}||function(R,s){for(var o in s)s.hasOwnProperty(o)&&(R[o]=s[o])};function a(R,s){i(R,s);function o(){this.constructor=R}R.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function l(R,s){var o=Object.setPrototypeOf;o?o(R,s):R.__proto__=s}function u(R,s){s===void 0&&(s=R.constructor);var o=Error.captureStackTrace;o&&o(R,s)}var g=function(R){a(s,R);function s(o){var c=this.constructor,f=R.call(this,o)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),l(f,c.prototype),u(f),f}return s}(Error);class p extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class m extends p{}m.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class _{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,f){const h=this.binarizer.getLuminanceSource().crop(s,o,c,f);return new _(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends p{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(s,o,c,f,h){for(;h--;)c[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class I extends p{}I.kind="IndexOutOfBoundsException";class b extends I{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}b.kind="ArrayIndexOutOfBoundsException";class k{static fill(s,o){for(let c=0,f=s.length;c<f;c++)s[c]=o}static fillWithin(s,o,c,f){k.rangeCheck(s.length,o,c);for(let h=o;h<c;h++)s[h]=f}static rangeCheck(s,o,c){if(o>c)throw new v("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new b(o);if(c>s)throw new b(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(h=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(h=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const f=c-o,h=new Int32Array(f);return C.arraycopy(s,o,h,0,f),h}static binarySearch(s,o,c){c===void 0&&(c=k.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const d=h+f>>1,x=c(o,s[d]);if(x>0)f=d+1;else if(x<0)h=d-1;else return d}return-f-1}static numberComparator(s,o){return s-o}}class S{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=L.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=L.makeArray(s);C.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=c[f];h&=~((1<<(s&31))-1);const d=c.length;for(;h===0;){if(++f===d)return o;h=c[f]}const x=f*32+S.numberOfTrailingZeros(h);return x>o?o:x}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=~c[f];h&=~((1<<(s&31))-1);const d=c.length;for(;h===0;){if(++f===d)return o;h=~c[f]}const x=f*32+S.numberOfTrailingZeros(h);return x>o?o:x}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new v;if(o===s)return;o--;const c=Math.floor(s/32),f=Math.floor(o/32),h=this.bits;for(let d=c;d<=f;d++){const x=d>c?0:s&31,y=(2<<(d<f?31:o&31))-(1<<x);h[d]|=y}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new v;if(o===s)return!0;o--;const f=Math.floor(s/32),h=Math.floor(o/32),d=this.bits;for(let x=f;x<=h;x++){const w=x>f?0:s&31,T=(2<<(x<h?31:o&31))-(1<<w)&4294967295;if((d[x]&T)!==(c?T:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const o=this.bits;for(let c=0,f=o.length;c<f;c++)o[c]^=s.bits[c]}toBytes(s,o,c,f){for(let h=0;h<f;h++){let d=0;for(let x=0;x<8;x++)this.get(s)&&(d|=1<<7-x),s++;o[c+h]=d}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,f=this.bits;for(let h=0;h<c;h++){let d=f[h];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,s[o-h]=d}if(this.size!==c*32){const h=c*32-this.size;let d=s[0]>>>h;for(let x=1;x<c;x++){const w=s[x];d|=w<<32-h,s[x-1]=d,d=w>>>h}s[c-1]=d}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof L))return!1;const o=s;return this.size===o.size&&k.equals(this.bits,o.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new L(this.size,this.bits.slice())}}var q;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(q||(q={}));var G=q;class D extends p{static getFormatInstance(){return new D}}D.kind="FormatException";var Z;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class j{constructor(s,o,c,...f){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,j.VALUE_IDENTIFIER_TO_ECI.set(s,this),j.NAME_TO_ECI.set(c,this);const h=this.values;for(let d=0,x=h.length;d!==x;d++){const w=h[d];j.VALUES_TO_ECI.set(w,this)}for(const d of f)j.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new D("incorect value");const o=j.VALUES_TO_ECI.get(s);if(o===void 0)throw new D("incorect value");return o}static getCharacterSetECIByName(s){const o=j.NAME_TO_ECI.get(s);if(o===void 0)throw new D("incorect value");return o}equals(s){if(!(s instanceof j))return!1;const o=s;return this.getName()===o.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(Z.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(Z.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(Z.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(Z.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(Z.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(Z.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(Z.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(Z.Big5,28,"Big5"),j.GB18030=new j(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(Z.EUC_KR,30,"EUC_KR","EUC-KR");class oe extends p{}oe.kind="UnsupportedOperationException";class le{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!le.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof j?s:j.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(le.isDecodeFallbackSupported(c)){let f="";for(let h=0,d=s.length;h<d;h++){let x=s[h].toString(16);x.length<2&&(x="0"+x),f+="%"+x}return decodeURIComponent(f)}if(c.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new oe(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(j.UTF8)||s.equals(j.ISO8859_1)||s.equals(j.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<c.length;h++)f.push(c[h].charCodeAt(0));return new Uint8Array(f)}}class Q{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return le.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(G.CHARACTER_SET)!==void 0)return o.get(G.CHARACTER_SET).toString();const c=s.length;let f=!0,h=!0,d=!0,x=0,w=0,y=0,T=0,O=0,P=0,z=0,J=0,re=0,fe=0,me=0;const Pe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let Ue=0;Ue<c&&(f||h||d);Ue++){const be=s[Ue]&255;d&&(x>0?be&128?x--:d=!1:be&128&&(be&64?(x++,be&32?(x++,be&16?(x++,be&8?d=!1:T++):y++):w++):d=!1)),f&&(be>127&&be<160?f=!1:be>159&&(be<192||be===215||be===247)&&me++),h&&(O>0?be<64||be===127||be>252?h=!1:O--:be===128||be===160||be>239?h=!1:be>160&&be<224?(P++,J=0,z++,z>re&&(re=z)):be>127?(O++,z=0,J++,J>fe&&(fe=J)):(z=0,J=0))}return d&&x>0&&(d=!1),h&&O>0&&(h=!1),d&&(Pe||w+y+T>0)?Q.UTF8:h&&(Q.ASSUME_SHIFT_JIS||re>=3||fe>=3)?Q.SHIFT_JIS:f&&h?re===2&&P===2||me*10>=c?Q.SHIFT_JIS:Q.ISO88591:f?Q.ISO88591:h?Q.SHIFT_JIS:d?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function f(d,x,w,y,T,O){if(d==="%%")return"%";if(o[++c]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let P=T?parseInt(T.substr(1)):void 0,z;switch(O){case"s":z=o[c];break;case"c":z=o[c][0];break;case"f":z=parseFloat(o[c]).toFixed(d);break;case"p":z=parseFloat(o[c]).toPrecision(d);break;case"e":z=parseFloat(o[c]).toExponential(d);break;case"x":z=parseInt(o[c]).toString(P||16);break;case"d":z=parseFloat(parseInt(o[c],P||10).toPrecision(d)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(P);let J=parseInt(w),re=w&&w[0]+""=="0"?"0":" ";for(;z.length<J;)z=x!==void 0?z+re:re+z;return z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,o){return le.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}Q.SHIFT_JIS=j.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=j.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=j.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class ye{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let f=o;o<o+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class Se{constructor(s,o,c,f){if(this.width=s,this.height=o,this.rowSize=c,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new v("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,f=new Se(c,o);for(let h=0;h<o;h++){const d=s[h];for(let x=0;x<c;x++)d[x]&&f.set(x,h)}return f}static parseFromString(s,o,c){if(s===null)throw new v("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,d=0,x=-1,w=0,y=0;for(;y<s.length;)if(s.charAt(y)===`
`||s.charAt(y)==="\r"){if(h>d){if(x===-1)x=h-d;else if(h-d!==x)throw new v("row lengths do not match");d=h,w++}y++}else if(s.substring(y,y+o.length)===o)y+=o.length,f[h]=!0,h++;else if(s.substring(y,y+c.length)===c)y+=c.length,f[h]=!1,h++;else throw new v("illegal character encountered: "+s.substring(y));if(h>d){if(x===-1)x=h-d;else if(h-d!==x)throw new v("row lengths do not match");w++}const T=new Se(x,w);for(let O=0;O<h;O++)f[O]&&T.set(Math.floor(O%x),Math.floor(O/x));return T}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const o=new L(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let h=0,d=this.height;h<d;h++){const x=h*c,w=s.getRow(h,o).getBitArray();for(let y=0;y<c;y++)f[x+y]^=w[y]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,f){if(o<0||s<0)throw new v("Left and top must be nonnegative");if(f<1||c<1)throw new v("Height and width must be at least 1");const h=s+c,d=o+f;if(d>this.height||h>this.width)throw new v("The region must fit inside the matrix");const x=this.rowSize,w=this.bits;for(let y=o;y<d;y++){const T=y*x;for(let O=s;O<h;O++)w[T+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new L(this.width):o.clear();const c=this.rowSize,f=this.bits,h=s*c;for(let d=0;d<c;d++)o.setBulk(d*32,f[h+d]);return o}setRow(s,o){C.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new L(s),f=new L(s);for(let h=0,d=Math.floor((o+1)/2);h<d;h++)c=this.getRow(h,c),f=this.getRow(o-1-h,f),c.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,f=this.bits;let h=s,d=o,x=-1,w=-1;for(let y=0;y<o;y++)for(let T=0;T<c;T++){const O=f[y*c+T];if(O!==0){if(y<d&&(d=y),y>w&&(w=y),T*32<h){let P=0;for(;!(O<<31-P&4294967295);)P++;T*32+P<h&&(h=T*32+P)}if(T*32+31>x){let P=31;for(;!(O>>>P);)P--;T*32+P>x&&(x=T*32+P)}}}return x<h||w<d?null:Int32Array.from([h,d,x-h+1,w-d+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const f=c/s;let h=c%s*32;const d=o[c];let x=0;for(;!(d<<31-x&4294967295);)x++;return h+=x,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let h=Math.floor(c%s)*32;const d=o[c];let x=31;for(;!(d>>>x);)x--;return h+=x,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Se))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&k.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+k.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let f=new ye;for(let h=0,d=this.height;h<d;h++){for(let x=0,w=this.width;x<w;x++)f.append(this.get(x,h)?s:o);f.append(c)}return f.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends p{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Be extends A{constructor(s){super(s),this.luminances=Be.EMPTY,this.buckets=new Int32Array(Be.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),f=c.getWidth();o==null||o.getSize()<f?o=new L(f):o.clear(),this.initArrays(f);const h=c.getRow(s,this.luminances),d=this.buckets;for(let w=0;w<f;w++)d[(h[w]&255)>>Be.LUMINANCE_SHIFT]++;const x=Be.estimateBlackPoint(d);if(f<3)for(let w=0;w<f;w++)(h[w]&255)<x&&o.set(w);else{let w=h[0]&255,y=h[1]&255;for(let T=1;T<f-1;T++){const O=h[T+1]&255;(y*4-w-O)/2<x&&o.set(T),w=y,y=O}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),f=new Se(o,c);this.initArrays(o);const h=this.buckets;for(let w=1;w<5;w++){const y=Math.floor(c*w/5),T=s.getRow(y,this.luminances),O=Math.floor(o*4/5);for(let P=Math.floor(o/5);P<O;P++){const z=T[P]&255;h[z>>Be.LUMINANCE_SHIFT]++}}const d=Be.estimateBlackPoint(h),x=s.getMatrix();for(let w=0;w<c;w++){const y=w*o;for(let T=0;T<o;T++)(x[y+T]&255)<d&&f.set(T,w)}return f}createBinarizer(s){return new Be(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<Be.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,f=0,h=0;for(let T=0;T<o;T++)s[T]>h&&(f=T,h=s[T]),s[T]>c&&(c=s[T]);let d=0,x=0;for(let T=0;T<o;T++){const O=T-f,P=s[T]*O*O;P>x&&(d=T,x=P)}if(f>d){const T=f;f=d,d=T}if(d-f<=o/16)throw new ee;let w=d-1,y=-1;for(let T=d-1;T>f;T--){const O=T-f,P=O*O*(d-T)*(c-s[T]);P>y&&(w=T,y=P)}return w<<Be.LUMINANCE_SHIFT}}Be.LUMINANCE_BITS=5,Be.LUMINANCE_SHIFT=8-Be.LUMINANCE_BITS,Be.LUMINANCE_BUCKETS=1<<Be.LUMINANCE_BITS,Be.EMPTY=Uint8ClampedArray.from([0]);class Ce extends Be{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=Ce.MINIMUM_DIMENSION&&c>=Ce.MINIMUM_DIMENSION){const f=s.getMatrix();let h=o>>Ce.BLOCK_SIZE_POWER;o&Ce.BLOCK_SIZE_MASK&&h++;let d=c>>Ce.BLOCK_SIZE_POWER;c&Ce.BLOCK_SIZE_MASK&&d++;const x=Ce.calculateBlackPoints(f,h,d,o,c),w=new Se(o,c);Ce.calculateThresholdForBlock(f,h,d,o,c,x,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Ce(s)}static calculateThresholdForBlock(s,o,c,f,h,d,x){const w=h-Ce.BLOCK_SIZE,y=f-Ce.BLOCK_SIZE;for(let T=0;T<c;T++){let O=T<<Ce.BLOCK_SIZE_POWER;O>w&&(O=w);const P=Ce.cap(T,2,c-3);for(let z=0;z<o;z++){let J=z<<Ce.BLOCK_SIZE_POWER;J>y&&(J=y);const re=Ce.cap(z,2,o-3);let fe=0;for(let Pe=-2;Pe<=2;Pe++){const Ue=d[P+Pe];fe+=Ue[re-2]+Ue[re-1]+Ue[re]+Ue[re+1]+Ue[re+2]}const me=fe/25;Ce.thresholdBlock(s,J,O,me,f,x)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,f,h,d){for(let x=0,w=c*h+o;x<Ce.BLOCK_SIZE;x++,w+=h)for(let y=0;y<Ce.BLOCK_SIZE;y++)(s[w+y]&255)<=f&&d.set(o+y,c+x)}static calculateBlackPoints(s,o,c,f,h){const d=h-Ce.BLOCK_SIZE,x=f-Ce.BLOCK_SIZE,w=new Array(c);for(let y=0;y<c;y++){w[y]=new Int32Array(o);let T=y<<Ce.BLOCK_SIZE_POWER;T>d&&(T=d);for(let O=0;O<o;O++){let P=O<<Ce.BLOCK_SIZE_POWER;P>x&&(P=x);let z=0,J=255,re=0;for(let me=0,Pe=T*f+P;me<Ce.BLOCK_SIZE;me++,Pe+=f){for(let Ue=0;Ue<Ce.BLOCK_SIZE;Ue++){const be=s[Pe+Ue]&255;z+=be,be<J&&(J=be),be>re&&(re=be)}if(re-J>Ce.MIN_DYNAMIC_RANGE)for(me++,Pe+=f;me<Ce.BLOCK_SIZE;me++,Pe+=f)for(let Ue=0;Ue<Ce.BLOCK_SIZE;Ue++)z+=s[Pe+Ue]&255}let fe=z>>Ce.BLOCK_SIZE_POWER*2;if(re-J<=Ce.MIN_DYNAMIC_RANGE&&(fe=J/2,y>0&&O>0)){const me=(w[y-1][O]+2*w[y][O-1]+w[y-1][O-1])/4;J<me&&(fe=me)}w[y][O]=fe}}return w}}Ce.BLOCK_SIZE_POWER=3,Ce.BLOCK_SIZE=1<<Ce.BLOCK_SIZE_POWER,Ce.BLOCK_SIZE_MASK=Ce.BLOCK_SIZE-1,Ce.MINIMUM_DIMENSION=Ce.BLOCK_SIZE*5,Ce.MIN_DYNAMIC_RANGE=24;class Ae{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,f){throw new oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new oe("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new ye;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let h=0;h<this.width;h++){const d=f[h]&255;let x;d<64?x="#":d<128?x="+":d<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class ne extends Ae{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),f=this.getWidth();for(let h=0;h<f;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let f=0;f<o;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,f){return new ne(this.delegate.crop(s,o,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ne(this.delegate.rotateCounterClockwise45())}}class ke extends Ae{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=ke.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return ke.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const f=new Uint8ClampedArray(o*c);for(let h=0,d=0,x=s.length;h<x;h+=4,d++){let w;if(s[h+3]===0)w=255;else{const T=s[h],O=s[h+1],P=s[h+2];w=306*T+601*O+117*P+512>>10}f[d]=w}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return o===null?o=this.buffer.slice(f,f+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(f,f+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,f){return super.crop(s,o,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),f=s*ke.DEGREE_TO_RADIANS,h=this.canvas.width,d=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*d),w=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*d);return o.width=x,o.height=w,c.translate(x/2,w/2),c.rotate(f),c.drawImage(this.canvas,h/-2,d/-2),this.buffer=ke.makeBufferFromCanvasImageData(o),this}invert(){return new ne(this)}}ke.DEGREE_TO_RADIANS=Math.PI/180;class ce{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var B=(globalThis||pc||self||window||void 0)&&(globalThis||pc||self||window||void 0).__awaiter||function(R,s,o,c){function f(h){return h instanceof o?h:new o(function(d){d(h)})}return new(o||(o=Promise))(function(h,d){function x(T){try{y(c.next(T))}catch(O){d(O)}}function w(T){try{y(c.throw(T))}catch(O){d(O)}}function y(T){T.done?h(T.value):f(T.value).then(x,w)}y((c=c.apply(R,s||[])).next())})};class se{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return B(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const h=c.deviceId||c.id,d=c.label||`Video device ${o.length+1}`,x=c.groupId,w={deviceId:h,label:d,kind:f,groupId:x};o.push(w)}return o})}getVideoInputDevices(){return B(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new ce(o.deviceId,o.label))})}findDeviceById(s){return B(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return B(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return B(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return B(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return B(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return B(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return B(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,c)})}decodeFromConstraints(s,o,c){return B(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,c)})}decodeFromStream(s,o,c){return B(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return B(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return B(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new m(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new m(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new m("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new m("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new m("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new m("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new m("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new m("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,o);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return B(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return B(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const f=(h,d)=>{if(this._stopAsyncDecode){d(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);h(x)}catch(x){const w=o&&x instanceof ee,T=(x instanceof E||x instanceof D)&&c;if(w||T)return setTimeout(f,this._timeBetweenDecodingAttempts,h,d);d(x)}};return new Promise((h,d)=>f(h,d))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof E||f instanceof D,d=f instanceof ee;(h||d)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new ke(o),f=new Ce(c);return new _(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=f+"px",o.width=c,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class K{constructor(s,o,c=o==null?0:8*o.length,f,h,d=C.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=f,this.format=h,this.timestamp=d,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=f,this.format=h,this.resultMetadata=null,d==null?this.timestamp=C.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);C.arraycopy(o,0,c,0,o.length),C.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var te;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(te||(te={}));var ae=te,Oe;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Oe||(Oe={}));var We=Oe;class je{constructor(s,o,c,f,h=-1,d=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=d,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Re{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class et{constructor(s,o){if(o.length===0)throw new v;this.field=s;const c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let d=0,x=o.length;d!==x;d++){const w=o[d];c=Re.addOrSubtract(c,w)}return c}c=o[0];const f=o.length,h=this.field;for(let d=1;d<f;d++)c=Re.addOrSubtract(h.multiply(s,c),o[d]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const d=o;o=c,c=d}let f=new Int32Array(c.length);const h=c.length-o.length;C.arraycopy(c,0,f,0,h);for(let d=h;d<c.length;d++)f[d]=Re.addOrSubtract(o[d-h],c[d]);return new et(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,d=new Int32Array(c+h-1),x=this.field;for(let w=0;w<c;w++){const y=o[w];for(let T=0;T<h;T++)d[w+T]=Re.addOrSubtract(d[w+T],x.multiply(y,f[T]))}return new et(x,d)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,f=new Int32Array(o),h=this.coefficients;for(let d=0;d<o;d++)f[d]=c.multiply(h[d],s);return new et(c,f)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return this.field.getZero();const c=this.coefficients,f=c.length,h=new Int32Array(f+s),d=this.field;for(let x=0;x<f;x++)h[x]=d.multiply(c[x],o);return new et(d,h)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const o=this.field;let c=o.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),d=o.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const x=f.getDegree()-s.getDegree(),w=o.multiply(f.getCoefficient(f.getDegree()),d),y=s.multiplyByMonomial(x,w),T=o.buildMonomial(x,w);c=c.addOrSubtract(T),f=f.addOrSubtract(y)}return[c,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Y extends p{}Y.kind="ArithmeticException";class Ze extends Re{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const f=new Int32Array(o);let h=1;for(let x=0;x<o;x++)f[x]=h,h*=2,h>=o&&(h^=s,h&=o-1);this.expTable=f;const d=new Int32Array(o);for(let x=0;x<o-1;x++)d[f[x]]=x;this.logTable=d,this.zero=new et(this,Int32Array.from([0])),this.one=new et(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new et(this,c)}inverse(s){if(s===0)throw new Y;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ze.AZTEC_DATA_12=new Ze(4201,4096,1),Ze.AZTEC_DATA_10=new Ze(1033,1024,1),Ze.AZTEC_DATA_6=new Ze(67,64,1),Ze.AZTEC_PARAM=new Ze(19,16,1),Ze.QR_CODE_FIELD_256=new Ze(285,256,0),Ze.DATA_MATRIX_FIELD_256=new Ze(301,256,1),Ze.AZTEC_DATA_8=Ze.DATA_MATRIX_FIELD_256,Ze.MAXICODE_FIELD_64=Ze.AZTEC_DATA_6;class ct extends p{}ct.kind="ReedSolomonException";class ht extends p{}ht.kind="IllegalStateException";class qe{constructor(s){this.field=s}decode(s,o){const c=this.field,f=new et(c,s),h=new Int32Array(o);let d=!0;for(let z=0;z<o;z++){const J=f.evaluateAt(c.exp(z+c.getGeneratorBase()));h[h.length-1-z]=J,J!==0&&(d=!1)}if(d)return;const x=new et(c,h),w=this.runEuclideanAlgorithm(c.buildMonomial(o,1),x,o),y=w[0],T=w[1],O=this.findErrorLocations(y),P=this.findErrorMagnitudes(T,O);for(let z=0;z<O.length;z++){const J=s.length-1-c.log(O[z]);if(J<0)throw new ct("Bad error location");s[J]=Ze.addOrSubtract(s[J],P[z])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const z=s;s=o,o=z}const f=this.field;let h=s,d=o,x=f.getZero(),w=f.getOne();for(;d.getDegree()>=(c/2|0);){let z=h,J=x;if(h=d,x=w,h.isZero())throw new ct("r_{i-1} was zero");d=z;let re=f.getZero();const fe=h.getCoefficient(h.getDegree()),me=f.inverse(fe);for(;d.getDegree()>=h.getDegree()&&!d.isZero();){const Pe=d.getDegree()-h.getDegree(),Ue=f.multiply(d.getCoefficient(d.getDegree()),me);re=re.addOrSubtract(f.buildMonomial(Pe,Ue)),d=d.addOrSubtract(h.multiplyByMonomial(Pe,Ue))}if(w=re.multiply(x).addOrSubtract(J),d.getDegree()>=h.getDegree())throw new ht("Division algorithm failed to reduce polynomial?")}const y=w.getCoefficient(0);if(y===0)throw new ct("sigmaTilde(0) was zero");const T=f.inverse(y),O=w.multiplyScalar(T),P=d.multiplyScalar(T);return[O,P]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let f=0;const h=this.field;for(let d=1;d<h.getSize()&&f<o;d++)s.evaluateAt(d)===0&&(c[f]=h.inverse(d),f++);if(f!==o)throw new ct("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,f=new Int32Array(c),h=this.field;for(let d=0;d<c;d++){const x=h.inverse(o[d]);let w=1;for(let y=0;y<c;y++)if(d!==y){const T=h.multiply(o[y],x),O=T&1?T&-2:T|1;w=h.multiply(w,O)}f[d]=h.multiply(s.evaluateAt(x),h.inverse(w)),h.getGeneratorBase()!==0&&(f[d]=h.multiply(f[d],x))}return f}}var Ie;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(Ie||(Ie={}));class tt{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),f=this.correctBits(c),h=tt.convertBoolArrayToByteArray(f),d=tt.getEncodedData(f),x=new je(h,d,null,null);return x.setNumBits(f.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=Ie.UPPER,f=Ie.UPPER,h="",d=0;for(;d<o;)if(f===Ie.BINARY){if(o-d<5)break;let x=tt.readCode(s,d,5);if(d+=5,x===0){if(o-d<11)break;x=tt.readCode(s,d,11)+31,d+=11}for(let w=0;w<x;w++){if(o-d<8){d=o;break}const y=tt.readCode(s,d,8);h+=Q.castAsNonUtf8Char(y),d+=8}f=c}else{let x=f===Ie.DIGIT?4:5;if(o-d<x)break;let w=tt.readCode(s,d,x);d+=x;let y=tt.getCharacter(f,w);y.startsWith("CTRL_")?(c=f,f=tt.getTable(y.charAt(5)),y.charAt(6)==="L"&&(c=f)):(h+=y,f=c)}return h}static getTable(s){switch(s){case"L":return Ie.LOWER;case"P":return Ie.PUNCT;case"M":return Ie.MIXED;case"D":return Ie.DIGIT;case"B":return Ie.BINARY;case"U":default:return Ie.UPPER}}static getCharacter(s,o){switch(s){case Ie.UPPER:return tt.UPPER_TABLE[o];case Ie.LOWER:return tt.LOWER_TABLE[o];case Ie.MIXED:return tt.MIXED_TABLE[o];case Ie.PUNCT:return tt.PUNCT_TABLE[o];case Ie.DIGIT:return tt.DIGIT_TABLE[o];default:throw new ht("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=Ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=Ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=Ze.AZTEC_DATA_10):(c=12,o=Ze.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/c;if(h<f)throw new D;let d=s.length%c,x=new Int32Array(h);for(let P=0;P<h;P++,d+=c)x[P]=tt.readCode(s,d,c);try{new qe(o).decode(x,h-f)}catch(P){throw new D(P)}let w=(1<<c)-1,y=0;for(let P=0;P<f;P++){let z=x[P];if(z===0||z===w)throw new D;(z===1||z===w-1)&&y++}let T=new Array(f*c-y),O=0;for(let P=0;P<f;P++){let z=x[P];if(z===1||z===w-1)T.fill(z>1,O,O+c-1),O+=c-1;else for(let J=c-1;J>=0;--J)T[O++]=(z&1<<J)!==0}return T}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(o?11:14)+c*4,h=new Int32Array(f),d=new Array(this.totalBitsInLayer(c,o));if(o)for(let x=0;x<h.length;x++)h[x]=x;else{let x=f+1+2*S.truncDivision(S.truncDivision(f,2)-1,15),w=f/2,y=S.truncDivision(x,2);for(let T=0;T<w;T++){let O=T+S.truncDivision(T,15);h[w-T-1]=y-O-1,h[w+T]=y+O+1}}for(let x=0,w=0;x<c;x++){let y=(c-x)*4+(o?9:12),T=x*2,O=f-1-T;for(let P=0;P<y;P++){let z=P*2;for(let J=0;J<2;J++)d[w+z+J]=s.get(h[T+J],h[T+P]),d[w+2*y+z+J]=s.get(h[T+P],h[O-J]),d[w+4*y+z+J]=s.get(h[O-J],h[O-P]),d[w+6*y+z+J]=s.get(h[O-P],h[T+J])}w+=y*8}return d}static readCode(s,o,c){let f=0;for(let h=o;h<o+c;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,o){let c=s.length-o;return c>=8?tt.readCode(s,o,8):tt.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=tt.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}tt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],tt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],tt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],tt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],tt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ye{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,f){const h=s-c,d=o-f;return Math.sqrt(h*h+d*d)}static sum(s){let o=0;for(let c=0,f=s.length;c!==f;c++){const h=s[c];o+=h}return o}}class Fr{static floatToIntBits(s){return s}}Fr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ge{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ge){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Fr.floatToIntBits(this.x)+Fr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,d,x;if(c>=o&&c>=f?(d=s[0],h=s[1],x=s[2]):f>=c&&f>=o?(d=s[1],h=s[0],x=s[2]):(d=s[2],h=s[0],x=s[1]),this.crossProductZ(h,d,x)<0){const w=h;h=x,x=w}s[0]=h,s[1]=d,s[2]=x}static distance(s,o){return Ye.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const f=o.x,h=o.y;return(c.x-f)*(s.y-h)-(c.y-h)*(s.x-f)}}class ln{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class oi extends ln{constructor(s,o,c,f,h){super(s,o),this.compact=c,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qt{constructor(s,o,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=Qt.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=o/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,f=this.downInit,h=!1,d=!0,x=!1,w=!1,y=!1,T=!1,O=!1;const P=this.width,z=this.height;for(;d;){d=!1;let J=!0;for(;(J||!w)&&o<P;)J=this.containsBlackPoint(c,f,o,!1),J?(o++,d=!0,w=!0):w||o++;if(o>=P){h=!0;break}let re=!0;for(;(re||!y)&&f<z;)re=this.containsBlackPoint(s,o,f,!0),re?(f++,d=!0,y=!0):y||f++;if(f>=z){h=!0;break}let fe=!0;for(;(fe||!T)&&s>=0;)fe=this.containsBlackPoint(c,f,s,!1),fe?(s--,d=!0,T=!0):T||s--;if(s<0){h=!0;break}let me=!0;for(;(me||!O)&&c>=0;)me=this.containsBlackPoint(s,o,c,!0),me?(c--,d=!0,O=!0):O||c--;if(c<0){h=!0;break}d&&(x=!0)}if(!h&&x){const J=o-s;let re=null;for(let Ue=1;re===null&&Ue<J;Ue++)re=this.getBlackPointOnSegment(s,f-Ue,s+Ue,f);if(re==null)throw new ee;let fe=null;for(let Ue=1;fe===null&&Ue<J;Ue++)fe=this.getBlackPointOnSegment(s,c+Ue,s+Ue,c);if(fe==null)throw new ee;let me=null;for(let Ue=1;me===null&&Ue<J;Ue++)me=this.getBlackPointOnSegment(o,c+Ue,o-Ue,c);if(me==null)throw new ee;let Pe=null;for(let Ue=1;Pe===null&&Ue<J;Ue++)Pe=this.getBlackPointOnSegment(o,f-Ue,o-Ue,f);if(Pe==null)throw new ee;return this.centerEdges(Pe,re,me,fe)}else throw new ee}getBlackPointOnSegment(s,o,c,f){const h=Ye.round(Ye.distance(s,o,c,f)),d=(c-s)/h,x=(f-o)/h,w=this.image;for(let y=0;y<h;y++){const T=Ye.round(s+y*d),O=Ye.round(o+y*x);if(w.get(T,O))return new Ge(T,O)}return null}centerEdges(s,o,c,f){const h=s.getX(),d=s.getY(),x=o.getX(),w=o.getY(),y=c.getX(),T=c.getY(),O=f.getX(),P=f.getY(),z=Qt.CORR;return h<this.width/2?[new Ge(O-z,P+z),new Ge(x+z,w+z),new Ge(y-z,T-z),new Ge(h+z,d-z)]:[new Ge(O+z,P+z),new Ge(x+z,w-z),new Ge(y-z,T+z),new Ge(h-z,d-z)]}containsBlackPoint(s,o,c,f){const h=this.image;if(f){for(let d=s;d<=o;d++)if(h.get(d,c))return!0}else for(let d=s;d<=o;d++)if(h.get(c,d))return!0;return!1}}Qt.INIT_SIZE=10,Qt.CORR=1;class _n{static checkAndNudgePoints(s,o){const c=s.getWidth(),f=s.getHeight();let h=!0;for(let d=0;d<o.length&&h;d+=2){const x=Math.floor(o[d]),w=Math.floor(o[d+1]);if(x<-1||x>c||w<-1||w>f)throw new ee;h=!1,x===-1?(o[d]=0,h=!0):x===c&&(o[d]=c-1,h=!0),w===-1?(o[d+1]=0,h=!0):w===f&&(o[d+1]=f-1,h=!0)}h=!0;for(let d=o.length-2;d>=0&&h;d-=2){const x=Math.floor(o[d]),w=Math.floor(o[d+1]);if(x<-1||x>c||w<-1||w>f)throw new ee;h=!1,x===-1?(o[d]=0,h=!0):x===c&&(o[d]=c-1,h=!0),w===-1?(o[d+1]=0,h=!0):w===f&&(o[d+1]=f-1,h=!0)}}}class _r{constructor(s,o,c,f,h,d,x,w,y){this.a11=s,this.a21=o,this.a31=c,this.a12=f,this.a22=h,this.a32=d,this.a13=x,this.a23=w,this.a33=y}static quadrilateralToQuadrilateral(s,o,c,f,h,d,x,w,y,T,O,P,z,J,re,fe){const me=_r.quadrilateralToSquare(s,o,c,f,h,d,x,w);return _r.squareToQuadrilateral(y,T,O,P,z,J,re,fe).times(me)}transformPoints(s){const o=s.length,c=this.a11,f=this.a12,h=this.a13,d=this.a21,x=this.a22,w=this.a23,y=this.a31,T=this.a32,O=this.a33;for(let P=0;P<o;P+=2){const z=s[P],J=s[P+1],re=h*z+w*J+O;s[P]=(c*z+d*J+y)/re,s[P+1]=(f*z+x*J+T)/re}}transformPointsWithValues(s,o){const c=this.a11,f=this.a12,h=this.a13,d=this.a21,x=this.a22,w=this.a23,y=this.a31,T=this.a32,O=this.a33,P=s.length;for(let z=0;z<P;z++){const J=s[z],re=o[z],fe=h*J+w*re+O;s[z]=(c*J+d*re+y)/fe,o[z]=(f*J+x*re+T)/fe}}static squareToQuadrilateral(s,o,c,f,h,d,x,w){const y=s-c+h-x,T=o-f+d-w;if(y===0&&T===0)return new _r(c-s,h-c,s,f-o,d-f,o,0,0,1);{const O=c-h,P=x-h,z=f-d,J=w-d,re=O*J-P*z,fe=(y*J-P*T)/re,me=(O*T-y*z)/re;return new _r(c-s+fe*c,x-s+me*x,s,f-o+fe*f,w-o+me*w,o,fe,me,1)}}static quadrilateralToSquare(s,o,c,f,h,d,x,w){return _r.squareToQuadrilateral(s,o,c,f,h,d,x,w).buildAdjoint()}buildAdjoint(){return new _r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new _r(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class zi extends _n{sampleGrid(s,o,c,f,h,d,x,w,y,T,O,P,z,J,re,fe,me,Pe,Ue){const be=_r.quadrilateralToQuadrilateral(f,h,d,x,w,y,T,O,P,z,J,re,fe,me,Pe,Ue);return this.sampleGridWithTransform(s,o,c,be)}sampleGridWithTransform(s,o,c,f){if(o<=0||c<=0)throw new ee;const h=new Se(o,c),d=new Float32Array(2*o);for(let x=0;x<c;x++){const w=d.length,y=x+.5;for(let T=0;T<w;T+=2)d[T]=T/2+.5,d[T+1]=y;f.transformPoints(d),_n.checkAndNudgePoints(s,d);try{for(let T=0;T<w;T+=2)s.get(Math.floor(d[T]),Math.floor(d[T+1]))&&h.set(T/2,x)}catch{throw new ee}}return h}}class Jt{static setGridSampler(s){Jt.gridSampler=s}static getInstance(){return Jt.gridSampler}}Jt.gridSampler=new zi;class Xt{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class dt{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let d=c[0];c[0]=c[2],c[2]=d}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new oi(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ee;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let f=0;for(let d=0;d<4;d++){let x=c[(this.shift+d)%4];this.compact?(f<<=7,f+=x>>1&127):(f<<=10,f+=(x>>2&992)+(x>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,o){let c=0;s.forEach((f,h,d)=>{let x=(f>>o-2<<1)+(f&1);c=(c<<3)+x}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(S.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ee}getCorrectedParameterData(s,o){let c,f;o?(c=7,f=2):(c=10,f=4);let h=c-f,d=new Int32Array(c);for(let w=c-1;w>=0;--w)d[w]=s&15,s>>=4;try{new qe(Ze.AZTEC_PARAM).decode(d,h)}catch{throw new ee}let x=0;for(let w=0;w<f;w++)x=(x<<4)+d[w];return x}getBullsEyeCorners(s){let o=s,c=s,f=s,h=s,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(o,d,1,-1),P=this.getFirstDifferent(c,d,1,1),z=this.getFirstDifferent(f,d,-1,1),J=this.getFirstDifferent(h,d,-1,-1);if(this.nbCenterLayers>2){let re=this.distancePoint(J,O)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if(re<.75||re>1.25||!this.isWhiteOrBlackRectangle(O,P,z,J))break}o=O,c=P,f=z,h=J,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let x=new Ge(o.getX()+.5,o.getY()-.5),w=new Ge(c.getX()+.5,c.getY()+.5),y=new Ge(f.getX()-.5,f.getY()+.5),T=new Ge(h.getX()-.5,h.getY()-.5);return this.expandSquare([x,w,y,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,f;try{let x=new Qt(this.image).detect();s=x[0],o=x[1],c=x[2],f=x[3]}catch{let w=this.image.getWidth()/2,y=this.image.getHeight()/2;s=this.getFirstDifferent(new Xt(w+7,y-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Xt(w+7,y+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Xt(w-7,y+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Xt(w-7,y-7),!1,-1,-1).toResultPoint()}let h=Ye.round((s.getX()+f.getX()+o.getX()+c.getX())/4),d=Ye.round((s.getY()+f.getY()+o.getY()+c.getY())/4);try{let x=new Qt(this.image,15,h,d).detect();s=x[0],o=x[1],c=x[2],f=x[3]}catch{s=this.getFirstDifferent(new Xt(h+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Xt(h+7,d+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Xt(h-7,d+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Xt(h-7,d-7),!1,-1,-1).toResultPoint()}return h=Ye.round((s.getX()+f.getX()+o.getX()+c.getX())/4),d=Ye.round((s.getY()+f.getY()+o.getY()+c.getY())/4),new Xt(h,d)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,f,h){let d=Jt.getInstance(),x=this.getDimension(),w=x/2-this.nbCenterLayers,y=x/2+this.nbCenterLayers;return d.sampleGrid(s,x,x,w,w,y,w,y,y,w,y,o.getX(),o.getY(),c.getX(),c.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,o,c){let f=0,h=this.distanceResultPoint(s,o),d=h/c,x=s.getX(),w=s.getY(),y=d*(o.getX()-s.getX())/h,T=d*(o.getY()-s.getY())/h;for(let O=0;O<c;O++)this.image.get(Ye.round(x+O*y),Ye.round(w+O*T))&&(f|=1<<c-O-1);return f}isWhiteOrBlackRectangle(s,o,c,f){let h=3;s=new Xt(s.getX()-h,s.getY()+h),o=new Xt(o.getX()-h,o.getY()-h),c=new Xt(c.getX()+h,c.getY()-h),f=new Xt(f.getX()+h,f.getY()+h);let d=this.getColor(f,s);if(d===0)return!1;let x=this.getColor(s,o);return x!==d||(x=this.getColor(o,c),x!==d)?!1:(x=this.getColor(c,f),x===d)}getColor(s,o){let c=this.distancePoint(s,o),f=(o.getX()-s.getX())/c,h=(o.getY()-s.getY())/c,d=0,x=s.getX(),w=s.getY(),y=this.image.get(s.getX(),s.getY()),T=Math.ceil(c);for(let P=0;P<T;P++)x+=f,w+=h,this.image.get(Ye.round(x),Ye.round(w))!==y&&d++;let O=d/c;return O>.1&&O<.9?0:O<=.1===y?1:-1}getFirstDifferent(s,o,c,f){let h=s.getX()+c,d=s.getY()+f;for(;this.isValid(h,d)&&this.image.get(h,d)===o;)h+=c,d+=f;for(h-=c,d-=f;this.isValid(h,d)&&this.image.get(h,d)===o;)h+=c;for(h-=c;this.isValid(h,d)&&this.image.get(h,d)===o;)d+=f;return d-=f,new Xt(h,d)}expandSquare(s,o,c){let f=c/(2*o),h=s[0].getX()-s[2].getX(),d=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,w=(s[0].getY()+s[2].getY())/2,y=new Ge(x+f*h,w+f*d),T=new Ge(x-f*h,w-f*d);h=s[1].getX()-s[3].getX(),d=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,w=(s[1].getY()+s[3].getY())/2;let O=new Ge(x+f*h,w+f*d),P=new Ge(x-f*h,w-f*d);return[y,O,T,P]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=Ye.round(s.getX()),c=Ye.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return Ye.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return Ye.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}class $t{decode(s,o=null){let c=null,f=new dt(s.getBlackMatrix()),h=null,d=null;try{let T=f.detectMirror(!1);h=T.getPoints(),this.reportFoundResultPoints(o,h),d=new tt().decode(T)}catch(T){c=T}if(d==null)try{let T=f.detectMirror(!0);h=T.getPoints(),this.reportFoundResultPoints(o,h),d=new tt().decode(T)}catch(T){throw c??T}let x=new K(d.getText(),d.getRawBytes(),d.getNumBits(),h,ae.AZTEC,C.currentTimeMillis()),w=d.getByteSegments();w!=null&&x.putMetadata(We.BYTE_SEGMENTS,w);let y=d.getECLevel();return y!=null&&x.putMetadata(We.ERROR_CORRECTION_LEVEL,y),x}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(G.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((f,h,d)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class cn extends se{constructor(s=500){super(new $t,s)}}class pt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(G.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),d=this.doDecode(h,o),x=d.getResultMetadata();let w=270;x!==null&&x.get(We.ORIENTATION)===!0&&(w=w+x.get(We.ORIENTATION)%360),d.putMetadata(We.ORIENTATION,w);const y=d.getResultPoints();if(y!==null){const T=h.getHeight();for(let O=0;O<y.length;O++)y[O]=new Ge(T-y[O].getY()-1,y[O].getX())}return d}else throw new ee}}reset(){}doDecode(s,o){const c=s.getWidth(),f=s.getHeight();let h=new L(c);const d=o&&o.get(G.TRY_HARDER)===!0,x=Math.max(1,f>>(d?8:5));let w;d?w=f:w=15;const y=Math.trunc(f/2);for(let T=0;T<w;T++){const O=Math.trunc((T+1)/2),P=(T&1)===0,z=y+x*(P?O:-O);if(z<0||z>=f)break;try{h=s.getBlackRow(z,h)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(h.reverse(),o&&o.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const re=new Map;o.forEach((fe,me)=>re.set(me,fe)),re.delete(G.NEED_RESULT_POINT_CALLBACK),o=re}try{const re=this.decodeRow(z,h,o);if(J===1){re.putMetadata(We.ORIENTATION,180);const fe=re.getResultPoints();fe!==null&&(fe[0]=new Ge(c-fe[0].getX()-1,fe[0].getY()),fe[1]=new Ge(c-fe[1].getX()-1,fe[1].getY()))}return re}catch{}}}throw new ee}static recordPattern(s,o,c){const f=c.length;for(let y=0;y<f;y++)c[y]=0;const h=s.getSize();if(o>=h)throw new ee;let d=!s.get(o),x=0,w=o;for(;w<h;){if(s.get(w)!==d)c[x]++;else{if(++x===f)break;c[x]=1,d=!d}w++}if(!(x===f||x===f-1&&w===h))throw new ee}static recordPatternInReverse(s,o,c){let f=c.length,h=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new ee;pt.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const f=s.length;let h=0,d=0;for(let y=0;y<f;y++)h+=s[y],d+=o[y];if(h<d)return Number.POSITIVE_INFINITY;const x=h/d;c*=x;let w=0;for(let y=0;y<f;y++){const T=s[y],O=o[y]*x,P=T>O?T-O:O-T;if(P>c)return Number.POSITIVE_INFINITY;w+=P}return w/h}}class Me extends pt{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),d=c,x=!1;const w=6;for(let y=c;y<o;y++)if(s.get(y)!==x)h[f]++;else{if(f===w-1){let T=Me.MAX_AVG_VARIANCE,O=-1;for(let P=Me.CODE_START_A;P<=Me.CODE_START_C;P++){const z=pt.patternMatchVariance(h,Me.CODE_PATTERNS[P],Me.MAX_INDIVIDUAL_VARIANCE);z<T&&(T=z,O=P)}if(O>=0&&s.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,O]);d+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,x=!x}throw new ee}static decodeCode(s,o,c){pt.recordPattern(s,c,o);let f=Me.MAX_AVG_VARIANCE,h=-1;for(let d=0;d<Me.CODE_PATTERNS.length;d++){const x=Me.CODE_PATTERNS[d],w=this.patternMatchVariance(o,x,Me.MAX_INDIVIDUAL_VARIANCE);w<f&&(f=w,h=d)}if(h>=0)return h;throw new ee}decodeRow(s,o,c){const f=c&&c.get(G.ASSUME_GS1)===!0,h=Me.findStartPattern(o),d=h[2];let x=0;const w=new Uint8Array(20);w[x++]=d;let y;switch(d){case Me.CODE_START_A:y=Me.CODE_CODE_A;break;case Me.CODE_START_B:y=Me.CODE_CODE_B;break;case Me.CODE_START_C:y=Me.CODE_CODE_C;break;default:throw new D}let T=!1,O=!1,P="",z=h[0],J=h[1];const re=Int32Array.from([0,0,0,0,0,0]);let fe=0,me=0,Pe=d,Ue=0,be=!0,bt=!1,xt=!1;for(;!T;){const Yo=O;switch(O=!1,fe=me,me=Me.decodeCode(o,re,J),w[x++]=me,me!==Me.CODE_STOP&&(be=!0),me!==Me.CODE_STOP&&(Ue++,Pe+=Ue*me),z=J,J+=re.reduce((xT,mT)=>xT+mT,0),me){case Me.CODE_START_A:case Me.CODE_START_B:case Me.CODE_START_C:throw new D}switch(y){case Me.CODE_CODE_A:if(me<64)xt===bt?P+=String.fromCharCode(32+me):P+=String.fromCharCode(32+me+128),xt=!1;else if(me<96)xt===bt?P+=String.fromCharCode(me-64):P+=String.fromCharCode(me+64),xt=!1;else switch(me!==Me.CODE_STOP&&(be=!1),me){case Me.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_A:!bt&&xt?(bt=!0,xt=!1):bt&&xt?(bt=!1,xt=!1):xt=!0;break;case Me.CODE_SHIFT:O=!0,y=Me.CODE_CODE_B;break;case Me.CODE_CODE_B:y=Me.CODE_CODE_B;break;case Me.CODE_CODE_C:y=Me.CODE_CODE_C;break;case Me.CODE_STOP:T=!0;break}break;case Me.CODE_CODE_B:if(me<96)xt===bt?P+=String.fromCharCode(32+me):P+=String.fromCharCode(32+me+128),xt=!1;else switch(me!==Me.CODE_STOP&&(be=!1),me){case Me.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_B:!bt&&xt?(bt=!0,xt=!1):bt&&xt?(bt=!1,xt=!1):xt=!0;break;case Me.CODE_SHIFT:O=!0,y=Me.CODE_CODE_A;break;case Me.CODE_CODE_A:y=Me.CODE_CODE_A;break;case Me.CODE_CODE_C:y=Me.CODE_CODE_C;break;case Me.CODE_STOP:T=!0;break}break;case Me.CODE_CODE_C:if(me<100)me<10&&(P+="0"),P+=me;else switch(me!==Me.CODE_STOP&&(be=!1),me){case Me.CODE_FNC_1:f&&(P.length===0?P+="]C1":P+="");break;case Me.CODE_CODE_A:y=Me.CODE_CODE_A;break;case Me.CODE_CODE_B:y=Me.CODE_CODE_B;break;case Me.CODE_STOP:T=!0;break}break}Yo&&(y=y===Me.CODE_CODE_A?Me.CODE_CODE_B:Me.CODE_CODE_A)}const qn=J-z;if(J=o.getNextUnset(J),!o.isRange(J,Math.min(o.getSize(),J+(J-z)/2),!1))throw new ee;if(Pe-=Ue*fe,Pe%103!==fe)throw new E;const $i=P.length;if($i===0)throw new ee;$i>0&&be&&(y===Me.CODE_CODE_C?P=P.substring(0,$i-2):P=P.substring(0,$i-1));const Zn=(h[1]+h[0])/2,Zt=z+qn/2,hn=w.length,ui=new Uint8Array(hn);for(let Yo=0;Yo<hn;Yo++)ui[Yo]=w[Yo];const $o=[new Ge(Zn,s),new Ge(Zt,s)];return new K(P,ui,0,$o,ae.CODE_128,new Date().getTime())}}Me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Me.MAX_AVG_VARIANCE=.25,Me.MAX_INDIVIDUAL_VARIANCE=.7,Me.CODE_SHIFT=98,Me.CODE_CODE_C=99,Me.CODE_CODE_B=100,Me.CODE_CODE_A=101,Me.CODE_FNC_1=102,Me.CODE_FNC_2=97,Me.CODE_FNC_3=96,Me.CODE_FNC_4_A=101,Me.CODE_FNC_4_B=100,Me.CODE_START_A=103,Me.CODE_START_B=104,Me.CODE_START_C=105,Me.CODE_STOP=106;class At extends pt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=At.findAsteriskPattern(o,f),d=o.getNextSet(h[1]),x=o.getSize(),w,y;do{At.recordPattern(o,d,f);let re=At.toNarrowWidePattern(f);if(re<0)throw new ee;w=At.patternToChar(re),this.decodeRowResult+=w,y=d;for(let fe of f)d+=fe;d=o.getNextSet(d)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let T=0;for(let re of f)T+=re;let O=d-y-T;if(d!==x&&O*2<T)throw new ee;if(this.usingCheckDigit){let re=this.decodeRowResult.length-1,fe=0;for(let me=0;me<re;me++)fe+=At.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(me));if(this.decodeRowResult.charAt(re)!==At.ALPHABET_STRING.charAt(fe%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,re)}if(this.decodeRowResult.length===0)throw new ee;let P;this.extendedMode?P=At.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let z=(h[1]+h[0])/2,J=y+T/2;return new K(P,null,0,[new Ge(z,s),new Ge(J,s)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),f=s.getNextSet(0),h=0,d=f,x=!1,w=o.length;for(let y=f;y<c;y++)if(s.get(y)!==x)o[h]++;else{if(h===w-1){if(this.toNarrowWidePattern(o)===At.ASTERISK_ENCODING&&s.isRange(Math.max(0,d-Math.floor((y-d)/2)),d,!1))return[d,y];d+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,x=!x}throw new ee}static toNarrowWidePattern(s){let o=s.length,c=0,f;do{let h=2147483647;for(let w of s)w<h&&w>c&&(h=w);c=h,f=0;let d=0,x=0;for(let w=0;w<o;w++){let y=s[w];y>c&&(x|=1<<o-1-w,f++,d+=y)}if(f===3){for(let w=0;w<o&&f>0;w++){let y=s[w];if(y>c&&(f--,y*2>=d))return-1}return x}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<At.CHARACTER_ENCODINGS.length;o++)if(At.CHARACTER_ENCODINGS[o]===s)return At.ALPHABET_STRING.charAt(o);if(s===At.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(s){let o=s.length,c="";for(let f=0;f<o;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let d=s.charAt(f+1),x="\0";switch(h){case"+":if(d>="A"&&d<="Z")x=String.fromCharCode(d.charCodeAt(0)+32);else throw new D;break;case"$":if(d>="A"&&d<="Z")x=String.fromCharCode(d.charCodeAt(0)-64);else throw new D;break;case"%":if(d>="A"&&d<="E")x=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")x=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")x=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")x=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")x="\0";else if(d==="V")x="@";else if(d==="W")x="`";else if(d==="X"||d==="Y"||d==="Z")x="";else throw new D;break;case"/":if(d>="A"&&d<="O")x=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")x=":";else throw new D;break}c+=x,f++}else c+=h}return c}}At.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",At.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],At.ASTERISK_ENCODING=148;class jt extends pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let f=this.decodeStart(o),h=this.decodeEnd(o),d=new ye;jt.decodeMiddle(o,f[1],h[0],d);let x=d.toString(),w=null;c!=null&&(w=c.get(G.ALLOWED_LENGTHS)),w==null&&(w=jt.DEFAULT_ALLOWED_LENGTHS);let y=x.length,T=!1,O=0;for(let J of w){if(y===J){T=!0;break}J>O&&(O=J)}if(!T&&y>O&&(T=!0),!T)throw new D;const P=[new Ge(f[1],s),new Ge(h[0],s)];return new K(x,null,0,P,ae.ITF,new Date().getTime())}static decodeMiddle(s,o,c,f){let h=new Int32Array(10),d=new Int32Array(5),x=new Int32Array(5);for(h.fill(0),d.fill(0),x.fill(0);o<c;){pt.recordPattern(s,o,h);for(let y=0;y<5;y++){let T=2*y;d[y]=h[T],x[y]=h[T+1]}let w=jt.decodeDigit(d);f.append(w.toString()),w=this.decodeDigit(x),f.append(w.toString()),h.forEach(function(y){o+=y})}}decodeStart(s){let o=jt.skipWhiteSpace(s),c=jt.findGuardPattern(s,o,jt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let f=o-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new ee}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new ee;return c}decodeEnd(s){s.reverse();try{let o=jt.skipWhiteSpace(s),c;try{c=jt.findGuardPattern(s,o,jt.END_PATTERN_REVERSED[0])}catch(h){h instanceof ee&&(c=jt.findGuardPattern(s,o,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let f=c.length,h=new Int32Array(f),d=s.getSize(),x=!1,w=0,y=o;h.fill(0);for(let T=o;T<d;T++)if(s.get(T)!==x)h[w]++;else{if(w===f-1){if(pt.patternMatchVariance(h,c,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[y,T];y+=h[0]+h[1],C.arraycopy(h,2,h,0,w-1),h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,x=!x}throw new ee}static decodeDigit(s){let o=jt.MAX_AVG_VARIANCE,c=-1,f=jt.PATTERNS.length;for(let h=0;h<f;h++){let d=jt.PATTERNS[h],x=pt.patternMatchVariance(s,d,jt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,c=h):x===o&&(c=-1)}if(c>=0)return c%10;throw new ee}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class er extends pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),c=er.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let d=c[0];f=c[1];let x=d-(f-d);x>=0&&(o=s.isRange(x,d,!1))}return c}static checkChecksum(s){return er.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return er.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new D;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new D;c+=h}return(1e3-c)%10}static decodeEnd(s,o){return er.findGuardPattern(s,o,!1,er.START_END_PATTERN,new Int32Array(er.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,f){return this.findGuardPattern(s,o,c,f,new Int32Array(f.length))}static findGuardPattern(s,o,c,f,h){let d=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let x=0,w=o,y=f.length,T=c;for(let O=o;O<d;O++)if(s.get(O)!==T)h[x]++;else{if(x===y-1){if(pt.patternMatchVariance(h,f,er.MAX_INDIVIDUAL_VARIANCE)<er.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=h[0]+h[1];let P=h.slice(2,h.length-1);for(let z=0;z<x-1;z++)h[z]=P[z];h[x-1]=0,h[x]=0,x--}else x++;h[x]=1,T=!T}throw new ee}static decodeDigit(s,o,c,f){this.recordPattern(s,c,o);let h=this.MAX_AVG_VARIANCE,d=-1,x=f.length;for(let w=0;w<x;w++){let y=f[w],T=pt.patternMatchVariance(o,y,er.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,d=w)}if(d>=0)return d;throw new ee}}er.MAX_AVG_VARIANCE=.48,er.MAX_INDIVIDUAL_VARIANCE=.7,er.START_END_PATTERN=Int32Array.from([1,1,1]),er.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),er.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),er.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Gi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),d=f.toString(),x=Gi.parseExtensionString(d),w=[new Ge((c[0]+c[1])/2,s),new Ge(h,s)],y=new K(d,null,0,w,ae.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&y.putAllMetadata(x),y}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d=o[1],x=0;for(let y=0;y<5&&d<h;y++){let T=er.decodeDigit(s,f,d,er.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)d+=O;T>=10&&(x|=1<<4-y),y!==4&&(d=s.getNextSet(d),d=s.getNextUnset(d))}if(c.length!==5)throw new ee;let w=this.determineCheckDigit(x);if(Gi.extensionChecksum(c.toString())!==w)throw new ee;return d}static extensionChecksum(s){let o=s.length,c=0;for(let f=o-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;c*=3;for(let f=o-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(s){if(s.length!==5)return null;let o=Gi.parseExtension5String(s);return o==null?null:new Map([[We.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),h=c%100,d=h<10?"0"+h:h.toString();return o+f+"."+d}}class Qs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),d=f.toString(),x=Qs.parseExtensionString(d),w=[new Ge((c[0]+c[1])/2,s),new Ge(h,s)],y=new K(d,null,0,w,ae.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&y.putAllMetadata(x),y}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d=o[1],x=0;for(let w=0;w<2&&d<h;w++){let y=er.decodeDigit(s,f,d,er.L_AND_G_PATTERNS);c+=String.fromCharCode(48+y%10);for(let T of f)d+=T;y>=10&&(x|=1<<1-w),w!==1&&(d=s.getNextSet(d),d=s.getNextUnset(d))}if(c.length!==2)throw new ee;if(parseInt(c.toString())%4!==x)throw new ee;return d}static parseExtensionString(s){return s.length!==2?null:new Map([[We.ISSUE_NUMBER,parseInt(s)]])}}class Ga{static decodeRow(s,o,c){let f=er.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Gi().decodeRow(s,o,f)}catch{return new Qs().decodeRow(s,o,f)}}}Ga.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Nt extends er{constructor(){super(),this.decodeRowStringBuffer="",Nt.L_AND_G_PATTERNS=Nt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=Nt.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let f=0;f<o.length;f++)c[f]=o[o.length-f-1];Nt.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let f=Nt.findStartGuardPattern(o),h=c==null?null:c.get(G.NEED_RESULT_POINT_CALLBACK);if(h!=null){const be=new Ge((f[0]+f[1])/2,s);h.foundPossibleResultPoint(be)}let d=this.decodeMiddle(o,f,this.decodeRowStringBuffer),x=d.rowOffset,w=d.resultString;if(h!=null){const be=new Ge(x,s);h.foundPossibleResultPoint(be)}let y=this.decodeEnd(o,x);if(h!=null){const be=new Ge((y[0]+y[1])/2,s);h.foundPossibleResultPoint(be)}let T=y[1],O=T+(T-y[0]);if(O>=o.getSize()||!o.isRange(T,O,!1))throw new ee;let P=w.toString();if(P.length<8)throw new D;if(!Nt.checkChecksum(P))throw new E;let z=(f[1]+f[0])/2,J=(y[1]+y[0])/2,re=this.getBarcodeFormat(),fe=[new Ge(z,s),new Ge(J,s)],me=new K(P,null,0,fe,re,new Date().getTime()),Pe=0;try{let be=Ga.decodeRow(s,o,y[1]);me.putMetadata(We.UPC_EAN_EXTENSION,be.getText()),me.putAllMetadata(be.getResultMetadata()),me.addResultPoints(be.getResultPoints()),Pe=be.getText().length}catch{}let Ue=c==null?null:c.get(G.ALLOWED_EAN_EXTENSIONS);if(Ue!=null){let be=!1;for(let bt in Ue)if(Pe.toString()===bt){be=!0;break}if(!be)throw new ee}return me}decodeEnd(s,o){return Nt.findGuardPattern(s,o,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Nt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return Nt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new D;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new D;c+=h}return(1e3-c)%10}}class Xi extends Nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d=o[1],x=0;for(let y=0;y<6&&d<h;y++){let T=Nt.decodeDigit(s,f,d,Nt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)d+=O;T>=10&&(x|=1<<5-y)}c=Xi.determineFirstDigit(c,x),d=Nt.findGuardPattern(s,d,!0,Nt.MIDDLE_PATTERN,new Int32Array(Nt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&d<h;y++){let T=Nt.decodeDigit(s,f,d,Nt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let O of f)d+=O}return{rowOffset:d,resultString:c}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new ee}}Xi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ks extends Nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d=o[1];for(let w=0;w<4&&d<h;w++){let y=Nt.decodeDigit(s,f,d,Nt.L_PATTERNS);c+=String.fromCharCode(48+y);for(let T of f)d+=T}d=Nt.findGuardPattern(s,d,!0,Nt.MIDDLE_PATTERN,new Int32Array(Nt.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&d<h;w++){let y=Nt.decodeDigit(s,f,d,Nt.L_PATTERNS);c+=String.fromCharCode(48+y);for(let T of f)d+=T}return{rowOffset:d,resultString:c}}getBarcodeFormat(){return ae.EAN_8}}class Ho extends Nt{constructor(){super(...arguments),this.ean13Reader=new Xi}getBarcodeFormat(){return ae.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new K(o.substring(1),null,null,s.getResultPoints(),ae.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new ee}reset(){this.ean13Reader.reset()}}class ie extends Nt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters.map(y=>y);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let d=o[1],x=0;for(let y=0;y<6&&d<h;y++){const T=ie.decodeDigit(s,f,d,ie.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let O of f)d+=O;T>=10&&(x|=1<<5-y)}let w=ie.determineNumSysAndCheckDigit(c,x);return{rowOffset:d,resultString:w}}decodeEnd(s,o){return ie.findGuardPatternWithoutCounters(s,o,!0,ie.MIDDLE_END_PATTERN)}checkChecksum(s){return Nt.checkChecksum(ie.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let h=String.fromCharCode(48+c),d=String.fromCharCode(48+f);return h+s+d}throw ee.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new ye;c.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(f),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}ie.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ie.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ve extends pt{constructor(s){super();let o=s==null?null:s.get(G.POSSIBLE_FORMATS),c=[];n(o)?(c.push(new Xi),c.push(new Ho),c.push(new ks),c.push(new ie)):(o.indexOf(ae.EAN_13)>-1&&c.push(new Xi),o.indexOf(ae.UPC_A)>-1&&c.push(new Ho),o.indexOf(ae.EAN_8)>-1&&c.push(new ks),o.indexOf(ae.UPC_E)>-1&&c.push(new ie)),this.readers=c}decodeRow(s,o,c){for(let f of this.readers)try{const h=f.decodeRow(s,o,c),d=h.getBarcodeFormat()===ae.EAN_13&&h.getText().charAt(0)==="0",x=c==null?null:c.get(G.POSSIBLE_FORMATS),w=x==null||x.includes(ae.UPC_A);if(d&&w){const y=h.getRawBytes(),T=new K(h.getText().substring(1),y,y?y.length:null,h.getResultPoints(),ae.UPC_A);return T.putAllMetadata(h.getResultMetadata()),T}return h}catch{}throw new ee}reset(){for(let s of this.readers)s.reset()}}class Xe extends pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(pt.patternMatchVariance(s,o[c],Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return c;throw new ee}static count(s){return Ye.sum(new Int32Array(s))}static increment(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]>f&&(f=o[h],c=h);s[c]++}static decrement(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]<f&&(f=o[h],c=h);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],f=o/c;if(f>=Xe.MIN_FINDER_PATTERN_RATIO&&f<=Xe.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let x of s)x>d&&(d=x),x<h&&(h=x);return d<10*h}return!1}}Xe.MAX_AVG_VARIANCE=.2,Xe.MAX_INDIVIDUAL_VARIANCE=.45,Xe.MIN_FINDER_PATTERN_RATIO=9.5/12,Xe.MAX_FINDER_PATTERN_RATIO=12.5/14;class ot{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof ot))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class rt{constructor(s,o,c,f,h){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ge(c,h)),this.resultPoints.push(new Ge(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof rt))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class gt{constructor(){}static getRSSvalue(s,o,c){let f=0;for(let w of s)f+=w;let h=0,d=0,x=s.length;for(let w=0;w<x-1;w++){let y;for(y=1,d|=1<<w;y<s[w];y++,d&=~(1<<w)){let T=gt.combins(f-y-1,x-w-2);if(c&&d===0&&f-y-(x-w-1)>=x-w-1&&(T-=gt.combins(f-y-(x-w),x-w-2)),x-w-1>1){let O=0;for(let P=f-y-(x-w-2);P>o;P--)O+=gt.combins(f-y-P-1,x-w-3);T-=O*(x-1-w)}else f-y>o&&T--;h+=T}f-=y}return h}static combins(s,o){let c,f;s-o>o?(f=o,c=s-o):(f=s-o,c=o);let h=1,d=1;for(let x=s;x>c;x--)h*=x,d<=f&&(h/=d,d++);for(;d<=f;)h/=d,d++;return h}}class xr{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,f=new L(c),h=0,x=s[0].getRightChar().getValue();for(let w=11;w>=0;--w)x&1<<w&&f.set(h),h++;for(let w=1;w<s.length;++w){let y=s[w],T=y.getLeftChar().getValue();for(let O=11;O>=0;--O)T&1<<O&&f.set(h),h++;if(y.getRightChar()!=null){let O=y.getRightChar().getValue();for(let P=11;P>=0;--P)O&1<<P&&f.set(h),h++}}return f}}class dr{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Kr{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Ht extends Kr{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Ht.FNC1}}Ht.FNC1="$";class li extends Kr{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class F extends Kr{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new D;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===F.FNC1}isSecondDigitFNC1(){return this.secondDigit===F.FNC1}isAnyFNC1(){return this.firstDigit===F.FNC1||this.secondDigit===F.FNC1}}F.FNC1=10;class M{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ee;let o=s.substring(0,2);for(let h of M.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===M.VARIABLE_LENGTH?M.processVariableAI(2,h[2],s):M.processFixedAI(2,h[1],s);if(s.length<3)throw new ee;let c=s.substring(0,3);for(let h of M.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===M.VARIABLE_LENGTH?M.processVariableAI(3,h[2],s):M.processFixedAI(3,h[1],s);for(let h of M.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===M.VARIABLE_LENGTH?M.processVariableAI(4,h[2],s):M.processFixedAI(4,h[1],s);if(s.length<4)throw new ee;let f=s.substring(0,4);for(let h of M.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===M.VARIABLE_LENGTH?M.processVariableAI(4,h[2],s):M.processFixedAI(4,h[1],s);throw new ee}static processFixedAI(s,o,c){if(c.length<s)throw new ee;let f=c.substring(0,s);if(c.length<s+o)throw new ee;let h=c.substring(s,s+o),d=c.substring(s+o),x="("+f+")"+h,w=M.parseFieldsInGeneralPurpose(d);return w==null?x:x+w}static processVariableAI(s,o,c){let f=c.substring(0,s),h;c.length<s+o?h=c.length:h=s+o;let d=c.substring(s,h),x=c.substring(h),w="("+f+")"+d,y=M.parseFieldsInGeneralPurpose(x);return y==null?w:w+y}}M.VARIABLE_LENGTH=[],M.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",M.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",M.VARIABLE_LENGTH,20],["22",M.VARIABLE_LENGTH,29],["30",M.VARIABLE_LENGTH,8],["37",M.VARIABLE_LENGTH,8],["90",M.VARIABLE_LENGTH,30],["91",M.VARIABLE_LENGTH,30],["92",M.VARIABLE_LENGTH,30],["93",M.VARIABLE_LENGTH,30],["94",M.VARIABLE_LENGTH,30],["95",M.VARIABLE_LENGTH,30],["96",M.VARIABLE_LENGTH,30],["97",M.VARIABLE_LENGTH,3],["98",M.VARIABLE_LENGTH,30],["99",M.VARIABLE_LENGTH,30]],M.THREE_DIGIT_DATA_LENGTH=[["240",M.VARIABLE_LENGTH,30],["241",M.VARIABLE_LENGTH,30],["242",M.VARIABLE_LENGTH,6],["250",M.VARIABLE_LENGTH,30],["251",M.VARIABLE_LENGTH,30],["253",M.VARIABLE_LENGTH,17],["254",M.VARIABLE_LENGTH,20],["400",M.VARIABLE_LENGTH,30],["401",M.VARIABLE_LENGTH,30],["402",17],["403",M.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",M.VARIABLE_LENGTH,20],["421",M.VARIABLE_LENGTH,15],["422",3],["423",M.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],M.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",M.VARIABLE_LENGTH,15],["391",M.VARIABLE_LENGTH,18],["392",M.VARIABLE_LENGTH,15],["393",M.VARIABLE_LENGTH,18],["703",M.VARIABLE_LENGTH,30]],M.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",M.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",M.VARIABLE_LENGTH,20],["8003",M.VARIABLE_LENGTH,30],["8004",M.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",M.VARIABLE_LENGTH,30],["8008",M.VARIABLE_LENGTH,12],["8018",18],["8020",M.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",M.VARIABLE_LENGTH,70],["8200",M.VARIABLE_LENGTH,70]];class U{constructor(s){this.buffer=new ye,this.information=s}decodeAllCodes(s,o){let c=o,f=null;do{let h=this.decodeGeneralPurposeField(c,f),d=M.parseFieldsInGeneralPurpose(h.getNewString());if(d!=null&&s.append(d),h.isRemaining()?f=""+h.getRemainingValue():f=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new F(this.information.getSize(),F.FNC1,F.FNC1):new F(this.information.getSize(),h-1,F.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,f=(o-8)%11;return new F(s+7,c,f)}extractNumericValueFromBitArray(s,o){return U.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let f=0;for(let h=0;h<c;++h)s.get(o+h)&&(f|=1<<c-h-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new li(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new li(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new li(this.current.getPosition(),this.buffer.toString()):o=new li(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new dr(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new li(this.current.getPosition(),this.buffer.toString());return new dr(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new dr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new li(this.current.getPosition(),this.buffer.toString());return new dr(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new dr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new li(this.current.getPosition(),this.buffer.toString());return new dr(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new dr(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Ht(s+5,Ht.FNC1);if(o>=5&&o<15)return new Ht(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new Ht(s+7,""+(c+1));if(c>=90&&c<116)return new Ht(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new D}return new Ht(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new Ht(s+5,Ht.FNC1);if(o>=5&&o<15)return new Ht(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new Ht(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new ht("Decoding invalid alphanumeric value: "+c)}return new Ht(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class W{constructor(s){this.information=s,this.generalDecoder=new U(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class H extends W{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}H.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let f=0;f<13;f++){let h=s.charAt(f+o).charCodeAt(0)-48;c+=f&1?h:3*h}c=10-c%10,c===10&&(c=0),s.append(c)}}H.GTIN_SIZE=40;class X extends H{constructor(s){super(s)}parseInformation(){let s=new ye;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(X.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,X.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,X.HEADER_SIZE+44)}}X.HEADER_SIZE=4;class de extends W{constructor(s){super(s)}parseInformation(){let s=new ye;return this.getGeneralDecoder().decodeAllCodes(s,de.HEADER_SIZE)}}de.HEADER_SIZE=5;class _e extends H{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,f);let h=this.checkWeight(f),d=1e5;for(let x=0;x<5;++x)h/d===0&&s.append("0"),d/=10;s.append(h)}}class ue extends _e{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ue.HEADER_SIZE+_e.GTIN_SIZE+ue.WEIGHT_SIZE)throw new ee;let s=new ye;return this.encodeCompressedGtin(s,ue.HEADER_SIZE),this.encodeCompressedWeight(s,ue.HEADER_SIZE+_e.GTIN_SIZE,ue.WEIGHT_SIZE),s.toString()}}ue.HEADER_SIZE=5,ue.WEIGHT_SIZE=15;class ge extends ue{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class pe extends ue{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Te extends H{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Te.HEADER_SIZE+H.GTIN_SIZE)throw new ee;let s=new ye;this.encodeCompressedGtin(s,Te.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Te.HEADER_SIZE+H.GTIN_SIZE,Te.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Te.HEADER_SIZE+H.GTIN_SIZE+Te.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Te.HEADER_SIZE=8,Te.LAST_DIGIT_SIZE=2;class Ne extends H{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ne.HEADER_SIZE+H.GTIN_SIZE)throw new ee;let s=new ye;this.encodeCompressedGtin(s,Ne.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ne.HEADER_SIZE+H.GTIN_SIZE,Ne.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Ne.HEADER_SIZE+H.GTIN_SIZE+Ne.LAST_DIGIT_SIZE,Ne.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Ne.HEADER_SIZE+H.GTIN_SIZE+Ne.LAST_DIGIT_SIZE+Ne.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}Ne.HEADER_SIZE=8,Ne.LAST_DIGIT_SIZE=2,Ne.FIRST_THREE_DIGITS_SIZE=10;class Fe extends _e{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Fe.HEADER_SIZE+Fe.GTIN_SIZE+Fe.WEIGHT_SIZE+Fe.DATE_SIZE)throw new ee;let s=new ye;return this.encodeCompressedGtin(s,Fe.HEADER_SIZE),this.encodeCompressedWeight(s,Fe.HEADER_SIZE+Fe.GTIN_SIZE,Fe.WEIGHT_SIZE),this.encodeCompressedDate(s,Fe.HEADER_SIZE+Fe.GTIN_SIZE+Fe.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Fe.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let h=c%12+1;c/=12;let d=c;d/10==0&&s.append("0"),s.append(d),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Fe.HEADER_SIZE=8,Fe.WEIGHT_SIZE=20,Fe.DATE_SIZE=16;function Le(R){try{if(R.get(1))return new X(R);if(!R.get(2))return new de(R);switch(U.extractNumericValueFromBitArray(R,1,4)){case 4:return new ge(R);case 5:return new pe(R)}switch(U.extractNumericValueFromBitArray(R,1,5)){case 12:return new Te(R);case 13:return new Ne(R)}switch(U.extractNumericValueFromBitArray(R,1,7)){case 56:return new Fe(R,"310","11");case 57:return new Fe(R,"320","11");case 58:return new Fe(R,"310","13");case 59:return new Fe(R,"320","13");case 60:return new Fe(R,"310","15");case 61:return new Fe(R,"320","15");case 62:return new Fe(R,"310","17");case 63:return new Fe(R,"320","17")}}catch(s){throw console.log(s),new ht("unknown decoder: "+R)}}class ze{constructor(s,o,c,f){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof ze?ze.equalsOrNull(s.leftchar,o.leftchar)&&ze.equalsOrNull(s.rightchar,o.rightchar)&&ze.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:ze.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ut{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof ut?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((f,h)=>{o.forEach(d=>{f.getLeftChar().getValue()===d.getLeftChar().getValue()&&f.getRightChar().getValue()===d.getRightChar().getValue()&&f.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(c=!0)})}),c}}class ve extends Xe{constructor(s){super(...arguments),this.pairs=new Array(ve.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return ve.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,ve.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(h){if(h instanceof ee){if(!this.pairs.length)throw new ee;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ee}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let d of s)this.pairs.push(d.getPairs());if(this.pairs.push(f.getPairs()),!ve.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,c+1)}catch(d){this.verbose&&console.log(d)}}throw new ee}static isValidSequence(s){for(let o of ve.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,f=!1,h=!1;for(;c<this.rows.length;){let d=this.rows[c];if(d.getRowNumber()>s){h=d.isEquivalent(this.pairs);break}f=d.isEquivalent(this.pairs),c++}h||f||ve.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new ut(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let h of s)if(ze.equals(f,h))break}}static isPartialRow(s,o){for(let c of o){let f=!0;for(let h of s){let d=!1;for(let x of c.getPairs())if(h.equals(x)){d=!0;break}if(!d){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=xr.buildBitArray(s),f=Le(o).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),d=s[s.length-1].getFinderPattern().getResultPoints(),x=[h[0],h[1],d[0],d[1]];return new K(f,null,null,x,ae.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),h=2;for(let x=1;x<this.pairs.size();++x){let w=this.pairs.get(x);f+=w.getLeftChar().getChecksumPortion(),h++;let y=w.getRightChar();y!=null&&(f+=y.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,d=!0,x=-1;do this.findNextPair(s,o,x),h=this.parseFoundFinderPattern(s,c,f),h==null?x=ve.getNextSecondBar(s,this.startEnd[0]):d=!1;while(d);let w=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let y;try{y=this.decodeDataCharacter(s,h,f,!1)}catch(T){y=null,this.verbose&&console.log(T)}return new ze(w,y,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),d;c>=0?d=c:this.isEmptyPair(o)?d=0:d=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let w=!1;for(;d<h&&(w=!s.get(d),!!w);)d++;let y=0,T=d;for(let O=d;O<h;O++)if(s.get(O)!=w)f[y]++;else{if(y==3){if(x&&ve.reverseCounters(f),ve.isFinderPattern(f)){this.startEnd[0]=T,this.startEnd[1]=O;return}x&&ve.reverseCounters(f),T+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,y--}else y++;f[y]=1,w=!w}throw new ee}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let f=s[c];s[c]=s[o-c-1],s[o-c-1]=f}}parseFoundFinderPattern(s,o,c){let f,h,d;if(c){let y=this.startEnd[0]-1;for(;y>=0&&!s.get(y);)y--;y++,f=this.startEnd[0]-y,h=y,d=this.startEnd[1]}else h=this.startEnd[0],d=s.getNextUnset(this.startEnd[1]+1),f=d-this.startEnd[1];let x=this.getDecodeFinderCounters();C.arraycopy(x,0,x,1,x.length-1),x[0]=f;let w;try{w=this.parseFinderValue(x,ve.FINDER_PATTERNS)}catch{return null}return new rt(w,[h,d],h,d,o)}decodeDataCharacter(s,o,c,f){let h=this.getDataCharacterCounters();for(let Zt=0;Zt<h.length;Zt++)h[Zt]=0;if(f)ve.recordPatternInReverse(s,o.getStartEnd()[0],h);else{ve.recordPattern(s,o.getStartEnd()[1],h);for(let Zt=0,hn=h.length-1;Zt<hn;Zt++,hn--){let ui=h[Zt];h[Zt]=h[hn],h[hn]=ui}}let d=17,x=Ye.sum(new Int32Array(h))/d,w=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-w)/w>.3)throw new ee;let y=this.getOddCounts(),T=this.getEvenCounts(),O=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Zt=0;Zt<h.length;Zt++){let hn=1*h[Zt]/x,ui=hn+.5;if(ui<1){if(hn<.3)throw new ee;ui=1}else if(ui>8){if(hn>8.7)throw new ee;ui=8}let $o=Zt/2;Zt&1?(T[$o]=ui,P[$o]=hn-ui):(y[$o]=ui,O[$o]=hn-ui)}this.adjustOddEvenCounts(d);let z=4*o.getValue()+(c?0:2)+(f?0:1)-1,J=0,re=0;for(let Zt=y.length-1;Zt>=0;Zt--){if(ve.isNotA1left(o,c,f)){let hn=ve.WEIGHTS[z][2*Zt];re+=y[Zt]*hn}J+=y[Zt]}let fe=0;for(let Zt=T.length-1;Zt>=0;Zt--)if(ve.isNotA1left(o,c,f)){let hn=ve.WEIGHTS[z][2*Zt+1];fe+=T[Zt]*hn}let me=re+fe;if(J&1||J>13||J<4)throw new ee;let Pe=(13-J)/2,Ue=ve.SYMBOL_WIDEST[Pe],be=9-Ue,bt=gt.getRSSvalue(y,Ue,!0),xt=gt.getRSSvalue(T,be,!1),qn=ve.EVEN_TOTAL_SUBSET[Pe],$i=ve.GSUM[Pe],Zn=bt*qn+xt+$i;return new ot(Zn,me)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=Ye.sum(new Int32Array(this.getOddCounts())),c=Ye.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let d=!1,x=!1;c>13?x=!0:c<4&&(d=!0);let w=o+c-s,y=(o&1)==1,T=(c&1)==0;if(w==1)if(y){if(T)throw new ee;h=!0}else{if(!T)throw new ee;x=!0}else if(w==-1)if(y){if(T)throw new ee;f=!0}else{if(!T)throw new ee;d=!0}else if(w==0){if(y){if(!T)throw new ee;o<c?(f=!0,x=!0):(h=!0,d=!0)}else if(T)throw new ee}else throw new ee;if(f){if(h)throw new ee;ve.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&ve.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(x)throw new ee;ve.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ve.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ve.SYMBOL_WIDEST=[7,5,4,3,1],ve.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ve.GSUM=[0,348,1388,2948,3988],ve.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ve.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ve.FINDER_PAT_A=0,ve.FINDER_PAT_B=1,ve.FINDER_PAT_C=2,ve.FINDER_PAT_D=3,ve.FINDER_PAT_E=4,ve.FINDER_PAT_F=5,ve.FINDER_PATTERN_SEQUENCES=[[ve.FINDER_PAT_A,ve.FINDER_PAT_A],[ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B],[ve.FINDER_PAT_A,ve.FINDER_PAT_C,ve.FINDER_PAT_B,ve.FINDER_PAT_D],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_C],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_D,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_E,ve.FINDER_PAT_B,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_D],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_E],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F],[ve.FINDER_PAT_A,ve.FINDER_PAT_A,ve.FINDER_PAT_B,ve.FINDER_PAT_B,ve.FINDER_PAT_C,ve.FINDER_PAT_D,ve.FINDER_PAT_D,ve.FINDER_PAT_E,ve.FINDER_PAT_E,ve.FINDER_PAT_F,ve.FINDER_PAT_F]],ve.MAX_PAIRS=11;class lr extends ot{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vt extends Xe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const f=this.decodePair(o,!1,s,c);vt.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,s,c);vt.addOrTally(this.possibleRightPairs,h),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&vt.checkChecksum(d,x))return vt.constructResult(d,x)}throw new ee}static addOrTally(s,o){if(o==null)return;let c=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),f=new String(c).toString(),h=new ye;for(let y=13-f.length;y>0;y--)h.append("0");h.append(f);let d=0;for(let y=0;y<13;y++){let T=h.charAt(y).charCodeAt(0)-48;d+=y&1?T:3*T}d=10-d%10,d===10&&(d=0),h.append(d.toString());let x=s.getFinderPattern().getResultPoints(),w=o.getFinderPattern().getResultPoints();return new K(h.toString(),null,0,[x[0],x[1],w[0],w[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,o,c,f){try{let h=this.findFinderPattern(s,o),d=this.parseFoundFinderPattern(s,c,o,h),x=f==null?null:f.get(G.NEED_RESULT_POINT_CALLBACK);if(x!=null){let T=(h[0]+h[1])/2;o&&(T=s.getSize()-1-T),x.foundPossibleResultPoint(new Ge(T,c))}let w=this.decodeDataCharacter(s,d,!0),y=this.decodeDataCharacter(s,d,!1);return new lr(1597*w.getValue()+y.getValue(),w.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(s,o,c){let f=this.getDataCharacterCounters();for(let fe=0;fe<f.length;fe++)f[fe]=0;if(c)pt.recordPatternInReverse(s,o.getStartEnd()[0],f);else{pt.recordPattern(s,o.getStartEnd()[1]+1,f);for(let fe=0,me=f.length-1;fe<me;fe++,me--){let Pe=f[fe];f[fe]=f[me],f[me]=Pe}}let h=c?16:15,d=Ye.sum(new Int32Array(f))/h,x=this.getOddCounts(),w=this.getEvenCounts(),y=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let fe=0;fe<f.length;fe++){let me=f[fe]/d,Pe=Math.floor(me+.5);Pe<1?Pe=1:Pe>8&&(Pe=8);let Ue=Math.floor(fe/2);fe&1?(w[Ue]=Pe,T[Ue]=me-Pe):(x[Ue]=Pe,y[Ue]=me-Pe)}this.adjustOddEvenCounts(c,h);let O=0,P=0;for(let fe=x.length-1;fe>=0;fe--)P*=9,P+=x[fe],O+=x[fe];let z=0,J=0;for(let fe=w.length-1;fe>=0;fe--)z*=9,z+=w[fe],J+=w[fe];let re=P+3*z;if(c){if(O&1||O>12||O<4)throw new ee;let fe=(12-O)/2,me=vt.OUTSIDE_ODD_WIDEST[fe],Pe=9-me,Ue=gt.getRSSvalue(x,me,!1),be=gt.getRSSvalue(w,Pe,!0),bt=vt.OUTSIDE_EVEN_TOTAL_SUBSET[fe],xt=vt.OUTSIDE_GSUM[fe];return new ot(Ue*bt+be+xt,re)}else{if(J&1||J>10||J<4)throw new ee;let fe=(10-J)/2,me=vt.INSIDE_ODD_WIDEST[fe],Pe=9-me,Ue=gt.getRSSvalue(x,me,!0),be=gt.getRSSvalue(w,Pe,!1),bt=vt.INSIDE_ODD_TOTAL_SUBSET[fe],xt=vt.INSIDE_GSUM[fe];return new ot(be*bt+Ue+xt,re)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),h=!1,d=0;for(;d<f&&(h=!s.get(d),o!==h);)d++;let x=0,w=d;for(let y=d;y<f;y++)if(s.get(y)!==h)c[x]++;else{if(x===3){if(Xe.isFinderPattern(c))return[w,y];w+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,x--}else x++;c[x]=1,h=!h}throw new ee}parseFoundFinderPattern(s,o,c,f){let h=s.get(f[0]),d=f[0]-1;for(;d>=0&&h!==s.get(d);)d--;d++;const x=f[0]-d,w=this.getDecodeFinderCounters(),y=new Int32Array(w.length);C.arraycopy(w,0,y,1,w.length-1),y[0]=x;const T=this.parseFinderValue(y,vt.FINDER_PATTERNS);let O=d,P=f[1];return c&&(O=s.getSize()-1-O,P=s.getSize()-1-P),new rt(T,[d,f[1]],O,P,o)}adjustOddEvenCounts(s,o){let c=Ye.sum(new Int32Array(this.getOddCounts())),f=Ye.sum(new Int32Array(this.getEvenCounts())),h=!1,d=!1,x=!1,w=!1;s?(c>12?d=!0:c<4&&(h=!0),f>12?w=!0:f<4&&(x=!0)):(c>11?d=!0:c<5&&(h=!0),f>10?w=!0:f<4&&(x=!0));let y=c+f-o,T=(c&1)===(s?1:0),O=(f&1)===1;if(y===1)if(T){if(O)throw new ee;d=!0}else{if(!O)throw new ee;w=!0}else if(y===-1)if(T){if(O)throw new ee;h=!0}else{if(!O)throw new ee;x=!0}else if(y===0){if(T){if(!O)throw new ee;c<f?(h=!0,w=!0):(d=!0,x=!0)}else if(O)throw new ee}else throw new ee;if(h){if(d)throw new ee;Xe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Xe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(w)throw new ee;Xe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Xe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vt.OUTSIDE_GSUM=[0,161,961,2015,2715],vt.INSIDE_GSUM=[0,336,1036,1516],vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vt.INSIDE_ODD_WIDEST=[2,4,6,8],vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ti extends pt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(G.POSSIBLE_FORMATS):null,f=s&&s.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(ae.EAN_13)||c.includes(ae.UPC_A)||c.includes(ae.EAN_8)||c.includes(ae.UPC_E))&&this.readers.push(new Ve(s)),c.includes(ae.CODE_39)&&this.readers.push(new At(f)),c.includes(ae.CODE_128)&&this.readers.push(new Me),c.includes(ae.ITF)&&this.readers.push(new jt),c.includes(ae.RSS_14)&&this.readers.push(new vt),c.includes(ae.RSS_EXPANDED)&&this.readers.push(new ve(this.verbose))):(this.readers.push(new Ve(s)),this.readers.push(new At),this.readers.push(new Ve(s)),this.readers.push(new Me),this.readers.push(new jt),this.readers.push(new vt),this.readers.push(new ve(this.verbose)))}decodeRow(s,o,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,c)}catch{}throw new ee}reset(){this.readers.forEach(s=>s.reset())}}class Xa extends se{constructor(s=500,o){super(new Ti(o),s,o)}}class kt{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class yt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(s,o,c,f,h,d){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=d;let x=0;const w=d.getECCodewords(),y=d.getECBlocks();for(let T of y)x+=T.getCount()*(T.getDataCodewords()+w);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new D;for(let c of _t.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new _t(1,10,10,8,8,new kt(5,new yt(1,3))),new _t(2,12,12,10,10,new kt(7,new yt(1,5))),new _t(3,14,14,12,12,new kt(10,new yt(1,8))),new _t(4,16,16,14,14,new kt(12,new yt(1,12))),new _t(5,18,18,16,16,new kt(14,new yt(1,18))),new _t(6,20,20,18,18,new kt(18,new yt(1,22))),new _t(7,22,22,20,20,new kt(20,new yt(1,30))),new _t(8,24,24,22,22,new kt(24,new yt(1,36))),new _t(9,26,26,24,24,new kt(28,new yt(1,44))),new _t(10,32,32,14,14,new kt(36,new yt(1,62))),new _t(11,36,36,16,16,new kt(42,new yt(1,86))),new _t(12,40,40,18,18,new kt(48,new yt(1,114))),new _t(13,44,44,20,20,new kt(56,new yt(1,144))),new _t(14,48,48,22,22,new kt(68,new yt(1,174))),new _t(15,52,52,24,24,new kt(42,new yt(2,102))),new _t(16,64,64,14,14,new kt(56,new yt(2,140))),new _t(17,72,72,16,16,new kt(36,new yt(4,92))),new _t(18,80,80,18,18,new kt(48,new yt(4,114))),new _t(19,88,88,20,20,new kt(56,new yt(4,144))),new _t(20,96,96,22,22,new kt(68,new yt(4,174))),new _t(21,104,104,24,24,new kt(56,new yt(6,136))),new _t(22,120,120,18,18,new kt(68,new yt(6,175))),new _t(23,132,132,20,20,new kt(62,new yt(8,163))),new _t(24,144,144,22,22,new kt(62,new yt(8,156),new yt(2,155))),new _t(25,8,18,6,16,new kt(7,new yt(1,5))),new _t(26,8,32,6,14,new kt(11,new yt(1,10))),new _t(27,12,26,10,24,new kt(14,new yt(1,16))),new _t(28,12,36,10,16,new kt(18,new yt(1,22))),new _t(29,16,36,14,16,new kt(24,new yt(1,32))),new _t(30,16,48,14,22,new kt(28,new yt(1,49)))]}}_t.VERSIONS=_t.buildVersions();class ci{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new D;this.version=ci.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return _t.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,f=0;const h=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let x=!1,w=!1,y=!1,T=!1;do if(c===h&&f===0&&!x)s[o++]=this.readCorner1(h,d)&255,c-=2,f+=2,x=!0;else if(c===h-2&&f===0&&d&3&&!w)s[o++]=this.readCorner2(h,d)&255,c-=2,f+=2,w=!0;else if(c===h+4&&f===2&&!(d&7)&&!y)s[o++]=this.readCorner3(h,d)&255,c-=2,f+=2,y=!0;else if(c===h-2&&f===0&&(d&7)===4&&!T)s[o++]=this.readCorner4(h,d)&255,c-=2,f+=2,T=!0;else{do c<h&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,d)&255),c-=2,f+=2;while(c>=0&&f<d);c+=1,f+=3;do c>=0&&f<d&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,d)&255),c+=2,f-=2;while(c<h&&f>=0);c+=3,f+=1}while(c<h||f<d);if(o!==this.version.getTotalCodewords())throw new D;return s}readModule(s,o,c,f){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,f){let h=0;return this.readModule(s-2,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-2,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o,c,f)&&(h|=1),h<<=1,this.readModule(s,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s,o,c,f)&&(h|=1),h}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),d=o/f|0,x=c/h|0,w=d*f,y=x*h,T=new Se(y,w);for(let O=0;O<d;++O){const P=O*f;for(let z=0;z<x;++z){const J=z*h;for(let re=0;re<f;++re){const fe=O*(f+2)+1+re,me=P+re;for(let Pe=0;Pe<h;++Pe){const Ue=z*(h+2)+1+Pe;if(s.get(Ue,fe)){const be=J+Pe;T.set(be,me)}}}}}return T}}class gd{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let f=0;const h=c.getECBlocks();for(let re of h)f+=re.getCount();const d=new Array(f);let x=0;for(let re of h)for(let fe=0;fe<re.getCount();fe++){const me=re.getDataCodewords(),Pe=c.getECCodewords()+me;d[x++]=new gd(me,new Uint8Array(Pe))}const y=d[0].codewords.length-c.getECCodewords(),T=y-1;let O=0;for(let re=0;re<T;re++)for(let fe=0;fe<x;fe++)d[fe].codewords[re]=s[O++];const P=o.getVersionNumber()===24,z=P?8:x;for(let re=0;re<z;re++)d[re].codewords[y-1]=s[O++];const J=d[0].codewords.length;for(let re=y;re<J;re++)for(let fe=0;fe<x;fe++){const me=P?(fe+8)%x:fe,Pe=P&&me>7?re-1:re;d[me].codewords[Pe]=s[O++]}if(O!==s.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class pd{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let o=0,c=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(c>0){const d=8-c,x=s<d?s:d,w=d-x,y=255>>8-x<<w;o=(h[f]&y)>>w,s-=x,c+=x,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)o=o<<8|h[f]&255,f++,s-=8;if(s>0){const d=8-s,x=255>>d<<d;o=o<<s|(h[f]&x)>>d,c+=s}}return this.bitOffset=c,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var jr;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(jr||(jr={}));class Js{static decode(s){const o=new pd(s),c=new ye,f=new ye,h=new Array;let d=jr.ASCII_ENCODE;do if(d===jr.ASCII_ENCODE)d=this.decodeAsciiSegment(o,c,f);else{switch(d){case jr.C40_ENCODE:this.decodeC40Segment(o,c);break;case jr.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case jr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case jr.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case jr.BASE256_ENCODE:this.decodeBase256Segment(o,c,h);break;default:throw new D}d=jr.ASCII_ENCODE}while(d!==jr.PAD_ENCODE&&o.available()>0);return f.length()>0&&c.append(f.toString()),new je(s,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,o,c){let f=!1;do{let h=s.readBits(8);if(h===0)throw new D;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),jr.ASCII_ENCODE;if(h===129)return jr.PAD_ENCODE;if(h<=229){const d=h-130;d<10&&o.append("0"),o.append(""+d)}else switch(h){case 230:return jr.C40_ENCODE;case 231:return jr.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return jr.ANSIX12_ENCODE;case 239:return jr.TEXT_ENCODE;case 240:return jr.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new D;break}}while(s.available()>0);return jr.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const f=[];let h=0;do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(h){case 0:if(w<3)h=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else throw new D;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new D}h=0;break;case 3:c?(o.append(String.fromCharCode(w+224)),c=!1):o.append(String.fromCharCode(w+96)),h=0;break;default:throw new D}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,f=[],h=0;do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(h){case 0:if(w<3)h=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else throw new D;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new D}h=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[w];c?(o.append(String.fromCharCode(y.charCodeAt(0)+128)),c=!1):o.append(y),h=0}else throw new D;break;default:throw new D}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let h=0;h<3;h++){const d=c[h];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else if(d<40)o.append(String.fromCharCode(d+51));else throw new D;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let f=(s<<8)+o-1,h=Math.floor(f/1600);c[0]=h,f-=h*1600,h=Math.floor(f/40),c[1]=h,c[2]=f-h*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let d;if(h===0?d=s.available()/8|0:h<250?d=h:d=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),d<0)throw new D;const x=new Uint8Array(d);for(let w=0;w<d;w++){if(s.available()<8)throw new D;x[w]=this.unrandomize255State(s.readBits(8),f++)}c.push(x);try{o.append(le.decode(x,Q.ISO88591))}catch(w){throw new ht("Platform does not support required encoding: "+w.message)}}static unrandomize255State(s,o){const c=149*o%255+1,f=s-c;return f>=0?f:f+256}}Js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Js.TEXT_SHIFT2_SET_CHARS=Js.C40_SHIFT2_SET_CHARS,Js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class $S{constructor(){this.rsDecoder=new qe(Ze.DATA_MATRIX_FIELD_256)}decode(s){const o=new ci(s),c=o.getVersion(),f=o.readCodewords(),h=gd.getDataBlocks(f,c);let d=0;for(let y of h)d+=y.getNumDataCodewords();const x=new Uint8Array(d),w=h.length;for(let y=0;y<w;y++){const T=h[y],O=T.getCodewords(),P=T.getNumDataCodewords();this.correctErrors(O,P);for(let z=0;z<P;z++)x[z*w+y]=O[z]}return Js.decode(x)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new E}for(let f=0;f<o;f++)s[f]=c[f]}}class Ir{constructor(s){this.image=s,this.rectangleDetector=new Qt(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const c=o[0],f=o[1],h=o[2],d=o[3];let x=this.transitionsBetween(c,d)+1,w=this.transitionsBetween(h,d)+1;(x&1)===1&&(x+=1),(w&1)===1&&(w+=1),4*x<7*w&&4*w<7*x&&(x=w=Math.max(x,w));let y=Ir.sampleGrid(this.image,c,f,h,d,x,w);return new ln(y,[c,f,h,d])}static shiftPoint(s,o,c){let f=(o.getX()-s.getX())/(c+1),h=(o.getY()-s.getY())/(c+1);return new Ge(s.getX()+f,s.getY()+h)}static moveAway(s,o,c){let f=s.getX(),h=s.getY();return f<o?f-=1:f+=1,h<c?h-=1:h+=1,new Ge(f,h)}detectSolid1(s){let o=s[0],c=s[1],f=s[3],h=s[2],d=this.transitionsBetween(o,c),x=this.transitionsBetween(c,f),w=this.transitionsBetween(f,h),y=this.transitionsBetween(h,o),T=d,O=[h,o,c,f];return T>x&&(T=x,O[0]=o,O[1]=c,O[2]=f,O[3]=h),T>w&&(T=w,O[0]=c,O[1]=f,O[2]=h,O[3]=o),T>y&&(O[0]=f,O[1]=h,O[2]=o,O[3]=c),O}detectSolid2(s){let o=s[0],c=s[1],f=s[2],h=s[3],d=this.transitionsBetween(o,h),x=Ir.shiftPoint(c,f,(d+1)*4),w=Ir.shiftPoint(f,c,(d+1)*4),y=this.transitionsBetween(x,o),T=this.transitionsBetween(w,h);return y<T?(s[0]=o,s[1]=c,s[2]=f,s[3]=h):(s[0]=c,s[1]=f,s[2]=h,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],f=s[2],h=s[3],d=this.transitionsBetween(o,h),x=this.transitionsBetween(c,h),w=Ir.shiftPoint(o,c,(x+1)*4),y=Ir.shiftPoint(f,c,(d+1)*4);d=this.transitionsBetween(w,h),x=this.transitionsBetween(y,h);let T=new Ge(h.getX()+(f.getX()-c.getX())/(d+1),h.getY()+(f.getY()-c.getY())/(d+1)),O=new Ge(h.getX()+(o.getX()-c.getX())/(x+1),h.getY()+(o.getY()-c.getY())/(x+1));if(!this.isValid(T))return this.isValid(O)?O:null;if(!this.isValid(O))return T;let P=this.transitionsBetween(w,T)+this.transitionsBetween(y,T),z=this.transitionsBetween(w,O)+this.transitionsBetween(y,O);return P>z?T:O}shiftToModuleCenter(s){let o=s[0],c=s[1],f=s[2],h=s[3],d=this.transitionsBetween(o,h)+1,x=this.transitionsBetween(f,h)+1,w=Ir.shiftPoint(o,c,x*4),y=Ir.shiftPoint(f,c,d*4);d=this.transitionsBetween(w,h)+1,x=this.transitionsBetween(y,h)+1,(d&1)===1&&(d+=1),(x&1)===1&&(x+=1);let T=(o.getX()+c.getX()+f.getX()+h.getX())/4,O=(o.getY()+c.getY()+f.getY()+h.getY())/4;o=Ir.moveAway(o,T,O),c=Ir.moveAway(c,T,O),f=Ir.moveAway(f,T,O),h=Ir.moveAway(h,T,O);let P,z;return w=Ir.shiftPoint(o,c,x*4),w=Ir.shiftPoint(w,h,d*4),P=Ir.shiftPoint(c,o,x*4),P=Ir.shiftPoint(P,f,d*4),y=Ir.shiftPoint(f,h,x*4),y=Ir.shiftPoint(y,c,d*4),z=Ir.shiftPoint(h,f,x*4),z=Ir.shiftPoint(z,o,d*4),[w,P,y,z]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,f,h,d,x){return Jt.getInstance().sampleGrid(s,d,x,.5,.5,d-.5,.5,d-.5,x-.5,.5,x-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(o.getX()),d=Math.trunc(o.getY()),x=Math.abs(d-f)>Math.abs(h-c);if(x){let re=c;c=f,f=re,re=h,h=d,d=re}let w=Math.abs(h-c),y=Math.abs(d-f),T=-w/2,O=f<d?1:-1,P=c<h?1:-1,z=0,J=this.image.get(x?f:c,x?c:f);for(let re=c,fe=f;re!==h;re+=P){let me=this.image.get(x?fe:re,x?re:fe);if(me!==J&&(z++,J=me),T+=y,T>0){if(fe===d)break;fe+=O,T-=w}}return z}}class ea{constructor(){this.decoder=new $S}decode(s,o=null){let c,f;if(o!=null&&o.has(G.PURE_BARCODE)){const y=ea.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(y),f=ea.NO_POINTS}else{const y=new Ir(s.getBlackMatrix()).detect();c=this.decoder.decode(y.getBits()),f=y.getPoints()}const h=c.getRawBytes(),d=new K(c.getText(),h,8*h.length,f,ae.DATA_MATRIX,C.currentTimeMillis()),x=c.getByteSegments();x!=null&&d.putMetadata(We.BYTE_SEGMENTS,x);const w=c.getECLevel();return w!=null&&d.putMetadata(We.ERROR_CORRECTION_LEVEL,w),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new ee;const f=this.moduleSize(o,s);let h=o[1];const d=c[1];let x=o[0];const y=(c[0]-x+1)/f,T=(d-h+1)/f;if(y<=0||T<=0)throw new ee;const O=f/2;h+=O,x+=O;const P=new Se(y,T);for(let z=0;z<T;z++){const J=h+z*f;for(let re=0;re<y;re++)s.get(x+re*f,J)&&P.set(re,z)}return P}static moduleSize(s,o){const c=o.getWidth();let f=s[0];const h=s[1];for(;f<c&&o.get(f,h);)f++;if(f===c)throw new ee;const d=f-s[0];if(d===0)throw new ee;return d}}ea.NO_POINTS=[];class YS extends se{constructor(s=500){super(new ea,s)}}var zo;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(zo||(zo={}));class tr{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,tr.FOR_BITS.set(c,this),tr.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return tr.L;case"M":return tr.M;case"Q":return tr.Q;case"H":return tr.H;default:throw new m(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof tr))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=tr.FOR_BITS.size)throw new v;return tr.FOR_BITS.get(s)}}tr.FOR_BITS=new Map,tr.FOR_VALUE=new Map,tr.L=new tr(zo.L,"L",1),tr.M=new tr(zo.M,"M",0),tr.Q=new tr(zo.Q,"Q",3),tr.H=new tr(zo.H,"H",2);class En{constructor(s){this.errorCorrectionLevel=tr.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return S.bitCount(s^o)}static decodeFormatInformation(s,o){const c=En.doDecodeFormatInformation(s,o);return c!==null?c:En.doDecodeFormatInformation(s^En.FORMAT_INFO_MASK_QR,o^En.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,f=0;for(const h of En.FORMAT_INFO_DECODE_LOOKUP){const d=h[0];if(d===s||d===o)return new En(h[1]);let x=En.numBitsDiffering(s,d);x<c&&(f=h[1],c=x),s!==o&&(x=En.numBitsDiffering(o,d),x<c&&(f=h[1],c=x))}return c<=3?new En(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof En))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}En.FORMAT_INFO_MASK_QR=21522,En.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class he{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class V{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qe{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let f=0;const h=c[0].getECCodewordsPerBlock(),d=c[0].getECBlocks();for(const x of d)f+=x.getCount()*(x.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new D;try{return this.getVersionForNumber((s-17)/4)}catch{throw new D}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return Qe.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<Qe.VERSION_DECODE_INFO.length;f++){const h=Qe.VERSION_DECODE_INFO[f];if(h===s)return Qe.getVersionForNumber(f+7);const d=En.numBitsDiffering(s,h);d<o&&(c=f+7,o=d)}return o<=3?Qe.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new Se(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const h=this.alignmentPatternCenters[f]-2;for(let d=0;d<c;d++)f===0&&(d===0||d===c-1)||f===c-1&&d===0||o.setRegion(this.alignmentPatternCenters[d]-2,h,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Qe.VERSIONS=[new Qe(1,new Int32Array(0),new he(7,new V(1,19)),new he(10,new V(1,16)),new he(13,new V(1,13)),new he(17,new V(1,9))),new Qe(2,Int32Array.from([6,18]),new he(10,new V(1,34)),new he(16,new V(1,28)),new he(22,new V(1,22)),new he(28,new V(1,16))),new Qe(3,Int32Array.from([6,22]),new he(15,new V(1,55)),new he(26,new V(1,44)),new he(18,new V(2,17)),new he(22,new V(2,13))),new Qe(4,Int32Array.from([6,26]),new he(20,new V(1,80)),new he(18,new V(2,32)),new he(26,new V(2,24)),new he(16,new V(4,9))),new Qe(5,Int32Array.from([6,30]),new he(26,new V(1,108)),new he(24,new V(2,43)),new he(18,new V(2,15),new V(2,16)),new he(22,new V(2,11),new V(2,12))),new Qe(6,Int32Array.from([6,34]),new he(18,new V(2,68)),new he(16,new V(4,27)),new he(24,new V(4,19)),new he(28,new V(4,15))),new Qe(7,Int32Array.from([6,22,38]),new he(20,new V(2,78)),new he(18,new V(4,31)),new he(18,new V(2,14),new V(4,15)),new he(26,new V(4,13),new V(1,14))),new Qe(8,Int32Array.from([6,24,42]),new he(24,new V(2,97)),new he(22,new V(2,38),new V(2,39)),new he(22,new V(4,18),new V(2,19)),new he(26,new V(4,14),new V(2,15))),new Qe(9,Int32Array.from([6,26,46]),new he(30,new V(2,116)),new he(22,new V(3,36),new V(2,37)),new he(20,new V(4,16),new V(4,17)),new he(24,new V(4,12),new V(4,13))),new Qe(10,Int32Array.from([6,28,50]),new he(18,new V(2,68),new V(2,69)),new he(26,new V(4,43),new V(1,44)),new he(24,new V(6,19),new V(2,20)),new he(28,new V(6,15),new V(2,16))),new Qe(11,Int32Array.from([6,30,54]),new he(20,new V(4,81)),new he(30,new V(1,50),new V(4,51)),new he(28,new V(4,22),new V(4,23)),new he(24,new V(3,12),new V(8,13))),new Qe(12,Int32Array.from([6,32,58]),new he(24,new V(2,92),new V(2,93)),new he(22,new V(6,36),new V(2,37)),new he(26,new V(4,20),new V(6,21)),new he(28,new V(7,14),new V(4,15))),new Qe(13,Int32Array.from([6,34,62]),new he(26,new V(4,107)),new he(22,new V(8,37),new V(1,38)),new he(24,new V(8,20),new V(4,21)),new he(22,new V(12,11),new V(4,12))),new Qe(14,Int32Array.from([6,26,46,66]),new he(30,new V(3,115),new V(1,116)),new he(24,new V(4,40),new V(5,41)),new he(20,new V(11,16),new V(5,17)),new he(24,new V(11,12),new V(5,13))),new Qe(15,Int32Array.from([6,26,48,70]),new he(22,new V(5,87),new V(1,88)),new he(24,new V(5,41),new V(5,42)),new he(30,new V(5,24),new V(7,25)),new he(24,new V(11,12),new V(7,13))),new Qe(16,Int32Array.from([6,26,50,74]),new he(24,new V(5,98),new V(1,99)),new he(28,new V(7,45),new V(3,46)),new he(24,new V(15,19),new V(2,20)),new he(30,new V(3,15),new V(13,16))),new Qe(17,Int32Array.from([6,30,54,78]),new he(28,new V(1,107),new V(5,108)),new he(28,new V(10,46),new V(1,47)),new he(28,new V(1,22),new V(15,23)),new he(28,new V(2,14),new V(17,15))),new Qe(18,Int32Array.from([6,30,56,82]),new he(30,new V(5,120),new V(1,121)),new he(26,new V(9,43),new V(4,44)),new he(28,new V(17,22),new V(1,23)),new he(28,new V(2,14),new V(19,15))),new Qe(19,Int32Array.from([6,30,58,86]),new he(28,new V(3,113),new V(4,114)),new he(26,new V(3,44),new V(11,45)),new he(26,new V(17,21),new V(4,22)),new he(26,new V(9,13),new V(16,14))),new Qe(20,Int32Array.from([6,34,62,90]),new he(28,new V(3,107),new V(5,108)),new he(26,new V(3,41),new V(13,42)),new he(30,new V(15,24),new V(5,25)),new he(28,new V(15,15),new V(10,16))),new Qe(21,Int32Array.from([6,28,50,72,94]),new he(28,new V(4,116),new V(4,117)),new he(26,new V(17,42)),new he(28,new V(17,22),new V(6,23)),new he(30,new V(19,16),new V(6,17))),new Qe(22,Int32Array.from([6,26,50,74,98]),new he(28,new V(2,111),new V(7,112)),new he(28,new V(17,46)),new he(30,new V(7,24),new V(16,25)),new he(24,new V(34,13))),new Qe(23,Int32Array.from([6,30,54,78,102]),new he(30,new V(4,121),new V(5,122)),new he(28,new V(4,47),new V(14,48)),new he(30,new V(11,24),new V(14,25)),new he(30,new V(16,15),new V(14,16))),new Qe(24,Int32Array.from([6,28,54,80,106]),new he(30,new V(6,117),new V(4,118)),new he(28,new V(6,45),new V(14,46)),new he(30,new V(11,24),new V(16,25)),new he(30,new V(30,16),new V(2,17))),new Qe(25,Int32Array.from([6,32,58,84,110]),new he(26,new V(8,106),new V(4,107)),new he(28,new V(8,47),new V(13,48)),new he(30,new V(7,24),new V(22,25)),new he(30,new V(22,15),new V(13,16))),new Qe(26,Int32Array.from([6,30,58,86,114]),new he(28,new V(10,114),new V(2,115)),new he(28,new V(19,46),new V(4,47)),new he(28,new V(28,22),new V(6,23)),new he(30,new V(33,16),new V(4,17))),new Qe(27,Int32Array.from([6,34,62,90,118]),new he(30,new V(8,122),new V(4,123)),new he(28,new V(22,45),new V(3,46)),new he(30,new V(8,23),new V(26,24)),new he(30,new V(12,15),new V(28,16))),new Qe(28,Int32Array.from([6,26,50,74,98,122]),new he(30,new V(3,117),new V(10,118)),new he(28,new V(3,45),new V(23,46)),new he(30,new V(4,24),new V(31,25)),new he(30,new V(11,15),new V(31,16))),new Qe(29,Int32Array.from([6,30,54,78,102,126]),new he(30,new V(7,116),new V(7,117)),new he(28,new V(21,45),new V(7,46)),new he(30,new V(1,23),new V(37,24)),new he(30,new V(19,15),new V(26,16))),new Qe(30,Int32Array.from([6,26,52,78,104,130]),new he(30,new V(5,115),new V(10,116)),new he(28,new V(19,47),new V(10,48)),new he(30,new V(15,24),new V(25,25)),new he(30,new V(23,15),new V(25,16))),new Qe(31,Int32Array.from([6,30,56,82,108,134]),new he(30,new V(13,115),new V(3,116)),new he(28,new V(2,46),new V(29,47)),new he(30,new V(42,24),new V(1,25)),new he(30,new V(23,15),new V(28,16))),new Qe(32,Int32Array.from([6,34,60,86,112,138]),new he(30,new V(17,115)),new he(28,new V(10,46),new V(23,47)),new he(30,new V(10,24),new V(35,25)),new he(30,new V(19,15),new V(35,16))),new Qe(33,Int32Array.from([6,30,58,86,114,142]),new he(30,new V(17,115),new V(1,116)),new he(28,new V(14,46),new V(21,47)),new he(30,new V(29,24),new V(19,25)),new he(30,new V(11,15),new V(46,16))),new Qe(34,Int32Array.from([6,34,62,90,118,146]),new he(30,new V(13,115),new V(6,116)),new he(28,new V(14,46),new V(23,47)),new he(30,new V(44,24),new V(7,25)),new he(30,new V(59,16),new V(1,17))),new Qe(35,Int32Array.from([6,30,54,78,102,126,150]),new he(30,new V(12,121),new V(7,122)),new he(28,new V(12,47),new V(26,48)),new he(30,new V(39,24),new V(14,25)),new he(30,new V(22,15),new V(41,16))),new Qe(36,Int32Array.from([6,24,50,76,102,128,154]),new he(30,new V(6,121),new V(14,122)),new he(28,new V(6,47),new V(34,48)),new he(30,new V(46,24),new V(10,25)),new he(30,new V(2,15),new V(64,16))),new Qe(37,Int32Array.from([6,28,54,80,106,132,158]),new he(30,new V(17,122),new V(4,123)),new he(28,new V(29,46),new V(14,47)),new he(30,new V(49,24),new V(10,25)),new he(30,new V(24,15),new V(46,16))),new Qe(38,Int32Array.from([6,32,58,84,110,136,162]),new he(30,new V(4,122),new V(18,123)),new he(28,new V(13,46),new V(32,47)),new he(30,new V(48,24),new V(14,25)),new he(30,new V(42,15),new V(32,16))),new Qe(39,Int32Array.from([6,26,54,82,110,138,166]),new he(30,new V(20,117),new V(4,118)),new he(28,new V(40,47),new V(7,48)),new he(30,new V(43,24),new V(22,25)),new he(30,new V(10,15),new V(67,16))),new Qe(40,Int32Array.from([6,30,58,86,114,142,170]),new he(30,new V(19,118),new V(6,119)),new he(28,new V(18,47),new V(31,48)),new he(30,new V(34,24),new V(34,25)),new he(30,new V(20,15),new V(61,16)))];var qr;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(qr||(qr={}));class ki{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let f=0;f<o;f++)this.isMasked(c,f)&&s.flip(f,c)}}ki.values=new Map([[qr.DATA_MASK_000,new ki(qr.DATA_MASK_000,(R,s)=>(R+s&1)===0)],[qr.DATA_MASK_001,new ki(qr.DATA_MASK_001,(R,s)=>(R&1)===0)],[qr.DATA_MASK_010,new ki(qr.DATA_MASK_010,(R,s)=>s%3===0)],[qr.DATA_MASK_011,new ki(qr.DATA_MASK_011,(R,s)=>(R+s)%3===0)],[qr.DATA_MASK_100,new ki(qr.DATA_MASK_100,(R,s)=>(Math.floor(R/2)+Math.floor(s/3)&1)===0)],[qr.DATA_MASK_101,new ki(qr.DATA_MASK_101,(R,s)=>R*s%6===0)],[qr.DATA_MASK_110,new ki(qr.DATA_MASK_110,(R,s)=>R*s%6<3)],[qr.DATA_MASK_111,new ki(qr.DATA_MASK_111,(R,s)=>(R+s+R*s%3&1)===0)]]);class KS{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new D;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const o=this.bitMatrix.getHeight();let c=0;const f=o-7;for(let h=o-1;h>=f;h--)c=this.copyBit(8,h,c);for(let h=o-8;h<o;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=En.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Qe.getVersionForNumber(o);let c=0;const f=s-11;for(let d=5;d>=0;d--)for(let x=s-9;x>=f;x--)c=this.copyBit(x,d,c);let h=Qe.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;c=0;for(let d=5;d>=0;d--)for(let x=s-9;x>=f;x--)c=this.copyBit(d,x,c);if(h=Qe.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new D}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=ki.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let d=!0;const x=new Uint8Array(o.getTotalCodewords());let w=0,y=0,T=0;for(let O=f-1;O>0;O-=2){O===6&&O--;for(let P=0;P<f;P++){const z=d?f-1-P:P;for(let J=0;J<2;J++)h.get(O-J,z)||(T++,y<<=1,this.bitMatrix.get(O-J,z)&&(y|=1),T===8&&(x[w++]=y,T=0,y=0))}d=!d}if(w!==o.getTotalCodewords())throw new D;return x}remask(){if(this.parsedFormatInfo===null)return;const s=ki.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let f=o+1,h=s.getHeight();f<h;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class xd{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new v;const f=o.getECBlocksForLevel(c);let h=0;const d=f.getECBlocks();for(const J of d)h+=J.getCount();const x=new Array(h);let w=0;for(const J of d)for(let re=0;re<J.getCount();re++){const fe=J.getDataCodewords(),me=f.getECCodewordsPerBlock()+fe;x[w++]=new xd(fe,new Uint8Array(me))}const y=x[0].codewords.length;let T=x.length-1;for(;T>=0&&x[T].codewords.length!==y;)T--;T++;const O=y-f.getECCodewordsPerBlock();let P=0;for(let J=0;J<O;J++)for(let re=0;re<w;re++)x[re].codewords[J]=s[P++];for(let J=T;J<w;J++)x[J].codewords[O]=s[P++];const z=x[0].codewords.length;for(let J=O;J<z;J++)for(let re=0;re<w;re++){const fe=re<T?J:J+1;x[re].codewords[fe]=s[P++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bi;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(bi||(bi={}));class Je{constructor(s,o,c,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=f,Je.FOR_BITS.set(f,this),Je.FOR_VALUE.set(s,this)}static forBits(s){const o=Je.FOR_BITS.get(s);if(o===void 0)throw new v;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Je))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}Je.FOR_BITS=new Map,Je.FOR_VALUE=new Map,Je.TERMINATOR=new Je(bi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Je.NUMERIC=new Je(bi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Je.ALPHANUMERIC=new Je(bi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Je.STRUCTURED_APPEND=new Je(bi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Je.BYTE=new Je(bi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Je.ECI=new Je(bi.ECI,"ECI",Int32Array.from([0,0,0]),7),Je.KANJI=new Je(bi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Je.FNC1_FIRST_POSITION=new Je(bi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Je.FNC1_SECOND_POSITION=new Je(bi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Je.HANZI=new Je(bi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class mr{static decode(s,o,c,f){const h=new pd(s);let d=new ye;const x=new Array;let w=-1,y=-1;try{let T=null,O=!1,P;do{if(h.available()<4)P=Je.TERMINATOR;else{const z=h.readBits(4);P=Je.forBits(z)}switch(P){case Je.TERMINATOR:break;case Je.FNC1_FIRST_POSITION:case Je.FNC1_SECOND_POSITION:O=!0;break;case Je.STRUCTURED_APPEND:if(h.available()<16)throw new D;w=h.readBits(8),y=h.readBits(8);break;case Je.ECI:const z=mr.parseECIValue(h);if(T=j.getCharacterSetECIByValue(z),T===null)throw new D;break;case Je.HANZI:const J=h.readBits(4),re=h.readBits(P.getCharacterCountBits(o));J===mr.GB2312_SUBSET&&mr.decodeHanziSegment(h,d,re);break;default:const fe=h.readBits(P.getCharacterCountBits(o));switch(P){case Je.NUMERIC:mr.decodeNumericSegment(h,d,fe);break;case Je.ALPHANUMERIC:mr.decodeAlphanumericSegment(h,d,fe,O);break;case Je.BYTE:mr.decodeByteSegment(h,d,fe,T,x,f);break;case Je.KANJI:mr.decodeKanjiSegment(h,d,fe);break;default:throw new D}break}}while(P!==Je.TERMINATOR)}catch{throw new D}return new je(s,d.toString(),x.length===0?null:x,c===null?null:c.toString(),w,y)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new D;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const d=s.readBits(13);let x=d/96<<8&4294967295|d%96;x<959?x+=41377:x+=42657,f[h]=x>>8&255,f[h+1]=x&255,h+=2,c--}try{o.append(le.decode(f,Q.GB2312))}catch(d){throw new D(d)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new D;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const d=s.readBits(13);let x=d/192<<8&4294967295|d%192;x<7936?x+=33088:x+=49472,f[h]=x>>8,f[h+1]=x,h+=2,c--}try{o.append(le.decode(f,Q.SHIFT_JIS))}catch(d){throw new D(d)}}static decodeByteSegment(s,o,c,f,h,d){if(8*c>s.available())throw new D;const x=new Uint8Array(c);for(let y=0;y<c;y++)x[y]=s.readBits(8);let w;f===null?w=Q.guessEncoding(x,d):w=f.getName();try{o.append(le.decode(x,w))}catch(y){throw new D(y)}h.push(x)}static toAlphaNumericChar(s){if(s>=mr.ALPHANUMERIC_CHARS.length)throw new D;return mr.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,f){const h=o.length();for(;c>1;){if(s.available()<11)throw new D;const d=s.readBits(11);o.append(mr.toAlphaNumericChar(Math.floor(d/45))),o.append(mr.toAlphaNumericChar(d%45)),c-=2}if(c===1){if(s.available()<6)throw new D;o.append(mr.toAlphaNumericChar(s.readBits(6)))}if(f)for(let d=h;d<o.length();d++)o.charAt(d)==="%"&&(d<o.length()-1&&o.charAt(d+1)==="%"?o.deleteCharAt(d+1):o.setCharAt(d,""))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new D;const f=s.readBits(10);if(f>=1e3)throw new D;o.append(mr.toAlphaNumericChar(Math.floor(f/100))),o.append(mr.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(mr.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new D;const f=s.readBits(7);if(f>=100)throw new D;o.append(mr.toAlphaNumericChar(Math.floor(f/10))),o.append(mr.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new D;const f=s.readBits(4);if(f>=10)throw new D;o.append(mr.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new D}}mr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",mr.GB2312_SUBSET=1;class Mm{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class qS{constructor(){this.rsDecoder=new qe(Ze.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(Se.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new KS(s);let f=null;try{return this.decodeBitMatrixParser(c,o)}catch(h){f=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,o);return h.setOther(new Mm(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,o){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),d=xd.getDataBlocks(h,c,f);let x=0;for(const T of d)x+=T.getNumDataCodewords();const w=new Uint8Array(x);let y=0;for(const T of d){const O=T.getCodewords(),P=T.getNumDataCodewords();this.correctErrors(O,P);for(let z=0;z<P;z++)w[y++]=O[z]}return mr.decode(w,c,f,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new E}for(let f=0;f<o;f++)s[f]=c[f]}}class md extends Ge{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=(this.getX()+o)/2,h=(this.getY()+s)/2,d=(this.estimatedModuleSize+c)/2;return new md(f,h,d)}}class yu{constructor(s,o,c,f,h,d,x){this.image=s,this.startX=o,this.startY=c,this.width=f,this.height=h,this.moduleSize=d,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,f=s+c,h=this.startY+o/2,d=new Int32Array(3),x=this.image;for(let w=0;w<o;w++){const y=h+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));d[0]=0,d[1]=0,d[2]=0;let T=s;for(;T<f&&!x.get(T,y);)T++;let O=0;for(;T<f;){if(x.get(T,y))if(O===1)d[1]++;else if(O===2){if(this.foundPatternCross(d)){const P=this.handlePossibleCenter(d,y,T);if(P!==null)return P}d[0]=d[2],d[1]=1,d[2]=0,O=1}else d[++O]++;else O===1&&O++,d[O]++;T++}if(this.foundPatternCross(d)){const P=this.handlePossibleCenter(d,y,f);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=c)return!1;return!0}crossCheckVertical(s,o,c,f){const h=this.image,d=h.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let w=s;for(;w>=0&&h.get(o,w)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&!h.get(o,w)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<d&&h.get(o,w)&&x[1]<=c;)x[1]++,w++;if(w===d||x[1]>c)return NaN;for(;w<d&&!h.get(o,w)&&x[2]<=c;)x[2]++,w++;if(x[2]>c)return NaN;const y=x[0]+x[1]+x[2];return 5*Math.abs(y-f)>=2*f?NaN:this.foundPatternCross(x)?yu.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,c){const f=s[0]+s[1]+s[2],h=yu.centerFromEnd(s,c),d=this.crossCheckVertical(o,h,2*s[1],f);if(!isNaN(d)){const x=(s[0]+s[1]+s[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(x,d,h))return y.combineEstimate(d,h,x);const w=new md(h,d,x);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class wd extends Ge{constructor(s,o,c,f){super(s,o),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=this.count+1,h=(this.count*this.getX()+o)/f,d=(this.count*this.getY()+s)/f,x=(this.count*this.estimatedModuleSize+c)/f;return new wd(h,d,x,f)}}class ZS{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Zr{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(G.TRY_HARDER)!==void 0,c=s!=null&&s.get(G.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),d=f.getWidth();let x=Math.floor(3*h/(4*Zr.MAX_MODULES));(x<Zr.MIN_SKIP||o)&&(x=Zr.MIN_SKIP);let w=!1;const y=new Int32Array(5);for(let O=x-1;O<h&&!w;O+=x){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let P=0;for(let z=0;z<d;z++)if(f.get(z,O))(P&1)===1&&P++,y[P]++;else if(P&1)y[P]++;else if(P===4)if(Zr.foundPatternCross(y)){if(this.handlePossibleCenter(y,O,z,c)===!0)if(x=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const re=this.findRowSkip();re>y[2]&&(O+=re-y[2]-x,z=d-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,P=3;continue}P=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,P=3;else y[++P]++;Zr.foundPatternCross(y)&&this.handlePossibleCenter(y,O,d,c)===!0&&(x=y[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const T=this.selectBestPatterns();return Ge.orderBestPatterns(T),new ZS(T)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let h=0;h<5;h++){const d=s[h];if(d===0)return!1;o+=d}if(o<7)return!1;const c=o/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,f){const h=this.getCrossCheckStateCount();let d=0;const x=this.image;for(;s>=d&&o>=d&&x.get(o-d,s-d);)h[2]++,d++;if(s<d||o<d)return!1;for(;s>=d&&o>=d&&!x.get(o-d,s-d)&&h[1]<=c;)h[1]++,d++;if(s<d||o<d||h[1]>c)return!1;for(;s>=d&&o>=d&&x.get(o-d,s-d)&&h[0]<=c;)h[0]++,d++;if(h[0]>c)return!1;const w=x.getHeight(),y=x.getWidth();for(d=1;s+d<w&&o+d<y&&x.get(o+d,s+d);)h[2]++,d++;if(s+d>=w||o+d>=y)return!1;for(;s+d<w&&o+d<y&&!x.get(o+d,s+d)&&h[3]<c;)h[3]++,d++;if(s+d>=w||o+d>=y||h[3]>=c)return!1;for(;s+d<w&&o+d<y&&x.get(o+d,s+d)&&h[4]<c;)h[4]++,d++;if(h[4]>=c)return!1;const T=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(T-f)<2*f&&Zr.foundPatternCross(h)}crossCheckVertical(s,o,c,f){const h=this.image,d=h.getHeight(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&h.get(o,w);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(o,w)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&h.get(o,w)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<d&&h.get(o,w);)x[2]++,w++;if(w===d)return NaN;for(;w<d&&!h.get(o,w)&&x[3]<c;)x[3]++,w++;if(w===d||x[3]>=c)return NaN;for(;w<d&&h.get(o,w)&&x[4]<c;)x[4]++,w++;if(x[4]>=c)return NaN;const y=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(y-f)>=2*f?NaN:Zr.foundPatternCross(x)?Zr.centerFromEnd(x,w):NaN}crossCheckHorizontal(s,o,c,f){const h=this.image,d=h.getWidth(),x=this.getCrossCheckStateCount();let w=s;for(;w>=0&&h.get(w,o);)x[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(w,o)&&x[1]<=c;)x[1]++,w--;if(w<0||x[1]>c)return NaN;for(;w>=0&&h.get(w,o)&&x[0]<=c;)x[0]++,w--;if(x[0]>c)return NaN;for(w=s+1;w<d&&h.get(w,o);)x[2]++,w++;if(w===d)return NaN;for(;w<d&&!h.get(w,o)&&x[3]<c;)x[3]++,w++;if(w===d||x[3]>=c)return NaN;for(;w<d&&h.get(w,o)&&x[4]<c;)x[4]++,w++;if(x[4]>=c)return NaN;const y=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(y-f)>=f?NaN:Zr.foundPatternCross(x)?Zr.centerFromEnd(x,w):NaN}handlePossibleCenter(s,o,c,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let d=Zr.centerFromEnd(s,c),x=this.crossCheckVertical(o,Math.floor(d),s[2],h);if(!isNaN(x)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(x),s[2],h),!isNaN(d)&&(!f||this.crossCheckDiagonal(Math.floor(x),Math.floor(d),s[2],h)))){const w=h/7;let y=!1;const T=this.possibleCenters;for(let O=0,P=T.length;O<P;O++){const z=T[O];if(z.aboutEquals(w,x,d)){T[O]=z.combineEstimate(x,d,w),y=!0;break}}if(!y){const O=new wd(d,x,w);T.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=Zr.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Zr.CENTER_QUORUM&&(s++,o+=d.getEstimatedModuleSize());if(s<3)return!1;const f=o/c;let h=0;for(const d of this.possibleCenters)h+=Math.abs(d.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ee;const o=this.possibleCenters;let c;if(s>3){let f=0,h=0;for(const w of this.possibleCenters){const y=w.getEstimatedModuleSize();f+=y,h+=y*y}c=f/s;let d=Math.sqrt(h/s-c*c);o.sort((w,y)=>{const T=Math.abs(y.getEstimatedModuleSize()-c),O=Math.abs(w.getEstimatedModuleSize()-c);return T<O?-1:T>O?1:0});const x=Math.max(.2*c,d);for(let w=0;w<o.length&&o.length>3;w++){const y=o[w];Math.abs(y.getEstimatedModuleSize()-c)>x&&(o.splice(w,1),w--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();c=f/o.length,o.sort((h,d)=>{if(d.getCount()===h.getCount()){const x=Math.abs(d.getEstimatedModuleSize()-c),w=Math.abs(h.getEstimatedModuleSize()-c);return x<w?1:x>w?-1:0}else return d.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Zr.CENTER_QUORUM=2,Zr.MIN_SKIP=3,Zr.MAX_MODULES=57;class oc{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(G.NEED_RESULT_POINT_CALLBACK);const c=new Zr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(o,c,f);if(h<1)throw new ee("No pattern found in proccess finder.");const d=oc.computeDimension(o,c,f,h),x=Qe.getProvisionalVersionForDimension(d),w=x.getDimensionForVersion()-7;let y=null;if(x.getAlignmentPatternCenters().length>0){const z=c.getX()-o.getX()+f.getX(),J=c.getY()-o.getY()+f.getY(),re=1-3/w,fe=Math.floor(o.getX()+re*(z-o.getX())),me=Math.floor(o.getY()+re*(J-o.getY()));for(let Pe=4;Pe<=16;Pe<<=1)try{y=this.findAlignmentInRegion(h,fe,me,Pe);break}catch(Ue){if(!(Ue instanceof ee))throw Ue}}const T=oc.createTransform(o,c,f,y,d),O=oc.sampleGrid(this.image,T,d);let P;return y===null?P=[f,o,c]:P=[f,o,c,y],new ln(O,P)}static createTransform(s,o,c,f,h){const d=h-3.5;let x,w,y,T;return f!==null?(x=f.getX(),w=f.getY(),y=d-3,T=y):(x=o.getX()-s.getX()+c.getX(),w=o.getY()-s.getY()+c.getY(),y=d,T=d),_r.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,T,3.5,d,s.getX(),s.getY(),o.getX(),o.getY(),x,w,c.getX(),c.getY())}static sampleGrid(s,o,c){return Jt.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,f){const h=Ye.round(Ge.distance(s,o)/f),d=Ye.round(Ge.distance(s,c)/f);let x=Math.floor((h+d)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new ee("Dimensions could be not found.")}return x}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,f){let h=this.sizeOfBlackWhiteBlackRun(s,o,c,f),d=1,x=s-(c-s);x<0?(d=s/(s-x),x=0):x>=this.image.getWidth()&&(d=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let w=Math.floor(o-(f-o)*d);return d=1,w<0?(d=o/(o-w),w=0):w>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(w-o),w=this.image.getHeight()-1),x=Math.floor(s+(x-s)*d),h+=this.sizeOfBlackWhiteBlackRun(s,o,x,w),h-1}sizeOfBlackWhiteBlackRun(s,o,c,f){const h=Math.abs(f-o)>Math.abs(c-s);if(h){let z=s;s=o,o=z,z=c,c=f,f=z}const d=Math.abs(c-s),x=Math.abs(f-o);let w=-d/2;const y=s<c?1:-1,T=o<f?1:-1;let O=0;const P=c+y;for(let z=s,J=o;z!==P;z+=y){const re=h?J:z,fe=h?z:J;if(O===1===this.image.get(re,fe)){if(O===2)return Ye.distance(z,J,s,o);O++}if(w+=x,w>0){if(J===f)break;J+=T,w-=d}}return O===2?Ye.distance(c+y,f,s,o):NaN}findAlignmentInRegion(s,o,c,f){const h=Math.floor(f*s),d=Math.max(0,o-h),x=Math.min(this.image.getWidth()-1,o+h);if(x-d<s*3)throw new ee("Alignment top exceeds estimated module size.");const w=Math.max(0,c-h),y=Math.min(this.image.getHeight()-1,c+h);if(y-w<s*3)throw new ee("Alignment bottom exceeds estimated module size.");return new yu(this.image,d,w,x-d,y-w,s,this.resultPointCallback).find()}}class ta{constructor(){this.decoder=new qS}getDecoder(){return this.decoder}decode(s,o){let c,f;if(o!=null&&o.get(G.PURE_BARCODE)!==void 0){const w=ta.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(w,o),f=ta.NO_POINTS}else{const w=new oc(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(w.getBits(),o),f=w.getPoints()}c.getOther()instanceof Mm&&c.getOther().applyMirroredCorrection(f);const h=new K(c.getText(),c.getRawBytes(),void 0,f,ae.QR_CODE,void 0),d=c.getByteSegments();d!==null&&h.putMetadata(We.BYTE_SEGMENTS,d);const x=c.getECLevel();return x!==null&&h.putMetadata(We.ERROR_CORRECTION_LEVEL,x),c.hasStructuredAppend()&&(h.putMetadata(We.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(We.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new ee;const f=this.moduleSize(o,s);let h=o[1],d=c[1],x=o[0],w=c[0];if(x>=w||h>=d)throw new ee;if(d-h!==w-x&&(w=x+(d-h),w>=s.getWidth()))throw new ee;const y=Math.round((w-x+1)/f),T=Math.round((d-h+1)/f);if(y<=0||T<=0)throw new ee;if(T!==y)throw new ee;const O=Math.floor(f/2);h+=O,x+=O;const P=x+Math.floor((y-1)*f)-w;if(P>0){if(P>O)throw new ee;x-=P}const z=h+Math.floor((T-1)*f)-d;if(z>0){if(z>O)throw new ee;h-=z}const J=new Se(y,T);for(let re=0;re<T;re++){const fe=h+Math.floor(re*f);for(let me=0;me<y;me++)s.get(x+Math.floor(me*f),fe)&&J.set(me,re)}return J}static moduleSize(s,o){const c=o.getHeight(),f=o.getWidth();let h=s[0],d=s[1],x=!0,w=0;for(;h<f&&d<c;){if(x!==o.get(h,d)){if(++w===5)break;x=!x}h++,d++}if(h===f||d===c)throw new ee;return(h-s[0])/7}}ta.NO_POINTS=new Array;class st{PDF417Common(){}static getBitCountSum(s){return Ye.sum(s)}static toIntArray(s){if(s==null||!s.length)return st.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const f of s)o[c++]=f;return o}static getCodeword(s){const o=k.binarySearch(st.SYMBOL_TABLE,s&262143);return o<0?-1:(st.CODEWORD_TABLE[o]-1)%st.NUMBER_OF_CODEWORDS}}st.NUMBER_OF_CODEWORDS=929,st.MAX_CODEWORDS_IN_BARCODE=st.NUMBER_OF_CODEWORDS-1,st.MIN_ROWS_IN_BARCODE=3,st.MAX_ROWS_IN_BARCODE=90,st.MODULES_IN_CODEWORD=17,st.MODULES_IN_STOP_PATTERN=18,st.BARS_IN_MODULE=8,st.EMPTY_INT_ARRAY=new Int32Array([]),st.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),st.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class QS{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class wt{static detectMultiple(s,o,c){let f=s.getBlackMatrix(),h=wt.detect(c,f);return h.length||(f=f.clone(),f.rotate180(),h=wt.detect(c,f)),new QS(f,h)}static detect(s,o){const c=new Array;let f=0,h=0,d=!1;for(;f<o.getHeight();){const x=wt.findVertices(o,f,h);if(x[0]==null&&x[3]==null){if(!d)break;d=!1,h=0;for(const w of c)w[1]!=null&&(f=Math.trunc(Math.max(f,w[1].getY()))),w[3]!=null&&(f=Math.max(f,Math.trunc(w[3].getY())));f+=wt.ROW_STEP;continue}if(d=!0,c.push(x),!s)break;x[2]!=null?(h=Math.trunc(x[2].getX()),f=Math.trunc(x[2].getY())):(h=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY()))}return c}static findVertices(s,o,c){const f=s.getHeight(),h=s.getWidth(),d=new Array(8);return wt.copyToResult(d,wt.findRowsWithPattern(s,f,h,o,c,wt.START_PATTERN),wt.INDEXES_START_PATTERN),d[4]!=null&&(c=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),wt.copyToResult(d,wt.findRowsWithPattern(s,f,h,o,c,wt.STOP_PATTERN),wt.INDEXES_STOP_PATTERN),d}static copyToResult(s,o,c){for(let f=0;f<c.length;f++)s[c[f]]=o[f]}static findRowsWithPattern(s,o,c,f,h,d){const x=new Array(4);let w=!1;const y=new Int32Array(d.length);for(;f<o;f+=wt.ROW_STEP){let O=wt.findGuardPattern(s,h,f,c,!1,d,y);if(O!=null){for(;f>0;){const P=wt.findGuardPattern(s,h,--f,c,!1,d,y);if(P!=null)O=P;else{f++;break}}x[0]=new Ge(O[0],f),x[1]=new Ge(O[1],f),w=!0;break}}let T=f+1;if(w){let O=0,P=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;T<o;T++){const z=wt.findGuardPattern(s,P[0],T,c,!1,d,y);if(z!=null&&Math.abs(P[0]-z[0])<wt.MAX_PATTERN_DRIFT&&Math.abs(P[1]-z[1])<wt.MAX_PATTERN_DRIFT)P=z,O=0;else{if(O>wt.SKIPPED_ROW_COUNT_MAX)break;O++}}T-=O+1,x[2]=new Ge(P[0],T),x[3]=new Ge(P[1],T)}return T-f<wt.BARCODE_MIN_HEIGHT&&k.fill(x,null),x}static findGuardPattern(s,o,c,f,h,d,x){k.fillWithin(x,0,x.length,0);let w=o,y=0;for(;s.get(w,c)&&w>0&&y++<wt.MAX_PIXEL_DRIFT;)w--;let T=w,O=0,P=d.length;for(let z=h;T<f;T++)if(s.get(T,c)!==z)x[O]++;else{if(O===P-1){if(wt.patternMatchVariance(x,d,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return new Int32Array([w,T]);w+=x[0]+x[1],C.arraycopy(x,2,x,0,O-1),x[O-1]=0,x[O]=0,O--}else O++;x[O]=1,z=!z}return O===P-1&&wt.patternMatchVariance(x,d,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE?new Int32Array([w,T-1]):null}static patternMatchVariance(s,o,c){let f=s.length,h=0,d=0;for(let y=0;y<f;y++)h+=s[y],d+=o[y];if(h<d)return 1/0;let x=h/d;c*=x;let w=0;for(let y=0;y<f;y++){let T=s[y],O=o[y]*x,P=T>O?T-O:O-T;if(P>c)return 1/0;w+=P}return w/h}}wt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),wt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),wt.MAX_AVG_VARIANCE=.42,wt.MAX_INDIVIDUAL_VARIANCE=.8,wt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),wt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),wt.MAX_PIXEL_DRIFT=3,wt.MAX_PATTERN_DRIFT=5,wt.SKIPPED_ROW_COUNT_MAX=25,wt.ROW_STEP=5,wt.BARCODE_MIN_HEIGHT=10;class un{constructor(s,o){if(o.length===0)throw new v;this.field=s;let c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),C.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let d=o;o=c,c=d}let f=new Int32Array(c.length),h=c.length-o.length;C.arraycopy(c,0,f,0,h);for(let d=h;d<c.length;d++)f[d]=this.field.add(o[d-h],c[d]);return new un(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof un?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new un(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,d=new Int32Array(c+h-1);for(let x=0;x<c;x++){let w=o[x];for(let y=0;y<h;y++)d[x+y]=this.field.add(d[x+y],this.field.multiply(w,f[y]))}return new un(this.field,d)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new un(this.field,o)}multiplyScalar(s){if(s===0)return new un(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new un(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return new un(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let h=0;h<c;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new un(this.field,f)}toString(){let s=new ye;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class JS{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new Y;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class vd extends JS{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new un(this,new Int32Array([0])),this.one=new un(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new un(this,c)}}vd.PDF417_GF=new vd(st.NUMBER_OF_CODEWORDS,3);class Bm{constructor(){this.field=vd.PDF417_GF}decode(s,o,c){let f=new un(this.field,s),h=new Int32Array(o),d=!1;for(let J=o;J>0;J--){let re=f.evaluateAt(this.field.exp(J));h[o-J]=re,re!==0&&(d=!0)}if(!d)return 0;let x=this.field.getOne();if(c!=null)for(const J of c){let re=this.field.exp(s.length-1-J),fe=new un(this.field,new Int32Array([this.field.subtract(0,re),1]));x=x.multiply(fe)}let w=new un(this.field,h),y=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),w,o),T=y[0],O=y[1],P=this.findErrorLocations(T),z=this.findErrorMagnitudes(O,T,P);for(let J=0;J<P.length;J++){let re=s.length-1-this.field.log(P[J]);if(re<0)throw E.getChecksumInstance();s[re]=this.field.subtract(s[re],z[J])}return P.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let P=s;s=o,o=P}let f=s,h=o,d=this.field.getZero(),x=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let P=f,z=d;if(f=h,d=x,f.isZero())throw E.getChecksumInstance();h=P;let J=this.field.getZero(),re=f.getCoefficient(f.getDegree()),fe=this.field.inverse(re);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let me=h.getDegree()-f.getDegree(),Pe=this.field.multiply(h.getCoefficient(h.getDegree()),fe);J=J.add(this.field.buildMonomial(me,Pe)),h=h.subtract(f.multiplyByMonomial(me,Pe))}x=J.multiply(d).subtract(z).negative()}let w=x.getCoefficient(0);if(w===0)throw E.getChecksumInstance();let y=this.field.inverse(w),T=x.multiply(y),O=h.multiply(y);return[T,O]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(c[f]=this.field.inverse(h),f++);if(f!==o)throw E.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let f=o.getDegree(),h=new Int32Array(f);for(let y=1;y<=f;y++)h[f-y]=this.field.multiply(y,o.getCoefficient(y));let d=new un(this.field,h),x=c.length,w=new Int32Array(x);for(let y=0;y<x;y++){let T=this.field.inverse(c[y]),O=this.field.subtract(0,s.evaluateAt(T)),P=this.field.inverse(d.evaluateAt(T));w[y]=this.field.multiply(O,P)}return w}}class $a{constructor(s,o,c,f,h){s instanceof $a?this.constructor_2(s):this.constructor_1(s,o,c,f,h)}constructor_1(s,o,c,f,h){const d=o==null||c==null,x=f==null||h==null;if(d&&x)throw new ee;d?(o=new Ge(0,f.getY()),c=new Ge(0,h.getY())):x&&(f=new Ge(s.getWidth()-1,o.getY()),h=new Ge(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new $a(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let f=this.topLeft,h=this.bottomLeft,d=this.topRight,x=this.bottomRight;if(s>0){let w=c?this.topLeft:this.topRight,y=Math.trunc(w.getY()-s);y<0&&(y=0);let T=new Ge(w.getX(),y);c?f=T:d=T}if(o>0){let w=c?this.bottomLeft:this.bottomRight,y=Math.trunc(w.getY()+o);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let T=new Ge(w.getX(),y);c?h=T:x=T}return new $a(this.image,f,h,d,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class eT{constructor(s,o,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class lc{constructor(){this.buffer=""}static form(s,o){let c=-1;function f(d,x,w,y,T,O){if(d==="%%")return"%";if(o[++c]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let P=T?parseInt(T.substr(1)):void 0,z;switch(O){case"s":z=o[c];break;case"c":z=o[c][0];break;case"f":z=parseFloat(o[c]).toFixed(d);break;case"p":z=parseFloat(o[c]).toPrecision(d);break;case"e":z=parseFloat(o[c]).toExponential(d);break;case"x":z=parseInt(o[c]).toString(P||16);break;case"d":z=parseFloat(parseInt(o[c],P||10).toPrecision(d)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(P);let J=parseInt(w),re=w&&w[0]+""=="0"?"0":" ";for(;z.length<J;)z=x!==void 0?z+re:re+z;return z}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...o){this.buffer+=lc.form(s,o)}toString(){return this.buffer}}class cc{constructor(s){this.boundingBox=new $a(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<cc.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new lc;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}cc.MAX_NEARBY_DISTANCE=5;class uc{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,f]of this.values.entries()){const h={getKey:()=>c,getValue:()=>f};h.getValue()>s?(s=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===s&&o.push(h.getKey())}return st.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Lm extends cc{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=-1,y=1,T=0;for(let O=d;O<x;O++){if(o[O]==null)continue;let P=o[O],z=P.getRowNumber()-w;if(z===0)T++;else if(z===1)y=Math.max(y,T),T=1,w=P.getRowNumber();else if(z<0||P.getRowNumber()>=s.getRowCount()||z>O)o[O]=null;else{let J;y>2?J=(y-2)*z:J=z;let re=J>=O;for(let fe=1;fe<=J&&!re;fe++)re=o[O-fe]!=null;re?o[O]=null:(w=P.getRowNumber(),T=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),d=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=this.getCodewords(),w=-1;for(let y=h;y<d;y++){if(x[y]==null)continue;let T=x[y];T.setRowNumberAsRowIndicatorColumn();let O=T.getRowNumber()-w;O===0||(O===1?w=T.getRowNumber():T.getRowNumber()>=s.getRowCount()?x[y]=null:w=T.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new uc,c=new uc,f=new uc,h=new uc;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let w=x.getValue()%30,y=x.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:c.setValue(w*3+1);break;case 1:h.setValue(w/3),f.setValue(w%3);break;case 2:o.setValue(w+1);break}}if(o.getValue().length===0||c.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<st.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>st.MAX_ROWS_IN_BARCODE)return null;let d=new eT(o.getValue()[0],c.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,d),d}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let h=f.getValue()%30,d=f.getRowNumber();if(d>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:h+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class fc{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=st.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[c];h!=null&&(h.setRowNumber(s[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let d=this.barcodeColumnCount+1;d>0&&h<this.ADJUST_ROW_NUMBER_SKIP;d--){let x=this.detectionResultColumns[d].getCodewords()[c];x!=null&&(h=fc.adjustRowNumberIfValid(f,h,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let d=1;d<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;d++){let x=this.detectionResultColumns[d].getCodewords()[c];x!=null&&(h=fc.adjustRowNumberIfValid(f,h,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let f=c[o],h=this.detectionResultColumns[s-1].getCodewords(),d=h;this.detectionResultColumns[s+1]!=null&&(d=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=h[o],x[3]=d[o],o>0&&(x[0]=c[o-1],x[4]=h[o-1],x[5]=d[o-1]),o>1&&(x[8]=c[o-2],x[10]=h[o-2],x[11]=d[o-2]),o<c.length-1&&(x[1]=c[o+1],x[6]=h[o+1],x[7]=d[o+1]),o<c.length-2&&(x[9]=c[o+2],x[12]=h[o+2],x[13]=d[o+2]);for(let w of x)if(fc.adjustRowNumber(f,w))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new lc;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[c];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class hc{constructor(s,o,c,f){this.rowNumber=hc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==hc.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}hc.BARCODE_ROW_UNKNOWN=-1;class Kn{static initialize(){for(let s=0;s<st.SYMBOL_TABLE.length;s++){let o=st.SYMBOL_TABLE[s],c=o&1;for(let f=0;f<st.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===c;)h+=1,o>>=1;c=o&1,Kn.RATIOS_TABLE[s]||(Kn.RATIOS_TABLE[s]=new Array(st.BARS_IN_MODULE)),Kn.RATIOS_TABLE[s][st.BARS_IN_MODULE-f-1]=Math.fround(h/st.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Kn.getDecodedCodewordValue(Kn.sampleBitCounts(s));return o!==-1?o:Kn.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=Ye.sum(s),c=new Int32Array(st.BARS_IN_MODULE),f=0,h=0;for(let d=0;d<st.MODULES_IN_CODEWORD;d++){let x=o/(2*st.MODULES_IN_CODEWORD)+d*o/st.MODULES_IN_CODEWORD;h+s[f]<=x&&(h+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let o=Kn.getBitValue(s);return st.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=Ye.sum(s),c=new Array(st.BARS_IN_MODULE);if(o>1)for(let d=0;d<c.length;d++)c[d]=Math.fround(s[d]/o);let f=Fr.MAX_VALUE,h=-1;this.bSymbolTableReady||Kn.initialize();for(let d=0;d<Kn.RATIOS_TABLE.length;d++){let x=0,w=Kn.RATIOS_TABLE[d];for(let y=0;y<st.BARS_IN_MODULE;y++){let T=Math.fround(w[y]-c[y]);if(x+=Math.fround(T*T),x>=f)break}x<f&&(f=x,h=st.SYMBOL_TABLE[d])}return h}}Kn.bSymbolTableReady=!1,Kn.RATIOS_TABLE=new Array(st.SYMBOL_TABLE.length).map(R=>new Array(st.BARS_IN_MODULE));class Um{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class jm{static parseLong(s,o=void 0){return parseInt(s,o)}}class Wm extends p{}Wm.kind="NullPointerException";class tT{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new Wm;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new I;if(c===0)return;for(let f=0;f<c;f++)this.write(s[o+f])}flush(){}close(){}}class rT extends p{}class nT extends tT{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new rT;c=S.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new I;this.ensureCapacity(this.count+c),C.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Yt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Yt||(Yt={}));function Vm(){if(typeof window<"u")return window.BigInt||null;if(typeof pc<"u")return pc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _u;function ra(R){if(typeof _u>"u"&&(_u=Vm()),_u===null)throw new Error("BigInt is not supported!");return _u(R)}function iT(){let R=[];R[0]=ra(1);let s=ra(900);R[1]=s;for(let o=2;o<16;o++)R[o]=R[o-1]*s;return R}class xe{static decode(s,o){let c=new ye(""),f=j.ISO8859_1;c.enableDecoding(f);let h=1,d=s[h++],x=new Um;for(;h<s[0];){switch(d){case xe.TEXT_COMPACTION_MODE_LATCH:h=xe.textCompaction(s,h,c);break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:h=xe.byteCompaction(d,s,f,h,c);break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h++]);break;case xe.NUMERIC_COMPACTION_MODE_LATCH:h=xe.numericCompaction(s,h,c);break;case xe.ECI_CHARSET:j.getCharacterSetECIByValue(s[h++]);break;case xe.ECI_GENERAL_PURPOSE:h+=2;break;case xe.ECI_USER_DEFINED:h++;break;case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=xe.decodeMacroBlock(s,h,x);break;case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:throw new D;default:h--,h=xe.textCompaction(s,h,c);break}if(h<s.length)d=s[h++];else throw D.getFormatInstance()}if(c.length()===0)throw D.getFormatInstance();let w=new je(null,c.toString(),null,o);return w.setOther(x),w}static decodeMacroBlock(s,o,c){if(o+xe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw D.getFormatInstance();let f=new Int32Array(xe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<xe.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)f[x]=s[o];c.setSegmentIndex(S.parseInt(xe.decodeBase900toBase10(f,xe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ye;o=xe.textCompaction(s,o,h),c.setFileId(h.toString());let d=-1;for(s[o]===xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<s[0];)switch(s[o]){case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new ye;o=xe.textCompaction(s,o+1,x),c.setFileName(x.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new ye;o=xe.textCompaction(s,o+1,w),c.setSender(w.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new ye;o=xe.textCompaction(s,o+1,y),c.setAddressee(y.toString());break;case xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let T=new ye;o=xe.numericCompaction(s,o+1,T),c.setSegmentCount(S.parseInt(T.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new ye;o=xe.numericCompaction(s,o+1,O),c.setTimestamp(jm.parseLong(O.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new ye;o=xe.numericCompaction(s,o+1,P),c.setChecksum(S.parseInt(P.toString()));break;case xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new ye;o=xe.numericCompaction(s,o+1,z),c.setFileSize(jm.parseLong(z.toString()));break;default:throw D.getFormatInstance()}break;case xe.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(d!==-1){let x=o-d;c.isLastSegment()&&x--,c.setOptionalData(k.copyOfRange(s,d,d+x))}return o}static textCompaction(s,o,c){let f=new Int32Array((s[0]-o)*2),h=new Int32Array((s[0]-o)*2),d=0,x=!1;for(;o<s[0]&&!x;){let w=s[o++];if(w<xe.TEXT_COMPACTION_MODE_LATCH)f[d]=w/30,f[d+1]=w%30,d+=2;else switch(w){case xe.TEXT_COMPACTION_MODE_LATCH:f[d++]=xe.TEXT_COMPACTION_MODE_LATCH;break;case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[d]=xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=s[o++],h[d]=w,d++;break}}return xe.decodeTextCompaction(f,h,d,c),o}static decodeTextCompaction(s,o,c,f){let h=Yt.ALPHA,d=Yt.ALPHA,x=0;for(;x<c;){let w=s[x],y="";switch(h){case Yt.ALPHA:if(w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case xe.LL:h=Yt.LOWER;break;case xe.ML:h=Yt.MIXED;break;case xe.PS:d=h,h=Yt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Yt.ALPHA;break}break;case Yt.LOWER:if(w<26)y=String.fromCharCode(97+w);else switch(w){case 26:y=" ";break;case xe.AS:d=h,h=Yt.ALPHA_SHIFT;break;case xe.ML:h=Yt.MIXED;break;case xe.PS:d=h,h=Yt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Yt.ALPHA;break}break;case Yt.MIXED:if(w<xe.PL)y=xe.MIXED_CHARS[w];else switch(w){case xe.PL:h=Yt.PUNCT;break;case 26:y=" ";break;case xe.LL:h=Yt.LOWER;break;case xe.AL:h=Yt.ALPHA;break;case xe.PS:d=h,h=Yt.PUNCT_SHIFT;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Yt.ALPHA;break}break;case Yt.PUNCT:if(w<xe.PAL)y=xe.PUNCT_CHARS[w];else switch(w){case xe.PAL:h=Yt.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Yt.ALPHA;break}break;case Yt.ALPHA_SHIFT:if(h=d,w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Yt.ALPHA;break}break;case Yt.PUNCT_SHIFT:if(h=d,w<xe.PAL)y=xe.PUNCT_CHARS[w];else switch(w){case xe.PAL:h=Yt.ALPHA;break;case xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[x]);break;case xe.TEXT_COMPACTION_MODE_LATCH:h=Yt.ALPHA;break}break}y!==""&&f.append(y),x++}}static byteCompaction(s,o,c,f,h){let d=new nT,x=0,w=0,y=!1;switch(s){case xe.BYTE_COMPACTION_MODE_LATCH:let T=new Int32Array(6),O=o[f++];for(;f<o[0]&&!y;)switch(T[x++]=O,w=900*w+O,O=o[f++],O){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:f--,y=!0;break;default:if(x%5===0&&x>0){for(let P=0;P<6;++P)d.write(Number(ra(w)>>ra(8*(5-P))));w=0,x=0}break}f===o[0]&&O<xe.TEXT_COMPACTION_MODE_LATCH&&(T[x++]=O);for(let P=0;P<x;P++)d.write(T[P]);break;case xe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!y;){let P=o[f++];if(P<xe.TEXT_COMPACTION_MODE_LATCH)x++,w=900*w+P;else switch(P){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.NUMERIC_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:f--,y=!0;break}if(x%5===0&&x>0){for(let z=0;z<6;++z)d.write(Number(ra(w)>>ra(8*(5-z))));w=0,x=0}}break}return h.append(le.decode(d.toByteArray(),c)),f}static numericCompaction(s,o,c){let f=0,h=!1,d=new Int32Array(xe.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!h;){let x=s[o++];if(o===s[0]&&(h=!0),x<xe.TEXT_COMPACTION_MODE_LATCH)d[f]=x,f++;else switch(x){case xe.TEXT_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH:case xe.BYTE_COMPACTION_MODE_LATCH_6:case xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case xe.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%xe.MAX_NUMERIC_CODEWORDS===0||x===xe.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(c.append(xe.decodeBase900toBase10(d,f)),f=0)}return o}static decodeBase900toBase10(s,o){let c=ra(0);for(let h=0;h<o;h++)c+=xe.EXP900[o-h-1]*ra(s[h]);let f=c.toString();if(f.charAt(0)!=="1")throw new D;return f.substring(1)}}xe.TEXT_COMPACTION_MODE_LATCH=900,xe.BYTE_COMPACTION_MODE_LATCH=901,xe.NUMERIC_COMPACTION_MODE_LATCH=902,xe.BYTE_COMPACTION_MODE_LATCH_6=924,xe.ECI_USER_DEFINED=925,xe.ECI_GENERAL_PURPOSE=926,xe.ECI_CHARSET=927,xe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,xe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,xe.MACRO_PDF417_TERMINATOR=922,xe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,xe.MAX_NUMERIC_CODEWORDS=15,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,xe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,xe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,xe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,xe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,xe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,xe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,xe.PL=25,xe.LL=27,xe.AS=27,xe.ML=28,xe.AL=28,xe.PS=29,xe.PAL=29,xe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,xe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",xe.EXP900=Vm()?iT():[],xe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Et{constructor(){}static decode(s,o,c,f,h,d,x){let w=new $a(s,o,c,f,h),y=null,T=null,O;for(let J=!0;;J=!1){if(o!=null&&(y=Et.getRowIndicatorColumn(s,w,o,!0,d,x)),f!=null&&(T=Et.getRowIndicatorColumn(s,w,f,!1,d,x)),O=Et.merge(y,T),O==null)throw ee.getNotFoundInstance();let re=O.getBoundingBox();if(J&&re!=null&&(re.getMinY()<w.getMinY()||re.getMaxY()>w.getMaxY()))w=re;else break}O.setBoundingBox(w);let P=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,y),O.setDetectionResultColumn(P,T);let z=y!=null;for(let J=1;J<=P;J++){let re=z?J:P-J;if(O.getDetectionResultColumn(re)!==void 0)continue;let fe;re===0||re===P?fe=new Lm(w,re===0):fe=new cc(w),O.setDetectionResultColumn(re,fe);let me=-1,Pe=me;for(let Ue=w.getMinY();Ue<=w.getMaxY();Ue++){if(me=Et.getStartColumn(O,re,Ue,z),me<0||me>w.getMaxX()){if(Pe===-1)continue;me=Pe}let be=Et.detectCodeword(s,w.getMinX(),w.getMaxX(),z,me,Ue,d,x);be!=null&&(fe.setCodeword(Ue,be),Pe=me,d=Math.min(d,be.getWidth()),x=Math.max(x,be.getWidth()))}}return Et.createDecoderResult(O)}static merge(s,o){if(s==null&&o==null)return null;let c=Et.getBarcodeMetadata(s,o);if(c==null)return null;let f=$a.merge(Et.adjustBoundingBox(s),Et.adjustBoundingBox(o));return new fc(c,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=Et.getMax(o),f=0;for(let x of o)if(f+=c-x,x>0)break;let h=s.getCodewords();for(let x=0;f>0&&h[x]==null;x++)f--;let d=0;for(let x=o.length-1;x>=0&&(d+=c-o[x],!(o[x]>0));x--);for(let x=h.length-1;d>0&&h[x]==null;x--)d--;return s.getBoundingBox().addMissingRows(f,d,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,f,h,d){let x=new Lm(o,f);for(let w=0;w<2;w++){let y=w===0?1:-1,T=Math.trunc(Math.trunc(c.getX()));for(let O=Math.trunc(Math.trunc(c.getY()));O<=o.getMaxY()&&O>=o.getMinY();O+=y){let P=Et.detectCodeword(s,0,s.getWidth(),f,T,O,h,d);P!=null&&(x.setCodeword(O,P),f?T=P.getStartX():T=P.getEndX())}}return x}static adjustCodewordCount(s,o){let c=o[0][1],f=c.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Et.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>st.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();c.setValue(h)}else f[0]!==h&&c.setValue(h)}static createDecoderResult(s){let o=Et.createBarcodeMatrix(s);Et.adjustCodewordCount(s,o);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],d=new Array;for(let w=0;w<s.getBarcodeRowCount();w++)for(let y=0;y<s.getBarcodeColumnCount();y++){let T=o[w][y+1].getValue(),O=w*s.getBarcodeColumnCount()+y;T.length===0?c.push(O):T.length===1?f[O]=T[0]:(d.push(O),h.push(T))}let x=new Array(h.length);for(let w=0;w<x.length;w++)x[w]=h[w];return Et.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,st.toIntArray(c),st.toIntArray(d),x)}static createDecoderResultFromAmbiguousValues(s,o,c,f,h){let d=new Int32Array(f.length),x=100;for(;x-- >0;){for(let w=0;w<d.length;w++)o[f[w]]=h[w][d[w]];try{return Et.decodeCodewords(o,s,c)}catch(w){if(!(w instanceof E))throw w}if(d.length===0)throw E.getChecksumInstance();for(let w=0;w<d.length;w++)if(d[w]<h[w].length-1){d[w]++;break}else if(d[w]=0,w===d.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new uc;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let d=h.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][c].setValue(h.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,f){let h=f?1:-1,d=null;if(Et.isValidBarcodeColumn(s,o-h)&&(d=s.getDetectionResultColumn(o-h).getCodeword(c)),d!=null)return f?d.getEndX():d.getStartX();if(d=s.getDetectionResultColumn(o).getCodewordNearby(c),d!=null)return f?d.getStartX():d.getEndX();if(Et.isValidBarcodeColumn(s,o-h)&&(d=s.getDetectionResultColumn(o-h).getCodewordNearby(c)),d!=null)return f?d.getEndX():d.getStartX();let x=0;for(;Et.isValidBarcodeColumn(s,o-h);){o-=h;for(let w of s.getDetectionResultColumn(o).getCodewords())if(w!=null)return(f?w.getEndX():w.getStartX())+h*x*(w.getEndX()-w.getStartX());x++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,f,h,d,x,w){h=Et.adjustCodewordStartColumn(s,o,c,f,h,d);let y=Et.getModuleBitCount(s,o,c,f,h,d);if(y==null)return null;let T,O=Ye.sum(y);if(f)T=h+O;else{for(let J=0;J<y.length/2;J++){let re=y[J];y[J]=y[y.length-1-J],y[y.length-1-J]=re}T=h,h=T-O}if(!Et.checkCodewordSkew(O,x,w))return null;let P=Kn.getDecodedValue(y),z=st.getCodeword(P);return z===-1?null:new hc(h,T,Et.getCodewordBucketNumber(P),z)}static getModuleBitCount(s,o,c,f,h,d){let x=h,w=new Int32Array(8),y=0,T=f?1:-1,O=f;for(;(f?x<c:x>=o)&&y<w.length;)s.get(x,d)===O?(w[y]++,x+=T):(y++,O=!O);return y===w.length||x===(f?c:o)&&y===w.length-1?w:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,f,h,d){let x=h,w=f?-1:1;for(let y=0;y<2;y++){for(;(f?x>=o:x<c)&&f===s.get(x,d);){if(Math.abs(h-x)>Et.CODEWORD_SKEW_SIZE)return h;x+=w}w=-w,f=!f}return x}static checkCodewordSkew(s,o,c){return o-Et.CODEWORD_SKEW_SIZE<=s&&s<=c+Et.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw D.getFormatInstance();let f=1<<o+1,h=Et.correctErrors(s,c,f);Et.verifyCodewordCount(s,f);let d=xe.decode(s,""+o);return d.setErrorsCorrected(h),d.setErasures(c.length),d}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+Et.MAX_ERRORS||c<0||c>Et.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Et.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw D.getFormatInstance();let c=s[0];if(c>s.length)throw D.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw D.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,f=o.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Et.getCodewordBucketNumber(Et.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new lc;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let h=s[c][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}Et.CODEWORD_SKEW_SIZE=2,Et.MAX_ERRORS=3,Et.MAX_EC_CODEWORDS=512,Et.errorCorrection=new Bm;class fn{decode(s,o=null){let c=fn.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw ee.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return fn.decode(s,o,!0)}catch(c){throw c instanceof D||c instanceof E?ee.getNotFoundInstance():c}}static decode(s,o,c){const f=new Array,h=wt.detectMultiple(s,o,c);for(const d of h.getPoints()){const x=Et.decode(h.getBits(),d[4],d[5],d[6],d[7],fn.getMinCodewordWidth(d),fn.getMaxCodewordWidth(d)),w=new K(x.getText(),x.getRawBytes(),void 0,d,ae.PDF_417);w.putMetadata(We.ERROR_CORRECTION_LEVEL,x.getECLevel());const y=x.getOther();y!=null&&w.putMetadata(We.PDF417_EXTRA_METADATA,y),f.push(w)}return f.map(d=>d)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?S.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(fn.getMaxWidth(s[0],s[4]),fn.getMaxWidth(s[6],s[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.max(fn.getMaxWidth(s[1],s[5]),fn.getMaxWidth(s[7],s[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(fn.getMinWidth(s[0],s[4]),fn.getMinWidth(s[6],s[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.min(fn.getMinWidth(s[1],s[5]),fn.getMinWidth(s[7],s[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}reset(){}}class Eu extends p{}Eu.kind="ReaderException";class Hm{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!n(s)&&s.get(G.TRY_HARDER)===!0,c=n(s)?null:s.get(G.POSSIBLE_FORMATS),f=new Array;if(!n(c)){const h=c.some(d=>d===ae.UPC_A||d===ae.UPC_E||d===ae.EAN_13||d===ae.EAN_8||d===ae.CODABAR||d===ae.CODE_39||d===ae.CODE_93||d===ae.CODE_128||d===ae.ITF||d===ae.RSS_14||d===ae.RSS_EXPANDED);h&&!o&&f.push(new Ti(s,this.verbose)),c.includes(ae.QR_CODE)&&f.push(new ta),c.includes(ae.DATA_MATRIX)&&f.push(new ea),c.includes(ae.AZTEC)&&f.push(new $t),c.includes(ae.PDF_417)&&f.push(new fn),h&&o&&f.push(new Ti(s,this.verbose))}f.length===0&&(o||f.push(new Ti(s,this.verbose)),f.push(new ta),f.push(new ea),f.push(new $t),f.push(new fn),o&&f.push(new Ti(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Eu("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof Eu)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class sT extends se{constructor(s=null,o=500){const c=new Hm;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class aT extends se{constructor(s=500){super(new fn,s)}}class oT extends se{constructor(s=500){super(new ta,s)}}var yd;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(yd||(yd={}));var Wr=yd;class _d{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new et(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const f=this.field;for(let h=o.length;h<=s;h++){const d=c.multiply(new et(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(d),c=d}}return o[s]}encode(s,o){if(o===0)throw new v("No error correction bytes");const c=s.length-o;if(c<=0)throw new v("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(c);C.arraycopy(s,0,h,0,c);let d=new et(this.field,h);d=d.multiplyByMonomial(o,1);const w=d.divide(f)[1].getCoefficients(),y=o-w.length;for(let T=0;T<y;T++)s[c+T]=0;C.arraycopy(w,0,s,c+y,w.length)}}class Er{constructor(){}static applyMaskPenaltyRule1(s){return Er.applyMaskPenaltyRule1Internal(s,!0)+Er.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let d=0;d<h-1;d++){const x=c[d];for(let w=0;w<f-1;w++){const y=x[w];y===x[w+1]&&y===c[d+1][w]&&y===c[d+1][w+1]&&o++}}return Er.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let d=0;d<h;d++)for(let x=0;x<f;x++){const w=c[d];x+6<f&&w[x]===1&&w[x+1]===0&&w[x+2]===1&&w[x+3]===1&&w[x+4]===1&&w[x+5]===0&&w[x+6]===1&&(Er.isWhiteHorizontal(w,x-4,x)||Er.isWhiteHorizontal(w,x+7,x+11))&&o++,d+6<h&&c[d][x]===1&&c[d+1][x]===0&&c[d+2][x]===1&&c[d+3][x]===1&&c[d+4][x]===1&&c[d+5][x]===0&&c[d+6][x]===1&&(Er.isWhiteVertical(c,x,d-4,d)||Er.isWhiteVertical(c,x,d+7,d+11))&&o++}return o*Er.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let f=o;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let h=c;h<f;h++)if(s[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let w=0;w<h;w++){const y=c[w];for(let T=0;T<f;T++)y[T]===1&&o++}const d=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-d)*10/d)*Er.N4}static getDataMaskBit(s,o,c){let f,h;switch(s){case 0:f=c+o&1;break;case 1:f=c&1;break;case 2:f=o%3;break;case 3:f=(c+o)%3;break;case 4:f=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:h=c*o,f=(h&1)+h%3;break;case 6:h=c*o,f=(h&1)+h%3&1;break;case 7:h=c*o,f=h%3+(c+o&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const f=o?s.getHeight():s.getWidth(),h=o?s.getWidth():s.getHeight(),d=s.getArray();for(let x=0;x<f;x++){let w=0,y=-1;for(let T=0;T<h;T++){const O=o?d[x][T]:d[T][x];O===y?w++:(w>=5&&(c+=Er.N1+(w-5)),w=1,y=O)}w>=5&&(c+=Er.N1+(w-5))}return c}}Er.N1=3,Er.N2=3,Er.N3=40,Er.N4=10;class Cu{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let f=0;f!==o;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)k.fill(o,s)}equals(s){if(!(s instanceof Cu))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,f=this.height;c<f;++c){const h=this.bytes[c],d=o.bytes[c];for(let x=0,w=this.width;x<w;++x)if(h[x]!==d[x])return!1}return!0}toString(){const s=new ye;for(let o=0,c=this.height;o<c;++o){const f=this.bytes[o];for(let h=0,d=this.width;h<d;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Ya{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ye;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Ya.NUM_MASK_PATTERNS}}Ya.NUM_MASK_PATTERNS=8;class qt extends p{}qt.kind="WriterException";class it{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,f,h){it.clearMatrix(h),it.embedBasicPatterns(c,h),it.embedTypeInfo(o,f,h),it.maybeEmbedVersionInfo(c,h),it.embedDataBits(s,f,h)}static embedBasicPatterns(s,o){it.embedPositionDetectionPatternsAndSeparators(o),it.embedDarkDotAtLeftBottomCorner(o),it.maybeEmbedPositionAdjustmentPatterns(s,o),it.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const f=new L;it.makeTypeInfoBits(s,o,f);for(let h=0,d=f.getSize();h<d;++h){const x=f.get(f.getSize()-1-h),w=it.TYPE_INFO_COORDINATES[h],y=w[0],T=w[1];if(c.setBoolean(y,T,x),h<8){const O=c.getWidth()-h-1;c.setBoolean(O,8,x)}else{const P=c.getHeight()-7+(h-8);c.setBoolean(8,P,x)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new L;it.makeVersionInfoBits(s,c);let f=6*3-1;for(let h=0;h<6;++h)for(let d=0;d<3;++d){const x=c.get(f);f--,o.setBoolean(h,o.getHeight()-11+d,x),o.setBoolean(o.getHeight()-11+d,h,x)}}static embedDataBits(s,o,c){let f=0,h=-1,d=c.getWidth()-1,x=c.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);x>=0&&x<c.getHeight();){for(let w=0;w<2;++w){const y=d-w;if(!it.isEmpty(c.get(y,x)))continue;let T;f<s.getSize()?(T=s.get(f),++f):T=!1,o!==255&&Er.getDataMaskBit(o,y,x)&&(T=!T),c.setBoolean(y,x,T)}x+=h}h=-h,x+=h,d-=2}if(f!==s.getSize())throw new qt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-S.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new v("0 polynomial");const c=it.findMSBSet(o);for(s<<=c-1;it.findMSBSet(s)>=c;)s^=o<<it.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!Ya.isValidMaskPattern(o))throw new qt("Invalid mask pattern");const f=s.getBits()<<3|o;c.appendBits(f,5);const h=it.calculateBCHCode(f,it.TYPE_INFO_POLY);c.appendBits(h,10);const d=new L;if(d.appendBits(it.TYPE_INFO_MASK_PATTERN,15),c.xor(d),c.getSize()!==15)throw new qt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=it.calculateBCHCode(s.getVersionNumber(),it.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new qt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;it.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),it.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new qt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let f=0;f<8;++f){if(!it.isEmpty(c.get(s+f,o)))throw new qt;c.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let f=0;f<7;++f){if(!it.isEmpty(c.get(s,o+f)))throw new qt;c.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let f=0;f<5;++f){const h=it.POSITION_ADJUSTMENT_PATTERN[f];for(let d=0;d<5;++d)c.setNumber(s+d,o+f,h[d])}}static embedPositionDetectionPattern(s,o,c){for(let f=0;f<7;++f){const h=it.POSITION_DETECTION_PATTERN[f];for(let d=0;d<7;++d)c.setNumber(s+d,o+f,h[d])}}static embedPositionDetectionPatternsAndSeparators(s){const o=it.POSITION_DETECTION_PATTERN[0].length;it.embedPositionDetectionPattern(0,0,s),it.embedPositionDetectionPattern(s.getWidth()-o,0,s),it.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;it.embedHorizontalSeparationPattern(0,c-1,s),it.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),it.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;it.embedVerticalSeparationPattern(f,0,s),it.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),it.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=it.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,d=f.length;h!==d;h++){const x=f[h];if(x>=0)for(let w=0;w!==d;w++){const y=f[w];y>=0&&it.isEmpty(o.get(y,x))&&it.embedPositionAdjustmentPattern(y-2,x-2,o)}}}}it.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),it.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),it.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),it.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),it.VERSION_INFO_POLY=7973,it.TYPE_INFO_POLY=1335,it.TYPE_INFO_MASK_PATTERN=21522;class lT{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class cr{constructor(){}static calculateMaskPenalty(s){return Er.applyMaskPenaltyRule1(s)+Er.applyMaskPenaltyRule2(s)+Er.applyMaskPenaltyRule3(s)+Er.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let f=cr.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(Wr.CHARACTER_SET)!==void 0;h&&(f=c.get(Wr.CHARACTER_SET).toString());const d=this.chooseMode(s,f),x=new L;if(d===Je.BYTE&&(h||cr.DEFAULT_BYTE_MODE_ENCODING!==f)){const Ue=j.getCharacterSetECIByName(f);Ue!==void 0&&this.appendECI(Ue,x)}this.appendModeInfo(d,x);const w=new L;this.appendBytes(s,d,w,f);let y;if(c!==null&&c.get(Wr.QR_VERSION)!==void 0){const Ue=Number.parseInt(c.get(Wr.QR_VERSION).toString(),10);y=Qe.getVersionForNumber(Ue);const be=this.calculateBitsNeeded(d,x,w,y);if(!this.willFit(be,y,o))throw new qt("Data too big for requested version")}else y=this.recommendVersion(o,d,x,w);const T=new L;T.appendBitArray(x);const O=d===Je.BYTE?w.getSizeInBytes():s.length;this.appendLengthInfo(O,y,d,T),T.appendBitArray(w);const P=y.getECBlocksForLevel(o),z=y.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(z,T);const J=this.interleaveWithECBytes(T,y.getTotalCodewords(),z,P.getNumBlocks()),re=new Ya;re.setECLevel(o),re.setMode(d),re.setVersion(y);const fe=y.getDimensionForVersion(),me=new Cu(fe,fe),Pe=this.chooseMaskPattern(J,o,y,me);return re.setMaskPattern(Pe),it.buildMatrix(J,o,y,Pe,me),re.setMatrix(me),re}static recommendVersion(s,o,c,f){const h=this.calculateBitsNeeded(o,c,f,Qe.getVersionForNumber(1)),d=this.chooseVersion(h,s),x=this.calculateBitsNeeded(o,c,f,d);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,o,c,f){return o.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<cr.ALPHANUMERIC_TABLE.length?cr.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(j.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return Je.KANJI;let c=!1,f=!1;for(let h=0,d=s.length;h<d;++h){const x=s.charAt(h);if(cr.isDigit(x))c=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)f=!0;else return Je.BYTE}return f?Je.ALPHANUMERIC:c?Je.NUMERIC:Je.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=le.encode(s,j.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,o,c,f){let h=Number.MAX_SAFE_INTEGER,d=-1;for(let x=0;x<Ya.NUM_MASK_PATTERNS;x++){it.buildMatrix(s,o,c,x,f);let w=this.calculateMaskPenalty(f);w<h&&(h=w,d=x)}return d}static chooseVersion(s,o){for(let c=1;c<=40;c++){const f=Qe.getVersionForNumber(c);if(cr.willFit(s,f,o))return f}throw new qt("Data too big")}static willFit(s,o,c){const f=o.getTotalCodewords(),d=o.getECBlocksForLevel(c).getTotalECCodewords(),x=f-d,w=(s+7)/8;return x>=w}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new qt("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let d=0;d<4&&o.getSize()<c;++d)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let d=f;d<8;d++)o.appendBit(!1);const h=s-o.getSizeInBytes();for(let d=0;d<h;++d)o.appendBits(d&1?17:236,8);if(o.getSize()!==c)throw new qt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,f,h,d){if(f>=c)throw new qt("Block ID too large");const x=s%c,w=c-x,y=Math.floor(s/c),T=y+1,O=Math.floor(o/c),P=O+1,z=y-O,J=T-P;if(z!==J)throw new qt("EC bytes mismatch");if(c!==w+x)throw new qt("RS blocks mismatch");if(s!==(O+z)*w+(P+J)*x)throw new qt("Total bytes mismatch");f<w?(h[0]=O,d[0]=z):(h[0]=P,d[0]=J)}static interleaveWithECBytes(s,o,c,f){if(s.getSizeInBytes()!==c)throw new qt("Number of bits and data bytes does not match");let h=0,d=0,x=0;const w=new Array;for(let T=0;T<f;++T){const O=new Int32Array(1),P=new Int32Array(1);cr.getNumDataBytesAndNumECBytesForBlockID(o,c,f,T,O,P);const z=O[0],J=new Uint8Array(z);s.toBytes(8*h,J,0,z);const re=cr.generateECBytes(J,P[0]);w.push(new lT(J,re)),d=Math.max(d,z),x=Math.max(x,re.length),h+=O[0]}if(c!==h)throw new qt("Data bytes does not match offset");const y=new L;for(let T=0;T<d;++T)for(const O of w){const P=O.getDataBytes();T<P.length&&y.appendBits(P[T],8)}for(let T=0;T<x;++T)for(const O of w){const P=O.getErrorCorrectionBytes();T<P.length&&y.appendBits(P[T],8)}if(o!==y.getSizeInBytes())throw new qt("Interleaving error: "+o+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(s,o){const c=s.length,f=new Int32Array(c+o);for(let d=0;d<c;d++)f[d]=s[d]&255;new _d(Ze.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let d=0;d<o;d++)h[d]=f[c+d];return h}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,f){const h=c.getCharacterCountBits(o);if(s>=1<<h)throw new qt(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,o,c,f){switch(o){case Je.NUMERIC:cr.appendNumericBytes(s,c);break;case Je.ALPHANUMERIC:cr.appendAlphanumericBytes(s,c);break;case Je.BYTE:cr.append8BitBytes(s,c,f);break;case Je.KANJI:cr.appendKanjiBytes(s,c);break;default:throw new qt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=cr.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=cr.getDigit(s.charAt(f));if(f+2<c){const d=cr.getDigit(s.charAt(f+1)),x=cr.getDigit(s.charAt(f+2));o.appendBits(h*100+d*10+x,10),f+=3}else if(f+1<c){const d=cr.getDigit(s.charAt(f+1));o.appendBits(h*10+d,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=cr.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new qt;if(f+1<c){const d=cr.getAlphanumericCode(s.charCodeAt(f+1));if(d===-1)throw new qt;o.appendBits(h*45+d,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(s,o,c){let f;try{f=le.encode(s,c)}catch(h){throw new qt(h)}for(let h=0,d=f.length;h!==d;h++){const x=f[h];o.appendBits(x,8)}}static appendKanjiBytes(s,o){let c;try{c=le.encode(s,j.SJIS)}catch(h){throw new qt(h)}const f=c.length;for(let h=0;h<f;h+=2){const d=c[h]&255,x=c[h+1]&255,w=d<<8&4294967295|x;let y=-1;if(w>=33088&&w<=40956?y=w-33088:w>=57408&&w<=60351&&(y=w-49472),y===-1)throw new qt("Invalid byte sequence");const T=(y>>8)*192+(y&255);o.appendBits(T,13)}}static appendECI(s,o){o.appendBits(Je.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}cr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),cr.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class Ka{write(s,o,c,f=null){if(s.length===0)throw new v("Found empty contents");if(o<0||c<0)throw new v("Requested dimensions are too small: "+o+"x"+c);let h=tr.L,d=Ka.QUIET_ZONE_SIZE;f!==null&&(f.get(Wr.ERROR_CORRECTION)!==void 0&&(h=tr.fromString(f.get(Wr.ERROR_CORRECTION).toString())),f.get(Wr.MARGIN)!==void 0&&(d=Number.parseInt(f.get(Wr.MARGIN).toString(),10)));const x=cr.encode(s,h,f);return this.renderResult(x,o,c,d)}writeToDom(s,o,c,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const d=this.write(o,c,f,h);s&&s.appendChild(d)}renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new ht;const d=h.getWidth(),x=h.getHeight(),w=d+f*2,y=x+f*2,T=Math.max(o,w),O=Math.max(c,y),P=Math.min(Math.floor(T/w),Math.floor(O/y)),z=Math.floor((T-d*P)/2),J=Math.floor((O-x*P)/2),re=this.createSVGElement(T,O);for(let fe=0,me=J;fe<x;fe++,me+=P)for(let Pe=0,Ue=z;Pe<d;Pe++,Ue+=P)if(h.get(Pe,fe)===1){const be=this.createSvgRectElement(Ue,me,P,P);re.appendChild(be)}return re}createSVGElement(s,o){const c=document.createElementNS(Ka.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,f){const h=document.createElementNS(Ka.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Ka.QUIET_ZONE_SIZE=4,Ka.SVG_NS="http://www.w3.org/2000/svg";class Go{encode(s,o,c,f,h){if(s.length===0)throw new v("Found empty contents");if(o!==ae.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(c<0||f<0)throw new v(`Requested dimensions are too small: ${c}x${f}`);let d=tr.L,x=Go.QUIET_ZONE_SIZE;h!==null&&(h.get(Wr.ERROR_CORRECTION)!==void 0&&(d=tr.fromString(h.get(Wr.ERROR_CORRECTION).toString())),h.get(Wr.MARGIN)!==void 0&&(x=Number.parseInt(h.get(Wr.MARGIN).toString(),10)));const w=cr.encode(s,d,h);return Go.renderResult(w,c,f,x)}static renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new ht;const d=h.getWidth(),x=h.getHeight(),w=d+f*2,y=x+f*2,T=Math.max(o,w),O=Math.max(c,y),P=Math.min(Math.floor(T/w),Math.floor(O/y)),z=Math.floor((T-d*P)/2),J=Math.floor((O-x*P)/2),re=new Se(T,O);for(let fe=0,me=J;fe<x;fe++,me+=P)for(let Pe=0,Ue=z;Pe<d;Pe++,Ue+=P)h.get(Pe,fe)===1&&re.setRegion(Ue,me,P,P);return re}}Go.QUIET_ZONE_SIZE=4;class cT{encode(s,o,c,f,h){let d;switch(o){case ae.QR_CODE:d=new Go;break;default:throw new v("No encoder available for format "+o)}return d.encode(s,o,c,f,h)}}class us extends Ae{constructor(s,o,c,f,h,d,x,w){if(super(d,x),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=f,this.top=h,f+d>o||h+x>c)throw new v("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(d,x)}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return C.arraycopy(this.yuvData,h,f,0,c),f;for(let d=0;d<o;d++){const x=d*s;C.arraycopy(this.yuvData,h,f,x,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new us(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,f,!1)}renderThumbnail(){const s=this.getWidth()/us.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/us.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let d=0;d<o;d++){const x=d*s;for(let w=0;w<s;w++){const y=f[h+w*us.THUMBNAIL_SCALE_FACTOR]&255;c[x+w]=4278190080|y*65793}h+=this.dataWidth*us.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/us.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/us.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const d=h+s/2;for(let x=h,w=h+s-1;x<d;x++,w--){const y=c[x];c[x]=c[w],c[w]=y}}}invert(){return new ne(this)}}us.THUMBNAIL_SCALE_FACTOR=2;class Ed extends Ae{constructor(s,o,c,f,h,d,x){if(super(o,c),this.dataWidth=f,this.dataHeight=h,this.left=d,this.top=x,s.BYTES_PER_ELEMENT===4){const w=o*c,y=new Uint8ClampedArray(w);for(let T=0;T<w;T++){const O=s[T],P=O>>16&255,z=O>>7&510,J=O&255;y[T]=(P+z+J)/4&255}this.luminances=y}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=c),d===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return C.arraycopy(this.luminances,h,f,0,c),f;for(let d=0;d<o;d++){const x=d*s;C.arraycopy(this.luminances,h,f,x,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new Ed(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new ne(this)}}class zm extends j{static forName(s){return this.getCharacterSetECIByName(s)}}class Cd{}Cd.ISO_8859_1=j.ISO8859_1;class Gm{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Xm{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class uT{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Xo extends uT{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Xo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Xo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+S.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Ad extends Xo{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new Ad(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function fT(R,s,o){return new Ad(R,s,o)}function dc(R,s,o){return new Xo(R,s,o)}const hT=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],na=0,Au=1,Ii=2,$m=3,fs=4,dT=new Xo(null,0,0),Sd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function gT(R){for(let s of R)k.fill(s,-1);return R[na][fs]=0,R[Au][fs]=0,R[Au][na]=28,R[$m][fs]=0,R[Ii][fs]=0,R[Ii][na]=15,R}const Ym=gT(k.createInt32Array(6,6));class hs{constructor(s,o,c,f){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,f=this.token;if(s!==this.mode){let d=Sd[this.mode][s];f=dc(f,d&65535,d>>16),c+=d>>16}let h=s===Ii?4:5;return f=dc(f,o,h),new hs(f,s,0,c+h)}shiftAndAppend(s,o){let c=this.token,f=this.mode===Ii?4:5;return c=dc(c,Ym[this.mode][s],f),c=dc(c,o,5),new hs(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,f=this.bitCount;if(this.mode===fs||this.mode===Ii){let x=Sd[c][na];o=dc(o,x&65535,x>>16),f+=x>>16,c=na}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new hs(o,c,this.binaryShiftByteCount+1,f+h);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(s+1)),d}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=fT(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new hs(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(Sd[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=hs.calculateBinaryShiftCost(s)-hs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let c=new L;for(const f of o)f.appendTo(c,s);return c}toString(){return Q.format("%s bits=%d bytes=%d",hT[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}hs.INITIAL_STATE=new hs(dT,na,0,0);function pT(R){const s=Q.getCharCode(" "),o=Q.getCharCode("."),c=Q.getCharCode(",");R[na][s]=1;const f=Q.getCharCode("Z"),h=Q.getCharCode("A");for(let P=h;P<=f;P++)R[na][P]=P-h+2;R[Au][s]=1;const d=Q.getCharCode("z"),x=Q.getCharCode("a");for(let P=x;P<=d;P++)R[Au][P]=P-x+2;R[Ii][s]=1;const w=Q.getCharCode("9"),y=Q.getCharCode("0");for(let P=y;P<=w;P++)R[Ii][P]=P-y+2;R[Ii][c]=12,R[Ii][o]=13;const T=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<T.length;P++)R[$m][Q.getCharCode(T[P])]=P;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<O.length;P++)Q.getCharCode(O[P])>0&&(R[fs][Q.getCharCode(O[P])]=P);return R}const Td=pT(k.createInt32Array(5,256));class gc{constructor(s){this.text=s}encode(){const s=Q.getCharCode(" "),o=Q.getCharCode(`
`);let c=Xm.singletonList(hs.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let d,x=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case Q.getCharCode("\r"):d=x===o?2:0;break;case Q.getCharCode("."):d=x===s?3:0;break;case Q.getCharCode(","):d=x===s?4:0;break;case Q.getCharCode(":"):d=x===s?5:0;break;default:d=0}d>0?(c=gc.updateStateListForPair(c,h,d),h++):c=this.updateStateListForChar(c,h)}return Xm.min(c,(h,d)=>h.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let f of s)this.updateStateForChar(f,o,c);return gc.simplifyStates(c)}updateStateForChar(s,o,c){let f=this.text[o]&255,h=Td[s.getMode()][f]>0,d=null;for(let x=0;x<=fs;x++){let w=Td[x][f];if(w>0){if(d==null&&(d=s.endBinaryShift(o)),!h||x===s.getMode()||x===Ii){const y=d.latchAndAppend(x,w);c.push(y)}if(!h&&Ym[s.getMode()][x]>=0){const y=d.shiftAndAppend(x,w);c.push(y)}}}if(s.getBinaryShiftByteCount()>0||Td[s.getMode()][f]===0){let x=s.addBinaryShiftChar(o);c.push(x)}}static updateStateListForPair(s,o,c){const f=[];for(let h of s)this.updateStateForPair(h,o,c,f);return this.simplifyStates(f)}static updateStateForPair(s,o,c,f){let h=s.endBinaryShift(o);if(f.push(h.latchAndAppend(fs,c)),s.getMode()!==fs&&f.push(h.shiftAndAppend(fs,c)),c===3||c===4){let d=h.latchAndAppend(Ii,16-c).latchAndAppend(Ii,1);f.push(d)}if(s.getBinaryShiftByteCount()>0){let d=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(d)}}static simplifyStates(s){let o=[];for(const c of s){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(h)&&(o=o.filter(d=>d!==h))}f&&o.push(c)}return o}}class Bt{constructor(){}static encodeBytes(s){return Bt.encode(s,Bt.DEFAULT_EC_PERCENT,Bt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let f=new gc(s).encode(),h=S.truncDivision(f.getSize()*o,100)+11,d=f.getSize()+h,x,w,y,T,O;if(c!==Bt.DEFAULT_AZTEC_LAYERS){if(x=c<0,w=Math.abs(c),w>(x?Bt.MAX_NB_BITS_COMPACT:Bt.MAX_NB_BITS))throw new v(Q.format("Illegal value %s for layers",c));y=Bt.totalBitsInLayer(w,x),T=Bt.WORD_SIZE[w];let be=y-y%T;if(O=Bt.stuffBits(f,T),O.getSize()+h>be)throw new v("Data to large for user specified layer");if(x&&O.getSize()>T*64)throw new v("Data to large for user specified layer")}else{T=0,O=null;for(let be=0;;be++){if(be>Bt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(x=be<=3,w=x?be+1:be,y=Bt.totalBitsInLayer(w,x),d>y)continue;(O==null||T!==Bt.WORD_SIZE[w])&&(T=Bt.WORD_SIZE[w],O=Bt.stuffBits(f,T));let bt=y-y%T;if(!(x&&O.getSize()>T*64)&&O.getSize()+h<=bt)break}}let P=Bt.generateCheckWords(O,y,T),z=O.getSize()/T,J=Bt.generateModeMessage(x,w,z),re=(x?11:14)+w*4,fe=new Int32Array(re),me;if(x){me=re;for(let be=0;be<fe.length;be++)fe[be]=be}else{me=re+1+2*S.truncDivision(S.truncDivision(re,2)-1,15);let be=S.truncDivision(re,2),bt=S.truncDivision(me,2);for(let xt=0;xt<be;xt++){let qn=xt+S.truncDivision(xt,15);fe[be-xt-1]=bt-qn-1,fe[be+xt]=bt+qn+1}}let Pe=new Se(me);for(let be=0,bt=0;be<w;be++){let xt=(w-be)*4+(x?9:12);for(let qn=0;qn<xt;qn++){let $i=qn*2;for(let Zn=0;Zn<2;Zn++)P.get(bt+$i+Zn)&&Pe.set(fe[be*2+Zn],fe[be*2+qn]),P.get(bt+xt*2+$i+Zn)&&Pe.set(fe[be*2+qn],fe[re-1-be*2-Zn]),P.get(bt+xt*4+$i+Zn)&&Pe.set(fe[re-1-be*2-Zn],fe[re-1-be*2-qn]),P.get(bt+xt*6+$i+Zn)&&Pe.set(fe[re-1-be*2-qn],fe[be*2+Zn])}bt+=xt*8}if(Bt.drawModeMessage(Pe,x,me,J),x)Bt.drawBullsEye(Pe,S.truncDivision(me,2),5);else{Bt.drawBullsEye(Pe,S.truncDivision(me,2),7);for(let be=0,bt=0;be<S.truncDivision(re,2)-1;be+=15,bt+=16)for(let xt=S.truncDivision(me,2)&1;xt<me;xt+=2)Pe.set(S.truncDivision(me,2)-bt,xt),Pe.set(S.truncDivision(me,2)+bt,xt),Pe.set(xt,S.truncDivision(me,2)-bt),Pe.set(xt,S.truncDivision(me,2)+bt)}let Ue=new Gm;return Ue.setCompact(x),Ue.setSize(me),Ue.setLayers(w),Ue.setCodeWords(z),Ue.setMatrix(Pe),Ue}static drawBullsEye(s,o,c){for(let f=0;f<c;f+=2)for(let h=o-f;h<=o+f;h++)s.set(h,o-f),s.set(h,o+f),s.set(o-f,h),s.set(o+f,h);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let f=new L;return s?(f.appendBits(o-1,2),f.appendBits(c-1,6),f=Bt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(c-1,11),f=Bt.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,c,f){let h=S.truncDivision(c,2);if(o)for(let d=0;d<7;d++){let x=h-3+d;f.get(d)&&s.set(x,h-5),f.get(d+7)&&s.set(h+5,x),f.get(20-d)&&s.set(x,h+5),f.get(27-d)&&s.set(h-5,x)}else for(let d=0;d<10;d++){let x=h-5+d+S.truncDivision(d,5);f.get(d)&&s.set(x,h-7),f.get(d+10)&&s.set(h+7,x),f.get(29-d)&&s.set(x,h+7),f.get(39-d)&&s.set(h-7,x)}}static generateCheckWords(s,o,c){let f=s.getSize()/c,h=new _d(Bt.getGF(c)),d=S.truncDivision(o,c),x=Bt.bitsToWords(s,c,d);h.encode(x,d-f);let w=o%c,y=new L;y.appendBits(0,w);for(const T of Array.from(x))y.appendBits(T,c);return y}static bitsToWords(s,o,c){let f=new Int32Array(c),h,d;for(h=0,d=s.getSize()/o;h<d;h++){let x=0;for(let w=0;w<o;w++)x|=s.get(h*o+w)?1<<o-w-1:0;f[h]=x}return f}static getGF(s){switch(s){case 4:return Ze.AZTEC_PARAM;case 6:return Ze.AZTEC_DATA_6;case 8:return Ze.AZTEC_DATA_8;case 10:return Ze.AZTEC_DATA_10;case 12:return Ze.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,o){let c=new L,f=s.getSize(),h=(1<<o)-2;for(let d=0;d<f;d+=o){let x=0;for(let w=0;w<o;w++)(d+w>=f||s.get(d+w))&&(x|=1<<o-1-w);(x&h)===h?(c.appendBits(x&h,o),d--):x&h?c.appendBits(x,o):(c.appendBits(x|1,o),d--)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Bt.DEFAULT_EC_PERCENT=33,Bt.DEFAULT_AZTEC_LAYERS=0,Bt.MAX_NB_BITS=32,Bt.MAX_NB_BITS_COMPACT=4,Bt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Su{encode(s,o,c,f){return this.encodeWithHints(s,o,c,f,null)}encodeWithHints(s,o,c,f,h){let d=Cd.ISO_8859_1,x=Bt.DEFAULT_EC_PERCENT,w=Bt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Wr.CHARACTER_SET)&&(d=zm.forName(h.get(Wr.CHARACTER_SET).toString())),h.has(Wr.ERROR_CORRECTION)&&(x=S.parseInt(h.get(Wr.ERROR_CORRECTION).toString())),h.has(Wr.AZTEC_LAYERS)&&(w=S.parseInt(h.get(Wr.AZTEC_LAYERS).toString()))),Su.encodeLayers(s,o,c,f,d,x,w)}static encodeLayers(s,o,c,f,h,d,x){if(o!==ae.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let w=Bt.encode(Q.getBytes(s,h),d,x);return Su.renderResult(w,c,f)}static renderResult(s,o,c){let f=s.getMatrix();if(f==null)throw new ht;let h=f.getWidth(),d=f.getHeight(),x=Math.max(o,h),w=Math.max(c,d),y=Math.min(x/h,w/d),T=(x-h*y)/2,O=(w-d*y)/2,P=new Se(x,w);for(let z=0,J=O;z<d;z++,J+=y)for(let re=0,fe=T;re<h;re++,fe+=y)f.get(re,z)&&P.setRegion(fe,J,y,y);return P}}r.AbstractExpandedDecoder=W,r.ArgumentException=m,r.ArithmeticException=Y,r.AztecCode=Gm,r.AztecCodeReader=$t,r.AztecCodeWriter=Su,r.AztecDecoder=tt,r.AztecDetector=dt,r.AztecDetectorResult=oi,r.AztecEncoder=Bt,r.AztecHighLevelEncoder=gc,r.AztecPoint=Xt,r.BarcodeFormat=ae,r.Binarizer=A,r.BinaryBitmap=_,r.BitArray=L,r.BitMatrix=Se,r.BitSource=pd,r.BrowserAztecCodeReader=cn,r.BrowserBarcodeReader=Xa,r.BrowserCodeReader=se,r.BrowserDatamatrixCodeReader=YS,r.BrowserMultiFormatReader=sT,r.BrowserPDF417Reader=aT,r.BrowserQRCodeReader=oT,r.BrowserQRCodeSvgWriter=Ka,r.CharacterSetECI=j,r.ChecksumException=E,r.Code128Reader=Me,r.Code39Reader=At,r.DataMatrixDecodedBitStreamParser=Js,r.DataMatrixReader=ea,r.DecodeHintType=G,r.DecoderResult=je,r.DefaultGridSampler=zi,r.DetectorResult=ln,r.EAN13Reader=Xi,r.EncodeHintType=Wr,r.Exception=p,r.FormatException=D,r.GenericGF=Ze,r.GenericGFPoly=et,r.GlobalHistogramBinarizer=Be,r.GridSampler=_n,r.GridSamplerInstance=Jt,r.HTMLCanvasElementLuminanceSource=ke,r.HybridBinarizer=Ce,r.ITFReader=jt,r.IllegalArgumentException=v,r.IllegalStateException=ht,r.InvertedLuminanceSource=ne,r.LuminanceSource=Ae,r.MathUtils=Ye,r.MultiFormatOneDReader=Ti,r.MultiFormatReader=Hm,r.MultiFormatWriter=cT,r.NotFoundException=ee,r.OneDReader=pt,r.PDF417DecodedBitStreamParser=xe,r.PDF417DecoderErrorCorrection=Bm,r.PDF417Reader=fn,r.PDF417ResultMetadata=Um,r.PerspectiveTransform=_r,r.PlanarYUVLuminanceSource=us,r.QRCodeByteMatrix=Cu,r.QRCodeDataMask=ki,r.QRCodeDecodedBitStreamParser=mr,r.QRCodeDecoderErrorCorrectionLevel=tr,r.QRCodeDecoderFormatInformation=En,r.QRCodeEncoder=cr,r.QRCodeEncoderQRCode=Ya,r.QRCodeMaskUtil=Er,r.QRCodeMatrixUtil=it,r.QRCodeMode=Je,r.QRCodeReader=ta,r.QRCodeVersion=Qe,r.QRCodeWriter=Go,r.RGBLuminanceSource=Ed,r.RSS14Reader=vt,r.RSSExpandedReader=ve,r.ReaderException=Eu,r.ReedSolomonDecoder=qe,r.ReedSolomonEncoder=_d,r.ReedSolomonException=ct,r.Result=K,r.ResultMetadataType=We,r.ResultPoint=Ge,r.StringUtils=Q,r.UnsupportedOperationException=oe,r.VideoInputDevice=ce,r.WhiteRectangleDetector=Qt,r.WriterException=qt,r.ZXingArrays=k,r.ZXingCharset=zm,r.ZXingInteger=S,r.ZXingStandardCharsets=Cd,r.ZXingStringBuilder=ye,r.ZXingStringEncoding=le,r.ZXingSystem=C,r.createAbstractExpandedDecoder=Le,Object.defineProperty(r,"__esModule",{value:!0})})})(Xg,Xg.exports);var fr=Xg.exports;const y7=Vy(fr),_7=Wy({__proto__:null,default:y7},[fr]);var vv=function(){function e(t,r,n){if(this.formatMap=new Map([[$e.QR_CODE,fr.BarcodeFormat.QR_CODE],[$e.AZTEC,fr.BarcodeFormat.AZTEC],[$e.CODABAR,fr.BarcodeFormat.CODABAR],[$e.CODE_39,fr.BarcodeFormat.CODE_39],[$e.CODE_93,fr.BarcodeFormat.CODE_93],[$e.CODE_128,fr.BarcodeFormat.CODE_128],[$e.DATA_MATRIX,fr.BarcodeFormat.DATA_MATRIX],[$e.MAXICODE,fr.BarcodeFormat.MAXICODE],[$e.ITF,fr.BarcodeFormat.ITF],[$e.EAN_13,fr.BarcodeFormat.EAN_13],[$e.EAN_8,fr.BarcodeFormat.EAN_8],[$e.PDF_417,fr.BarcodeFormat.PDF_417],[$e.RSS_14,fr.BarcodeFormat.RSS_14],[$e.RSS_EXPANDED,fr.BarcodeFormat.RSS_EXPANDED],[$e.UPC_A,fr.BarcodeFormat.UPC_A],[$e.UPC_E,fr.BarcodeFormat.UPC_E],[$e.UPC_EAN_EXTENSION,fr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!_7)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(fr.DecodeHintType.POSSIBLE_FORMATS,i),a.set(fr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new fr.MultiFormatReader(this.verbose,this.hints),n=new fr.HTMLCanvasElementLuminanceSource(t),i=new fr.BinaryBitmap(new fr.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:pA.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),E7=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},C7=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},yv=function(){function e(t,r,n){if(this.formatMap=new Map([[$e.QR_CODE,"qr_code"],[$e.AZTEC,"aztec"],[$e.CODABAR,"codabar"],[$e.CODE_39,"code_39"],[$e.CODE_93,"code_93"],[$e.CODE_128,"code_128"],[$e.DATA_MATRIX,"data_matrix"],[$e.ITF,"itf"],[$e.EAN_13,"ean_13"],[$e.EAN_8,"ean_8"],[$e.PDF_417,"pdf417"],[$e.UPC_A,"upc_a"],[$e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return E7(this,void 0,void 0,function(){var r,n;return C7(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:pA.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var l=a[i],u=l.boundingBox.width*l.boundingBox.height;u>n&&(n=u,r=l)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),_v=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},Ev=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},A7=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&yv.isSupported()?(this.primaryDecoder=new yv(t,n,i),this.secondaryDecoder=new vv(t,n,i)):this.primaryDecoder=new vv(t,n,i)}return e.prototype.decodeAsync=function(t){return _v(this,void 0,void 0,function(){var r;return Ev(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return _v(this,void 0,void 0,function(){var r,n;return Ev(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),$x=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ah=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},oh=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},mA=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),S7=function(e){$x(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(mA),T7=function(e){$x(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(S7),k7=function(e){$x(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(mA),b7=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new T7(this.track)},e.prototype.torchFeature=function(){return new k7(this.track)},e}(),I7=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return ah(this,void 0,void 0,function(){var a,l;return oh(this,function(u){switch(u.label){case 0:return a=new e(t,r,i),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ah(this,void 0,void 0,function(){return oh(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,l=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++l,l>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new b7(this.getFirstTrackOrFail())},e}(),R7=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return ah(this,void 0,void 0,function(){return oh(this,function(i){return[2,I7.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return ah(this,void 0,void 0,function(){var r,n;return oh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),Cv=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},Av=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},N7=function(){function e(){}return e.failIfNotSupported=function(){return Cv(this,void 0,void 0,function(){return Av(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Cv(this,void 0,void 0,function(){return Av(this,function(r){return[2,R7.create(t)]})})},e}(),O7=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(m){try{p(n.next(m))}catch(v){l(v)}}function g(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):i(m.value).then(u,g)}p((n=n.apply(e,t||[])).next())})},D7=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(m){return g([p,m])}}function g(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(m){p=[6,m],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},F7=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=gl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=gl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return O7(this,void 0,void 0,function(){var t,r,n,i,a,l,u;return D7(this,function(g){switch(g.label){case 0:return t=function(p){for(var m=p.getVideoTracks(),v=0,_=m;v<_.length;v++){var E=_[v];E.enabled=!1,E.stop(),p.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),i=[],a=0,l=n;a<l.length;a++)u=l[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var l=[],u=0,g=a;u<g.length;u++){var p=g[u];p.kind==="video"&&l.push({id:p.id,label:p.label})}t(l)},i=MediaStreamTrack;i.getSources(n)})},e}(),Cr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Cr||(Cr={}));var P7=function(){function e(){this.state=Cr.NOT_STARTED,this.onGoingTransactionNewState=Cr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Cr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Cr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Cr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Cr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Cr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Cr.UNKNOWN:throw"Transition from unknown is not allowed";case Cr.NOT_STARTED:this.failIfNewStateIs(t,[Cr.PAUSED]);break;case Cr.SCANNING:break;case Cr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),M7=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Cr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Cr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Cr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Cr.PAUSED},e}(),B7=function(){function e(){}return e.create=function(){return new M7(new P7)},e}(),L7=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fi=function(e){L7(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(m7),U7=function(){function e(t,r){this.logger=r,this.fps=fi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=fi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?xA.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!bs(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Sv=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new v7(this.verbose),this.qrcode=new A7(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=B7.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var u=U7.create(r,this.logger);this.clearElement();var g=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:fi.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var v=this,_=this.stateManagerProxy.startTransition(Cr.SCANNING);return new Promise(function(E,A){var C=p?u.videoConstraints:v.createVideoConstraints(t);if(!C){_.cancel(),A("videoConstraints should be defined");return}var I={};(!p||u.aspectRatio)&&(I.aspectRatio=u.aspectRatio);var b={onRenderSurfaceReady:function(k,S){v.setupUi(k,S,u),v.isScanning=!0,v.foreverScan(u,n,l)}};N7.failIfNotSupported().then(function(k){k.create(C).then(function(S){return S.render(a.element,I,b).then(function(L){v.renderedCamera=L,_.execute(),E(null)}).catch(function(L){_.cancel(),A(L)})}).catch(function(S){_.cancel(),A(gl.errorGettingUserMedia(S))})}).catch(function(k){_.cancel(),A(gl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Cr.PAUSED),this.showPausedState(),(bs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Cr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Cr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(fi.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(bs(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var l=new Image;l.onload=function(){var u=l.width,g=l.height,p=document.getElementById(n.elementId),m=p.clientWidth?p.clientWidth:fi.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:g,fi.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(u,g,m,v);if(r){var E=n.createCanvasElement(m,v,"qr-canvas-visible");E.style.display="inline-block",p.appendChild(E);var A=E.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=m,A.canvas.height=v,A.drawImage(l,0,0,u,g,_.x,_.y,_.width,_.height)}var C=fi.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(l.width,_.width),b=Math.max(l.height,_.height),k=I+2*C,S=b+2*C,L=n.createCanvasElement(k,S);p.appendChild(L);var q=L.getContext("2d");if(!q)throw"Unable to get 2d context from canvas";q.canvas.width=k,q.canvas.height=S,q.drawImage(l,0,0,u,g,C,C,I,b);try{n.qrcode.decodeRobustlyAsync(L).then(function(G){i(wv.createFromQrcodeResult(G))}).catch(a)}catch(G){a("QR code parse error, error = ".concat(G))}},l.onerror=a,l.onabort=a,l.onstalled=a,l.onsuspend=a,l.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return F7.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!xA.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[$e.QR_CODE,$e.AZTEC,$e.CODABAR,$e.CODE_39,$e.CODE_93,$e.CODE_128,$e.DATA_MATRIX,$e.MAXICODE,$e.ITF,$e.EAN_13,$e.EAN_8,$e.PDF_417,$e.RSS_14,$e.RSS_EXPANDED,$e.UPC_A,$e.UPC_E,$e.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var l=a[i];x7(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(bs(t))return!0;if(!bs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(bs(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return bs(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,r,a),u=function(p){if(p<fi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fi.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};u(l.width),u(l.height),l.width=g(l.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=bs(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&a.height<=r,u={x:0,y:0,width:t,height:r},g=l?this.getShadedRegionBounds(t,r,a):u,p=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},v=p.getContext("2d",m);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=gl.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,wv.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=gl.codeParseError(i);return r(a,w7.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),l=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*l,p=this.qrRegion.height*u,m=this.qrRegion.x*l,v=this.qrRegion.y*u;this.context.drawImage(a,m,v,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){_()})):_()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",l=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var g=Object.keys(t)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var p=t.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(l(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof p;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var _=typeof v;throw"Invalid type of 'deviceId' = ".concat(_)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,l=(i-r)/2;return{x:a,y:l,width:t,height:r}}else{var u=t,g=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(g)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?fi.BORDER_SHADER_MATCH_COLOR:fi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(a,"px"),l.style.display="none",l.id=bs(n)?"qr-canvas":n,l},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var l=(r-i.width)/2,u=(n-i.height)/2;if(a.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(fi.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(a,p,g,-g,null,0,!0),this.insertShaderBorders(a,p,g,-g,null,0,!1),this.insertShaderBorders(a,p,g,null,-g,0,!0),this.insertShaderBorders(a,p,g,null,-g,0,!1),this.insertShaderBorders(a,g,p+g,-g,null,-g,!0),this.insertShaderBorders(a,g,p+g,null,-g,-g,!0),this.insertShaderBorders(a,g,p+g,-g,null,-g,!1),this.insertShaderBorders(a,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,l,u){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=fi.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),u?g.style.left="".concat(l,"px"):g.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Tv;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Tv||(Tv={}));const wA=({onScan:e,onClose:t,isOpen:r})=>{const[n,i]=Ee.useState(!1),[a,l]=Ee.useState(""),[u,g]=Ee.useState(""),[p,m]=Ee.useState(!1),[v,_]=Ee.useState(""),E=Ee.useRef(null),A=Ee.useRef(`html5qr-${Math.random().toString(36).slice(2)}`);Ee.useEffect(()=>(r&&C(),()=>{I()}),[r]);const C=async()=>{try{g(""),m(!1),E.current||(E.current=new Sv(A.current,!1));const S=await Sv.getCameras();if(!S||S.length===0){g("Kamera tidak ditemukan.");return}const L=S.find(G=>/back|rear|environment/i.test(G.label))||S[0],q={fps:10,qrbox:{width:280,height:200},aspectRatio:1.777,rememberLastUsedCamera:!0,focusMode:"continuous",focusDistance:0,formatsToSupport:[$e.CODE_128,$e.EAN_13,$e.EAN_8,$e.UPC_A,$e.UPC_E,$e.QR_CODE]};await E.current.start(L.id,q,G=>{G&&(l(G),e(G),I())},G=>{}),m(!0),i(!0)}catch(S){console.error("Scanner init error:",S),g("Tidak dapat memulai pemindai: "+((S==null?void 0:S.message)||String(S)))}},I=async()=>{i(!1);try{E.current&&(await E.current.stop(),await E.current.clear())}catch{}},b=()=>{I(),t()},k=()=>{g(""),l(""),C()};return r?N.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:[N.jsxs("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",padding:"1.5rem",width:"100%",maxWidth:"28rem",maxHeight:"90vh",overflow:"auto"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",margin:0},children:"Scan Barcode"}),N.jsx("button",{onClick:b,style:{background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:N.jsx(Jb,{size:24})})]}),N.jsx("div",{style:{position:"relative",width:"100%",height:"320px",backgroundColor:"#000",borderRadius:"0.5rem",overflow:"hidden",marginBottom:"1rem"},children:N.jsx("div",{id:A.current,style:{width:"100%",height:"100%"}})}),u&&N.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center"},children:[N.jsx(Kb,{size:20,style:{color:"#dc2626",marginRight:"0.5rem"}}),N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#991b1b",margin:0},children:u}),N.jsx("button",{onClick:k,style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#dc2626",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Coba Lagi"})]})]}),a&&N.jsxs("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem",display:"flex",alignItems:"center"},children:[N.jsx(gC,{size:20,style:{color:"#059669",marginRight:"0.5rem"}}),N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#065f46",margin:0},children:"Barcode berhasil dipindai!"}),N.jsx("p",{style:{fontSize:"0.75rem",color:"#059669",marginTop:"0.25rem",margin:0},children:a})]})]}),N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem",display:"block"},children:"Atau masukkan barcode secara manual:"}),N.jsx("input",{type:"text",value:v,onChange:S=>_(S.target.value),placeholder:"Masukkan kode barcode",style:{width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem"}}),v&&N.jsx("button",{onClick:()=>{e(v),b()},style:{marginTop:"0.5rem",width:"100%",backgroundColor:"#10b981",color:"white",padding:"0.5rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Gunakan Kode Manual"})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:b,style:{flex:1,backgroundColor:"#6b7280",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Tutup"}),a&&N.jsx("button",{onClick:()=>{e(a),b()},style:{flex:1,backgroundColor:"#3b82f6",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Gunakan"})]})]}),N.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
      `})]}):null};/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function vA(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function j7(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kv(e,t){return e.get(vA(e,t))}function W7(e,t,r){j7(e,t),t.set(e,r)}function V7(e,t,r){return e.set(vA(e,t),r),r}const H7=100,nt={},z7=()=>{nt.previousActiveElement instanceof HTMLElement?(nt.previousActiveElement.focus(),nt.previousActiveElement=null):document.body&&document.body.focus()},G7=e=>new Promise(t=>{if(!e)return t();const r=window.scrollX,n=window.scrollY;nt.restoreFocusTimeout=setTimeout(()=>{z7(),t()},H7),window.scrollTo(r,n)}),yA="swal2-",X7=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],we=X7.reduce((e,t)=>(e[t]=yA+t,e),{}),$7=["success","warning","info","question","error"],lh=$7.reduce((e,t)=>(e[t]=yA+t,e),{}),_A="SweetAlert2:",Yx=e=>e.charAt(0).toUpperCase()+e.slice(1),zn=e=>{console.warn(`${_A} ${typeof e=="object"?e.join(" "):e}`)},Po=e=>{console.error(`${_A} ${e}`)},bv=[],Y7=e=>{bv.includes(e)||(bv.push(e),zn(e))},EA=(e,t=null)=>{Y7(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},sd=e=>typeof e=="function"?e():e,Kx=e=>e&&typeof e.toPromise=="function",lu=e=>Kx(e)?e.toPromise():Promise.resolve(e),qx=e=>e&&Promise.resolve(e)===e,Yn=()=>document.body.querySelector(`.${we.container}`),cu=e=>{const t=Yn();return t?t.querySelector(e):null},Ai=e=>cu(`.${e}`),Vt=()=>Ai(we.popup),ec=()=>Ai(we.icon),K7=()=>Ai(we["icon-content"]),CA=()=>Ai(we.title),Zx=()=>Ai(we["html-container"]),AA=()=>Ai(we.image),Qx=()=>Ai(we["progress-steps"]),ad=()=>Ai(we["validation-message"]),Es=()=>cu(`.${we.actions} .${we.confirm}`),tc=()=>cu(`.${we.actions} .${we.cancel}`),Mo=()=>cu(`.${we.actions} .${we.deny}`),q7=()=>Ai(we["input-label"]),rc=()=>cu(`.${we.loader}`),uu=()=>Ai(we.actions),SA=()=>Ai(we.footer),od=()=>Ai(we["timer-progress-bar"]),Jx=()=>Ai(we.close),Z7=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,em=()=>{const e=Vt();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(t).sort((a,l)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),g=parseInt(l.getAttribute("tabindex")||"0");return u>g?1:u<g?-1:0}),n=e.querySelectorAll(Z7),i=Array.from(n).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(a=>ai(a))},tm=()=>Bs(document.body,we.shown)&&!Bs(document.body,we["toast-shown"])&&!Bs(document.body,we["no-backdrop"]),ld=()=>{const e=Vt();return e?Bs(e,we.toast):!1},Q7=()=>{const e=Vt();return e?e.hasAttribute("data-loading"):!1},Si=(e,t)=>{if(e.textContent="",t){const n=new DOMParser().parseFromString(t,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{e.appendChild(l)});const a=n.querySelector("body");a&&Array.from(a.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?e.appendChild(l.cloneNode(!0)):e.appendChild(l)})}},Bs=(e,t)=>{if(!t)return!1;const r=t.split(/\s+/);for(let n=0;n<r.length;n++)if(!e.classList.contains(r[n]))return!1;return!0},J7=(e,t)=>{Array.from(e.classList).forEach(r=>{!Object.values(we).includes(r)&&!Object.values(lh).includes(r)&&!Object.values(t.showClass||{}).includes(r)&&e.classList.remove(r)})},yi=(e,t,r)=>{if(J7(e,t),!t.customClass)return;const n=t.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){zn(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}zt(e,n)}},cd=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${we.popup} > .${we[t]}`);case"checkbox":return e.querySelector(`.${we.popup} > .${we.checkbox} input`);case"radio":return e.querySelector(`.${we.popup} > .${we.radio} input:checked`)||e.querySelector(`.${we.popup} > .${we.radio} input:first-child`);case"range":return e.querySelector(`.${we.popup} > .${we.range} input`);default:return e.querySelector(`.${we.popup} > .${we.input}`)}},TA=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},kA=(e,t,r)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(e)?e.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?e.classList.add(n):e.classList.remove(n)}))},zt=(e,t)=>{kA(e,t,!0)},Wi=(e,t)=>{kA(e,t,!1)},pa=(e,t)=>{const r=Array.from(e.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&Bs(i,t))return i}},uo=(e,t,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?e.style.setProperty(t,typeof r=="number"?`${r}px`:r):e.style.removeProperty(t)},on=(e,t="flex")=>{e&&(e.style.display=t)},On=e=>{e&&(e.style.display="none")},rm=(e,t="block")=>{e&&new MutationObserver(()=>{fu(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},Iv=(e,t,r,n)=>{const i=e.querySelector(t);i&&i.style.setProperty(r,n)},fu=(e,t,r="flex")=>{t?on(e,r):On(e)},ai=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),eD=()=>!ai(Es())&&!ai(Mo())&&!ai(tc()),$g=e=>e.scrollHeight>e.clientHeight,tD=(e,t)=>{let r=e;for(;r&&r!==t;){if($g(r))return!0;r=r.parentElement}return!1},bA=e=>{const t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||n>0},nm=(e,t=!1)=>{const r=od();r&&ai(r)&&(t&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${e/1e3}s linear`,r.style.width="0%"},10))},rD=()=>{const e=od();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const r=parseInt(window.getComputedStyle(e).width),n=t/r*100;e.style.width=`${n}%`},nD=()=>typeof window>"u"||typeof document>"u",iD=`
 <div aria-labelledby="${we.title}" aria-describedby="${we["html-container"]}" class="${we.popup}" tabindex="-1">
   <button type="button" class="${we.close}"></button>
   <ul class="${we["progress-steps"]}"></ul>
   <div class="${we.icon}"></div>
   <img class="${we.image}" />
   <h2 class="${we.title}" id="${we.title}"></h2>
   <div class="${we["html-container"]}" id="${we["html-container"]}"></div>
   <input class="${we.input}" id="${we.input}" />
   <input type="file" class="${we.file}" />
   <div class="${we.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${we.select}" id="${we.select}"></select>
   <div class="${we.radio}"></div>
   <label class="${we.checkbox}">
     <input type="checkbox" id="${we.checkbox}" />
     <span class="${we.label}"></span>
   </label>
   <textarea class="${we.textarea}" id="${we.textarea}"></textarea>
   <div class="${we["validation-message"]}" id="${we["validation-message"]}"></div>
   <div class="${we.actions}">
     <div class="${we.loader}"></div>
     <button type="button" class="${we.confirm}"></button>
     <button type="button" class="${we.deny}"></button>
     <button type="button" class="${we.cancel}"></button>
   </div>
   <div class="${we.footer}"></div>
   <div class="${we["timer-progress-bar-container"]}">
     <div class="${we["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),sD=()=>{const e=Yn();return e?(e.remove(),Wi([document.documentElement,document.body],[we["no-backdrop"],we["toast-shown"],we["has-column"]]),!0):!1},qa=()=>{nt.currentInstance.resetValidationMessage()},aD=()=>{const e=Vt(),t=pa(e,we.input),r=pa(e,we.file),n=e.querySelector(`.${we.range} input`),i=e.querySelector(`.${we.range} output`),a=pa(e,we.select),l=e.querySelector(`.${we.checkbox} input`),u=pa(e,we.textarea);t.oninput=qa,r.onchange=qa,a.onchange=qa,l.onchange=qa,u.oninput=qa,n.oninput=()=>{qa(),i.value=n.value},n.onchange=()=>{qa(),i.value=n.value}},oD=e=>typeof e=="string"?document.querySelector(e):e,lD=e=>{const t=Vt();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},cD=e=>{window.getComputedStyle(e).direction==="rtl"&&zt(Yn(),we.rtl)},uD=e=>{const t=sD();if(nD()){Po("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=we.container,t&&zt(r,we["no-transition"]),Si(r,iD),r.dataset.swal2Theme=e.theme;const n=oD(e.target);n.appendChild(r),e.topLayer&&(r.setAttribute("popover",""),r.showPopover()),lD(e),cD(n),aD()},im=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?fD(e,t):e&&Si(t,e)},fD=(e,t)=>{e.jquery?hD(t,e):Si(t,e.toString())},hD=(e,t)=>{if(e.textContent="",0 in t)for(let r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},dD=(e,t)=>{const r=uu(),n=rc();!r||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?On(r):on(r),yi(r,t,"actions"),gD(r,n,t),Si(n,t.loaderHtml||""),yi(n,t,"loader"))};function gD(e,t,r){const n=Es(),i=Mo(),a=tc();!n||!i||!a||(p1(n,"confirm",r),p1(i,"deny",r),p1(a,"cancel",r),pD(n,i,a,r),r.reverseButtons&&(r.toast?(e.insertBefore(a,n),e.insertBefore(i,n)):(e.insertBefore(a,t),e.insertBefore(i,t),e.insertBefore(n,t))))}function pD(e,t,r,n){if(!n.buttonsStyling){Wi([e,t,r],we.styled);return}zt([e,t,r],we.styled),n.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),g1(e),g1(t),g1(r)}function g1(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function p1(e,t,r){const n=Yx(t);fu(e,r[`show${n}Button`],"inline-block"),Si(e,r[`${t}ButtonText`]||""),e.setAttribute("aria-label",r[`${t}ButtonAriaLabel`]||""),e.className=we[t],yi(e,r,`${t}Button`)}const xD=(e,t)=>{const r=Jx();r&&(Si(r,t.closeButtonHtml||""),yi(r,t,"closeButton"),fu(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel||""))},mD=(e,t)=>{const r=Yn();r&&(wD(r,t.backdrop),vD(r,t.position),yD(r,t.grow),yi(r,t,"container"))};function wD(e,t){typeof t=="string"?e.style.background=t:t||zt([document.documentElement,document.body],we["no-backdrop"])}function vD(e,t){t&&(t in we?zt(e,we[t]):(zn('The "position" parameter is not valid, defaulting to "center"'),zt(e,we.center)))}function yD(e,t){t&&zt(e,we[`grow-${t}`])}var or={innerParams:new WeakMap,domCache:new WeakMap};const _D=["input","file","range","select","radio","checkbox","textarea"],ED=(e,t)=>{const r=Vt();if(!r)return;const n=or.innerParams.get(e),i=!n||t.input!==n.input;_D.forEach(a=>{const l=pa(r,we[a]);l&&(SD(a,t.inputAttributes),l.className=we[a],i&&On(l))}),t.input&&(i&&CD(t),TD(t))},CD=e=>{if(!e.input)return;if(!Nr[e.input]){Po(`Unexpected type of input! Expected ${Object.keys(Nr).join(" | ")}, got "${e.input}"`);return}const t=IA(e.input);if(!t)return;const r=Nr[e.input](t,e);on(t),e.inputAutoFocus&&setTimeout(()=>{TA(r)})},AD=e=>{for(let t=0;t<e.attributes.length;t++){const r=e.attributes[t].name;["id","type","value","style"].includes(r)||e.removeAttribute(r)}},SD=(e,t)=>{const r=Vt();if(!r)return;const n=cd(r,e);if(n){AD(n);for(const i in t)n.setAttribute(i,t[i])}},TD=e=>{if(!e.input)return;const t=IA(e.input);t&&yi(t,e,"input")},sm=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},hu=(e,t,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=we["input-label"];n.setAttribute("for",e.id),n.className=i,typeof r.customClass=="object"&&zt(n,r.customClass.inputLabel),n.innerText=r.inputLabel,t.insertAdjacentElement("beforebegin",n)}},IA=e=>{const t=Vt();if(t)return pa(t,we[e]||we.input)},ch=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:qx(t)||zn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Nr={};Nr.text=Nr.email=Nr.password=Nr.number=Nr.tel=Nr.url=Nr.search=Nr.date=Nr["datetime-local"]=Nr.time=Nr.week=Nr.month=(e,t)=>(ch(e,t.inputValue),hu(e,e,t),sm(e,t),e.type=t.input,e);Nr.file=(e,t)=>(hu(e,e,t),sm(e,t),e);Nr.range=(e,t)=>{const r=e.querySelector("input"),n=e.querySelector("output");return ch(r,t.inputValue),r.type=t.input,ch(n,t.inputValue),hu(r,e,t),e};Nr.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const r=document.createElement("option");Si(r,t.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return hu(e,e,t),e};Nr.radio=e=>(e.textContent="",e);Nr.checkbox=(e,t)=>{const r=cd(Vt(),"checkbox");r.value="1",r.checked=!!t.inputValue;const n=e.querySelector("span");return Si(n,t.inputPlaceholder||t.inputLabel),r};Nr.textarea=(e,t)=>{ch(e,t.inputValue),sm(e,t),hu(e,e,t);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Vt()).width),i=()=>{if(!document.body.contains(e))return;const a=e.offsetWidth+r(e);a>n?Vt().style.width=`${a}px`:uo(Vt(),"width",t.width)};new MutationObserver(i).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const kD=(e,t)=>{const r=Zx();r&&(rm(r),yi(r,t,"htmlContainer"),t.html?(im(t.html,r),on(r,"block")):t.text?(r.textContent=t.text,on(r,"block")):On(r),ED(e,t))},bD=(e,t)=>{const r=SA();r&&(rm(r),fu(r,!!t.footer,"block"),t.footer&&im(t.footer,r),yi(r,t,"footer"))},ID=(e,t)=>{const r=or.innerParams.get(e),n=ec();if(!n)return;if(r&&t.icon===r.icon){Nv(n,t),Rv(n,t);return}if(!t.icon&&!t.iconHtml){On(n);return}if(t.icon&&Object.keys(lh).indexOf(t.icon)===-1){Po(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),On(n);return}on(n),Nv(n,t),Rv(n,t),zt(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",RA)},Rv=(e,t)=>{for(const[r,n]of Object.entries(lh))t.icon!==r&&Wi(e,n);zt(e,t.icon&&lh[t.icon]),OD(e,t),RA(),yi(e,t,"icon")},RA=()=>{const e=Vt();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=t},RD=e=>`
  ${e.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${e.animation?'<div class="swal2-success-fix"></div>':""}
  ${e.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,ND=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Nv=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let r=e.innerHTML,n="";t.iconHtml?n=Ov(t.iconHtml):t.icon==="success"?(n=RD(t),r=r.replace(/ style=".*?"/g,"")):t.icon==="error"?n=ND:t.icon&&(n=Ov({question:"?",warning:"!",info:"i"}[t.icon])),r.trim()!==n.trim()&&Si(e,n)},OD=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Iv(e,r,"background-color",t.iconColor);Iv(e,".swal2-success-ring","border-color",t.iconColor)}},Ov=e=>`<div class="${we["icon-content"]}">${e}</div>`,DD=(e,t)=>{const r=AA();if(r){if(!t.imageUrl){On(r);return}on(r,""),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt||""),uo(r,"width",t.imageWidth),uo(r,"height",t.imageHeight),r.className=we.image,yi(r,t,"image")}};let am=!1,NA=0,OA=0,DA=0,FA=0;const FD=e=>{e.addEventListener("mousedown",uh),document.body.addEventListener("mousemove",fh),e.addEventListener("mouseup",hh),e.addEventListener("touchstart",uh),document.body.addEventListener("touchmove",fh),e.addEventListener("touchend",hh)},PD=e=>{e.removeEventListener("mousedown",uh),document.body.removeEventListener("mousemove",fh),e.removeEventListener("mouseup",hh),e.removeEventListener("touchstart",uh),document.body.removeEventListener("touchmove",fh),e.removeEventListener("touchend",hh)},uh=e=>{const t=Vt();if(e.target===t||ec().contains(e.target)){am=!0;const r=PA(e);NA=r.clientX,OA=r.clientY,DA=parseInt(t.style.insetInlineStart)||0,FA=parseInt(t.style.insetBlockStart)||0,zt(t,"swal2-dragging")}},fh=e=>{const t=Vt();if(am){let{clientX:r,clientY:n}=PA(e);t.style.insetInlineStart=`${DA+(r-NA)}px`,t.style.insetBlockStart=`${FA+(n-OA)}px`}},hh=()=>{const e=Vt();am=!1,Wi(e,"swal2-dragging")},PA=e=>{let t=0,r=0;return e.type.startsWith("mouse")?(t=e.clientX,r=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,r=e.touches[0].clientY),{clientX:t,clientY:r}},MD=(e,t)=>{const r=Yn(),n=Vt();if(!(!r||!n)){if(t.toast){uo(r,"width",t.width),n.style.width="100%";const i=rc();i&&n.insertBefore(i,ec())}else uo(n,"width",t.width);uo(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),On(ad()),BD(n,t),t.draggable&&!t.toast?(zt(n,we.draggable),FD(n)):(Wi(n,we.draggable),PD(n))}},BD=(e,t)=>{const r=t.showClass||{};e.className=`${we.popup} ${ai(e)?r.popup:""}`,t.toast?(zt([document.documentElement,document.body],we["toast-shown"]),zt(e,we.toast)):zt(e,we.modal),yi(e,t,"popup"),typeof t.customClass=="string"&&zt(e,t.customClass),t.icon&&zt(e,we[`icon-${t.icon}`])},LD=(e,t)=>{const r=Qx();if(!r)return;const{progressSteps:n,currentProgressStep:i}=t;if(!n||n.length===0||i===void 0){On(r);return}on(r),r.textContent="",i>=n.length&&zn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((a,l)=>{const u=UD(a);if(r.appendChild(u),l===i&&zt(u,we["active-progress-step"]),l!==n.length-1){const g=jD(t);r.appendChild(g)}})},UD=e=>{const t=document.createElement("li");return zt(t,we["progress-step"]),Si(t,e),t},jD=e=>{const t=document.createElement("li");return zt(t,we["progress-step-line"]),e.progressStepsDistance&&uo(t,"width",e.progressStepsDistance),t},WD=(e,t)=>{const r=CA();r&&(rm(r),fu(r,!!(t.title||t.titleText),"block"),t.title&&im(t.title,r),t.titleText&&(r.innerText=t.titleText),yi(r,t,"title"))},MA=(e,t)=>{MD(e,t),mD(e,t),LD(e,t),ID(e,t),DD(e,t),WD(e,t),xD(e,t),kD(e,t),dD(e,t),bD(e,t);const r=Vt();typeof t.didRender=="function"&&r&&t.didRender(r),nt.eventEmitter.emit("didRender",r)},VD=()=>ai(Vt()),BA=()=>{var e;return(e=Es())===null||e===void 0?void 0:e.click()},HD=()=>{var e;return(e=Mo())===null||e===void 0?void 0:e.click()},zD=()=>{var e;return(e=tc())===null||e===void 0?void 0:e.click()},nc=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),LA=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},GD=(e,t,r)=>{LA(e),t.toast||(e.keydownHandler=n=>$D(t,n,r),e.keydownTarget=t.keydownListenerCapture?window:Vt(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Yg=(e,t)=>{var r;const n=em();if(n.length){e=e+t,e===-2&&(e=n.length-1),e===n.length?e=0:e===-1&&(e=n.length-1),n[e].focus();return}(r=Vt())===null||r===void 0||r.focus()},UA=["ArrowRight","ArrowDown"],XD=["ArrowLeft","ArrowUp"],$D=(e,t,r)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?YD(t,e):t.key==="Tab"?KD(t):[...UA,...XD].includes(t.key)?qD(t.key):t.key==="Escape"&&ZD(t,e,r)))},YD=(e,t)=>{if(!sd(t.allowEnterKey))return;const r=cd(Vt(),t.input);if(e.target&&r&&e.target instanceof HTMLElement&&e.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(t.input))return;BA(),e.preventDefault()}},KD=e=>{const t=e.target,r=em();let n=-1;for(let i=0;i<r.length;i++)if(t===r[i]){n=i;break}e.shiftKey?Yg(n,-1):Yg(n,1),e.stopPropagation(),e.preventDefault()},qD=e=>{const t=uu(),r=Es(),n=Mo(),i=tc();if(!t||!r||!n||!i)return;const a=[r,n,i];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const l=UA.includes(e)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let g=0;g<t.children.length;g++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&ai(u))break}u instanceof HTMLButtonElement&&u.focus()}},ZD=(e,t,r)=>{e.preventDefault(),sd(t.allowEscapeKey)&&r(nc.esc)};var Vl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const QD=()=>{const e=Yn();Array.from(document.body.children).forEach(r=>{r.contains(e)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},jA=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},WA=typeof window<"u"&&!!window.GestureEvent,JD=()=>{if(WA&&!Bs(document.body,we.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,zt(document.body,we.iosfix),eF()}},eF=()=>{const e=Yn();if(!e)return;let t;e.ontouchstart=r=>{t=tF(r)},e.ontouchmove=r=>{t&&(r.preventDefault(),r.stopPropagation())}},tF=e=>{const t=e.target,r=Yn(),n=Zx();return!r||!n||rF(e)||nF(e)?!1:t===r||!$g(r)&&t instanceof HTMLElement&&!tD(t,n)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!($g(n)&&n.contains(t))},rF=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",nF=e=>e.touches&&e.touches.length>1,iF=()=>{if(Bs(document.body,we.iosfix)){const e=parseInt(document.body.style.top,10);Wi(document.body,we.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},sF=()=>{const e=document.createElement("div");e.className=we["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Al=null;const aF=e=>{Al===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Al=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Al+sF()}px`)},oF=()=>{Al!==null&&(document.body.style.paddingRight=`${Al}px`,Al=null)};function VA(e,t,r,n){ld()?Dv(e,n):(G7(r).then(()=>Dv(e,n)),LA(nt)),WA?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),tm()&&(oF(),iF(),jA()),lF()}function lF(){Wi([document.documentElement,document.body],[we.shown,we["height-auto"],we["no-backdrop"],we["toast-shown"]])}function xa(e){e=uF(e);const t=Vl.swalPromiseResolve.get(this),r=cF(this);this.isAwaitingPromise?e.isDismissed||(du(this),t(e)):r&&t(e)}const cF=e=>{const t=Vt();if(!t)return!1;const r=or.innerParams.get(e);if(!r||Bs(t,r.hideClass.popup))return!1;Wi(t,r.showClass.popup),zt(t,r.hideClass.popup);const n=Yn();return Wi(n,r.showClass.backdrop),zt(n,r.hideClass.backdrop),fF(e,t,r),!0};function HA(e){const t=Vl.swalPromiseReject.get(this);du(this),t&&t(e)}const du=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,or.innerParams.get(e)||e._destroy())},uF=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),fF=(e,t,r)=>{var n;const i=Yn(),a=bA(t);typeof r.willClose=="function"&&r.willClose(t),(n=nt.eventEmitter)===null||n===void 0||n.emit("willClose",t),a?hF(e,t,i,r.returnFocus,r.didClose):VA(e,i,r.returnFocus,r.didClose)},hF=(e,t,r,n,i)=>{nt.swalCloseEventFinishedCallback=VA.bind(null,e,r,n,i);const a=function(l){if(l.target===t){var u;(u=nt.swalCloseEventFinishedCallback)===null||u===void 0||u.call(nt),delete nt.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a)}};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},Dv=(e,t)=>{setTimeout(()=>{var r;typeof t=="function"&&t.bind(e.params)(),(r=nt.eventEmitter)===null||r===void 0||r.emit("didClose"),e._destroy&&e._destroy()})},Hl=e=>{let t=Vt();if(t||new It,t=Vt(),!t)return;const r=rc();ld()?On(ec()):dF(t,e),on(r),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},dF=(e,t)=>{const r=uu(),n=rc();!r||!n||(!t&&ai(Es())&&(t=Es()),on(r),t&&(On(t),n.setAttribute("data-button-to-replace",t.className),r.insertBefore(n,t)),zt([e,r],we.loading))},gF=(e,t)=>{t.input==="select"||t.input==="radio"?vF(e,t):["text","email","number","tel","textarea"].some(r=>r===t.input)&&(Kx(t.inputValue)||qx(t.inputValue))&&(Hl(Es()),yF(e,t))},pF=(e,t)=>{const r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return xF(r);case"radio":return mF(r);case"file":return wF(r);default:return t.inputAutoTrim?r.value.trim():r.value}},xF=e=>e.checked?1:0,mF=e=>e.checked?e.value:null,wF=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,vF=(e,t)=>{const r=Vt();if(!r)return;const n=i=>{t.input==="select"?_F(r,dh(i),t):t.input==="radio"&&EF(r,dh(i),t)};Kx(t.inputOptions)||qx(t.inputOptions)?(Hl(Es()),lu(t.inputOptions).then(i=>{e.hideLoading(),n(i)})):typeof t.inputOptions=="object"?n(t.inputOptions):Po(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},yF=(e,t)=>{const r=e.getInput();r&&(On(r),lu(t.inputValue).then(n=>{r.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,on(r),r.focus(),e.hideLoading()}).catch(n=>{Po(`Error in inputValue promise: ${n}`),r.value="",on(r),r.focus(),e.hideLoading()}))};function _F(e,t,r){const n=pa(e,we.select);if(!n)return;const i=(a,l,u)=>{const g=document.createElement("option");g.value=u,Si(g,l),g.selected=zA(u,r.inputValue),a.appendChild(g)};t.forEach(a=>{const l=a[0],u=a[1];if(Array.isArray(u)){const g=document.createElement("optgroup");g.label=l,g.disabled=!1,n.appendChild(g),u.forEach(p=>i(g,p[1],p[0]))}else i(n,u,l)}),n.focus()}function EF(e,t,r){const n=pa(e,we.radio);if(!n)return;t.forEach(a=>{const l=a[0],u=a[1],g=document.createElement("input"),p=document.createElement("label");g.type="radio",g.name=we.radio,g.value=l,zA(l,r.inputValue)&&(g.checked=!0);const m=document.createElement("span");Si(m,u),m.className=we.label,p.appendChild(g),p.appendChild(m),n.appendChild(p)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const dh=e=>{const t=[];return e instanceof Map?e.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=dh(i)),t.push([n,i])}):Object.keys(e).forEach(r=>{let n=e[r];typeof n=="object"&&(n=dh(n)),t.push([r,n])}),t},zA=(e,t)=>!!t&&t.toString()===e.toString(),CF=e=>{const t=or.innerParams.get(e);e.disableButtons(),t.input?GA(e,"confirm"):lm(e,!0)},AF=e=>{const t=or.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?GA(e,"deny"):om(e,!1)},SF=(e,t)=>{e.disableButtons(),t(nc.cancel)},GA=(e,t)=>{const r=or.innerParams.get(e);if(!r.input){Po(`The "input" parameter is needed to be set when using returnInputValueOn${Yx(t)}`);return}const n=e.getInput(),i=pF(e,r);r.inputValidator?TF(e,i,t):n&&!n.checkValidity()?(e.enableButtons(),e.showValidationMessage(r.validationMessage||n.validationMessage)):t==="deny"?om(e,i):lm(e,i)},TF=(e,t,r)=>{const n=or.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>lu(n.inputValidator(t,n.validationMessage))).then(a=>{e.enableButtons(),e.enableInput(),a?e.showValidationMessage(a):r==="deny"?om(e,t):lm(e,t)})},om=(e,t)=>{const r=or.innerParams.get(e||void 0);r.showLoaderOnDeny&&Hl(Mo()),r.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>lu(r.preDeny(t,r.validationMessage))).then(i=>{i===!1?(e.hideLoading(),du(e)):e.close({isDenied:!0,value:typeof i>"u"?t:i})}).catch(i=>XA(e||void 0,i))):e.close({isDenied:!0,value:t})},Fv=(e,t)=>{e.close({isConfirmed:!0,value:t})},XA=(e,t)=>{e.rejectPromise(t)},lm=(e,t)=>{const r=or.innerParams.get(e||void 0);r.showLoaderOnConfirm&&Hl(),r.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>lu(r.preConfirm(t,r.validationMessage))).then(i=>{ai(ad())||i===!1?(e.hideLoading(),du(e)):Fv(e,typeof i>"u"?t:i)}).catch(i=>XA(e||void 0,i))):Fv(e,t)};function gh(){const e=or.innerParams.get(this);if(!e)return;const t=or.domCache.get(this);On(t.loader),ld()?e.icon&&on(ec()):kF(t),Wi([t.popup,t.actions],we.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const kF=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?on(t[0],"inline-block"):eD()&&On(e.actions)};function $A(){const e=or.innerParams.get(this),t=or.domCache.get(this);return t?cd(t.popup,e.input):null}function YA(e,t,r){const n=or.domCache.get(e);t.forEach(i=>{n[i].disabled=r})}function KA(e,t){const r=Vt();if(!(!r||!e))if(e.type==="radio"){const n=r.querySelectorAll(`[name="${we.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=t}else e.disabled=t}function qA(){YA(this,["confirmButton","denyButton","cancelButton"],!1)}function ZA(){YA(this,["confirmButton","denyButton","cancelButton"],!0)}function QA(){KA(this.getInput(),!1)}function JA(){KA(this.getInput(),!0)}function e4(e){const t=or.domCache.get(this),r=or.innerParams.get(this);Si(t.validationMessage,e),t.validationMessage.className=we["validation-message"],r.customClass&&r.customClass.validationMessage&&zt(t.validationMessage,r.customClass.validationMessage),on(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",we["validation-message"]),TA(n),zt(n,we.inputerror))}function t4(){const e=or.domCache.get(this);e.validationMessage&&On(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Wi(t,we.inputerror))}const Sl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},bF=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],IF={allowEnterKey:void 0},RF=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],r4=e=>Object.prototype.hasOwnProperty.call(Sl,e),n4=e=>bF.indexOf(e)!==-1,i4=e=>IF[e],NF=e=>{r4(e)||zn(`Unknown parameter "${e}"`)},OF=e=>{RF.includes(e)&&zn(`The parameter "${e}" is incompatible with toasts`)},DF=e=>{const t=i4(e);t&&EA(e,t)},s4=e=>{e.backdrop===!1&&e.allowOutsideClick&&zn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&zn(`Invalid theme "${e.theme}"`);for(const t in e)NF(t),e.toast&&OF(t),DF(t)};function a4(e){const t=Yn(),r=Vt(),n=or.innerParams.get(this);if(!r||Bs(r,n.hideClass.popup)){zn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=FF(e),a=Object.assign({},n,i);s4(a),t.dataset.swal2Theme=a.theme,MA(this,a),or.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const FF=e=>{const t={};return Object.keys(e).forEach(r=>{n4(r)?t[r]=e[r]:zn(`Invalid parameter to update: ${r}`)}),t};function o4(){const e=or.domCache.get(this),t=or.innerParams.get(this);if(!t){l4(this);return}e.popup&&nt.swalCloseEventFinishedCallback&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),nt.eventEmitter.emit("didDestroy"),PF(this)}const PF=e=>{l4(e),delete e.params,delete nt.keydownHandler,delete nt.keydownTarget,delete nt.currentInstance},l4=e=>{e.isAwaitingPromise?(x1(or,e),e.isAwaitingPromise=!0):(x1(Vl,e),x1(or,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},x1=(e,t)=>{for(const r in e)e[r].delete(t)};var MF=Object.freeze({__proto__:null,_destroy:o4,close:xa,closeModal:xa,closePopup:xa,closeToast:xa,disableButtons:ZA,disableInput:JA,disableLoading:gh,enableButtons:qA,enableInput:QA,getInput:$A,handleAwaitingPromise:du,hideLoading:gh,rejectPromise:HA,resetValidationMessage:t4,showValidationMessage:e4,update:a4});const BF=(e,t,r)=>{e.toast?LF(e,t,r):(jF(t),WF(t),VF(e,t,r))},LF=(e,t,r)=>{t.popup.onclick=()=>{e&&(UF(e)||e.timer||e.input)||r(nc.close)}},UF=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let ph=!1;const jF=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(ph=!0)}}},WF=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(r){e.popup.onmouseup=()=>{},(r.target===e.popup||r.target instanceof HTMLElement&&e.popup.contains(r.target))&&(ph=!0)}}},VF=(e,t,r)=>{t.container.onclick=n=>{if(ph){ph=!1;return}n.target===t.container&&sd(e.allowOutsideClick)&&r(nc.backdrop)}},HF=e=>typeof e=="object"&&e.jquery,Pv=e=>e instanceof Element||HF(e),zF=e=>{const t={};return typeof e[0]=="object"&&!Pv(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((r,n)=>{const i=e[n];typeof i=="string"||Pv(i)?t[r]=i:i!==void 0&&Po(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),t};function GF(...e){return new this(...e)}function XF(e){class t extends this{_main(n,i){return super._main(n,Object.assign({},e,i))}}return t}const $F=()=>nt.timeout&&nt.timeout.getTimerLeft(),c4=()=>{if(nt.timeout)return rD(),nt.timeout.stop()},u4=()=>{if(nt.timeout){const e=nt.timeout.start();return nm(e),e}},YF=()=>{const e=nt.timeout;return e&&(e.running?c4():u4())},KF=e=>{if(nt.timeout){const t=nt.timeout.increase(e);return nm(t,!0),t}},qF=()=>!!(nt.timeout&&nt.timeout.isRunning());let Mv=!1;const Kg={};function ZF(e="data-swal-template"){Kg[e]=this,Mv||(document.body.addEventListener("click",QF),Mv=!0)}const QF=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const r in Kg){const n=t.getAttribute(r);if(n){Kg[r].fire({template:n});return}}};class JF{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,r){const n=this._getHandlersByEventName(t);n.includes(r)||n.push(r)}once(t,r){const n=(...i)=>{this.removeListener(t,n),r.apply(this,i)};this.on(t,n)}emit(t,...r){this._getHandlersByEventName(t).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(t,r){const n=this._getHandlersByEventName(t),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}nt.eventEmitter=new JF;const e9=(e,t)=>{nt.eventEmitter.on(e,t)},t9=(e,t)=>{nt.eventEmitter.once(e,t)},r9=(e,t)=>{if(!e){nt.eventEmitter.reset();return}t?nt.eventEmitter.removeListener(e,t):nt.eventEmitter.removeAllListeners(e)};var n9=Object.freeze({__proto__:null,argsToParams:zF,bindClickHandler:ZF,clickCancel:zD,clickConfirm:BA,clickDeny:HD,enableLoading:Hl,fire:GF,getActions:uu,getCancelButton:tc,getCloseButton:Jx,getConfirmButton:Es,getContainer:Yn,getDenyButton:Mo,getFocusableElements:em,getFooter:SA,getHtmlContainer:Zx,getIcon:ec,getIconContent:K7,getImage:AA,getInputLabel:q7,getLoader:rc,getPopup:Vt,getProgressSteps:Qx,getTimerLeft:$F,getTimerProgressBar:od,getTitle:CA,getValidationMessage:ad,increaseTimer:KF,isDeprecatedParameter:i4,isLoading:Q7,isTimerRunning:qF,isUpdatableParameter:n4,isValidParameter:r4,isVisible:VD,mixin:XF,off:r9,on:e9,once:t9,resumeTimer:u4,showLoading:Hl,stopTimer:c4,toggleTimer:YF});class i9{constructor(t,r){this.callback=t,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const r=this.running;return r&&this.stop(),this.remaining+=t,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const f4=["swal-title","swal-html","swal-footer"],s9=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const r=t.content;return d9(r),Object.assign(a9(r),o9(r),l9(r),c9(r),u9(r),f9(r),h9(r,f4))},a9=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(n=>{Ao(n,["name","value"]);const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(typeof Sl[i]=="boolean"?t[i]=a!=="false":typeof Sl[i]=="object"?t[i]=JSON.parse(a):t[i]=a)}),t},o9=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),a=n.getAttribute("value");!i||!a||(t[i]=new Function(`return ${a}`)())}),t},l9=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(n=>{Ao(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(t[`${i}ButtonText`]=n.innerHTML,t[`show${Yx(i)}Button`]=!0,n.hasAttribute("color")&&(t[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},c9=e=>{const t={},r=e.querySelector("swal-image");return r&&(Ao(r,["src","width","height","alt"]),r.hasAttribute("src")&&(t.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(t.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(t.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(t.imageAlt=r.getAttribute("alt")||void 0)),t},u9=e=>{const t={},r=e.querySelector("swal-icon");return r&&(Ao(r,["type","color"]),r.hasAttribute("type")&&(t.icon=r.getAttribute("type")),r.hasAttribute("color")&&(t.iconColor=r.getAttribute("color")),t.iconHtml=r.innerHTML),t},f9=e=>{const t={},r=e.querySelector("swal-input");r&&(Ao(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const n=Array.from(e.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(i=>{Ao(i,["value"]);const a=i.getAttribute("value");if(!a)return;const l=i.innerHTML;t.inputOptions[a]=l})),t},h9=(e,t)=>{const r={};for(const n in t){const i=t[n],a=e.querySelector(i);a&&(Ao(a,[]),r[i.replace(/^swal-/,"")]=a.innerHTML.trim())}return r},d9=e=>{const t=f4.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(r=>{const n=r.tagName.toLowerCase();t.includes(n)||zn(`Unrecognized element <${n}>`)})},Ao=(e,t)=>{Array.from(e.attributes).forEach(r=>{t.indexOf(r.name)===-1&&zn([`Unrecognized attribute "${r.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},h4=10,g9=e=>{const t=Yn(),r=Vt();typeof e.willOpen=="function"&&e.willOpen(r),nt.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;m9(t,r,e),setTimeout(()=>{p9(t,r)},h4),tm()&&(x9(t,e.scrollbarPadding,i),QD()),!ld()&&!nt.previousActiveElement&&(nt.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(r)),nt.eventEmitter.emit("didOpen",r)},xh=e=>{const t=Vt();if(e.target!==t)return;const r=Yn();t.removeEventListener("animationend",xh),t.removeEventListener("transitionend",xh),r.style.overflowY="auto",Wi(r,we["no-transition"])},p9=(e,t)=>{bA(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",xh),t.addEventListener("transitionend",xh)):e.style.overflowY="auto"},x9=(e,t,r)=>{JD(),t&&r!=="hidden"&&aF(r),setTimeout(()=>{e.scrollTop=0})},m9=(e,t,r)=>{zt(e,r.showClass.backdrop),r.animation?(t.style.setProperty("opacity","0","important"),on(t,"grid"),setTimeout(()=>{zt(t,r.showClass.popup),t.style.removeProperty("opacity")},h4)):on(t,"grid"),zt([document.documentElement,document.body],we.shown),r.heightAuto&&r.backdrop&&!r.toast&&zt([document.documentElement,document.body],we["height-auto"])};var Bv={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function w9(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Bv.email),e.input==="url"&&(e.inputValidator=Bv.url))}function v9(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(zn('Target parameter is not valid, defaulting to "body"'),e.target="body")}function y9(e){w9(e),e.showLoaderOnConfirm&&!e.preConfirm&&zn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),v9(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),uD(e)}let ms;var Gu=new WeakMap;class Dr{constructor(...t){if(W7(this,Gu,void 0),typeof window>"u")return;ms=this;const r=Object.freeze(this.constructor.argsToParams(t));this.params=r,this.isAwaitingPromise=!1,V7(Gu,this,this._main(ms.params))}_main(t,r={}){if(s4(Object.assign({},r,t)),nt.currentInstance){const a=Vl.swalPromiseResolve.get(nt.currentInstance),{isAwaitingPromise:l}=nt.currentInstance;nt.currentInstance._destroy(),l||a({isDismissed:!0}),tm()&&jA()}nt.currentInstance=ms;const n=E9(t,r);y9(n),Object.freeze(n),nt.timeout&&(nt.timeout.stop(),delete nt.timeout),clearTimeout(nt.restoreFocusTimeout);const i=C9(ms);return MA(ms,n),or.innerParams.set(ms,n),_9(ms,i,n)}then(t){return kv(Gu,this).then(t)}finally(t){return kv(Gu,this).finally(t)}}const _9=(e,t,r)=>new Promise((n,i)=>{const a=l=>{e.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};Vl.swalPromiseResolve.set(e,n),Vl.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{CF(e)},t.denyButton.onclick=()=>{AF(e)},t.cancelButton.onclick=()=>{SF(e,a)},t.closeButton.onclick=()=>{a(nc.close)},BF(r,t,a),GD(nt,r,a),gF(e,r),g9(r),A9(nt,r,a),S9(t,r),setTimeout(()=>{t.container.scrollTop=0})}),E9=(e,t)=>{const r=s9(e),n=Object.assign({},Sl,t,r,e);return n.showClass=Object.assign({},Sl.showClass,n.showClass),n.hideClass=Object.assign({},Sl.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},C9=e=>{const t={popup:Vt(),container:Yn(),actions:uu(),confirmButton:Es(),denyButton:Mo(),cancelButton:tc(),loader:rc(),closeButton:Jx(),validationMessage:ad(),progressSteps:Qx()};return or.domCache.set(e,t),t},A9=(e,t,r)=>{const n=od();On(n),t.timer&&(e.timeout=new i9(()=>{r("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(on(n),yi(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&nm(t.timer)})))},S9=(e,t)=>{if(!t.toast){if(!sd(t.allowEnterKey)){EA("allowEnterKey"),b9();return}T9(e)||k9(e,t)||Yg(-1,1)}},T9=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const r of t)if(r instanceof HTMLElement&&ai(r))return r.focus(),!0;return!1},k9=(e,t)=>t.focusDeny&&ai(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ai(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&ai(e.confirmButton)?(e.confirmButton.focus(),!0):!1,b9=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Dr.prototype.disableButtons=ZA;Dr.prototype.enableButtons=qA;Dr.prototype.getInput=$A;Dr.prototype.disableInput=JA;Dr.prototype.enableInput=QA;Dr.prototype.hideLoading=gh;Dr.prototype.disableLoading=gh;Dr.prototype.showValidationMessage=e4;Dr.prototype.resetValidationMessage=t4;Dr.prototype.close=xa;Dr.prototype.closePopup=xa;Dr.prototype.closeModal=xa;Dr.prototype.closeToast=xa;Dr.prototype.rejectPromise=HA;Dr.prototype.update=a4;Dr.prototype._destroy=o4;Object.assign(Dr,n9);Object.keys(MF).forEach(e=>{Dr[e]=function(...t){return ms&&ms[e]?ms[e](...t):null}});Dr.DismissReason=nc;Dr.version="11.26.3";const It=Dr;It.default=It;typeof document<"u"&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch{r.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var d4=1252,I9=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],cm={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},um=function(e){I9.indexOf(e)!=-1&&(d4=cm[0]=e)};function R9(){um(1252)}var ns=function(e){um(e)};function g4(){ns(1200),R9()}function Lv(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function N9(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function p4(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Dc=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?N9(e.slice(2)):t==254&&r==255?p4(e.slice(2)):t==65279?e.slice(1):e},Xu=function(t){return String.fromCharCode(t)},Uv=function(t){return String.fromCharCode(t)},L0,ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jv(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0,g=0,p=0;p<e.length;)r=e.charCodeAt(p++),a=r>>2,n=e.charCodeAt(p++),l=(r&3)<<4|n>>4,i=e.charCodeAt(p++),u=(n&15)<<2|i>>6,g=i&63,isNaN(n)?u=g=64:isNaN(i)&&(g=64),t+=ma.charAt(a)+ma.charAt(l)+ma.charAt(u)+ma.charAt(g);return t}function _i(e){var t="",r=0,n=0,i=0,a=0,l=0,u=0,g=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<e.length;)a=ma.indexOf(e.charAt(p++)),l=ma.indexOf(e.charAt(p++)),r=a<<2|l>>4,t+=String.fromCharCode(r),u=ma.indexOf(e.charAt(p++)),n=(l&15)<<4|u>>2,u!==64&&(t+=String.fromCharCode(n)),g=ma.indexOf(e.charAt(p++)),i=(u&3)<<6|g,g!==64&&(t+=String.fromCharCode(i));return t}var Ot=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Bo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ua(e){return Ot?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Wv(e){return Ot?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ts=function(t){return Ot?Bo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Lo(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function fm(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return fm(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ua=Ot?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Bo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function O9(e){for(var t=[],r=0,n=e.length+250,i=Ua(e.length+255),a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=e.charCodeAt(++a)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|u>>6&15|(l&3)<<4,i[r++]=128|u&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Ua(65535),n=65530)}return t.push(i.slice(0,r)),ua(t)}var Hn=/\u0000/g,Fc=/[\u0001-\u0006]/g;function Tl(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function is(e,t){var r=""+e;return r.length>=t?r:Sr("0",t-r.length)+r}function hm(e,t){var r=""+e;return r.length>=t?r:Sr(" ",t-r.length)+r}function mh(e,t){var r=""+e;return r.length>=t?r:r+Sr(" ",t-r.length)}function D9(e,t){var r=""+Math.round(e);return r.length>=t?r:Sr("0",t-r.length)+r}function F9(e,t){var r=""+e;return r.length>=t?r:Sr("0",t-r.length)+r}var Vv=Math.pow(2,32);function Qo(e,t){if(e>Vv||e<-Vv)return D9(e,t);var r=Math.round(e);return F9(r,t)}function wh(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Hv=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],m1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function P9(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var mt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},zv={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},M9={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function vh(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,l=1,u=0,g=1,p=0,m=0,v=Math.floor(i);p<t&&(v=Math.floor(i),u=v*l+a,m=v*p+g,!(i-v<5e-8));)i=1/(i-v),a=l,l=u,g=p,p=m;if(m>t&&(p>t?(m=g,u=a):(m=p,u=l)),!r)return[0,n*u,m];var _=Math.floor(n*u/m);return[_,n*u-_*m,m]}function oo(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,l=[],u={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++n,++u.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var g=new Date(1900,0,1);g.setDate(g.getDate()+n-1),l=[g.getFullYear(),g.getMonth()+1,g.getDate()],a=g.getDay(),n<60&&(a=(a+6)%7),r&&(a=V9(g,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=a,u}var x4=new Date(1899,11,31,0,0,0),B9=x4.getTime(),L9=new Date(1900,2,1,0,0,0);function m4(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=L9&&(r+=24*60*60*1e3),(r-(B9+(e.getTimezoneOffset()-x4.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function dm(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function U9(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function j9(e){var t=e<0?12:11,r=dm(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function W9(e){var t=dm(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function U0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=j9(e):t===10?r=e.toFixed(10).substr(0,12):r=W9(e),dm(U9(r.toUpperCase()))}function So(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):U0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Vi(14,m4(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function V9(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function H9(e,t,r,n){var i="",a=0,l=0,u=r.y,g,p=0;switch(e){case 98:u=r.y+543;case 121:switch(t.length){case 1:case 2:g=u%100,p=2;break;default:g=u%1e4,p=4;break}break;case 109:switch(t.length){case 1:case 2:g=r.m,p=t.length;break;case 3:return m1[r.m-1][1];case 5:return m1[r.m-1][0];default:return m1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:g=r.d,p=t.length;break;case 3:return Hv[r.q][0];default:return Hv[r.q][1]}break;case 104:switch(t.length){case 1:case 2:g=1+(r.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:g=r.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:g=r.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?is(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),t==="s"?a===0?"0":""+a/l:(i=is(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":g=r.D*24+r.H;break;case"[m]":case"[mm]":g=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":g=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}p=t.length===3?1:2;break;case 101:g=u,p=1;break}var m=p>0?is(g,p):"";return m}function wa(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var w4=/%/g;function z9(e,t,r){var n=t.replace(w4,""),i=t.length-n.length;return Ls(e,n,r*Math.pow(10,2*i))+Sr("%",i)}function G9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ls(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function v4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+v4(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,g,p,m){return g+p+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var y4=/# (\?+)( ?)\/( ?)(\d+)/;function X9(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),l=i-a*n,u=n;return r+(a===0?"":""+a)+" "+(l===0?Sr(" ",e[1].length+1+e[4].length):hm(l,e[1].length)+e[2]+"/"+e[3]+is(u,e[4].length))}function $9(e,t,r){return r+(t===0?"":""+t)+Sr(" ",e[1].length+2+e[4].length)}var _4=/^#*0*\.([0#]+)/,E4=/\).*[0#]/,C4=/\(###\) ###\\?-####/;function Bn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Gv(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Xv(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Y9(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function K9(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ni(e,t,r){if(e.charCodeAt(0)===40&&!t.match(E4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ni("n",n,r):"("+Ni("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return G9(e,t,r);if(t.indexOf("%")!==-1)return z9(e,t,r);if(t.indexOf("E")!==-1)return v4(t,r);if(t.charCodeAt(0)===36)return"$"+Ni(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,g=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+Qo(g,t.length);if(t.match(/^[#?]+$/))return i=Qo(r,0),i==="0"&&(i=""),i.length>t.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(y4))return X9(a,g,p);if(t.match(/^#+0+$/))return p+Qo(g,t.length-t.indexOf("0"));if(a=t.match(_4))return i=Gv(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])).replace(/\.(\d*)$/,function(A,C){return"."+C+Sr("0",Bn(a[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+Gv(g,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+wa(Qo(g,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ni(e,t,-r):wa(""+(Math.floor(r)+Y9(r,a[1].length)))+"."+is(Xv(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ni(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tl(Ni(e,t.replace(/[\\-]/g,""),r)),l=0,Tl(Tl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(C4))return i=Ni(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=vh(g,Math.pow(10,l)-1,!1),i=""+p,m=Ls("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=mh(u[2],l),m.length<a[4].length&&(m=Bn(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=vh(g,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?hm(u[1],l)+a[2]+"/"+a[3]+mh(u[2],l):Sr(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Qo(r,0),t.length<=i.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,_=t.length-i.length-v;return Bn(t.substr(0,v)+i+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return l=Xv(r,a[1].length),r<0?"-"+Ni(e,t,-r):wa(K9(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?is(0,3-A.length):"")+A})+"."+is(l,a[1].length);switch(t){case"###,##0.00":return Ni(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var E=wa(Qo(g,0));return E!=="0"?p+E:"";case"###,###.00":return Ni(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ni(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function q9(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ls(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Z9(e,t,r){var n=t.replace(w4,""),i=t.length-n.length;return Ls(e,n,r*Math.pow(10,2*i))+Sr("%",i)}function A4(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+A4(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,g,p,m){return g+p+m.substr(0,(i+a)%i)+"."+m.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ps(e,t,r){if(e.charCodeAt(0)===40&&!t.match(E4)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ps("n",n,r):"("+ps("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return q9(e,t,r);if(t.indexOf("%")!==-1)return Z9(e,t,r);if(t.indexOf("E")!==-1)return A4(t,r);if(t.charCodeAt(0)===36)return"$"+ps(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,g=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+is(g,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(y4))return $9(a,g,p);if(t.match(/^#+0+$/))return p+is(g,t.length-t.indexOf("0"));if(a=t.match(_4))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Bn(a[1])).replace(/\.$/,"."+Bn(a[1])),i=i.replace(/\.(\d*)$/,function(A,C){return"."+C+Sr("0",Bn(a[1]).length-C.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+(""+g).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+wa(""+g);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):wa(""+r)+"."+Sr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return ps(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tl(ps(e,t.replace(/[\\-]/g,""),r)),l=0,Tl(Tl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(C4))return i=ps(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=vh(g,Math.pow(10,l)-1,!1),i=""+p,m=Ls("n",a[1],u[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+a[2]+"/"+a[3],m=mh(u[2],l),m.length<a[4].length&&(m=Bn(a[4].substr(a[4].length-m.length))+m),i+=m,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=vh(g,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?hm(u[1],l)+a[2]+"/"+a[3]+mh(u[2],l):Sr(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Bn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,_=t.length-i.length-v;return Bn(t.substr(0,v)+i+t.substr(t.length-_))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):wa(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?is(0,3-A.length):"")+A})+"."+is(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var E=wa(""+g);return E!=="0"?p+E:"";default:if(t.match(/\.[0#?]*$/))return ps(e,t.slice(0,t.lastIndexOf(".")),r)+Bn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ls(e,t,r){return(r|0)===r?ps(e,t,r):Ni(e,t,r)}function Q9(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var S4=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ic(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":wh(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(S4))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function J9(e,t,r,n){for(var i=[],a="",l=0,u="",g="t",p,m,v,_="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!wh(e,l))throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(v=e.charCodeAt(++l))!==34&&l<e.length;)a+=String.fromCharCode(v);i[i.length]={t:"t",v:a},++l;break;case"\\":var E=e.charAt(++l),A=E==="("||E===")"?E:"t";i[i.length]={t:A,v:E},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(p==null&&(p=oo(t,r,e.charAt(l+1)==="2"),p==null))return"";i[i.length]={t:"X",v:e.substr(l,2)},g=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||p==null&&(p=oo(t,r),p==null))return"";for(a=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&g.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=_),i[i.length]={t:u,v:a},g=u;break;case"A":case"a":case"":var C={t:u,v:u};if(p==null&&(p=oo(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(p!=null&&(C.v=p.H>=12?"P":"A"),C.t="T",_="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(p!=null&&(C.v=p.H>=12?"PM":"AM"),C.t="T",l+=5,_="h"):e.substr(l,5).toUpperCase()==="/"?(p!=null&&(C.v=p.H>=12?"":""),C.t="T",l+=5,_="h"):(C.t="t",++l),p==null&&C.t==="T")return"";i[i.length]=C,g=u;break;case"[":for(a=u;e.charAt(l++)!=="]"&&l<e.length;)a+=e.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(S4)){if(p==null&&(p=oo(t,r),p==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},g=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",ic(e)||(i[i.length]={t:"t",v:a}));break;case".":if(p!=null){for(a=u;++l<e.length&&(u=e.charAt(l))==="0";)a+=u;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)a+=u;i[i.length]={t:"n",v:a};break;case"?":for(a=u;e.charAt(++l)===u;)a+=u;i[i.length]={t:u,v:a},g=u;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)a+=e.charAt(l);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:u,v:u},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"t",v:u},++l;break}var I=0,b=0,k;for(l=i.length-1,g="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=_,g="h",I<1&&(I=1);break;case"s":(k=i[l].v.match(/\.0+$/))&&(b=Math.max(b,k[0].length-1)),I<3&&(I=3);case"d":case"y":case"M":case"e":g=i[l].t;break;case"m":g==="s"&&(i[l].t="M",I<2&&(I=2));break;case"X":break;case"Z":I<1&&i[l].v.match(/[Hh]/)&&(I=1),I<2&&i[l].v.match(/[Mm]/)&&(I=2),I<3&&i[l].v.match(/[Ss]/)&&(I=3)}switch(I){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var S="",L;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=H9(i[l].t.charCodeAt(0),i[l].v,p,b),i[l].t="t";break;case"n":case"?":for(L=l+1;i[L]!=null&&((u=i[L].t)==="?"||u==="D"||(u===" "||u==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[l].v+=i[L].v,i[L]={v:"",t:";"},++L;S+=i[l].v,l=L-1;break;case"G":i[l].t="t",i[l].v=So(t,r);break}var q="",G,D;if(S.length>0){S.charCodeAt(0)==40?(G=t<0&&S.charCodeAt(0)===45?-t:t,D=Ls("n",S,G)):(G=t<0&&n>1?-t:t,D=Ls("n",S,G),G<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),L=D.length-1;var Z=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){Z=l;break}var j=i.length;if(Z===i.length&&D.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(L>=i[l].v.length-1?(L-=i[l].v.length,i[l].v=D.substr(L+1,i[l].v.length)):L<0?i[l].v="":(i[l].v=D.substr(0,L+1),L=-1),i[l].t="t",j=l);L>=0&&j<i.length&&(i[j].v=D.substr(0,L+1)+i[j].v)}else if(Z!==i.length&&D.indexOf("E")===-1){for(L=D.indexOf(".")-1,l=Z;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(m=i[l].v.indexOf(".")>-1&&l===Z?i[l].v.indexOf(".")-1:i[l].v.length-1,q=i[l].v.substr(m+1);m>=0;--m)L>=0&&(i[l].v.charAt(m)==="0"||i[l].v.charAt(m)==="#")&&(q=D.charAt(L--)+q);i[l].v=q,i[l].t="t",j=l}for(L>=0&&j<i.length&&(i[j].v=D.substr(0,L+1)+i[j].v),L=D.indexOf(".")+1,l=Z;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==Z)){for(m=i[l].v.indexOf(".")>-1&&l===Z?i[l].v.indexOf(".")+1:0,q=i[l].v.substr(0,m);m<i[l].v.length;++m)L<D.length&&(q+=D.charAt(L++));i[l].v=q,i[l].t="t",j=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(G=n>1&&t<0&&l>0&&i[l-1].v==="-"?-t:t,i[l].v=Ls(i[l].t,i[l].v,G),i[l].t="t");var oe="";for(l=0;l!==i.length;++l)i[l]!=null&&(oe+=i[l].v);return oe}var $v=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Yv(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function eP(e,t){var r=Q9(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match($v),u=r[1].match($v);return Yv(t,l)?[n,r[0]]:Yv(t,u)?[n,r[1]]:[n,r[l!=null&&u!=null?2:1]]}return[n,a]}function Vi(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:mt)[e],n==null&&(n=r.table&&r.table[zv[e]]||mt[zv[e]]),n==null&&(n=M9[e]||"General");break}if(wh(n,0))return So(t,r);t instanceof Date&&(t=m4(t,r.date1904));var i=eP(n,t);if(wh(i[1]))return So(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return J9(i[1],t,r,i[0])}function fo(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(mt[r]==null){t<0&&(t=r);continue}if(mt[r]==e){t=r;break}}t<0&&(t=391)}return mt[t]=e,t}function T4(){mt=P9()}var tP={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},k4=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function rP(e){var t=typeof e=="number"?mt[e]:e;return t=t.replace(k4,"(\\d+)"),new RegExp("^"+t+"$")}function nP(e,t,r){var n=-1,i=-1,a=-1,l=-1,u=-1,g=-1;(t.match(k4)||[]).forEach(function(v,_){var E=parseInt(r[_+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=E;break;case"d":a=E;break;case"h":l=E;break;case"s":g=E;break;case"m":l>=0?u=E:i=E;break}}),g>=0&&u==-1&&i>=0&&(u=i,i=-1);var p=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2);return l==-1&&u==-1&&g==-1?p:n==-1&&i==-1&&a==-1?m:p+"T"+m}var iP=function(){var e={};e.version="1.2.0";function t(){for(var D=0,Z=new Array(256),j=0;j!=256;++j)D=j,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,Z[j]=D;return typeof Int32Array<"u"?new Int32Array(Z):Z}var r=t();function n(D){var Z=0,j=0,oe=0,le=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(oe=0;oe!=256;++oe)le[oe]=D[oe];for(oe=0;oe!=256;++oe)for(j=D[oe],Z=256+oe;Z<4096;Z+=256)j=le[Z]=j>>>8^D[j&255];var Q=[];for(oe=1;oe!=16;++oe)Q[oe-1]=typeof Int32Array<"u"?le.subarray(oe*256,oe*256+256):le.slice(oe*256,oe*256+256);return Q}var i=n(r),a=i[0],l=i[1],u=i[2],g=i[3],p=i[4],m=i[5],v=i[6],_=i[7],E=i[8],A=i[9],C=i[10],I=i[11],b=i[12],k=i[13],S=i[14];function L(D,Z){for(var j=Z^-1,oe=0,le=D.length;oe<le;)j=j>>>8^r[(j^D.charCodeAt(oe++))&255];return~j}function q(D,Z){for(var j=Z^-1,oe=D.length-15,le=0;le<oe;)j=S[D[le++]^j&255]^k[D[le++]^j>>8&255]^b[D[le++]^j>>16&255]^I[D[le++]^j>>>24]^C[D[le++]]^A[D[le++]]^E[D[le++]]^_[D[le++]]^v[D[le++]]^m[D[le++]]^p[D[le++]]^g[D[le++]]^u[D[le++]]^l[D[le++]]^a[D[le++]]^r[D[le++]];for(oe+=15;le<oe;)j=j>>>8^r[(j^D[le++])&255];return~j}function G(D,Z){for(var j=Z^-1,oe=0,le=D.length,Q=0,ye=0;oe<le;)Q=D.charCodeAt(oe++),Q<128?j=j>>>8^r[(j^Q)&255]:Q<2048?(j=j>>>8^r[(j^(192|Q>>6&31))&255],j=j>>>8^r[(j^(128|Q&63))&255]):Q>=55296&&Q<57344?(Q=(Q&1023)+64,ye=D.charCodeAt(oe++)&1023,j=j>>>8^r[(j^(240|Q>>8&7))&255],j=j>>>8^r[(j^(128|Q>>2&63))&255],j=j>>>8^r[(j^(128|ye>>6&15|(Q&3)<<4))&255],j=j>>>8^r[(j^(128|ye&63))&255]):(j=j>>>8^r[(j^(224|Q>>12&15))&255],j=j>>>8^r[(j^(128|Q>>6&63))&255],j=j>>>8^r[(j^(128|Q&63))&255]);return~j}return e.table=r,e.bstr=L,e.buf=q,e.str=G,e}(),Pt=function(){var t={};t.version="1.2.1";function r(F,M){for(var U=F.split("/"),W=M.split("/"),H=0,X=0,de=Math.min(U.length,W.length);H<de;++H){if(X=U[H].length-W[H].length)return X;if(U[H]!=W[H])return U[H]<W[H]?-1:1}return U.length-W.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var M=F.lastIndexOf("/");return M===-1?F:F.slice(0,M+1)}function i(F){if(F.charAt(F.length-1)=="/")return i(F.slice(0,-1));var M=F.lastIndexOf("/");return M===-1?F:F.slice(M+1)}function a(F,M){typeof M=="string"&&(M=new Date(M));var U=M.getHours();U=U<<6|M.getMinutes(),U=U<<5|M.getSeconds()>>>1,F.write_shift(2,U);var W=M.getFullYear()-1980;W=W<<4|M.getMonth()+1,W=W<<5|M.getDate(),F.write_shift(2,W)}function l(F){var M=F.read_shift(2)&65535,U=F.read_shift(2)&65535,W=new Date,H=U&31;U>>>=5;var X=U&15;U>>>=4,W.setMilliseconds(0),W.setFullYear(U+1980),W.setMonth(X-1),W.setDate(H);var de=M&31;M>>>=5;var _e=M&63;return M>>>=6,W.setHours(M),W.setMinutes(_e),W.setSeconds(de<<1),W}function u(F){gn(F,0);for(var M={},U=0;F.l<=F.length-4;){var W=F.read_shift(2),H=F.read_shift(2),X=F.l+H,de={};switch(W){case 21589:U=F.read_shift(1),U&1&&(de.mtime=F.read_shift(4)),H>5&&(U&2&&(de.atime=F.read_shift(4)),U&4&&(de.ctime=F.read_shift(4))),de.mtime&&(de.mt=new Date(de.mtime*1e3));break}F.l=X,M[W]=de}return M}var g;function p(){return g||(g={})}function m(F,M){if(F[0]==80&&F[1]==75)return Ga(F,M);if((F[0]|32)==109&&(F[1]|32)==105)return rt(F,M);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var U=3,W=512,H=0,X=0,de=0,_e=0,ue=0,ge=[],pe=F.slice(0,512);gn(pe,0);var Te=v(pe);switch(U=Te[0],U){case 3:W=512;break;case 4:W=4096;break;case 0:if(Te[1]==0)return Ga(F,M);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}W!==512&&(pe=F.slice(0,W),gn(pe,28));var Ne=F.slice(0,W);_(pe,U);var Fe=pe.read_shift(4,"i");if(U===3&&Fe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Fe);pe.l+=4,de=pe.read_shift(4,"i"),pe.l+=4,pe.chk("00100000","Mini Stream Cutoff Size: "),_e=pe.read_shift(4,"i"),H=pe.read_shift(4,"i"),ue=pe.read_shift(4,"i"),X=pe.read_shift(4,"i");for(var Le=-1,ze=0;ze<109&&(Le=pe.read_shift(4,"i"),!(Le<0));++ze)ge[ze]=Le;var ut=E(F,W);I(ue,X,ut,W,ge);var ve=k(ut,de,ge,W);ve[de].name="!Directory",H>0&&_e!==ye&&(ve[_e].name="!MiniFAT"),ve[ge[0]].name="!FAT",ve.fat_addrs=ge,ve.ssz=W;var lr={},vt=[],Ti=[],Xa=[];S(de,ve,ut,vt,H,lr,Ti,_e),A(Ti,Xa,vt),vt.shift();var kt={FileIndex:Ti,FullPaths:Xa};return M&&M.raw&&(kt.raw={header:Ne,sectors:ut}),kt}function v(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(Se,"Header Signature: "),F.l+=16;var M=F.read_shift(2,"u");return[F.read_shift(2,"u"),M]}function _(F,M){var U=9;switch(F.l+=2,U=F.read_shift(2)){case 9:if(M!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(M!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function E(F,M){for(var U=Math.ceil(F.length/M)-1,W=[],H=1;H<U;++H)W[H-1]=F.slice(H*M,(H+1)*M);return W[U-1]=F.slice(U*M),W}function A(F,M,U){for(var W=0,H=0,X=0,de=0,_e=0,ue=U.length,ge=[],pe=[];W<ue;++W)ge[W]=pe[W]=W,M[W]=U[W];for(;_e<pe.length;++_e)W=pe[_e],H=F[W].L,X=F[W].R,de=F[W].C,ge[W]===W&&(H!==-1&&ge[H]!==H&&(ge[W]=ge[H]),X!==-1&&ge[X]!==X&&(ge[W]=ge[X])),de!==-1&&(ge[de]=W),H!==-1&&W!=ge[W]&&(ge[H]=ge[W],pe.lastIndexOf(H)<_e&&pe.push(H)),X!==-1&&W!=ge[W]&&(ge[X]=ge[W],pe.lastIndexOf(X)<_e&&pe.push(X));for(W=1;W<ue;++W)ge[W]===W&&(X!==-1&&ge[X]!==X?ge[W]=ge[X]:H!==-1&&ge[H]!==H&&(ge[W]=ge[H]));for(W=1;W<ue;++W)if(F[W].type!==0){if(_e=W,_e!=ge[_e])do _e=ge[_e],M[W]=M[_e]+"/"+M[W];while(_e!==0&&ge[_e]!==-1&&_e!=ge[_e]);ge[W]=-1}for(M[0]+="/",W=1;W<ue;++W)F[W].type!==2&&(M[W]+="/")}function C(F,M,U){for(var W=F.start,H=F.size,X=[],de=W;U&&H>0&&de>=0;)X.push(M.slice(de*Q,de*Q+Q)),H-=Q,de=to(U,de*4);return X.length===0?Vr(0):ua(X).slice(0,F.size)}function I(F,M,U,W,H){var X=ye;if(F===ye){if(M!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var de=U[F],_e=(W>>>2)-1;if(!de)return;for(var ue=0;ue<_e&&(X=to(de,ue*4))!==ye;++ue)H.push(X);I(to(de,W-4),M-1,U,W,H)}}function b(F,M,U,W,H){var X=[],de=[];H||(H=[]);var _e=W-1,ue=0,ge=0;for(ue=M;ue>=0;){H[ue]=!0,X[X.length]=ue,de.push(F[ue]);var pe=U[Math.floor(ue*4/W)];if(ge=ue*4&_e,W<4+ge)throw new Error("FAT boundary crossed: "+ue+" 4 "+W);if(!F[pe])break;ue=to(F[pe],ge)}return{nodes:X,data:iy([de])}}function k(F,M,U,W){var H=F.length,X=[],de=[],_e=[],ue=[],ge=W-1,pe=0,Te=0,Ne=0,Fe=0;for(pe=0;pe<H;++pe)if(_e=[],Ne=pe+M,Ne>=H&&(Ne-=H),!de[Ne]){ue=[];var Le=[];for(Te=Ne;Te>=0;){Le[Te]=!0,de[Te]=!0,_e[_e.length]=Te,ue.push(F[Te]);var ze=U[Math.floor(Te*4/W)];if(Fe=Te*4&ge,W<4+Fe)throw new Error("FAT boundary crossed: "+Te+" 4 "+W);if(!F[ze]||(Te=to(F[ze],Fe),Le[Te]))break}X[Ne]={nodes:_e,data:iy([ue])}}return X}function S(F,M,U,W,H,X,de,_e){for(var ue=0,ge=W.length?2:0,pe=M[F].data,Te=0,Ne=0,Fe;Te<pe.length;Te+=128){var Le=pe.slice(Te,Te+128);gn(Le,64),Ne=Le.read_shift(2),Fe=wm(Le,0,Ne-ge),W.push(Fe);var ze={name:Fe,type:Le.read_shift(1),color:Le.read_shift(1),L:Le.read_shift(4,"i"),R:Le.read_shift(4,"i"),C:Le.read_shift(4,"i"),clsid:Le.read_shift(16),state:Le.read_shift(4,"i"),start:0,size:0},ut=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);ut!==0&&(ze.ct=L(Le,Le.l-8));var ve=Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2)+Le.read_shift(2);ve!==0&&(ze.mt=L(Le,Le.l-8)),ze.start=Le.read_shift(4,"i"),ze.size=Le.read_shift(4,"i"),ze.size<0&&ze.start<0&&(ze.size=ze.type=0,ze.start=ye,ze.name=""),ze.type===5?(ue=ze.start,H>0&&ue!==ye&&(M[ue].name="!StreamData")):ze.size>=4096?(ze.storage="fat",M[ze.start]===void 0&&(M[ze.start]=b(U,ze.start,M.fat_addrs,M.ssz)),M[ze.start].name=ze.name,ze.content=M[ze.start].data.slice(0,ze.size)):(ze.storage="minifat",ze.size<0?ze.size=0:ue!==ye&&ze.start!==ye&&M[ue]&&(ze.content=C(ze,M[ue].data,(M[_e]||{}).data))),ze.content&&gn(ze.content,0),X[Fe]=ze,de.push(ze)}}function L(F,M){return new Date((gi(F,M+4)/1e7*Math.pow(2,32)+gi(F,M)/1e7-11644473600)*1e3)}function q(F,M){return p(),m(g.readFileSync(F),M)}function G(F,M){var U=M&&M.type;switch(U||Ot&&Buffer.isBuffer(F)&&(U="buffer"),U||"base64"){case"file":return q(F,M);case"base64":return m(ts(_i(F)),M);case"binary":return m(ts(F),M)}return m(F,M)}function D(F,M){var U=M||{},W=U.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=W+"/",F.FileIndex[0]={name:W,type:5}),U.CLSID&&(F.FileIndex[0].clsid=U.CLSID),Z(F)}function Z(F){var M="Sh33tJ5";if(!Pt.find(F,"/"+M)){var U=Vr(4);U[0]=55,U[1]=U[3]=50,U[2]=54,F.FileIndex.push({name:M,type:2,content:U,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+M),j(F)}}function j(F,M){D(F);for(var U=!1,W=!1,H=F.FullPaths.length-1;H>=0;--H){var X=F.FileIndex[H];switch(X.type){case 0:W?U=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:W=!0,isNaN(X.R*X.L*X.C)&&(U=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!M)){var de=new Date(1987,1,19),_e=0,ue=Object.create?Object.create(null):{},ge=[];for(H=0;H<F.FullPaths.length;++H)ue[F.FullPaths[H]]=!0,F.FileIndex[H].type!==0&&ge.push([F.FullPaths[H],F.FileIndex[H]]);for(H=0;H<ge.length;++H){var pe=n(ge[H][0]);W=ue[pe],W||(ge.push([pe,{name:i(pe).replace("/",""),type:1,clsid:Be,ct:de,mt:de,content:null}]),ue[pe]=!0)}for(ge.sort(function(Fe,Le){return r(Fe[0],Le[0])}),F.FullPaths=[],F.FileIndex=[],H=0;H<ge.length;++H)F.FullPaths[H]=ge[H][0],F.FileIndex[H]=ge[H][1];for(H=0;H<ge.length;++H){var Te=F.FileIndex[H],Ne=F.FullPaths[H];if(Te.name=i(Ne).replace("/",""),Te.L=Te.R=Te.C=-(Te.color=1),Te.size=Te.content?Te.content.length:0,Te.start=0,Te.clsid=Te.clsid||Be,H===0)Te.C=ge.length>1?1:-1,Te.size=0,Te.type=5;else if(Ne.slice(-1)=="/"){for(_e=H+1;_e<ge.length&&n(F.FullPaths[_e])!=Ne;++_e);for(Te.C=_e>=ge.length?-1:_e,_e=H+1;_e<ge.length&&n(F.FullPaths[_e])!=n(Ne);++_e);Te.R=_e>=ge.length?-1:_e,Te.type=1}else n(F.FullPaths[H+1]||"")==n(Ne)&&(Te.R=H+1),Te.type=2}}}function oe(F,M){var U=M||{};if(U.fileType=="mad")return gt(F,U);switch(j(F),U.fileType){case"zip":return Xi(F,U)}var W=function(Fe){for(var Le=0,ze=0,ut=0;ut<Fe.FileIndex.length;++ut){var ve=Fe.FileIndex[ut];if(ve.content){var lr=ve.content.length;lr>0&&(lr<4096?Le+=lr+63>>6:ze+=lr+511>>9)}}for(var vt=Fe.FullPaths.length+3>>2,Ti=Le+7>>3,Xa=Le+127>>7,kt=Ti+ze+vt+Xa,yt=kt+127>>7,_t=yt<=109?0:Math.ceil((yt-109)/127);kt+yt+_t+127>>7>yt;)_t=++yt<=109?0:Math.ceil((yt-109)/127);var ci=[1,_t,yt,Xa,vt,ze,Le,0];return Fe.FileIndex[0].size=Le<<6,ci[7]=(Fe.FileIndex[0].start=ci[0]+ci[1]+ci[2]+ci[3]+ci[4]+ci[5])+(ci[6]+7>>3),ci}(F),H=Vr(W[7]<<9),X=0,de=0;{for(X=0;X<8;++X)H.write_shift(1,ee[X]);for(X=0;X<8;++X)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),X=0;X<3;++X)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,W[2]),H.write_shift(4,W[0]+W[1]+W[2]+W[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,W[3]?W[0]+W[1]+W[2]-1:ye),H.write_shift(4,W[3]),H.write_shift(-4,W[1]?W[0]-1:ye),H.write_shift(4,W[1]),X=0;X<109;++X)H.write_shift(-4,X<W[2]?W[1]+X:-1)}if(W[1])for(de=0;de<W[1];++de){for(;X<236+de*127;++X)H.write_shift(-4,X<W[2]?W[1]+X:-1);H.write_shift(-4,de===W[1]-1?ye:de+1)}var _e=function(Fe){for(de+=Fe;X<de-1;++X)H.write_shift(-4,X+1);Fe&&(++X,H.write_shift(-4,ye))};for(de=X=0,de+=W[1];X<de;++X)H.write_shift(-4,Ce.DIFSECT);for(de+=W[2];X<de;++X)H.write_shift(-4,Ce.FATSECT);_e(W[3]),_e(W[4]);for(var ue=0,ge=0,pe=F.FileIndex[0];ue<F.FileIndex.length;++ue)pe=F.FileIndex[ue],pe.content&&(ge=pe.content.length,!(ge<4096)&&(pe.start=de,_e(ge+511>>9)));for(_e(W[6]+7>>3);H.l&511;)H.write_shift(-4,Ce.ENDOFCHAIN);for(de=X=0,ue=0;ue<F.FileIndex.length;++ue)pe=F.FileIndex[ue],pe.content&&(ge=pe.content.length,!(!ge||ge>=4096)&&(pe.start=de,_e(ge+63>>6)));for(;H.l&511;)H.write_shift(-4,Ce.ENDOFCHAIN);for(X=0;X<W[4]<<2;++X){var Te=F.FullPaths[X];if(!Te||Te.length===0){for(ue=0;ue<17;++ue)H.write_shift(4,0);for(ue=0;ue<3;++ue)H.write_shift(4,-1);for(ue=0;ue<12;++ue)H.write_shift(4,0);continue}pe=F.FileIndex[X],X===0&&(pe.start=pe.size?pe.start-1:ye);var Ne=X===0&&U.root||pe.name;if(ge=2*(Ne.length+1),H.write_shift(64,Ne,"utf16le"),H.write_shift(2,ge),H.write_shift(1,pe.type),H.write_shift(1,pe.color),H.write_shift(-4,pe.L),H.write_shift(-4,pe.R),H.write_shift(-4,pe.C),pe.clsid)H.write_shift(16,pe.clsid,"hex");else for(ue=0;ue<4;++ue)H.write_shift(4,0);H.write_shift(4,pe.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,pe.start),H.write_shift(4,pe.size),H.write_shift(4,0)}for(X=1;X<F.FileIndex.length;++X)if(pe=F.FileIndex[X],pe.size>=4096)if(H.l=pe.start+1<<9,Ot&&Buffer.isBuffer(pe.content))pe.content.copy(H,H.l,0,pe.size),H.l+=pe.size+511&-512;else{for(ue=0;ue<pe.size;++ue)H.write_shift(1,pe.content[ue]);for(;ue&511;++ue)H.write_shift(1,0)}for(X=1;X<F.FileIndex.length;++X)if(pe=F.FileIndex[X],pe.size>0&&pe.size<4096)if(Ot&&Buffer.isBuffer(pe.content))pe.content.copy(H,H.l,0,pe.size),H.l+=pe.size+63&-64;else{for(ue=0;ue<pe.size;++ue)H.write_shift(1,pe.content[ue]);for(;ue&63;++ue)H.write_shift(1,0)}if(Ot)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function le(F,M){var U=F.FullPaths.map(function(ue){return ue.toUpperCase()}),W=U.map(function(ue){var ge=ue.split("/");return ge[ge.length-(ue.slice(-1)=="/"?2:1)]}),H=!1;M.charCodeAt(0)===47?(H=!0,M=U[0].slice(0,-1)+M):H=M.indexOf("/")!==-1;var X=M.toUpperCase(),de=H===!0?U.indexOf(X):W.indexOf(X);if(de!==-1)return F.FileIndex[de];var _e=!X.match(Fc);for(X=X.replace(Hn,""),_e&&(X=X.replace(Fc,"!")),de=0;de<U.length;++de)if((_e?U[de].replace(Fc,"!"):U[de]).replace(Hn,"")==X||(_e?W[de].replace(Fc,"!"):W[de]).replace(Hn,"")==X)return F.FileIndex[de];return null}var Q=64,ye=-2,Se="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],Be="00000000000000000000000000000000",Ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ye,FREESECT:-1,HEADER_SIGNATURE:Se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Be,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ae(F,M,U){p();var W=oe(F,U);g.writeFileSync(M,W)}function ne(F){for(var M=new Array(F.length),U=0;U<F.length;++U)M[U]=String.fromCharCode(F[U]);return M.join("")}function ke(F,M){var U=oe(F,M);switch(M&&M.type||"buffer"){case"file":return p(),g.writeFileSync(M.filename,U),U;case"binary":return typeof U=="string"?U:ne(U);case"base64":return jv(typeof U=="string"?U:ne(U));case"buffer":if(Ot)return Buffer.isBuffer(U)?U:Bo(U);case"array":return typeof U=="string"?ts(U):U}return U}var ce;function B(F){try{var M=F.InflateRaw,U=new M;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)ce=F;else throw new Error("zlib does not expose bytesRead")}catch(W){console.error("cannot use native zlib: "+(W.message||W))}}function se(F,M){if(!ce)return Gi(F,M);var U=ce.InflateRaw,W=new U,H=W._processChunk(F.slice(F.l),W._finishFlushFlag);return F.l+=W.bytesRead,H}function K(F){return ce?ce.deflateRawSync(F):dt(F)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function We(F){var M=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(M>>16|M>>8|M)&255}for(var je=typeof Uint8Array<"u",Re=je?new Uint8Array(256):[],et=0;et<256;++et)Re[et]=We(et);function Y(F,M){var U=Re[F&255];return M<=8?U>>>8-M:(U=U<<8|Re[F>>8&255],M<=16?U>>>16-M:(U=U<<8|Re[F>>16&255],U>>>24-M))}function Ze(F,M){var U=M&7,W=M>>>3;return(F[W]|(U<=6?0:F[W+1]<<8))>>>U&3}function ct(F,M){var U=M&7,W=M>>>3;return(F[W]|(U<=5?0:F[W+1]<<8))>>>U&7}function ht(F,M){var U=M&7,W=M>>>3;return(F[W]|(U<=4?0:F[W+1]<<8))>>>U&15}function qe(F,M){var U=M&7,W=M>>>3;return(F[W]|(U<=3?0:F[W+1]<<8))>>>U&31}function Ie(F,M){var U=M&7,W=M>>>3;return(F[W]|(U<=1?0:F[W+1]<<8))>>>U&127}function tt(F,M,U){var W=M&7,H=M>>>3,X=(1<<U)-1,de=F[H]>>>W;return U<8-W||(de|=F[H+1]<<8-W,U<16-W)||(de|=F[H+2]<<16-W,U<24-W)||(de|=F[H+3]<<24-W),de&X}function Ye(F,M,U){var W=M&7,H=M>>>3;return W<=5?F[H]|=(U&7)<<W:(F[H]|=U<<W&255,F[H+1]=(U&7)>>8-W),M+3}function Fr(F,M,U){var W=M&7,H=M>>>3;return U=(U&1)<<W,F[H]|=U,M+1}function Ge(F,M,U){var W=M&7,H=M>>>3;return U<<=W,F[H]|=U&255,U>>>=8,F[H+1]=U,M+8}function ln(F,M,U){var W=M&7,H=M>>>3;return U<<=W,F[H]|=U&255,U>>>=8,F[H+1]=U&255,F[H+2]=U>>>8,M+16}function oi(F,M){var U=F.length,W=2*U>M?2*U:M+5,H=0;if(U>=M)return F;if(Ot){var X=Wv(W);if(F.copy)F.copy(X);else for(;H<F.length;++H)X[H]=F[H];return X}else if(je){var de=new Uint8Array(W);if(de.set)de.set(F);else for(;H<U;++H)de[H]=F[H];return de}return F.length=W,F}function Qt(F){for(var M=new Array(F),U=0;U<F;++U)M[U]=0;return M}function _n(F,M,U){var W=1,H=0,X=0,de=0,_e=0,ue=F.length,ge=je?new Uint16Array(32):Qt(32);for(X=0;X<32;++X)ge[X]=0;for(X=ue;X<U;++X)F[X]=0;ue=F.length;var pe=je?new Uint16Array(ue):Qt(ue);for(X=0;X<ue;++X)ge[H=F[X]]++,W<H&&(W=H),pe[X]=0;for(ge[0]=0,X=1;X<=W;++X)ge[X+16]=_e=_e+ge[X-1]<<1;for(X=0;X<ue;++X)_e=F[X],_e!=0&&(pe[X]=ge[_e+16]++);var Te=0;for(X=0;X<ue;++X)if(Te=F[X],Te!=0)for(_e=Y(pe[X],W)>>W-Te,de=(1<<W+4-Te)-1;de>=0;--de)M[_e|de<<Te]=Te&15|X<<4;return W}var _r=je?new Uint16Array(512):Qt(512),zi=je?new Uint16Array(32):Qt(32);if(!je){for(var Jt=0;Jt<512;++Jt)_r[Jt]=0;for(Jt=0;Jt<32;++Jt)zi[Jt]=0}(function(){for(var F=[],M=0;M<32;M++)F.push(5);_n(F,zi,32);var U=[];for(M=0;M<=143;M++)U.push(8);for(;M<=255;M++)U.push(9);for(;M<=279;M++)U.push(7);for(;M<=287;M++)U.push(8);_n(U,_r,288)})();var Xt=function(){for(var M=je?new Uint8Array(32768):[],U=0,W=0;U<Oe.length-1;++U)for(;W<Oe[U+1];++W)M[W]=U;for(;W<32768;++W)M[W]=29;var H=je?new Uint8Array(259):[];for(U=0,W=0;U<ae.length-1;++U)for(;W<ae[U+1];++W)H[W]=U;function X(_e,ue){for(var ge=0;ge<_e.length;){var pe=Math.min(65535,_e.length-ge),Te=ge+pe==_e.length;for(ue.write_shift(1,+Te),ue.write_shift(2,pe),ue.write_shift(2,~pe&65535);pe-- >0;)ue[ue.l++]=_e[ge++]}return ue.l}function de(_e,ue){for(var ge=0,pe=0,Te=je?new Uint16Array(32768):[];pe<_e.length;){var Ne=Math.min(65535,_e.length-pe);if(Ne<10){for(ge=Ye(ue,ge,+(pe+Ne==_e.length)),ge&7&&(ge+=8-(ge&7)),ue.l=ge/8|0,ue.write_shift(2,Ne),ue.write_shift(2,~Ne&65535);Ne-- >0;)ue[ue.l++]=_e[pe++];ge=ue.l*8;continue}ge=Ye(ue,ge,+(pe+Ne==_e.length)+2);for(var Fe=0;Ne-- >0;){var Le=_e[pe];Fe=(Fe<<5^Le)&32767;var ze=-1,ut=0;if((ze=Te[Fe])&&(ze|=pe&-32768,ze>pe&&(ze-=32768),ze<pe))for(;_e[ze+ut]==_e[pe+ut]&&ut<250;)++ut;if(ut>2){Le=H[ut],Le<=22?ge=Ge(ue,ge,Re[Le+1]>>1)-1:(Ge(ue,ge,3),ge+=5,Ge(ue,ge,Re[Le-23]>>5),ge+=3);var ve=Le<8?0:Le-4>>2;ve>0&&(ln(ue,ge,ut-ae[Le]),ge+=ve),Le=M[pe-ze],ge=Ge(ue,ge,Re[Le]>>3),ge-=3;var lr=Le<4?0:Le-2>>1;lr>0&&(ln(ue,ge,pe-ze-Oe[Le]),ge+=lr);for(var vt=0;vt<ut;++vt)Te[Fe]=pe&32767,Fe=(Fe<<5^_e[pe])&32767,++pe;Ne-=ut-1}else Le<=143?Le=Le+48:ge=Fr(ue,ge,1),ge=Ge(ue,ge,Re[Le]),Te[Fe]=pe&32767,++pe}ge=Ge(ue,ge,0)-1}return ue.l=(ge+7)/8|0,ue.l}return function(ue,ge){return ue.length<8?X(ue,ge):de(ue,ge)}}();function dt(F){var M=Vr(50+Math.floor(F.length*1.1)),U=Xt(F,M);return M.slice(0,U)}var $t=je?new Uint16Array(32768):Qt(32768),cn=je?new Uint16Array(32768):Qt(32768),pt=je?new Uint16Array(128):Qt(128),Me=1,At=1;function jt(F,M){var U=qe(F,M)+257;M+=5;var W=qe(F,M)+1;M+=5;var H=ht(F,M)+4;M+=4;for(var X=0,de=je?new Uint8Array(19):Qt(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,ge=je?new Uint8Array(8):Qt(8),pe=je?new Uint8Array(8):Qt(8),Te=de.length,Ne=0;Ne<H;++Ne)de[te[Ne]]=X=ct(F,M),ue<X&&(ue=X),ge[X]++,M+=3;var Fe=0;for(ge[0]=0,Ne=1;Ne<=ue;++Ne)pe[Ne]=Fe=Fe+ge[Ne-1]<<1;for(Ne=0;Ne<Te;++Ne)(Fe=de[Ne])!=0&&(_e[Ne]=pe[Fe]++);var Le=0;for(Ne=0;Ne<Te;++Ne)if(Le=de[Ne],Le!=0){Fe=Re[_e[Ne]]>>8-Le;for(var ze=(1<<7-Le)-1;ze>=0;--ze)pt[Fe|ze<<Le]=Le&7|Ne<<3}var ut=[];for(ue=1;ut.length<U+W;)switch(Fe=pt[Ie(F,M)],M+=Fe&7,Fe>>>=3){case 16:for(X=3+Ze(F,M),M+=2,Fe=ut[ut.length-1];X-- >0;)ut.push(Fe);break;case 17:for(X=3+ct(F,M),M+=3;X-- >0;)ut.push(0);break;case 18:for(X=11+Ie(F,M),M+=7;X-- >0;)ut.push(0);break;default:ut.push(Fe),ue<Fe&&(ue=Fe);break}var ve=ut.slice(0,U),lr=ut.slice(U);for(Ne=U;Ne<286;++Ne)ve[Ne]=0;for(Ne=W;Ne<30;++Ne)lr[Ne]=0;return Me=_n(ve,$t,286),At=_n(lr,cn,30),M}function er(F,M){if(F[0]==3&&!(F[1]&3))return[Ua(M),2];for(var U=0,W=0,H=Wv(M||1<<18),X=0,de=H.length>>>0,_e=0,ue=0;!(W&1);){if(W=ct(F,U),U+=3,W>>>1)W>>1==1?(_e=9,ue=5):(U=jt(F,U),_e=Me,ue=At);else{U&7&&(U+=8-(U&7));var ge=F[U>>>3]|F[(U>>>3)+1]<<8;if(U+=32,ge>0)for(!M&&de<X+ge&&(H=oi(H,X+ge),de=H.length);ge-- >0;)H[X++]=F[U>>>3],U+=8;continue}for(;;){!M&&de<X+32767&&(H=oi(H,X+32767),de=H.length);var pe=tt(F,U,_e),Te=W>>>1==1?_r[pe]:$t[pe];if(U+=Te&15,Te>>>=4,!(Te>>>8&255))H[X++]=Te;else{if(Te==256)break;Te-=257;var Ne=Te<8?0:Te-4>>2;Ne>5&&(Ne=0);var Fe=X+ae[Te];Ne>0&&(Fe+=tt(F,U,Ne),U+=Ne),pe=tt(F,U,ue),Te=W>>>1==1?zi[pe]:cn[pe],U+=Te&15,Te>>>=4;var Le=Te<4?0:Te-2>>1,ze=Oe[Te];for(Le>0&&(ze+=tt(F,U,Le),U+=Le),!M&&de<Fe&&(H=oi(H,Fe+100),de=H.length);X<Fe;)H[X]=H[X-ze],++X}}}return M?[H,U+7>>>3]:[H.slice(0,X),U+7>>>3]}function Gi(F,M){var U=F.slice(F.l||0),W=er(U,M);return F.l+=W[1],W[0]}function Qs(F,M){if(F)typeof console<"u"&&console.error(M);else throw new Error(M)}function Ga(F,M){var U=F;gn(U,0);var W=[],H=[],X={FileIndex:W,FullPaths:H};D(X,{root:M.root});for(var de=U.length-4;(U[de]!=80||U[de+1]!=75||U[de+2]!=5||U[de+3]!=6)&&de>=0;)--de;U.l=de+4,U.l+=4;var _e=U.read_shift(2);U.l+=6;var ue=U.read_shift(4);for(U.l=ue,de=0;de<_e;++de){U.l+=20;var ge=U.read_shift(4),pe=U.read_shift(4),Te=U.read_shift(2),Ne=U.read_shift(2),Fe=U.read_shift(2);U.l+=8;var Le=U.read_shift(4),ze=u(U.slice(U.l+Te,U.l+Te+Ne));U.l+=Te+Ne+Fe;var ut=U.l;U.l=Le+4,Nt(U,ge,pe,X,ze),U.l=ut}return X}function Nt(F,M,U,W,H){F.l+=2;var X=F.read_shift(2),de=F.read_shift(2),_e=l(F);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var ue=F.read_shift(4),ge=F.read_shift(4),pe=F.read_shift(4),Te=F.read_shift(2),Ne=F.read_shift(2),Fe="",Le=0;Le<Te;++Le)Fe+=String.fromCharCode(F[F.l++]);if(Ne){var ze=u(F.slice(F.l,F.l+Ne));(ze[21589]||{}).mt&&(_e=ze[21589].mt),((H||{})[21589]||{}).mt&&(_e=H[21589].mt)}F.l+=Ne;var ut=F.slice(F.l,F.l+ge);switch(de){case 8:ut=se(F,pe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+de)}var ve=!1;X&8&&(ue=F.read_shift(4),ue==134695760&&(ue=F.read_shift(4),ve=!0),ge=F.read_shift(4),pe=F.read_shift(4)),ge!=M&&Qs(ve,"Bad compressed size: "+M+" != "+ge),pe!=U&&Qs(ve,"Bad uncompressed size: "+U+" != "+pe),dr(W,Fe,ut,{unsafe:!0,mt:_e})}function Xi(F,M){var U=M||{},W=[],H=[],X=Vr(1),de=U.compression?8:0,_e=0,ue=0,ge=0,pe=0,Te=0,Ne=F.FullPaths[0],Fe=Ne,Le=F.FileIndex[0],ze=[],ut=0;for(ue=1;ue<F.FullPaths.length;++ue)if(Fe=F.FullPaths[ue].slice(Ne.length),Le=F.FileIndex[ue],!(!Le.size||!Le.content||Fe=="Sh33tJ5")){var ve=pe,lr=Vr(Fe.length);for(ge=0;ge<Fe.length;++ge)lr.write_shift(1,Fe.charCodeAt(ge)&127);lr=lr.slice(0,lr.l),ze[Te]=iP.buf(Le.content,0);var vt=Le.content;de==8&&(vt=K(vt)),X=Vr(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,_e),X.write_shift(2,de),Le.mt?a(X,Le.mt):X.write_shift(4,0),X.write_shift(-4,ze[Te]),X.write_shift(4,vt.length),X.write_shift(4,Le.content.length),X.write_shift(2,lr.length),X.write_shift(2,0),pe+=X.length,W.push(X),pe+=lr.length,W.push(lr),pe+=vt.length,W.push(vt),X=Vr(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,_e),X.write_shift(2,de),X.write_shift(4,0),X.write_shift(-4,ze[Te]),X.write_shift(4,vt.length),X.write_shift(4,Le.content.length),X.write_shift(2,lr.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,ve),ut+=X.l,H.push(X),ut+=lr.length,H.push(lr),++Te}return X=Vr(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Te),X.write_shift(2,Te),X.write_shift(4,ut),X.write_shift(4,pe),X.write_shift(2,0),ua([ua(W),ua(H),X])}var ks={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ho(F,M){if(F.ctype)return F.ctype;var U=F.name||"",W=U.match(/\.([^\.]+)$/);return W&&ks[W[1]]||M&&(W=(U=M).match(/[\.\\]([^\.\\])+$/),W&&ks[W[1]])?ks[W[1]]:"application/octet-stream"}function ie(F){for(var M=jv(F),U=[],W=0;W<M.length;W+=76)U.push(M.slice(W,W+76));return U.join(`\r
`)+`\r
`}function Ve(F){var M=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var pe=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(pe.length==1?"0"+pe:pe)});M=M.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),M.charAt(0)==`
`&&(M="=0D"+M.slice(1)),M=M.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],W=M.split(`\r
`),H=0;H<W.length;++H){var X=W[H];if(X.length==0){U.push("");continue}for(var de=0;de<X.length;){var _e=76,ue=X.slice(de,de+_e);ue.charAt(_e-1)=="="?_e--:ue.charAt(_e-2)=="="?_e-=2:ue.charAt(_e-3)=="="&&(_e-=3),ue=X.slice(de,de+_e),de+=_e,de<X.length&&(ue+="="),U.push(ue)}}return U.join(`\r
`)}function Xe(F){for(var M=[],U=0;U<F.length;++U){for(var W=F[U];U<=F.length&&W.charAt(W.length-1)=="=";)W=W.slice(0,W.length-1)+F[++U];M.push(W)}for(var H=0;H<M.length;++H)M[H]=M[H].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return ts(M.join(`\r
`))}function ot(F,M,U){for(var W="",H="",X="",de,_e=0;_e<10;++_e){var ue=M[_e];if(!ue||ue.match(/^\s*$/))break;var ge=ue.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":W=ge[2].trim();break;case"content-type":X=ge[2].trim();break;case"content-transfer-encoding":H=ge[2].trim();break}}switch(++_e,H.toLowerCase()){case"base64":de=ts(_i(M.slice(_e).join("")));break;case"quoted-printable":de=Xe(M.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var pe=dr(F,W.slice(U.length),de,{unsafe:!0});X&&(pe.ctype=X)}function rt(F,M){if(ne(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=M&&M.root||"",W=(Ot&&Buffer.isBuffer(F)?F.toString("binary"):ne(F)).split(`\r
`),H=0,X="";for(H=0;H<W.length;++H)if(X=W[H],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),U||(U=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),X.slice(0,U.length)!=U););var de=(W[1]||"").match(/boundary="(.*?)"/);if(!de)throw new Error("MAD cannot find boundary");var _e="--"+(de[1]||""),ue=[],ge=[],pe={FileIndex:ue,FullPaths:ge};D(pe);var Te,Ne=0;for(H=0;H<W.length;++H){var Fe=W[H];Fe!==_e&&Fe!==_e+"--"||(Ne++&&ot(pe,W.slice(Te,H),U),Te=H)}return pe}function gt(F,M){var U=M||{},W=U.boundary||"SheetJS";W="------="+W;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+W.slice(2)+'"',"","",""],X=F.FullPaths[0],de=X,_e=F.FileIndex[0],ue=1;ue<F.FullPaths.length;++ue)if(de=F.FullPaths[ue].slice(X.length),_e=F.FileIndex[ue],!(!_e.size||!_e.content||de=="Sh33tJ5")){de=de.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ut){return"_x"+ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ut){return"_u"+ut.charCodeAt(0).toString(16)+"_"});for(var ge=_e.content,pe=Ot&&Buffer.isBuffer(ge)?ge.toString("binary"):ne(ge),Te=0,Ne=Math.min(1024,pe.length),Fe=0,Le=0;Le<=Ne;++Le)(Fe=pe.charCodeAt(Le))>=32&&Fe<128&&++Te;var ze=Te>=Ne*4/5;H.push(W),H.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+de),H.push("Content-Transfer-Encoding: "+(ze?"quoted-printable":"base64")),H.push("Content-Type: "+Ho(_e,de)),H.push(""),H.push(ze?Ve(pe):ie(pe))}return H.push(W+`--\r
`),H.join(`\r
`)}function xr(F){var M={};return D(M,F),M}function dr(F,M,U,W){var H=W&&W.unsafe;H||D(F);var X=!H&&Pt.find(F,M);if(!X){var de=F.FullPaths[0];M.slice(0,de.length)==de?de=M:(de.slice(-1)!="/"&&(de+="/"),de=(de+M).replace("//","/")),X={name:i(M),type:2},F.FileIndex.push(X),F.FullPaths.push(de),H||Pt.utils.cfb_gc(F)}return X.content=U,X.size=U?U.length:0,W&&(W.CLSID&&(X.clsid=W.CLSID),W.mt&&(X.mt=W.mt),W.ct&&(X.ct=W.ct)),X}function Kr(F,M){D(F);var U=Pt.find(F,M);if(U){for(var W=0;W<F.FileIndex.length;++W)if(F.FileIndex[W]==U)return F.FileIndex.splice(W,1),F.FullPaths.splice(W,1),!0}return!1}function Ht(F,M,U){D(F);var W=Pt.find(F,M);if(W){for(var H=0;H<F.FileIndex.length;++H)if(F.FileIndex[H]==W)return F.FileIndex[H].name=i(U),F.FullPaths[H]=U,!0}return!1}function li(F){j(F,!0)}return t.find=le,t.read=G,t.parse=m,t.write=ke,t.writeFile=Ae,t.utils={cfb_new:xr,cfb_add:dr,cfb_del:Kr,cfb_mov:Ht,cfb_gc:li,ReadShift:Jc,CheckField:K4,prep_blob:gn,bconcat:ua,use_zlib:B,_deflateRaw:dt,_inflateRaw:Gi,consts:Ce},t}();function sP(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Cs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function gm(e){for(var t=[],r=Cs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var yh=new Date(1899,11,30,0,0,0);function Gn(e,t){var r=e.getTime(),n=yh.getTime()+(e.getTimezoneOffset()-yh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var b4=new Date,aP=yh.getTime()+(b4.getTimezoneOffset()-yh.getTimezoneOffset())*6e4,Kv=b4.getTimezoneOffset();function ud(e){var t=new Date;return t.setTime(e*24*60*60*1e3+aP),t.getTimezoneOffset()!==Kv&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Kv)*6e4),t}function oP(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var qv=new Date("2017-02-19T19:06:09.000Z"),I4=isNaN(qv.getFullYear())?new Date("2/19/17"):qv,lP=I4.getFullYear()==2017;function an(e,t){var r=new Date(e);if(lP)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(I4.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function To(e,t){if(Ot&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Mc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Mc(p4(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Mc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Mc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function mn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=mn(e[r]));return t}function Sr(e,t){for(var r="";r.length<t;)r+=e;return r}function ls(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var cP=["january","february","march","april","may","june","july","august","september","october","november","december"];function zl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&cP.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var uP=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),l=[a[0]],u=1;u<a.length;++u)l.push(i),l.push(a[u]);return l}}();function R4(e){return e?e.content&&e.type?To(e.content,!0):e.data?Dc(e.data):e.asNodeBuffer&&Ot?Dc(e.asNodeBuffer().toString("binary")):e.asBinary?Dc(e.asBinary()):e._data&&e._data.getContent?Dc(To(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function N4(e){if(!e)return null;if(e.data)return Lv(e.data);if(e.asNodeBuffer&&Ot)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Lv(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function fP(e){return e&&e.name.slice(-4)===".bin"?N4(e):R4(e)}function Oi(e,t){for(var r=e.FullPaths||Cs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var l=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||i==l)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function pm(e,t){var r=Oi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Mr(e,t,r){if(!r)return fP(pm(e,t));if(!t)return null;try{return Mr(e,t)}catch{return null}}function pi(e,t,r){if(!r)return R4(pm(e,t));if(!t)return null;try{return pi(e,t)}catch{return null}}function hP(e,t,r){return N4(pm(e,t))}function Zv(e){for(var t=e.FullPaths||Cs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function dP(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ot?n=Bo(r):n=O9(r),Pt.utils.cfb_add(e,t,n)}Pt.utils.cfb_add(e,t,r)}else e.file(t,r)}function O4(e,t){switch(t.type){case"base64":return Pt.read(e,{type:"base64"});case"binary":return Pt.read(e,{type:"binary"});case"buffer":case"array":return Pt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Pc(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var D4=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,gP=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Qv=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,pP=/<[^>]*>/g,Pn=D4.match(Qv)?Qv:pP,xP=/<\w*:/,mP=/<(\/?)\w+:/;function lt(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var l=e.match(gP),u=0,g="",p=0,m="",v="",_=1;if(l)for(p=0;p!=l.length;++p){for(v=l[p],a=0;a!=v.length&&v.charCodeAt(a)!==61;++a);for(m=v.slice(0,a).trim();v.charCodeAt(a+1)==32;)++a;for(_=(i=v.charCodeAt(a+1))==34||i==39?1:0,g=v.slice(a+1+_,v.length-_),u=0;u!=m.length&&m.charCodeAt(u)!==58;++u);if(u===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),n[m]=g,n[m.toLowerCase()]=g;else{var E=(u===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(u+1);if(n[E]&&m.slice(u-3,u)=="ext")continue;n[E]=g,n[E.toLowerCase()]=g}}return n}function Ss(e){return e.replace(mP,"<$1")}var F4={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},wP=gm(F4),Ut=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(u,g){return F4[u]||String.fromCharCode(parseInt(g,u.indexOf("x")>-1?16:10))||u}).replace(t,function(u,g){return String.fromCharCode(parseInt(g,16))});var l=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,l)+r(i.slice(l+3))}}(),vP=/[&<>'"]/g,yP=/[\u0000-\u001f]/g;function xm(e){var t=e+"";return t.replace(vP,function(r){return wP[r]}).replace(/\n/g,"<br/>").replace(yP,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var Jv=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function gr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function w1(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=i&63,t+=String.fromCharCode(l);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}l=e.charCodeAt(r++),u=((n&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(u&1023))}return t}function ey(e){var t=Ua(2*e.length),r,n,i=1,a=0,l=0,u;for(n=0;n<e.length;n+=i)i=1,(u=e.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(e.charCodeAt(n+1)&63),i=2):u<240?(r=(u&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(u&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[a++]=l&255,t[a++]=l>>>8,l=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function ty(e){return Bo(e,"binary").toString("utf8")}var $u="foo bar baz",ar=Ot&&(ty($u)==w1($u)&&ty||ey($u)==w1($u)&&ey)||w1,Mc=Ot?function(e){return Bo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},j0=function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),P4=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),_P=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),EP=/<\/?(?:vt:)?variant>/g,CP=/<(?:vt:)([^>]*)>([\s\S]*)</;function ry(e,t){var r=lt(e),n=e.match(_P(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var l=a.replace(EP,"").match(CP);l&&i.push({v:ar(l[2]),t:l[1]})}),i}var AP=/(^\s|\s$|\n)/;function SP(e){return Cs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function TP(e,t,r){return"<"+e+(r!=null?SP(r):"")+(t!=null?(t.match(AP)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function mm(e){if(Ot&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ar(Lo(fm(e)));throw new Error("Bad input format: expected Buffer or string")}var W0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,kP={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},bP=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function IP(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function RP(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,l=n?-t:t;isFinite(l)?l==0?i=a=0:(i=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var u=0;u<=5;++u,a/=256)e[r+u]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var ny=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},iy=Ot?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Bo(t)})):ny(e)}:ny,sy=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Fs(e,i)));return n.join("").replace(Hn,"")},wm=Ot?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Hn,""):sy(e,t,r)}:sy,ay=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},M4=Ot?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):ay(e,t,r)}:ay,oy=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Jo(e,i)));return n.join("")},gu=Ot?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):oy(t,r,n)}:oy,B4=function(e,t){var r=gi(e,t);return r>0?gu(e,t+4,t+4+r-1):""},L4=B4,U4=function(e,t){var r=gi(e,t);return r>0?gu(e,t+4,t+4+r-1):""},j4=U4,W4=function(e,t){var r=2*gi(e,t);return r>0?gu(e,t+4,t+4+r-1):""},V4=W4,H4=function(t,r){var n=gi(t,r);return n>0?wm(t,r+4,r+4+n):""},z4=H4,G4=function(e,t){var r=gi(e,t);return r>0?gu(e,t+4,t+4+r):""},X4=G4,$4=function(e,t){return IP(e,t)},_h=$4,Y4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ot&&(L4=function(t,r){if(!Buffer.isBuffer(t))return B4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},j4=function(t,r){if(!Buffer.isBuffer(t))return U4(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},V4=function(t,r){if(!Buffer.isBuffer(t))return W4(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},z4=function(t,r){if(!Buffer.isBuffer(t))return H4(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},X4=function(t,r){if(!Buffer.isBuffer(t))return G4(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},_h=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):$4(t,r)},Y4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Jo=function(e,t){return e[t]},Fs=function(e,t){return e[t+1]*256+e[t]},NP=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},gi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},to=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},OP=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Jc(e,t){var r="",n,i,a=[],l,u,g,p;switch(t){case"dbcs":if(p=this.l,Ot&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(g=0;g<e;++g)r+=String.fromCharCode(Fs(this,p)),p+=2;e*=2;break;case"utf8":r=gu(this,this.l,this.l+e);break;case"utf16le":e*=2,r=wm(this,this.l,this.l+e);break;case"wstr":return Jc.call(this,e,"dbcs");case"lpstr-ansi":r=L4(this,this.l),e=4+gi(this,this.l);break;case"lpstr-cp":r=j4(this,this.l),e=4+gi(this,this.l);break;case"lpwstr":r=V4(this,this.l),e=4+2*gi(this,this.l);break;case"lpp4":e=4+gi(this,this.l),r=z4(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+gi(this,this.l),r=X4(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=Jo(this,this.l+e++))!==0;)a.push(Xu(l));r=a.join("");break;case"_wstr":for(e=0,r="";(l=Fs(this,this.l+e))!==0;)a.push(Xu(l)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",p=this.l,g=0;g<e;++g){if(this.lens&&this.lens.indexOf(p)!==-1)return l=Jo(this,p),this.l=p+1,u=Jc.call(this,e-g,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Xu(Fs(this,p))),p+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",p=this.l,g=0;g!=e;++g){if(this.lens&&this.lens.indexOf(p)!==-1)return l=Jo(this,p),this.l=p+1,u=Jc.call(this,e-g,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Xu(Jo(this,p))),p+=1}r=a.join("");break;default:switch(e){case 1:return n=Jo(this,this.l),this.l++,n;case 2:return n=(t==="i"?NP:Fs)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?to:OP)(this,this.l),this.l+=4,n):(i=gi(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=_h(this,this.l):i=_h([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=M4(this,this.l,e);break}}return this.l+=e,r}var DP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},FP=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},PP=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function MP(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)PP(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,DP(this,t,this.l);break;case 8:if(n=8,r==="f"){RP(this,t,this.l);break}case 16:break;case-4:n=4,FP(this,t,this.l);break}return this.l+=n,this}function K4(e,t){var r=M4(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function gn(e,t){e.l=t,e.read_shift=Jc,e.chk=K4,e.write_shift=MP}function Dn(e,t){e.l+=t}function Vr(e){var t=Ua(e);return gn(t,0),t}function Zs(e,t,r){if(e){var n,i,a;gn(e,e.l||0);for(var l=e.length,u=0,g=0;e.l<l;){u=e.read_shift(1),u&128&&(u=(u&127)+((e.read_shift(1)&127)<<7));var p=kh[u]||kh[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;g=e.l+a;var m=p.f&&p.f(e,a,r);if(e.l=g,t(m,p,u))return}}}function qg(){var e=[],t=Ot?256:2048,r=function(p){var m=Vr(p);return gn(m,0),m},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(p){return n&&p<n.length-n.l?n:(i(),n=r(Math.max(p+1,t)))},l=function(){return i(),ua(e)},u=function(p){i(),n=p,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:u,end:l,_bufs:e}}function e0(e,t,r){var n=mn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function ly(e,t,r){var n=mn(e);return n.s=e0(n.s,t.s,r),n.e=e0(n.e,t.s,r),n}function t0(e,t){if(e.cRel&&e.c<0)for(e=mn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=mn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ft(e);return!e.cRel&&e.cRel!=null&&(r=UP(r)),!e.rRel&&e.rRel!=null&&(r=BP(r)),r}function v1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+$r(e.s.c)+":"+(e.e.cRel?"":"$")+$r(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+wn(e.s.r)+":"+(e.e.rRel?"":"$")+wn(e.e.r):t0(e.s,t.biff)+":"+t0(e.e,t.biff)}function vm(e){return parseInt(LP(e),10)-1}function wn(e){return""+(e+1)}function BP(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function LP(e){return e.replace(/\$(\d+)$/,"$1")}function ym(e){for(var t=jP(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function $r(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function UP(e){return e.replace(/^([A-Z])/,"$$$1")}function jP(e){return e.replace(/^\$([A-Z])/,"$1")}function WP(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jn(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function ft(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function sc(e){var t=e.indexOf(":");return t==-1?{s:jn(e),e:jn(e)}:{s:jn(e.slice(0,t)),e:jn(e.slice(t+1))}}function Mt(e,t){return typeof t>"u"||typeof t=="number"?Mt(e.s,e.e):(typeof e!="string"&&(e=ft(e)),typeof t!="string"&&(t=ft(t)),e==t?e:e+":"+t)}function br(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function cy(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Vi(e.z,r?Gn(t):t)}catch{}try{return e.w=Vi((e.XF||{}).numFmtId||(r?14:0),r?Gn(t):t)}catch{return""+t}}function $s(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Wo[e.v]||e.v:t==null?cy(e,e.v):cy(e,t))}function za(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function q4(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),l=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?jn(n.origin):n.origin;l=g.r,u=g.c}a["!ref"]||(a["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var m=br(a["!ref"]);p.s.c=m.s.c,p.s.r=m.s.r,p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),l==-1&&(p.e.r=l=m.e.r+1)}for(var v=0;v!=t.length;++v)if(t[v]){if(!Array.isArray(t[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=t[v].length;++_)if(!(typeof t[v][_]>"u")){var E={v:t[v][_]},A=l+v,C=u+_;if(p.s.r>A&&(p.s.r=A),p.s.c>C&&(p.s.c=C),p.e.r<A&&(p.e.r=A),p.e.c<C&&(p.e.c=C),t[v][_]&&typeof t[v][_]=="object"&&!Array.isArray(t[v][_])&&!(t[v][_]instanceof Date))E=t[v][_];else if(Array.isArray(E.v)&&(E.f=t[v][_][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(n.nullError)E.t="e",E.v=0;else if(n.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=n.dateNF||mt[14],n.cellDates?(E.t="d",E.w=Vi(E.z,Gn(E.v))):(E.t="n",E.v=Gn(E.v),E.w=Vi(E.z,E.v))):E.t="s";if(i)a[A]||(a[A]=[]),a[A][C]&&a[A][C].z&&(E.z=a[A][C].z),a[A][C]=E;else{var I=ft({c:C,r:A});a[I]&&a[I].z&&(E.z=a[I].z),a[I]=E}}}return p.s.c<1e7&&(a["!ref"]=Mt(p)),a}function ac(e,t){return q4(null,e,t)}function VP(e){return e.read_shift(4,"i")}function Rn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function HP(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function _m(e,t){var r=e.l,n=e.read_shift(1),i=Rn(e),a=[],l={t:i,h:i};if(n&1){for(var u=e.read_shift(4),g=0;g!=u;++g)a.push(HP(e));l.r=a}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}var zP=_m;function Hi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Uo(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var GP=Rn;function Em(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var XP=Rn,Zg=Em;function Cm(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?_h([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):to(t,0)>>2;return r?i/100:i}function Z4(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var jo=Z4;function bn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function $P(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),l=e.read_shift(1),u=e.read_shift(1),g=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var p=ho[i];p&&(t.rgb=H0(p));break;case 2:t.rgb=H0([l,u,g]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function YP(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Q4(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function KP(e){return Q4(e,1)}function qP(e){return Q4(e,2)}var Am=2,Qn=3,Yu=11,uy=12,Eh=19,Ku=64,ZP=65,QP=71,JP=4108,eM=4126,tn=80,J4=81,tM=[tn,J4],rM={1:{n:"CodePage",t:Am},2:{n:"Category",t:tn},3:{n:"PresentationFormat",t:tn},4:{n:"ByteCount",t:Qn},5:{n:"LineCount",t:Qn},6:{n:"ParagraphCount",t:Qn},7:{n:"SlideCount",t:Qn},8:{n:"NoteCount",t:Qn},9:{n:"HiddenCount",t:Qn},10:{n:"MultimediaClipCount",t:Qn},11:{n:"ScaleCrop",t:Yu},12:{n:"HeadingPairs",t:JP},13:{n:"TitlesOfParts",t:eM},14:{n:"Manager",t:tn},15:{n:"Company",t:tn},16:{n:"LinksUpToDate",t:Yu},17:{n:"CharacterCount",t:Qn},19:{n:"SharedDoc",t:Yu},22:{n:"HyperlinksChanged",t:Yu},23:{n:"AppVersion",t:Qn,p:"version"},24:{n:"DigSig",t:ZP},26:{n:"ContentType",t:tn},27:{n:"ContentStatus",t:tn},28:{n:"Language",t:tn},29:{n:"Version",t:tn},255:{},2147483648:{n:"Locale",t:Eh},2147483651:{n:"Behavior",t:Eh},1919054434:{}},nM={1:{n:"CodePage",t:Am},2:{n:"Title",t:tn},3:{n:"Subject",t:tn},4:{n:"Author",t:tn},5:{n:"Keywords",t:tn},6:{n:"Comments",t:tn},7:{n:"Template",t:tn},8:{n:"LastAuthor",t:tn},9:{n:"RevNumber",t:tn},10:{n:"EditTime",t:Ku},11:{n:"LastPrinted",t:Ku},12:{n:"CreatedDate",t:Ku},13:{n:"ModifiedDate",t:Ku},14:{n:"PageCount",t:Qn},15:{n:"WordCount",t:Qn},16:{n:"CharCount",t:Qn},17:{n:"Thumbnail",t:QP},18:{n:"Application",t:tn},19:{n:"DocSecurity",t:Qn},255:{},2147483648:{n:"Locale",t:Eh},2147483651:{n:"Behavior",t:Eh},1919054434:{}},fy={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},iM=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function sM(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var aM=sM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ho=mn(aM),Wo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},eS={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},hy={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function oM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function lM(e){var t=oM();if(!e||!e.match)return t;var r={};if((e.match(Pn)||[]).forEach(function(n){var i=lt(n);switch(i[0].replace(xP,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[hy[i.ContentType]]!==void 0&&t[hy[i.ContentType]].push(i.PartName);break}}),t.xmlns!==kP.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var pl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Qg(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function r0(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Pn)||[]).forEach(function(i){var a=lt(i);if(a[0]==="<Relationship"){var l={};l.Type=a.Type,l.Target=a.Target,l.Id=a.Id,a.TargetMode&&(l.TargetMode=a.TargetMode);var u=a.TargetMode==="External"?a.Target:Pc(a.Target,t);r[u]=l,n[a.Id]=l}}),r["!id"]=n,r}var cM="application/vnd.oasis.opendocument.spreadsheet";function uM(e,t){for(var r=mm(e),n,i;n=W0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=lt(n[0],!1),i.path=="/"&&i.type!==cM)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var n0=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],fM=function(){for(var e=new Array(n0.length),t=0;t<n0.length;++t){var r=n0[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function tS(e){var t={};e=ar(e);for(var r=0;r<n0.length;++r){var n=n0[r],i=e.match(fM[r]);i!=null&&i.length>0&&(t[n[1]]=Ut(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=an(t[n[1]]))}return t}var hM=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function rS(e,t,r,n){var i=[];if(typeof e=="string")i=ry(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(m){return{v:m}}));var l=typeof t=="string"?ry(t,n).map(function(m){return m.v}):t,u=0,g=0;if(l.length>0)for(var p=0;p!==i.length;p+=2){switch(g=+i[p+1].v,i[p].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=g,r.SheetNames=l.slice(u,u+g);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=g,r.DefinedNames=l.slice(u,u+g);break;case"Charts":case"Diagramme":r.Chartsheets=g,r.ChartNames=l.slice(u,u+g);break}u+=g}}function dM(e,t,r){var n={};return t||(t={}),e=ar(e),hM.forEach(function(i){var a=(e.match(j0(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=Ut(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var l=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(n[i[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&rS(n.HeadingPairs,n.TitlesOfParts,t,r),t}var gM=/<[^>]+>[^<]*/g;function pM(e,t){var r={},n="",i=e.match(gM);if(i)for(var a=0;a!=i.length;++a){var l=i[a],u=lt(l);switch(u[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ut(u.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var g=l.split(">"),p=g[0].slice(4),m=g[1];switch(p){case"lpstr":case"bstr":case"lpwstr":r[n]=Ut(m);break;case"bool":r[n]=gr(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(m);break;case"filetime":case"date":r[n]=an(m);break;case"cy":case"error":r[n]=Ut(m);break;default:if(p.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,p,g)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}var xM={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},y1;function mM(e,t,r){y1||(y1=gm(xM)),t=y1[t]||t,e[t]=r}function Sm(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function nS(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function iS(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function sS(e,t,r){return t===31?iS(e):nS(e,t,r)}function Jg(e,t,r){return sS(e,t,r===!1?0:4)}function wM(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return sS(e,t,0)}function vM(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Hn,""),e.l-i&2&&(e.l+=2)}return r}function yM(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Hn,"");return r}function _M(e){var t=e.l,r=Ch(e,J4);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Ch(e,Qn);return[r,n]}function EM(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(_M(e));return r}function dy(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),l=e.read_shift(4);n[a]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(Hn,"").replace(Fc,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function aS(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function CM(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Ch(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==uy&&n!==t&&tM.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===uy?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return nS(e,n,4).replace(Hn,"");case 31:return iS(e);case 64:return Sm(e);case 65:return aS(e);case 71:return CM(e);case 80:return Jg(e,n,!a.raw).replace(Hn,"");case 81:return wM(e,n).replace(Hn,"");case 4108:return EM(e);case 4126:case 4127:return n==4127?vM(e):yM(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function gy(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0,u=0,g=-1,p={};for(l=0;l!=i;++l){var m=e.read_shift(4),v=e.read_shift(4);a[l]=[m,v+r]}a.sort(function(k,S){return k[1]-S[1]});var _={};for(l=0;l!=i;++l){if(e.l!==a[l][1]){var E=!0;if(l>0&&t)switch(t[a[l-1][0]].t){case 2:e.l+2===a[l][1]&&(e.l+=2,E=!1);break;case 80:e.l<=a[l][1]&&(e.l=a[l][1],E=!1);break;case 4108:e.l<=a[l][1]&&(e.l=a[l][1],E=!1);break}if((!t||l==0)&&e.l<=a[l][1]&&(E=!1,e.l=a[l][1]),E)throw new Error("Read Error: Expected address "+a[l][1]+" at "+e.l+" :"+l)}if(t){var A=t[a[l][0]];if(_[A.n]=Ch(e,A.t,{raw:!0}),A.p==="version"&&(_[A.n]=String(_[A.n]>>16)+"."+("0000"+String(_[A.n]&65535)).slice(-4)),A.n=="CodePage")switch(_[A.n]){case 0:_[A.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ns(u=_[A.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+_[A.n])}}else if(a[l][0]===1){if(u=_.CodePage=Ch(e,Am),ns(u),g!==-1){var C=e.l;e.l=a[g][1],p=dy(e,u),e.l=C}}else if(a[l][0]===0){if(u===0){g=l,e.l=a[l+1][1];continue}p=dy(e,u)}else{var I=p[a[l][0]],b;switch(e[e.l]){case 65:e.l+=4,b=aS(e);break;case 30:e.l+=4,b=Jg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=Jg(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=Rr(e,4);break;case 64:e.l+=4,b=an(Sm(e));break;default:throw new Error("unparsed value: "+e[e.l])}_[I]=b}}return e.l=r+n,_}function py(e,t,r){var n=e.content;if(!n)return{};gn(n,0);var i,a,l,u,g=0;n.chk("feff","Byte Order: "),n.read_shift(2);var p=n.read_shift(4),m=n.read_shift(16);if(m!==Pt.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),u=n.read_shift(4),i===1&&u!==n.l)throw new Error("Length mismatch: "+u+" !== "+n.l);i===2&&(l=n.read_shift(16),g=n.read_shift(4));var v=gy(n,t),_={SystemIdentifier:p};for(var E in v)_[E]=v[E];if(_.FMTID=a,i===1)return _;if(g-n.l==2&&(n.l+=2),n.l!==g)throw new Error("Length mismatch 2: "+n.l+" !== "+g);var A;try{A=gy(n,null)}catch{}for(E in A)_[E]=A[E];return _.FMTID=[a,l],_}function sa(e,t){return e.read_shift(t),null}function AM(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Rr(e,t){return e.read_shift(t)===1}function Br(e){return e.read_shift(2,"u")}function oS(e,t){return AM(e,t,Br)}function SM(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function pu(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=n?e.read_shift(n,i):"";return l}function TM(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),l=0,u,g={};i&&(l=e.read_shift(2)),n&&(u=e.read_shift(4));var p=a==2?"dbcs-cont":"sbcs-cont",m=t===0?"":e.read_shift(t,p);return i&&(e.l+=4*l),n&&(e.l+=u),g.t=m,i||(g.raw="<t>"+g.t+"</t>",g.r=g.t),g}function ko(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function xu(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):ko(e,n,r)}function Vo(e,t,r){if(r.biff>5)return xu(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function kM(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function bM(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Hn,"");return n&&(e.l+=24),i}function IM(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(a>>1,"utf16le").replace(Hn,"");return r+l}function RM(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return bM(e);case"0303000000000000c000000000000046":return IM(e);default:throw new Error("Unsupported Moniker "+r)}}function qu(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Hn,""):"";return r}function NM(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,l,u,g,p="",m,v;i&16&&(a=qu(e,r-e.l)),i&128&&(l=qu(e,r-e.l)),(i&257)===257&&(u=qu(e,r-e.l)),(i&257)===1&&(g=RM(e,r-e.l)),i&8&&(p=qu(e,r-e.l)),i&32&&(m=e.read_shift(16)),i&64&&(v=Sm(e)),e.l=r;var _=l||u||g||"";_&&p&&(_+="#"+p),_||(_="#"+p),i&2&&_.charAt(0)=="/"&&_.charAt(1)!="/"&&(_="file://"+_);var E={Target:_};return m&&(E.guid=m),v&&(E.time=v),a&&(E.Tooltip=a),E}function lS(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function cS(e,t){var r=lS(e);return r[3]=0,r}function Ts(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function OM(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function DM(e,t,r){return t===0?"":Vo(e,t,r)}function FM(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[i,a,l]}function uS(e){var t=e.read_shift(2),r=Cm(e);return[t,r]}function PM(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=pu(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function fd(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function fS(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var MM=fS;function hS(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function BM(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function LM(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Sn(e){e.l+=2,e.l+=e.read_shift(2)}var UM={0:Sn,4:Sn,5:Sn,6:Sn,7:LM,8:Sn,9:Sn,10:Sn,11:Sn,12:Sn,13:BM,14:Sn,15:Sn,16:Sn,17:Sn,18:Sn,19:Sn,20:Sn,21:hS};function jM(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(UM[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Zu(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function WM(e,t){return t===0||e.read_shift(2),1200}function VM(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=Vo(e,0,r);return e.read_shift(t+n-e.l),i}function HM(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function zM(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var l=pu(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:i,dt:a,name:l}}function GM(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0;l!=i&&e.l<r;++l)a.push(TM(e));return a.Count=n,a.Unique=i,a}function XM(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function $M(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function YM(e){var t=OM(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function KM(e){return e.read_shift(2),e.read_shift(4)}function xy(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function qM(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),g=e.read_shift(2),p=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:l,FirstTab:u,Selected:g,TabRatio:p}}function ZM(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function QM(){}function JM(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=pu(e,0,r),n}function eB(e){var t=Ts(e);return t.isst=e.read_shift(4),t}function tB(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=Ts(e);r.biff==2&&e.l++;var a=xu(e,n-e.l,r);return i.val=a,i}function rB(e,t,r){var n=e.read_shift(2),i=Vo(e,0,r);return[n,i]}var nB=Vo;function my(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),l=e.read_shift(i),u=e.read_shift(2),g=e.read_shift(2);return e.l=n,{s:{r:a,c:u},e:{r:l,c:g}}}function iB(e){var t=e.read_shift(2),r=e.read_shift(2),n=uS(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function sB(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(uS(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:l,rkrec:a}}function aB(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:l,ixfe:a}}function oB(e,t,r,n){var i={},a=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(4),g=e.read_shift(2);return i.patternType=iM[u>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=u&127,i.icvBottom=u>>7&127,i.icvDiag=u>>14&127,i.dgDiag=u>>21&15,i.icvFore=g&127,i.icvBack=g>>7&127,i.fsxButton=g>>14&1),i}function lB(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=oB(e,t,n.fStyle,r),n}function cB(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function wy(e,t,r){var n=Ts(e);(r.biff==2||t==9)&&++e.l;var i=SM(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function uB(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ts(e),i=bn(e);return n.val=i,n}var vy=DM;function fB(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var l=ko(e,a),u=[];n>e.l;)u.push(xu(e));return[a,i,l,u]}function yy(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=PM(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var hB=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function _y(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(r&&r.biff==2?1:2),g=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),g=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var p=ko(e,l,r);i&32&&(p=hB[p.charCodeAt(0)]);var m=n-e.l;r&&r.biff==2&&--m;var v=n==e.l||u===0||!(m>0)?[]:$j(e,m,r,u);return{chKey:a,Name:p,itab:g,rgce:v}}function dS(e,t,r){if(r.biff<8)return dB(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(FM(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function dB(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=pu(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function gB(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=ko(e,n,r),l=ko(e,i,r);return[a,l]}function pB(e,t,r){var n=fS(e);e.l++;var i=e.read_shift(1);return t-=8,[Yj(e,t,r),i,n]}function Ey(e,t,r){var n=MM(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Gj(e,t,r)]}function xB(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function mB(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=Vo(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},u,l,a]}}function wB(e,t,r){return mB(e,t,r)}function vB(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(fd(e));return r}function yB(e,t,r){if(r&&r.biff<8)return EB(e,t,r);var n=hS(e),i=jM(e,t-22,n[1]);return{cmo:n,ft:i}}var _B={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function EB(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((_B[n]||Dn)(e,t,r)),{cmo:[i,n,a],ft:l}}function CB(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:l=kM(e,6,r);var u=e.read_shift(2);e.read_shift(2),Br(e,2);var g=e.read_shift(2);e.l+=g;for(var p=1;p<e.lens.length-1;++p){if(e.l-n!=e.lens[p])throw new Error("TxO: bad continue record");var m=e[e.l],v=ko(e,e.lens[p+1]-e.lens[p]-1);if(i+=v,i.length>=(m?u:2*u))break}if(i.length!==u&&i.length!==u*2)throw new Error("cchText: "+u+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function AB(e,t){var r=fd(e);e.l+=16;var n=NM(e,t-24);return[r,n]}function SB(e,t){e.read_shift(2);var r=fd(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Hn,""),[r,n]}function TB(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=fy[r]||r,r=e.read_shift(2),t[1]=fy[r]||r,t}function kB(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(cS(e));return r}function bB(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(cS(e));return r}function IB(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function gS(e,t,r){if(!r.cellStyles)return Dn(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(n),g=e.read_shift(2);n==2&&(e.l+=2);var p={s:i,e:a,w:l,ixfe:u,flags:g};return(r.biff>=5||!r.biff)&&(p.level=g>>8&7),p}function RB(e,t){var r={};return t<32||(e.l+=16,r.header=bn(e),r.footer=bn(e),e.l+=2),r}function NB(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var OB=Ts,DB=oS,FB=xu;function PB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function MB(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ts(e);++e.l;var i=Vo(e,t-7,r);return n.t="str",n.val=i,n}function BB(e){var t=Ts(e);++e.l;var r=bn(e);return t.t="n",t.val=r,t}function LB(e){var t=Ts(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function UB(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function jB(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function WB(e,t,r){var n=e.l+t,i=Ts(e),a=e.read_shift(2),l=ko(e,a,r);return e.l=n,i.t="str",i.val=l,i}var VB=[2,3,48,49,131,139,140,245],Cy=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=gm({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,g){var p=[],m=Ua(1);switch(g.type){case"base64":m=ts(_i(u));break;case"binary":m=ts(u);break;case"buffer":case"array":m=u;break}gn(m,0);var v=m.read_shift(1),_=!!(v&136),E=!1,A=!1;switch(v){case 2:break;case 3:break;case 48:E=!0,_=!0;break;case 49:E=!0,_=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var C=0,I=521;v==2&&(C=m.read_shift(2)),m.l+=3,v!=2&&(C=m.read_shift(4)),C>1048576&&(C=1e6),v!=2&&(I=m.read_shift(2));var b=m.read_shift(2),k=g.codepage||1252;v!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(k=e[m[m.l]]),m.l+=1,m.l+=2),A&&(m.l+=36);for(var S=[],L={},q=Math.min(m.length,v==2?521:I-10-(E?264:0)),G=A?32:11;m.l<q&&m[m.l]!=13;)switch(L={},L.name=L0.utils.decode(k,m.slice(m.l,m.l+G)).replace(/[\u0000\r\n].*$/g,""),m.l+=G,L.type=String.fromCharCode(m.read_shift(1)),v!=2&&!A&&(L.offset=m.read_shift(4)),L.len=m.read_shift(1),v==2&&(L.offset=m.read_shift(2)),L.dec=m.read_shift(1),L.name.length&&S.push(L),v!=2&&(m.l+=A?13:14),L.type){case"B":(!E||L.len!=8)&&g.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":g.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(m[m.l]!==13&&(m.l=I-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=I;var D=0,Z=0;for(p[0]=[],Z=0;Z!=S.length;++Z)p[0][Z]=S[Z].name;for(;C-- >0;){if(m[m.l]===42){m.l+=b;continue}for(++m.l,p[++D]=[],Z=0,Z=0;Z!=S.length;++Z){var j=m.slice(m.l,m.l+S[Z].len);m.l+=S[Z].len,gn(j,0);var oe=L0.utils.decode(k,j);switch(S[Z].type){case"C":oe.trim().length&&(p[D][Z]=oe.replace(/\s+$/,""));break;case"D":oe.length===8?p[D][Z]=new Date(+oe.slice(0,4),+oe.slice(4,6)-1,+oe.slice(6,8)):p[D][Z]=oe;break;case"F":p[D][Z]=parseFloat(oe.trim());break;case"+":case"I":p[D][Z]=A?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(oe.trim().toUpperCase()){case"Y":case"T":p[D][Z]=!0;break;case"N":case"F":p[D][Z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+oe+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));p[D][Z]="##MEMO##"+(A?parseInt(oe.trim(),10):j.read_shift(4));break;case"N":oe=oe.replace(/\u0000/g,"").trim(),oe&&oe!="."&&(p[D][Z]=+oe||0);break;case"@":p[D][Z]=new Date(j.read_shift(-8,"f")-621356832e5);break;case"T":p[D][Z]=new Date((j.read_shift(4)-2440588)*864e5+j.read_shift(4));break;case"Y":p[D][Z]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[D][Z]=-j.read_shift(-8,"f");break;case"B":if(E&&S[Z].len==8){p[D][Z]=j.read_shift(8,"f");break}case"G":case"P":j.l+=S[Z].len;break;case"0":if(S[Z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[Z].type)}}}if(v!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return g&&g.sheetRows&&(p=p.slice(0,g.sheetRows)),g.DBF=S,p}function n(u,g){var p=g||{};p.dateNF||(p.dateNF="yyyymmdd");var m=ac(r(u,p),p);return m["!cols"]=p.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete p.DBF,m}function i(u,g){try{return za(n(u,g),g)}catch(p){if(g&&g.WTF)throw p}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,g){var p=g||{};if(+p.codepage>=0&&ns(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var m=qg(),v=ap(u,{header:1,raw:!0,cellDates:!0}),_=v[0],E=v.slice(1),A=u["!cols"]||[],C=0,I=0,b=0,k=1;for(C=0;C<_.length;++C){if(((A[C]||{}).DBF||{}).name){_[C]=A[C].DBF.name,++b;continue}if(_[C]!=null){if(++b,typeof _[C]=="number"&&(_[C]=_[C].toString(10)),typeof _[C]!="string")throw new Error("DBF Invalid column name "+_[C]+" |"+typeof _[C]+"|");if(_.indexOf(_[C])!==C){for(I=0;I<1024;++I)if(_.indexOf(_[C]+"_"+I)==-1){_[C]+="_"+I;break}}}}var S=br(u["!ref"]),L=[],q=[],G=[];for(C=0;C<=S.e.c-S.s.c;++C){var D="",Z="",j=0,oe=[];for(I=0;I<E.length;++I)E[I][C]!=null&&oe.push(E[I][C]);if(oe.length==0||_[C]==null){L[C]="?";continue}for(I=0;I<oe.length;++I){switch(typeof oe[I]){case"number":Z="B";break;case"string":Z="C";break;case"boolean":Z="L";break;case"object":Z=oe[I]instanceof Date?"D":"C";break;default:Z="C"}j=Math.max(j,String(oe[I]).length),D=D&&D!=Z?"C":Z}j>250&&(j=250),Z=((A[C]||{}).DBF||{}).type,Z=="C"&&A[C].DBF.len>j&&(j=A[C].DBF.len),D=="B"&&Z=="N"&&(D="N",G[C]=A[C].DBF.dec,j=A[C].DBF.len),q[C]=D=="C"||Z=="N"?j:a[D]||0,k+=q[C],L[C]=D}var le=m.next(32);for(le.write_shift(4,318902576),le.write_shift(4,E.length),le.write_shift(2,296+32*b),le.write_shift(2,k),C=0;C<4;++C)le.write_shift(4,0);for(le.write_shift(4,0|(+t[d4]||3)<<8),C=0,I=0;C<_.length;++C)if(_[C]!=null){var Q=m.next(32),ye=(_[C].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Q.write_shift(1,ye,"sbcs"),Q.write_shift(1,L[C]=="?"?"C":L[C],"sbcs"),Q.write_shift(4,I),Q.write_shift(1,q[C]||a[L[C]]||0),Q.write_shift(1,G[C]||0),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(1,0),Q.write_shift(4,0),Q.write_shift(4,0),I+=q[C]||a[L[C]]||0}var Se=m.next(264);for(Se.write_shift(4,13),C=0;C<65;++C)Se.write_shift(4,0);for(C=0;C<E.length;++C){var ee=m.next(k);for(ee.write_shift(1,0),I=0;I<_.length;++I)if(_[I]!=null)switch(L[I]){case"L":ee.write_shift(1,E[C][I]==null?63:E[C][I]?84:70);break;case"B":ee.write_shift(8,E[C][I]||0,"f");break;case"N":var Be="0";for(typeof E[C][I]=="number"&&(Be=E[C][I].toFixed(G[I]||0)),b=0;b<q[I]-Be.length;++b)ee.write_shift(1,32);ee.write_shift(1,Be,"sbcs");break;case"D":E[C][I]?(ee.write_shift(4,("0000"+E[C][I].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(E[C][I].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+E[C][I].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var Ce=String(E[C][I]!=null?E[C][I]:"").slice(0,q[I]);for(ee.write_shift(1,Ce,"sbcs"),b=0;b<q[I]-Ce.length;++b)ee.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}}(),HB=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Cs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(_,E){var A=e[E];return typeof A=="number"?Uv(A):A},n=function(_,E,A){var C=E.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return C==59?_:Uv(C)};e["|"]=254;function i(_,E){switch(E.type){case"base64":return a(_i(_),E);case"binary":return a(_,E);case"buffer":return a(Ot&&Buffer.isBuffer(_)?_.toString("binary"):Lo(_),E);case"array":return a(To(_),E)}throw new Error("Unrecognized type "+E.type)}function a(_,E){var A=_.split(/[\n\r]+/),C=-1,I=-1,b=0,k=0,S=[],L=[],q=null,G={},D=[],Z=[],j=[],oe=0,le;for(+E.codepage>=0&&ns(+E.codepage);b!==A.length;++b){oe=0;var Q=A[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),ye=Q.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),Se=ye[0],ee;if(Q.length>0)switch(Se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ye[1].charAt(0)=="P"&&L.push(Q.slice(3).replace(/;;/g,";"));break;case"C":var Be=!1,Ce=!1,Ae=!1,ne=!1,ke=-1,ce=-1;for(k=1;k<ye.length;++k)switch(ye[k].charAt(0)){case"A":break;case"X":I=parseInt(ye[k].slice(1))-1,Ce=!0;break;case"Y":for(C=parseInt(ye[k].slice(1))-1,Ce||(I=0),le=S.length;le<=C;++le)S[le]=[];break;case"K":ee=ye[k].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(ls(ee))?isNaN(zl(ee).getDate())||(ee=an(ee)):(ee=ls(ee),q!==null&&ic(q)&&(ee=ud(ee))),Be=!0;break;case"E":ne=!0;var B=kl(ye[k].slice(1),{r:C,c:I});S[C][I]=[S[C][I],B];break;case"S":Ae=!0,S[C][I]=[S[C][I],"S5S"];break;case"G":break;case"R":ke=parseInt(ye[k].slice(1))-1;break;case"C":ce=parseInt(ye[k].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Q)}if(Be&&(S[C][I]&&S[C][I].length==2?S[C][I][0]=ee:S[C][I]=ee,q=null),Ae){if(ne)throw new Error("SYLK shared formula cannot have own formula");var se=ke>-1&&S[ke][ce];if(!se||!se[1])throw new Error("SYLK shared formula cannot find base");S[C][I][1]=AS(se[1],{r:C-ke,c:I-ce})}break;case"F":var K=0;for(k=1;k<ye.length;++k)switch(ye[k].charAt(0)){case"X":I=parseInt(ye[k].slice(1))-1,++K;break;case"Y":for(C=parseInt(ye[k].slice(1))-1,le=S.length;le<=C;++le)S[le]=[];break;case"M":oe=parseInt(ye[k].slice(1))/20;break;case"F":break;case"G":break;case"P":q=L[parseInt(ye[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(j=ye[k].slice(1).split(" "),le=parseInt(j[0],10);le<=parseInt(j[1],10);++le)oe=parseInt(j[2],10),Z[le-1]=oe===0?{hidden:!0}:{wch:oe},Gl(Z[le-1]);break;case"C":I=parseInt(ye[k].slice(1))-1,Z[I]||(Z[I]={});break;case"R":C=parseInt(ye[k].slice(1))-1,D[C]||(D[C]={}),oe>0?(D[C].hpt=oe,D[C].hpx=z0(oe)):oe===0&&(D[C].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Q)}K<1&&(q=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+Q)}}return D.length>0&&(G["!rows"]=D),Z.length>0&&(G["!cols"]=Z),E&&E.sheetRows&&(S=S.slice(0,E.sheetRows)),[S,G]}function l(_,E){var A=i(_,E),C=A[0],I=A[1],b=ac(C,E);return Cs(I).forEach(function(k){b[k]=I[k]}),b}function u(_,E){return za(l(_,E),E)}function g(_,E,A,C){var I="C;Y"+(A+1)+";X"+(C+1)+";K";switch(_.t){case"n":I+=_.v||0,_.f&&!_.F&&(I+=";E"+IU(_.f,{r:A,c:C}));break;case"b":I+=_.v?"TRUE":"FALSE";break;case"e":I+=_.w||_.v;break;case"d":I+='"'+(_.w||_.v)+'"';break;case"s":I+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return I}function p(_,E){E.forEach(function(A,C){var I="F;W"+(C+1)+" "+(C+1)+" ";A.hidden?I+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=Sh(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=Th(A.wpx)),typeof A.wch=="number"&&(I+=Math.round(A.wch))),I.charAt(I.length-1)!=" "&&_.push(I)})}function m(_,E){E.forEach(function(A,C){var I="F;";A.hidden?I+="M0;":A.hpt?I+="M"+20*A.hpt+";":A.hpx&&(I+="M"+20*_S(A.hpx)+";"),I.length>2&&_.push(I+"R"+(C+1))})}function v(_,E){var A=["ID;PWXL;N;E"],C=[],I=br(_["!ref"]),b,k=Array.isArray(_),S=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),_["!cols"]&&p(A,_["!cols"]),_["!rows"]&&m(A,_["!rows"]),A.push("B;Y"+(I.e.r-I.s.r+1)+";X"+(I.e.c-I.s.c+1)+";D"+[I.s.c,I.s.r,I.e.c,I.e.r].join(" "));for(var L=I.s.r;L<=I.e.r;++L)for(var q=I.s.c;q<=I.e.c;++q){var G=ft({r:L,c:q});b=k?(_[L]||[])[q]:_[G],!(!b||b.v==null&&(!b.f||b.F))&&C.push(g(b,_,L,q))}return A.join(S)+S+C.join(S)+S+"E"+S}return{to_workbook:u,to_sheet:l,from_sheet:v}}(),zB=function(){function e(a,l){switch(l.type){case"base64":return t(_i(a),l);case"binary":return t(a,l);case"buffer":return t(Ot&&Buffer.isBuffer(a)?a.toString("binary"):Lo(a),l);case"array":return t(To(a),l)}throw new Error("Unrecognized type "+l.type)}function t(a,l){for(var u=a.split(`
`),g=-1,p=-1,m=0,v=[];m!==u.length;++m){if(u[m].trim()==="BOT"){v[++g]=[],p=0;continue}if(!(g<0)){var _=u[m].trim().split(","),E=_[0],A=_[1];++m;for(var C=u[m]||"";(C.match(/["]/g)||[]).length&1&&m<u.length-1;)C+=`
`+u[++m];switch(C=C.trim(),+E){case-1:if(C==="BOT"){v[++g]=[],p=0;continue}else if(C!=="EOD")throw new Error("Unrecognized DIF special command "+C);break;case 0:C==="TRUE"?v[g][p]=!0:C==="FALSE"?v[g][p]=!1:isNaN(ls(A))?isNaN(zl(A).getDate())?v[g][p]=A:v[g][p]=an(A):v[g][p]=ls(A),++p;break;case 1:C=C.slice(1,C.length-1),C=C.replace(/""/g,'"'),C&&C.match(/^=".*"$/)&&(C=C.slice(2,-1)),v[g][p++]=C!==""?C:null;break}if(C==="EOD")break}}return l&&l.sheetRows&&(v=v.slice(0,l.sheetRows)),v}function r(a,l){return ac(e(a,l),l)}function n(a,l){return za(r(a,l),l)}var i=function(){var a=function(g,p,m,v,_){g.push(p),g.push(m+","+v),g.push('"'+_.replace(/"/g,'""')+'"')},l=function(g,p,m,v){g.push(p+","+m),g.push(p==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(g){var p=[],m=br(g["!ref"]),v,_=Array.isArray(g);a(p,"TABLE",0,1,"sheetjs"),a(p,"VECTORS",0,m.e.r-m.s.r+1,""),a(p,"TUPLES",0,m.e.c-m.s.c+1,""),a(p,"DATA",0,0,"");for(var E=m.s.r;E<=m.e.r;++E){l(p,-1,0,"BOT");for(var A=m.s.c;A<=m.e.c;++A){var C=ft({r:E,c:A});if(v=_?(g[E]||[])[A]:g[C],!v){l(p,1,0,"");continue}switch(v.t){case"n":var I=v.w;!I&&v.v!=null&&(I=v.v),I==null?v.f&&!v.F?l(p,1,0,"="+v.f):l(p,1,0,""):l(p,0,I,"V");break;case"b":l(p,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":l(p,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Vi(v.z||mt[14],Gn(an(v.v)))),l(p,0,v.w,"V");break;default:l(p,1,0,"")}}}l(p,-1,0,"EOD");var b=`\r
`,k=p.join(b);return k}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),GB=function(){function e(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,_){for(var E=v.split(`
`),A=-1,C=-1,I=0,b=[];I!==E.length;++I){var k=E[I].trim().split(":");if(k[0]==="cell"){var S=jn(k[1]);if(b.length<=S.r)for(A=b.length;A<=S.r;++A)b[A]||(b[A]=[]);switch(A=S.r,C=S.c,k[2]){case"t":b[A][C]=e(k[3]);break;case"v":b[A][C]=+k[3];break;case"vtf":var L=k[k.length-1];case"vtc":switch(k[3]){case"nl":b[A][C]=!!+k[4];break;default:b[A][C]=+k[4];break}k[2]=="vtf"&&(b[A][C]=[b[A][C],L])}}}return _&&_.sheetRows&&(b=b.slice(0,_.sheetRows)),b}function n(v,_){return ac(r(v,_),_)}function i(v,_){return za(n(v,_),_)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),g="--SocialCalcSpreadsheetControlSave--";function p(v){if(!v||!v["!ref"])return"";for(var _=[],E=[],A,C="",I=sc(v["!ref"]),b=Array.isArray(v),k=I.s.r;k<=I.e.r;++k)for(var S=I.s.c;S<=I.e.c;++S)if(C=ft({r:k,c:S}),A=b?(v[k]||[])[S]:v[C],!(!A||A.v==null||A.t==="z")){switch(E=["cell",C,"t"],A.t){case"s":case"str":E.push(t(A.v));break;case"n":A.f?(E[2]="vtf",E[3]="n",E[4]=A.v,E[5]=t(A.f)):(E[2]="v",E[3]=A.v);break;case"b":E[2]="vt"+(A.f?"f":"c"),E[3]="nl",E[4]=A.v?"1":"0",E[5]=t(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var L=Gn(an(A.v));E[2]="vtc",E[3]="nd",E[4]=""+L,E[5]=A.w||Vi(A.z||mt[14],L);break;case"e":continue}_.push(E.join(":"))}return _.push("sheet:c:"+(I.e.c-I.s.c+1)+":r:"+(I.e.r-I.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function m(v){return[a,l,u,l,p(v),g].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:m}}(),V0=function(){function e(m,v,_,E,A){A.raw?v[_][E]=m:m===""||(m==="TRUE"?v[_][E]=!0:m==="FALSE"?v[_][E]=!1:isNaN(ls(m))?isNaN(zl(m).getDate())?v[_][E]=m:v[_][E]=an(m):v[_][E]=ls(m))}function t(m,v){var _=v||{},E=[];if(!m||m.length===0)return E;for(var A=m.split(/[\r\n]/),C=A.length-1;C>=0&&A[C].length===0;)--C;for(var I=10,b=0,k=0;k<=C;++k)b=A[k].indexOf(" "),b==-1?b=A[k].length:b++,I=Math.max(I,b);for(k=0;k<=C;++k){E[k]=[];var S=0;for(e(A[k].slice(0,I).trim(),E,k,S,_),S=1;S<=(A[k].length-I)/10+1;++S)e(A[k].slice(I+(S-1)*10,I+S*10).trim(),E,k,S,_)}return _.sheetRows&&(E=E.slice(0,_.sheetRows)),E}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(m){for(var v={},_=!1,E=0,A=0;E<m.length;++E)(A=m.charCodeAt(E))==34?_=!_:!_&&A in r&&(v[A]=(v[A]||0)+1);A=[];for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&A.push([v[E],E]);if(!A.length){v=n;for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&A.push([v[E],E])}return A.sort(function(C,I){return C[0]-I[0]||n[C[1]]-n[I[1]]}),r[A.pop()[1]]||44}function a(m,v){var _=v||{},E="",A=_.dense?[]:{},C={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(E=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(E=m.charAt(4),m=m.slice(6)):E=i(m.slice(0,1024)):_&&_.FS?E=_.FS:E=i(m.slice(0,1024));var I=0,b=0,k=0,S=0,L=0,q=E.charCodeAt(0),G=!1,D=0,Z=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var j=_.dateNF!=null?rP(_.dateNF):null;function oe(){var le=m.slice(S,L),Q={};if(le.charAt(0)=='"'&&le.charAt(le.length-1)=='"'&&(le=le.slice(1,-1).replace(/""/g,'"')),le.length===0)Q.t="z";else if(_.raw)Q.t="s",Q.v=le;else if(le.trim().length===0)Q.t="s",Q.v=le;else if(le.charCodeAt(0)==61)le.charCodeAt(1)==34&&le.charCodeAt(le.length-1)==34?(Q.t="s",Q.v=le.slice(2,-1).replace(/""/g,'"')):NU(le)?(Q.t="n",Q.f=le.slice(1)):(Q.t="s",Q.v=le);else if(le=="TRUE")Q.t="b",Q.v=!0;else if(le=="FALSE")Q.t="b",Q.v=!1;else if(!isNaN(k=ls(le)))Q.t="n",_.cellText!==!1&&(Q.w=le),Q.v=k;else if(!isNaN(zl(le).getDate())||j&&le.match(j)){Q.z=_.dateNF||mt[14];var ye=0;j&&le.match(j)&&(le=nP(le,_.dateNF,le.match(j)||[]),ye=1),_.cellDates?(Q.t="d",Q.v=an(le,ye)):(Q.t="n",Q.v=Gn(an(le,ye))),_.cellText!==!1&&(Q.w=Vi(Q.z,Q.v instanceof Date?Gn(Q.v):Q.v)),_.cellNF||delete Q.z}else Q.t="s",Q.v=le;if(Q.t=="z"||(_.dense?(A[I]||(A[I]=[]),A[I][b]=Q):A[ft({c:b,r:I})]=Q),S=L+1,Z=m.charCodeAt(S),C.e.c<b&&(C.e.c=b),C.e.r<I&&(C.e.r=I),D==q)++b;else if(b=0,++I,_.sheetRows&&_.sheetRows<=I)return!0}e:for(;L<m.length;++L)switch(D=m.charCodeAt(L)){case 34:Z===34&&(G=!G);break;case q:case 10:case 13:if(!G&&oe())break e;break}return L-S>0&&oe(),A["!ref"]=Mt(C),A}function l(m,v){return!(v&&v.PRN)||v.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?a(m,v):ac(t(m,v),v)}function u(m,v){var _="",E=v.type=="string"?[0,0,0,0]:Dm(m,v);switch(v.type){case"base64":_=_i(m);break;case"binary":_=m;break;case"buffer":v.codepage==65001?_=m.toString("utf8"):v.codepage&&typeof L0<"u"||(_=Ot&&Buffer.isBuffer(m)?m.toString("binary"):Lo(m));break;case"array":_=To(m);break;case"string":_=m;break;default:throw new Error("Unrecognized type "+v.type)}return E[0]==239&&E[1]==187&&E[2]==191?_=ar(_.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?_=ar(_):v.type=="binary"&&typeof L0<"u",_.slice(0,19)=="socialcalc:version:"?GB.to_sheet(v.type=="string"?_:ar(_),v):l(_,v)}function g(m,v){return za(u(m,v),v)}function p(m){for(var v=[],_=br(m["!ref"]),E,A=Array.isArray(m),C=_.s.r;C<=_.e.r;++C){for(var I=[],b=_.s.c;b<=_.e.c;++b){var k=ft({r:C,c:b});if(E=A?(m[C]||[])[b]:m[k],!E||E.v==null){I.push("          ");continue}for(var S=(E.w||($s(E),E.w)||"").slice(0,10);S.length<10;)S+=" ";I.push(S+(b===0?" ":""))}v.push(I.join(""))}return v.join(`
`)}return{to_workbook:g,to_sheet:u,from_sheet:p}}();function XB(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=HB.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return V0.to_workbook(e,t)}}var i0=function(){function e(B,se,K){if(B){gn(B,B.l||0);for(var te=K.Enum||ke;B.l<B.length;){var ae=B.read_shift(2),Oe=te[ae]||te[65535],We=B.read_shift(2),je=B.l+We,Re=Oe.f&&Oe.f(B,We,K);if(B.l=je,se(Re,Oe,ae))return}}}function t(B,se){switch(se.type){case"base64":return r(ts(_i(B)),se);case"binary":return r(ts(B),se);case"buffer":case"array":return r(B,se)}throw"Unsupported type "+se.type}function r(B,se){if(!B)return B;var K=se||{},te=K.dense?[]:{},ae="Sheet1",Oe="",We=0,je={},Re=[],et=[],Y={s:{r:0,c:0},e:{r:0,c:0}},Ze=K.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)K.Enum=ke,e(B,function(Ie,tt,Ye){switch(Ye){case 0:K.vers=Ie,Ie>=4096&&(K.qpro=!0);break;case 6:Y=Ie;break;case 204:Ie&&(Oe=Ie);break;case 222:Oe=Ie;break;case 15:case 51:K.qpro||(Ie[1].v=Ie[1].v.slice(1));case 13:case 14:case 16:Ye==14&&(Ie[2]&112)==112&&(Ie[2]&15)>1&&(Ie[2]&15)<15&&(Ie[1].z=K.dateNF||mt[14],K.cellDates&&(Ie[1].t="d",Ie[1].v=ud(Ie[1].v))),K.qpro&&Ie[3]>We&&(te["!ref"]=Mt(Y),je[ae]=te,Re.push(ae),te=K.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},We=Ie[3],ae=Oe||"Sheet"+(We+1),Oe="");var Fr=K.dense?(te[Ie[0].r]||[])[Ie[0].c]:te[ft(Ie[0])];if(Fr){Fr.t=Ie[1].t,Fr.v=Ie[1].v,Ie[1].z!=null&&(Fr.z=Ie[1].z),Ie[1].f!=null&&(Fr.f=Ie[1].f);break}K.dense?(te[Ie[0].r]||(te[Ie[0].r]=[]),te[Ie[0].r][Ie[0].c]=Ie[1]):te[ft(Ie[0])]=Ie[1];break}},K);else if(B[2]==26||B[2]==14)K.Enum=ce,B[2]==14&&(K.qpro=!0,B.l=0),e(B,function(Ie,tt,Ye){switch(Ye){case 204:ae=Ie;break;case 22:Ie[1].v=Ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ie[3]>We&&(te["!ref"]=Mt(Y),je[ae]=te,Re.push(ae),te=K.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},We=Ie[3],ae="Sheet"+(We+1)),Ze>0&&Ie[0].r>=Ze)break;K.dense?(te[Ie[0].r]||(te[Ie[0].r]=[]),te[Ie[0].r][Ie[0].c]=Ie[1]):te[ft(Ie[0])]=Ie[1],Y.e.c<Ie[0].c&&(Y.e.c=Ie[0].c),Y.e.r<Ie[0].r&&(Y.e.r=Ie[0].r);break;case 27:Ie[14e3]&&(et[Ie[14e3][0]]=Ie[14e3][1]);break;case 1537:et[Ie[0]]=Ie[1],Ie[0]==We&&(ae=Ie[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(te["!ref"]=Mt(Y),je[Oe||ae]=te,Re.push(Oe||ae),!et.length)return{SheetNames:Re,Sheets:je};for(var ct={},ht=[],qe=0;qe<et.length;++qe)je[Re[qe]]?(ht.push(et[qe]||Re[qe]),ct[et[qe]]=je[et[qe]]||je[Re[qe]]):(ht.push(et[qe]),ct[et[qe]]={"!ref":"A1"});return{SheetNames:ht,Sheets:ct}}function n(B,se){var K=se||{};if(+K.codepage>=0&&ns(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var te=qg(),ae=br(B["!ref"]),Oe=Array.isArray(B),We=[];qi(te,0,a(1030)),qi(te,6,g(ae));for(var je=Math.min(ae.e.r,8191),Re=ae.s.r;Re<=je;++Re)for(var et=wn(Re),Y=ae.s.c;Y<=ae.e.c;++Y){Re===ae.s.r&&(We[Y]=$r(Y));var Ze=We[Y]+et,ct=Oe?(B[Re]||[])[Y]:B[Ze];if(!(!ct||ct.t=="z"))if(ct.t=="n")(ct.v|0)==ct.v&&ct.v>=-32768&&ct.v<=32767?qi(te,13,E(Re,Y,ct.v)):qi(te,14,C(Re,Y,ct.v));else{var ht=$s(ct);qi(te,15,v(Re,Y,ht.slice(0,239)))}}return qi(te,1),te.end()}function i(B,se){var K=se||{};if(+K.codepage>=0&&ns(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var te=qg();qi(te,0,l(B));for(var ae=0,Oe=0;ae<B.SheetNames.length;++ae)(B.Sheets[B.SheetNames[ae]]||{})["!ref"]&&qi(te,27,ne(B.SheetNames[ae],Oe++));var We=0;for(ae=0;ae<B.SheetNames.length;++ae){var je=B.Sheets[B.SheetNames[ae]];if(!(!je||!je["!ref"])){for(var Re=br(je["!ref"]),et=Array.isArray(je),Y=[],Ze=Math.min(Re.e.r,8191),ct=Re.s.r;ct<=Ze;++ct)for(var ht=wn(ct),qe=Re.s.c;qe<=Re.e.c;++qe){ct===Re.s.r&&(Y[qe]=$r(qe));var Ie=Y[qe]+ht,tt=et?(je[ct]||[])[qe]:je[Ie];if(!(!tt||tt.t=="z"))if(tt.t=="n")qi(te,23,oe(ct,qe,We,tt.v));else{var Ye=$s(tt);qi(te,22,D(ct,qe,We,Ye.slice(0,239)))}}++We}}return qi(te,1),te.end()}function a(B){var se=Vr(2);return se.write_shift(2,B),se}function l(B){var se=Vr(26);se.write_shift(2,4096),se.write_shift(2,4),se.write_shift(4,0);for(var K=0,te=0,ae=0,Oe=0;Oe<B.SheetNames.length;++Oe){var We=B.SheetNames[Oe],je=B.Sheets[We];if(!(!je||!je["!ref"])){++ae;var Re=sc(je["!ref"]);K<Re.e.r&&(K=Re.e.r),te<Re.e.c&&(te=Re.e.c)}}return K>8191&&(K=8191),se.write_shift(2,K),se.write_shift(1,ae),se.write_shift(1,te),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(1,1),se.write_shift(1,2),se.write_shift(4,0),se.write_shift(4,0),se}function u(B,se,K){var te={s:{c:0,r:0},e:{c:0,r:0}};return se==8&&K.qpro?(te.s.c=B.read_shift(1),B.l++,te.s.r=B.read_shift(2),te.e.c=B.read_shift(1),B.l++,te.e.r=B.read_shift(2),te):(te.s.c=B.read_shift(2),te.s.r=B.read_shift(2),se==12&&K.qpro&&(B.l+=2),te.e.c=B.read_shift(2),te.e.r=B.read_shift(2),se==12&&K.qpro&&(B.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function g(B){var se=Vr(8);return se.write_shift(2,B.s.c),se.write_shift(2,B.s.r),se.write_shift(2,B.e.c),se.write_shift(2,B.e.r),se}function p(B,se,K){var te=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(te[0].c=B.read_shift(1),te[3]=B.read_shift(1),te[0].r=B.read_shift(2),B.l+=2):(te[2]=B.read_shift(1),te[0].c=B.read_shift(2),te[0].r=B.read_shift(2)),te}function m(B,se,K){var te=B.l+se,ae=p(B,se,K);if(ae[1].t="s",K.vers==20768){B.l++;var Oe=B.read_shift(1);return ae[1].v=B.read_shift(Oe,"utf8"),ae}return K.qpro&&B.l++,ae[1].v=B.read_shift(te-B.l,"cstr"),ae}function v(B,se,K){var te=Vr(7+K.length);te.write_shift(1,255),te.write_shift(2,se),te.write_shift(2,B),te.write_shift(1,39);for(var ae=0;ae<te.length;++ae){var Oe=K.charCodeAt(ae);te.write_shift(1,Oe>=128?95:Oe)}return te.write_shift(1,0),te}function _(B,se,K){var te=p(B,se,K);return te[1].v=B.read_shift(2,"i"),te}function E(B,se,K){var te=Vr(7);return te.write_shift(1,255),te.write_shift(2,se),te.write_shift(2,B),te.write_shift(2,K,"i"),te}function A(B,se,K){var te=p(B,se,K);return te[1].v=B.read_shift(8,"f"),te}function C(B,se,K){var te=Vr(13);return te.write_shift(1,255),te.write_shift(2,se),te.write_shift(2,B),te.write_shift(8,K,"f"),te}function I(B,se,K){var te=B.l+se,ae=p(B,se,K);if(ae[1].v=B.read_shift(8,"f"),K.qpro)B.l=te;else{var Oe=B.read_shift(2);L(B.slice(B.l,B.l+Oe),ae),B.l+=Oe}return ae}function b(B,se,K){var te=se&32768;return se&=-32769,se=(te?B:0)+(se>=8192?se-16384:se),(te?"":"$")+(K?$r(se):wn(se))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(B,se){gn(B,0);for(var K=[],te=0,ae="",Oe="",We="",je="";B.l<B.length;){var Re=B[B.l++];switch(Re){case 0:K.push(B.read_shift(8,"f"));break;case 1:Oe=b(se[0].c,B.read_shift(2),!0),ae=b(se[0].r,B.read_shift(2),!1),K.push(Oe+ae);break;case 2:{var et=b(se[0].c,B.read_shift(2),!0),Y=b(se[0].r,B.read_shift(2),!1);Oe=b(se[0].c,B.read_shift(2),!0),ae=b(se[0].r,B.read_shift(2),!1),K.push(et+Y+":"+Oe+ae)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(B.read_shift(2));break;case 6:{for(var Ze="";Re=B[B.l++];)Ze+=String.fromCharCode(Re);K.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:je=K.pop(),We=K.pop(),K.push(["AND","OR"][Re-20]+"("+We+","+je+")");break;default:if(Re<32&&S[Re])je=K.pop(),We=K.pop(),K.push(We+S[Re]+je);else if(k[Re]){if(te=k[Re][1],te==69&&(te=B[B.l++]),te>K.length){console.error("WK1 bad formula parse 0x"+Re.toString(16)+":|"+K.join("|")+"|");return}var ct=K.slice(-te);K.length-=te,K.push(k[Re][0]+"("+ct.join(",")+")")}else return Re<=7?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=24?console.error("WK1 unsupported op "+Re.toString(16)):Re<=30?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=115?console.error("WK1 unsupported function opcode "+Re.toString(16)):console.error("WK1 unrecognized opcode "+Re.toString(16))}}K.length==1?se[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function q(B){var se=[{c:0,r:0},{t:"n",v:0},0];return se[0].r=B.read_shift(2),se[3]=B[B.l++],se[0].c=B[B.l++],se}function G(B,se){var K=q(B);return K[1].t="s",K[1].v=B.read_shift(se-4,"cstr"),K}function D(B,se,K,te){var ae=Vr(6+te.length);ae.write_shift(2,B),ae.write_shift(1,K),ae.write_shift(1,se),ae.write_shift(1,39);for(var Oe=0;Oe<te.length;++Oe){var We=te.charCodeAt(Oe);ae.write_shift(1,We>=128?95:We)}return ae.write_shift(1,0),ae}function Z(B,se){var K=q(B);K[1].v=B.read_shift(2);var te=K[1].v>>1;if(K[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return K[1].v=te,K}function j(B,se){var K=q(B),te=B.read_shift(4),ae=B.read_shift(4),Oe=B.read_shift(2);if(Oe==65535)return te===0&&ae===3221225472?(K[1].t="e",K[1].v=15):te===0&&ae===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var We=Oe&32768;return Oe=(Oe&32767)-16446,K[1].v=(1-We*2)*(ae*Math.pow(2,Oe+32)+te*Math.pow(2,Oe)),K}function oe(B,se,K,te){var ae=Vr(14);if(ae.write_shift(2,B),ae.write_shift(1,K),ae.write_shift(1,se),te==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var Oe=0,We=0,je=0,Re=0;return te<0&&(Oe=1,te=-te),We=Math.log2(te)|0,te/=Math.pow(2,We-31),Re=te>>>0,Re&2147483648||(te/=2,++We,Re=te>>>0),te-=Re,Re|=2147483648,Re>>>=0,te*=Math.pow(2,32),je=te>>>0,ae.write_shift(4,je),ae.write_shift(4,Re),We+=16383+(Oe?32768:0),ae.write_shift(2,We),ae}function le(B,se){var K=j(B);return B.l+=se-14,K}function Q(B,se){var K=q(B),te=B.read_shift(4);return K[1].v=te>>6,K}function ye(B,se){var K=q(B),te=B.read_shift(8,"f");return K[1].v=te,K}function Se(B,se){var K=ye(B);return B.l+=se-10,K}function ee(B,se){return B[B.l+se-1]==0?B.read_shift(se,"cstr"):""}function Be(B,se){var K=B[B.l++];K>se-1&&(K=se-1);for(var te="";te.length<K;)te+=String.fromCharCode(B[B.l++]);return te}function Ce(B,se,K){if(!(!K.qpro||se<21)){var te=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ae=B.read_shift(se-21,"cstr");return[te,ae]}}function Ae(B,se){for(var K={},te=B.l+se;B.l<te;){var ae=B.read_shift(2);if(ae==14e3){for(K[ae]=[0,""],K[ae][0]=B.read_shift(2);B[B.l];)K[ae][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return K}function ne(B,se){var K=Vr(5+B.length);K.write_shift(2,14e3),K.write_shift(2,se);for(var te=0;te<B.length;++te){var ae=B.charCodeAt(te);K[K.l++]=ae>127?95:ae}return K[K.l++]=0,K}var ke={0:{n:"BOF",f:Br},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:I},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:Be},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:Z},25:{n:"FORMULA19",f:le},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Q},38:{n:"??"},39:{n:"NUMBER27",f:ye},40:{n:"FORMULA28",f:Se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function $B(e){var t={},r=e.match(Pn),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=lt(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=cm[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var YB=function(){var e=j0("t"),t=j0("rPr");function r(a){var l=a.match(e);if(!l)return{t:"s",v:""};var u={t:"s",v:Ut(l[1])},g=a.match(t);return g&&(u.s=$B(g[1])),u}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(i).map(r).filter(function(u){return u.v})}}(),KB=function(){var t=/(\r\n|\n)/g;function r(i,a,l){var u=[];i.u&&u.push("text-decoration: underline;"),i.uval&&u.push("text-underline-style:"+i.uval+";"),i.sz&&u.push("font-size:"+i.sz+"pt;"),i.outline&&u.push("text-effect: outline;"),i.shadow&&u.push("text-shadow: auto;"),a.push('<span style="'+u.join("")+'">'),i.b&&(a.push("<b>"),l.push("</b>")),i.i&&(a.push("<i>"),l.push("</i>")),i.strike&&(a.push("<s>"),l.push("</s>"));var g=i.valign||"";return g=="superscript"||g=="super"?g="sup":g=="subscript"&&(g="sub"),g!=""&&(a.push("<"+g+">"),l.push("</"+g+">")),l.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),qB=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ZB=/<(?:\w+:)?r>/,QB=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Tm(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ut(ar(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ar(e),r&&(n.h=xm(n.t))):e.match(ZB)&&(n.r=ar(e),n.t=Ut(ar((e.replace(QB,"").match(qB)||[]).join("").replace(Pn,""))),r&&(n.h=KB(YB(n.r)))),n):{t:""}}var JB=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,eL=/<(?:\w+:)?(?:si|sstItem)>/g,tL=/<\/(?:\w+:)?(?:si|sstItem)>/;function rL(e,t){var r=[],n="";if(!e)return r;var i=e.match(JB);if(i){n=i[2].replace(eL,"").split(tL);for(var a=0;a!=n.length;++a){var l=Tm(n[a].trim(),t);l!=null&&(r[r.length]=l)}i=lt(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function nL(e){return[e.read_shift(4),e.read_shift(4)]}function iL(e,t){var r=[],n=!1;return Zs(e,function(a,l,u){switch(u){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function pS(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Us(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function sL(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function aL(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function oL(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(aL(e));return t}function lL(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function cL(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function uL(e){var t=cL(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function xS(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function mS(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function fL(e){var t=Us(e);switch(t.Minor){case 2:return[t.Minor,hL(e)];case 3:return[t.Minor,dL()];case 4:return[t.Minor,gL(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function hL(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=xS(e,r),i=mS(e,e.length-e.l);return{t:"Std",h:n,v:i}}function dL(){throw new Error("File is password-protected: ECMA-376 Extensible")}function gL(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Pn,function(a){var l=lt(a);switch(Ss(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(u){n[u]=l[u]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function pL(e,t){var r={},n=r.EncryptionVersionInfo=Us(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=xS(e,i),t-=i,r.EncryptionVerifier=mS(e,t),r}function xL(e){var t={},r=t.EncryptionVersionInfo=Us(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function mL(e){var t=0,r,n=pS(e),i=n.length+1,a,l,u,g,p;for(r=Ua(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)l=r[a],u=t&16384?1:0,g=t<<1&32767,p=u|g,t=p^l;return t^52811}var wS=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},i=function(l,u){return n(l^u)},a=function(l){for(var u=t[l.length-1],g=104,p=l.length-1;p>=0;--p)for(var m=l[p],v=0;v!=7;++v)m&64&&(u^=r[g]),m*=2,--g;return u};return function(l){for(var u=pS(l),g=a(u),p=u.length,m=Ua(16),v=0;v!=16;++v)m[v]=0;var _,E,A;for((p&1)===1&&(_=g>>8,m[p]=i(e[0],_),--p,_=g&255,E=u[u.length-1],m[p]=i(E,_));p>0;)--p,_=g>>8,m[p]=i(u[p],_),--p,_=g&255,m[p]=i(u[p],_);for(p=15,A=15-u.length;A>0;)_=g>>8,m[p]=i(e[A],_),--p,--A,_=g&255,m[p]=i(u[p],_),--p,--A;return m}}(),wL=function(e,t,r,n,i){i||(i=t),n||(n=wS(e));var a,l;for(a=0;a!=t.length;++a)l=t[a],l^=n[r],l=(l>>5|l<<3)&255,i[a]=l,++r;return[i,r,n]},vL=function(e){var t=0,r=wS(e);return function(n){var i=wL("",n,t,r);return t=i[1],i[0]}};function yL(e,t,r,n){var i={key:Br(e),verificationBytes:Br(e)};return r.password&&(i.verifier=mL(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=vL(r.password)),i}function _L(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=xL(e):n.Data=pL(e,t),n}function EL(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?_L(e,t-2,n):yL(e,r.biff>=8?t:t-2,r,n),n}var CL=function(){function e(i,a){switch(a.type){case"base64":return t(_i(i),a);case"binary":return t(i,a);case"buffer":return t(Ot&&Buffer.isBuffer(i)?i.toString("binary"):Lo(i),a);case"array":return t(To(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var l=a||{},u=l.dense?[]:{},g=i.match(/\\trowd.*?\\row\b/g);if(!g.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:g.length-1}};return g.forEach(function(m,v){Array.isArray(u)&&(u[v]=[]);for(var _=/\\\w+\b/g,E=0,A,C=-1;A=_.exec(m);){switch(A[0]){case"\\cell":var I=m.slice(E,_.lastIndex-A[0].length);if(I[0]==" "&&(I=I.slice(1)),++C,I.length){var b={v:I,t:"s"};Array.isArray(u)?u[v][C]=b:u[ft({r:v,c:C})]=b}break}E=_.lastIndex}C>p.e.c&&(p.e.c=C)}),u["!ref"]=Mt(p),u}function r(i,a){return za(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],l=br(i["!ref"]),u,g=Array.isArray(i),p=l.s.r;p<=l.e.r;++p){a.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)a.push("\\cellx"+(m+1));for(a.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var v=ft({r:p,c:m});u=g?(i[p]||[])[m]:i[v],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||($s(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function AL(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function H0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function SL(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),l=i-a;if(l===0)return[0,0,t];var u=0,g=0,p=i+a;switch(g=l/(p>1?2-p:p),i){case t:u=((r-n)/l+6)%6;break;case r:u=(n-t)/l+2;break;case n:u=(t-r)/l+4;break}return[u/6,g,p/2]}function TL(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,l=[a,a,a],u=6*t,g;if(r!==0)switch(u|0){case 0:case 6:g=i*u,l[0]+=i,l[1]+=g;break;case 1:g=i*(2-u),l[0]+=g,l[1]+=i;break;case 2:g=i*(u-2),l[1]+=i,l[2]+=g;break;case 3:g=i*(4-u),l[1]+=g,l[2]+=i;break;case 4:g=i*(u-4),l[2]+=i,l[0]+=g;break;case 5:g=i*(6-u),l[2]+=g,l[0]+=i;break}for(var p=0;p!=3;++p)l[p]=Math.round(l[p]*255);return l}function Ah(e,t){if(t===0)return e;var r=SL(AL(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),H0(TL(r))}var vS=6,kL=15,bL=1,Ln=vS;function Sh(e){return Math.floor((e+Math.round(128/Ln)/256)*Ln)}function Th(e){return Math.floor((e-5)/Ln*100+.5)/100}function ep(e){return Math.round((e*Ln+5)/Ln*256)/256}function _1(e){return ep(Th(Sh(e)))}function km(e){var t=Math.abs(e-_1(e)),r=Ln;if(t>.005)for(Ln=bL;Ln<kL;++Ln)Math.abs(e-_1(e))<=t&&(t=Math.abs(e-_1(e)),r=Ln);Ln=r}function Gl(e){e.width?(e.wpx=Sh(e.width),e.wch=Th(e.wpx),e.MDW=Ln):e.wpx?(e.wch=Th(e.wpx),e.width=ep(e.wch),e.MDW=Ln):typeof e.wch=="number"&&(e.width=ep(e.wch),e.wpx=Sh(e.width),e.MDW=Ln),e.customWidth&&delete e.customWidth}var IL=96,yS=IL;function _S(e){return e*96/yS}function z0(e){return e*yS/96}var RL={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function NL(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Pn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},u.diagonalUp&&(i.diagonalUp=gr(u.diagonalUp)),u.diagonalDown&&(i.diagonalDown=gr(u.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in borders")}})}function OL(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Pn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":u.patternType&&(i.patternType=u.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),u.indexed&&(i.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(i.bgColor.theme=parseInt(u.theme,10)),u.tint&&(i.bgColor.tint=parseFloat(u.tint)),u.rgb&&(i.bgColor.rgb=u.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),u.theme&&(i.fgColor.theme=parseInt(u.theme,10)),u.tint&&(i.fgColor.tint=parseFloat(u.tint)),u.rgb!=null&&(i.fgColor.rgb=u.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fills")}})}function DL(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Pn)||[]).forEach(function(l){var u=lt(l);switch(Ss(u[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":u.val&&(i.name=ar(u.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=u.val?gr(u.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=u.val?gr(u.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(u.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=u.val?gr(u.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=u.val?gr(u.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=u.val?gr(u.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=u.val?gr(u.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=u.val?gr(u.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":u.val&&(i.sz=+u.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":u.val&&(i.vertAlign=u.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":u.val&&(i.family=parseInt(u.val,10));break;case"<family/>":case"</family>":break;case"<scheme":u.val&&(i.scheme=u.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(u.val=="1")break;u.codepage=cm[parseInt(u.val,10)];break;case"<color":if(i.color||(i.color={}),u.auto&&(i.color.auto=gr(u.auto)),u.rgb)i.color.rgb=u.rgb.slice(-6);else if(u.indexed){i.color.index=parseInt(u.indexed,10);var g=ho[i.color.index];i.color.index==81&&(g=ho[1]),g||(g=ho[1]),i.color.rgb=g[0].toString(16)+g[1].toString(16)+g[2].toString(16)}else u.theme&&(i.color.theme=parseInt(u.theme,10),u.tint&&(i.color.tint=parseFloat(u.tint)),u.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=Ah(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fonts")}})}function FL(e,t,r){t.NumberFmt=[];for(var n=Cs(mt),i=0;i<n.length;++i)t.NumberFmt[n[i]]=mt[n[i]];var a=e[0].match(Pn);if(a)for(i=0;i<a.length;++i){var l=lt(a[i]);switch(Ss(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var u=Ut(ar(l.formatCode)),g=parseInt(l.numFmtId,10);if(t.NumberFmt[g]=u,g>0){if(g>392){for(g=392;g>60&&t.NumberFmt[g]!=null;--g);t.NumberFmt[g]=u}fo(u,g)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var Qu=["numFmtId","fillId","fontId","borderId","xfId"],Ju=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function PL(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Pn)||[]).forEach(function(a){var l=lt(a),u=0;switch(Ss(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],u=0;u<Qu.length;++u)n[Qu[u]]&&(n[Qu[u]]=parseInt(n[Qu[u]],10));for(u=0;u<Ju.length;++u)n[Ju[u]]&&(n[Ju[u]]=gr(n[Ju[u]]));if(t.NumberFmt&&n.numFmtId>392){for(u=392;u>60;--u)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[u]){n.numFmtId=u;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var g={};l.vertical&&(g.vertical=l.vertical),l.horizontal&&(g.horizontal=l.horizontal),l.textRotation!=null&&(g.textRotation=l.textRotation),l.indent&&(g.indent=l.indent),l.wrapText&&(g.wrapText=gr(l.wrapText)),n.alignment=g;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var ML=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,g,p){var m={};if(!u)return m;u=u.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var v;return(v=u.match(t))&&FL(v,m,p),(v=u.match(i))&&DL(v,m,g,p),(v=u.match(n))&&OL(v,m,g,p),(v=u.match(a))&&NL(v,m,g,p),(v=u.match(r))&&PL(v,m,p),m}}();function BL(e,t){var r=e.read_shift(2),n=Rn(e);return[r,n]}function LL(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=YP(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var u=e.read_shift(1);u>0&&(n.family=u);var g=e.read_shift(1);switch(g>0&&(n.charset=g),e.l++,n.color=$P(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Rn(e),n}var UL=Dn;function jL(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var WL=Dn;function VL(e,t,r){var n={};n.NumberFmt=[];for(var i in mt)n.NumberFmt[i]=mt[i];n.CellXf=[],n.Fonts=[];var a=[],l=!1;return Zs(e,function(g,p,m){switch(m){case 44:n.NumberFmt[g[0]]=g[1],fo(g[1],g[0]);break;case 43:n.Fonts.push(g),g.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(g.color.rgb=Ah(t.themeElements.clrScheme[g.color.theme].rgb,g.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(g);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:a.push(m),l=!0;break;case 38:a.pop(),l=!1;break;default:if(p.T>0)a.push(m);else if(p.T<0)a.pop();else if(!l||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),n}var HL=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function zL(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Pn)||[]).forEach(function(i){var a=lt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[HL.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function GL(){}function XL(){}var $L=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,YL=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,KL=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function qL(e,t,r){t.themeElements={};var n;[["clrScheme",$L,zL],["fontScheme",YL,GL],["fmtScheme",KL,XL]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var ZL=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function ES(e,t){(!e||e.length===0)&&(e=QL());var r,n={};if(!(r=e.match(ZL)))throw new Error("themeElements not found in theme");return qL(r[0],n,t),n.raw=e,n}function QL(e,t){var r=[D4];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function JL(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var l;try{l=O4(a,{type:"array"})}catch{return}var u=pi(l,"theme/theme/theme1.xml",!0);if(u)return ES(u,r)}}function eU(e){return e.read_shift(4)}function tU(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=rU(e,4);break;case 2:t.xclrValue=lS(e);break;case 3:t.xclrValue=eU(e);break;case 4:e.l+=4;break}return e.l+=8,t}function rU(e,t){return Dn(e,t)}function nU(e,t){return Dn(e,t)}function iU(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=tU(e);break;case 6:n[1]=nU(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function sU(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(iU(e,r-e.l));return{ixfe:n,ext:a}}function aU(e,t){t.forEach(function(r){switch(r[0]){}})}function oU(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Rn(e)}}function lU(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function cU(e){return e.l+=4,e.read_shift(4)!=0}function uU(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],l=!1,u=2;return Zs(e,function(g,p,m){switch(m){case 335:n.Types.push({name:g.name});break;case 51:g.forEach(function(v){u==1?n.Cell.push({type:n.Types[v[0]-1].name,index:v[1]}):u==0&&n.Value.push({type:n.Types[v[0]-1].name,index:v[1]})});break;case 337:u=g?1:0;break;case 338:u=2;break;case 35:a.push(m),l=!0;break;case 36:a.pop(),l=!1;break;default:if(!p.T){if(!l||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),n}function fU(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,l;return e.replace(Pn,function(u){var g=lt(u);switch(Ss(g[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:g.name});break;case"</metadataType>":break;case"<futureMetadata":for(var p=0;p<n.Types.length;++p)n.Types[p].name==g.name&&(l=n.Types[p]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[g.t-1].name,index:+g.v}):a==0&&n.Value.push({type:n.Types[g.t-1].name,index:+g.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+g.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+g[0]+" in metadata")}return u}),n}function hU(e){var t=[];if(!e)return t;var r=1;return(e.match(Pn)||[]).forEach(function(n){var i=lt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function dU(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ft(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function gU(e,t,r){var n=[];return Zs(e,function(a,l,u){switch(u){case 63:n.push(a);break;default:if(!l.T)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function pU(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Zs(e,function(u,g,p){switch(p){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!g.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}},i)}function xU(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function Ay(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(l){var u=jn(l.ref);if(i?(e[u.r]||(e[u.r]=[]),a=e[u.r][u.c]):a=e[l.ref],!a){a={t:"z"},i?e[u.r][u.c]=a:e[l.ref]=a;var g=br(e["!ref"]||"BDWGO1000001:A1");g.s.r>u.r&&(g.s.r=u.r),g.e.r<u.r&&(g.e.r=u.r),g.s.c>u.c&&(g.s.c=u.c),g.e.c<u.c&&(g.e.c=u.c);var p=Mt(g);p!==e["!ref"]&&(e["!ref"]=p)}a.c||(a.c=[]);var m={a:l.author,t:l.t,r:l.r,T:r};l.h&&(m.h=l.h);for(var v=a.c.length-1;v>=0;--v){if(!r&&a.c[v].T)return;r&&!a.c[v].T&&a.c.splice(v,1)}if(r&&n){for(v=0;v<n.length;++v)if(m.a==n[v].id){m.a=n[v].name||m.a;break}}a.c.push(m)})}function mU(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&r.push(u[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?comment[^>]*>/);if(u){var g=lt(u[0]),p={author:g.authorId&&r[g.authorId]||"sheetjsghost",ref:g.ref,guid:g.guid},m=jn(g.ref);if(!(t.sheetRows&&t.sheetRows<=m.r)){var v=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),_=!!v&&!!v[1]&&Tm(v[1])||{r:"",t:"",h:""};p.r=_.r,_.r=="<t></t>"&&(_.t=_.h=""),p.t=(_.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(p.h=_.h),n.push(p)}}}}),n}function wU(e,t){var r=[],n=!1,i={},a=0;return e.replace(Pn,function(u,g){var p=lt(u);switch(Ss(p[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:p.personId,guid:p.id,ref:p.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=g+u.length;break;case"</text>":i.t=e.slice(a,g).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+p[0]+" in threaded comments")}return u}),r}function vU(e,t){var r=[],n=!1;return e.replace(Pn,function(a){var l=lt(a);switch(Ss(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),r}function yU(e){var t={};t.iauthor=e.read_shift(4);var r=jo(e);return t.rfx=r.s,t.ref=ft(r.s),e.l+=16,t}var _U=Rn;function EU(e,t){var r=[],n=[],i={},a=!1;return Zs(e,function(u,g,p){switch(p){case 632:n.push(u);break;case 635:i=u;break;case 637:i.t=u.t,i.h=u.h,i.r=u.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!g.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}),r}var CU="application/vnd.ms-office.vbaProject";function AU(e){var t=Pt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Pt.utils.cfb_add(t,i,e.FileIndex[n].content)}}),Pt.write(t)}function SU(){return{"!type":"dialog"}}function TU(){return{"!type":"dialog"}}function kU(){return{"!type":"macro"}}function bU(){return{"!type":"macro"}}var kl=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,l){var u=!1,g=!1;a.length==0?g=!0:a.charAt(0)=="["&&(g=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var p=a.length>0?parseInt(a,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return u?m+=t.c:--m,g?p+=t.r:--p,i+(u?"":"$")+$r(m)+(g?"":"$")+wn(p)}return function(i,a){return t=a,i.replace(e,r)}}(),CS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,IU=function(){return function(t,r){return t.replace(CS,function(n,i,a,l,u,g){var p=ym(l)-(a?0:r.c),m=vm(g)-(u?0:r.r),v=m==0?"":u?m+1:"["+m+"]",_=p==0?"":a?p+1:"["+p+"]";return i+"R"+v+"C"+_})}}();function AS(e,t){return e.replace(CS,function(r,n,i,a,l,u){return n+(i=="$"?i+a:$r(ym(a)+t.c))+(l=="$"?l+u:wn(vm(u)+t.r))})}function RU(e,t,r){var n=sc(t),i=n.s,a=jn(r),l={r:a.r-i.r,c:a.c-i.c};return AS(e,l)}function NU(e){return e.length!=1}function Sy(e){return e.replace(/_xlfn\./g,"")}function Pr(e){e.l+=1}function ja(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function SS(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return TS(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),l=ja(e),u=ja(e);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function TS(e){var t=ja(e),r=ja(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function OU(e,t,r){if(r.biff<8)return TS(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=ja(e),l=ja(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function kS(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return DU(e);var n=e.read_shift(r&&r.biff==12?4:2),i=ja(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function DU(e){var t=ja(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function FU(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function PU(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return MU(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;i>524287;)i-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:l,rRel:u}}function MU(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function BU(e,t,r){var n=(e[e.l++]&96)>>5,i=SS(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function LU(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var l=SS(e,a,r);return[n,i,l]}function UU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function jU(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function WU(e,t,r){var n=(e[e.l++]&96)>>5,i=OU(e,t-1,r);return[n,i]}function VU(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Ty(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function HU(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function zU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function GU(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function XU(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function $U(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function bS(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function YU(e){return e.read_shift(2),bS(e)}function KU(e){return e.read_shift(2),bS(e)}function qU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=kS(e,0,r);return[n,i]}function ZU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=PU(e,0,r);return[n,i]}function QU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=kS(e,0,r);return[n,i,a]}function JU(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[eW[i],NS[i],n]}function ej(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:tj(e);return[i,(a[0]===0?NS:Jj)[a[1]]]}function tj(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function rj(e,t,r){e.l+=r&&r.biff==2?3:4}function nj(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function ij(e){return e.l++,Wo[e.read_shift(1)]}function sj(e){return e.l++,e.read_shift(2)}function aj(e){return e.l++,e.read_shift(1)!==0}function oj(e){return e.l++,bn(e)}function lj(e,t,r){return e.l++,pu(e,t-1,r)}function cj(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Rr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Wo[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=bn(e);break;case 2:r[1]=Vo(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function uj(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?jo:fd)(e));return i}function fj(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var u=0;u!=i;++u)l[a][u]=cj(e,r.biff);return l}function hj(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function dj(e,t,r){if(r.biff==5)return gj(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function gj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function pj(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function xj(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function mj(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function wj(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var vj=Dn,yj=Dn,_j=Dn;function mu(e,t,r){return e.l+=2,[FU(e)]}function bm(e){return e.l+=6,[]}var Ej=mu,Cj=bm,Aj=bm,Sj=mu;function IS(e){return e.l+=2,[Br(e),e.read_shift(2)&1]}var Tj=mu,kj=IS,bj=bm,Ij=mu,Rj=mu,Nj=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Oj(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),l=Nj[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:i,C:a}}function Dj(e){return e.l+=2,[e.read_shift(4)]}function Fj(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Pj(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Mj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Bj(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Lj(e){return e.l+=4,[0,0]}var ky={1:{n:"PtgExp",f:nj},2:{n:"PtgTbl",f:_j},3:{n:"PtgAdd",f:Pr},4:{n:"PtgSub",f:Pr},5:{n:"PtgMul",f:Pr},6:{n:"PtgDiv",f:Pr},7:{n:"PtgPower",f:Pr},8:{n:"PtgConcat",f:Pr},9:{n:"PtgLt",f:Pr},10:{n:"PtgLe",f:Pr},11:{n:"PtgEq",f:Pr},12:{n:"PtgGe",f:Pr},13:{n:"PtgGt",f:Pr},14:{n:"PtgNe",f:Pr},15:{n:"PtgIsect",f:Pr},16:{n:"PtgUnion",f:Pr},17:{n:"PtgRange",f:Pr},18:{n:"PtgUplus",f:Pr},19:{n:"PtgUminus",f:Pr},20:{n:"PtgPercent",f:Pr},21:{n:"PtgParen",f:Pr},22:{n:"PtgMissArg",f:Pr},23:{n:"PtgStr",f:lj},26:{n:"PtgSheet",f:Fj},27:{n:"PtgEndSheet",f:Pj},28:{n:"PtgErr",f:ij},29:{n:"PtgBool",f:aj},30:{n:"PtgInt",f:sj},31:{n:"PtgNum",f:oj},32:{n:"PtgArray",f:VU},33:{n:"PtgFunc",f:JU},34:{n:"PtgFuncVar",f:ej},35:{n:"PtgName",f:hj},36:{n:"PtgRef",f:qU},37:{n:"PtgArea",f:BU},38:{n:"PtgMemArea",f:pj},39:{n:"PtgMemErr",f:vj},40:{n:"PtgMemNoMem",f:yj},41:{n:"PtgMemFunc",f:xj},42:{n:"PtgRefErr",f:mj},43:{n:"PtgAreaErr",f:UU},44:{n:"PtgRefN",f:ZU},45:{n:"PtgAreaN",f:WU},46:{n:"PtgMemAreaN",f:Mj},47:{n:"PtgMemNoMemN",f:Bj},57:{n:"PtgNameX",f:dj},58:{n:"PtgRef3d",f:QU},59:{n:"PtgArea3d",f:LU},60:{n:"PtgRefErr3d",f:wj},61:{n:"PtgAreaErr3d",f:jU},255:{}},Uj={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},jj={1:{n:"PtgElfLel",f:IS},2:{n:"PtgElfRw",f:Ij},3:{n:"PtgElfCol",f:Ej},6:{n:"PtgElfRwV",f:Rj},7:{n:"PtgElfColV",f:Sj},10:{n:"PtgElfRadical",f:Tj},11:{n:"PtgElfRadicalS",f:bj},13:{n:"PtgElfColS",f:Cj},15:{n:"PtgElfColSV",f:Aj},16:{n:"PtgElfRadicalLel",f:kj},25:{n:"PtgList",f:Oj},29:{n:"PtgSxName",f:Dj},255:{}},Wj={0:{n:"PtgAttrNoop",f:Lj},1:{n:"PtgAttrSemi",f:$U},2:{n:"PtgAttrIf",f:GU},4:{n:"PtgAttrChoose",f:HU},8:{n:"PtgAttrGoto",f:zU},16:{n:"PtgAttrSum",f:rj},32:{n:"PtgAttrBaxcel",f:Ty},33:{n:"PtgAttrBaxcel",f:Ty},64:{n:"PtgAttrSpace",f:YU},65:{n:"PtgAttrSpaceSemi",f:KU},128:{n:"PtgAttrIfError",f:XU},255:{}};function wu(e,t,r,n){if(n.biff<8)return Dn(e,t);for(var i=e.l+t,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=fj(e,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=uj(e,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=i-e.l,t!==0&&a.push(Dn(e,t)),a}function vu(e,t,r){for(var n=e.l+t,i,a,l=[];n!=e.l;)t=n-e.l,a=e[e.l],i=ky[a]||ky[Uj[a]],(a===24||a===25)&&(i=(a===24?jj:Wj)[e[e.l+1]]),!i||!i.f?Dn(e,t):l.push([i.n,i.f(e,t,r)]);return l}function Vj(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var Hj={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zj(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function RS(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function by(e,t,r){var n=RS(e,t,r);return n=="#REF"?n:zj(n,r)}function Tn(e,t,r,n,i){var a=i&&i.biff||8,l={s:{c:0,r:0}},u=[],g,p,m,v=0,_=0,E,A="";if(!e[0]||!e[0][0])return"";for(var C=-1,I="",b=0,k=e[0].length;b<k;++b){var S=e[0][b];switch(S[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(g=u.pop(),p=u.pop(),C>=0){switch(e[0][C][1][0]){case 0:I=Sr(" ",e[0][C][1][1]);break;case 1:I=Sr("\r",e[0][C][1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}p=p+I,C=-1}u.push(p+Hj[S[0]]+g);break;case"PtgIsect":g=u.pop(),p=u.pop(),u.push(p+" "+g);break;case"PtgUnion":g=u.pop(),p=u.pop(),u.push(p+","+g);break;case"PtgRange":g=u.pop(),p=u.pop(),u.push(p+":"+g);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=e0(S[1][1],l,i),u.push(t0(m,a));break;case"PtgRefN":m=r?e0(S[1][1],r,i):S[1][1],u.push(t0(m,a));break;case"PtgRef3d":v=S[1][1],m=e0(S[1][2],l,i),A=by(n,v,i),u.push(A+"!"+t0(m,a));break;case"PtgFunc":case"PtgFuncVar":var L=S[1][0],q=S[1][1];L||(L=0),L&=127;var G=L==0?[]:u.slice(-L);u.length-=L,q==="User"&&(q=G.shift()),u.push(q+"("+G.join(",")+")");break;case"PtgBool":u.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(S[1]);break;case"PtgNum":u.push(String(S[1]));break;case"PtgStr":u.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(S[1]);break;case"PtgAreaN":E=ly(S[1][1],r?{s:r}:l,i),u.push(v1(E,i));break;case"PtgArea":E=ly(S[1][1],l,i),u.push(v1(E,i));break;case"PtgArea3d":v=S[1][1],E=S[1][2],A=by(n,v,i),u.push(A+"!"+v1(E,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=S[1][2];var D=(n.names||[])[_-1]||(n[0]||[])[_],Z=D?D.Name:"SH33TJSNAME"+String(_);Z&&Z.slice(0,6)=="_xlfn."&&!i.xlfn&&(Z=Z.slice(6)),u.push(Z);break;case"PtgNameX":var j=S[1][1];_=S[1][2];var oe;if(i.biff<=5)j<0&&(j=-j),n[j]&&(oe=n[j][_]);else{var le="";if(((n[j]||[])[0]||[])[0]==14849||(((n[j]||[])[0]||[])[0]==1025?n[j][_]&&n[j][_].itab>0&&(le=n.SheetNames[n[j][_].itab-1]+"!"):le=n.SheetNames[_-1]+"!"),n[j]&&n[j][_])le+=n[j][_].Name;else if(n[0]&&n[0][_])le+=n[0][_].Name;else{var Q=(RS(n,j,i)||"").split(";;");Q[_-1]?le=Q[_-1]:le+="SH33TJSERRX"}u.push(le);break}oe||(oe={Name:"SH33TJSERRY"}),u.push(oe.Name);break;case"PtgParen":var ye="(",Se=")";if(C>=0){switch(I="",e[0][C][1][0]){case 2:ye=Sr(" ",e[0][C][1][1])+ye;break;case 3:ye=Sr("\r",e[0][C][1][1])+ye;break;case 4:Se=Sr(" ",e[0][C][1][1])+Se;break;case 5:Se=Sr("\r",e[0][C][1][1])+Se;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][C][1][0])}C=-1}u.push(ye+u.pop()+Se);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":m={c:S[1][1],r:S[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[ft(m)]){var Be=n.sharedf[ft(m)];u.push(Tn(Be,l,ee,n,i))}else{var Ce=!1;for(g=0;g!=n.arrayf.length;++g)if(p=n.arrayf[g],!(m.c<p[0].s.c||m.c>p[0].e.c)&&!(m.r<p[0].s.r||m.r>p[0].e.r)){u.push(Tn(p[1],l,ee,n,i)),Ce=!0;break}Ce||u.push(S[1])}break;case"PtgArray":u.push("{"+Vj(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":C=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var Ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&C>=0&&Ae.indexOf(e[0][b][0])==-1){S=e[0][C];var ne=!0;switch(S[1][0]){case 4:ne=!1;case 0:I=Sr(" ",S[1][1]);break;case 5:ne=!1;case 1:I=Sr("\r",S[1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}u.push((ne?I:"")+u.pop()+(ne?"":I)),C=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function Gj(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],Dn(e,t-2)];var u=vu(e,l,r);return t!==l+i&&(a=wu(e,t-l-i,u,r)),e.l=n,[u,a]}function Xj(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],Dn(e,t-2)];var u=vu(e,l,r);return t!==l+i&&(a=wu(e,t-l-i,u,r)),e.l=n,[u,a]}function $j(e,t,r,n){var i=e.l+t,a=vu(e,n,r),l;return i!==e.l&&(l=wu(e,i-e.l,a,r)),[a,l]}function Yj(e,t,r){var n=e.l+t,i,a=e.read_shift(2),l=vu(e,a,r);return a==65535?[[],Dn(e,t-2)]:(t!==a+2&&(i=wu(e,n-a-2,l,r)),[l,i])}function Kj(e){var t;if(Fs(e,e.l+6)!==65535)return[bn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function E1(e,t,r){var n=e.l+t,i=Ts(e);r.biff==2&&++e.l;var a=Kj(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var u=Xj(e,n-e.l,r);return{cell:i,val:a[0],formula:u,shared:l>>3&1,tt:a[1]}}function hd(e,t,r){var n=e.read_shift(4),i=vu(e,n,r),a=e.read_shift(4),l=a>0?wu(e,a,i,r):null;return[i,l]}var qj=hd,dd=hd,Zj=hd,Qj=hd,Jj={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},NS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},eW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Iy(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function C1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var s0={},bl={};function a0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function OS(e,t,r,n,i,a){try{n.cellNF&&(e.z=mt[t])}catch(u){if(n.WTF)throw u}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=an(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(mt[t]==null&&fo(tP[t]||"General",t),e.t==="e")e.w=e.w||Wo[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v);else if(e.t==="d"){var l=Gn(e.v);(l|0)===l?e.w=l.toString(10):e.w=U0(l)}else{if(e.v===void 0)return"";e.w=So(e.v,bl)}else e.t==="d"?e.w=Vi(t,Gn(e.v),bl):e.w=Vi(t,e.v,bl)}catch(u){if(n.WTF)throw u}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ah(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ah(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(n.WTF&&a.Fills)throw u}}}function tW(e,t){var r=br(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Mt(r))}var rW=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,nW=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,iW=/<(?:\w:)?hyperlink [^>]*>/mg,sW=/"(\w*:\w*)"/,aW=/<(?:\w:)?col\b[^>]*[\/]?>/g,oW=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,lW=/<(?:\w:)?pageMargins[^>]*\/>/g,DS=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,cW=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,uW=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function fW(e,t,r,n,i,a,l){if(!e)return e;n||(n={"!id":{}});var u=t.dense?[]:{},g={s:{r:2e6,c:2e6},e:{r:0,c:0}},p="",m="",v=e.match(nW);v?(p=e.slice(0,v.index),m=e.slice(v.index+v[0].length)):p=m=e;var _=p.match(DS);_?Im(_[0],u,i,r):(_=p.match(cW))&&hW(_[0],_[1]||"",u,i,r);var E=(p.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(E>0){var A=p.slice(E,E+50).match(sW);A&&tW(u,A[1])}var C=p.match(uW);C&&C[1]&&wW(C[1],i);var I=[];if(t.cellStyles){var b=p.match(aW);b&&pW(I,b)}v&&vW(v[1],u,t,g,a,l);var k=m.match(oW);k&&(u["!autofilter"]=xW(k[0]));var S=[],L=m.match(rW);if(L)for(E=0;E!=L.length;++E)S[E]=br(L[E].slice(L[E].indexOf('"')+1));var q=m.match(iW);q&&dW(u,q,n);var G=m.match(lW);if(G&&(u["!margins"]=gW(lt(G[0]))),!u["!ref"]&&g.e.c>=g.s.c&&g.e.r>=g.s.r&&(u["!ref"]=Mt(g)),t.sheetRows>0&&u["!ref"]){var D=br(u["!ref"]);t.sheetRows<=+D.e.r&&(D.e.r=t.sheetRows-1,D.e.r>g.e.r&&(D.e.r=g.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>g.e.c&&(D.e.c=g.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Mt(D))}return I.length>0&&(u["!cols"]=I),S.length>0&&(u["!merges"]=S),u}function Im(e,t,r,n){var i=lt(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Ut(ar(i.codeName)))}function hW(e,t,r,n,i){Im(e.slice(0,e.indexOf(">")),r,n,i)}function dW(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=lt(ar(t[i]),!0);if(!a.ref)return;var l=((r||{})["!id"]||[])[a.id];l?(a.Target=l.Target,a.location&&(a.Target+="#"+Ut(a.location))):(a.Target="#"+Ut(a.location),l={Target:a.Target,TargetMode:"Internal"}),a.Rel=l,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var u=br(a.ref),g=u.s.r;g<=u.e.r;++g)for(var p=u.s.c;p<=u.e.c;++p){var m=ft({c:p,r:g});n?(e[g]||(e[g]=[]),e[g][p]||(e[g][p]={t:"z",v:void 0}),e[g][p].l=a):(e[m]||(e[m]={t:"z",v:void 0}),e[m].l=a)}}}function gW(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function pW(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=lt(t[n],!0);i.hidden&&(i.hidden=gr(i.hidden));var a=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,km(i.width)),Gl(i);a<=l;)e[a++]=mn(i)}}function xW(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var mW=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function wW(e,t){t.Views||(t.Views=[{}]),(e.match(mW)||[]).forEach(function(r,n){var i=lt(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),gr(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var vW=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=j0("v"),l=j0("f");return function(g,p,m,v,_,E){for(var A=0,C="",I=[],b=[],k=0,S=0,L=0,q="",G,D,Z=0,j=0,oe,le,Q=0,ye=0,Se=Array.isArray(E.CellXf),ee,Be=[],Ce=[],Ae=Array.isArray(p),ne=[],ke={},ce=!1,B=!!m.sheetStubs,se=g.split(t),K=0,te=se.length;K!=te;++K){C=se[K].trim();var ae=C.length;if(ae!==0){var Oe=0;e:for(A=0;A<ae;++A)switch(C[A]){case">":if(C[A-1]!="/"){++A;break e}if(m&&m.cellStyles){if(D=lt(C.slice(Oe,A),!0),Z=D.r!=null?parseInt(D.r,10):Z+1,j=-1,m.sheetRows&&m.sheetRows<Z)continue;ke={},ce=!1,D.ht&&(ce=!0,ke.hpt=parseFloat(D.ht),ke.hpx=z0(ke.hpt)),D.hidden=="1"&&(ce=!0,ke.hidden=!0),D.outlineLevel!=null&&(ce=!0,ke.level=+D.outlineLevel),ce&&(ne[Z-1]=ke)}break;case"<":Oe=A;break}if(Oe>=A)break;if(D=lt(C.slice(Oe,A),!0),Z=D.r!=null?parseInt(D.r,10):Z+1,j=-1,!(m.sheetRows&&m.sheetRows<Z)){v.s.r>Z-1&&(v.s.r=Z-1),v.e.r<Z-1&&(v.e.r=Z-1),m&&m.cellStyles&&(ke={},ce=!1,D.ht&&(ce=!0,ke.hpt=parseFloat(D.ht),ke.hpx=z0(ke.hpt)),D.hidden=="1"&&(ce=!0,ke.hidden=!0),D.outlineLevel!=null&&(ce=!0,ke.level=+D.outlineLevel),ce&&(ne[Z-1]=ke)),I=C.slice(A).split(e);for(var We=0;We!=I.length&&I[We].trim().charAt(0)=="<";++We);for(I=I.slice(We),A=0;A!=I.length;++A)if(C=I[A].trim(),C.length!==0){if(b=C.match(r),k=A,S=0,L=0,C="<c "+(C.slice(0,1)=="<"?">":"")+C,b!=null&&b.length===2){for(k=0,q=b[1],S=0;S!=q.length&&!((L=q.charCodeAt(S)-64)<1||L>26);++S)k=26*k+L;--k,j=k}else++j;for(S=0;S!=C.length&&C.charCodeAt(S)!==62;++S);if(++S,D=lt(C.slice(0,S),!0),D.r||(D.r=ft({r:Z-1,c:j})),q=C.slice(S),G={t:""},(b=q.match(a))!=null&&b[1]!==""&&(G.v=Ut(b[1])),m.cellFormula){if((b=q.match(l))!=null&&b[1]!==""){if(G.f=Ut(ar(b[1])).replace(/\r\n/g,`
`),m.xlfn||(G.f=Sy(G.f)),b[0].indexOf('t="array"')>-1)G.F=(q.match(i)||[])[1],G.F.indexOf(":")>-1&&Be.push([br(G.F),G.F]);else if(b[0].indexOf('t="shared"')>-1){le=lt(b[0]);var je=Ut(ar(b[1]));m.xlfn||(je=Sy(je)),Ce[parseInt(le.si,10)]=[le,je,D.r]}}else(b=q.match(/<f[^>]*\/>/))&&(le=lt(b[0]),Ce[le.si]&&(G.f=RU(Ce[le.si][1],Ce[le.si][2],D.r)));var Re=jn(D.r);for(S=0;S<Be.length;++S)Re.r>=Be[S][0].s.r&&Re.r<=Be[S][0].e.r&&Re.c>=Be[S][0].s.c&&Re.c<=Be[S][0].e.c&&(G.F=Be[S][1])}if(D.t==null&&G.v===void 0)if(G.f||G.F)G.v=0,G.t="n";else if(B)G.t="z";else continue;else G.t=D.t||"n";switch(v.s.c>j&&(v.s.c=j),v.e.c<j&&(v.e.c=j),G.t){case"n":if(G.v==""||G.v==null){if(!B)continue;G.t="z"}else G.v=parseFloat(G.v);break;case"s":if(typeof G.v>"u"){if(!B)continue;G.t="z"}else oe=s0[parseInt(G.v,10)],G.v=oe.t,G.r=oe.r,m.cellHTML&&(G.h=oe.h);break;case"str":G.t="s",G.v=G.v!=null?ar(G.v):"",m.cellHTML&&(G.h=xm(G.v));break;case"inlineStr":b=q.match(n),G.t="s",b!=null&&(oe=Tm(b[1]))?(G.v=oe.t,m.cellHTML&&(G.h=oe.h)):G.v="";break;case"b":G.v=gr(G.v);break;case"d":m.cellDates?G.v=an(G.v,1):(G.v=Gn(an(G.v,1)),G.t="n");break;case"e":(!m||m.cellText!==!1)&&(G.w=G.v),G.v=eS[G.v];break}if(Q=ye=0,ee=null,Se&&D.s!==void 0&&(ee=E.CellXf[D.s],ee!=null&&(ee.numFmtId!=null&&(Q=ee.numFmtId),m.cellStyles&&ee.fillId!=null&&(ye=ee.fillId))),OS(G,Q,ye,m,_,E),m.cellDates&&Se&&G.t=="n"&&ic(mt[Q])&&(G.t="d",G.v=ud(G.v)),D.cm&&m.xlmeta){var et=(m.xlmeta.Cell||[])[+D.cm-1];et&&et.type=="XLDAPR"&&(G.D=!0)}if(Ae){var Y=jn(D.r);p[Y.r]||(p[Y.r]=[]),p[Y.r][Y.c]=G}else p[D.r]=G}}}}ne.length>0&&(p["!rows"]=ne)}}();function yW(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var _W=jo;function EW(){}function CW(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=GP(e),r}function AW(e){var t=Hi(e);return[t]}function SW(e){var t=Uo(e);return[t]}function TW(e){var t=Hi(e),r=e.read_shift(1);return[t,r,"b"]}function kW(e){var t=Uo(e),r=e.read_shift(1);return[t,r,"b"]}function bW(e){var t=Hi(e),r=e.read_shift(1);return[t,r,"e"]}function IW(e){var t=Uo(e),r=e.read_shift(1);return[t,r,"e"]}function RW(e){var t=Hi(e),r=e.read_shift(4);return[t,r,"s"]}function NW(e){var t=Uo(e),r=e.read_shift(4);return[t,r,"s"]}function OW(e){var t=Hi(e),r=bn(e);return[t,r,"n"]}function FS(e){var t=Uo(e),r=bn(e);return[t,r,"n"]}function DW(e){var t=Hi(e),r=Cm(e);return[t,r,"n"]}function FW(e){var t=Uo(e),r=Cm(e);return[t,r,"n"]}function PW(e){var t=Hi(e),r=_m(e);return[t,r,"is"]}function MW(e){var t=Hi(e),r=Rn(e);return[t,r,"str"]}function BW(e){var t=Uo(e),r=Rn(e);return[t,r,"str"]}function LW(e,t,r){var n=e.l+t,i=Hi(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"b"];if(r.cellFormula){e.l+=2;var u=dd(e,n-e.l,r);l[3]=Tn(u,null,i,r.supbooks,r)}else e.l=n;return l}function UW(e,t,r){var n=e.l+t,i=Hi(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"e"];if(r.cellFormula){e.l+=2;var u=dd(e,n-e.l,r);l[3]=Tn(u,null,i,r.supbooks,r)}else e.l=n;return l}function jW(e,t,r){var n=e.l+t,i=Hi(e);i.r=r["!row"];var a=bn(e),l=[i,a,"n"];if(r.cellFormula){e.l+=2;var u=dd(e,n-e.l,r);l[3]=Tn(u,null,i,r.supbooks,r)}else e.l=n;return l}function WW(e,t,r){var n=e.l+t,i=Hi(e);i.r=r["!row"];var a=Rn(e),l=[i,a,"str"];if(r.cellFormula){e.l+=2;var u=dd(e,n-e.l,r);l[3]=Tn(u,null,i,r.supbooks,r)}else e.l=n;return l}var VW=jo;function HW(e,t){var r=e.l+t,n=jo(e),i=Em(e),a=Rn(e),l=Rn(e),u=Rn(e);e.l=r;var g={rfx:n,relId:i,loc:a,display:u};return l&&(g.Tooltip=l),g}function zW(){}function GW(e,t,r){var n=e.l+t,i=Z4(e),a=e.read_shift(1),l=[i];if(l[2]=a,r.cellFormula){var u=qj(e,n-e.l,r);l[1]=u}else e.l=n;return l}function XW(e,t,r){var n=e.l+t,i=jo(e),a=[i];if(r.cellFormula){var l=Qj(e,n-e.l,r);a[1]=l,e.l=n}else e.l=n;return a}var $W=["left","right","top","bottom","header","footer"];function YW(e){var t={};return $W.forEach(function(r){t[r]=bn(e)}),t}function KW(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function qW(){}function ZW(){}function QW(e,t,r,n,i,a,l){if(!e)return e;var u=t||{};n||(n={"!id":{}});var g=u.dense?[]:{},p,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=!1,_=!1,E,A,C,I,b,k,S,L,q,G=[];u.biff=12,u["!row"]=0;var D=0,Z=!1,j=[],oe={},le=u.supbooks||i.supbooks||[[]];if(le.sharedf=oe,le.arrayf=j,le.SheetNames=i.SheetNames||i.Sheets.map(function(Ae){return Ae.name}),!u.supbooks&&(u.supbooks=le,i.Names))for(var Q=0;Q<i.Names.length;++Q)le[0][Q+1]=i.Names[Q];var ye=[],Se=[],ee=!1;kh[16]={n:"BrtShortReal",f:FS};var Be;if(Zs(e,function(ne,ke,ce){if(!_)switch(ce){case 148:p=ne;break;case 0:E=ne,u.sheetRows&&u.sheetRows<=E.r&&(_=!0),L=wn(I=E.r),u["!row"]=E.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=z0(ne.hpt)),Se[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(A={t:ne[2]},ne[2]){case"n":A.v=ne[1];break;case"s":S=s0[ne[1]],A.v=S.t,A.r=S.r;break;case"b":A.v=!!ne[1];break;case"e":A.v=ne[1],u.cellText!==!1&&(A.w=Wo[A.v]);break;case"str":A.t="s",A.v=ne[1];break;case"is":A.t="s",A.v=ne[1].t;break}if((C=l.CellXf[ne[0].iStyleRef])&&OS(A,C.numFmtId,null,u,a,l),b=ne[0].c==-1?b+1:ne[0].c,u.dense?(g[I]||(g[I]=[]),g[I][b]=A):g[$r(b)+L]=A,u.cellFormula){for(Z=!1,D=0;D<j.length;++D){var B=j[D];E.r>=B[0].s.r&&E.r<=B[0].e.r&&b>=B[0].s.c&&b<=B[0].e.c&&(A.F=Mt(B[0]),Z=!0)}!Z&&ne.length>3&&(A.f=ne[3])}if(m.s.r>E.r&&(m.s.r=E.r),m.s.c>b&&(m.s.c=b),m.e.r<E.r&&(m.e.r=E.r),m.e.c<b&&(m.e.c=b),u.cellDates&&C&&A.t=="n"&&ic(mt[C.numFmtId])){var se=oo(A.v);se&&(A.t="d",A.v=new Date(se.y,se.m-1,se.d,se.H,se.M,se.S,se.u))}Be&&(Be.type=="XLDAPR"&&(A.D=!0),Be=void 0);break;case 1:case 12:if(!u.sheetStubs||v)break;A={t:"z",v:void 0},b=ne[0].c==-1?b+1:ne[0].c,u.dense?(g[I]||(g[I]=[]),g[I][b]=A):g[$r(b)+L]=A,m.s.r>E.r&&(m.s.r=E.r),m.s.c>b&&(m.s.c=b),m.e.r<E.r&&(m.e.r=E.r),m.e.c<b&&(m.e.c=b),Be&&(Be.type=="XLDAPR"&&(A.D=!0),Be=void 0);break;case 176:G.push(ne);break;case 49:Be=((u.xlmeta||{}).Cell||[])[ne-1];break;case 494:var K=n["!id"][ne.relId];for(K?(ne.Target=K.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=K):ne.relId==""&&(ne.Target="#"+ne.loc),I=ne.rfx.s.r;I<=ne.rfx.e.r;++I)for(b=ne.rfx.s.c;b<=ne.rfx.e.c;++b)u.dense?(g[I]||(g[I]=[]),g[I][b]||(g[I][b]={t:"z",v:void 0}),g[I][b].l=ne):(k=ft({c:b,r:I}),g[k]||(g[k]={t:"z",v:void 0}),g[k].l=ne);break;case 426:if(!u.cellFormula)break;j.push(ne),q=u.dense?g[I][b]:g[$r(b)+L],q.f=Tn(ne[1],m,{r:E.r,c:b},le,u),q.F=Mt(ne[0]);break;case 427:if(!u.cellFormula)break;oe[ft(ne[0].s)]=ne[1],q=u.dense?g[I][b]:g[$r(b)+L],q.f=Tn(ne[1],m,{r:E.r,c:b},le,u);break;case 60:if(!u.cellStyles)break;for(;ne.e>=ne.s;)ye[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},ee||(ee=!0,km(ne.w/256)),Gl(ye[ne.e+1]);break;case 161:g["!autofilter"]={ref:Mt(ne)};break;case 476:g["!margins"]=ne;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ne.name&&(i.Sheets[r].CodeName=ne.name),(ne.above||ne.left)&&(g["!outline"]={above:ne.above,left:ne.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ne.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:v=!0;break;case 36:v=!1;break;case 37:v=!0;break;case 38:v=!1;break;default:if(!ke.T){if(!v||u.WTF)throw new Error("Unexpected record 0x"+ce.toString(16))}}},u),delete u.supbooks,delete u["!row"],!g["!ref"]&&(m.s.r<2e6||p&&(p.e.r>0||p.e.c>0||p.s.r>0||p.s.c>0))&&(g["!ref"]=Mt(p||m)),u.sheetRows&&g["!ref"]){var Ce=br(g["!ref"]);u.sheetRows<=+Ce.e.r&&(Ce.e.r=u.sheetRows-1,Ce.e.r>m.e.r&&(Ce.e.r=m.e.r),Ce.e.r<Ce.s.r&&(Ce.s.r=Ce.e.r),Ce.e.c>m.e.c&&(Ce.e.c=m.e.c),Ce.e.c<Ce.s.c&&(Ce.s.c=Ce.e.c),g["!fullref"]=g["!ref"],g["!ref"]=Mt(Ce))}return G.length>0&&(g["!merges"]=G),ye.length>0&&(g["!cols"]=ye),Se.length>0&&(g["!rows"]=Se),g}function JW(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var l=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var i=Ut((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function eV(e,t,r,n,i,a){var l=a||{"!type":"chart"};if(!e)return a;var u=0,g=0,p="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(v){var _=JW(v);m.s.r=m.s.c=0,m.e.c=u,p=$r(u),_[0].forEach(function(E,A){l[p+wn(A)]={t:"n",v:E,z:_[1]},g=A}),m.e.r<g&&(m.e.r=g),++u}),u>0&&(l["!ref"]=Mt(m)),l}function tV(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l,u=e.match(DS);return u&&Im(u[0],a,i,r),(l=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=l[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function rV(e,t){e.l+=10;var r=Rn(e);return{name:r}}function nV(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Zs(e,function(g,p,m){switch(m){case 550:a["!rel"]=g;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),g.name&&(i.Sheets[r].CodeName=g.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(p.T>0)){if(!(p.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var PS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],iV=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],sV=[],aV=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Ry(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=gr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function Ny(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=gr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function MS(e){Ny(e.WBProps,PS),Ny(e.CalcPr,aV),Ry(e.WBView,iV),Ry(e.Sheets,sV),bl.date1904=gr(e.WBProps.date1904)}var oV="][*?/\\".split("");function lV(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return oV.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var cV=/<\w+:workbook/;function uV(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},l=0;if(e.replace(Pn,function(g,p){var m=lt(g);switch(Ss(m[0])){case"<?xml":break;case"<workbook":g.match(cV)&&(i="xmlns"+g.match(/<(\w+):/)[1]),r.xmlns=m[i];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":PS.forEach(function(v){if(m[v[0]]!=null)switch(v[2]){case"bool":r.WBProps[v[0]]=gr(m[v[0]]);break;case"int":r.WBProps[v[0]]=parseInt(m[v[0]],10);break;default:r.WBProps[v[0]]=m[v[0]]}}),m.codeName&&(r.WBProps.CodeName=ar(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=Ut(ar(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=ar(m.name),m.comment&&(a.Comment=m.comment),m.localSheetId&&(a.Sheet=+m.localSheetId),gr(m.hidden||"0")&&(a.Hidden=!0),l=p+g.length;break;case"</definedName>":a.Ref=Ut(ar(e.slice(l,p))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return g}),bP.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return MS(r),r}function fV(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Zg(e),r.name=Rn(e),r}function hV(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Rn(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function dV(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function gV(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=XP(e),l=Zj(e,0,r),u=Em(e);e.l=n;var g={Name:a,Ptg:l};return i<268435455&&(g.Sheet=i),u&&(g.Comment=u),g}function pV(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],l=[[]];return l.SheetNames=[],l.XTI=[],kh[16]={n:"BrtFRTArchID$",f:dV},Zs(e,function(g,p,m){switch(m){case 156:l.SheetNames.push(g.name),r.Sheets.push(g);break;case 153:r.WBProps=g;break;case 39:g.Sheet!=null&&(t.SID=g.Sheet),g.Ref=Tn(g.Ptg,null,null,l,t),delete t.SID,delete g.Ptg,a.push(g);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([m,g]):l[0]=[m,g],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(g),l.XTI=l.XTI.concat(g);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(m),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(m),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!p.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},t),MS(r),r.Names=a,r.supbooks=l,r}function xV(e,t,r){return t.slice(-4)===".bin"?pV(e,r):uV(e,r)}function mV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?QW(e,n,r,i,a,l,u):fW(e,n,r,i,a,l,u)}function wV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?nV(e,n,r,i,a):tV(e,n,r,i,a)}function vV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?kU():bU()}function yV(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?SU():TU()}function _V(e,t,r,n){return t.slice(-4)===".bin"?VL(e,r,n):ML(e,r,n)}function EV(e,t,r){return ES(e,r)}function CV(e,t,r){return t.slice(-4)===".bin"?iL(e,r):rL(e,r)}function AV(e,t,r){return t.slice(-4)===".bin"?EU(e,r):mU(e,r)}function SV(e,t,r){return t.slice(-4)===".bin"?gU(e):hU(e)}function TV(e,t,r,n){return r.slice(-4)===".bin"?pU(e,t,r,n):void 0}function kV(e,t,r){return t.slice(-4)===".bin"?uU(e,t,r):fU(e,t,r)}var BS=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,LS=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ki(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(BS),a,l,u,g;if(i)for(g=0;g!=i.length;++g)a=i[g].match(LS),(l=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?u="xmlns"+a[1].slice(6):u=a[1].slice(l+1),n[u]=a[2].slice(1,a[2].length-1));return n}function bV(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(BS),i,a,l,u;if(n)for(u=0;u!=n.length;++u)i=n[u].match(LS),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),r[l]=i[2].slice(1,i[2].length-1));return r}var o0;function IV(e,t){var r=o0[e]||Ut(e);return r==="General"?So(t):Vi(r,t)}function RV(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=gr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=an(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Ut(t)]=i}function NV(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Wo[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v):e.w=So(e.v):e.w=IV(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=o0[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&ic(n)){var i=oo(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function OV(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=RL[n.Pattern]||n.Pattern)}e[t.ID]=t}function DV(e,t,r,n,i,a,l,u,g,p){var m="General",v=n.StyleID,_={};p=p||{};var E=[],A=0;for(v===void 0&&u&&(v=u.StyleID),v===void 0&&l&&(v=l.StyleID);a[v]!==void 0&&(a[v].nf&&(m=a[v].nf),a[v].Interior&&E.push(a[v].Interior),!!a[v].Parent);)v=a[v].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=gr(e);break;case"String":n.t="s",n.r=Jv(Ut(e)),n.v=e.indexOf("<")>-1?Ut(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(an(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Ut(e):n.v<60&&(n.v=n.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=eS[e],p.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=Jv(t||e));break}if(NV(n,m,p),p.cellFormula!==!1)if(n.Formula){var C=Ut(n.Formula);C.charCodeAt(0)==61&&(C=C.slice(1)),n.f=kl(C,i),delete n.Formula,n.ArrayRange=="RC"?n.F=kl("RC:RC",i):n.ArrayRange&&(n.F=kl(n.ArrayRange,i),g.push([br(n.F),n.F]))}else for(A=0;A<g.length;++A)i.r>=g[A][0].s.r&&i.r<=g[A][0].e.r&&i.c>=g[A][0].s.c&&i.c<=g[A][0].e.c&&(n.F=g[A][1]);p.cellStyles&&(E.forEach(function(I){!_.patternType&&I.patternType&&(_.patternType=I.patternType)}),n.s=_),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function FV(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function A1(e,t){var r=t||{};T4();var n=Dc(mm(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ar(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=mn(r);return l.type="string",V0.to_workbook(n,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(tt){i.indexOf("<"+tt)>=0&&(a=!0)}),a)return HV(n,r);o0={"General Number":"General","General Date":mt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":mt[15],"Short Date":mt[14],"Long Time":mt[19],"Medium Time":mt[18],"Short Time":mt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:mt[2],Standard:mt[4],Percent:mt[10],Scientific:mt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,g=[],p,m={},v=[],_=r.dense?[]:{},E="",A={},C={},I=Ki('<Data ss:Type="String">'),b=0,k=0,S=0,L={s:{r:2e6,c:2e6},e:{r:0,c:0}},q={},G={},D="",Z=0,j=[],oe={},le={},Q=0,ye=[],Se=[],ee={},Be=[],Ce,Ae=!1,ne=[],ke=[],ce={},B=0,se=0,K={Sheets:[],WBProps:{date1904:!1}},te={};W0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";u=W0.exec(n);)switch(u[3]=(ae=u[3]).toLowerCase()){case"data":if(ae=="data"){if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break}if(g[g.length-1][1])break;u[1]==="/"?DV(n.slice(b,u.index),D,I,g[g.length-1][0]=="comment"?ee:A,{c:k,r:S},q,Be[k],C,ne,r):(D="",I=Ki(u[0]),b=u.index+u[0].length);break;case"cell":if(u[1]==="/")if(Se.length>0&&(A.c=Se),(!r.sheetRows||r.sheetRows>S)&&A.v!==void 0&&(r.dense?(_[S]||(_[S]=[]),_[S][k]=A):_[$r(k)+wn(S)]=A),A.HRef&&(A.l={Target:Ut(A.HRef)},A.HRefScreenTip&&(A.l.Tooltip=A.HRefScreenTip),delete A.HRef,delete A.HRefScreenTip),(A.MergeAcross||A.MergeDown)&&(B=k+(parseInt(A.MergeAcross,10)|0),se=S+(parseInt(A.MergeDown,10)|0),j.push({s:{c:k,r:S},e:{c:B,r:se}})),!r.sheetStubs)A.MergeAcross?k=B+1:++k;else if(A.MergeAcross||A.MergeDown){for(var Oe=k;Oe<=B;++Oe)for(var We=S;We<=se;++We)(Oe>k||We>S)&&(r.dense?(_[We]||(_[We]=[]),_[We][Oe]={t:"z"}):_[$r(Oe)+wn(We)]={t:"z"});k=B+1}else++k;else A=bV(u[0]),A.Index&&(k=+A.Index-1),k<L.s.c&&(L.s.c=k),k>L.e.c&&(L.e.c=k),u[0].slice(-2)==="/>"&&++k,Se=[];break;case"row":u[1]==="/"||u[0].slice(-2)==="/>"?(S<L.s.r&&(L.s.r=S),S>L.e.r&&(L.e.r=S),u[0].slice(-2)==="/>"&&(C=Ki(u[0]),C.Index&&(S=+C.Index-1)),k=0,++S):(C=Ki(u[0]),C.Index&&(S=+C.Index-1),ce={},(C.AutoFitHeight=="0"||C.Height)&&(ce.hpx=parseInt(C.Height,10),ce.hpt=_S(ce.hpx),ke[S]=ce),C.Hidden=="1"&&(ce.hidden=!0,ke[S]=ce));break;case"worksheet":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));v.push(E),L.s.r<=L.e.r&&L.s.c<=L.e.c&&(_["!ref"]=Mt(L),r.sheetRows&&r.sheetRows<=L.e.r&&(_["!fullref"]=_["!ref"],L.e.r=r.sheetRows-1,_["!ref"]=Mt(L))),j.length&&(_["!merges"]=j),Be.length>0&&(_["!cols"]=Be),ke.length>0&&(_["!rows"]=ke),m[E]=_}else L={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=k=0,g.push([u[3],!1]),p=Ki(u[0]),E=Ut(p.Name),_=r.dense?[]:{},j=[],ne=[],ke=[],te={name:E,Hidden:0},K.Sheets.push(te);break;case"table":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else{if(u[0].slice(-2)=="/>")break;g.push([u[3],!1]),Be=[],Ae=!1}break;case"style":u[1]==="/"?OV(q,G,r):G=Ki(u[0]);break;case"numberformat":G.nf=Ut(Ki(u[0]).Format||"General"),o0[G.nf]&&(G.nf=o0[G.nf]);for(var je=0;je!=392&&mt[je]!=G.nf;++je);if(je==392){for(je=57;je!=392;++je)if(mt[je]==null){fo(G.nf,je);break}}break;case"column":if(g[g.length-1][0]!=="table")break;if(Ce=Ki(u[0]),Ce.Hidden&&(Ce.hidden=!0,delete Ce.Hidden),Ce.Width&&(Ce.wpx=parseInt(Ce.Width,10)),!Ae&&Ce.wpx>10){Ae=!0,Ln=vS;for(var Re=0;Re<Be.length;++Re)Be[Re]&&Gl(Be[Re])}Ae&&Gl(Ce),Be[Ce.Index-1||Be.length]=Ce;for(var et=0;et<+Ce.Span;++et)Be[Be.length]=mn(Ce);break;case"namedrange":if(u[1]==="/")break;K.Names||(K.Names=[]);var Y=lt(u[0]),Ze={Name:Y.Name,Ref:kl(Y.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Ze.Sheet=K.Sheets.length-1),K.Names.push(Ze);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(u[0].slice(-2)==="/>")break;u[1]==="/"?D+=n.slice(Z,u.index):Z=u.index+u[0].length;break;case"interior":if(!r.cellStyles)break;G.Interior=Ki(u[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(u[0].slice(-2)==="/>")break;u[1]==="/"?mM(oe,ae,n.slice(Q,u.index)):Q=u.index+u[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else g.push([u[3],!1]);break;case"comment":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));FV(ee),Se.push(ee)}else g.push([u[3],!1]),p=Ki(u[0]),ee={a:p.Author};break;case"autofilter":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else if(u[0].charAt(u[0].length-2)!=="/"){var ct=Ki(u[0]);_["!autofilter"]={ref:kl(ct.Range).replace(/\$/g,"")},g.push([u[3],!0])}break;case"name":break;case"datavalidation":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(u[1]==="/"){if((p=g.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&g.push([u[3],!0]);break;case"null":break;default:if(g.length==0&&u[3]=="document"||g.length==0&&u[3]=="uof")return By(n,r);var ht=!0;switch(g[g.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ht=!1}break;case"componentoptions":switch(u[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ht=!1}break;case"excelworkbook":switch(u[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ht=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":break;case"height":break;case"width":break;default:ht=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if(u[0].slice(-2)!=="/>")if(u[1]==="/")switch(n.slice(Q,u.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else Q=u.index+u[0].length;break;case"header":_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(_["!margins"].header=+lt(u[0]).Margin);break;case"footer":_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+lt(u[0]).Margin)||(_["!margins"].footer=+lt(u[0]).Margin);break;case"pagemargins":var qe=lt(u[0]);_["!margins"]||a0(_["!margins"]={},"xlml"),isNaN(+qe.Top)||(_["!margins"].top=+qe.Top),isNaN(+qe.Left)||(_["!margins"].left=+qe.Left),isNaN(+qe.Right)||(_["!margins"].right=+qe.Right),isNaN(+qe.Bottom)||(_["!margins"].bottom=+qe.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":_["!outline"]||(_["!outline"]={}),_["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ht=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ht=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ht=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ht=!1}break;case"querytable":switch(u[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ht=!1}break;case"datavalidation":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ht=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ht=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ht=!1}break;case"smarttags":break;default:ht=!1;break}if(ht||u[3].match(/!\[CDATA/))break;if(!g[g.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+g.join("|");if(g[g.length-1][0]==="customdocumentproperties"){if(u[0].slice(-2)==="/>")break;u[1]==="/"?RV(le,ae,ye,n.slice(Q,u.index)):(ye=u,Q=u.index+u[0].length);break}if(r.WTF)throw"Unrecognized tag: "+u[3]+"|"+g.join("|")}var Ie={};return!r.bookSheets&&!r.bookProps&&(Ie.Sheets=m),Ie.SheetNames=v,Ie.Workbook=K,Ie.SSF=mn(mt),Ie.Props=oe,Ie.Custprops=le,Ie}function tp(e,t){switch(Om(t=t||{}),t.type||"base64"){case"base64":return A1(_i(e),t);case"binary":case"buffer":case"file":return A1(e,t);case"array":return A1(Lo(e),t)}}function PV(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=KP(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=qP(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var MV=[60,1084,2066,2165,2175];function BV(e,t,r,n,i){var a=n,l=[],u=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&u.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(u)}l.push(u),r.l+=a;for(var g=Fs(r,r.l),p=rp[g],m=0;p!=null&&MV.indexOf(g)>-1;)a=Fs(r,r.l+2),m=r.l+4,g==2066?m+=4:(g==2165||g==2175)&&(m+=12),u=r.slice(m,r.l+4+a),l.push(u),r.l+=4+a,p=rp[g=Fs(r,r.l)];var v=ua(l);gn(v,0);var _=0;v.lens=[];for(var E=0;E<l.length;++E)v.lens.push(_),_+=l[E].length;if(v.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+v.length+" < "+n;return t.f(v,v.length,i)}function gs(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=mt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Wo[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=U0(e.v):e.w=So(e.v):e.w=Vi(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&ic(mt[n]||String(n))){var i=oo(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function ef(e,t,r){return{v:e,ixfe:t,t:r}}function LV(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},l={},u=null,g=[],p="",m={},v,_="",E,A,C,I,b={},k=[],S,L,q=[],G=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},Z={},j=function(dt){return dt<8?ho[dt]:dt<64&&G[dt-8]||ho[dt]},oe=function(dt,$t,cn){var pt=$t.XF.data;if(!(!pt||!pt.patternType||!cn||!cn.cellStyles)){$t.s={},$t.s.patternType=pt.patternType;var Me;(Me=H0(j(pt.icvFore)))&&($t.s.fgColor={rgb:Me}),(Me=H0(j(pt.icvBack)))&&($t.s.bgColor={rgb:Me})}},le=function(dt,$t,cn){if(!(ce>1)&&!(cn.sheetRows&&dt.r>=cn.sheetRows)){if(cn.cellStyles&&$t.XF&&$t.XF.data&&oe(dt,$t,cn),delete $t.ixfe,delete $t.XF,v=dt,_=ft(dt),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),dt.r<l.s.r&&(l.s.r=dt.r),dt.c<l.s.c&&(l.s.c=dt.c),dt.r+1>l.e.r&&(l.e.r=dt.r+1),dt.c+1>l.e.c&&(l.e.c=dt.c+1),cn.cellFormula&&$t.f){for(var pt=0;pt<k.length;++pt)if(!(k[pt][0].s.c>dt.c||k[pt][0].s.r>dt.r)&&!(k[pt][0].e.c<dt.c||k[pt][0].e.r<dt.r)){$t.F=Mt(k[pt][0]),(k[pt][0].s.c!=dt.c||k[pt][0].s.r!=dt.r)&&delete $t.f,$t.f&&($t.f=""+Tn(k[pt][1],l,dt,ne,Q));break}}cn.dense?(i[dt.r]||(i[dt.r]=[]),i[dt.r][dt.c]=$t):i[_]=$t}},Q={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(Q.password=t.password);var ye,Se=[],ee=[],Be=[],Ce=[],Ae=!1,ne=[];ne.SheetNames=Q.snames,ne.sharedf=Q.sharedf,ne.arrayf=Q.arrayf,ne.names=[],ne.XTI=[];var ke=0,ce=0,B=0,se=[],K=[],te;Q.codepage=1200,ns(1200);for(var ae=!1;e.l<e.length-1;){var Oe=e.l,We=e.read_shift(2);if(We===0&&ke===10)break;var je=e.l===e.length?0:e.read_shift(2),Re=rp[We];if(Re&&Re.f){if(t.bookSheets&&ke===133&&We!==133)break;if(ke=We,Re.r===2||Re.r==12){var et=e.read_shift(2);if(je-=2,!Q.enc&&et!==We&&((et&255)<<8|et>>8)!==We)throw new Error("rt mismatch: "+et+"!="+We);Re.r==12&&(e.l+=10,je-=10)}var Y={};if(We===10?Y=Re.f(e,je,Q):Y=BV(We,Re,e,je,Q),ce==0&&[9,521,1033,2057].indexOf(ke)===-1)continue;switch(We){case 34:r.opts.Date1904=D.WBProps.date1904=Y;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(Q.enc||(e.l=0),Q.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:Q.lastuser=Y;break;case 66:var Ze=Number(Y);switch(Ze){case 21010:Ze=1200;break;case 32768:Ze=1e4;break;case 32769:Ze=1252;break}ns(Q.codepage=Ze),ae=!0;break;case 317:Q.rrtabid=Y;break;case 25:Q.winlocked=Y;break;case 439:r.opts.RefreshAll=Y;break;case 12:r.opts.CalcCount=Y;break;case 16:r.opts.CalcDelta=Y;break;case 17:r.opts.CalcIter=Y;break;case 13:r.opts.CalcMode=Y;break;case 14:r.opts.CalcPrecision=Y;break;case 95:r.opts.CalcSaveRecalc=Y;break;case 15:Q.CalcRefMode=Y;break;case 2211:r.opts.FullCalc=Y;break;case 129:Y.fDialog&&(i["!type"]="dialog"),Y.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Y.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:q.push(Y);break;case 430:ne.push([Y]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(Y);break;case 24:case 536:te={Name:Y.Name,Ref:Tn(Y.rgce,l,null,ne,Q)},Y.itab>0&&(te.Sheet=Y.itab-1),ne.names.push(te),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(K[Y.itab-1]={ref:Mt(Y.rgce[0][0][1][2])});break;case 22:Q.ExternCount=Y;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(Y),ne.XTI=ne.XTI.concat(Y);break;case 2196:if(Q.biff<8)break;te!=null&&(te.Comment=Y[1]);break;case 18:i["!protect"]=Y;break;case 19:Y!==0&&Q.WTF&&console.error("Password verifier: "+Y);break;case 133:a[Y.pos]=Y,Q.snames.push(Y.name);break;case 10:{if(--ce)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=Mt(l),t.sheetRows&&t.sheetRows<=l.e.r){var ct=l.e.r;l.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Mt(l),l.e.r=ct}l.e.r++,l.e.c++}Se.length>0&&(i["!merges"]=Se),ee.length>0&&(i["!objects"]=ee),Be.length>0&&(i["!cols"]=Be),Ce.length>0&&(i["!rows"]=Ce),D.Sheets.push(Z)}p===""?m=i:n[p]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(Q.biff===8&&(Q.biff={9:2,521:3,1033:4}[We]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),Q.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(Q.biff=5,ae=!0,ns(Q.codepage=28591)),Q.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(Q.biff=2),ce++)break;if(i=t.dense?[]:{},Q.biff<8&&!ae&&(ae=!0,ns(Q.codepage=t.codepage||1252)),Q.biff<5||Y.BIFFVer==0&&Y.dt==4096){p===""&&(p="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var ht={pos:e.l-je,name:p};a[ht.pos]=ht,Q.snames.push(p)}else p=(a[Oe]||{name:""}).name;Y.dt==32&&(i["!type"]="chart"),Y.dt==64&&(i["!type"]="macro"),Se=[],ee=[],Q.arrayf=k=[],Be=[],Ce=[],Ae=!1,Z={Hidden:(a[Oe]||{hs:0}).hs,name:p}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[Y.r]||[])[Y.c]:i[ft({c:Y.c,r:Y.r})])&&++Y.c,S={ixfe:Y.ixfe,XF:q[Y.ixfe]||{},v:Y.val,t:"n"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 5:case 517:S={ixfe:Y.ixfe,XF:q[Y.ixfe],v:Y.val,t:Y.t},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 638:S={ixfe:Y.ixfe,XF:q[Y.ixfe],v:Y.rknum,t:"n"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 189:for(var qe=Y.c;qe<=Y.C;++qe){var Ie=Y.rkrec[qe-Y.c][0];S={ixfe:Ie,XF:q[Ie],v:Y.rkrec[qe-Y.c][1],t:"n"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:qe,r:Y.r},S,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){u=Y;break}if(S=ef(Y.val,Y.cell.ixfe,Y.tt),S.XF=q[S.ixfe],t.cellFormula){var tt=Y.formula;if(tt&&tt[0]&&tt[0][0]&&tt[0][0][0]=="PtgExp"){var Ye=tt[0][0][1][0],Fr=tt[0][0][1][1],Ge=ft({r:Ye,c:Fr});b[Ge]?S.f=""+Tn(Y.formula,l,Y.cell,ne,Q):S.F=((t.dense?(i[Ye]||[])[Fr]:i[Ge])||{}).F}else S.f=""+Tn(Y.formula,l,Y.cell,ne,Q)}B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le(Y.cell,S,t),u=Y}break;case 7:case 519:if(u)u.val=Y,S=ef(Y,u.cell.ixfe,"s"),S.XF=q[S.ixfe],t.cellFormula&&(S.f=""+Tn(u.formula,l,u.cell,ne,Q)),B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le(u.cell,S,t),u=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(Y);var ln=ft(Y[0].s);if(E=t.dense?(i[Y[0].s.r]||[])[Y[0].s.c]:i[ln],t.cellFormula&&E){if(!u||!ln||!E)break;E.f=""+Tn(Y[1],l,Y[0],ne,Q),E.F=Mt(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(_){if(!u)break;b[ft(u.cell)]=Y[0],E=t.dense?(i[u.cell.r]||[])[u.cell.c]:i[ft(u.cell)],(E||{}).f=""+Tn(Y[0],l,v,ne,Q)}}break;case 253:S=ef(g[Y.isst].t,Y.ixfe,"s"),g[Y.isst].h&&(S.h=g[Y.isst].h),S.XF=q[S.ixfe],B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 513:t.sheetStubs&&(S={ixfe:Y.ixfe,XF:q[Y.ixfe],t:"z"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t));break;case 190:if(t.sheetStubs)for(var oi=Y.c;oi<=Y.C;++oi){var Qt=Y.ixfe[oi-Y.c];S={ixfe:Qt,XF:q[Qt],t:"z"},B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:oi,r:Y.r},S,t)}break;case 214:case 516:case 4:S=ef(Y.val,Y.ixfe,"s"),S.XF=q[S.ixfe],B>0&&(S.z=se[S.ixfe>>8&63]),gs(S,t,r.opts.Date1904),le({c:Y.c,r:Y.r},S,t);break;case 0:case 512:ce===1&&(l=Y);break;case 252:g=Y;break;case 1054:if(Q.biff==4){se[B++]=Y[1];for(var _n=0;_n<B+163&&mt[_n]!=Y[1];++_n);_n>=163&&fo(Y[1],B+163)}else fo(Y[1],Y[0]);break;case 30:{se[B++]=Y;for(var _r=0;_r<B+163&&mt[_r]!=Y;++_r);_r>=163&&fo(Y,B+163)}break;case 229:Se=Se.concat(Y);break;case 93:ee[Y.cmo[0]]=Q.lastobj=Y;break;case 438:Q.lastobj.TxO=Y;break;case 127:Q.lastobj.ImData=Y;break;case 440:for(I=Y[0].s.r;I<=Y[0].e.r;++I)for(C=Y[0].s.c;C<=Y[0].e.c;++C)E=t.dense?(i[I]||[])[C]:i[ft({c:C,r:I})],E&&(E.l=Y[1]);break;case 2048:for(I=Y[0].s.r;I<=Y[0].e.r;++I)for(C=Y[0].s.c;C<=Y[0].e.c;++C)E=t.dense?(i[I]||[])[C]:i[ft({c:C,r:I})],E&&E.l&&(E.l.Tooltip=Y[1]);break;case 28:{if(Q.biff<=5&&Q.biff>=2)break;E=t.dense?(i[Y[0].r]||[])[Y[0].c]:i[ft(Y[0])];var zi=ee[Y[2]];E||(t.dense?(i[Y[0].r]||(i[Y[0].r]=[]),E=i[Y[0].r][Y[0].c]={t:"z"}):E=i[ft(Y[0])]={t:"z"},l.e.r=Math.max(l.e.r,Y[0].r),l.s.r=Math.min(l.s.r,Y[0].r),l.e.c=Math.max(l.e.c,Y[0].c),l.s.c=Math.min(l.s.c,Y[0].c)),E.c||(E.c=[]),A={a:Y[1],t:zi.TxO.t},E.c.push(A)}break;case 2173:aU(q[Y.ixfe],Y.ext);break;case 125:{if(!Q.cellStyles)break;for(;Y.e>=Y.s;)Be[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},Ae||(Ae=!0,km(Y.w/256)),Gl(Be[Y.e+1])}break;case 520:{var Jt={};Y.level!=null&&(Ce[Y.r]=Jt,Jt.level=Y.level),Y.hidden&&(Ce[Y.r]=Jt,Jt.hidden=!0),Y.hpt&&(Ce[Y.r]=Jt,Jt.hpt=Y.hpt,Jt.hpx=z0(Y.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||a0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[We]]=Y;break;case 161:i["!margins"]||a0(i["!margins"]={}),i["!margins"].header=Y.header,i["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(D.Views[0].RTL=!0);break;case 146:G=Y;break;case 2198:ye=Y;break;case 140:L=Y;break;case 442:p?Z.CodeName=Y||Z.name:D.WBProps.CodeName=Y||"ThisWorkbook";break}}else Re||console.error("Missing Info for XLS Record 0x"+We.toString(16)),e.l+=je}return r.SheetNames=Cs(a).sort(function(Xt,dt){return Number(Xt)-Number(dt)}).map(function(Xt){return a[Xt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&K.forEach(function(Xt,dt){r.Sheets[r.SheetNames[dt]]["!autofilter"]=Xt}),r.Strings=g,r.SSF=mn(mt),Q.enc&&(r.Encryption=Q.enc),ye&&(r.Themes=ye),r.Metadata={},L!==void 0&&(r.Metadata.Country=L),ne.names.length>0&&(D.Names=ne.names),r.Workbook=D,r}var Oy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function UV(e,t,r){var n=Pt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=py(n,rM,Oy.DSI);for(var a in i)t[a]=i[a]}catch(p){if(r.WTF)throw p}var l=Pt.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var u=py(l,nM,Oy.SI);for(var g in u)t[g]==null&&(t[g]=u[g])}catch(p){if(r.WTF)throw p}t.HeadingPairs&&t.TitlesOfParts&&(rS(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function US(e,t){t||(t={}),Om(t),g4(),t.codepage&&um(t.codepage);var r,n;if(e.FullPaths){if(Pt.find(e,"/encryption"))throw new Error("File is password-protected");r=Pt.find(e,"!CompObj"),n=Pt.find(e,"/Workbook")||Pt.find(e,"/Book")}else{switch(t.type){case"base64":e=ts(_i(e));break;case"binary":e=ts(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}gn(e,0),n={content:e}}var i,a;if(r&&PV(r),t.bookProps&&!t.bookSheets)i={};else{var l=Ot?"buffer":"array";if(n&&n.content)i=LV(n.content,t);else if((a=Pt.find(e,"PerfectOffice_MAIN"))&&a.content)i=i0.to_workbook(a.content,(t.type=l,t));else if((a=Pt.find(e,"NativeContent_MAIN"))&&a.content)i=i0.to_workbook(a.content,(t.type=l,t));else throw(a=Pt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Pt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=AU(e))}var u={};return e.FullPaths&&UV(e,u,t),i.Props=i.Custprops=u,t.bookFiles&&(i.cfb=e),i}var kh={0:{f:yW},1:{f:AW},2:{f:DW},3:{f:bW},4:{f:TW},5:{f:OW},6:{f:MW},7:{f:RW},8:{f:WW},9:{f:jW},10:{f:LW},11:{f:UW},12:{f:SW},13:{f:FW},14:{f:IW},15:{f:kW},16:{f:FS},17:{f:BW},18:{f:NW},19:{f:_m},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:gV},40:{},42:{},43:{f:LL},44:{f:BL},45:{f:UL},46:{f:WL},47:{f:jL},48:{},49:{f:VP},50:{},51:{f:lU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:gS},62:{f:PW},63:{f:dU},64:{f:qW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Dn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:KW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:CW},148:{f:_W,p:16},151:{f:zW},152:{},153:{f:hV},154:{},155:{},156:{f:fV},157:{},158:{},159:{T:1,f:nL},160:{T:-1},161:{T:1,f:jo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:VW},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oU},336:{T:-1},337:{f:cU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Zg},357:{},358:{},359:{},360:{T:1},361:{},362:{f:dS},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:GW},427:{f:XW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:YW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:EW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:HW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Zg},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_U},633:{T:1},634:{T:-1},635:{T:1,f:yU},636:{T:-1},637:{f:zP},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:rV},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ZW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},rp={6:{f:E1},10:{f:sa},12:{f:Br},13:{f:Br},14:{f:Rr},15:{f:Rr},16:{f:bn},17:{f:Rr},18:{f:Rr},19:{f:Br},20:{f:vy},21:{f:vy},23:{f:dS},24:{f:_y},25:{f:Rr},26:{},27:{},28:{f:wB},29:{},34:{f:Rr},35:{f:yy},38:{f:bn},39:{f:bn},40:{f:bn},41:{f:bn},42:{f:Rr},43:{f:Rr},47:{f:EL},49:{f:JM},51:{f:Br},60:{},61:{f:qM},64:{f:Rr},65:{f:QM},66:{f:Br},77:{},80:{},81:{},82:{},85:{f:Br},89:{},90:{},91:{},92:{f:VM},93:{f:yB},94:{},95:{f:Rr},96:{},97:{},99:{f:Rr},125:{f:gS},128:{f:cB},129:{f:HM},130:{f:Br},131:{f:Rr},132:{f:Rr},133:{f:zM},134:{},140:{f:TB},141:{f:Br},144:{},146:{f:bB},151:{},152:{},153:{},154:{},155:{},156:{f:Br},157:{},158:{},160:{f:DB},161:{f:RB},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:sB},190:{f:aB},193:{f:sa},197:{},198:{},199:{},200:{},201:{},202:{f:Rr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Br},220:{},221:{f:Rr},222:{},224:{f:lB},225:{f:WM},226:{f:sa},227:{},229:{f:vB},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:GM},253:{f:eB},255:{f:XM},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:oS},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Rr},353:{f:sa},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:fB},431:{f:Rr},432:{},433:{},434:{},437:{},438:{f:CB},439:{f:Rr},440:{f:AB},441:{},442:{f:xu},443:{},444:{f:Br},445:{},446:{},448:{f:sa},449:{f:KM,r:2},450:{f:sa},512:{f:my},513:{f:OB},515:{f:uB},516:{f:tB},517:{f:wy},519:{f:FB},520:{f:$M},523:{},545:{f:Ey},549:{f:xy},566:{},574:{f:ZM},638:{f:iB},659:{},1048:{},1054:{f:rB},1084:{},1212:{f:pB},2048:{f:SB},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Zu},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:sa},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:IB,r:12},2173:{f:sU,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Rr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:gB,r:12},2197:{},2198:{f:JL,r:12},2199:{},2200:{},2201:{},2202:{f:xB,r:12},2203:{f:sa},2204:{},2205:{},2206:{},2207:{},2211:{f:YM},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Br},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:NB},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:kB},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:my},1:{},2:{f:LB},3:{f:BB},4:{f:MB},5:{f:wy},7:{f:UB},8:{},9:{f:Zu},11:{},22:{f:Br},30:{f:nB},31:{},32:{},33:{f:Ey},36:{},37:{f:xy},50:{f:jB},62:{},52:{},67:{},68:{f:Br},69:{},86:{},126:{},127:{f:PB},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:WB},223:{},234:{},354:{},421:{},518:{f:E1},521:{f:Zu},536:{f:_y},547:{f:yy},561:{},579:{},1030:{f:E1},1033:{f:Zu},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function qi(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,l=e.next(4);l.write_shift(2,i),l.write_shift(2,a),a>0&&Y4(r)&&e.push(r)}}function Dy(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),l=i.index,u=a&&a.index||e.length,g=uP(e.slice(l,u),/(:?<tr[^>]*>)/i,"<tr>"),p=-1,m=0,v=0,_=0,E={s:{r:1e7,c:1e7},e:{r:0,c:0}},A=[];for(l=0;l<g.length;++l){var C=g[l].trim(),I=C.slice(0,3).toLowerCase();if(I=="<tr"){if(++p,r.sheetRows&&r.sheetRows<=p){--p;break}m=0;continue}if(!(I!="<td"&&I!="<th")){var b=C.split(/<\/t[dh]>/i);for(u=0;u<b.length;++u){var k=b[u].trim();if(k.match(/<t[dh]/i)){for(var S=k,L=0;S.charAt(0)=="<"&&(L=S.indexOf(">"))>-1;)S=S.slice(L+1);for(var q=0;q<A.length;++q){var G=A[q];G.s.c==m&&G.s.r<p&&p<=G.e.r&&(m=G.e.c+1,q=-1)}var D=lt(k.slice(0,k.indexOf(">")));_=D.colspan?+D.colspan:1,((v=+D.rowspan)>1||_>1)&&A.push({s:{r:p,c:m},e:{r:p+(v||1)-1,c:m+_-1}});var Z=D.t||D["data-t"]||"";if(!S.length){m+=_;continue}if(S=P4(S),E.s.r>p&&(E.s.r=p),E.e.r<p&&(E.e.r=p),E.s.c>m&&(E.s.c=m),E.e.c<m&&(E.e.c=m),!S.length){m+=_;continue}var j={t:"s",v:S};r.raw||!S.trim().length||Z=="s"||(S==="TRUE"?j={t:"b",v:!0}:S==="FALSE"?j={t:"b",v:!1}:isNaN(ls(S))?isNaN(zl(S).getDate())||(j={t:"d",v:an(S)},r.cellDates||(j={t:"n",v:Gn(j.v)}),j.z=r.dateNF||mt[14]):j={t:"n",v:ls(S)}),r.dense?(n[p]||(n[p]=[]),n[p][m]=j):n[ft({r:p,c:m})]=j,m+=_}}}}return n["!ref"]=Mt(E),A.length&&(n["!merges"]=A),n}function jV(e,t,r,n){for(var i=e["!merges"]||[],a=[],l=t.s.c;l<=t.e.c;++l){for(var u=0,g=0,p=0;p<i.length;++p)if(!(i[p].s.r>r||i[p].s.c>l)&&!(i[p].e.r<r||i[p].e.c<l)){if(i[p].s.r<r||i[p].s.c<l){u=-1;break}u=i[p].e.r-i[p].s.r+1,g=i[p].e.c-i[p].s.c+1;break}if(!(u<0)){var m=ft({r,c:l}),v=n.dense?(e[r]||[])[l]:e[m],_=v&&v.v!=null&&(v.h||xm(v.w||($s(v),v.w)||""))||"",E={};u>1&&(E.rowspan=u),g>1&&(E.colspan=g),n.editable?_='<span contenteditable="true">'+_+"</span>":v&&(E["data-t"]=v&&v.t||"z",v.v!=null&&(E["data-v"]=v.v),v.z!=null&&(E["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+v.l.Target+'">'+_+"</a>")),E.id=(n.id||"sjs")+"-"+m,a.push(TP("td",_,E))}}var A="<tr>";return A+a.join("")+"</tr>"}var WV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',VV="</body></html>";function HV(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return za(Dy(r[0],t),t);var n=Fm();return r.forEach(function(i,a){Pm(n,Dy(i,t),"Sheet"+(a+1))}),n}function zV(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function GV(e,t){var r=t||{},n=r.header!=null?r.header:WV,i=r.footer!=null?r.footer:VV,a=[n],l=sc(e["!ref"]);r.dense=Array.isArray(e),a.push(zV(e,l,r));for(var u=l.s.r;u<=l.e.r;++u)a.push(jV(e,l,u,r));return a.push("</table>"+i),a.join("")}function jS(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?jn(n.origin):n.origin;i=l.r,a=l.c}var u=t.getElementsByTagName("tr"),g=Math.min(n.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var m=sc(e["!ref"]);p.s.r=Math.min(p.s.r,m.s.r),p.s.c=Math.min(p.s.c,m.s.c),p.e.r=Math.max(p.e.r,m.e.r),p.e.c=Math.max(p.e.c,m.e.c),i==-1&&(p.e.r=i=m.e.r+1)}var v=[],_=0,E=e["!rows"]||(e["!rows"]=[]),A=0,C=0,I=0,b=0,k=0,S=0;for(e["!cols"]||(e["!cols"]=[]);A<u.length&&C<g;++A){var L=u[A];if(Fy(L)){if(n.display)continue;E[C]={hidden:!0}}var q=L.children;for(I=b=0;I<q.length;++I){var G=q[I];if(!(n.display&&Fy(G))){var D=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):P4(G.innerHTML),Z=G.getAttribute("data-z")||G.getAttribute("z");for(_=0;_<v.length;++_){var j=v[_];j.s.c==b+a&&j.s.r<C+i&&C+i<=j.e.r&&(b=j.e.c+1-a,_=-1)}S=+G.getAttribute("colspan")||1,((k=+G.getAttribute("rowspan")||1)>1||S>1)&&v.push({s:{r:C+i,c:b+a},e:{r:C+i+(k||1)-1,c:b+a+(S||1)-1}});var oe={t:"s",v:D},le=G.getAttribute("data-t")||G.getAttribute("t")||"";D!=null&&(D.length==0?oe.t=le||"z":n.raw||D.trim().length==0||le=="s"||(D==="TRUE"?oe={t:"b",v:!0}:D==="FALSE"?oe={t:"b",v:!1}:isNaN(ls(D))?isNaN(zl(D).getDate())||(oe={t:"d",v:an(D)},n.cellDates||(oe={t:"n",v:Gn(oe.v)}),oe.z=n.dateNF||mt[14]):oe={t:"n",v:ls(D)})),oe.z===void 0&&Z!=null&&(oe.z=Z);var Q="",ye=G.getElementsByTagName("A");if(ye&&ye.length)for(var Se=0;Se<ye.length&&!(ye[Se].hasAttribute("href")&&(Q=ye[Se].getAttribute("href"),Q.charAt(0)!="#"));++Se);Q&&Q.charAt(0)!="#"&&(oe.l={Target:Q}),n.dense?(e[C+i]||(e[C+i]=[]),e[C+i][b+a]=oe):e[ft({c:b+a,r:C+i})]=oe,p.e.c<b+a&&(p.e.c=b+a),b+=S}}++C}return v.length&&(e["!merges"]=(e["!merges"]||[]).concat(v)),p.e.r=Math.max(p.e.r,C-1+i),e["!ref"]=Mt(p),C>=g&&(e["!fullref"]=Mt((p.e.r=u.length-A+C-1+i,p))),e}function WS(e,t){var r=t||{},n=r.dense?[]:{};return jS(n,e,t)}function XV(e,t){return za(WS(e,t),t)}function Fy(e){var t="",r=$V(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function $V(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function YV(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ut(t.replace(/<[^>]*>/g,""));return[r]}var Py={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function VS(e,t){var r=t||{},n=mm(e),i=[],a,l,u={name:""},g="",p=0,m,v,_={},E=[],A=r.dense?[]:{},C,I,b={value:""},k="",S=0,L=[],q=-1,G=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},Z=0,j={},oe=[],le={},Q=0,ye=0,Se=[],ee=1,Be=1,Ce=[],Ae={Names:[]},ne={},ke=["",""],ce=[],B={},se="",K=0,te=!1,ae=!1,Oe=0;for(W0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");C=W0.exec(n);)switch(C[3]=C[3].replace(/_.*$/,"")){case"table":case"":C[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?A["!ref"]=Mt(D):A["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=D.e.r&&(A["!fullref"]=A["!ref"],D.e.r=r.sheetRows-1,A["!ref"]=Mt(D)),oe.length&&(A["!merges"]=oe),Se.length&&(A["!rows"]=Se),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),E.push(m.name),_[m.name]=A,ae=!1):C[0].charAt(C[0].length-2)!=="/"&&(m=lt(C[0],!1),q=G=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,A=r.dense?[]:{},oe=[],Se=[],ae=!0);break;case"table-row-group":C[1]==="/"?--Z:++Z;break;case"table-row":case"":if(C[1]==="/"){q+=ee,ee=1;break}if(v=lt(C[0],!1),v.?q=v.-1:q==-1&&(q=0),ee=+v["number-rows-repeated"]||1,ee<10)for(Oe=0;Oe<ee;++Oe)Z>0&&(Se[q+Oe]={level:Z});G=-1;break;case"covered-table-cell":C[1]!=="/"&&++G,r.sheetStubs&&(r.dense?(A[q]||(A[q]=[]),A[q][G]={t:"z"}):A[ft({r:q,c:G})]={t:"z"}),k="",L=[];break;case"table-cell":case"":if(C[0].charAt(C[0].length-2)==="/")++G,b=lt(C[0],!1),Be=parseInt(b["number-columns-repeated"]||"1",10),I={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(I.f=Iy(Ut(b.formula))),(b.||b["value-type"])=="string"&&(I.t="s",I.v=Ut(b["string-value"]||""),r.dense?(A[q]||(A[q]=[]),A[q][G]=I):A[ft({r:q,c:G})]=I),G+=Be-1;else if(C[1]!=="/"){++G,k="",S=0,L=[],Be=1;var We=ee?q+ee-1:q;if(G>D.e.c&&(D.e.c=G),G<D.s.c&&(D.s.c=G),q<D.s.r&&(D.s.r=q),We>D.e.r&&(D.e.r=We),b=lt(C[0],!1),ce=[],B={},I={t:b.||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=Ut(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(Q=parseInt(b["number-matrix-rows-spanned"],10)||0,ye=parseInt(b["number-matrix-columns-spanned"],10)||0,le={s:{r:q,c:G},e:{r:q+Q-1,c:G+ye-1}},I.F=Mt(le),Ce.push([le,I.F])),b.formula)I.f=Iy(b.formula);else for(Oe=0;Oe<Ce.length;++Oe)q>=Ce[Oe][0].s.r&&q<=Ce[Oe][0].e.r&&G>=Ce[Oe][0].s.c&&G<=Ce[Oe][0].e.c&&(I.F=Ce[Oe][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(Q=parseInt(b["number-rows-spanned"],10)||0,ye=parseInt(b["number-columns-spanned"],10)||0,le={s:{r:q,c:G},e:{r:q+Q-1,c:G+ye-1}},oe.push(le)),b["number-columns-repeated"]&&(Be=parseInt(b["number-columns-repeated"],10)),I.t){case"boolean":I.t="b",I.v=gr(b["boolean-value"]);break;case"float":I.t="n",I.v=parseFloat(b.value);break;case"percentage":I.t="n",I.v=parseFloat(b.value);break;case"currency":I.t="n",I.v=parseFloat(b.value);break;case"date":I.t="d",I.v=an(b["date-value"]),r.cellDates||(I.t="n",I.v=Gn(I.v)),I.z="m/d/yy";break;case"time":I.t="n",I.v=oP(b["time-value"])/86400,r.cellDates&&(I.t="d",I.v=ud(I.v)),I.z="HH:MM:SS";break;case"number":I.t="n",I.v=parseFloat(b.);break;default:if(I.t==="string"||I.t==="text"||!I.t)I.t="s",b["string-value"]!=null&&(k=Ut(b["string-value"]),L=[]);else throw new Error("Unsupported value type "+I.t)}}else{if(te=!1,I.t==="s"&&(I.v=k||"",L.length&&(I.R=L),te=S==0),ne.Target&&(I.l=ne),ce.length>0&&(I.c=ce,ce=[]),k&&r.cellText!==!1&&(I.w=k),te&&(I.t="z",delete I.v),(!te||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=q))for(var je=0;je<ee;++je){if(Be=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(A[q+je]||(A[q+je]=[]),A[q+je][G]=je==0?I:mn(I);--Be>0;)A[q+je][G+Be]=mn(I);else for(A[ft({r:q+je,c:G})]=I;--Be>0;)A[ft({r:q+je,c:G+Be})]=mn(I);D.e.c<=G&&(D.e.c=G)}Be=parseInt(b["number-columns-repeated"]||"1",10),G+=Be-1,Be=0,I={},k="",L=[]}ne={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!0]);break;case"annotation":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a;B.t=k,L.length&&(B.R=L),B.a=se,ce.push(B)}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);se="",K=0,k="",S=0,L=[];break;case"creator":C[1]==="/"?se=n.slice(K,C.index):K=C.index+C[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(C[1]==="/"){if((a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&i.push([C[3],!1]);k="",S=0,L=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(C[1]==="/"){if(j[u.name]=g,(a=i.pop())[0]!==C[3])throw"Bad state: "+a}else C[0].charAt(C[0].length-2)!=="/"&&(g="",u=lt(C[0],!1),i.push([C[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=lt(C[0],!1),g+=Py[C[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=lt(C[0],!1),g+=Py[C[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(C[0].slice(-2)==="/>")break;if(C[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":g+=n.slice(p,C.index);break}else p=C.index+C[0].length;break;case"named-range":l=lt(C[0],!1),ke=C1(l["cell-range-address"]);var Re={Name:l.name,Ref:ke[0]+"!"+ke[1]};ae&&(Re.Sheet=E.length),Ae.Names.push(Re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(C[1]==="/"&&(!b||!b["string-value"])){var et=YV(n.slice(S,C.index));k=(k.length>0?k+`
`:"")+et[0]}else lt(C[0],!1),S=C.index+C[0].length;break;case"s":break;case"database-range":if(C[1]==="/")break;try{ke=C1(lt(C[0])["target-range-address"]),_[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(C[1]!=="/"){if(ne=lt(C[0],!1),!ne.href)break;ne.Target=Ut(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(ke=C1(ne.Target.slice(1)),ne.Target="#"+ke[0]+"!"+ke[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(C[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(C)}}var Y={Sheets:_,SheetNames:E,Workbook:Ae};return r.bookSheets&&delete Y.Sheets,Y}function My(e,t){t=t||{},Oi(e,"META-INF/manifest.xml")&&uM(Mr(e,"META-INF/manifest.xml"),t);var r=pi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=VS(ar(r),t);return Oi(e,"meta.xml")&&(n.Props=tS(Mr(e,"meta.xml"))),n}function By(e,t){return VS(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Rm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function np(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ar(Lo(e))}function ip(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function Ly(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function KV(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function G0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Yr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function In(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=G0(e,r),a=i&7;i=Math.floor(i/8);var l=0,u;if(i==0)break;switch(a){case 0:{for(var g=r[0];e[r[0]++]>=128;);u=e.slice(g,r[0])}break;case 5:l=4,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=G0(e,r),u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var p={data:u,type:a};t[i]==null?t[i]=[p]:t[i].push(p)}return t}function Nm(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function qV(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=G0(e,n),a=In(e.slice(n[0],n[0]+i));n[0]+=i;var l={id:Yr(a[1][0].data),messages:[]};a[2].forEach(function(u){var g=In(u.data),p=Yr(g[3][0].data);l.messages.push({meta:g,data:e.slice(n[0],n[0]+p)}),n[0]+=p}),(t=a[3])!=null&&t[0]&&(l.merge=Yr(a[3][0].data)>>>0>0),r.push(l)}return r}function ZV(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=G0(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var u=l-59;l=t[r[0]],u>1&&(l|=t[r[0]+1]<<8),u>2&&(l|=t[r[0]+2]<<16),u>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=u}i.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var g=0,p=0;if(a==1?(p=(t[r[0]]>>2&7)+4,g=(t[r[0]++]&224)<<3,g|=t[r[0]++]):(p=(t[r[0]++]>>2)+1,a==2?(g=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(g=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ip(i)],g==0)throw new Error("Invalid offset 0");if(g>i[0].length)throw new Error("Invalid offset beyond length");if(p>=g)for(i.push(i[0].slice(-g)),p-=g;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-g,-g+p))}}var m=ip(i);if(m.length!=n)throw new Error("Unexpected length: ".concat(m.length," != ").concat(n));return m}function QV(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(ZV(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return ip(t)}function JV(e,t,r,n){var i=Rm(e),a=i.getUint32(4,!0),l=(n>1?12:8)+Ly(a&(n>1?3470:398))*4,u=-1,g=-1,p=NaN,m=new Date(2001,0,1);a&512&&(u=i.getUint32(l,!0),l+=4),l+=Ly(a&(n>1?12288:4096))*4,a&16&&(g=i.getUint32(l,!0),l+=4),a&32&&(p=i.getFloat64(l,!0),l+=8),a&64&&(m.setTime(m.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var v;switch(e[2]){case 0:break;case 2:v={t:"n",v:p};break;case 3:v={t:"s",v:t[g]};break;case 5:v={t:"d",v:m};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(u>-1)v={t:"s",v:r[u]};else if(g>-1)v={t:"s",v:t[g]};else if(!isNaN(p))v={t:"n",v:p};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return v}function eH(e,t,r){var n=Rm(e),i=n.getUint32(8,!0),a=12,l=-1,u=-1,g=NaN,p=NaN,m=new Date(2001,0,1);i&1&&(g=KV(e,a),a+=16),i&2&&(p=n.getFloat64(a,!0),a+=8),i&4&&(m.setTime(m.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(u=n.getUint32(a,!0),a+=4),i&16&&(l=n.getUint32(a,!0),a+=4);var v;switch(e[1]){case 0:break;case 2:v={t:"n",v:g};break;case 3:v={t:"s",v:t[u]};break;case 5:v={t:"d",v:m};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(l>-1)v={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:v={t:"n",v:g};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return v}function tH(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return JV(e,t,r,e[0]);case 5:return eH(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Oa(e){var t=In(e);return G0(t[1][0].data)}function Uy(e,t){var r=In(t.data),n=Yr(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(l){var u=In(l.data),g=Yr(u[1][0].data)>>>0;switch(n){case 1:a[g]=np(u[3][0].data);break;case 8:{var p=e[Oa(u[9][0].data)][0],m=In(p.data),v=e[Oa(m[1][0].data)][0],_=Yr(v.meta[1][0].data);if(_!=2001)throw new Error("2000 unexpected reference to ".concat(_));var E=In(v.data);a[g]=E[3].map(function(A){return np(A.data)}).join("")}break}}),a}function rH(e,t){var r,n,i,a,l,u,g,p,m,v,_,E,A,C,I=In(e),b=Yr(I[1][0].data)>>>0,k=Yr(I[2][0].data)>>>0,S=((n=(r=I[8])==null?void 0:r[0])==null?void 0:n.data)&&Yr(I[8][0].data)>0||!1,L,q;if((a=(i=I[7])==null?void 0:i[0])!=null&&a.data&&t!=0)L=(u=(l=I[7])==null?void 0:l[0])==null?void 0:u.data,q=(p=(g=I[6])==null?void 0:g[0])==null?void 0:p.data;else if((v=(m=I[4])==null?void 0:m[0])!=null&&v.data&&t!=1)L=(E=(_=I[4])==null?void 0:_[0])==null?void 0:E.data,q=(C=(A=I[3])==null?void 0:A[0])==null?void 0:C.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var G=S?4:1,D=Rm(L),Z=[],j=0;j<L.length/2;++j){var oe=D.getUint16(j*2,!0);oe<65535&&Z.push([j,oe])}if(Z.length!=k)throw"Expected ".concat(k," cells, found ").concat(Z.length);var le=[];for(j=0;j<Z.length-1;++j)le[Z[j][0]]=q.subarray(Z[j][1]*G,Z[j+1][1]*G);return Z.length>=1&&(le[Z[Z.length-1][0]]=q.subarray(Z[Z.length-1][1]*G)),{R:b,cells:le}}function nH(e,t){var r,n=In(t.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Yr(n[7][0].data)>>>0>0?1:0:-1,a=Nm(n[5],function(l){return rH(l,i)});return{nrows:Yr(n[4][0].data)>>>0,data:a.reduce(function(l,u){return l[u.R]||(l[u.R]=[]),u.cells.forEach(function(g,p){if(l[u.R][p])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(p));l[u.R][p]=g}),l},[])}}function iH(e,t,r){var n,i=In(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Yr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Yr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Mt(a);var l=In(i[4][0].data),u=Uy(e,e[Oa(l[4][0].data)][0]),g=(n=l[17])!=null&&n[0]?Uy(e,e[Oa(l[17][0].data)][0]):[],p=In(l[3][0].data),m=0;p[1].forEach(function(v){var _=In(v.data),E=e[Oa(_[2][0].data)][0],A=Yr(E.meta[1][0].data);if(A!=6002)throw new Error("6001 unexpected reference to ".concat(A));var C=nH(e,E);C.data.forEach(function(I,b){I.forEach(function(k,S){var L=ft({r:m+b,c:S}),q=tH(k,u,g);q&&(r[L]=q)})}),m+=C.nrows})}function sH(e,t){var r=In(t.data),n={"!ref":"A1"},i=e[Oa(r[2][0].data)],a=Yr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return iH(e,i[0],n),n}function aH(e,t){var r,n=In(t.data),i={name:(r=n[1])!=null&&r[0]?np(n[1][0].data):"",sheets:[]},a=Nm(n[2],Oa);return a.forEach(function(l){e[l].forEach(function(u){var g=Yr(u.meta[1][0].data);g==6e3&&i.sheets.push(sH(e,u))})}),i}function oH(e,t){var r=Fm(),n=In(t.data),i=Nm(n[1],Oa);if(i.forEach(function(a){e[a].forEach(function(l){var u=Yr(l.meta[1][0].data);if(u==2){var g=aH(e,l);g.sheets.forEach(function(p,m){Pm(r,p,m==0?g.name:g.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function S1(e){var t,r,n,i,a={},l=[];if(e.FullPaths.forEach(function(g){if(g.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(g){if(g.name.match(/\.iwa$/)){var p;try{p=QV(g.content)}catch(v){return console.log("?? "+g.content.length+" "+(v.message||v))}var m;try{m=qV(p)}catch(v){return console.log("## "+(v.message||v))}m.forEach(function(v){a[v.id]=v.messages,l.push(v.id)})}}),!l.length)throw new Error("File has no messages");var u=((i=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Yr(a[1][0].meta[1][0].data)==1&&a[1][0];if(u||l.forEach(function(g){a[g].forEach(function(p){var m=Yr(p.meta[1][0].data)>>>0;if(m==1)if(!u)u=p;else throw new Error("Document has multiple roots")})}),!u)throw new Error("Cannot find Document root");return oH(a,u)}function lH(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Om(e){lH([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function cH(e){return pl.WS.indexOf(e)>-1?"sheet":e==pl.CS?"chart":e==pl.DS?"dialog":e==pl.MS?"macro":e&&e.length?e:"sheet"}function uH(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,cH(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function fH(e,t,r,n,i,a,l,u,g,p,m,v){try{a[n]=r0(pi(e,r,!0),t);var _=Mr(e,t),E;switch(u){case"sheet":E=mV(_,t,i,g,a[n],p,m,v);break;case"chart":if(E=wV(_,t,i,g,a[n],p,m,v),!E||!E["!drawel"])break;var A=Pc(E["!drawel"].Target,t),C=Qg(A),I=xU(pi(e,A,!0),r0(pi(e,C,!0),A)),b=Pc(I,A),k=Qg(b);E=eV(pi(e,b,!0),b,g,r0(pi(e,k,!0),b),p,E);break;case"macro":E=vV(_,t,i,g,a[n],p,m,v);break;case"dialog":E=yV(_,t,i,g,a[n],p,m,v);break;default:throw new Error("Unrecognized sheet type "+u)}l[n]=E;var S=[];a&&a[n]&&Cs(a[n]).forEach(function(L){var q="";if(a[n][L].Type==pl.CMNT){q=Pc(a[n][L].Target,t);var G=AV(Mr(e,q,!0),q,g);if(!G||!G.length)return;Ay(E,G,!1)}a[n][L].Type==pl.TCMNT&&(q=Pc(a[n][L].Target,t),S=S.concat(wU(Mr(e,q,!0),g)))}),S&&S.length&&Ay(E,S,!0,g.people||[])}catch(L){if(g.WTF)throw L}}function Ri(e){return e.charAt(0)=="/"?e.slice(1):e}function hH(e,t){if(T4(),t=t||{},Om(t),Oi(e,"META-INF/manifest.xml")||Oi(e,"objectdata.xml"))return My(e,t);if(Oi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof S1<"u"){if(e.FileIndex)return S1(e);var r=Pt.utils.cfb_new();return Zv(e).forEach(function(Se){dP(r,Se,hP(e,Se))}),S1(r)}throw new Error("Unsupported NUMBERS file")}if(!Oi(e,"[Content_Types].xml"))throw Oi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Oi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Zv(e),i=lM(pi(e,"[Content_Types].xml")),a=!1,l,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",Mr(e,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!Mr(e,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var g={},p={};if(!t.bookSheets&&!t.bookProps){if(s0=[],i.sst)try{s0=CV(Mr(e,Ri(i.sst)),i.sst,t)}catch(Se){if(t.WTF)throw Se}t.cellStyles&&i.themes.length&&(g=EV(pi(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(p=_V(Mr(e,Ri(i.style)),i.style,g,t))}i.links.map(function(Se){try{var ee=r0(pi(e,Qg(Ri(Se))),Se);return TV(Mr(e,Ri(Se)),ee,Se,t)}catch{}});var m=xV(Mr(e,Ri(i.workbooks[0])),i.workbooks[0],t),v={},_="";i.coreprops.length&&(_=Mr(e,Ri(i.coreprops[0]),!0),_&&(v=tS(_)),i.extprops.length!==0&&(_=Mr(e,Ri(i.extprops[0]),!0),_&&dM(_,v,t)));var E={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(_=pi(e,Ri(i.custprops[0]),!0),_&&(E=pM(_,t)));var A={};if((t.bookSheets||t.bookProps)&&(m.Sheets?l=m.Sheets.map(function(ee){return ee.name}):v.Worksheets&&v.SheetNames.length>0&&(l=v.SheetNames),t.bookProps&&(A.Props=v,A.Custprops=E),t.bookSheets&&typeof l<"u"&&(A.SheetNames=l),t.bookSheets?A.SheetNames:t.bookProps))return A;l={};var C={};t.bookDeps&&i.calcchain&&(C=SV(Mr(e,Ri(i.calcchain)),i.calcchain));var I=0,b={},k,S;{var L=m.Sheets;v.Worksheets=L.length,v.SheetNames=[];for(var q=0;q!=L.length;++q)v.SheetNames[q]=L[q].name}var G=a?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),Z=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");Oi(e,Z)||(Z="xl/_rels/workbook."+G+".rels");var j=r0(pi(e,Z,!0),Z.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=kV(Mr(e,Ri(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=vU(Mr(e,Ri(i.people[0])),t)),j&&(j=uH(j,m.Sheets));var oe=Mr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(I=0;I!=v.Worksheets;++I){var le="sheet";if(j&&j[I]?(k="xl/"+j[I][1].replace(/[\/]?xl\//,""),Oi(e,k)||(k=j[I][1]),Oi(e,k)||(k=Z.replace(/_rels\/.*$/,"")+j[I][1]),le=j[I][2]):(k="xl/worksheets/sheet"+(I+1-oe)+"."+G,k=k.replace(/sheet0\./,"sheet.")),S=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(I!=t.sheets)continue e;break;case"string":if(v.SheetNames[I].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var Q=!1,ye=0;ye!=t.sheets.length;++ye)typeof t.sheets[ye]=="number"&&t.sheets[ye]==I&&(Q=1),typeof t.sheets[ye]=="string"&&t.sheets[ye].toLowerCase()==v.SheetNames[I].toLowerCase()&&(Q=1);if(!Q)continue e}}fH(e,k,S,v.SheetNames[I],I,b,l,le,t,m,g,p)}return A={Directory:i,Workbook:m,Props:v,Custprops:E,Deps:C,Sheets:l,SheetNames:v.SheetNames,Strings:s0,Styles:p,Themes:g,SSF:mn(mt)},t&&t.bookFiles&&(e.files?(A.keys=n,A.files=e.files):(A.keys=[],A.files={},e.FullPaths.forEach(function(Se,ee){Se=Se.replace(/^Root Entry[\/]/,""),A.keys.push(Se),A.files[Se]=e.FileIndex[ee]}))),t&&t.bookVBA&&(i.vba.length>0?A.vbaraw=Mr(e,Ri(i.vba[0]),!0):i.defaults&&i.defaults.bin===CU&&(A.vbaraw=Mr(e,"xl/vbaProject.bin",!0))),A}function dH(e,t){var r=t||{},n="Workbook",i=Pt.find(e,n);try{if(n="/!DataSpaces/Version",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(sL(i.content),n="/!DataSpaces/DataSpaceMap",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=oL(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=lL(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);uL(i.content)}catch{}if(n="/EncryptionInfo",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var u=fL(i.content);if(n="/EncryptedPackage",i=Pt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(u[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(u[1],i.content,r.password||"",r);if(u[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(u[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Dm(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=_i(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function gH(e,t){return Pt.find(e,"EncryptedPackage")?dH(e,t):US(e,t)}function pH(e,t){var r,n=e,i=t||{};return i.type||(i.type=Ot&&Buffer.isBuffer(e)?"buffer":"base64"),r=O4(n,i),hH(r,i)}function HS(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return tp(e.slice(r),t);default:break e}return V0.to_workbook(e,t)}function xH(e,t){var r="",n=Dm(e,t);switch(t.type){case"base64":r=_i(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=To(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ar(r)),t.type="binary",HS(r,t)}function mH(e,t){var r=e;return t.type=="base64"&&(r=_i(r)),r=L0.utils.decode(1200,r.slice(2),"str"),t.type="binary",HS(r,t)}function wH(e){return e.match(/[^\x00-\x7F]/)?Mc(e):e}function T1(e,t,r,n){return n?(r.type="string",V0.to_workbook(e,r)):V0.to_workbook(t,r)}function sp(e,t){g4();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return sp(new Uint8Array(e),(r=mn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),bl={},r.dateNF&&(bl.dateNF=r.dateNF),r.type||(r.type=Ot&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ot?"buffer":"binary",n=sP(e),typeof Uint8Array<"u"&&!Ot&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=wH(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),u=new Uint8Array(l);if(u.foo="bar",!u.foo)return r=mn(r),r.type="array",sp(fm(n),r)}switch((i=Dm(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return gH(Pt.read(n,r),r);break;case 9:if(i[1]<=8)return US(n,r);break;case 60:return tp(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return XB(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return zB.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?pH(n,r):T1(e,n,r,a);case 239:return i[3]===60?tp(n,r):T1(e,n,r,a);case 255:if(i[1]===254)return mH(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return i0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return i0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Cy.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return CL.to_workbook(n,r);break;case 10:case 13:case 32:return xH(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return VB.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Cy.to_workbook(n,r):T1(e,n,r,a)}function vH(e,t,r,n,i,a,l,u){var g=wn(r),p=u.defval,m=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),v=!0,_=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:r,enumerable:!1})}catch{_.__rowNum__=r}else _.__rowNum__=r;if(!l||e[r])for(var E=t.s.c;E<=t.e.c;++E){var A=l?e[r][E]:e[n[E]+g];if(A===void 0||A.t===void 0){if(p===void 0)continue;a[E]!=null&&(_[a[E]]=p);continue}var C=A.v;switch(A.t){case"z":if(C==null)break;continue;case"e":C=C==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(a[E]!=null){if(C==null)if(A.t=="e"&&C===null)_[a[E]]=null;else if(p!==void 0)_[a[E]]=p;else if(m&&C===null)_[a[E]]=null;else continue;else _[a[E]]=m&&(A.t!=="n"||A.t==="n"&&u.rawNumbers!==!1)?C:$s(A,C,u);C!=null&&(v=!1)}}return{row:_,isempty:v}}function ap(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],l=0,u="",g={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},m=p.range!=null?p.range:e["!ref"];switch(p.header===1?n=1:p.header==="A"?n=2:Array.isArray(p.header)?n=3:p.header==null&&(n=0),typeof m){case"string":g=br(m);break;case"number":g=br(e["!ref"]),g.s.r=m;break;default:g=m}n>0&&(i=0);var v=wn(g.s.r),_=[],E=[],A=0,C=0,I=Array.isArray(e),b=g.s.r,k=0,S={};I&&!e[b]&&(e[b]=[]);var L=p.skipHidden&&e["!cols"]||[],q=p.skipHidden&&e["!rows"]||[];for(k=g.s.c;k<=g.e.c;++k)if(!(L[k]||{}).hidden)switch(_[k]=$r(k),r=I?e[b][k]:e[_[k]+v],n){case 1:a[k]=k-g.s.c;break;case 2:a[k]=_[k];break;case 3:a[k]=p.header[k-g.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=l=$s(r,null,p),C=S[l]||0,!C)S[l]=1;else{do u=l+"_"+C++;while(S[u]);S[l]=C,S[u]=1}a[k]=u}for(b=g.s.r+i;b<=g.e.r;++b)if(!(q[b]||{}).hidden){var G=vH(e,g,b,_,n,a,I,p);(G.isempty===!1||(n===1?p.blankrows!==!1:p.blankrows))&&(E[A++]=G.row)}return E.length=A,E}var jy=/"/g;function yH(e,t,r,n,i,a,l,u){for(var g=!0,p=[],m="",v=wn(r),_=t.s.c;_<=t.e.c;++_)if(n[_]){var E=u.dense?(e[r]||[])[_]:e[n[_]+v];if(E==null)m="";else if(E.v!=null){g=!1,m=""+(u.rawNumbers&&E.t=="n"?E.v:$s(E,null,u));for(var A=0,C=0;A!==m.length;++A)if((C=m.charCodeAt(A))===i||C===a||C===34||u.forceQuotes){m='"'+m.replace(jy,'""')+'"';break}m=="ID"&&(m='"ID"')}else E.f!=null&&!E.F?(g=!1,m="="+E.f,m.indexOf(",")>=0&&(m='"'+m.replace(jy,'""')+'"')):m="";p.push(m)}return u.blankrows===!1&&g?null:p.join(l)}function zS(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=br(e["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,g=u.charCodeAt(0),p=new RegExp((a=="|"?"\\|":a)+"+$"),m="",v=[];n.dense=Array.isArray(e);for(var _=n.skipHidden&&e["!cols"]||[],E=n.skipHidden&&e["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(_[A]||{}).hidden||(v[A]=$r(A));for(var C=0,I=i.s.r;I<=i.e.r;++I)(E[I]||{}).hidden||(m=yH(e,i,I,v,l,g,a,n),m!=null&&(n.strip&&(m=m.replace(p,"")),(m||n.blankrows!==!1)&&r.push((C++?u:"")+m)));return delete n.dense,r.join("")}function _H(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=zS(e,t);return r}function EH(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=br(e["!ref"]),a="",l=[],u,g=[],p=Array.isArray(e);for(u=i.s.c;u<=i.e.c;++u)l[u]=$r(u);for(var m=i.s.r;m<=i.e.r;++m)for(a=wn(m),u=i.s.c;u<=i.e.c;++u)if(t=l[u]+a,r=p?(e[m]||[])[u]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}g[g.length]=t+"="+n}return g}function GS(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},l=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var g=typeof n.origin=="string"?jn(n.origin):n.origin;l=g.r,u=g.c}var p,m={s:{c:0,r:0},e:{c:u,r:l+t.length-1+i}};if(a["!ref"]){var v=br(a["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),l==-1&&(l=v.e.r+1,m.e.r=l+t.length-1+i)}else l==-1&&(l=0,m.e.r=t.length-1+i);var _=n.header||[],E=0;t.forEach(function(C,I){Cs(C).forEach(function(b){(E=_.indexOf(b))==-1&&(_[E=_.length]=b);var k=C[b],S="z",L="",q=ft({c:u+E,r:l+I+i});p=X0(a,q),k&&typeof k=="object"&&!(k instanceof Date)?a[q]=k:(typeof k=="number"?S="n":typeof k=="boolean"?S="b":typeof k=="string"?S="s":k instanceof Date?(S="d",n.cellDates||(S="n",k=Gn(k)),L=n.dateNF||mt[14]):k===null&&n.nullError&&(S="e",k=0),p?(p.t=S,p.v=k,delete p.w,delete p.R,L&&(p.z=L)):a[q]=p={t:S,v:k},L&&(p.z=L))})}),m.e.c=Math.max(m.e.c,u+_.length-1);var A=wn(l);if(i)for(E=0;E<_.length;++E)a[$r(E+u)+A]={t:"s",v:_[E]};return a["!ref"]=Mt(m),a}function CH(e,t){return GS(null,e,t)}function X0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=jn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?X0(e,ft(t)):X0(e,ft({r:t,c:r||0}))}function AH(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Fm(){return{SheetNames:[],Sheets:{}}}function Pm(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var l=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=l+i)!=-1;++i);}if(lV(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function SH(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=AH(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function TH(e,t){return e.z=t,e}function XS(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function kH(e,t,r){return XS(e,"#"+t,r)}function bH(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function IH(e,t,r,n){for(var i=typeof t!="string"?t:br(t),a=typeof t=="string"?t:Mt(t),l=i.s.r;l<=i.e.r;++l)for(var u=i.s.c;u<=i.e.c;++u){var g=X0(e,l,u);g.t="n",g.F=a,delete g.v,l==i.s.r&&u==i.s.c&&(g.f=r,n&&(g.D=!0))}return e}var RH={encode_col:$r,encode_row:wn,encode_cell:ft,encode_range:Mt,decode_col:ym,decode_row:vm,split_cell:WP,decode_cell:jn,decode_range:sc,format_cell:$s,sheet_add_aoa:q4,sheet_add_json:GS,sheet_add_dom:jS,aoa_to_sheet:ac,json_to_sheet:CH,table_to_sheet:WS,table_to_book:XV,sheet_to_csv:zS,sheet_to_txt:_H,sheet_to_json:ap,sheet_to_html:GV,sheet_to_formulae:EH,sheet_to_row_object_array:ap,sheet_get_cell:X0,book_new:Fm,book_append_sheet:Pm,book_set_sheet_visibility:SH,cell_set_number_format:TH,cell_set_hyperlink:XS,cell_set_internal_link:kH,cell_add_comment:bH,sheet_set_array_formula:IH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const NH=()=>{const[e,t]=Ee.useState([]),[r,n]=Ee.useState({}),[i,a]=Ee.useState({}),[l,u]=Ee.useState(!0),[g,p]=Ee.useState(!1),[m,v]=Ee.useState(!1),[_,E]=Ee.useState(!1),[A,C]=Ee.useState(!1),[I,b]=Ee.useState(!1),[k,S]=Ee.useState(null),[L,q]=Ee.useState(null),[G,D]=Ee.useState(""),[Z,j]=Ee.useState(null),[oe,le]=Ee.useState(""),[Q,ye]=Ee.useState([]),[Se,ee]=Ee.useState(null),[Be,Ce]=Ee.useState(!1),[Ae,ne]=Ee.useState(new Date().toISOString().split("T")[0]),[ke,ce]=Ee.useState(new Date().toTimeString().slice(0,5)),[B,se]=Ee.useState([]),[K,te]=Ee.useState(null),[ae,Oe]=Ee.useState(null),[We,je]=Ee.useState(!1),[Re,et]=Ee.useState(null),[Y,Ze]=Ee.useState([]),[ct,ht]=Ee.useState({current:0,total:0}),[qe,Ie]=Ee.useState(1),tt=5,[Ye,Fr]=Ee.useState({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0});Ee.useEffect(()=>{Ge()},[]);const Ge=async()=>{try{u(!0);const ie=await Jr.getAllProducts();t(ie);const Ve={},Xe={};for(const rt of ie)Ve[rt.id]=await Jr.getUnitsWithBarcodeCount(rt.id),Xe[rt.id]=await Jr.getReadyStock(rt.id);n(Ve),a(Xe);const ot=ie.filter(rt=>rt.stock<=rt.minStock);ye(ot)}catch(ie){console.error("Error loading products:",ie)}finally{u(!1)}},ln=ie=>{const{name:Ve,value:Xe,type:ot,checked:rt}=ie.target;Fr(gt=>({...gt,[Ve]:ot==="checkbox"?rt:Xe}))},oi=async ie=>{ie.preventDefault();try{const Ve={...Ye,price:parseFloat(Ye.price),stock:Ye.useBarcode?0:parseInt(Ye.stock),minStock:parseInt(Ye.minStock)};m&&Z?await Jr.updateProduct(Z.id,Ve):await Jr.createProduct(Ve),p(!1),v(!1),Fr({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0}),Ge()}catch(Ve){console.error("Error saving product:",Ve)}},Qt=ie=>{j(ie),Fr({name:ie.name,category:ie.category,price:ie.price.toString(),stock:ie.stock.toString(),minStock:ie.minStock.toString(),useBarcode:ie.useBarcode!==!1}),v(!0)},_n=async ie=>{if((await It.fire({title:"Hapus Produk?",text:"Apakah Anda yakin ingin menghapus produk ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed)try{await Jr.deleteProduct(ie),await It.fire({title:"Berhasil!",text:"Produk berhasil dihapus.",icon:"success",timer:2e3,showConfirmButton:!1}),Ge()}catch(Xe){console.error("Error deleting product:",Xe),await It.fire({title:"Error!",text:"Gagal menghapus produk.",icon:"error"})}},_r=async ie=>{try{const Ve=await Jr.getProductByBarcode(ie);Ve?(ee(Ve),C(!0)):await It.fire({title:"Produk Tidak Ditemukan",text:"Barcode tidak terdaftar dalam sistem.",icon:"warning"})}catch(Ve){console.error("Error checking stock:",Ve),await It.fire({title:"Error!",text:"Gagal memeriksa stok.",icon:"error"})}E(!1),S(null)},zi=ie=>{q(ie),D(""),b(!0)},Jt=async ie=>{try{if(!L)return;await Jr.addBarcodeToProduct(L,ie),await It.fire({title:"Berhasil!",text:"Barcode berhasil di-assign.",icon:"success",timer:2e3,showConfirmButton:!1}),q(null),S(null),E(!1),Ge()}catch(Ve){await It.fire({title:"Error!",text:Ve.message||"Gagal assign barcode",icon:"error"}),q(null),S(null),E(!1)}},Xt=async()=>{if(!G.trim()){await It.fire({title:"Perhatian!",text:"Masukkan barcode terlebih dahulu.",icon:"warning"});return}try{await Jr.addBarcodeToProduct(L,G.trim()),await It.fire({title:"Berhasil!",text:"Barcode berhasil di-assign.",icon:"success",timer:2e3,showConfirmButton:!1}),b(!1),q(null),D(""),Ge()}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal assign barcode"})}},dt=async()=>{try{const ie=Dt(Ft,`stockAuditsByDate/${Ae}`),Ve=await Qr(ie);let Xe=[];if(Ve.exists()){const gt=(Ve.val()||{}).results||{};Xe=e.map(xr=>{const dr=gt[xr.id],Kr=!!dr;return{...xr,physicalStock:(dr==null?void 0:dr.physicalStock)??null,databaseStock:xr.stock,readyStock:i[xr.id]||0,status:Kr?"completed":"pending"}})}else await di(Dt(Ft,`stockAuditsByDate/${Ae}/meta`),{date:Ae,createdAt:Date.now()}),Xe=e.map(rt=>({...rt,physicalStock:null,databaseStock:rt.stock,readyStock:i[rt.id]||0,status:"pending"}));se(Xe);const ot=Xe.find(rt=>rt.status==="pending")||null;te(ot),Oe(ot?ot.useBarcode!==!1?"barcode":"manual":null)}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal memulai audit.",icon:"error"})}},$t=async ie=>{try{const Ve=await Jr.getProductByBarcode(ie);if(!(Ve&&K&&Ve.id===K.id)){await It.fire({title:"Barcode Salah",text:"Barcode tidak sesuai produk yang diaudit.",icon:"warning"}),E(!1);return}const Xe=Dt(Ft,`productUnits/${Ve.id}`),ot=await Qr(Xe);if(!ot.exists()){await It.fire({title:"Tidak Ada Unit",text:"Tidak ada unit untuk produk ini.",icon:"warning"}),E(!1);return}const rt=ot.val(),gt=Object.entries(rt).find(([M,U])=>U.barcode===ie&&U.status==="in_stock");if(!gt){await It.fire({title:"Unit Tidak Ditemukan",text:"Unit barcode tidak tersedia/in-stock.",icon:"warning"}),E(!1);return}const[xr]=gt,dr=B.find(M=>M.id===K.id),Kr=Array.isArray(dr==null?void 0:dr.scannedUnits)?dr.scannedUnits.slice():[];if(Kr.includes(xr)){await It.fire({title:"Duplikat Scan",text:"Unit ini sudah discan untuk produk ini.",icon:"info"}),E(!1);return}Kr.push(xr);const Ht=Kr.length,li={productId:Ve.id,name:Ve.name,useBarcode:Ve.useBarcode!==!1,databaseStock:K.databaseStock,readyStock:K.readyStock,physicalStock:Ht,scannedUnits:Kr,status:"pending",updatedAt:Date.now()};await di(Dt(Ft,`stockAuditsByDate/${Ae}/results/${Ve.id}`),li);const F=B.map(M=>M.id===K.id?{...M,physicalStock:Ht,scannedUnits:Kr,status:"pending"}:M);se(F),te(M=>M&&M.id===Ve.id?{...M,physicalStock:Ht,scannedUnits:Kr}:M),await It.fire({title:"Tersimpan",text:`Ter-scan: ${Ht} unit`,icon:"success",timer:1200,showConfirmButton:!1})}catch(Ve){console.error("Error scanning barcode:",Ve),await It.fire({title:"Error!",text:"Gagal memindai barcode.",icon:"error"})}E(!1)},cn=async(ie,Ve)=>{try{const Xe=B.find(xr=>xr.id===ie);if(!Xe)return;const ot={productId:ie,name:Xe.name,useBarcode:Xe.useBarcode!==!1,databaseStock:Xe.databaseStock,readyStock:Xe.readyStock,physicalStock:parseInt(Ve),status:"completed",updatedAt:Date.now()};await di(Dt(Ft,`stockAuditsByDate/${Ae}/results/${ie}`),ot);const rt=B.map(xr=>xr.id===ie?{...xr,physicalStock:parseInt(Ve),status:"completed"}:xr);se(rt);const gt=rt.find(xr=>xr.status==="pending");gt?(te(gt),Oe(gt.useBarcode!==!1?"barcode":"manual")):(te(null),Oe(null))}catch(Xe){await It.fire({title:"Error!",text:Xe.message||"Gagal menyimpan hasil item.",icon:"error"})}},pt=async()=>{try{if(!K)return;const ie=B.find(gt=>gt.id===K.id),Ve=Array.isArray(ie==null?void 0:ie.scannedUnits)?ie.scannedUnits.length:(ie==null?void 0:ie.physicalStock)??0,Xe={productId:K.id,name:K.name,useBarcode:K.useBarcode!==!1,databaseStock:K.databaseStock,readyStock:K.readyStock,physicalStock:Ve,scannedUnits:Array.isArray(ie==null?void 0:ie.scannedUnits)?ie.scannedUnits:[],status:"completed",updatedAt:Date.now()};await di(Dt(Ft,`stockAuditsByDate/${Ae}/results/${K.id}`),Xe);const ot=B.map(gt=>gt.id===K.id?{...gt,physicalStock:Ve,status:"completed"}:gt);se(ot);const rt=ot.find(gt=>gt.status==="pending");rt?(te(rt),Oe(rt.useBarcode!==!1?"barcode":"manual")):(te(null),Oe(null))}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal menyelesaikan item.",icon:"error"})}},Me=e.filter(ie=>{if(!ie||!ie.name||!ie.category)return!1;const Ve=oe.toLowerCase(),Xe=ie.name.toLowerCase().includes(Ve),ot=ie.category.toLowerCase().includes(Ve);return Xe||ot}),At=Math.ceil(Me.length/tt),jt=(qe-1)*tt,er=jt+tt,Gi=Me.slice(jt,er);if(Ee.useEffect(()=>{Ie(1)},[oe]),l)return N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:N.jsx("div",{className:"spinner"})});const Qs=async()=>{try{const ie=Dt(Ft,"stockAudits"),Ve=dl(ie),Xe={id:Ve.key,date:Ae,time:ke,createdAt:Date.now(),results:B.map(ot=>({productId:ot.id,name:ot.name,useBarcode:ot.useBarcode!==!1,databaseStock:ot.databaseStock,readyStock:ot.readyStock,physicalStock:ot.physicalStock,status:ot.status}))};await di(Ve,Xe),await It.fire({title:"Tersimpan!",text:"Laporan audit berhasil disimpan.",icon:"success",timer:2e3,showConfirmButton:!1})}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal menyimpan laporan audit.",icon:"error"})}},Ga=()=>{try{const ie=`Laporan Stock Audit - ${Ae} ${ke}`,Ve=B.map(rt=>{const gt=rt.physicalStock!==null?rt.physicalStock-rt.databaseStock:null,xr=rt.status==="completed"?gt===0?"Balance":`${gt>0?"+":""}${gt}`:"Pending",dr=rt.status==="completed"?gt===0||gt>0?"#10b981":"#ef4444":"#f59e0b",Kr=rt.status==="completed"?gt===0||gt>0?"#10b98120":"#ef444420":"#f59e0b20";return`
          <tr>
            <td>${rt.name||"-"}</td>
            <td style="text-align:center;">${rt.useBarcode!==!1?"Barcode":"Manual"}</td>
            <td style="text-align:right;">${rt.databaseStock??"-"}</td>
            <td style="text-align:right;">${rt.physicalStock??"-"}</td>
            <td style="text-align:center;">
              <span style="background-color: ${Kr}; color: ${dr}; padding: 4px 8px; border-radius: 4px; font-weight: 500;">
                ${xr}
              </span>
            </td>
          </tr>
        `}).join(""),Xe=`
        <html>
          <head>
            <meta charset="utf-8" />
            <title>${ie}</title>
            <style>
              body { font-family: Arial, Helvetica, sans-serif; color: #111827; padding: 24px; }
              h1 { font-size: 18px; margin: 0 0 4px 0; }
              p { margin: 0 0 16px 0; color: #6b7280; }
              table { width: 100%; border-collapse: collapse; }
              th, td { border: 1px solid #e5e7eb; padding: 8px; font-size: 12px; }
              th { background: #f3f4f6; text-align: left; }
              tfoot td { font-weight: 600; }
              .meta { margin-bottom: 16px; }
              @media print {
                @page { size: A4; margin: 16mm; }
              }
            </style>
          </head>
          <body>
            <h1>${ie}</h1>
            <p class="meta">Total item selesai: ${B.filter(rt=>rt.status==="completed").length}/${B.length}</p>
            <table>
              <thead>
                <tr>
                  <th>Produk</th>
                  <th style="text-align:center;">Mode</th>
                  <th style="text-align:right;">Database Stock</th>
                  <th style="text-align:right;">Fisik Stock</th>
                  <th style="text-align:center;">Status</th>
                </tr>
              </thead>
              <tbody>
                ${Ve}
              </tbody>
            </table>
          </body>
        </html>
      `,ot=window.open("","_blank","width=1024,height=768");if(!ot)return;ot.document.open(),ot.document.write(Xe),ot.document.close(),ot.focus(),setTimeout(()=>{ot.print()},300)}catch(ie){It.fire({title:"Error!",text:ie.message||"Gagal mengekspor PDF.",icon:"error"})}},Nt=ie=>{const Ve=ie.target.files[0];Ve&&(et(Ve),Xi(Ve))},Xi=ie=>{const Ve=new FileReader;Ve.onload=Xe=>{try{const ot=new Uint8Array(Xe.target.result),rt=sp(ot,{type:"array"}),gt=rt.SheetNames[0],xr=rt.Sheets[gt],Kr=RH.sheet_to_json(xr,{header:1}).slice(1).map((Ht,li)=>{var F,M,U;return!Ht[0]||!Ht[1]||!Ht[2]?null:{name:((F=Ht[0])==null?void 0:F.toString().trim())||"",category:((M=Ht[1])==null?void 0:M.toString().trim())||"",price:parseFloat(Ht[2])||0,stock:parseInt(Ht[3])||0,minStock:parseInt(Ht[4])||0,useBarcode:((U=Ht[5])==null?void 0:U.toString().toLowerCase())==="true"||!1,rowIndex:li+2}}).filter(Boolean);Ze(Kr)}catch{It.fire({title:"Error!",text:"Gagal membaca file Excel.",icon:"error"})}},Ve.readAsArrayBuffer(ie)},ks=ie=>{const Ve=[];return ie.forEach((Xe,ot)=>{Xe.name||Ve.push(`Baris ${Xe.rowIndex}: Nama produk kosong`),Xe.category||Ve.push(`Baris ${Xe.rowIndex}: Kategori kosong`),Xe.price<=0&&Ve.push(`Baris ${Xe.rowIndex}: Harga harus lebih dari 0`),Xe.stock<0&&Ve.push(`Baris ${Xe.rowIndex}: Stock tidak boleh negatif`),Xe.minStock<0&&Ve.push(`Baris ${Xe.rowIndex}: Min stock tidak boleh negatif`)}),Ve},Ho=async()=>{try{const ie=ks(Y);if(ie.length>0){await It.fire({title:"Data Tidak Valid!",html:ie.slice(0,5).join("<br>")+(ie.length>5?"<br>...dan lainnya":""),icon:"error"});return}ht({current:0,total:Y.length});for(let Ve=0;Ve<Y.length;Ve++){const Xe=Y[Ve];await Jr.createProduct({name:Xe.name,category:Xe.category,price:Xe.price,stock:Xe.useBarcode?0:Xe.stock,minStock:Xe.minStock,useBarcode:Xe.useBarcode}),ht({current:Ve+1,total:Y.length})}await It.fire({title:"Berhasil!",text:`${Y.length} produk berhasil diimpor.`,icon:"success"}),je(!1),et(null),Ze([]),ht({current:0,total:0}),Ge()}catch(ie){await It.fire({title:"Error!",text:ie.message||"Gagal mengimpor produk.",icon:"error"})}};return N.jsxs("div",{style:{padding:"1.5rem"},children:[N.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"}}),Q.length>0&&N.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center"},children:[N.jsx(Cg,{size:20,style:{color:"#dc2626",marginRight:"0.5rem"}}),N.jsxs("div",{children:[N.jsx("h3",{style:{fontWeight:"500",color:"#991b1b",margin:0,fontSize:"0.875rem"},children:"Stok Rendah!"}),N.jsxs("p",{style:{fontSize:"0.75rem",color:"#dc2626",marginTop:"0.25rem",margin:0},children:[Q.length," produk memiliki stok di bawah minimum"]})]})]}),N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[N.jsxs("div",{style:{backgroundColor:"#f9fafb",padding:"1rem 1.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",flexDirection:window.innerWidth<=768?"column":"row",alignItems:window.innerWidth<=768?"stretch":"center",justifyContent:"space-between",gap:"1rem"},children:[N.jsxs("div",{style:{position:"relative",flex:window.innerWidth<=768?"none":"1",maxWidth:window.innerWidth<=768?"none":"300px"},children:[N.jsx(pC,{size:20,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),N.jsx("input",{type:"text",placeholder:"Cari produk...",value:oe,onChange:ie=>le(ie.target.value),style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",width:window.innerWidth<=768?"100%":"auto"},children:[N.jsxs("button",{onClick:()=>Ce(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[N.jsx(gC,{size:20}),"Stock Audit"]}),N.jsxs("button",{onClick:()=>je(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[N.jsx(Xc,{size:20}),"Import Excel"]}),N.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"transparent",color:"#111827",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",flex:window.innerWidth<=768?"1":"none",minWidth:window.innerWidth<=768?"0":"auto"},children:[N.jsx(Ag,{size:20}),"Produk"]})]})]}),N.jsxs("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch",display:window.innerWidth<=768?"none":"block"},children:[N.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[N.jsx("thead",{style:{backgroundColor:"#f9fafb"},children:N.jsxs("tr",{children:[N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Produk"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Ready Stock"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Kategori"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Stok"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Harga"}),N.jsx("th",{style:{padding:"0.75rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"500",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid #e5e7eb"},children:"Aksi"})]})}),N.jsx("tbody",{children:Gi.map(ie=>N.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[N.jsx("td",{style:{padding:"1rem 1.5rem"},children:N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx(Xc,{size:20,style:{color:"#9ca3af",marginRight:"0.75rem"}}),N.jsx("div",{children:N.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:ie.name})})]})}),N.jsxs("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx("span",{style:{fontWeight:"600",color:(ie.useBarcode===!1?ie.stock:i[ie.id]||0)>0?"#059669":"#dc2626"},children:ie.useBarcode===!1?ie.stock:i[ie.id]||0}),N.jsxs("span",{style:{color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",ie.stock," unit"]})]}),N.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:ie.useBarcode!==!1?"Dengan barcode":"Tanpa barcode"})]}),N.jsx("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:ie.category}),N.jsxs("td",{style:{padding:"1rem 1.5rem"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:ie.stock<=ie.minStock?"#dc2626":"#111827"},children:ie.stock}),N.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",ie.minStock," min"]})]}),N.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:ie.useBarcode!==!1?"Dihitung dari unit":"Manual"})]}),N.jsxs("td",{style:{padding:"1rem 1.5rem",fontSize:"0.875rem",color:"#111827"},children:["Rp ",ie.price.toLocaleString("id-ID")]}),N.jsx("td",{style:{padding:"1rem 1.5rem"},children:N.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[N.jsx("button",{onClick:()=>Qt(ie),style:{color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:N.jsx(pw,{size:16})}),ie.useBarcode!==!1&&N.jsx("button",{onClick:()=>zi(ie.id),style:{color:"#10b981",background:"none",border:"1px dashed #10b981",borderRadius:"0.375rem",cursor:"pointer",padding:"0.25rem 0.5rem",fontSize:"0.75rem"},title:"Assign barcode via scan",children:N.jsx(Oc,{size:14})}),N.jsx("button",{onClick:()=>_n(ie.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:N.jsx(Sg,{size:16})})]})})]},ie.id))})]}),At>1&&N.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"1rem",padding:"1rem"},children:[N.jsx("button",{onClick:()=>Ie(ie=>Math.max(ie-1,1)),disabled:qe===1,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:qe===1?"#f9fafb":"white",color:qe===1?"#9ca3af":"#374151",cursor:qe===1?"not-allowed":"pointer",transition:"all 0.2s"},children:N.jsx(dw,{size:20})}),N.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",minWidth:"100px",textAlign:"center"},children:[qe," / ",At]}),N.jsx("button",{onClick:()=>Ie(ie=>Math.min(ie+1,At)),disabled:qe===At,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:qe===At?"#f9fafb":"white",color:qe===At?"#9ca3af":"#374151",cursor:qe===At?"not-allowed":"pointer",transition:"all 0.2s"},children:N.jsx(gw,{size:20})})]})]}),N.jsxs("div",{style:{display:window.innerWidth<=768?"block":"none"},children:[Gi.map(ie=>N.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{style:{flex:1},children:[N.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:N.jsxs("div",{children:[N.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:ie.name}),N.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:ie.category})]})}),N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[N.jsxs("div",{children:[N.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:(ie.useBarcode===!1?ie.stock:i[ie.id]||0)>0?"#059669":"#dc2626"},children:["Ready ",ie.useBarcode===!1?ie.stock:i[ie.id]||0]}),N.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280",marginLeft:"0.25rem"},children:["/ ",ie.stock]})]}),N.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Rp ",ie.price.toLocaleString("id-ID")]})]}),N.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:ie.useBarcode!==!1?"Dengan barcode":"Tanpa barcode"})]}),N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginLeft:"1rem"},children:[N.jsx("button",{onClick:()=>Qt(ie),style:{color:"#2563eb",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Edit",children:N.jsx(pw,{size:14})}),ie.useBarcode!==!1&&N.jsx("button",{onClick:()=>zi(ie.id),style:{color:"#10b981",background:"none",border:"1px dashed #10b981",borderRadius:"0.25rem",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Assign Barcode",children:N.jsx(Oc,{size:14})}),N.jsx("button",{onClick:()=>_n(ie.id),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",fontSize:"0.75rem"},title:"Delete",children:N.jsx(Sg,{size:14})})]})]},ie.id)),At>1&&N.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",marginTop:"1rem",padding:"1rem"},children:[N.jsx("button",{onClick:()=>Ie(ie=>Math.max(ie-1,1)),disabled:qe===1,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:qe===1?"#f9fafb":"white",color:qe===1?"#9ca3af":"#374151",cursor:qe===1?"not-allowed":"pointer",transition:"all 0.2s"},children:N.jsx(dw,{size:20})}),N.jsxs("span",{style:{fontSize:"0.875rem",color:"#6b7280",minWidth:"100px",textAlign:"center"},children:[qe," / ",At]}),N.jsx("button",{onClick:()=>Ie(ie=>Math.min(ie+1,At)),disabled:qe===At,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",backgroundColor:qe===At?"#f9fafb":"white",color:qe===At?"#9ca3af":"#374151",cursor:qe===At?"not-allowed":"pointer",transition:"all 0.2s"},children:N.jsx(gw,{size:20})})]})]})]}),(g||m)&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:g?"Tambah Produk":"Edit Produk"}),N.jsxs("form",{onSubmit:oi,children:[N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Nama Produk"}),N.jsx("input",{type:"text",name:"name",value:Ye.name,onChange:ln,required:!0,className:"form-input"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Kategori"}),N.jsxs("select",{name:"category",value:Ye.category,onChange:ln,required:!0,className:"form-select",children:[N.jsx("option",{value:"",children:"Pilih Kategori"}),N.jsx("option",{value:"IQOS Device",children:"IQOS Device"}),N.jsx("option",{value:"HEETS",children:"HEETS"}),N.jsx("option",{value:"Aksesoris",children:"Aksesoris"}),N.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Harga"}),N.jsx("input",{type:"number",name:"price",value:Ye.price,onChange:ln,required:!0,min:"0",step:"0.01",className:"form-input",placeholder:"Harga jual produk"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Gunakan Barcode"}),N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.jsx("input",{type:"checkbox",name:"useBarcode",checked:Ye.useBarcode,onChange:ln,style:{width:"1rem",height:"1rem"}}),N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Centang jika produk menggunakan barcode untuk tracking unit"})]}),Ye.useBarcode&&N.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#0369a1"},children:[N.jsx("strong",{children:"Info:"}),' Stok akan dihitung otomatis dari jumlah unit yang memiliki barcode. Field "Stok Awal" akan di-disable.']}),!Ye.useBarcode&&N.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.75rem",backgroundColor:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"0.375rem",fontSize:"0.75rem",color:"#92400e"},children:[N.jsx("strong",{children:"Info:"}),' Produk tanpa barcode menggunakan input stok manual. Field "Stok Awal" akan di-enable untuk input manual.']})]}),N.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Stok Awal"}),N.jsx("input",{type:"number",name:"stock",value:Ye.stock,onChange:ln,required:!Ye.useBarcode,disabled:Ye.useBarcode,min:"0",className:"form-input",placeholder:Ye.useBarcode?"Dihitung otomatis":"Jumlah stok awal",style:{opacity:Ye.useBarcode?.6:1,backgroundColor:Ye.useBarcode?"#f9fafb":"white",cursor:Ye.useBarcode?"not-allowed":"text"}})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Stok Minimum"}),N.jsx("input",{type:"number",name:"minStock",value:Ye.minStock,onChange:ln,required:!0,min:"0",className:"form-input",placeholder:"Minimum stock untuk alert"})]})]})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1.5rem"},children:[N.jsx("button",{type:"button",onClick:()=>{p(!1),v(!1),Fr({name:"",category:"",price:"",stock:"",minStock:"",useBarcode:!0})},className:"btn btn-secondary",style:{flex:1},children:"Batal"}),N.jsx("button",{type:"submit",className:"btn btn-primary",style:{flex:1},children:g?"Tambah":"Update"})]})]})]})}),I&&L&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Assign Barcode ke Unit"}),N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsx("label",{className:"form-label",children:"Input Barcode Manual"}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("input",{type:"text",value:G,onChange:ie=>D(ie.target.value),placeholder:"Masukkan barcode...",className:"form-input",style:{flex:1}}),N.jsx("button",{onClick:Xt,className:"btn btn-primary",style:{padding:"0.5rem 1rem"},children:"Assign"})]})]}),N.jsxs("div",{style:{textAlign:"center",marginBottom:"1rem",padding:"1rem",backgroundColor:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e5e7eb"},children:[N.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0 0 0.5rem 0"},children:"Atau scan barcode dengan kamera"}),N.jsxs("button",{onClick:()=>{b(!1),S("assign"),E(!0)},style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500",margin:"0 auto"},children:[N.jsx(Oc,{size:16}),"Scan Barcode"]})]}),N.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:N.jsx("button",{onClick:()=>{b(!1),q(null),D("")},className:"btn btn-secondary",style:{flex:1},children:"Tutup"})})]})}),A&&Se&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Informasi Stok Produk"}),N.jsxs("div",{style:{backgroundColor:Se.stock<=Se.minStock?"#fef2f2":"#f0fdf4",border:`1px solid ${Se.stock<=Se.minStock?"#fecaca":"#bbf7d0"}`,borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[N.jsx(Xc,{size:20,style:{color:Se.stock<=Se.minStock?"#dc2626":"#059669",marginRight:"0.5rem"}}),N.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",color:Se.stock<=Se.minStock?"#991b1b":"#065f46",margin:0},children:Se.name})]}),N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Unit ID:"}),N.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:Se.matchedUnitId||"-"})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Kategori:"}),N.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:Se.category})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Stok Saat Ini:"}),N.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:Se.stock<=Se.minStock?"#dc2626":"#059669"},children:[Se.stock," unit"]})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Stok Minimum:"}),N.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:[Se.minStock," unit"]})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Harga:"}),N.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:["Rp ",Se.price.toLocaleString("id-ID")]})]})]}),Se.stock<=Se.minStock&&N.jsx("div",{style:{marginTop:"0.75rem",padding:"0.5rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.25rem"},children:N.jsxs("p",{style:{fontSize:"0.75rem",color:"#991b1b",margin:0,display:"flex",alignItems:"center"},children:[N.jsx(Cg,{size:14,style:{marginRight:"0.25rem"}}),"Stok rendah! Segera lakukan restocking."]})})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>{C(!1),ee(null)},className:"btn btn-secondary",style:{flex:1},children:"Tutup"}),N.jsx("button",{onClick:()=>{C(!1),ee(null),E(!0)},className:"btn btn-primary",style:{flex:1},children:"Scan Lagi"})]})]})}),Be&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",style:{maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Stock Audit Report"}),N.jsxs("div",{className:"audit-inputs",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[N.jsxs("div",{style:{flex:1},children:[N.jsx("label",{className:"form-label",children:"Tanggal"}),N.jsx("input",{type:"date",value:Ae,onChange:ie=>ne(ie.target.value),className:"form-input",style:{fontSize:"0.875rem",padding:"0.5rem"}})]}),N.jsxs("div",{style:{flex:1},children:[N.jsx("label",{className:"form-label",children:"Waktu"}),N.jsx("input",{type:"time",value:ke,onChange:ie=>ce(ie.target.value),className:"form-input",style:{fontSize:"0.875rem",padding:"0.5rem"}})]})]}),B.length===0&&N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>Ce(!1),className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Tutup"}),N.jsx("button",{onClick:dt,className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Mulai Stock Audit"})]}),K&&N.jsxs("div",{style:{backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1.5rem"},children:[N.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem",margin:0},children:K.name}),N.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.5rem",margin:0},children:["Stock : ",K.databaseStock]}),ae==="manual"?N.jsx("div",{children:N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("input",{type:"number",min:"0",placeholder:"Jumlah stock fisik",className:"form-input",style:{flex:1},onKeyPress:ie=>{if(ie.key==="Enter"){const Ve=ie.target.value;Ve&&(cn(K.id,Ve),ie.target.value="")}}}),N.jsx("button",{onClick:ie=>{const Ve=ie.target.previousElementSibling;Ve.value&&(cn(K.id,Ve.value),Ve.value="")},className:"btn btn-primary",children:"Submit"})]})}):N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"0.5rem",margin:0},children:"Scan barcode untuk menghitung stock fisik"}),N.jsxs("button",{onClick:()=>E(!0),className:"btn btn-primary",style:{width:"100%"},children:[N.jsx(Oc,{size:20,style:{marginRight:"0.5rem"}}),"Scan Barcode"]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.5rem",fontSize:"0.75rem",color:"#6b7280"},children:[N.jsxs("span",{children:["Ter-scan: ",Array.isArray(K.scannedUnits)?K.scannedUnits.length:K.physicalStock??0," unit"]}),N.jsxs("span",{children:["Var: ",(()=>{const Ve=(Array.isArray(K.scannedUnits)?K.scannedUnits.length:K.physicalStock??0)-(K.databaseStock??0);return`${Ve>0?"+":""}${Ve}`})()]})]}),N.jsx("button",{onClick:pt,className:"btn btn-secondary",style:{width:"100%",marginTop:"0.5rem"},children:"Selesaikan Item"})]})]}),B.length>0&&N.jsxs("div",{children:[N.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:["Hasil Audit (",B.filter(ie=>ie.status==="completed").length,"/",B.length,")"]}),N.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:B.map(ie=>{const Ve=ie.physicalStock!==null?ie.physicalStock-ie.databaseStock:null,Xe=ie.physicalStock!==null?ie.physicalStock-ie.readyStock:null,ot=Ve!==null&&Ve!==0,rt=Xe!==null&&Xe!==0,gt=Ve!==null&&Ve<0||Xe!==null&&Xe<0;return N.jsx("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem",marginBottom:"0.5rem",backgroundColor:ie.status==="completed"?gt?"#fef2f2":"#f0fdf4":"#fefce8",borderLeft:ot||rt?"4px solid #ef4444":"4px solid #10b981"},children:N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{children:[N.jsx("h5",{style:{fontSize:"0.875rem",fontWeight:"500",margin:0},children:ie.name}),N.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:ie.useBarcode!==!1?"Barcode":"Manual"})]}),N.jsxs("div",{style:{textAlign:"right"},children:[N.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Stock : ",ie.databaseStock]}),ie.status==="completed"?N.jsxs("div",{children:[N.jsxs("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#059669"},children:["Fisik: ",ie.physicalStock]}),(ot||rt)&&N.jsx("div",{style:{fontSize:"0.7rem",marginTop:"0.25rem"},children:rt&&N.jsxs("span",{style:{color:Xe>0?"#059669":"#ef4444",fontWeight:"500"},children:[Xe>0?"+":"",Xe]})})]}):N.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#f59e0b"},children:"Pending"})]})]})},ie.id)})})]}),B.length>0&&N.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[N.jsx("button",{onClick:()=>{Ce(!1),se([]),te(null),Oe(null)},className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Tutup"}),N.jsx("button",{onClick:Ga,className:"btn btn-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Export PDF"}),N.jsx("button",{onClick:async()=>{await di(Dt(Ft,`stockAuditsByDate/${Ae}/meta/`),{date:Ae,updatedAt:Date.now()}),await Qs()},className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:"Simpan Laporan"})]})]})}),We&&N.jsx("div",{className:"modal-overlay",onClick:()=>je(!1),children:N.jsxs("div",{className:"modal",style:{maxWidth:"600px",maxHeight:"80vh",overflow:"auto"},onClick:ie=>ie.stopPropagation(),children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Import Produk dari Excel"}),N.jsxs("div",{style:{marginBottom:"1.5rem"},children:[N.jsx("label",{className:"form-label",children:"Format Excel:"}),N.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem"},children:"Kolom: Nama | Kategori | Harga | Stock | Min Stock | Use Barcode (true/false)"}),N.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Nt,className:"form-input",style:{padding:"0.5rem"}})]}),Y.length>0&&N.jsxs("div",{style:{marginBottom:"1.5rem"},children:[N.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem"},children:["Preview Data (",Y.length," produk)"]}),N.jsxs("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #e5e7eb",borderRadius:"0.5rem"},children:[N.jsxs("table",{style:{width:"100%",fontSize:"0.75rem"},children:[N.jsx("thead",{style:{backgroundColor:"#f3f4f6"},children:N.jsxs("tr",{children:[N.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Nama"}),N.jsx("th",{style:{padding:"0.5rem",textAlign:"left"},children:"Kategori"}),N.jsx("th",{style:{padding:"0.5rem",textAlign:"right"},children:"Harga"}),N.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Stock"}),N.jsx("th",{style:{padding:"0.5rem",textAlign:"center"},children:"Barcode"})]})}),N.jsx("tbody",{children:Y.slice(0,10).map((ie,Ve)=>N.jsxs("tr",{children:[N.jsx("td",{style:{padding:"0.5rem"},children:ie.name}),N.jsx("td",{style:{padding:"0.5rem"},children:ie.category}),N.jsx("td",{style:{padding:"0.5rem",textAlign:"right"},children:ie.price.toLocaleString()}),N.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:ie.stock}),N.jsx("td",{style:{padding:"0.5rem",textAlign:"center"},children:ie.useBarcode?"Ya":"Tidak"})]},Ve))})]}),Y.length>10&&N.jsxs("div",{style:{padding:"0.5rem",textAlign:"center",color:"#6b7280"},children:["...dan ",Y.length-10," produk lainnya"]})]})]}),ct.total>0&&N.jsxs("div",{style:{marginBottom:"1.5rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[N.jsx("span",{style:{fontSize:"0.875rem"},children:"Progress Import"}),N.jsxs("span",{style:{fontSize:"0.875rem"},children:[ct.current,"/",ct.total]})]}),N.jsx("div",{style:{width:"100%",backgroundColor:"#e5e7eb",borderRadius:"0.25rem",height:"8px"},children:N.jsx("div",{style:{width:`${ct.current/ct.total*100}%`,backgroundColor:"#10b981",height:"100%",borderRadius:"0.25rem",transition:"width 0.3s ease"}})})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>{je(!1),et(null),Ze([]),ht({current:0,total:0})},className:"btn btn-secondary",style:{flex:1},children:"Batal"}),N.jsx("button",{onClick:Ho,disabled:Y.length===0||ct.total>0,className:"btn btn-primary",style:{flex:1},children:ct.total>0?"Mengimpor...":"Import Produk"})]})]})}),N.jsx(wA,{isOpen:_,onScan:k==="assign"?Jt:k==="check"?_r:$t,onClose:()=>{E(!1),S(null),q(null)}})]})},OH=()=>{const[e,t]=Ee.useState([]),[r,n]=Ee.useState({}),[i,a]=Ee.useState([]),[l,u]=Ee.useState(!0),[g,p]=Ee.useState(!1),[m,v]=Ee.useState(null),[_,E]=Ee.useState(null),[A,C]=Ee.useState(""),[I,b]=Ee.useState("all"),[k,S]=Ee.useState({name:"",phone:""}),[L,q]=Ee.useState("cash"),[G,D]=Ee.useState(!1),[Z,j]=Ee.useState(null);Ee.useEffect(()=>{oe()},[]);const oe=async()=>{try{u(!0);const ce=await Jr.getAllProducts(),B={};for(const K of ce)B[K.id]=await Jr.getReadyStock(K.id);n(B);const se=ce.filter(K=>B[K.id]>0);t(se)}catch(ce){console.error("Error loading products:",ce)}finally{u(!1)}},le=async ce=>{try{const B=await Jr.getProductByBarcode(ce);B?m==="add"?Q(B):m==="increase"&&_?Se(_):Q(B):await It.fire({title:"Produk Tidak Ditemukan",text:"Barcode tidak terdaftar dalam sistem.",icon:"warning"})}catch(B){console.error("Error scanning barcode:",B),await It.fire({title:"Error!",text:"Gagal memindai barcode.",icon:"error"})}p(!1),v(null),E(null)},Q=ce=>{if(i.find(se=>se.productId===ce.id))Se(ce.id);else{if((r[ce.id]||0)<=0){It.fire({title:"Stok Habis",text:"Stok siap jual untuk produk ini habis.",icon:"warning"});return}a([...i,{productId:ce.id,productName:ce.name,quantity:1,price:ce.price,total:ce.price}])}},ye=ce=>{a(i.filter(B=>B.productId!==ce))},Se=ce=>{if(!e.find(te=>te.id===ce))return;const se=r[ce]||0,K=i.find(te=>te.productId===ce);if(K){if(K.quantity>=se){It.fire({title:"Stok Tidak Cukup",text:`Maksimal quantity: ${se}`,icon:"warning"});return}const te=K.quantity+1;a(i.map(ae=>ae.productId===ce?{...ae,quantity:te,total:te*ae.price}:ae))}},ee=(ce,B)=>{if(B<=0){ye(ce);return}const se=r[ce]||0;if(B>se){It.fire({title:"Stok Tidak Cukup",text:`Maksimal quantity: ${se}`,icon:"warning"});return}a(i.map(K=>K.productId===ce?{...K,quantity:B,total:B*K.price}:K))},Be=()=>i.reduce((ce,B)=>ce+B.total,0),Ce=ce=>{ce.useBarcode!==!1?(v("add"),E(ce.id),p(!0)):Q(ce)},Ae=ce=>{const B=e.find(se=>se.id===ce);B&&B.useBarcode!==!1?(v("increase"),E(ce),p(!0)):Se(ce)},ne=async()=>{if(i.length===0){await It.fire({title:"Keranjang Kosong",text:"Tambahkan produk ke keranjang terlebih dahulu.",icon:"warning"});return}try{const ce={items:i,totalAmount:Be(),customerName:k.name,customerPhone:k.phone,paymentMethod:L},B=await gA.createSale(ce);j(B),D(!0),a([]),S({name:"",phone:""}),q("cash"),oe()}catch(ce){console.error("Error creating sale:",ce),await It.fire({title:"Error!",text:"Gagal melakukan penjualan.",icon:"error"})}},ke=e.filter(ce=>{if(!ce||!ce.name||!ce.category)return!1;const B=A.toLowerCase(),se=ce.name.toLowerCase().includes(B),K=ce.category.toLowerCase().includes(B),te=se||K;let ae=!0;return I==="barcode"?ae=ce.useBarcode!==!1:I==="manual"&&(ae=ce.useBarcode===!1),te&&ae});return l?N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:N.jsx("div",{className:"spinner"})}):N.jsxs("div",{style:{padding:"1.5rem"},children:[N.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"2fr 1fr",gap:"1rem"},children:[N.jsx("div",{children:N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[N.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Daftar Produk"}),N.jsxs("button",{onClick:()=>p(!0),style:{backgroundColor:"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[N.jsx(Oc,{size:20}),"Scan Barcode"]})]}),N.jsxs("div",{style:{marginBottom:"1rem"},children:[N.jsxs("div",{style:{position:"relative",marginBottom:"0.75rem"},children:[N.jsx(pC,{size:20,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),N.jsx("input",{type:"text",placeholder:"Cari produk...",value:A,onChange:ce=>C(ce.target.value),style:{width:"100%",paddingLeft:"2.5rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"}})]}),N.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>b("all"),style:{backgroundColor:I==="all"?"#3b82f6":"#f3f4f6",color:I==="all"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Semua"}),N.jsx("button",{onClick:()=>b("barcode"),style:{backgroundColor:I==="barcode"?"#3b82f6":"#f3f4f6",color:I==="barcode"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Dengan Barcode"}),N.jsx("button",{onClick:()=>b("manual"),style:{backgroundColor:I==="manual"?"#3b82f6":"#f3f4f6",color:I==="manual"?"white":"#374151",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",border:"none",cursor:"pointer",fontSize:"0.75rem",fontWeight:"500"},children:"Manual"})]})]}),N.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",maxHeight:window.innerWidth<=768?"20rem":"24rem",overflowY:"auto"},children:ke.map(ce=>N.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem",transition:"box-shadow 0.2s"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[N.jsx("h3",{style:{fontWeight:"500",color:"#111827",margin:0,fontSize:"0.875rem"},children:ce.name}),N.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:ce.category})]}),N.jsxs("div",{style:{marginBottom:"0.5rem"},children:[N.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:["Barcode: ",ce.useBarcode!==!1?"Per unit":ce.barcode||"-"]}),N.jsx("span",{style:{fontSize:"0.625rem",padding:"0.125rem 0.375rem",borderRadius:"0.25rem",backgroundColor:ce.useBarcode!==!1?"#dbeafe":"#f3f4f6",color:ce.useBarcode!==!1?"#1e40af":"#6b7280",fontWeight:"500"},children:ce.useBarcode!==!1?"Dengan Barcode":"Manual"})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("span",{style:{fontWeight:"600",color:"#2563eb",fontSize:"0.875rem"},children:["Rp ",ce.price.toLocaleString("id-ID")]}),N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.jsxs("span",{style:{fontSize:"0.75rem",color:(r[ce.id]||0)>0?"#059669":"#dc2626"},children:["Ready: ",r[ce.id]||0]}),N.jsx("button",{onClick:()=>Ce(ce),disabled:(r[ce.id]||0)<=0,style:{backgroundColor:(r[ce.id]||0)<=0?"#d1d5db":"#3b82f6",color:"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:(r[ce.id]||0)<=0?"not-allowed":"pointer",fontSize:"0.75rem"},title:(r[ce.id]||0)<=0?"Stok habis":ce.useBarcode!==!1?"Scan barcode untuk menambah":"Tambah ke keranjang",children:N.jsx(Ag,{size:16})})]})]})]},ce.id))})]})}),N.jsx("div",{children:N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem"},children:[N.jsxs("h2",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0,display:"flex",alignItems:"center"},children:[N.jsx(nx,{size:20,style:{marginRight:"0.5rem"}}),"Keranjang"]}),N.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem",maxHeight:"16rem",overflowY:"auto"},children:i.map(ce=>N.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"0.75rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[N.jsx("h4",{style:{fontWeight:"500",fontSize:"0.75rem",color:"#111827",margin:0},children:ce.productName}),N.jsx("button",{onClick:()=>ye(ce.productId),style:{color:"#dc2626",background:"none",border:"none",cursor:"pointer",padding:"0.25rem"},children:N.jsx(Sg,{size:14})})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.jsx("button",{onClick:()=>ee(ce.productId,ce.quantity-1),style:{backgroundColor:"#e5e7eb",color:"#374151",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:"pointer",fontSize:"0.75rem"},"aria-label":"Kurangi qty (akan menghapus item)",children:N.jsx(Zb,{size:12})}),N.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"500"},children:ce.quantity}),N.jsx("button",{onClick:()=>Ae(ce.productId),disabled:ce.quantity>=(r[ce.productId]||0),style:{backgroundColor:ce.quantity>=(r[ce.productId]||0)?"#e5e7eb":"#3b82f6",color:ce.quantity>=(r[ce.productId]||0)?"#9ca3af":"white",padding:"0.25rem",borderRadius:"0.25rem",border:"none",cursor:ce.quantity>=(r[ce.productId]||0)?"not-allowed":"pointer",fontSize:"0.75rem"},title:ce.quantity>=(r[ce.productId]||0)?"Stok tidak cukup":"Tambah quantity",children:N.jsx(Ag,{size:12})})]}),N.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:"600"},children:["Rp ",ce.total.toLocaleString("id-ID")]})]})]},ce.productId))}),N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1rem"},children:[N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Nama"}),N.jsx("input",{type:"text",value:k.name,onChange:ce=>S(B=>({...B,name:ce.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"No. HP"}),N.jsx("input",{type:"text",value:k.phone,onChange:ce=>S(B=>({...B,phone:ce.target.value})),className:"form-input",style:{fontSize:"0.75rem"}})]}),N.jsxs("div",{children:[N.jsx("label",{className:"form-label",children:"Metode Pembayaran"}),N.jsxs("select",{value:L,onChange:ce=>q(ce.target.value),className:"form-select",style:{fontSize:"0.75rem"},children:[N.jsx("option",{value:"cash",children:"Tunai"}),N.jsx("option",{value:"qris",children:"QRIS"}),N.jsx("option",{value:"card",children:"Kartu"}),N.jsx("option",{value:"transfer",children:"Transfer"})]})]})]}),N.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"1rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[N.jsx("span",{style:{fontSize:"1.125rem",fontWeight:"600"},children:"Total"}),N.jsxs("span",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#2563eb"},children:["Rp ",Be().toLocaleString("id-ID")]})]}),N.jsx("button",{onClick:ne,disabled:i.length===0,style:{width:"100%",backgroundColor:i.length===0?"#d1d5db":"#10b981",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:i.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:"Checkout"})]})]})})]}),N.jsx(wA,{isOpen:g,onScan:le,onClose:()=>{p(!1),v(null),E(null)}}),G&&Z&&N.jsx("div",{className:"modal-overlay",children:N.jsxs("div",{className:"modal",children:[N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",margin:0},children:"Struk Penjualan"}),N.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1rem"},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{children:"No. Transaksi:"}),N.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.75rem"},children:Z.id})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{children:"Tanggal:"}),N.jsx("span",{children:new Date(Z.createdAt).toLocaleString("id-ID")})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{children:"Pelanggan:"}),N.jsx("span",{children:Z.customerName||"-"})]}),N.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[N.jsx("span",{children:"Pembayaran:"}),N.jsx("span",{style:{textTransform:"capitalize"},children:Z.paymentMethod})]})]}),N.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem",marginBottom:"1rem"},children:[N.jsx("h4",{style:{fontWeight:"500",marginBottom:"0.5rem",margin:0},children:"Item:"}),Z.items.map((ce,B)=>N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem"},children:[N.jsxs("span",{children:[ce.productName," x",ce.quantity]}),N.jsxs("span",{children:["Rp ",ce.total.toLocaleString("id-ID")]})]},B))]}),N.jsx("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"0.5rem",marginBottom:"1rem"},children:N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"600"},children:[N.jsx("span",{children:"Total:"}),N.jsxs("span",{children:["Rp ",Z.totalAmount.toLocaleString("id-ID")]})]})}),N.jsx("button",{onClick:()=>D(!1),className:"btn btn-primary",style:{width:"100%"},children:"Tutup"})]})})]})},DH=()=>{const[e,t]=Ee.useState(!1),[r,n]=Ee.useState(!1),[i,a]=Ee.useState(!1);return Ee.useEffect(()=>{const l=()=>{const u=window.innerWidth;t(u<=768),n(u>768&&u<=1024),a(u>1024)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]),{isMobile:e,isTablet:r,isDesktop:i}},FH=()=>{const{isMobile:e}=DH(),[t,r]=Ee.useState({totalProducts:0,lowStockProducts:0,totalSales:0,totalRevenue:0}),[n,i]=Ee.useState(!0),[a,l]=Ee.useState([]);Ee.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const[p,m]=await Promise.all([Jr.getAllProducts(),gA.getAllSales()]),v=p.filter(A=>A.stock<=A.minStock),_=m.reduce((A,C)=>A+C.totalAmount,0);r({totalProducts:p.length,lowStockProducts:v.length,totalSales:m.length,totalRevenue:_});const E=m.sort((A,C)=>C.createdAt-A.createdAt).slice(0,5);l(E)}catch(p){console.error("Error loading dashboard data:",p)}finally{i(!1)}},g=({title:p,value:m,icon:v,color:_})=>N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem",display:"flex",alignItems:"center"},children:[N.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:_+"20",marginRight:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:N.jsx(v,{size:24,style:{color:_}})}),N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#6b7280",margin:0},children:p}),N.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#111827",margin:0},children:m})]})]});return n?N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"16rem"},children:N.jsx("div",{className:"spinner"})}):N.jsxs("div",{style:{padding:"1.5rem"},children:[N.jsxs("div",{style:{display:"grid",gridTemplateColumns:e?"1fr":"repeat(auto-fit, minmax(250px, 1fr))",gap:e?"1rem":"1.5rem",marginBottom:"1.5rem"},children:[N.jsx(g,{title:"Total Produk",value:t.totalProducts,icon:Xc,color:"#3b82f6"}),N.jsx(g,{title:"Stok Rendah",value:t.lowStockProducts,icon:Cg,color:"#ef4444"}),N.jsx(g,{title:"Total Penjualan",value:t.totalSales,icon:nx,color:"#10b981"}),N.jsx(g,{title:"Total Revenue",value:`Rp ${t.totalRevenue.toLocaleString("id-ID")}`,icon:Qb,color:"#8b5cf6"})]}),N.jsxs("div",{style:{background:"white",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[N.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:N.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#111827",margin:0},children:"Penjualan Terbaru"})}),N.jsx("div",{style:{padding:"1.5rem"},children:a.length>0?N.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:a.map(p=>N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:"0.5rem",borderBottom:"1px solid #f3f4f6"},children:[N.jsxs("div",{children:[N.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827",margin:0},children:p.customerName||"Pelanggan Umum"}),N.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:new Date(p.createdAt).toLocaleDateString("id-ID")})]}),N.jsxs("div",{style:{textAlign:"right"},children:[N.jsxs("p",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#059669",margin:0},children:["Rp ",p.totalAmount.toLocaleString("id-ID")]}),N.jsxs("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:0},children:[p.items.length," item"]})]})]},p.id))}):N.jsx("p",{style:{color:"#6b7280",textAlign:"center",padding:"1rem",margin:0},children:"Belum ada penjualan"})})]})]})},PH=()=>{const e=J0(),t=[{path:"/",icon:qb,label:"Dashboard"},{path:"/inventory",icon:Xc,label:"Inventory"},{path:"/sales",icon:nx,label:"Penjualan"}];return N.jsx("nav",{className:"nav",children:N.jsxs("div",{className:"nav-container",children:[N.jsx(uw,{to:"/",className:"nav-brand",children:N.jsx("span",{className:"mobile-hidden",children:"IQOS"})}),N.jsx("ul",{className:"nav-menu",children:t.map(r=>{const n=r.icon,i=e.pathname===r.path;return N.jsx("li",{children:N.jsxs(uw,{to:r.path,className:`nav-link ${i?"active":""}`,children:[N.jsx(n,{size:18}),r.label]})},r.path)})})]})})},MH=()=>N.jsx(Hb,{children:N.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb"},children:[N.jsx(PH,{}),N.jsx("main",{className:"container",children:N.jsxs(Mb,{children:[N.jsx(gf,{path:"/",element:N.jsx(FH,{})}),N.jsx(gf,{path:"/inventory",element:N.jsx(NH,{})}),N.jsx(gf,{path:"/sales",element:N.jsx(OH,{})})]})})]})});k1.createRoot(document.getElementById("root")).render(N.jsx(Jy.StrictMode,{children:N.jsx(MH,{})}));
